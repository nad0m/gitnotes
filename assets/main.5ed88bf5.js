var wR=Object.defineProperty,xR=Object.defineProperties;var kR=Object.getOwnPropertyDescriptors;var oS=Object.getOwnPropertySymbols;var CR=Object.prototype.hasOwnProperty,SR=Object.prototype.propertyIsEnumerable;var lS=(t,e,r)=>e in t?wR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i2=(t,e)=>{for(var r in e||(e={}))CR.call(e,r)&&lS(t,r,e[r]);if(oS)for(var r of oS(e))SR.call(e,r)&&lS(t,r,e[r]);return t},o2=(t,e)=>xR(t,kR(e));const ER=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}};ER();var sS=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},re={exports:{}},Dr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av=Symbol.for("react.element"),_R=Symbol.for("react.portal"),TR=Symbol.for("react.fragment"),OR=Symbol.for("react.strict_mode"),AR=Symbol.for("react.profiler"),MR=Symbol.for("react.provider"),IR=Symbol.for("react.context"),DR=Symbol.for("react.forward_ref"),LR=Symbol.for("react.suspense"),PR=Symbol.for("react.memo"),NR=Symbol.for("react.lazy"),uS=Symbol.iterator;function jR(t){return t===null||typeof t!="object"?null:(t=uS&&t[uS]||t["@@iterator"],typeof t=="function"?t:null)}var aO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iO=Object.assign,oO={};function Cp(t,e,r){this.props=t,this.context=e,this.refs=oO,this.updater=r||aO}Cp.prototype.isReactComponent={};Cp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lO(){}lO.prototype=Cp.prototype;function U5(t,e,r){this.props=t,this.context=e,this.refs=oO,this.updater=r||aO}var K5=U5.prototype=new lO;K5.constructor=U5;iO(K5,Cp.prototype);K5.isPureReactComponent=!0;var cS=Array.isArray,sO=Object.prototype.hasOwnProperty,W5={current:null},uO={key:!0,ref:!0,__self:!0,__source:!0};function cO(t,e,r){var n,i={},o=null,c=null;if(e!=null)for(n in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(o=""+e.key),e)sO.call(e,n)&&!uO.hasOwnProperty(n)&&(i[n]=e[n]);var f=arguments.length-2;if(f===1)i.children=r;else if(1<f){for(var m=Array(f),x=0;x<f;x++)m[x]=arguments[x+2];i.children=m}if(t&&t.defaultProps)for(n in f=t.defaultProps,f)i[n]===void 0&&(i[n]=f[n]);return{$$typeof:Av,type:t,key:o,ref:c,props:i,_owner:W5.current}}function RR(t,e){return{$$typeof:Av,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $5(t){return typeof t=="object"&&t!==null&&t.$$typeof===Av}function FR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var fS=/\/+/g;function qw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FR(""+t.key):e.toString(36)}function G2(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var c=!1;if(t===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case Av:case _R:c=!0}}if(c)return c=t,i=i(c),t=n===""?"."+qw(c,0):n,cS(i)?(r="",t!=null&&(r=t.replace(fS,"$&/")+"/"),G2(i,e,r,"",function(x){return x})):i!=null&&($5(i)&&(i=RR(i,r+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(fS,"$&/")+"/")+t)),e.push(i)),1;if(c=0,n=n===""?".":n+":",cS(t))for(var f=0;f<t.length;f++){o=t[f];var m=n+qw(o,f);c+=G2(o,e,r,m,i)}else if(m=jR(t),typeof m=="function")for(t=m.call(t),f=0;!(o=t.next()).done;)o=o.value,m=n+qw(o,f++),c+=G2(o,e,r,m,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function l2(t,e,r){if(t==null)return t;var n=[],i=0;return G2(t,n,"","",function(o){return e.call(r,o,i++)}),n}function zR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mi={current:null},V2={transition:null},BR={ReactCurrentDispatcher:Mi,ReactCurrentBatchConfig:V2,ReactCurrentOwner:W5};Dr.Children={map:l2,forEach:function(t,e,r){l2(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return l2(t,function(){e++}),e},toArray:function(t){return l2(t,function(e){return e})||[]},only:function(t){if(!$5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dr.Component=Cp;Dr.Fragment=TR;Dr.Profiler=AR;Dr.PureComponent=U5;Dr.StrictMode=OR;Dr.Suspense=LR;Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BR;Dr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=iO({},t.props),i=t.key,o=t.ref,c=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,c=W5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var f=t.type.defaultProps;for(m in e)sO.call(e,m)&&!uO.hasOwnProperty(m)&&(n[m]=e[m]===void 0&&f!==void 0?f[m]:e[m])}var m=arguments.length-2;if(m===1)n.children=r;else if(1<m){f=Array(m);for(var x=0;x<m;x++)f[x]=arguments[x+2];n.children=f}return{$$typeof:Av,type:t.type,key:i,ref:o,props:n,_owner:c}};Dr.createContext=function(t){return t={$$typeof:IR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MR,_context:t},t.Consumer=t};Dr.createElement=cO;Dr.createFactory=function(t){var e=cO.bind(null,t);return e.type=t,e};Dr.createRef=function(){return{current:null}};Dr.forwardRef=function(t){return{$$typeof:DR,render:t}};Dr.isValidElement=$5;Dr.lazy=function(t){return{$$typeof:NR,_payload:{_status:-1,_result:t},_init:zR}};Dr.memo=function(t,e){return{$$typeof:PR,type:t,compare:e===void 0?null:e}};Dr.startTransition=function(t){var e=V2.transition;V2.transition={};try{t()}finally{V2.transition=e}};Dr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Dr.useCallback=function(t,e){return Mi.current.useCallback(t,e)};Dr.useContext=function(t){return Mi.current.useContext(t)};Dr.useDebugValue=function(){};Dr.useDeferredValue=function(t){return Mi.current.useDeferredValue(t)};Dr.useEffect=function(t,e){return Mi.current.useEffect(t,e)};Dr.useId=function(){return Mi.current.useId()};Dr.useImperativeHandle=function(t,e,r){return Mi.current.useImperativeHandle(t,e,r)};Dr.useInsertionEffect=function(t,e){return Mi.current.useInsertionEffect(t,e)};Dr.useLayoutEffect=function(t,e){return Mi.current.useLayoutEffect(t,e)};Dr.useMemo=function(t,e){return Mi.current.useMemo(t,e)};Dr.useReducer=function(t,e,r){return Mi.current.useReducer(t,e,r)};Dr.useRef=function(t){return Mi.current.useRef(t)};Dr.useState=function(t){return Mi.current.useState(t)};Dr.useSyncExternalStore=function(t,e,r){return Mi.current.useSyncExternalStore(t,e,r)};Dr.useTransition=function(){return Mi.current.useTransition()};Dr.version="18.0.0-fc46dba67-20220329";re.exports=Dr;var HR=re.exports,Ai={exports:{}},Oo={},fO={exports:{}},dO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ye,Pe){var ze=ye.length;ye.push(Pe);e:for(;0<ze;){var Ze=ze-1>>>1,G=ye[Ze];if(0<i(G,Pe))ye[Ze]=Pe,ye[ze]=G,ze=Ze;else break e}}function r(ye){return ye.length===0?null:ye[0]}function n(ye){if(ye.length===0)return null;var Pe=ye[0],ze=ye.pop();if(ze!==Pe){ye[0]=ze;e:for(var Ze=0,G=ye.length,A=G>>>1;Ze<A;){var zt=2*(Ze+1)-1,Ht=ye[zt],Zt=zt+1,Ne=ye[Zt];if(0>i(Ht,ze))Zt<G&&0>i(Ne,Ht)?(ye[Ze]=Ne,ye[Zt]=ze,Ze=Zt):(ye[Ze]=Ht,ye[zt]=ze,Ze=zt);else if(Zt<G&&0>i(Ne,ze))ye[Ze]=Ne,ye[Zt]=ze,Ze=Zt;else break e}}return Pe}function i(ye,Pe){var ze=ye.sortIndex-Pe.sortIndex;return ze!==0?ze:ye.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],x=[],E=1,b=null,S=3,g=!1,O=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(ye){for(var Pe=r(x);Pe!==null;){if(Pe.callback===null)n(x);else if(Pe.startTime<=ye)n(x),Pe.sortIndex=Pe.expirationTime,e(m,Pe);else break;Pe=r(x)}}function I(ye){if(C=!1,F(ye),!O)if(r(m)!==null)O=!0,Oe(q);else{var Pe=r(x);Pe!==null&&Fe(I,Pe.startTime-ye)}}function q(ye,Pe){O=!1,C&&(C=!1,P(ne),ne=-1),g=!0;var ze=S;try{for(F(Pe),b=r(m);b!==null&&(!(b.expirationTime>Pe)||ye&&!ie());){var Ze=b.callback;if(typeof Ze=="function"){b.callback=null,S=b.priorityLevel;var G=Ze(b.expirationTime<=Pe);Pe=t.unstable_now(),typeof G=="function"?b.callback=G:b===r(m)&&n(m),F(Pe)}else n(m);b=r(m)}if(b!==null)var A=!0;else{var zt=r(x);zt!==null&&Fe(I,zt.startTime-Pe),A=!1}return A}finally{b=null,S=ze,g=!1}}var V=!1,te=null,ne=-1,W=5,de=-1;function ie(){return!(t.unstable_now()-de<W)}function ue(){if(te!==null){var ye=t.unstable_now();de=ye;var Pe=!0;try{Pe=te(!0,ye)}finally{Pe?ve():(V=!1,te=null)}}else V=!1}var ve;if(typeof D=="function")ve=function(){D(ue)};else if(typeof MessageChannel!="undefined"){var pe=new MessageChannel,xe=pe.port2;pe.port1.onmessage=ue,ve=function(){xe.postMessage(null)}}else ve=function(){N(ue,0)};function Oe(ye){te=ye,V||(V=!0,ve())}function Fe(ye,Pe){ne=N(function(){ye(t.unstable_now())},Pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ye){ye.callback=null},t.unstable_continueExecution=function(){O||g||(O=!0,Oe(q))},t.unstable_forceFrameRate=function(ye){0>ye||125<ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ye?Math.floor(1e3/ye):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return r(m)},t.unstable_next=function(ye){switch(S){case 1:case 2:case 3:var Pe=3;break;default:Pe=S}var ze=S;S=Pe;try{return ye()}finally{S=ze}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ye,Pe){switch(ye){case 1:case 2:case 3:case 4:case 5:break;default:ye=3}var ze=S;S=ye;try{return Pe()}finally{S=ze}},t.unstable_scheduleCallback=function(ye,Pe,ze){var Ze=t.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?Ze+ze:Ze):ze=Ze,ye){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ze+G,ye={id:E++,callback:Pe,priorityLevel:ye,startTime:ze,expirationTime:G,sortIndex:-1},ze>Ze?(ye.sortIndex=ze,e(x,ye),r(m)===null&&ye===r(x)&&(C?(P(ne),ne=-1):C=!0,Fe(I,ze-Ze))):(ye.sortIndex=G,e(m,ye),O||g||(O=!0,Oe(q))),ye},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(ye){var Pe=S;return function(){var ze=S;S=Pe;try{return ye.apply(this,arguments)}finally{S=ze}}}})(dO);fO.exports=dO;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hO=re.exports,_o=fO.exports;function lt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pO=new Set,Bm={};function ad(t,e){rp(t,e),rp(t+"Capture",e)}function rp(t,e){for(Bm[t]=e,t=0;t<e.length;t++)pO.add(e[t])}var Iu=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),d6=Object.prototype.hasOwnProperty,UR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dS={},hS={};function KR(t){return d6.call(hS,t)?!0:d6.call(dS,t)?!1:UR.test(t)?hS[t]=!0:(dS[t]=!0,!1)}function WR(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $R(t,e,r,n){if(e===null||typeof e=="undefined"||WR(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ii(t,e,r,n,i,o,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=c}var Va={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Va[t]=new Ii(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Va[e]=new Ii(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Va[t]=new Ii(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Va[t]=new Ii(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Va[t]=new Ii(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Va[t]=new Ii(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Va[t]=new Ii(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Va[t]=new Ii(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Va[t]=new Ii(t,5,!1,t.toLowerCase(),null,!1,!1)});var G5=/[\-:]([a-z])/g;function V5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(G5,V5);Va[e]=new Ii(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(G5,V5);Va[e]=new Ii(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(G5,V5);Va[e]=new Ii(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Va[t]=new Ii(t,1,!1,t.toLowerCase(),null,!1,!1)});Va.xlinkHref=new Ii("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Va[t]=new Ii(t,1,!1,t.toLowerCase(),null,!0,!0)});function q5(t,e,r,n){var i=Va.hasOwnProperty(e)?Va[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($R(e,r,i,n)&&(r=null),n||i===null?KR(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ru=hO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s2=Symbol.for("react.element"),Mh=Symbol.for("react.portal"),Ih=Symbol.for("react.fragment"),Y5=Symbol.for("react.strict_mode"),h6=Symbol.for("react.profiler"),mO=Symbol.for("react.provider"),vO=Symbol.for("react.context"),X5=Symbol.for("react.forward_ref"),p6=Symbol.for("react.suspense"),m6=Symbol.for("react.suspense_list"),Z5=Symbol.for("react.memo"),Nc=Symbol.for("react.lazy"),gO=Symbol.for("react.offscreen"),pS=Symbol.iterator;function Q1(t){return t===null||typeof t!="object"?null:(t=pS&&t[pS]||t["@@iterator"],typeof t=="function"?t:null)}var Vn=Object.assign,Yw;function dm(t){if(Yw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Yw=e&&e[1]||""}return`
`+Yw+t}var Xw=!1;function Zw(t,e){if(!t||Xw)return"";Xw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(x){var n=x}Reflect.construct(t,[],e)}else{try{e.call()}catch(x){n=x}t.call(e.prototype)}else{try{throw Error()}catch(x){n=x}t()}}catch(x){if(x&&n&&typeof x.stack=="string"){for(var i=x.stack.split(`
`),o=n.stack.split(`
`),c=i.length-1,f=o.length-1;1<=c&&0<=f&&i[c]!==o[f];)f--;for(;1<=c&&0<=f;c--,f--)if(i[c]!==o[f]){if(c!==1||f!==1)do if(c--,f--,0>f||i[c]!==o[f]){var m=`
`+i[c].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=c&&0<=f);break}}}finally{Xw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?dm(t):""}function GR(t){switch(t.tag){case 5:return dm(t.type);case 16:return dm("Lazy");case 13:return dm("Suspense");case 19:return dm("SuspenseList");case 0:case 2:case 15:return t=Zw(t.type,!1),t;case 11:return t=Zw(t.type.render,!1),t;case 1:return t=Zw(t.type,!0),t;default:return""}}function v6(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ih:return"Fragment";case Mh:return"Portal";case h6:return"Profiler";case Y5:return"StrictMode";case p6:return"Suspense";case m6:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vO:return(t.displayName||"Context")+".Consumer";case mO:return(t._context.displayName||"Context")+".Provider";case X5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z5:return e=t.displayName||null,e!==null?e:v6(t.type)||"Memo";case Nc:e=t._payload,t=t._init;try{return v6(t(e))}catch{}}return null}function VR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return v6(e);case 8:return e===Y5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function e0(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qR(t){var e=yO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(c){n=""+c,o.call(this,c)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(c){n=""+c},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function u2(t){t._valueTracker||(t._valueTracker=qR(t))}function bO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=yO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function w4(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function g6(t,e){var r=e.checked;return Vn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:t._wrapperState.initialChecked})}function mS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=e0(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wO(t,e){e=e.checked,e!=null&&q5(t,"checked",e,!1)}function y6(t,e){wO(t,e);var r=e0(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?b6(t,e.type,r):e.hasOwnProperty("defaultValue")&&b6(t,e.type,e0(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function b6(t,e,r){(e!=="number"||w4(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var hm=Array.isArray;function Uh(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+e0(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function w6(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(lt(91));return Vn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(lt(92));if(hm(r)){if(1<r.length)throw Error(lt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:e0(r)}}function xO(t,e){var r=e0(e.value),n=e0(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function yS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function x6(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var c2,CO=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(c2=c2||document.createElement("div"),c2.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=c2.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hm(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var wm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YR=["Webkit","ms","Moz","O"];Object.keys(wm).forEach(function(t){YR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wm[e]=wm[t]})});function SO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||wm.hasOwnProperty(t)&&wm[t]?(""+e).trim():e+"px"}function EO(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=SO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var XR=Vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function k6(t,e){if(e){if(XR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(lt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(lt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(lt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(lt(62))}}function C6(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S6=null;function Q5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var E6=null,Kh=null,Wh=null;function bS(t){if(t=Dv(t)){if(typeof E6!="function")throw Error(lt(280));var e=t.stateNode;e&&(e=I3(e),E6(t.stateNode,t.type,e))}}function _O(t){Kh?Wh?Wh.push(t):Wh=[t]:Kh=t}function TO(){if(Kh){var t=Kh,e=Wh;if(Wh=Kh=null,bS(t),e)for(t=0;t<e.length;t++)bS(e[t])}}function OO(t,e){return t(e)}function AO(){}var Qw=!1;function MO(t,e,r){if(Qw)return t(e,r);Qw=!0;try{return OO(t,e,r)}finally{Qw=!1,(Kh!==null||Wh!==null)&&(AO(),TO())}}function Um(t,e){var r=t.stateNode;if(r===null)return null;var n=I3(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(lt(231,e,typeof r));return r}var _6=!1;if(Iu)try{var J1={};Object.defineProperty(J1,"passive",{get:function(){_6=!0}}),window.addEventListener("test",J1,J1),window.removeEventListener("test",J1,J1)}catch{_6=!1}function ZR(t,e,r,n,i,o,c,f,m){var x=Array.prototype.slice.call(arguments,3);try{e.apply(r,x)}catch(E){this.onError(E)}}var xm=!1,x4=null,k4=!1,T6=null,QR={onError:function(t){xm=!0,x4=t}};function JR(t,e,r,n,i,o,c,f,m){xm=!1,x4=null,ZR.apply(QR,arguments)}function eF(t,e,r,n,i,o,c,f,m){if(JR.apply(this,arguments),xm){if(xm){var x=x4;xm=!1,x4=null}else throw Error(lt(198));k4||(k4=!0,T6=x)}}function id(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function IO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wS(t){if(id(t)!==t)throw Error(lt(188))}function tF(t){var e=t.alternate;if(!e){if(e=id(t),e===null)throw Error(lt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return wS(i),t;if(o===n)return wS(i),e;o=o.sibling}throw Error(lt(188))}if(r.return!==n.return)r=i,n=o;else{for(var c=!1,f=i.child;f;){if(f===r){c=!0,r=i,n=o;break}if(f===n){c=!0,n=i,r=o;break}f=f.sibling}if(!c){for(f=o.child;f;){if(f===r){c=!0,r=o,n=i;break}if(f===n){c=!0,n=o,r=i;break}f=f.sibling}if(!c)throw Error(lt(189))}}if(r.alternate!==n)throw Error(lt(190))}if(r.tag!==3)throw Error(lt(188));return r.stateNode.current===r?t:e}function DO(t){return t=tF(t),t!==null?LO(t):null}function LO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=LO(t);if(e!==null)return e;t=t.sibling}return null}var PO=_o.unstable_scheduleCallback,xS=_o.unstable_cancelCallback,rF=_o.unstable_shouldYield,nF=_o.unstable_requestPaint,na=_o.unstable_now,aF=_o.unstable_getCurrentPriorityLevel,J5=_o.unstable_ImmediatePriority,NO=_o.unstable_UserBlockingPriority,C4=_o.unstable_NormalPriority,iF=_o.unstable_LowPriority,jO=_o.unstable_IdlePriority,T3=null,Os=null;function oF(t){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(T3,t,void 0,(t.current.flags&128)===128)}catch{}}var Hl=Math.clz32?Math.clz32:uF,lF=Math.log,sF=Math.LN2;function uF(t){return t>>>=0,t===0?32:31-(lF(t)/sF|0)|0}var f2=64,d2=4194304;function pm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function S4(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,c=r&268435455;if(c!==0){var f=c&~i;f!==0?n=pm(f):(o&=c,o!==0&&(n=pm(o)))}else c=r&~i,c!==0?n=pm(c):o!==0&&(n=pm(o));if(n===0)return 0;if(e!==0&&e!==n&&(e&i)===0&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((n&4)!==0&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Hl(e),i=1<<r,n|=t[r],e&=~i;return n}function cF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fF(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var c=31-Hl(o),f=1<<c,m=i[c];m===-1?((f&r)===0||(f&n)!==0)&&(i[c]=cF(f,e)):m<=e&&(t.expiredLanes|=f),o&=~f}}function O6(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Mv(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hl(e),t[e]=r}function dF(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Hl(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function e8(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Hl(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var an=0;function RO(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var FO,t8,zO,BO,HO,A6=!1,h2=[],Gc=null,Vc=null,qc=null,Km=new Map,Wm=new Map,Rc=[],hF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kS(t,e){switch(t){case"focusin":case"focusout":Gc=null;break;case"dragenter":case"dragleave":Vc=null;break;case"mouseover":case"mouseout":qc=null;break;case"pointerover":case"pointerout":Km.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wm.delete(e.pointerId)}}function em(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Dv(e),e!==null&&t8(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pF(t,e,r,n,i){switch(e){case"focusin":return Gc=em(Gc,t,e,r,n,i),!0;case"dragenter":return Vc=em(Vc,t,e,r,n,i),!0;case"mouseover":return qc=em(qc,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Km.set(o,em(Km.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Wm.set(o,em(Wm.get(o)||null,t,e,r,n,i)),!0}return!1}function UO(t){var e=If(t.target);if(e!==null){var r=id(e);if(r!==null){if(e=r.tag,e===13){if(e=IO(r),e!==null){t.blockedOn=e,HO(t.priority,function(){zO(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function q2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=M6(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);S6=n,r.target.dispatchEvent(n),S6=null}else return e=Dv(r),e!==null&&t8(e),t.blockedOn=r,!1;e.shift()}return!0}function CS(t,e,r){q2(t)&&r.delete(e)}function mF(){A6=!1,Gc!==null&&q2(Gc)&&(Gc=null),Vc!==null&&q2(Vc)&&(Vc=null),qc!==null&&q2(qc)&&(qc=null),Km.forEach(CS),Wm.forEach(CS)}function tm(t,e){t.blockedOn===e&&(t.blockedOn=null,A6||(A6=!0,_o.unstable_scheduleCallback(_o.unstable_NormalPriority,mF)))}function $m(t){function e(i){return tm(i,t)}if(0<h2.length){tm(h2[0],t);for(var r=1;r<h2.length;r++){var n=h2[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Gc!==null&&tm(Gc,t),Vc!==null&&tm(Vc,t),qc!==null&&tm(qc,t),Km.forEach(e),Wm.forEach(e),r=0;r<Rc.length;r++)n=Rc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Rc.length&&(r=Rc[0],r.blockedOn===null);)UO(r),r.blockedOn===null&&Rc.shift()}var $h=Ru.ReactCurrentBatchConfig;function vF(t,e,r,n){var i=an,o=$h.transition;$h.transition=null;try{an=1,r8(t,e,r,n)}finally{an=i,$h.transition=o}}function gF(t,e,r,n){var i=an,o=$h.transition;$h.transition=null;try{an=4,r8(t,e,r,n)}finally{an=i,$h.transition=o}}function r8(t,e,r,n){var i=M6(t,e,r,n);if(i===null)ux(t,e,n,E4,r),kS(t,n);else if(pF(i,t,e,r,n))n.stopPropagation();else if(kS(t,n),e&4&&-1<hF.indexOf(t)){for(;i!==null;){var o=Dv(i);if(o!==null&&FO(o),o=M6(t,e,r,n),o===null&&ux(t,e,n,E4,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else ux(t,e,n,null,r)}var E4=null;function M6(t,e,r,n){if(E4=null,t=Q5(n),t=If(t),t!==null)if(e=id(t),e===null)t=null;else if(r=e.tag,r===13){if(t=IO(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return E4=t,null}function KO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aF()){case J5:return 1;case NO:return 4;case C4:case iF:return 16;case jO:return 536870912;default:return 16}default:return 16}}var Hc=null,n8=null,Y2=null;function WO(){if(Y2)return Y2;var t,e=n8,r=e.length,n,i="value"in Hc?Hc.value:Hc.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var c=r-t;for(n=1;n<=c&&e[r-n]===i[o-n];n++);return Y2=i.slice(t,1<n?1-n:void 0)}function X2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function p2(){return!0}function SS(){return!1}function Ao(t){function e(r,n,i,o,c){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var f in t)t.hasOwnProperty(f)&&(r=t[f],this[f]=r?r(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?p2:SS,this.isPropagationStopped=SS,this}return Vn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=p2)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=p2)},persist:function(){},isPersistent:p2}),e}var Sp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a8=Ao(Sp),Iv=Vn({},Sp,{view:0,detail:0}),yF=Ao(Iv),ex,tx,rm,O3=Vn({},Iv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i8,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rm&&(rm&&t.type==="mousemove"?(ex=t.screenX-rm.screenX,tx=t.screenY-rm.screenY):tx=ex=0,rm=t),ex)},movementY:function(t){return"movementY"in t?t.movementY:tx}}),ES=Ao(O3),bF=Vn({},O3,{dataTransfer:0}),wF=Ao(bF),xF=Vn({},Iv,{relatedTarget:0}),rx=Ao(xF),kF=Vn({},Sp,{animationName:0,elapsedTime:0,pseudoElement:0}),CF=Ao(kF),SF=Vn({},Sp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EF=Ao(SF),_F=Vn({},Sp,{data:0}),_S=Ao(_F),TF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AF[t])?!!e[t]:!1}function i8(){return MF}var IF=Vn({},Iv,{key:function(t){if(t.key){var e=TF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=X2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i8,charCode:function(t){return t.type==="keypress"?X2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?X2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DF=Ao(IF),LF=Vn({},O3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TS=Ao(LF),PF=Vn({},Iv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i8}),NF=Ao(PF),jF=Vn({},Sp,{propertyName:0,elapsedTime:0,pseudoElement:0}),RF=Ao(jF),FF=Vn({},O3,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zF=Ao(FF),BF=[9,13,27,32],o8=Iu&&"CompositionEvent"in window,km=null;Iu&&"documentMode"in document&&(km=document.documentMode);var HF=Iu&&"TextEvent"in window&&!km,$O=Iu&&(!o8||km&&8<km&&11>=km),OS=String.fromCharCode(32),AS=!1;function GO(t,e){switch(t){case"keyup":return BF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dh=!1;function UF(t,e){switch(t){case"compositionend":return VO(e);case"keypress":return e.which!==32?null:(AS=!0,OS);case"textInput":return t=e.data,t===OS&&AS?null:t;default:return null}}function KF(t,e){if(Dh)return t==="compositionend"||!o8&&GO(t,e)?(t=WO(),Y2=n8=Hc=null,Dh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $O&&e.locale!=="ko"?null:e.data;default:return null}}var WF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WF[t.type]:e==="textarea"}function qO(t,e,r,n){_O(n),e=_4(e,"onChange"),0<e.length&&(r=new a8("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Cm=null,Gm=null;function $F(t){iA(t,0)}function A3(t){var e=Nh(t);if(bO(e))return t}function GF(t,e){if(t==="change")return e}var YO=!1;if(Iu){var nx;if(Iu){var ax="oninput"in document;if(!ax){var IS=document.createElement("div");IS.setAttribute("oninput","return;"),ax=typeof IS.oninput=="function"}nx=ax}else nx=!1;YO=nx&&(!document.documentMode||9<document.documentMode)}function DS(){Cm&&(Cm.detachEvent("onpropertychange",XO),Gm=Cm=null)}function XO(t){if(t.propertyName==="value"&&A3(Gm)){var e=[];qO(e,Gm,t,Q5(t)),MO($F,e)}}function VF(t,e,r){t==="focusin"?(DS(),Cm=e,Gm=r,Cm.attachEvent("onpropertychange",XO)):t==="focusout"&&DS()}function qF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return A3(Gm)}function YF(t,e){if(t==="click")return A3(e)}function XF(t,e){if(t==="input"||t==="change")return A3(e)}function ZF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ds=typeof Object.is=="function"?Object.is:ZF;function Vm(t,e){if(Ds(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!d6.call(e,i)||!Ds(t[i],e[i]))return!1}return!0}function LS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function PS(t,e){var r=LS(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=LS(r)}}function ZO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QO(){for(var t=window,e=w4();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=w4(t.document)}return e}function l8(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QF(t){var e=QO(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ZO(r.ownerDocument.documentElement,r)){if(n!==null&&l8(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=PS(r,o);var c=PS(r,n);i&&c&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==c.node||t.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JF=Iu&&"documentMode"in document&&11>=document.documentMode,Lh=null,I6=null,Sm=null,D6=!1;function NS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;D6||Lh==null||Lh!==w4(n)||(n=Lh,"selectionStart"in n&&l8(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sm&&Vm(Sm,n)||(Sm=n,n=_4(I6,"onSelect"),0<n.length&&(e=new a8("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Lh)))}function m2(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ph={animationend:m2("Animation","AnimationEnd"),animationiteration:m2("Animation","AnimationIteration"),animationstart:m2("Animation","AnimationStart"),transitionend:m2("Transition","TransitionEnd")},ix={},JO={};Iu&&(JO=document.createElement("div").style,"AnimationEvent"in window||(delete Ph.animationend.animation,delete Ph.animationiteration.animation,delete Ph.animationstart.animation),"TransitionEvent"in window||delete Ph.transitionend.transition);function M3(t){if(ix[t])return ix[t];if(!Ph[t])return t;var e=Ph[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in JO)return ix[t]=e[r];return t}var eA=M3("animationend"),tA=M3("animationiteration"),rA=M3("animationstart"),nA=M3("transitionend"),aA=new Map,jS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function c0(t,e){aA.set(t,e),ad(e,[t])}for(var ox=0;ox<jS.length;ox++){var lx=jS[ox],ez=lx.toLowerCase(),tz=lx[0].toUpperCase()+lx.slice(1);c0(ez,"on"+tz)}c0(eA,"onAnimationEnd");c0(tA,"onAnimationIteration");c0(rA,"onAnimationStart");c0("dblclick","onDoubleClick");c0("focusin","onFocus");c0("focusout","onBlur");c0(nA,"onTransitionEnd");rp("onMouseEnter",["mouseout","mouseover"]);rp("onMouseLeave",["mouseout","mouseover"]);rp("onPointerEnter",["pointerout","pointerover"]);rp("onPointerLeave",["pointerout","pointerover"]);ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rz=new Set("cancel close invalid load scroll toggle".split(" ").concat(mm));function RS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,eF(n,e,void 0,t),t.currentTarget=null}function iA(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var c=n.length-1;0<=c;c--){var f=n[c],m=f.instance,x=f.currentTarget;if(f=f.listener,m!==o&&i.isPropagationStopped())break e;RS(i,f,x),o=m}else for(c=0;c<n.length;c++){if(f=n[c],m=f.instance,x=f.currentTarget,f=f.listener,m!==o&&i.isPropagationStopped())break e;RS(i,f,x),o=m}}}if(k4)throw t=T6,k4=!1,T6=null,t}function An(t,e){var r=e[j6];r===void 0&&(r=e[j6]=new Set);var n=t+"__bubble";r.has(n)||(oA(e,t,2,!1),r.add(n))}function sx(t,e,r){var n=0;e&&(n|=4),oA(r,t,n,e)}var v2="_reactListening"+Math.random().toString(36).slice(2);function qm(t){if(!t[v2]){t[v2]=!0,pO.forEach(function(r){r!=="selectionchange"&&(rz.has(r)||sx(r,!1,t),sx(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[v2]||(e[v2]=!0,sx("selectionchange",!1,e))}}function oA(t,e,r,n){switch(KO(e)){case 1:var i=vF;break;case 4:i=gF;break;default:i=r8}r=i.bind(null,e,r,t),i=void 0,!_6||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function ux(t,e,r,n,i){var o=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var f=n.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(c===4)for(c=n.return;c!==null;){var m=c.tag;if((m===3||m===4)&&(m=c.stateNode.containerInfo,m===i||m.nodeType===8&&m.parentNode===i))return;c=c.return}for(;f!==null;){if(c=If(f),c===null)return;if(m=c.tag,m===5||m===6){n=o=c;continue e}f=f.parentNode}}n=n.return}MO(function(){var x=o,E=Q5(r),b=[];e:{var S=aA.get(t);if(S!==void 0){var g=a8,O=t;switch(t){case"keypress":if(X2(r)===0)break e;case"keydown":case"keyup":g=DF;break;case"focusin":O="focus",g=rx;break;case"focusout":O="blur",g=rx;break;case"beforeblur":case"afterblur":g=rx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ES;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=wF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=NF;break;case eA:case tA:case rA:g=CF;break;case nA:g=RF;break;case"scroll":g=yF;break;case"wheel":g=zF;break;case"copy":case"cut":case"paste":g=EF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=TS}var C=(e&4)!==0,N=!C&&t==="scroll",P=C?S!==null?S+"Capture":null:S;C=[];for(var D=x,F;D!==null;){F=D;var I=F.stateNode;if(F.tag===5&&I!==null&&(F=I,P!==null&&(I=Um(D,P),I!=null&&C.push(Ym(D,I,F)))),N)break;D=D.return}0<C.length&&(S=new g(S,O,null,r,E),b.push({event:S,listeners:C}))}}if((e&7)===0){e:{if(S=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",S&&r!==S6&&(O=r.relatedTarget||r.fromElement)&&(If(O)||O[Du]))break e;if((g||S)&&(S=E.window===E?E:(S=E.ownerDocument)?S.defaultView||S.parentWindow:window,g?(O=r.relatedTarget||r.toElement,g=x,O=O?If(O):null,O!==null&&(N=id(O),O!==N||O.tag!==5&&O.tag!==6)&&(O=null)):(g=null,O=x),g!==O)){if(C=ES,I="onMouseLeave",P="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(C=TS,I="onPointerLeave",P="onPointerEnter",D="pointer"),N=g==null?S:Nh(g),F=O==null?S:Nh(O),S=new C(I,D+"leave",g,r,E),S.target=N,S.relatedTarget=F,I=null,If(E)===x&&(C=new C(P,D+"enter",O,r,E),C.target=F,C.relatedTarget=N,I=C),N=I,g&&O)t:{for(C=g,P=O,D=0,F=C;F;F=Sh(F))D++;for(F=0,I=P;I;I=Sh(I))F++;for(;0<D-F;)C=Sh(C),D--;for(;0<F-D;)P=Sh(P),F--;for(;D--;){if(C===P||P!==null&&C===P.alternate)break t;C=Sh(C),P=Sh(P)}C=null}else C=null;g!==null&&FS(b,S,g,C,!1),O!==null&&N!==null&&FS(b,N,O,C,!0)}}e:{if(S=x?Nh(x):window,g=S.nodeName&&S.nodeName.toLowerCase(),g==="select"||g==="input"&&S.type==="file")var q=GF;else if(MS(S))if(YO)q=XF;else{q=qF;var V=VF}else(g=S.nodeName)&&g.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(q=YF);if(q&&(q=q(t,x))){qO(b,q,r,E);break e}V&&V(t,S,x),t==="focusout"&&(V=S._wrapperState)&&V.controlled&&S.type==="number"&&b6(S,"number",S.value)}switch(V=x?Nh(x):window,t){case"focusin":(MS(V)||V.contentEditable==="true")&&(Lh=V,I6=x,Sm=null);break;case"focusout":Sm=I6=Lh=null;break;case"mousedown":D6=!0;break;case"contextmenu":case"mouseup":case"dragend":D6=!1,NS(b,r,E);break;case"selectionchange":if(JF)break;case"keydown":case"keyup":NS(b,r,E)}var te;if(o8)e:{switch(t){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Dh?GO(t,r)&&(ne="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ne="onCompositionStart");ne&&($O&&r.locale!=="ko"&&(Dh||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Dh&&(te=WO()):(Hc=E,n8="value"in Hc?Hc.value:Hc.textContent,Dh=!0)),V=_4(x,ne),0<V.length&&(ne=new _S(ne,t,null,r,E),b.push({event:ne,listeners:V}),te?ne.data=te:(te=VO(r),te!==null&&(ne.data=te)))),(te=HF?UF(t,r):KF(t,r))&&(x=_4(x,"onBeforeInput"),0<x.length&&(E=new _S("onBeforeInput","beforeinput",null,r,E),b.push({event:E,listeners:x}),E.data=te))}iA(b,e)})}function Ym(t,e,r){return{instance:t,listener:e,currentTarget:r}}function _4(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Um(t,r),o!=null&&n.unshift(Ym(t,o,i)),o=Um(t,e),o!=null&&n.push(Ym(t,o,i))),t=t.return}return n}function Sh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function FS(t,e,r,n,i){for(var o=e._reactName,c=[];r!==null&&r!==n;){var f=r,m=f.alternate,x=f.stateNode;if(m!==null&&m===n)break;f.tag===5&&x!==null&&(f=x,i?(m=Um(r,o),m!=null&&c.unshift(Ym(r,m,f))):i||(m=Um(r,o),m!=null&&c.push(Ym(r,m,f)))),r=r.return}c.length!==0&&t.push({event:e,listeners:c})}var nz=/\r\n?/g,az=/\u0000|\uFFFD/g;function zS(t){return(typeof t=="string"?t:""+t).replace(nz,`
`).replace(az,"")}function g2(t,e,r){if(e=zS(e),zS(t)!==e&&r)throw Error(lt(425))}function T4(){}var L6=null;function P6(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var N6=typeof setTimeout=="function"?setTimeout:void 0,iz=typeof clearTimeout=="function"?clearTimeout:void 0,BS=typeof Promise=="function"?Promise:void 0,oz=typeof queueMicrotask=="function"?queueMicrotask:typeof BS!="undefined"?function(t){return BS.resolve(null).then(t).catch(lz)}:N6;function lz(t){setTimeout(function(){throw t})}function cx(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),$m(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);$m(e)}function Su(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function HS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ep=Math.random().toString(36).slice(2),xs="__reactFiber$"+Ep,Xm="__reactProps$"+Ep,Du="__reactContainer$"+Ep,j6="__reactEvents$"+Ep,sz="__reactListeners$"+Ep,uz="__reactHandles$"+Ep;function If(t){var e=t[xs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Du]||r[xs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=HS(t);t!==null;){if(r=t[xs])return r;t=HS(t)}return e}t=r,r=t.parentNode}return null}function Dv(t){return t=t[xs]||t[Du],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(lt(33))}function I3(t){return t[Xm]||null}var R6=[],jh=-1;function f0(t){return{current:t}}function In(t){0>jh||(t.current=R6[jh],R6[jh]=null,jh--)}function kn(t,e){jh++,R6[jh]=t.current,t.current=e}var t0={},ci=f0(t0),Ji=f0(!1),Uf=t0;function np(t,e){var r=t.type.contextTypes;if(!r)return t0;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function eo(t){return t=t.childContextTypes,t!=null}function O4(){In(Ji),In(ci)}function US(t,e,r){if(ci.current!==t0)throw Error(lt(168));kn(ci,e),kn(Ji,r)}function lA(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(lt(108,VR(t)||"Unknown",i));return Vn({},r,n)}function A4(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||t0,Uf=ci.current,kn(ci,t),kn(Ji,Ji.current),!0}function KS(t,e,r){var n=t.stateNode;if(!n)throw Error(lt(169));r?(t=lA(t,e,Uf),n.__reactInternalMemoizedMergedChildContext=t,In(Ji),In(ci),kn(ci,t)):In(Ji),kn(Ji,r)}var xu=null,D3=!1,fx=!1;function sA(t){xu===null?xu=[t]:xu.push(t)}function cz(t){D3=!0,sA(t)}function d0(){if(!fx&&xu!==null){fx=!0;var t=0,e=an;try{var r=xu;for(an=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}xu=null,D3=!1}catch(i){throw xu!==null&&(xu=xu.slice(t+1)),PO(J5,d0),i}finally{an=e,fx=!1}}return null}var fz=Ru.ReactCurrentBatchConfig;function Rl(t,e){if(t&&t.defaultProps){e=Vn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var M4=f0(null),I4=null,Rh=null,s8=null;function u8(){s8=Rh=I4=null}function c8(t){var e=M4.current;In(M4),t._currentValue=e}function F6(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Gh(t,e){I4=t,s8=Rh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Co=!0),t.firstContext=null)}function fl(t){var e=t._currentValue;if(s8!==t)if(t={context:t,memoizedValue:e,next:null},Rh===null){if(I4===null)throw Error(lt(308));Rh=t,I4.dependencies={lanes:0,firstContext:t}}else Rh=Rh.next=t;return e}var Ss=null,jc=!1;function f8(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yc(t,e){var r=t.updateQueue;r!==null&&(r=r.shared,ha!==null&&(t.mode&1)!==0&&(Nr&2)===0?(t=r.interleaved,t===null?(e.next=e,Ss===null?Ss=[r]:Ss.push(r)):(e.next=t.next,t.next=e),r.interleaved=e):(t=r.pending,t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e))}function Z2(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,e8(t,r)}}function WS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=c:o=o.next=c,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function D4(t,e,r,n){var i=t.updateQueue;jc=!1;var o=i.firstBaseUpdate,c=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var m=f,x=m.next;m.next=null,c===null?o=x:c.next=x,c=m;var E=t.alternate;E!==null&&(E=E.updateQueue,f=E.lastBaseUpdate,f!==c&&(f===null?E.firstBaseUpdate=x:f.next=x,E.lastBaseUpdate=m))}if(o!==null){var b=i.baseState;c=0,E=x=m=null,f=o;do{var S=f.lane,g=f.eventTime;if((n&S)===S){E!==null&&(E=E.next={eventTime:g,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var O=t,C=f;switch(S=e,g=r,C.tag){case 1:if(O=C.payload,typeof O=="function"){b=O.call(g,b,S);break e}b=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=C.payload,S=typeof O=="function"?O.call(g,b,S):O,S==null)break e;b=Vn({},b,S);break e;case 2:jc=!0}}f.callback!==null&&f.lane!==0&&(t.flags|=64,S=i.effects,S===null?i.effects=[f]:S.push(f))}else g={eventTime:g,lane:S,tag:f.tag,payload:f.payload,callback:f.callback,next:null},E===null?(x=E=g,m=b):E=E.next=g,c|=S;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;S=f,f=S.next,S.next=null,i.lastBaseUpdate=S,i.shared.pending=null}}while(1);if(E===null&&(m=b),i.baseState=m,i.firstBaseUpdate=x,i.lastBaseUpdate=E,e=i.shared.interleaved,e!==null){i=e;do c|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);sp|=c,t.lanes=c,t.memoizedState=b}}function $S(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(lt(191,i));i.call(n)}}}var cA=new hO.Component().refs;function z6(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Vn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var L3={isMounted:function(t){return(t=t._reactInternals)?id(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ti(),i=Zc(t),o=Tu(n,i);o.payload=e,r!=null&&(o.callback=r),Yc(t,o),e=sl(t,i,n),e!==null&&Z2(e,t,i)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ti(),i=Zc(t),o=Tu(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),Yc(t,o),e=sl(t,i,n),e!==null&&Z2(e,t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ti(),n=Zc(t),i=Tu(r,n);i.tag=2,e!=null&&(i.callback=e),Yc(t,i),e=sl(t,n,r),e!==null&&Z2(e,t,n)}};function GS(t,e,r,n,i,o,c){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,c):e.prototype&&e.prototype.isPureReactComponent?!Vm(r,n)||!Vm(i,o):!0}function fA(t,e,r){var n=!1,i=t0,o=e.contextType;return typeof o=="object"&&o!==null?o=fl(o):(i=eo(e)?Uf:ci.current,n=e.contextTypes,o=(n=n!=null)?np(t,i):t0),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=L3,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function VS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&L3.enqueueReplaceState(e,e.state,null)}function B6(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=cA,f8(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=fl(o):(o=eo(e)?Uf:ci.current,i.context=np(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(z6(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&L3.enqueueReplaceState(i,i.state,null),D4(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}var Fh=[],zh=0,L4=null,P4=0,Zo=[],Qo=0,Kf=null,Eu=1,_u="";function Tf(t,e){Fh[zh++]=P4,Fh[zh++]=L4,L4=t,P4=e}function dA(t,e,r){Zo[Qo++]=Eu,Zo[Qo++]=_u,Zo[Qo++]=Kf,Kf=t;var n=Eu;t=_u;var i=32-Hl(n)-1;n&=~(1<<i),r+=1;var o=32-Hl(e)+i;if(30<o){var c=i-i%5;o=(n&(1<<c)-1).toString(32),n>>=c,i-=c,Eu=1<<32-Hl(e)+i|r<<i|n,_u=o+t}else Eu=1<<o|r<<i|n,_u=t}function d8(t){t.return!==null&&(Tf(t,1),dA(t,1,0))}function h8(t){for(;t===L4;)L4=Fh[--zh],Fh[zh]=null,P4=Fh[--zh],Fh[zh]=null;for(;t===Kf;)Kf=Zo[--Qo],Zo[Qo]=null,_u=Zo[--Qo],Zo[Qo]=null,Eu=Zo[--Qo],Zo[Qo]=null}var So=null,Xi=null,Pn=!1,Bl=null;function hA(t,e){var r=rl(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function qS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,So=t,Xi=Su(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,So=t,Xi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Kf!==null?{id:Eu,overflow:_u}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=rl(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,So=t,Xi=null,!0):!1;default:return!1}}function H6(t){return(t.mode&1)!==0&&(t.flags&128)===0}function U6(t){if(Pn){var e=Xi;if(e){var r=e;if(!qS(t,e)){if(H6(t))throw Error(lt(418));e=Su(r.nextSibling);var n=So;e&&qS(t,e)?hA(n,r):(t.flags=t.flags&-4097|2,Pn=!1,So=t)}}else{if(H6(t))throw Error(lt(418));t.flags=t.flags&-4097|2,Pn=!1,So=t}}}function YS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;So=t}function nm(t){if(t!==So)return!1;if(!Pn)return YS(t),Pn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!P6(t.type,t.memoizedProps)),e&&(e=Xi)){if(H6(t)){for(t=Xi;t;)t=Su(t.nextSibling);throw Error(lt(418))}for(;e;)hA(t,e),e=Su(e.nextSibling)}if(YS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(lt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Xi=Su(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Xi=null}}else Xi=So?Su(t.stateNode.nextSibling):null;return!0}function ap(){Xi=So=null,Pn=!1}function p8(t){Bl===null?Bl=[t]:Bl.push(t)}function am(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(lt(309));var n=r.stateNode}if(!n)throw Error(lt(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(c){var f=i.refs;f===cA&&(f=i.refs={}),c===null?delete f[o]:f[o]=c},e._stringRef=o,e)}if(typeof t!="string")throw Error(lt(284));if(!r._owner)throw Error(lt(290,t))}return t}function y2(t,e){throw t=Object.prototype.toString.call(e),Error(lt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function XS(t){var e=t._init;return e(t._payload)}function pA(t){function e(P,D){if(t){var F=P.deletions;F===null?(P.deletions=[D],P.flags|=16):F.push(D)}}function r(P,D){if(!t)return null;for(;D!==null;)e(P,D),D=D.sibling;return null}function n(P,D){for(P=new Map;D!==null;)D.key!==null?P.set(D.key,D):P.set(D.index,D),D=D.sibling;return P}function i(P,D){return P=r0(P,D),P.index=0,P.sibling=null,P}function o(P,D,F){return P.index=F,t?(F=P.alternate,F!==null?(F=F.index,F<D?(P.flags|=2,D):F):(P.flags|=2,D)):(P.flags|=1048576,D)}function c(P){return t&&P.alternate===null&&(P.flags|=2),P}function f(P,D,F,I){return D===null||D.tag!==6?(D=gx(F,P.mode,I),D.return=P,D):(D=i(D,F),D.return=P,D)}function m(P,D,F,I){var q=F.type;return q===Ih?E(P,D,F.props.children,I,F.key):D!==null&&(D.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Nc&&XS(q)===D.type)?(I=i(D,F.props),I.ref=am(P,D,F),I.return=P,I):(I=r4(F.type,F.key,F.props,null,P.mode,I),I.ref=am(P,D,F),I.return=P,I)}function x(P,D,F,I){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=yx(F,P.mode,I),D.return=P,D):(D=i(D,F.children||[]),D.return=P,D)}function E(P,D,F,I,q){return D===null||D.tag!==7?(D=Rf(F,P.mode,I,q),D.return=P,D):(D=i(D,F),D.return=P,D)}function b(P,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=gx(""+D,P.mode,F),D.return=P,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case s2:return F=r4(D.type,D.key,D.props,null,P.mode,F),F.ref=am(P,null,D),F.return=P,F;case Mh:return D=yx(D,P.mode,F),D.return=P,D;case Nc:var I=D._init;return b(P,I(D._payload),F)}if(hm(D)||Q1(D))return D=Rf(D,P.mode,F,null),D.return=P,D;y2(P,D)}return null}function S(P,D,F,I){var q=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return q!==null?null:f(P,D,""+F,I);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case s2:return F.key===q?m(P,D,F,I):null;case Mh:return F.key===q?x(P,D,F,I):null;case Nc:return q=F._init,S(P,D,q(F._payload),I)}if(hm(F)||Q1(F))return q!==null?null:E(P,D,F,I,null);y2(P,F)}return null}function g(P,D,F,I,q){if(typeof I=="string"&&I!==""||typeof I=="number")return P=P.get(F)||null,f(D,P,""+I,q);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case s2:return P=P.get(I.key===null?F:I.key)||null,m(D,P,I,q);case Mh:return P=P.get(I.key===null?F:I.key)||null,x(D,P,I,q);case Nc:var V=I._init;return g(P,D,F,V(I._payload),q)}if(hm(I)||Q1(I))return P=P.get(F)||null,E(D,P,I,q,null);y2(D,I)}return null}function O(P,D,F,I){for(var q=null,V=null,te=D,ne=D=0,W=null;te!==null&&ne<F.length;ne++){te.index>ne?(W=te,te=null):W=te.sibling;var de=S(P,te,F[ne],I);if(de===null){te===null&&(te=W);break}t&&te&&de.alternate===null&&e(P,te),D=o(de,D,ne),V===null?q=de:V.sibling=de,V=de,te=W}if(ne===F.length)return r(P,te),Pn&&Tf(P,ne),q;if(te===null){for(;ne<F.length;ne++)te=b(P,F[ne],I),te!==null&&(D=o(te,D,ne),V===null?q=te:V.sibling=te,V=te);return Pn&&Tf(P,ne),q}for(te=n(P,te);ne<F.length;ne++)W=g(te,P,ne,F[ne],I),W!==null&&(t&&W.alternate!==null&&te.delete(W.key===null?ne:W.key),D=o(W,D,ne),V===null?q=W:V.sibling=W,V=W);return t&&te.forEach(function(ie){return e(P,ie)}),Pn&&Tf(P,ne),q}function C(P,D,F,I){var q=Q1(F);if(typeof q!="function")throw Error(lt(150));if(F=q.call(F),F==null)throw Error(lt(151));for(var V=q=null,te=D,ne=D=0,W=null,de=F.next();te!==null&&!de.done;ne++,de=F.next()){te.index>ne?(W=te,te=null):W=te.sibling;var ie=S(P,te,de.value,I);if(ie===null){te===null&&(te=W);break}t&&te&&ie.alternate===null&&e(P,te),D=o(ie,D,ne),V===null?q=ie:V.sibling=ie,V=ie,te=W}if(de.done)return r(P,te),Pn&&Tf(P,ne),q;if(te===null){for(;!de.done;ne++,de=F.next())de=b(P,de.value,I),de!==null&&(D=o(de,D,ne),V===null?q=de:V.sibling=de,V=de);return Pn&&Tf(P,ne),q}for(te=n(P,te);!de.done;ne++,de=F.next())de=g(te,P,ne,de.value,I),de!==null&&(t&&de.alternate!==null&&te.delete(de.key===null?ne:de.key),D=o(de,D,ne),V===null?q=de:V.sibling=de,V=de);return t&&te.forEach(function(ue){return e(P,ue)}),Pn&&Tf(P,ne),q}function N(P,D,F,I){if(typeof F=="object"&&F!==null&&F.type===Ih&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case s2:e:{for(var q=F.key,V=D;V!==null;){if(V.key===q){if(q=F.type,q===Ih){if(V.tag===7){r(P,V.sibling),D=i(V,F.props.children),D.return=P,P=D;break e}}else if(V.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Nc&&XS(q)===V.type){r(P,V.sibling),D=i(V,F.props),D.ref=am(P,V,F),D.return=P,P=D;break e}r(P,V);break}else e(P,V);V=V.sibling}F.type===Ih?(D=Rf(F.props.children,P.mode,I,F.key),D.return=P,P=D):(I=r4(F.type,F.key,F.props,null,P.mode,I),I.ref=am(P,D,F),I.return=P,P=I)}return c(P);case Mh:e:{for(V=F.key;D!==null;){if(D.key===V)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){r(P,D.sibling),D=i(D,F.children||[]),D.return=P,P=D;break e}else{r(P,D);break}else e(P,D);D=D.sibling}D=yx(F,P.mode,I),D.return=P,P=D}return c(P);case Nc:return V=F._init,N(P,D,V(F._payload),I)}if(hm(F))return O(P,D,F,I);if(Q1(F))return C(P,D,F,I);y2(P,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(r(P,D.sibling),D=i(D,F),D.return=P,P=D):(r(P,D),D=gx(F,P.mode,I),D.return=P,P=D),c(P)):r(P,D)}return N}var ip=pA(!0),mA=pA(!1),Lv={},As=f0(Lv),Zm=f0(Lv),Qm=f0(Lv);function Df(t){if(t===Lv)throw Error(lt(174));return t}function m8(t,e){switch(kn(Qm,e),kn(Zm,t),kn(As,Lv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:x6(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=x6(e,t)}In(As),kn(As,e)}function op(){In(As),In(Zm),In(Qm)}function vA(t){Df(Qm.current);var e=Df(As.current),r=x6(e,t.type);e!==r&&(kn(Zm,t),kn(As,r))}function v8(t){Zm.current===t&&(In(As),In(Zm))}var Kn=f0(0);function N4(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dx=[];function g8(){for(var t=0;t<dx.length;t++)dx[t]._workInProgressVersionPrimary=null;dx.length=0}var Q2=Ru.ReactCurrentDispatcher,ol=Ru.ReactCurrentBatchConfig,lp=0,Jn=null,si=null,Pa=null,j4=!1,Em=!1,Jm=0,dz=0;function oi(){throw Error(lt(321))}function y8(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ds(t[r],e[r]))return!1;return!0}function b8(t,e,r,n,i,o){if(lp=o,Jn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Q2.current=t===null||t.memoizedState===null?vz:gz,t=r(n,i),Em){o=0;do{if(Em=!1,Jm=0,25<=o)throw Error(lt(301));o+=1,Pa=si=null,e.updateQueue=null,Q2.current=yz,t=r(n,i)}while(Em)}if(Q2.current=R4,e=si!==null&&si.next!==null,lp=0,Pa=si=Jn=null,j4=!1,e)throw Error(lt(300));return t}function w8(){var t=Jm!==0;return Jm=0,t}function wu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pa===null?Jn.memoizedState=Pa=t:Pa=Pa.next=t,Pa}function Rs(){if(si===null){var t=Jn.alternate;t=t!==null?t.memoizedState:null}else t=si.next;var e=Pa===null?Jn.memoizedState:Pa.next;if(e!==null)Pa=e,si=t;else{if(t===null)throw Error(lt(310));si=t,t={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},Pa===null?Jn.memoizedState=Pa=t:Pa=Pa.next=t}return Pa}function Nf(t,e){return typeof e=="function"?e(t):e}function b2(t){var e=Rs(),r=e.queue;if(r===null)throw Error(lt(311));r.lastRenderedReducer=t;var n=si,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var c=i.next;i.next=o.next,o.next=c}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var f=c=null,m=null,x=o;do{var E=x.lane;if((lp&E)===E)m!==null&&(m=m.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),n=x.hasEagerState?x.eagerState:t(n,x.action);else{var b={lane:E,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};m===null?(f=m=b,c=n):m=m.next=b,Jn.lanes|=E,sp|=E}x=x.next}while(x!==null&&x!==o);m===null?c=n:m.next=f,Ds(n,e.memoizedState)||(Co=!0),e.memoizedState=n,e.baseState=c,e.baseQueue=m,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,Jn.lanes|=o,sp|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function w2(t){var e=Rs(),r=e.queue;if(r===null)throw Error(lt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var c=i=i.next;do o=t(o,c.action),c=c.next;while(c!==i);Ds(o,e.memoizedState)||(Co=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function gA(){}function yA(t,e){var r=Jn,n=Rs(),i=e(),o=!Ds(n.memoizedState,i);if(o&&(n.memoizedState=i,Co=!0),n=n.queue,tv(xA.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Pa!==null&&Pa.memoizedState.tag&1){if(r.flags|=2048,ev(9,wA.bind(null,r,n,i,e),void 0,null),ha===null)throw Error(lt(349));(lp&30)!==0||bA(r,e,i)}return i}function bA(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Jn.updateQueue,e===null?(e={lastEffect:null,stores:null},Jn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function wA(t,e,r,n){e.value=r,e.getSnapshot=n,kA(e)&&sl(t,1,-1)}function xA(t,e,r){return r(function(){kA(e)&&sl(t,1,-1)})}function kA(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ds(t,r)}catch{return!0}}function hx(t){var e=wu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nf,lastRenderedState:t},e.queue=t,t=t.dispatch=mz.bind(null,Jn,t),[e.memoizedState,t]}function ev(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Jn.updateQueue,e===null?(e={lastEffect:null,stores:null},Jn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function CA(){return Rs().memoizedState}function J2(t,e,r,n){var i=wu();Jn.flags|=t,i.memoizedState=ev(1|e,r,void 0,n===void 0?null:n)}function P3(t,e,r,n){var i=Rs();n=n===void 0?null:n;var o=void 0;if(si!==null){var c=si.memoizedState;if(o=c.destroy,n!==null&&y8(n,c.deps)){i.memoizedState=ev(e,r,o,n);return}}Jn.flags|=t,i.memoizedState=ev(1|e,r,o,n)}function px(t,e){return J2(8390656,8,t,e)}function tv(t,e){return P3(2048,8,t,e)}function SA(t,e){return P3(4,2,t,e)}function EA(t,e){return P3(4,4,t,e)}function _A(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TA(t,e,r){return r=r!=null?r.concat([t]):null,P3(4,4,_A.bind(null,e,t),r)}function x8(){}function OA(t,e){var r=Rs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y8(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function AA(t,e){var r=Rs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y8(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function hz(t,e){var r=an;an=r!==0&&4>r?r:4,t(!0);var n=ol.transition;ol.transition={};try{t(!1),e()}finally{an=r,ol.transition=n}}function MA(){return Rs().memoizedState}function pz(t,e,r){var n=Zc(t);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},IA(t)?DA(e,r):(LA(t,e,r),r=Ti(),t=sl(t,n,r),t!==null&&PA(t,e,n))}function mz(t,e,r){var n=Zc(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(IA(t))DA(e,i);else{LA(t,e,i);var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var c=e.lastRenderedState,f=o(c,r);if(i.hasEagerState=!0,i.eagerState=f,Ds(f,c))return}catch{}finally{}r=Ti(),t=sl(t,n,r),t!==null&&PA(t,e,n)}}function IA(t){var e=t.alternate;return t===Jn||e!==null&&e===Jn}function DA(t,e){Em=j4=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function LA(t,e,r){ha!==null&&(t.mode&1)!==0&&(Nr&2)===0?(t=e.interleaved,t===null?(r.next=r,Ss===null?Ss=[e]:Ss.push(e)):(r.next=t.next,t.next=r),e.interleaved=r):(t=e.pending,t===null?r.next=r:(r.next=t.next,t.next=r),e.pending=r)}function PA(t,e,r){if((r&4194240)!==0){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,e8(t,r)}}var R4={readContext:fl,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useInsertionEffect:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useSyncExternalStore:oi,useId:oi,unstable_isNewReconciler:!1},vz={readContext:fl,useCallback:function(t,e){return wu().memoizedState=[t,e===void 0?null:e],t},useContext:fl,useEffect:px,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,J2(4194308,4,_A.bind(null,e,t),r)},useLayoutEffect:function(t,e){return J2(4194308,4,t,e)},useInsertionEffect:function(t,e){return J2(4,2,t,e)},useMemo:function(t,e){var r=wu();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=wu();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=pz.bind(null,Jn,t),[n.memoizedState,t]},useRef:function(t){var e=wu();return t={current:t},e.memoizedState=t},useState:hx,useDebugValue:x8,useDeferredValue:function(t){var e=hx(t),r=e[0],n=e[1];return px(function(){var i=ol.transition;ol.transition={};try{n(t)}finally{ol.transition=i}},[t]),r},useTransition:function(){var t=hx(!1),e=t[0];return t=hz.bind(null,t[1]),wu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Jn,i=wu();if(Pn){if(r===void 0)throw Error(lt(407));r=r()}else{if(r=e(),ha===null)throw Error(lt(349));(lp&30)!==0||bA(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,px(xA.bind(null,n,o,t),[t]),n.flags|=2048,ev(9,wA.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=wu(),e=ha.identifierPrefix;if(Pn){var r=_u,n=Eu;r=(n&~(1<<32-Hl(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Jm++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=dz++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gz={readContext:fl,useCallback:OA,useContext:fl,useEffect:tv,useImperativeHandle:TA,useInsertionEffect:SA,useLayoutEffect:EA,useMemo:AA,useReducer:b2,useRef:CA,useState:function(){return b2(Nf)},useDebugValue:x8,useDeferredValue:function(t){var e=b2(Nf),r=e[0],n=e[1];return tv(function(){var i=ol.transition;ol.transition={};try{n(t)}finally{ol.transition=i}},[t]),r},useTransition:function(){var t=b2(Nf)[0],e=Rs().memoizedState;return[t,e]},useMutableSource:gA,useSyncExternalStore:yA,useId:MA,unstable_isNewReconciler:!1},yz={readContext:fl,useCallback:OA,useContext:fl,useEffect:tv,useImperativeHandle:TA,useInsertionEffect:SA,useLayoutEffect:EA,useMemo:AA,useReducer:w2,useRef:CA,useState:function(){return w2(Nf)},useDebugValue:x8,useDeferredValue:function(t){var e=w2(Nf),r=e[0],n=e[1];return tv(function(){var i=ol.transition;ol.transition={};try{n(t)}finally{ol.transition=i}},[t]),r},useTransition:function(){var t=w2(Nf)[0],e=Rs().memoizedState;return[t,e]},useMutableSource:gA,useSyncExternalStore:yA,useId:MA,unstable_isNewReconciler:!1};function k8(t,e){try{var r="",n=e;do r+=GR(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i}}function K6(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var bz=typeof WeakMap=="function"?WeakMap:Map;function NA(t,e,r){r=Tu(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){B4||(B4=!0,Q6=n),K6(t,e)},r}function jA(t,e,r){r=Tu(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){K6(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){K6(t,e),typeof n!="function"&&(Xc===null?Xc=new Set([this]):Xc.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),r}function ZS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new bz;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Lz.bind(null,t,e,r),e.then(t,t))}function QS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JS(t,e,r,n,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Tu(-1,1),e.tag=2,Yc(r,e))),r.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var RA,W6,FA,zA;RA=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};W6=function(){};FA=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Df(As.current);var o=null;switch(r){case"input":i=g6(t,i),n=g6(t,n),o=[];break;case"select":i=Vn({},i,{value:void 0}),n=Vn({},n,{value:void 0}),o=[];break;case"textarea":i=w6(t,i),n=w6(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=T4)}k6(r,n);var c;r=null;for(x in i)if(!n.hasOwnProperty(x)&&i.hasOwnProperty(x)&&i[x]!=null)if(x==="style"){var f=i[x];for(c in f)f.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Bm.hasOwnProperty(x)?o||(o=[]):(o=o||[]).push(x,null));for(x in n){var m=n[x];if(f=i!=null?i[x]:void 0,n.hasOwnProperty(x)&&m!==f&&(m!=null||f!=null))if(x==="style")if(f){for(c in f)!f.hasOwnProperty(c)||m&&m.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in m)m.hasOwnProperty(c)&&f[c]!==m[c]&&(r||(r={}),r[c]=m[c])}else r||(o||(o=[]),o.push(x,r)),r=m;else x==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,f=f?f.__html:void 0,m!=null&&f!==m&&(o=o||[]).push(x,m)):x==="children"?typeof m!="string"&&typeof m!="number"||(o=o||[]).push(x,""+m):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Bm.hasOwnProperty(x)?(m!=null&&x==="onScroll"&&An("scroll",t),o||f===m||(o=[])):(o=o||[]).push(x,m))}r&&(o=o||[]).push("style",r);var x=o;(e.updateQueue=x)&&(e.flags|=4)}};zA=function(t,e,r,n){r!==n&&(e.flags|=4)};function im(t,e){if(!Pn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function li(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function wz(t,e,r){var n=e.pendingProps;switch(h8(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return li(e),null;case 1:return eo(e.type)&&O4(),li(e),null;case 3:return n=e.stateNode,op(),In(Ji),In(ci),g8(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(nm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Bl!==null&&(t5(Bl),Bl=null))),W6(t,e),li(e),null;case 5:v8(e);var i=Df(Qm.current);if(r=e.type,t!==null&&e.stateNode!=null)FA(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(lt(166));return li(e),null}if(t=Df(As.current),nm(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[xs]=e,n[Xm]=o,t=(e.mode&1)!==0,r){case"dialog":An("cancel",n),An("close",n);break;case"iframe":case"object":case"embed":An("load",n);break;case"video":case"audio":for(i=0;i<mm.length;i++)An(mm[i],n);break;case"source":An("error",n);break;case"img":case"image":case"link":An("error",n),An("load",n);break;case"details":An("toggle",n);break;case"input":mS(n,o),An("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},An("invalid",n);break;case"textarea":gS(n,o),An("invalid",n)}k6(r,o),i=null;for(var c in o)if(o.hasOwnProperty(c)){var f=o[c];c==="children"?typeof f=="string"?n.textContent!==f&&(g2(n.textContent,f,t),i=["children",f]):typeof f=="number"&&n.textContent!==""+f&&(g2(n.textContent,f,t),i=["children",""+f]):Bm.hasOwnProperty(c)&&f!=null&&c==="onScroll"&&An("scroll",n)}switch(r){case"input":u2(n),vS(n,o,!0);break;case"textarea":u2(n),yS(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=T4)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{c=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kO(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=c.createElement(r,{is:n.is}):(t=c.createElement(r),r==="select"&&(c=t,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):t=c.createElementNS(t,r),t[xs]=e,t[Xm]=n,RA(t,e,!1,!1),e.stateNode=t;e:{switch(c=C6(r,n),r){case"dialog":An("cancel",t),An("close",t),i=n;break;case"iframe":case"object":case"embed":An("load",t),i=n;break;case"video":case"audio":for(i=0;i<mm.length;i++)An(mm[i],t);i=n;break;case"source":An("error",t),i=n;break;case"img":case"image":case"link":An("error",t),An("load",t),i=n;break;case"details":An("toggle",t),i=n;break;case"input":mS(t,n),i=g6(t,n),An("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Vn({},n,{value:void 0}),An("invalid",t);break;case"textarea":gS(t,n),i=w6(t,n),An("invalid",t);break;default:i=n}k6(r,i),f=i;for(o in f)if(f.hasOwnProperty(o)){var m=f[o];o==="style"?EO(t,m):o==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&CO(t,m)):o==="children"?typeof m=="string"?(r!=="textarea"||m!=="")&&Hm(t,m):typeof m=="number"&&Hm(t,""+m):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bm.hasOwnProperty(o)?m!=null&&o==="onScroll"&&An("scroll",t):m!=null&&q5(t,o,m,c))}switch(r){case"input":u2(t),vS(t,n,!1);break;case"textarea":u2(t),yS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+e0(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Uh(t,!!n.multiple,o,!1):n.defaultValue!=null&&Uh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=T4)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return li(e),null;case 6:if(t&&e.stateNode!=null)zA(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(lt(166));if(r=Df(Qm.current),Df(As.current),nm(e)){if(n=e.stateNode,r=e.memoizedProps,n[xs]=e,(o=n.nodeValue!==r)&&(t=So,t!==null))switch(c=(t.mode&1)!==0,t.tag){case 3:g2(n.nodeValue,r,c);break;case 5:t.memoizedProps[void 0]!==!0&&g2(n.nodeValue,r,c)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xs]=e,e.stateNode=n}return li(e),null;case 13:if(In(Kn),n=e.memoizedState,Pn&&Xi!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(n=Xi;n;)n=Su(n.nextSibling);return ap(),e.flags|=98560,e}if(n!==null&&n.dehydrated!==null){if(n=nm(e),t===null){if(!n)throw Error(lt(318));if(n=e.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(lt(317));n[xs]=e}else ap(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return li(e),null}return Bl!==null&&(t5(Bl),Bl=null),(e.flags&128)!==0?(e.lanes=r,e):(n=n!==null,r=!1,t===null?nm(e):r=t.memoizedState!==null,n&&!r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Kn.current&1)!==0?_a===0&&(_a=3):O8())),e.updateQueue!==null&&(e.flags|=4),li(e),null);case 4:return op(),W6(t,e),t===null&&qm(e.stateNode.containerInfo),li(e),null;case 10:return c8(e.type._context),li(e),null;case 17:return eo(e.type)&&O4(),li(e),null;case 19:if(In(Kn),o=e.memoizedState,o===null)return li(e),null;if(n=(e.flags&128)!==0,c=o.rendering,c===null)if(n)im(o,!1);else{if(_a!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(c=N4(t),c!==null){for(e.flags|=128,im(o,!1),n=c.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,t=c.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return kn(Kn,Kn.current&1|2),e.child}t=t.sibling}o.tail!==null&&na()>up&&(e.flags|=128,n=!0,im(o,!1),e.lanes=4194304)}else{if(!n)if(t=N4(c),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),im(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!Pn)return li(e),null}else 2*na()-o.renderingStartTime>up&&r!==1073741824&&(e.flags|=128,n=!0,im(o,!1),e.lanes=4194304);o.isBackwards?(c.sibling=e.child,e.child=c):(r=o.last,r!==null?r.sibling=c:e.child=c,o.last=c)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=na(),e.sibling=null,r=Kn.current,kn(Kn,n?r&1|2:r&1),e):(li(e),null);case 22:case 23:return T8(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&(e.mode&1)!==0?(yo&1073741824)!==0&&(li(e),e.subtreeFlags&6&&(e.flags|=8192)):li(e),null;case 24:return null;case 25:return null}throw Error(lt(156,e.tag))}var xz=Ru.ReactCurrentOwner,Co=!1;function ki(t,e,r,n){e.child=t===null?mA(e,null,r,n):ip(e,t.child,r,n)}function eE(t,e,r,n,i){r=r.render;var o=e.ref;return Gh(e,i),n=b8(t,e,r,n,o,i),r=w8(),t!==null&&!Co?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lu(t,e,i)):(Pn&&r&&d8(e),e.flags|=1,ki(t,e,n,i),e.child)}function tE(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!A8(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,BA(t,e,o,n,i)):(t=r4(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var c=o.memoizedProps;if(r=r.compare,r=r!==null?r:Vm,r(c,n)&&t.ref===e.ref)return Lu(t,e,i)}return e.flags|=1,t=r0(o,n),t.ref=e.ref,t.return=e,e.child=t}function BA(t,e,r,n,i){if(t!==null&&Vm(t.memoizedProps,n)&&t.ref===e.ref)if(Co=!1,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Co=!0);else return e.lanes=t.lanes,Lu(t,e,i);return $6(t,e,r,n,i)}function HA(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null},kn(Bh,yo),yo|=r;else if((r&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null},n=o!==null?o.baseLanes:r,kn(Bh,yo),yo|=n;else return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null},e.updateQueue=null,kn(Bh,yo),yo|=t,null;else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,kn(Bh,yo),yo|=n;return ki(t,e,i,r),e.child}function UA(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function $6(t,e,r,n,i){var o=eo(r)?Uf:ci.current;return o=np(e,o),Gh(e,i),r=b8(t,e,r,n,o,i),n=w8(),t!==null&&!Co?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lu(t,e,i)):(Pn&&n&&d8(e),e.flags|=1,ki(t,e,r,i),e.child)}function rE(t,e,r,n,i){if(eo(r)){var o=!0;A4(e)}else o=!1;if(Gh(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),fA(e,r,n),B6(e,r,n,i),n=!0;else if(t===null){var c=e.stateNode,f=e.memoizedProps;c.props=f;var m=c.context,x=r.contextType;typeof x=="object"&&x!==null?x=fl(x):(x=eo(r)?Uf:ci.current,x=np(e,x));var E=r.getDerivedStateFromProps,b=typeof E=="function"||typeof c.getSnapshotBeforeUpdate=="function";b||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==n||m!==x)&&VS(e,c,n,x),jc=!1;var S=e.memoizedState;c.state=S,D4(e,n,c,i),m=e.memoizedState,f!==n||S!==m||Ji.current||jc?(typeof E=="function"&&(z6(e,r,E,n),m=e.memoizedState),(f=jc||GS(e,r,f,n,S,m,x))?(b||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=m),c.props=n,c.state=m,c.context=x,n=f):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{c=e.stateNode,uA(t,e),f=e.memoizedProps,x=e.type===e.elementType?f:Rl(e.type,f),c.props=x,b=e.pendingProps,S=c.context,m=r.contextType,typeof m=="object"&&m!==null?m=fl(m):(m=eo(r)?Uf:ci.current,m=np(e,m));var g=r.getDerivedStateFromProps;(E=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==b||S!==m)&&VS(e,c,n,m),jc=!1,S=e.memoizedState,c.state=S,D4(e,n,c,i);var O=e.memoizedState;f!==b||S!==O||Ji.current||jc?(typeof g=="function"&&(z6(e,r,g,n),O=e.memoizedState),(x=jc||GS(e,r,x,n,S,O,m)||!1)?(E||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,O,m),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,O,m)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===t.memoizedProps&&S===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===t.memoizedProps&&S===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=O),c.props=n,c.state=O,c.context=m,n=x):(typeof c.componentDidUpdate!="function"||f===t.memoizedProps&&S===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===t.memoizedProps&&S===t.memoizedState||(e.flags|=1024),n=!1)}return G6(t,e,r,n,o,i)}function G6(t,e,r,n,i,o){UA(t,e);var c=(e.flags&128)!==0;if(!n&&!c)return i&&KS(e,r,!1),Lu(t,e,o);n=e.stateNode,xz.current=e;var f=c&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&c?(e.child=ip(e,t.child,null,o),e.child=ip(e,null,f,o)):ki(t,e,f,o),e.memoizedState=n.state,i&&KS(e,r,!0),e.child}function KA(t){var e=t.stateNode;e.pendingContext?US(t,e.pendingContext,e.pendingContext!==e.context):e.context&&US(t,e.context,!1),m8(t,e.containerInfo)}function nE(t,e,r,n,i){return ap(),p8(i),e.flags|=256,ki(t,e,r,n),e.child}var x2={dehydrated:null,treeContext:null,retryLane:0};function k2(t){return{baseLanes:t,cachePool:null}}function WA(t,e,r){var n=e.pendingProps,i=Kn.current,o=!1,c=(e.flags&128)!==0,f;if((f=c)||(f=t!==null&&t.memoizedState===null?!1:(i&2)!==0),f?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),kn(Kn,i&1),t===null)return U6(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},(n&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=i):o=K4(i,n,0,null),t=Rf(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=k2(r),e.memoizedState=x2,t):V6(e,i));if(i=t.memoizedState,i!==null){if(f=i.dehydrated,f!==null){if(c)return e.flags&256?(e.flags&=-257,C2(t,e,r,Error(lt(422)))):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=K4({mode:"visible",children:n.children},i,0,null),o=Rf(o,i,r,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,(e.mode&1)!==0&&ip(e,t.child,null,r),e.child.memoizedState=k2(r),e.memoizedState=x2,o);if((e.mode&1)===0)e=C2(t,e,r,null);else if(f.data==="$!")e=C2(t,e,r,Error(lt(419)));else if(n=(r&t.childLanes)!==0,Co||n){if(n=ha,n!==null){switch(r&-r){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}n=(o&(n.suspendedLanes|r))!==0?0:o,n!==0&&n!==i.retryLane&&(i.retryLane=n,sl(t,n,-1))}O8(),e=C2(t,e,r,Error(lt(421)))}else f.data==="$?"?(e.flags|=128,e.child=t.child,e=Pz.bind(null,t),f._reactRetry=e,e=null):(r=i.treeContext,Xi=Su(f.nextSibling),So=e,Pn=!0,Bl=null,r!==null&&(Zo[Qo++]=Eu,Zo[Qo++]=_u,Zo[Qo++]=Kf,Eu=r.id,_u=r.overflow,Kf=e),e=V6(e,e.pendingProps.children),e.flags|=4096);return e}return o?(n=iE(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?k2(r):{baseLanes:i.baseLanes|r,cachePool:null},o.childLanes=t.childLanes&~r,e.memoizedState=x2,n):(r=aE(t,e,n.children,r),e.memoizedState=null,r)}return o?(n=iE(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?k2(r):{baseLanes:i.baseLanes|r,cachePool:null},o.childLanes=t.childLanes&~r,e.memoizedState=x2,n):(r=aE(t,e,n.children,r),e.memoizedState=null,r)}function V6(t,e){return e=K4({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function aE(t,e,r,n){var i=t.child;return t=i.sibling,r=r0(i,{mode:"visible",children:r}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r}function iE(t,e,r,n,i){var o=e.mode;t=t.child;var c=t.sibling,f={mode:"hidden",children:r};return(o&1)===0&&e.child!==t?(r=e.child,r.childLanes=0,r.pendingProps=f,e.deletions=null):(r=r0(t,f),r.subtreeFlags=t.subtreeFlags&14680064),c!==null?n=r0(c,n):(n=Rf(n,o,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function C2(t,e,r,n){return n!==null&&p8(n),ip(e,t.child,null,r),t=V6(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),F6(t.return,e,r)}function mx(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function $A(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(ki(t,e,n.children,r),n=Kn.current,(n&2)!==0)n=n&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oE(t,r,e);else if(t.tag===19)oE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(kn(Kn,n),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&N4(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),mx(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&N4(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}mx(e,!0,r,null,o);break;case"together":mx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lu(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),sp|=e.lanes,(r&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(lt(153));if(e.child!==null){for(t=e.child,r=r0(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=r0(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function kz(t,e,r){switch(e.tag){case 3:KA(e),ap();break;case 5:vA(e);break;case 1:eo(e.type)&&A4(e);break;case 4:m8(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;kn(M4,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(kn(Kn,Kn.current&1),e.flags|=128,null):(r&e.child.childLanes)!==0?WA(t,e,r):(kn(Kn,Kn.current&1),t=Lu(t,e,r),t!==null?t.sibling:null);kn(Kn,Kn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,(t.flags&128)!==0){if(n)return $A(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kn(Kn,Kn.current),n)break;return null;case 22:case 23:return e.lanes=0,HA(t,e,r)}return Lu(t,e,r)}function Cz(t,e){switch(h8(e),e.tag){case 1:return eo(e.type)&&O4(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return op(),In(Ji),In(ci),g8(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return v8(e),null;case 13:if(In(Kn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(lt(340));ap()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return In(Kn),null;case 4:return op(),null;case 10:return c8(e.type._context),null;case 22:case 23:return T8(),null;case 24:return null;default:return null}}var S2=!1,Lf=!1,Sz=typeof WeakSet=="function"?WeakSet:Set,wt=null;function F4(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Zi(t,e,n)}else r.current=null}function q6(t,e,r){try{r()}catch(n){Zi(t,e,n)}}var lE=!1;function Ez(t,e){if(t=QO(),l8(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var c=0,f=-1,m=-1,x=0,E=0,b=t,S=null;t:for(;;){for(var g;b!==r||i!==0&&b.nodeType!==3||(f=c+i),b!==o||n!==0&&b.nodeType!==3||(m=c+n),b.nodeType===3&&(c+=b.nodeValue.length),(g=b.firstChild)!==null;)S=b,b=g;for(;;){if(b===t)break t;if(S===r&&++x===i&&(f=c),S===o&&++E===n&&(m=c),(g=b.nextSibling)!==null)break;b=S,S=b.parentNode}b=g}r=f===-1||m===-1?null:{start:f,end:m}}else r=null}r=r||{start:0,end:0}}else r=null;for(L6={focusedElem:t,selectionRange:r},wt=e;wt!==null;)if(e=wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,wt=t;else for(;wt!==null;){e=wt;try{var O=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var C=O.memoizedProps,N=O.memoizedState,P=e.stateNode,D=P.getSnapshotBeforeUpdate(e.elementType===e.type?C:Rl(e.type,C),N);P.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=e.stateNode.containerInfo;if(F.nodeType===1)F.textContent="";else if(F.nodeType===9){var I=F.body;I!=null&&(I.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(q){Zi(e,e.return,q)}if(t=e.sibling,t!==null){t.return=e.return,wt=t;break}wt=e.return}return O=lE,lE=!1,O}function rv(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&q6(e,r,o)}i=i.next}while(i!==n)}}function N3(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Y6(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function sE(t,e,r){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(T3,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&((i&2)!==0||(i&4)!==0)&&q6(e,r,o),n=n.next}while(n!==t)}break;case 1:if(F4(e,r),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(c){Zi(e,r,c)}break;case 5:F4(e,r);break;case 4:qA(t,e,r)}}function GA(t){var e=t.alternate;e!==null&&(t.alternate=null,GA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xs],delete e[Xm],delete e[j6],delete e[sz],delete e[uz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VA(t){return t.tag===5||t.tag===3||t.tag===4}function uE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cE(t){e:{for(var e=t.return;e!==null;){if(VA(e))break e;e=e.return}throw Error(lt(160))}var r=e;switch(r.tag){case 5:e=r.stateNode,r.flags&32&&(Hm(e,""),r.flags&=-33),r=uE(t),Z6(t,r,e);break;case 3:case 4:e=r.stateNode.containerInfo,r=uE(t),X6(t,r,e);break;default:throw Error(lt(161))}}function X6(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=T4));else if(n!==4&&(t=t.child,t!==null))for(X6(t,e,r),t=t.sibling;t!==null;)X6(t,e,r),t=t.sibling}function Z6(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Z6(t,e,r),t=t.sibling;t!==null;)Z6(t,e,r),t=t.sibling}function qA(t,e,r){for(var n=e,i=!1,o,c;;){if(!i){i=n.return;e:for(;;){if(i===null)throw Error(lt(160));switch(o=i.stateNode,i.tag){case 5:c=!1;break e;case 3:o=o.containerInfo,c=!0;break e;case 4:o=o.containerInfo,c=!0;break e}i=i.return}i=!0}if(n.tag===5||n.tag===6){e:for(var f=t,m=n,x=r,E=m;;)if(sE(f,E,x),E.child!==null&&E.tag!==4)E.child.return=E,E=E.child;else{if(E===m)break e;for(;E.sibling===null;){if(E.return===null||E.return===m)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}c?(f=o,m=n.stateNode,f.nodeType===8?f.parentNode.removeChild(m):f.removeChild(m)):o.removeChild(n.stateNode)}else if(n.tag===18)c?(f=o,m=n.stateNode,f.nodeType===8?cx(f.parentNode,m):f.nodeType===1&&cx(f,m),$m(f)):cx(o,n.stateNode);else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,c=!0,n.child.return=n,n=n.child;continue}}else if(sE(t,n,r),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(i=!1)}n.sibling.return=n.return,n=n.sibling}}function vx(t,e){switch(e.tag){case 0:case 11:case 14:case 15:rv(3,e,e.return),N3(3,e),rv(5,e,e.return);return;case 1:return;case 5:var r=e.stateNode;if(r!=null){var n=e.memoizedProps,i=t!==null?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(t==="input"&&n.type==="radio"&&n.name!=null&&wO(r,n),C6(t,i),e=C6(t,n),i=0;i<o.length;i+=2){var c=o[i],f=o[i+1];c==="style"?EO(r,f):c==="dangerouslySetInnerHTML"?CO(r,f):c==="children"?Hm(r,f):q5(r,c,f,e)}switch(t){case"input":y6(r,n);break;case"textarea":xO(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Uh(r,!!n.multiple,o,!1):t!==!!n.multiple&&(n.defaultValue!=null?Uh(r,!!n.multiple,n.defaultValue,!0):Uh(r,!!n.multiple,n.multiple?[]:"",!1))}r[Xm]=n}}return;case 6:if(e.stateNode===null)throw Error(lt(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t!==null&&t.memoizedState.isDehydrated&&$m(e.stateNode.containerInfo);return;case 12:return;case 13:fE(e);return;case 19:fE(e);return;case 17:return}throw Error(lt(163))}function fE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Sz),e.forEach(function(n){var i=Nz.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function _z(t,e){for(wt=e;wt!==null;){e=wt;var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{qA(t,i,e);var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(ne){Zi(i,e,ne)}}if(r=e.child,(e.subtreeFlags&12854)!==0&&r!==null)r.return=e,wt=r;else for(;wt!==null;){e=wt;try{var c=e.flags;if(c&32&&Hm(e.stateNode,""),c&512){var f=e.alternate;if(f!==null){var m=f.ref;m!==null&&(typeof m=="function"?m(null):m.current=null)}}if(c&8192)switch(e.tag){case 13:if(e.memoizedState!==null){var x=e.alternate;(x===null||x.memoizedState===null)&&(E8=na())}break;case 22:var E=e.memoizedState!==null,b=e.alternate,S=b!==null&&b.memoizedState!==null;r=e;e:{n=r,i=E;for(var g=null,O=n;;){if(O.tag===5){if(g===null){g=O;var C=O.stateNode;if(i){var N=C.style;typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"}else{var P=O.stateNode,D=O.memoizedProps.style,F=D!=null&&D.hasOwnProperty("display")?D.display:null;P.style.display=SO("display",F)}}}else if(O.tag===6)g===null&&(O.stateNode.nodeValue=i?"":O.memoizedProps);else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===n)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===n)break;for(;O.sibling===null;){if(O.return===null||O.return===n)break e;g===O&&(g=null),O=O.return}g===O&&(g=null),O.sibling.return=O.return,O=O.sibling}}if(E&&!S&&(r.mode&1)!==0){wt=r;for(var I=r.child;I!==null;){for(r=wt=I;wt!==null;){n=wt;var q=n.child;switch(n.tag){case 0:case 11:case 14:case 15:rv(4,n,n.return);break;case 1:F4(n,n.return);var V=n.stateNode;if(typeof V.componentWillUnmount=="function"){var te=n.return;try{V.props=n.memoizedProps,V.state=n.memoizedState,V.componentWillUnmount()}catch(ne){Zi(n,te,ne)}}break;case 5:F4(n,n.return);break;case 22:if(n.memoizedState!==null){hE(r);continue}}q!==null?(q.return=n,wt=q):hE(r)}I=I.sibling}}}switch(c&4102){case 2:cE(e),e.flags&=-3;break;case 6:cE(e),e.flags&=-3,vx(e.alternate,e);break;case 4096:e.flags&=-4097;break;case 4100:e.flags&=-4097,vx(e.alternate,e);break;case 4:vx(e.alternate,e)}}catch(ne){Zi(e,e.return,ne)}if(r=e.sibling,r!==null){r.return=e.return,wt=r;break}wt=e.return}}}function Tz(t,e,r){wt=t,YA(t)}function YA(t,e,r){for(var n=(t.mode&1)!==0;wt!==null;){var i=wt,o=i.child;if(i.tag===22&&n){var c=i.memoizedState!==null||S2;if(!c){var f=i.alternate,m=f!==null&&f.memoizedState!==null||Lf;f=S2;var x=Lf;if(S2=c,(Lf=m)&&!x)for(wt=i;wt!==null;)c=wt,m=c.child,c.tag===22&&c.memoizedState!==null?pE(i):m!==null?(m.return=c,wt=m):pE(i);for(;o!==null;)wt=o,YA(o),o=o.sibling;wt=i,S2=f,Lf=x}dE(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,wt=o):dE(t)}}function dE(t){for(;wt!==null;){var e=wt;if((e.flags&8772)!==0){var r=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Lf||N3(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Lf)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Rl(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&$S(e,o,n);break;case 3:var c=e.updateQueue;if(c!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}$S(e,c,r)}break;case 5:var f=e.stateNode;if(r===null&&e.flags&4){r=f;var m=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&r.focus();break;case"img":m.src&&(r.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var x=e.alternate;if(x!==null){var E=x.memoizedState;if(E!==null){var b=E.dehydrated;b!==null&&$m(b)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(lt(163))}Lf||e.flags&512&&Y6(e)}catch(S){Zi(e,e.return,S)}}if(e===t){wt=null;break}if(r=e.sibling,r!==null){r.return=e.return,wt=r;break}wt=e.return}}function hE(t){for(;wt!==null;){var e=wt;if(e===t){wt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,wt=r;break}wt=e.return}}function pE(t){for(;wt!==null;){var e=wt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{N3(4,e)}catch(m){Zi(e,r,m)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(m){Zi(e,i,m)}}var o=e.return;try{Y6(e)}catch(m){Zi(e,o,m)}break;case 5:var c=e.return;try{Y6(e)}catch(m){Zi(e,c,m)}}}catch(m){Zi(e,e.return,m)}if(e===t){wt=null;break}var f=e.sibling;if(f!==null){f.return=e.return,wt=f;break}wt=e.return}}var Oz=Math.ceil,z4=Ru.ReactCurrentDispatcher,C8=Ru.ReactCurrentOwner,ll=Ru.ReactCurrentBatchConfig,Nr=0,ha=null,ca=null,$a=0,yo=0,Bh=f0(0),_a=0,nv=null,sp=0,j3=0,S8=0,_m=null,Yi=null,E8=0,up=1/0,B4=!1,Q6=null,Xc=null,E2=!1,Uc=null,H4=0,Tm=0,J6=null,e4=-1,t4=0;function Ti(){return(Nr&6)!==0?na():e4!==-1?e4:e4=na()}function Zc(t){return(t.mode&1)===0?1:(Nr&2)!==0&&$a!==0?$a&-$a:fz.transition!==null?(t4===0&&(t=f2,f2<<=1,(f2&4194240)===0&&(f2=64),t4=t),t4):(t=an,t!==0||(t=window.event,t=t===void 0?16:KO(t.type)),t)}function sl(t,e,r){if(50<Tm)throw Tm=0,J6=null,Error(lt(185));var n=R3(t,e);return n===null?null:(Mv(n,e,r),((Nr&2)===0||n!==ha)&&(n===ha&&((Nr&2)===0&&(j3|=e),_a===4&&Fc(n,$a)),to(n,r),e===1&&Nr===0&&(t.mode&1)===0&&(up=na()+500,D3&&d0())),n)}function R3(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function to(t,e){var r=t.callbackNode;fF(t,e);var n=S4(t,t===ha?$a:0);if(n===0)r!==null&&xS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&xS(r),e===1)t.tag===0?cz(mE.bind(null,t)):sA(mE.bind(null,t)),oz(function(){Nr===0&&d0()}),r=null;else{switch(RO(n)){case 1:r=J5;break;case 4:r=NO;break;case 16:r=C4;break;case 536870912:r=jO;break;default:r=C4}r=nM(r,XA.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function XA(t,e){if(e4=-1,t4=0,(Nr&6)!==0)throw Error(lt(327));var r=t.callbackNode;if(Vh()&&t.callbackNode!==r)return null;var n=S4(t,t===ha?$a:0);if(n===0)return null;if((n&30)!==0||(n&t.expiredLanes)!==0||e)e=U4(t,n);else{e=n;var i=Nr;Nr|=2;var o=QA();(ha!==t||$a!==e)&&(up=na()+500,jf(t,e));do try{Iz();break}catch(f){ZA(t,f)}while(1);u8(),z4.current=o,Nr=i,ca!==null?e=0:(ha=null,$a=0,e=_a)}if(e!==0){if(e===2&&(i=O6(t),i!==0&&(n=i,e=e5(t,i))),e===1)throw r=nv,jf(t,0),Fc(t,n),to(t,na()),r;if(e===6)Fc(t,n);else{if(i=t.current.alternate,(n&30)===0&&!Az(i)&&(e=U4(t,n),e===2&&(o=O6(t),o!==0&&(n=o,e=e5(t,o))),e===1))throw r=nv,jf(t,0),Fc(t,n),to(t,na()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(lt(345));case 2:Of(t,Yi);break;case 3:if(Fc(t,n),(n&130023424)===n&&(e=E8+500-na(),10<e)){if(S4(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ti(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=N6(Of.bind(null,t,Yi),e);break}Of(t,Yi);break;case 4:if(Fc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var c=31-Hl(n);o=1<<c,c=e[c],c>i&&(i=c),n&=~o}if(n=i,n=na()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Oz(n/1960))-n,10<n){t.timeoutHandle=N6(Of.bind(null,t,Yi),n);break}Of(t,Yi);break;case 5:Of(t,Yi);break;default:throw Error(lt(329))}}}return to(t,na()),t.callbackNode===r?XA.bind(null,t):null}function e5(t,e){var r=_m;return t.current.memoizedState.isDehydrated&&(jf(t,e).flags|=256),t=U4(t,e),t!==2&&(e=Yi,Yi=r,e!==null&&t5(e)),t}function t5(t){Yi===null?Yi=t:Yi.push.apply(Yi,t)}function Az(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Ds(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fc(t,e){for(e&=~S8,e&=~j3,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Hl(e),n=1<<r;t[r]=-1,e&=~n}}function mE(t){if((Nr&6)!==0)throw Error(lt(327));Vh();var e=S4(t,0);if((e&1)===0)return to(t,na()),null;var r=U4(t,e);if(t.tag!==0&&r===2){var n=O6(t);n!==0&&(e=n,r=e5(t,n))}if(r===1)throw r=nv,jf(t,0),Fc(t,e),to(t,na()),r;if(r===6)throw Error(lt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Of(t,Yi),to(t,na()),null}function _8(t,e){var r=Nr;Nr|=1;try{return t(e)}finally{Nr=r,Nr===0&&(up=na()+500,D3&&d0())}}function Wf(t){Uc!==null&&Uc.tag===0&&(Nr&6)===0&&Vh();var e=Nr;Nr|=1;var r=ll.transition,n=an;try{if(ll.transition=null,an=1,t)return t()}finally{an=n,ll.transition=r,Nr=e,(Nr&6)===0&&d0()}}function T8(){yo=Bh.current,In(Bh)}function jf(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,iz(r)),ca!==null)for(r=ca.return;r!==null;){var n=r;switch(h8(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&O4();break;case 3:op(),In(Ji),In(ci),g8();break;case 5:v8(n);break;case 4:op();break;case 13:In(Kn);break;case 19:In(Kn);break;case 10:c8(n.type._context);break;case 22:case 23:T8()}r=r.return}if(ha=t,ca=t=r0(t.current,null),$a=yo=e,_a=0,nv=null,S8=j3=sp=0,Yi=_m=null,Ss!==null){for(e=0;e<Ss.length;e++)if(r=Ss[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var c=o.next;o.next=i,n.next=c}r.pending=n}Ss=null}return t}function ZA(t,e){do{var r=ca;try{if(u8(),Q2.current=R4,j4){for(var n=Jn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}j4=!1}if(lp=0,Pa=si=Jn=null,Em=!1,Jm=0,C8.current=null,r===null||r.return===null){_a=1,nv=e,ca=null;break}e:{var o=t,c=r.return,f=r,m=e;if(e=$a,f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var x=m,E=f,b=E.tag;if((E.mode&1)===0&&(b===0||b===11||b===15)){var S=E.alternate;S?(E.updateQueue=S.updateQueue,E.memoizedState=S.memoizedState,E.lanes=S.lanes):(E.updateQueue=null,E.memoizedState=null)}var g=QS(c);if(g!==null){g.flags&=-257,JS(g,c,f,o,e),g.mode&1&&ZS(o,x,e),e=g,m=x;var O=e.updateQueue;if(O===null){var C=new Set;C.add(m),e.updateQueue=C}else O.add(m);break e}else{if((e&1)===0){ZS(o,x,e),O8();break e}m=Error(lt(426))}}else if(Pn&&f.mode&1){var N=QS(c);if(N!==null){(N.flags&65536)===0&&(N.flags|=256),JS(N,c,f,o,e),p8(m);break e}}o=m,_a!==4&&(_a=2),_m===null?_m=[o]:_m.push(o),m=k8(m,f),f=c;do{switch(f.tag){case 3:f.flags|=65536,e&=-e,f.lanes|=e;var P=NA(f,m,e);WS(f,P);break e;case 1:o=m;var D=f.type,F=f.stateNode;if((f.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Xc===null||!Xc.has(F)))){f.flags|=65536,e&=-e,f.lanes|=e;var I=jA(f,o,e);WS(f,I);break e}}f=f.return}while(f!==null)}eM(r)}catch(q){e=q,ca===r&&r!==null&&(ca=r=r.return);continue}break}while(1)}function QA(){var t=z4.current;return z4.current=R4,t===null?R4:t}function O8(){(_a===0||_a===3||_a===2)&&(_a=4),ha===null||(sp&268435455)===0&&(j3&268435455)===0||Fc(ha,$a)}function U4(t,e){var r=Nr;Nr|=2;var n=QA();ha===t&&$a===e||jf(t,e);do try{Mz();break}catch(i){ZA(t,i)}while(1);if(u8(),Nr=r,z4.current=n,ca!==null)throw Error(lt(261));return ha=null,$a=0,_a}function Mz(){for(;ca!==null;)JA(ca)}function Iz(){for(;ca!==null&&!rF();)JA(ca)}function JA(t){var e=rM(t.alternate,t,yo);t.memoizedProps=t.pendingProps,e===null?eM(t):ca=e,C8.current=null}function eM(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&32768)===0){if(r=wz(r,e,yo),r!==null){ca=r;return}}else{if(r=Cz(r,e),r!==null){r.flags&=32767,ca=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_a=6,ca=null;return}}if(e=e.sibling,e!==null){ca=e;return}ca=e=t}while(e!==null);_a===0&&(_a=5)}function Of(t,e){var r=an,n=ll.transition;try{ll.transition=null,an=1,Dz(t,e,r)}finally{ll.transition=n,an=r}return null}function Dz(t,e,r){do Vh();while(Uc!==null);if((Nr&6)!==0)throw Error(lt(327));var n=t.finishedWork,i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(lt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(dF(t,o),t===ha&&(ca=ha=null,$a=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||E2||(E2=!0,nM(C4,function(){return Vh(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=ll.transition,ll.transition=null;var c=an;an=1;var f=Nr;Nr|=4,C8.current=null,Ez(t,n),_z(t,n),QF(L6),L6=null,t.current=n,Tz(n),nF(),Nr=f,an=c,ll.transition=o}else t.current=n;if(E2&&(E2=!1,Uc=t,H4=i),o=t.pendingLanes,o===0&&(Xc=null),oF(n.stateNode),to(t,na()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(B4)throw B4=!1,t=Q6,Q6=null,t;return(H4&1)!==0&&t.tag!==0&&Vh(),o=t.pendingLanes,(o&1)!==0?t===J6?Tm++:(Tm=0,J6=t):Tm=0,d0(),null}function Vh(){if(Uc!==null){var t=RO(H4),e=ll.transition,r=an;try{if(ll.transition=null,an=16>t?16:t,Uc===null)var n=!1;else{if(t=Uc,Uc=null,H4=0,(Nr&6)!==0)throw Error(lt(331));var i=Nr;for(Nr|=4,wt=t.current;wt!==null;){var o=wt,c=o.child;if((wt.flags&16)!==0){var f=o.deletions;if(f!==null){for(var m=0;m<f.length;m++){var x=f[m];for(wt=x;wt!==null;){var E=wt;switch(E.tag){case 0:case 11:case 15:rv(8,E,o)}var b=E.child;if(b!==null)b.return=E,wt=b;else for(;wt!==null;){E=wt;var S=E.sibling,g=E.return;if(GA(E),E===x){wt=null;break}if(S!==null){S.return=g,wt=S;break}wt=g}}}var O=o.alternate;if(O!==null){var C=O.child;if(C!==null){O.child=null;do{var N=C.sibling;C.sibling=null,C=N}while(C!==null)}}wt=o}}if((o.subtreeFlags&2064)!==0&&c!==null)c.return=o,wt=c;else e:for(;wt!==null;){if(o=wt,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:rv(9,o,o.return)}var P=o.sibling;if(P!==null){P.return=o.return,wt=P;break e}wt=o.return}}var D=t.current;for(wt=D;wt!==null;){c=wt;var F=c.child;if((c.subtreeFlags&2064)!==0&&F!==null)F.return=c,wt=F;else e:for(c=D;wt!==null;){if(f=wt,(f.flags&2048)!==0)try{switch(f.tag){case 0:case 11:case 15:N3(9,f)}}catch(q){Zi(f,f.return,q)}if(f===c){wt=null;break e}var I=f.sibling;if(I!==null){I.return=f.return,wt=I;break e}wt=f.return}}if(Nr=i,d0(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(T3,t)}catch{}n=!0}return n}finally{an=r,ll.transition=e}}return!1}function vE(t,e,r){e=k8(r,e),e=NA(t,e,1),Yc(t,e),e=Ti(),t=R3(t,1),t!==null&&(Mv(t,1,e),to(t,e))}function Zi(t,e,r){if(t.tag===3)vE(t,t,r);else for(;e!==null;){if(e.tag===3){vE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xc===null||!Xc.has(n))){t=k8(r,t),t=jA(e,t,1),Yc(e,t),t=Ti(),e=R3(e,1),e!==null&&(Mv(e,1,t),to(e,t));break}}e=e.return}}function Lz(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ti(),t.pingedLanes|=t.suspendedLanes&r,ha===t&&($a&r)===r&&(_a===4||_a===3&&($a&130023424)===$a&&500>na()-E8?jf(t,0):S8|=r),to(t,e)}function tM(t,e){e===0&&((t.mode&1)===0?e=1:(e=d2,d2<<=1,(d2&130023424)===0&&(d2=4194304)));var r=Ti();t=R3(t,e),t!==null&&(Mv(t,e,r),to(t,r))}function Pz(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),tM(t,r)}function Nz(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(lt(314))}n!==null&&n.delete(e),tM(t,r)}var rM;rM=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ji.current)Co=!0;else{if((t.lanes&r)===0&&(e.flags&128)===0)return Co=!1,kz(t,e,r);Co=(t.flags&131072)!==0}else Co=!1,Pn&&(e.flags&1048576)!==0&&dA(e,P4,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var i=np(e,ci.current);Gh(e,r),i=b8(null,e,n,t,i,r);var o=w8();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,eo(n)?(o=!0,A4(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,f8(e),i.updater=L3,e.stateNode=i,i._reactInternals=e,B6(e,n,t,r),e=G6(null,e,n,!0,o,r)):(e.tag=0,Pn&&o&&d8(e),ki(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Rz(n),t=Rl(n,t),i){case 0:e=$6(null,e,n,t,r);break e;case 1:e=rE(null,e,n,t,r);break e;case 11:e=eE(null,e,n,t,r);break e;case 14:e=tE(null,e,n,Rl(n.type,t),r);break e}throw Error(lt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Rl(n,i),$6(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Rl(n,i),rE(t,e,n,i,r);case 3:e:{if(KA(e),t===null)throw Error(lt(387));n=e.pendingProps,o=e.memoizedState,i=o.element,uA(t,e),D4(e,n,null,r);var c=e.memoizedState;if(n=c.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:c.cache,transitions:c.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Error(lt(423)),e=nE(t,e,n,r,i);break e}else if(n!==i){i=Error(lt(424)),e=nE(t,e,n,r,i);break e}else for(Xi=Su(e.stateNode.containerInfo.firstChild),So=e,Pn=!0,Bl=null,r=mA(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ap(),n===i){e=Lu(t,e,r);break e}ki(t,e,n,r)}e=e.child}return e;case 5:return vA(e),t===null&&U6(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,c=i.children,P6(n,i)?c=null:o!==null&&P6(n,o)&&(e.flags|=32),UA(t,e),ki(t,e,c,r),e.child;case 6:return t===null&&U6(e),null;case 13:return WA(t,e,r);case 4:return m8(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ip(e,null,n,r):ki(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Rl(n,i),eE(t,e,n,i,r);case 7:return ki(t,e,e.pendingProps,r),e.child;case 8:return ki(t,e,e.pendingProps.children,r),e.child;case 12:return ki(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,c=i.value,kn(M4,n._currentValue),n._currentValue=c,o!==null)if(Ds(o.value,c)){if(o.children===i.children&&!Ji.current){e=Lu(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var f=o.dependencies;if(f!==null){c=o.child;for(var m=f.firstContext;m!==null;){if(m.context===n){if(o.tag===1){m=Tu(-1,r&-r),m.tag=2;var x=o.updateQueue;if(x!==null){x=x.shared;var E=x.pending;E===null?m.next=m:(m.next=E.next,E.next=m),x.pending=m}}o.lanes|=r,m=o.alternate,m!==null&&(m.lanes|=r),F6(o.return,r,e),f.lanes|=r;break}m=m.next}}else if(o.tag===10)c=o.type===e.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(lt(341));c.lanes|=r,f=c.alternate,f!==null&&(f.lanes|=r),F6(c,r,e),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===e){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}ki(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Gh(e,r),i=fl(i),n=n(i),e.flags|=1,ki(t,e,n,r),e.child;case 14:return n=e.type,i=Rl(n,e.pendingProps),i=Rl(n.type,i),tE(t,e,n,i,r);case 15:return BA(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Rl(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,eo(n)?(t=!0,A4(e)):t=!1,Gh(e,r),fA(e,n,i),B6(e,n,i,r),G6(null,e,n,!0,t,r);case 19:return $A(t,e,r);case 22:return HA(t,e,r)}throw Error(lt(156,e.tag))};function nM(t,e){return PO(t,e)}function jz(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rl(t,e,r,n){return new jz(t,e,r,n)}function A8(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rz(t){if(typeof t=="function")return A8(t)?1:0;if(t!=null){if(t=t.$$typeof,t===X5)return 11;if(t===Z5)return 14}return 2}function r0(t,e){var r=t.alternate;return r===null?(r=rl(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function r4(t,e,r,n,i,o){var c=2;if(n=t,typeof t=="function")A8(t)&&(c=1);else if(typeof t=="string")c=5;else e:switch(t){case Ih:return Rf(r.children,i,o,e);case Y5:c=8,i|=8;break;case h6:return t=rl(12,r,e,i|2),t.elementType=h6,t.lanes=o,t;case p6:return t=rl(13,r,e,i),t.elementType=p6,t.lanes=o,t;case m6:return t=rl(19,r,e,i),t.elementType=m6,t.lanes=o,t;case gO:return K4(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mO:c=10;break e;case vO:c=9;break e;case X5:c=11;break e;case Z5:c=14;break e;case Nc:c=16,n=null;break e}throw Error(lt(130,t==null?t:typeof t,""))}return e=rl(c,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Rf(t,e,r,n){return t=rl(7,t,n,e),t.lanes=r,t}function K4(t,e,r,n){return t=rl(22,t,n,e),t.elementType=gO,t.lanes=r,t.stateNode={},t}function gx(t,e,r){return t=rl(6,t,null,e),t.lanes=r,t}function yx(t,e,r){return e=rl(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fz(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jw(0),this.expirationTimes=Jw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function M8(t,e,r,n,i,o,c,f,m){return t=new Fz(t,e,r,f,m),e===1?(e=1,o===!0&&(e|=8)):e=0,o=rl(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null},f8(o),t}function zz(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mh,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function aM(t){if(!t)return t0;t=t._reactInternals;e:{if(id(t)!==t||t.tag!==1)throw Error(lt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(eo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(lt(171))}if(t.tag===1){var r=t.type;if(eo(r))return lA(t,r,e)}return e}function iM(t,e,r,n,i,o,c,f,m){return t=M8(r,n,!0,t,i,o,c,f,m),t.context=aM(null),r=t.current,n=Ti(),i=Zc(r),o=Tu(n,i),o.callback=e!=null?e:null,Yc(r,o),t.current.lanes=i,Mv(t,i,n),to(t,n),t}function F3(t,e,r,n){var i=e.current,o=Ti(),c=Zc(i);return r=aM(r),e.context===null?e.context=r:e.pendingContext=r,e=Tu(o,c),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),Yc(i,e),t=sl(i,c,o),t!==null&&Z2(t,i,c),c}function W4(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function I8(t,e){gE(t,e),(t=t.alternate)&&gE(t,e)}function Bz(){return null}var oM=typeof reportError=="function"?reportError:function(t){console.error(t)};function D8(t){this._internalRoot=t}z3.prototype.render=D8.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(lt(409));F3(t,e,null,null)};z3.prototype.unmount=D8.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wf(function(){F3(null,t,null,null)}),e[Du]=null}};function z3(t){this._internalRoot=t}z3.prototype.unstable_scheduleHydration=function(t){if(t){var e=BO();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Rc.length&&e!==0&&e<Rc[r].priority;r++);Rc.splice(r,0,t),r===0&&UO(t)}};function L8(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function B3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yE(){}function Hz(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var x=W4(c);o.call(x)}}var c=iM(e,n,t,0,null,!1,!1,"",yE);return t._reactRootContainer=c,t[Du]=c.current,qm(t.nodeType===8?t.parentNode:t),Wf(),c}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var f=n;n=function(){var x=W4(m);f.call(x)}}var m=M8(t,0,!1,null,null,!1,!1,"",yE);return t._reactRootContainer=m,t[Du]=m.current,qm(t.nodeType===8?t.parentNode:t),Wf(function(){F3(e,m,r,n)}),m}function H3(t,e,r,n,i){var o=r._reactRootContainer;if(o){var c=o;if(typeof i=="function"){var f=i;i=function(){var m=W4(c);f.call(m)}}F3(e,c,t,i)}else c=Hz(r,e,t,i,n);return W4(c)}FO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=pm(e.pendingLanes);r!==0&&(e8(e,r|1),to(e,na()),(Nr&6)===0&&(up=na()+500,d0()))}break;case 13:var n=Ti();Wf(function(){return sl(t,1,n)}),I8(t,1)}};t8=function(t){if(t.tag===13){var e=Ti();sl(t,134217728,e),I8(t,134217728)}};zO=function(t){if(t.tag===13){var e=Ti(),r=Zc(t);sl(t,r,e),I8(t,r)}};BO=function(){return an};HO=function(t,e){var r=an;try{return an=t,e()}finally{an=r}};E6=function(t,e,r){switch(e){case"input":if(y6(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=I3(n);if(!i)throw Error(lt(90));bO(n),y6(n,i)}}}break;case"textarea":xO(t,r);break;case"select":e=r.value,e!=null&&Uh(t,!!r.multiple,e,!1)}};OO=_8;AO=Wf;var Uz={usingClientEntryPoint:!1,Events:[Dv,Nh,I3,_O,TO,_8]},om={findFiberByHostInstance:If,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Kz={bundleType:om.bundleType,version:om.version,rendererPackageName:om.rendererPackageName,rendererConfig:om.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ru.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=DO(t),t===null?null:t.stateNode},findFiberByHostInstance:om.findFiberByHostInstance||Bz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var _2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_2.isDisabled&&_2.supportsFiber)try{T3=_2.inject(Kz),Os=_2}catch{}}Oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uz;Oo.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L8(e))throw Error(lt(200));return zz(t,e,null,r)};Oo.createRoot=function(t,e){if(!L8(t))throw Error(lt(299));var r=!1,n="",i=oM;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=M8(t,1,!1,null,null,r,!1,n,i),t[Du]=e.current,qm(t.nodeType===8?t.parentNode:t),new D8(e)};Oo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(lt(188)):(t=Object.keys(t).join(","),Error(lt(268,t)));return t=DO(e),t=t===null?null:t.stateNode,t};Oo.flushSync=function(t){return Wf(t)};Oo.hydrate=function(t,e,r){if(!B3(e))throw Error(lt(200));return H3(null,t,e,!0,r)};Oo.hydrateRoot=function(t,e,r){if(!L8(t))throw Error(lt(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",c=oM;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),e=iM(e,null,t,1,r!=null?r:null,i,!1,o,c),t[Du]=e.current,qm(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new z3(e)};Oo.render=function(t,e,r){if(!B3(e))throw Error(lt(200));return H3(null,t,e,!1,r)};Oo.unmountComponentAtNode=function(t){if(!B3(t))throw Error(lt(40));return t._reactRootContainer?(Wf(function(){H3(null,null,t,!1,function(){t._reactRootContainer=null,t[Du]=null})}),!0):!1};Oo.unstable_batchedUpdates=_8;Oo.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!B3(r))throw Error(lt(200));if(t==null||t._reactInternals===void 0)throw Error(lt(38));return H3(t,e,r,!1,n)};Oo.version="18.0.0-fc46dba67-20220329";function lM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lM)}catch(t){console.error(t)}}lM(),Ai.exports=Oo;var sM,Wz=Ai.exports;sM=Wz.createRoot;function bE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bE(Object(r),!0).forEach(function(n){Om(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function av(t){return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(t)}function wE(t,e,r,n,i,o,c){try{var f=t[o](c),m=f.value}catch(x){r(x);return}f.done?e(m):Promise.resolve(m).then(n,i)}function P8(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function c(m){wE(o,n,i,c,f,"next",m)}function f(m){wE(o,n,i,c,f,"throw",m)}c(void 0)})}}function ar(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ir(t,e,r){return e&&xE(t.prototype,e),r&&xE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Om(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r5(t,e)}function Nn(t){return Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Nn(t)}function r5(t,e){return r5=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},r5(t,e)}function $z(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gz(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uM(t)}function Rr(t){var e=$z();return function(){var n=Nn(t),i;if(e){var o=Nn(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Gz(this,i)}}function Vz(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Nn(t),t!==null););return t}function Qn(){return typeof Reflect!="undefined"&&Reflect.get?Qn=Reflect.get:Qn=function(e,r,n){var i=Vz(e,r);if(!!i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Qn.apply(this,arguments)}function Se(t,e){return Yz(t)||Zz(t,e)||N8(t,e)||Jz()}function jt(t){return qz(t)||Xz(t)||N8(t)||Qz()}function qz(t){if(Array.isArray(t))return n5(t)}function Yz(t){if(Array.isArray(t))return t}function Xz(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zz(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,c,f;try{for(r=r.call(t);!(i=(c=r.next()).done)&&(n.push(c.value),!(e&&n.length===e));i=!0);}catch(m){o=!0,f=m}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw f}}return n}}function N8(t,e){if(!!t){if(typeof t=="string")return n5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n5(t,e)}}function n5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qa(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=N8(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(m){throw m},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,c=!1,f;return{s:function(){r=r.call(t)},n:function(){var m=r.next();return o=m.done,m},e:function(m){c=!0,f=m},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(c)throw f}}}}var $4=re.exports.createContext(null);function cM(t,e){var r=null;t!=null&&(r=t[1]);function n(){return e!=null?e:r!=null?r.getTheme():null}return{getTheme:n}}function sr(){var t=re.exports.useContext($4);if(t==null)throw Error("LexicalComposerContext.useLexicalComposerContext: cannot find a LexicalComposerContext");return t}var Kl=function(){return window.getSelection()},eB=1,cp=3,$f=0,fM=1,fp=2,tB=0,dM=1,hM=2,pM=3,mM=1,vM=1<<1,a5=1<<2,i5=1<<3,gM=1<<4,rB=1<<5,nB=1<<6,kE=1,CE=1<<1,yM=1,bM=2,wM=3,xM=4,j8="\u200B",kM="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",CM="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",aB=new RegExp("^[^"+CM+"]*["+kM+"]"),iB=new RegExp("^[^"+kM+"]*["+CM+"]"),dp={bold:mM,code:gM,italic:vM,strikethrough:a5,subscript:rB,superscript:nB,underline:i5},SE={center:bM,justify:xM,left:yM,right:wM},oB={inert:pM,normal:tB,segmented:hM,token:dM},h0=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",lB=h0&&"documentMode"in document?document.documentMode:null,Fs=h0&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),o5=h0&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),sB=h0&&"InputEvent"in window&&!lB?"getTargetRanges"in new window.InputEvent("input"):!1,uB=h0&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),cB=h0&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,fB=0;function SM(){return""+fB++}function dB(t,e){var r=t._nodes.get(e);if(r===void 0)throw Error("registeredNode: Type ".concat(e," not found"));return r}var hB=typeof queueMicrotask=="function"?queueMicrotask:function(t){Promise.resolve().then(t)};function pB(t){var e=document.activeElement,r=e!==null?e.nodeName:null;return!fa(ul(t))||r!=="INPUT"&&r!=="TEXTAREA"}function EM(t,e,r){var n=t.getRootElement();try{return n!==null&&n.contains(e)&&n.contains(r)&&e!==null&&pB(e)&&_M(e)===t}catch{return!1}}function _M(t){for(var e=t;e!=null;){var r=e.__lexicalEditor;if(r!=null&&!r.isReadOnly())return r;e=e.parentNode}return null}function mB(t){return aB.test(t)?"rtl":iB.test(t)?"ltr":null}function ku(t){return t.isToken()||t.isInert()}function G4(t){for(var e=t;e!=null;){if(e.nodeType===cp)return e;e=e.firstChild}return null}function TM(t,e,r){var n=dp[e],i=t&n;return i&&(r===null||(r&n)===0)?t^n:r===null||r&n?t|n:t}function Pv(t){return Ue(t)||Aa(t)||fa(t)}function vB(t,e){if(e!=null){t.__key=e;return}nn(),VM();var r=Na(),n=zs(),i=SM();n._nodeMap.set(i,t),Je(t)?r._dirtyElements.set(i,!0):r._dirtyLeaves.add(i),r._cloneNotNeeded.add(i),r._dirtyType=fM,t.__key=i}function gB(t,e,r){for(var n=t;n!==null;){if(r.has(n))return;var i=e.get(n);if(i===void 0)break;r.set(n,!1),n=i.__parent}}function n4(t){var e=t.getParent();if(e!==null){var r=e.getWritable(),n=r.__children,i=n.indexOf(t.__key);if(i===-1)throw Error("Node is not a child of its parent");qh(t),n.splice(i,1)}}function hp(t){VM();var e=t.getLatest(),r=e.__parent,n=zs(),i=Na(),o=n._nodeMap,c=i._dirtyElements;r!==null&&gB(r,o,c);var f=e.__key;i._dirtyType=fM,Je(t)?c.set(f,!0):i._dirtyLeaves.add(f)}function qh(t){var e=t.getPreviousSibling(),r=t.getNextSibling();e!==null&&hp(e),r!==null&&hp(r)}function Ci(t){nn();var e=Na(),r=e._compositionKey;if(e._compositionKey=t,r!==null){var n=qt(r);n!==null&&n.getWritable()}if(t!==null){var i=qt(t);i!==null&&i.getWritable()}}function Qc(){var t=Na();return t._compositionKey}function qt(t,e){var r=e||zs(),n=r._nodeMap.get(t);return n===void 0?null:n}function OM(t,e){var r=Na(),n=t["__lexicalKey_"+r._key];return n!==void 0?qt(n,e):null}function ul(t,e){for(var r=t;r!=null;){var n=OM(r,e);if(n!==null)return n;r=r.parentNode}return null}function AM(t){var e=t._decorators,r=Object.assign({},e);return t._pendingDecorators=r,r}function EE(t){return t.read(function(e){return Sn().getTextContent()})}function yB(t,e){cl(t,function(){var r=zs();if(!r.isEmpty()){if(e==="root"){Sn().markDirty();return}var n=r._nodeMap,i=qa(n),o;try{for(i.s();!(o=i.n()).done;){var c=Se(o.value,2),f=c[1];f.markDirty()}}catch(m){i.e(m)}finally{i.f()}}},t._pendingEditorState===null?{tag:"history-merge"}:void 0)}function Sn(){return MM(zs())}function MM(t){return t._nodeMap.get("root")}function Ta(t){var e=zs();t!==null&&Object.isFrozen(t)&&console.warn("$setSelection called on frozen selection object. Ensure selection is cloned before passing in."),e._selection=t}function bB(){nn();var t=Na();QM(t)}function T2(t){var e=Na(),r=wB(t,e);if(r===null){var n=e.getRootElement();return t===n?qt("root"):null}return qt(r)}function _E(t,e){return e?t.getTextContentSize():0}function wB(t,e){for(var r=t;r!=null;){var n=r["__lexicalKey_"+e._key];if(n!==void 0)return n;r=r.parentNode}return null}function xB(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function R8(t){for(var e=[],r=t;r!==null;)e.push(r),r=r._parentEditor;return e}function kB(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function IM(t,e){var r=Kl();if(r!==null){var n=r.anchorNode,i=r.anchorOffset,o=r.focusOffset;if(n!==null&&n.nodeType===cp){var c=ul(n);if(Ue(c)){var f=n.nodeValue,m=e!==null&&e.data;if(f===j8&&m){var x=m.length;f=m,i=x,o=x}F8(c,f,i,o,e!==null)}}}}function F8(t,e,r,n,i){var o=t;if(o.isAttached()&&(i||!o.isDirty())){var c=o.isComposing(),f=e;(c||i)&&e[e.length-1]===j8&&(f=e.slice(0,-1));var m=o.getTextContent();if(i||f!==m){if(f===""){if(Ci(null),!uB&&!cB){var x=Na();setTimeout(function(){x.update(function(){o.remove()})},20)}else o.remove();return}var E=o.getParent(),b=rI();if(ku(o)||Qc()!==null&&!c||E!==null&&De(b)&&!E.canInsertTextBefore()&&b.anchor.offset===0){o.markDirty();return}var S=Me();if(!De(S)||r===null||n===null){o.setTextContent(f);return}if(S.setTextNodeRange(o,r,o,n),o.isSegmented()){var g=o.getTextContent(),O=gr(g);o.replace(O),o=O}o.setTextContent(f)}}}function CB(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;var r=t.anchor.offset,n=e.getParentOrThrow(),i=e.isToken(),o=r===0&&(!e.canInsertTextBefore()||!n.canInsertTextBefore()||i),c=e.getTextContentSize()===r&&(!e.canInsertTextBefore()||!n.canInsertTextBefore()||i);return o||c}function DM(t,e,r){var n=t.anchor,i=t.focus,o=n.getNode(),c=Kl(),f=c!==null?c.anchorNode:null,m=n.key,x=Na().getElementByKey(m);return m!==i.key||!Ue(o)||n.offset!==i.offset&&!o.isComposing()||(r||o.isDirty())&&e.length>1||x!==null&&!o.isComposing()&&f!==G4(x)||o.getFormat()!==t.format||CB(t,o)}function SB(t,e,r,n){return t===9&&!e&&!r&&!n}function EB(t,e,r,n){return t===66&&!e&&U3(r,n)}function _B(t,e,r,n){return t===73&&!e&&U3(r,n)}function TB(t,e,r,n){return t===85&&!e&&U3(r,n)}function OB(t,e){return LM(t)&&!e}function AB(t,e){return LM(t)&&e}function MB(t,e){return Fs&&e&&t===79}function IB(t,e,r){return iv(t)&&(Fs?e:r)}function DB(t,e,r){return ov(t)&&(Fs?e:r)}function LB(t,e){return Fs&&e&&iv(t)}function PB(t,e){return Fs&&e&&ov(t)}function NB(t,e,r,n){return Fs?e||r?!1:iv(t)||t===72&&n:n||e||r?!1:iv(t)}function jB(t,e,r,n,i){return Fs?r||n||i?!1:ov(t)||t===68&&e:e||n||i?!1:ov(t)}function RB(t,e,r,n){return t===90&&!e&&U3(r,n)}function FB(t,e,r,n){return Fs?t===90&&r&&e:t===89&&n||t===90&&n&&e}function zB(t){return t===37}function BB(t){return t===39}function HB(t){return t===38}function UB(t){return t===40}function KB(t,e,r,n,i){return zB(t)&&!e&&!i&&!n}function WB(t,e,r,n,i){return BB(t)&&!e&&!i&&!n}function $B(t,e,r,n,i){return HB(t)&&!e&&!i}function GB(t,e,r,n,i){return UB(t)&&!e&&!i}function U3(t,e){return Fs?t:e}function LM(t){return t===13}function iv(t){return t===8}function VB(t){return t===27}function ov(t){return t===46}function a4(t,e){var r=t[e];if(typeof r=="string"){var n=r.split(" ");return t[e]=n,n}return r}function z8(t,e,r,n,i){if(r.size!==0){var o=n.__type,c=n.__key,f=e.get(o);if(f===void 0)throw Error("Type ".concat(o," not in registeredNodes"));var m=f.klass,x=t.get(m);x===void 0&&(x=new Map,t.set(m,x)),x.has(c)||x.set(c,i)}}function TE(t,e,r){var n=t.getParent(),i=r,o=t;return n!==null&&(e&&r===0?(i=o.getIndexWithinParent(),o=n):!e&&r===o.getChildrenSize()&&(i=o.getIndexWithinParent()+1,o=n)),o.getChildAtIndex(e?i-1:i)}function PM(t,e){var r=t.offset;if(t.type==="element"){var n=t.getNode();return TE(n,e,r)}else{var i=t.getNode();if(e&&r===0||!e&&r===i.getTextContentSize()){var o=e?i.getPreviousSibling():i.getNextSibling();return o===null?TE(i.getParentOrThrow(),e,i.getIndexWithinParent()+(e?0:1)):o}}return null}function NM(){var t=window.event,e=t&&t.inputType;return e==="insertFromPaste"||e==="insertFromPasteAsQuotation"}function Bt(t,e,r){return YM(t,e,r)}function qB(t,e){var r=t._decorators,n=t._pendingDecorators,i=n||r,o=e._nodeMap,c;for(c in i)o.has(c)||(i===r&&(i=AM(t)),delete i[c])}function jM(t,e,r,n,i){for(var o=t.__children,c=o.length,f=0;f<c;f++){var m=o[f],x=n.get(m);x!==void 0&&x.__parent===e&&(Je(x)&&jM(x,m,r,n,i),r.has(m)||i.delete(m),n.delete(m))}}function YB(t,e,r,n){var i=t._nodeMap,o=e._nodeMap,c=qa(r),f;try{for(c.s();!(f=c.n()).done;){var m=f.value,x=o.get(m);x!==void 0&&!x.isAttached()&&(i.has(m)||r.delete(m),o.delete(m))}}catch(C){c.e(C)}finally{c.f()}var E=qa(n),b;try{for(E.s();!(b=E.n()).done;){var S=Se(b.value,1),g=S[0],O=o.get(g);O!==void 0&&(O.isAttached()||(Je(O)&&jM(O,g,i,o,n),i.has(g)||n.delete(g),o.delete(g)))}}catch(C){E.e(C)}finally{E.f()}}function OE(t,e){var r=t.__mode,n=t.__format,i=t.__style,o=e.__mode,c=e.__format,f=e.__style;return(r===null||r===o)&&(n===null||n===c)&&(i===null||i===f)}function AE(t,e){var r=t.mergeWithSibling(e),n=Na()._normalizedNodes;return n.add(t.__key),n.add(e.__key),r}function RM(t){var e=t;if(e.__text===""&&e.isSimpleText()&&!e.isUnmergeable()){e.remove();return}for(var r;(r=e.getPreviousSibling())!==null&&Ue(r)&&r.isSimpleText()&&!r.isUnmergeable();)if(r.__text==="")r.remove();else if(OE(r,e)){e=AE(r,e);break}else break;for(var n;(n=e.getNextSibling())!==null&&Ue(n)&&n.isSimpleText()&&!n.isUnmergeable();)if(n.__text==="")n.remove();else if(OE(e,n)){e=AE(e,n);break}else break}function XB(t,e){nn();var r=Na();return B8(t,e,r,null)}function B8(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{originalSelection:null},o=t.__type,c=r._nodes.get(o);if(c===void 0)throw Error('createNodeFromParse: type "'.concat(o,'" + not found'));for(var f in t){var m=t[f];if(m!=null&&av(m)==="object"){var x=m.editorState;if(x!=null){var E=jv();E._nodes=r._nodes,E._parentEditor=r._parentEditor,E._pendingEditorState=qM(x,E),t[f]=E}}}var b=c.klass,S=t.__key;t.__key=void 0;var g=b.clone(t);t.__key=S;var O=g.__key;if(fn(g)){var C=zs();C._nodeMap.set("root",g)}if(g.__parent=n,Je(g)){for(var N=t.__children,P=0;P<N.length;P++){var D=N[P],F=e.get(D);if(F!==void 0){var I=B8(F,e,r,O,i),q=I.__key;g.__children.push(q)}}g.__indent=t.__indent,g.__format=t.__format,g.__dir=t.__dir}else Ue(g)&&(g.__format=t.__format,g.__style=t.__style,g.__mode=t.__mode,g.__detail=t.__detail);var V=i!=null?i.originalSelection:void 0;if(V!=null){var te=i.remappedSelection;if(V.type==="range"){var ne=V.anchor,W=V.focus;te==null&&(S===ne.key||S===W.key)&&(i.remappedSelection=te={anchor:xt({},ne),focus:xt({},W),type:"range"}),te!=null&&te.type==="range"&&(S===ne.key&&(te.anchor.key=O),S===W.key&&(te.focus.key=O))}else if(V.type==="node"){var de=V.nodes,ie=de.indexOf(S);ie!==-1&&(te==null&&(i.remappedSelection=te={nodes:jt(de),type:"node"}),te.type==="node"&&te.nodes.splice(ie,1,O))}else if(V.type==="grid"){var ue=V.gridKey,ve=V.anchorCellKey,pe=V.focusCellKey;te==null&&(ue===S||ue===ve||ue===pe)&&(i.remappedSelection=te=xt(xt({},V),{},{type:"grid"})),te!=null&&te.type==="grid"&&(ue===S&&(te.gridKey=O),ve===S&&(te.anchorCellKey=O),pe===S&&(te.focusCellKey=O))}}return g}var Af=Object.freeze({}),l5=30,V4=[["keydown",aH],["compositionstart",rH],["compositionend",nH],["input",tH],["click",ZB],["cut",Af],["copy",Af],["dragstart",Af],["paste",Af],["focus",Af],["blur",Af]];sB?V4.push(["beforeinput",eH]):V4.push(["drop",Af]);var K3=0,Am=0,s5=!1;function ME(t,e,r){if(s5){s5=!1;var n=t.anchorNode,i=t.focusNode;if(n!==null&&i!==null&&n.nodeType===cp&&i.nodeType===cp)return}cl(e,function(){if(!r){Ta(null);return}var o=Me();if(De(o)&&o.isCollapsed()){t.type==="Range"&&(o.dirty=!0);var c=o.anchor;if(c.type==="text"){var f=c.getNode();o.format=f.getFormat()}else c.type==="element"&&(o.format=0)}Bt(e,Es)})}function ZB(t,e){cl(e,function(){var r=Me();if(De(r)){var n=r.anchor;if(n.type==="element"&&n.offset===0&&r.isCollapsed()&&Sn().getChildrenSize()===1&&n.getNode().getTopLevelElementOrThrow().isEmpty()){var i=e.getEditorState()._selection;i!==null&&r.is(i)&&(Kl().removeAllRanges(),r.dirty=!0)}}Bt(e,q3,t)})}function QB(t,e){if(e.getTargetRanges){var r=e.getTargetRanges()[0];r&&t.applyDOMRange(r)}}function JB(t,e){return t!==e||Je(t)||Je(e)||!ku(t)||!ku(e)}function eH(t,e){var r=t.inputType;if(!(r==="deleteCompositionText"||o5&&NM())){if(r==="insertCompositionText"){var n=t.data;n&&cl(e,function(){var i=Me();if(De(i)){var o=i.anchor,c=o.getNode(),f=c.getPreviousSibling();if(o.offset===0&&Ue(c)&&Ue(f)&&c.getTextContent()===" "&&f.getFormat()!==i.format){var m=f.getTextContent();if(n.indexOf(m)===0){var x=n.slice(m.length);Bt(e,_s,x),setTimeout(function(){cl(e,function(){c.select()})},l5)}}}});return}cl(e,function(){var i=Me();if(!!De(i)){if(r==="deleteContentBackward"){Ci(null),t.preventDefault(),K3=0,Bt(e,nl,!0),setTimeout(function(){e.update(function(){Ci(null)})},l5);return}var o=t.data;!i.dirty&&i.isCollapsed()&&!fn(i.anchor.getNode())&&QB(i,t);var c=i.anchor,f=i.focus,m=c.getNode(),x=f.getNode();if(r==="insertText"){if(o===`
`)t.preventDefault(),Bt(e,Vf);else if(o===`

`)t.preventDefault(),Bt(e,mp);else if(o==null&&t.dataTransfer){var E=t.dataTransfer.getData("text/plain");t.preventDefault(),i.insertRawText(E)}else o!=null&&DM(i,o,!0)&&(t.preventDefault(),Bt(e,_s,o));return}switch(t.preventDefault(),r){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":{Bt(e,_s,t);break}case"insertFromComposition":{Ci(null),Bt(e,_s,t);break}case"insertLineBreak":{Ci(null),Bt(e,Vf);break}case"insertParagraph":{Ci(null),Bt(e,mp);break}case"insertFromPaste":case"insertFromPasteAsQuotation":{Bt(e,Y3,t);break}case"deleteByComposition":{JB(m,x)&&Bt(e,Q4);break}case"deleteByDrag":case"deleteByCut":{Bt(e,Q4);break}case"deleteContent":{Bt(e,nl,!1);break}case"deleteWordBackward":{Bt(e,vp,!0);break}case"deleteWordForward":{Bt(e,vp,!1);break}case"deleteHardLineBackward":case"deleteSoftLineBackward":{Bt(e,gp,!0);break}case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":{Bt(e,gp,!1);break}case"formatStrikeThrough":{Bt(e,Ea,"strikethrough");break}case"formatBold":{Bt(e,Ea,"bold");break}case"formatItalic":{Bt(e,Ea,"italic");break}case"formatUnderline":{Bt(e,Ea,"underline");break}case"historyUndo":{Bt(e,_p);break}case"historyRedo":{Bt(e,Tp);break}}}})}}function tH(t,e){t.stopPropagation(),cl(e,function(){var r=Me(),n=t.data;n!=null&&De(r)&&DM(r,n,!1)?(Bt(e,_s,n),e._compositionKey!==null&&(K3=0,Ci(null))):IM(e,null),bB()})}function rH(t,e){cl(e,function(){var r=Me();if(De(r)&&!e.isComposing()){var n=r.anchor;Ci(n.key),(t.timeStamp<K3+l5||n.type==="element"||!r.isCollapsed()||r.anchor.getNode().getFormat()!==r.format)&&Bt(e,_s," ")}})}function nH(t,e){cl(e,function(){var r=e._compositionKey;Ci(null);var n=t.data;if(r!==null&&n!=null){if(n===""){var i=qt(r),o=G4(e.getElementByKey(r));o!==null&&Ue(i)&&F8(i,o.nodeValue,null,null,!0);return}else if(n[n.length-1]===`
`){var c=Me();if(De(c)){var f=c.focus;c.anchor.set(f.key,f.offset,f.type),Bt(e,yp,null);return}}}IM(e,t)})}function aH(t,e){if(K3=t.timeStamp,!e.isComposing()){var r=t.keyCode,n=t.shiftKey,i=t.ctrlKey,o=t.metaKey,c=t.altKey;WB(r,i,n,c,o)?Bt(e,X3,t):KB(r,i,n,c,o)?Bt(e,Z3,t):$B(r,i,n,c,o)?Bt(e,qf,t):GB(r,i,n,c,o)?Bt(e,hv,t):AB(r,n)?Bt(e,yp,t):MB(r,i)?(t.preventDefault(),Bt(e,Vf,!0)):OB(r,n)?Bt(e,yp,t):NB(r,c,o,i)?iv(r)?Bt(e,Op,t):(t.preventDefault(),Bt(e,nl,!0)):VB(r)?Bt(e,Q3,t):jB(r,i,n,c,o)?ov(r)?Bt(e,Rv,t):(t.preventDefault(),Bt(e,nl,!1)):IB(r,c,i)?(t.preventDefault(),Bt(e,vp,!0)):DB(r,c,i)?(t.preventDefault(),Bt(e,vp,!1)):LB(r,o)?(t.preventDefault(),Bt(e,gp,!0)):PB(r,o)?(t.preventDefault(),Bt(e,gp,!1)):EB(r,c,o,i)?(t.preventDefault(),Bt(e,Ea,"bold")):TB(r,c,o,i)?(t.preventDefault(),Bt(e,Ea,"underline")):_B(r,c,o,i)?(t.preventDefault(),Bt(e,Ea,"italic")):SB(r,c,i,o)?Bt(e,J3,t):RB(r,n,o,i)?(t.preventDefault(),Bt(e,_p)):FB(r,n,o,i)&&(t.preventDefault(),Bt(e,Tp))}}function FM(t){var e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}var Yh=new Map;function zM(t){var e=Kl(),r=_M(e.anchorNode);if(r!==null){var n=R8(r),i=n[n.length-1],o=i._key,c=Yh.get(o),f=c||i;f!==r&&ME(e,f,!1),ME(e,r,!0),r!==i?Yh.set(o,r):c&&Yh.delete(o)}}function iH(t,e){if(Am===0){var r=t.ownerDocument;r.addEventListener("selectionchange",zM)}Am++,t.__lexicalEditor=e;for(var n=FM(t),i=function(f){var m=Se(V4[f],2),x=m[0],E=m[1],b=typeof E=="function"?function(S){e.isReadOnly()||E(S,e)}:function(S){if(!e.isReadOnly())switch(x){case"cut":return Bt(e,t7,S);case"copy":return Bt(e,e7,S);case"paste":return Bt(e,Y3,S);case"dragstart":return Bt(e,J8,S);case"focus":return Bt(e,a7,S);case"blur":return Bt(e,fI,S);case"drop":return Bt(e,Q8,S)}};t.addEventListener(x,b),n.push(function(){t.removeEventListener(x,b)})},o=0;o<V4.length;o++)i(o)}function oH(t){if(Am!==0&&(Am--,Am===0)){var e=t.ownerDocument;e.removeEventListener("selectionchange",zM)}var r=t.__lexicalEditor;r!=null&&(lH(r),t.__lexicalEditor=null);for(var n=FM(t),i=0;i<n.length;i++)n[i]();t.__lexicalEventHandles=[]}function lH(t){if(t._parentEditor!==null){var e=R8(t),r=e[e.length-1],n=r._key;Yh.get(n)===t&&Yh.delete(n)}else Yh.delete(t._key)}function sH(){s5=!0}var Si="",Ei="",Mf="",lv,ro,sv,BM=!1,H8=!1,W3,i4=null,u5,c5,uv,pp,f5,cv;function $3(t,e){var r=uv.get(t);if(e!==null){var n=W8(t);e.removeChild(n)}if(pp.has(t)||ro._keyToDOMMap.delete(t),Je(r)){var i=r.__children;U8(i,0,i.length-1,null)}r!==void 0&&z8(cv,sv,W3,r,"destroyed")}function U8(t,e,r,n){for(var i=e;i<=r;++i){var o=t[i];o!==void 0&&$3(o,n)}}function lm(t,e){t.setProperty("text-align",e)}function HM(t,e){t.style.setProperty("padding-inline-start",e===0?"":e*40+"px")}function UM(t,e){var r=t.style;e===0?lm(r,""):e===yM?lm(r,"left"):e===bM?lm(r,"center"):e===wM?lm(r,"right"):e===xM&&lm(r,"justify")}function G3(t,e,r){var n=pp.get(t);if(n===void 0)throw Error("createNode: node does not exist in nodeMap");var i=n.createDOM(lv,ro);if(yH(t,i,ro),Ue(n)?i.setAttribute("data-lexical-text","true"):fa(n)&&i.setAttribute("data-lexical-decorator","true"),Je(n)){var o=n.__indent;o!==0&&HM(i,o);var c=n.__children,f=c.length;if(f!==0){var m=f-1;uH(c,m,n,i)}var x=n.__format;x!==0&&UM(i,x),KM(null,c,i)}else{var E=n.getTextContent();if(fa(n)){var b=n.decorate(ro);b!==null&&$M(t,b),i.contentEditable="false"}else if(Ue(n)&&(n.isDirectionless()||(Ei+=E),n.isInert())){var S=i.style;S.pointerEvents="none",S.userSelect="none",i.contentEditable="false",S.setProperty("-webkit-user-select","none")}Si+=E,Mf+=E}if(e!==null)if(r!=null)e.insertBefore(i,r);else{var g=e.__lexicalLineBreak;g!=null?e.insertBefore(i,g):e.appendChild(i)}return Object.freeze(n),z8(cv,sv,W3,n,"created"),i}function uH(t,e,r,n){var i=Ei;Ei="",K8(t,0,e,n,null),WM(r,n),Ei=i}function K8(t,e,r,n,i){var o=Si;Si="";for(var c=e;c<=r;++c)G3(t[c],n,i);n.__lexicalTextContent=Si,Si=o+Si}function IE(t,e){var r=t[t.length-1],n=e.get(r);return Aa(n)||fa(n)}function KM(t,e,r){var n=t!==null&&(t.length===0||IE(t,uv)),i=e!==null&&(e.length===0||IE(e,pp));if(n){if(!i){var o=r.__lexicalLineBreak;o!=null&&r.removeChild(o),r.__lexicalLineBreak=null}}else if(i){var c=document.createElement("br");r.__lexicalLineBreak=c,r.appendChild(c)}}function WM(t,e){var r=e.__lexicalDirTextContent,n=e.__lexicalDir;if(r!==Ei||n!==i4){var i=Ei==="",o=i?i4:mB(Ei);if(o!==n){var c=e.classList,f=lv.theme,m=n!==null?f[n]:void 0,x=o!==null?f[o]:void 0;if(m!==void 0){if(typeof m=="string"){var E=m.split(" ");m=f[n]=E}c.remove.apply(c,jt(m))}if(o===null||i&&o==="ltr")e.removeAttribute("dir");else{if(x!==void 0){if(typeof x=="string"){var b=x.split(" ");x=f[o]=b}c.add.apply(c,jt(x))}e.dir=o}if(!H8){var S=t.getWritable();S.__dir=o}}i4=o,e.__lexicalDirTextContent=Ei,e.__lexicalDir=o}}function cH(t,e,r,n){var i=Ei;Ei="",fH(t,e,n),WM(r,n),Ei=i}function fH(t,e,r){var n=Si;Si="";var i=t.length,o=e.length;if(i===1&&o===1){var c=t[0],f=e[0];if(c===f)Mm(c,r);else{var m=W8(c),x=G3(f,null,null);r.replaceChild(x,m),$3(c,null)}}else if(i===0)o!==0&&K8(e,0,o-1,r,null);else if(o===0){if(i!==0){var E=r.__lexicalLineBreak,b=E==null;U8(t,0,i-1,b?null:r),b&&(r.textContent="")}}else hH(t,e,i,o,r);r.__lexicalTextContent=Si,Si=n+Si}function Mm(t,e){var r=uv.get(t),n=pp.get(t);if(r===void 0||n===void 0)throw Error("reconcileNode: prevNode or nextNode does not exist in nodeMap");var i=BM||c5.has(t)||u5.has(t),o=q4(ro,t);if(r===n&&!i){if(Je(r)){var c=o.__lexicalTextContent;c!==void 0&&(Si+=c,Mf+=c);var f=o.__lexicalDirTextContent;f!==void 0&&(Ei+=f)}else{var m=r.getTextContent();Ue(r)&&!r.isDirectionless()&&(Ei+=m),Mf+=m,Si+=m}return o}if(r!==n&&i&&z8(cv,sv,W3,n,"updated"),n.updateDOM(r,o,lv)){var x=G3(t,null,null);if(e===null)throw Error("reconcileNode: parentDOM is null");return e.replaceChild(x,o),$3(t,null),x}if(Je(r)&&Je(n)){var E=n.__indent;E!==r.__indent&&HM(o,E);var b=n.__format;b!==r.__format&&UM(o,b);var S=r.__children,g=n.__children,O=S!==g;(O||i)&&(cH(S,g,n,o),fn(n)||KM(S,g,o))}else{var C=n.getTextContent();if(fa(n)){var N=n.decorate(ro);N!==null&&$M(t,N)}else Ue(n)&&!n.isDirectionless()&&(Ei+=C);Si+=C,Mf+=C}return!H8&&fn(n)&&n.__cachedText!==Mf&&(n=n.getWritable(),n.__cachedText=Mf),Object.freeze(n),o}function $M(t,e){var r=ro._pendingDecorators,n=ro._decorators;if(r===null){if(n[t]===e)return;r=AM(ro)}r[t]=e}function dH(t){return t.firstChild}function bx(t){return t.nextSibling}function hH(t,e,r,n,i){for(var o=r-1,c=n-1,f,m,x=dH(i),E=0,b=0;E<=o&&b<=c;){var S=t[E],g=e[b];if(S===g)x=bx(Mm(g,i)),E++,b++;else{f===void 0&&(f=new Set(t)),m===void 0&&(m=new Set(e));var O=m.has(S),C=f.has(g);if(!O)x=bx(W8(S)),$3(S,i),E++;else if(!C)G3(g,i,x),b++;else{var N=q4(ro,g);N===x?x=bx(Mm(g,i)):(x!=null?i.insertBefore(N,x):i.appendChild(N),Mm(g,i)),E++,b++}}}var P=E>o,D=b>c;if(P&&!D){var F=e[c+1],I=F===void 0?null:ro.getElementByKey(F);K8(e,b,c,i,I)}else D&&!P&&U8(t,E,o,i)}function pH(t,e,r,n,i,o){Si="",Mf="",Ei="",BM=n===fp,i4=null,ro=r,lv=r._config,sv=r._nodes,W3=ro._listeners.mutation,u5=i,c5=o,uv=t._nodeMap,pp=e._nodeMap,H8=e._readOnly,f5=new Map(r._keyToDOMMap);var c=new Map;return cv=c,Mm("root",null),ro=void 0,sv=void 0,u5=void 0,c5=void 0,uv=void 0,pp=void 0,lv=void 0,f5=void 0,cv=void 0,c}function mH(t,e,r,n,i,o,c){var f=c._observer,m=null;if(o&&f!==null){var x=c._dirtyType,E=c._dirtyElements,b=c._dirtyLeaves;f.disconnect();try{m=pH(e,r,c,x,E,b)}finally{f.observe(t,{characterData:!0,childList:!0,subtree:!0})}}var S=Kl();return S!==null&&(o||i===null||i.dirty)&&gH(n,i,c,S),m}function vH(t,e,r){var n=e.nodeType===cp?e.parentNode:e;if(n!==null){var i=n.getBoundingClientRect();if(i.bottom>window.innerHeight)n.scrollIntoView(!1);else if(i.top<0)n.scrollIntoView();else if(r){var o=r.getBoundingClientRect();i.bottom>o.bottom?n.scrollIntoView(!1):i.top<o.top&&n.scrollIntoView()}t._updateTags.add("scroll-into-view")}}function gH(t,e,r,n){var i=n.anchorNode,o=n.focusNode,c=n.anchorOffset,f=n.focusOffset,m=document.activeElement,x=r._rootElement;if(!(r._updateTags.has("collaboration")&&m!==x)){if(!De(e)){t!==null&&EM(r,i,o)&&n.removeAllRanges();return}var E=e.anchor,b=e.focus;Object.freeze(E),Object.freeze(b),Object.freeze(e);var S=E.key,g=b.key,O=q4(r,S),C=q4(r,g),N=E.offset,P=b.offset,D=O,F=C;if(E.type==="text"&&(D=G4(O)),b.type==="text"&&(F=G4(C)),!(D===null||F===null)){if(c===N&&f===P&&i===D&&o===F&&!(n.type==="Range"&&e.isCollapsed())){x!==null&&(m===null||!x.contains(m))&&x.focus({preventScroll:!0});return}try{n.setBaseAndExtent(D,N,F,P),e.isCollapsed()&&x===m&&vH(r,D,x),sH()}catch{}}}}function yH(t,e,r){var n=r._keyToDOMMap;e["__lexicalKey_"+r._key]=t,n.set(t,e)}function W8(t){var e=f5.get(t);if(e===void 0)throw Error('Reconciliation: could not find DOM element for node key "${key}"');return e}function q4(t,e){var r=t._keyToDOMMap.get(e);if(r===void 0)throw Error('Reconciliation: could not find DOM element for node key "${key}"');return r}var no=null,Oi=null,ao=!1,wx=!1,Y4=0;function GM(){return ao}function nn(){if(ao)throw Error("Cannot use method in read-only mode.")}function VM(){if(Y4>99)throw Error("One or more transforms are endlessly triggering additional transforms. May have encountered infinite recursion caused by transforms that have their preconditions too lose and/or conflict with each other.")}function zs(){if(no===null)throw Error("Unable to find an active editor state. State helpers or node methods can only be used synchronously during the callback of editor.update() or editorState.read().");return no}function Na(){if(Oi===null)throw Error("Unable to find an active editor. This method can only be used synchronously during the callback of editor.update().");return Oi}function DE(t,e,r){var n=e.__type,i=dB(t,n),o=r.get(n);o===void 0&&(o=Array.from(i.transforms),r.set(n,o));for(var c=o.length,f=0;f<c&&(o[f](e),!!e.isAttached());f++);}function LE(t,e){return t!==void 0&&t.__key!==e&&t.isAttached()}function bH(t,e){var r=e._dirtyLeaves,n=t._nodeMap,i=qa(r),o;try{for(i.s();!(o=i.n()).done;){var c=o.value,f=n.get(c);Ue(f)&&f.isSimpleText()&&!f.isUnmergeable()&&RM(f)}}catch(m){i.e(m)}finally{i.f()}}function wH(t,e){for(var r=e._dirtyLeaves,n=e._dirtyElements,i=t._nodeMap,o=Qc(),c=new Map,f=r,m=f.size,x=n,E=x.size;m>0||E>0;){if(m>0){e._dirtyLeaves=new Set;var b=qa(f),S;try{for(b.s();!(S=b.n()).done;){var g=S.value,O=i.get(g);Ue(O)&&O.isSimpleText()&&!O.isUnmergeable()&&RM(O),O!==void 0&&LE(O,o)&&DE(e,O,c),r.add(g)}}catch(q){b.e(q)}finally{b.f()}if(f=e._dirtyLeaves,m=f.size,m>0){Y4++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;var C=qa(x),N;try{for(C.s();!(N=C.n()).done;){var P=N.value,D=P[0],F=P[1];if(!(D==="root"||!F)){var I=i.get(D);I!==void 0&&LE(I,o)&&DE(e,I,c),n.set(D,F)}}}catch(q){C.e(q)}finally{C.f()}f=e._dirtyLeaves,m=f.size,x=e._dirtyElements,E=x.size,Y4++}e._dirtyLeaves=r,e._dirtyElements=n}function qM(t,e){var r=new Map,n=new Y8(r),i={originalSelection:t._selection},o=no,c=ao,f=Oi;no=n,ao=!1,Oi=e;try{var m=new Map(t._nodeMap),x=m.get("root");B8(x,m,e,null,i)}finally{no=o,ao=c,Oi=f}return n._selection=UH(i.remappedSelection||i.originalSelection),n}function xH(t,e){var r=no,n=ao,i=Oi;no=t,ao=!0,Oi=null;try{return e()}finally{no=r,ao=n,Oi=i}}function kH(t){var e=t._nodeMap;e.set=function(){throw new Error("Cannot call set() on a frozen Lexical node map")},e.clear=function(){throw new Error("Cannot call clear() on a frozen Lexical node map")},e.delete=function(){throw new Error("Cannot call delete() on a frozen Lexical node map")}}function Ff(t){var e=t._pendingEditorState,r=t._rootElement;if(!(r===null||e===null)){var n=t._editorState,i=n._selection,o=e._selection,c=t._dirtyType!==$f;t._pendingEditorState=null,t._editorState=e;var f=no,m=ao,x=Oi,E=t._updating;Oi=t,no=e,ao=!1,t._updating=!0;try{var b=mH(r,n,e,i,o,c,t);b!==null&&SH(t,n,e,b)}catch(P){t._onError(P),wx||(oI(t,null,r,e),JM(t),t._dirtyType=fp,wx=!0,Ff(t),wx=!1);return}finally{t._updating=E,no=f,ao=m,Oi=x}e._readOnly=!0,kH(e);var S=t._dirtyLeaves,g=t._dirtyElements,O=t._normalizedNodes,C=t._updateTags;c&&(t._dirtyType=$f,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),qB(t,e);var N=t._pendingDecorators;N!==null&&(t._decorators=N,t._pendingDecorators=null,fv("decorator",t,!0,N)),CH(t,n,e),fv("update",t,!0,{dirtyElements:g,dirtyLeaves:S,editorState:e,normalizedNodes:O,prevEditorState:n,tags:C}),_H(t),EH(t)}}function CH(t,e,r){var n=EE(e),i=EE(r);n!==i&&fv("textcontent",t,!0,i)}function SH(t,e,r,n){var i=t._listeners.mutation;i.forEach(function(o,c){var f=n.get(o);f!==void 0&&c(f)})}function fv(t,e,r){var n=e._updating;e._updating=r;try{for(var i=Array.from(e._listeners[t]),o=arguments.length,c=new Array(o>3?o-3:0),f=3;f<o;f++)c[f-3]=arguments[f];for(var m=0;m<i.length;m++)i[m].apply(i,c)}finally{e._updating=n}}function YM(t,e,r){if(t._updating===!1||Oi!==t){var n=!1;return t.update(function(){n=YM(t,e,r)}),n}for(var i=R8(t),o=4;o>=0;o--)for(var c=0;c<i.length;c++){var f=i[c],m=f._commands,x=m.get(e);if(x!==void 0){var E=x[o];if(E!==void 0){var b=qa(E),S;try{for(b.s();!(S=b.n()).done;){var g=S.value;if(g(r,t)===!0)return!0}}catch(O){b.e(O)}finally{b.f()}}}}return!1}function EH(t){var e=t._updates;if(e.length!==0){var r=e.shift(),n=Se(r,2),i=n[0],o=n[1];XM(t,i,o)}}function _H(t){var e=t._deferred;if(t._deferred=[],e.length!==0){var r=t._updating;t._updating=!0;try{for(var n=0;n<e.length;n++)e[n]()}finally{t._updating=r}}}function PE(t){for(var e=t._updates,r=!1;e.length!==0;){var n=e.shift(),i=Se(n,2),o=i[0],c=i[1],f=void 0,m=void 0;c!==void 0&&(f=c.onUpdate,m=c.tag,c.skipTransforms&&(r=!0),f&&t._deferred.push(f),m&&t._updateTags.add(m)),o()}return r}function XM(t,e,r){var n=t._updateTags,i,o,c=!1;r!==void 0&&(i=r.onUpdate,o=r.tag,o!=null&&n.add(o),c=r.skipTransforms),i&&t._deferred.push(i);var f=t._editorState,m=t._pendingEditorState,x=!1;m===null&&(m=t._pendingEditorState=VH(f),x=!0);var E=no,b=ao,S=Oi,g=t._updating;no=m,ao=!1,t._updating=!0,Oi=t;try{x&&(m._selection=BH(t));var O=t._compositionKey;e(),c=PE(t),KH(m,t),t._dirtyType!==$f&&(c?bH(m,t):wH(m,t),PE(t),YB(f,m,t._dirtyLeaves,t._dirtyElements));var C=t._compositionKey;O!==C&&(m._flushSync=!0);var N=m._selection;if(De(N)){var P=m._nodeMap,D=N.anchor.key,F=N.focus.key;if(P.get(D)===void 0||P.get(F)===void 0)throw Error("updateEditor: selection has been lost because the previously selected nodes have been removed and selection wasn't moved to another node. Ensure selection changes after removing/replacing a selected node.")}else Ls(N)&&N._nodes.size===0&&(m._selection=null)}catch(q){t._onError(q),t._pendingEditorState=f,t._dirtyType=fp,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),Ff(t);return}finally{no=E,ao=b,Oi=S,t._updating=g,Y4=0}var I=t._dirtyType!==$f||GH(m,t);I?m._flushSync?(m._flushSync=!1,Ff(t)):x&&hB(function(){Ff(t)}):(m._flushSync=!1,x&&(n.clear(),t._deferred=[],t._pendingEditorState=null))}function cl(t,e,r){t._updating?t._updates.push([e,r]):XM(t,e,r)}var TH=100,d5=!1,$8=0;function OH(){return d5}function AH(t){$8=t.timeStamp}function MH(){$8===0&&window.addEventListener("textInput",AH,!0)}function xx(t,e,r){return e.__lexicalLineBreak===t||t["__lexicalKey_"+r._key]!==void 0}function IH(t){return t.getEditorState().read(function(){var e=Me();return e!==null?e.clone():null})}function DH(t,e,r){var n=Kl(),i=null,o=null;n!==null&&n.anchorNode===t&&(i=n.anchorOffset,o=n.focusOffset);var c=t.nodeValue;F8(e,c,i,o,!1)}function ZM(t,e,r){d5=!0;var n=performance.now()-$8>TH;try{cl(t,function(){for(var i=new Map,o=t.getRootElement(),c=t._editorState,f=!1,m="",x=0;x<e.length;x++){var E=e[x],b=E.type,S=E.target,g=ul(S,c);if(!fa(g)){if(b==="characterData")n&&S.nodeType===cp&&Ue(g)&&g.isAttached()&&DH(S,g,t);else if(b==="childList"){f=!0;for(var O=E.addedNodes,C=0;C<O.length;C++){var N=O[C],P=OM(N),D=N.parentNode;if(D!=null&&P===null&&(N.nodeName!=="BR"||!xx(N,D,t))){if(o5){var F=N.innerText||N.nodeValue;F&&(m+=F)}D.removeChild(N)}}var I=E.removedNodes,q=I.length;if(q>0){for(var V=0,te=0;te<q;te++){var ne=I[te];ne.nodeName==="BR"&&xx(ne,S,t)&&(S.appendChild(ne),V++)}q!==V&&(S===o&&(g=MM(c)),i.set(S,g))}}}}if(i.size>0){var W=qa(i),de;try{for(W.s();!(de=W.n()).done;){var ie=Se(de.value,2),ue=ie[0],ve=ie[1];if(Je(ve))for(var pe=ve.__children,xe=ue.firstChild,Oe=0;Oe<pe.length;Oe++){var Fe=pe[Oe],ye=t.getElementByKey(Fe);ye!==null&&(xe==null?(ue.appendChild(ye),xe=ye):xe!==ye&&ue.replaceChild(ye,xe),xe=xe.nextSibling)}else Ue(ve)&&ve.markDirty()}}catch(be){W.e(be)}finally{W.f()}}var Pe=r.takeRecords();if(Pe.length>0){for(var ze=0;ze<Pe.length;ze++)for(var Ze=Pe[ze],G=Ze.addedNodes,A=Ze.target,zt=0;zt<G.length;zt++){var Ht=G[zt],Zt=Ht.parentNode;Zt!=null&&Ht.nodeName==="BR"&&!xx(Ht,A,t)&&Zt.removeChild(Ht)}r.takeRecords()}var Ne=Me()||IH(t);Ne!==null&&(f&&(Ne.dirty=!0,Ta(Ne)),o5&&NM()&&Ne.insertRawText(m))})}finally{d5=!1}}function QM(t){var e=t._observer;if(e!==null){var r=e.takeRecords();ZM(t,r,e)}}function JM(t){MH(),t._observer=new MutationObserver(function(e,r){ZM(t,e,r)})}var LH=function(){function t(e,r,n){ar(this,t),this.key=e,this.offset=r,this.type=n}return ir(t,[{key:"is",value:function(r){return this.key===r.key&&this.offset===r.offset&&this.type===r.type}},{key:"isBefore",value:function(r){var n=this.getNode(),i=r.getNode(),o=this.offset,c=r.offset;return Je(n)&&(n=n.getDescendantByIndex(o)),Je(i)&&(i=i.getDescendantByIndex(c)),n===i?o<c:n.isBefore(i)}},{key:"getCharacterOffset",value:function(){return this.type==="text"?this.offset:0}},{key:"getNode",value:function(){var r=this.key,n=qt(r);if(n===null)throw Error("Point.getNode: node not found");return n}},{key:"set",value:function(r,n,i){var o=Me(),c=this.key;this.key=r,this.offset=n,this.type=i,GM()||(Qc()===c&&Ci(r),o!==null&&(o.anchor===this||o.focus===this)&&(o.dirty=!0))}}]),t}();function dl(t,e,r){return new LH(t,e,r)}function kx(t,e){var r=e.__key,n=t.offset,i="element";if(Ue(e)){i="text";var o=e.getTextContentSize();n>o&&(n=o)}t.set(r,n,i)}function NE(t,e){if(Je(e)){var r=e.getLastDescendant();Je(r)||Ue(r)?kx(t,r):kx(t,e)}else Ue(e)&&kx(t,e)}function jE(t,e,r){var n=t.getNode(),i=n.getChildAtIndex(t.offset),o=gr(),c=fn(n)?Tr().append(o):o;o.setFormat(r),i===null?n.append(c):i.insertBefore(c),t.is(e)&&e.set(o.__key,0,"text"),t.set(o.__key,0,"text")}function Kc(t,e,r,n){t.key=e,t.offset=r,t.type=n}var G8=function(){function t(e){ar(this,t),this.dirty=!1,this._nodes=e}return ir(t,[{key:"is",value:function(r){if(!Ls(r))return!1;var n=this._nodes,i=r._nodes;return n.size===i.size&&Array.from(n).every(function(o){return i.has(o)})}},{key:"add",value:function(r){this.dirty=!0,this._nodes.add(r)}},{key:"delete",value:function(r){this.dirty=!0,this._nodes.delete(r)}},{key:"clear",value:function(){this.dirty=!0,this._nodes.clear()}},{key:"has",value:function(r){return this._nodes.has(r)}},{key:"clone",value:function(){return new t(new Set(this._nodes))}},{key:"extract",value:function(){return this.getNodes()}},{key:"insertRawText",value:function(r){}},{key:"insertText",value:function(){}},{key:"getNodes",value:function(){var r=this._nodes,n=[],i=qa(r),o;try{for(i.s();!(o=i.n()).done;){var c=o.value,f=qt(c);f!==null&&n.push(f)}}catch(m){i.e(m)}finally{i.f()}return n}},{key:"getTextContent",value:function(){for(var r=this.getNodes(),n="",i=0;i<r.length;i++)n+=r[i].getTextContent();return n}}]),t}();function De(t){return t instanceof Nv}var V8=function(){function t(e,r,n){ar(this,t),this.gridKey=e,this.anchorCellKey=r,this.anchor=dl(r,0,"element"),this.focusCellKey=n,this.focus=dl(n,0,"element"),this.dirty=!1}return ir(t,[{key:"is",value:function(r){return Mn(r)?this.gridKey===r.gridKey&&this.anchorCellKey===r.anchorCellKey&&this.focusCellKey===r.focusCellKey:!1}},{key:"set",value:function(r,n,i){this.dirty=!0,this.gridKey=r,this.anchorCellKey=n,this.focusCellKey=i}},{key:"clone",value:function(){return new t(this.gridKey,this.anchorCellKey,this.focusCellKey)}},{key:"isCollapsed",value:function(){return!1}},{key:"isBackward",value:function(){return this.focus.isBefore(this.anchor)}},{key:"extract",value:function(){return this.getNodes()}},{key:"insertRawText",value:function(r){}},{key:"insertText",value:function(){}},{key:"getShape",value:function(){var r=qt(this.anchorCellKey);if(!r)throw Error("getNodes: expected to find AnchorNode");var n=r.getIndexWithinParent(),i=r.getParentOrThrow().getIndexWithinParent(),o=qt(this.focusCellKey);if(!o)throw Error("getNodes: expected to find FocusNode");var c=o.getIndexWithinParent(),f=o.getParentOrThrow().getIndexWithinParent(),m=Math.min(n,c),x=Math.max(n,c),E=Math.min(i,f),b=Math.max(i,f);return{fromX:Math.min(m,x),fromY:Math.min(E,b),toX:Math.max(m,x),toY:Math.max(E,b)}}},{key:"getNodes",value:function(){var r=new Set,n=this.getShape(),i=n.fromX,o=n.fromY,c=n.toX,f=n.toY,m=qt(this.gridKey);if(!iU(m))throw Error("getNodes: expected to find GridNode");r.add(m);for(var x=m.getChildren(),E=o;E<=f;E++){var b=x[E];if(r.add(b),!oU(b))throw Error("getNodes: expected to find GridRowNode");for(var S=b.getChildren(),g=i;g<=c;g++){var O=S[g];if(!aU(O))throw Error("getNodes: expected to find GridCellNode");r.add(O);for(var C=O.getChildren();C.length>0;){var N=C.shift();r.add(N),Je(N)&&C.unshift.apply(C,jt(N.getChildren()))}}}return Array.from(r)}},{key:"getTextContent",value:function(){for(var r=this.getNodes(),n="",i=0;i<r.length;i++)n+=r[i].getTextContent();return n}}]),t}();function Mn(t){return t instanceof V8}var Nv=function(){function t(e,r,n){ar(this,t),this.anchor=e,this.focus=r,this.dirty=!1,this.format=n}return ir(t,[{key:"is",value:function(r){return De(r)?this.anchor.is(r.anchor)&&this.focus.is(r.focus)&&this.format===r.format:!1}},{key:"isBackward",value:function(){return this.focus.isBefore(this.anchor)}},{key:"isCollapsed",value:function(){return this.anchor.is(this.focus)}},{key:"getNodes",value:function(){var r=this.anchor,n=this.focus,i=r.getNode(),o=n.getNode();return Je(i)&&(i=i.getDescendantByIndex(r.offset)),Je(o)&&(o=o.getDescendantByIndex(n.offset)),i.is(o)?Je(i)?[]:[i]:i.getNodesBetween(o)}},{key:"setTextNodeRange",value:function(r,n,i,o){Kc(this.anchor,r.__key,n,"text"),Kc(this.focus,i.__key,o,"text"),this.dirty=!0}},{key:"getTextContent",value:function(){var r=this.getNodes();if(r.length===0)return"";for(var n=r[0],i=r[r.length-1],o=this.anchor,c=this.focus,f=o.isBefore(c),m=o.getCharacterOffset(),x=c.getCharacterOffset(),E="",b=!0,S=0;S<r.length;S++){var g=r[S];if(Je(g)&&!g.isInline())b||(E+=`
`),g.isEmpty()?b=!1:b=!0;else if(b=!1,Ue(g)){var O=g.getTextContent();g===n?g===i?O=m<x?O.slice(m,x):O.slice(x,m):O=f?O.slice(m):O.slice(x):g===i&&(O=f?O.slice(0,x):O.slice(0,m)),E+=O}else(fa(g)||Aa(g))&&(g!==i||!this.isCollapsed())&&(E+=g.getTextContent())}return E}},{key:"applyDOMRange",value:function(r){var n=Na(),i=n.getEditorState(),o=i._selection,c=eI(r.startContainer,r.startOffset,r.endContainer,r.endOffset,n,o);if(c!==null){var f=Se(c,2),m=f[0],x=f[1];Kc(this.anchor,m.key,m.offset,m.type),Kc(this.focus,x.key,x.offset,x.type)}}},{key:"clone",value:function(){var r=this.anchor,n=this.focus;return new t(dl(r.key,r.offset,r.type),dl(n.key,n.offset,n.type),this.format)}},{key:"toggleFormat",value:function(r){this.format=TM(this.format,r,null),this.dirty=!0}},{key:"hasFormat",value:function(r){var n=dp[r];return(this.format&n)!==0}},{key:"insertRawText",value:function(r){var n=r.split(/\r?\n/);if(n.length===1)this.insertText(r);else{for(var i=[],o=n.length,c=0;c<o;c++){var f=n[c];f!==""&&i.push(gr(f)),c!==o-1&&i.push(n0())}this.insertNodes(i)}}},{key:"insertText",value:function(r){var n=this.anchor,i=this.focus,o=this.isCollapsed()||n.isBefore(i),c=this.format;o&&n.type==="element"?jE(n,i,c):!o&&i.type==="element"&&jE(i,n,c);var f=this.getNodes(),m=f.length,x=o?n:i,E=o?i:n,b=x.offset,S=E.offset,g=f[0];if(!Ue(g))throw Error("insertText: first node is not a text node");var O=g.getTextContent(),C=O.length,N=g.getParentOrThrow();if(this.isCollapsed()&&b===C&&(g.isSegmented()||g.isToken()||!g.canInsertTextAfter()||!N.canInsertTextAfter())){var P=g.getNextSibling();if((!Ue(P)||ku(P)||P.isSegmented())&&(P=gr(),N.canInsertTextAfter()?g.insertAfter(P):N.insertAfter(P)),P.select(0,0),g=P,r!==""){this.insertText(r);return}}else if(this.isCollapsed()&&b===0&&(g.isSegmented()||g.isToken()||!g.canInsertTextBefore()||!N.canInsertTextBefore())){var D=g.getPreviousSibling();if((!Ue(D)||ku(D)||D.isSegmented())&&(D=gr(),N.canInsertTextBefore()?g.insertBefore(D):N.insertBefore(D)),D.select(),g=D,r!==""){this.insertText(r);return}}else if(g.isSegmented()&&b!==C){var F=gr(g.getTextContent());g.replace(F),g=F}if(m===1){if(ku(g)){var I=gr(r);I.select(),g.replace(I);return}var q=g.getFormat();if(b===S&&q!==c)if(g.getTextContent()==="")g.setFormat(c);else{var V=gr(r);if(V.setFormat(c),V.select(),b===0)g.insertBefore(V);else{var te=g.splitText(b),ne=Se(te,1),W=ne[0];W.insertAfter(V)}V.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=r.length);return}var de=S-b;g=g.spliceText(b,de,r,!0),g.getTextContent()===""?g.remove():g.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=r.length)}else{var ie=m-1,ue=f[ie],ve=new Set([].concat(jt(g.getParentKeys()),jt(ue.getParentKeys()))),pe=Je(g)?g:g.getParentOrThrow(),xe=Je(ue)?ue:ue.getParentOrThrow();if(E.type==="text"&&(S!==0||ue.getTextContent()==="")||E.type==="element"&&ue.getIndexWithinParent()<S)if(Ue(ue)&&!ku(ue)&&S!==ue.getTextContentSize()){if(ue.isSegmented()){var Oe=gr(ue.getTextContent());ue.replace(Oe),ue=Oe}ue=ue.spliceText(0,S,""),ve.add(ue.__key)}else ue.remove();else ve.add(ue.__key);var Fe=xe.getChildren(),ye=new Set(f),Pe=pe.is(xe);if(!xe.canBeEmpty()&&pe!==xe)pe.append(xe);else{for(var ze=Fe.length-1;ze>=0;ze--){var Ze=Fe[ze];if(Ze.is(g)||Je(Ze)&&Ze.isParentOf(g))break;Ze.isAttached()&&(!ye.has(Ze)||Ze.is(ue)?Pe||g.insertAfter(Ze):Ze.remove())}if(!Pe)for(var G=xe,A=null;G!==null;){var zt=G.getChildren(),Ht=zt.length;(Ht===0||zt[Ht-1].is(A))&&(ve.delete(G.__key),A=G),G=G.getParent()}}if(!ku(g))g=g.spliceText(b,C-b,r,!0),g.getTextContent()===""?g.remove():g.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=r.length);else if(b===C)g.select();else{var Zt=gr(r);Zt.select(),g.replace(Zt)}for(var Ne=1;Ne<m;Ne++){var be=f[Ne],Ke=be.__key;ve.has(Ke)||be.remove()}}}},{key:"removeText",value:function(){this.insertText("")}},{key:"formatText",value:function(r){var n=this.getNodes(),i=n.length,o=i-1,c=n[0],f=n[o];if(this.isCollapsed()){this.toggleFormat(r),Ci(null);return}for(var m=this.anchor,x=this.focus,E=c.getTextContent(),b=E.length,S=x.offset,g=0,O=0;O<n.length;O++){var C=n[O];if(Ue(C)){g=C.getFormatFlags(r,null);break}}var N=m.offset,P,D,F=m.isBefore(x);if(P=F?N:S,D=F?S:N,P===c.getTextContentSize()){var I=c.getNextSibling();Ue(I)&&(N=0,P=0,c=I,g=c.getFormatFlags(r,null))}if(c.is(f)){if(Ue(c)){if(m.type==="element"&&x.type==="element"){c.setFormat(g),c.select(P,D),this.format=g;return}if(P=N>S?S:N,D=N>S?N:S,P===D)return;if(P===0&&D===b)c.setFormat(g),c.select(P,D);else{var q=c.splitText(P,D),V=P===0?q[0]:q[1];V.setFormat(g),V.select(0,D-P)}this.format=g}}else{if(Ue(c)){if(P!==0){var te=c.splitText(P),ne=Se(te,2);c=ne[1],P=0}c.setFormat(g)}var W=g;if(Ue(f)){W=f.getFormatFlags(r,g);var de=f.getTextContent(),ie=de.length;if(D!==0){if(D!==ie){var ue=f.splitText(D),ve=Se(ue,1);f=ve[0]}f.setFormat(W)}}for(var pe=1;pe<o;pe++){var xe=n[pe],Oe=xe.__key;if(Ue(xe)&&Oe!==c.__key&&Oe!==f.__key&&!xe.isToken()){var Fe=xe.getFormatFlags(r,W);xe.setFormat(Fe)}}}}},{key:"insertNodes",value:function(r,n){this.isCollapsed()||this.removeText();var i=this.anchor,o=i.offset,c=i.getNode(),f=c;if(i.type==="element"){var m=i.getNode(),x=m.getChildAtIndex(o-1);x===null?f=m:f=x}var E=[],b=c.getNextSiblings(),S=fn(c)?null:c.getTopLevelElementOrThrow();if(Ue(c)){var g=c.getTextContent(),O=g.length;if(o===0&&O!==0){var C=c.getPreviousSibling();C!==null?f=C:f=c.getParentOrThrow(),E.push(c)}else if(o===O)f=c;else{if(ku(c))return!1;var N,P=c.splitText(o),D=Se(P,2);f=D[0],N=D[1],E.push(N)}}var F=f;E.push.apply(E,jt(b));for(var I=r[0],q=!1,V=null,te=0;te<r.length;te++){var ne=r[te];if(Je(ne)){if(ne.is(I)){if(Je(f)&&f.isEmpty()&&f.canReplaceWith(ne)){f.replace(ne),f=ne,q=!0;continue}var W=ne.getFirstDescendant();if(Pv(W)){for(var de=W.getParentOrThrow();de.isInline();)de=de.getParentOrThrow();var ie=de.getChildren(),ue=ie.length;if(Je(f))for(var ve=0;ve<ue;ve++)V=ie[ve],f.append(V);else{for(var pe=ue-1;pe>=0;pe--)V=ie[pe],f.insertAfter(V);f=f.getParentOrThrow()}if(de.remove(),q=!0,de.is(ne))continue}}if(Ue(f)){if(S===null)throw Error("insertNode: topLevelElement is root node");f=S}}else if(q&&!fa(ne)&&fn(f.getParent()))throw Error("insertNodes: cannot insert a non-element into a root node");if(q=!1,Je(f))if(V=ne,fa(ne)&&ne.isTopLevel())f=f.insertAfter(ne);else if(Je(ne)){if(!ne.canBeEmpty()&&ne.isEmpty())continue;if(fn(f)){var Oe=f.getChildAtIndex(o);Oe!==null?Oe.insertBefore(ne):f.append(ne),f=ne}else f=f.insertAfter(ne)}else{var xe=f.getFirstChild();xe!==null?xe.insertBefore(ne):f.append(ne),f=ne}else if(!Je(ne)||fa(f)&&f.isTopLevel())V=ne,f=f.insertAfter(ne);else{f=ne.getParentOrThrow(),te--;continue}}if(n)if(Ue(F))F.select();else{var Fe=f.getPreviousSibling();if(Ue(Fe))Fe.select();else{var ye=f.getIndexWithinParent();f.getParentOrThrow().select(ye,ye)}}if(Je(f)){var Pe=Ue(V)?V:f.getLastDescendant();if(n||(Pe===null?f.select():Ue(Pe)?Pe.select():Pe.selectNext()),E.length!==0)for(var ze=E.length-1;ze>=0;ze--){var Ze=E[ze],G=Ze.getParentOrThrow();if(Je(f)&&!Je(Ze))f.append(Ze),f=Ze;else if(!Je(f)&&!Je(Ze))f.insertBefore(Ze),f=Ze;else if(Je(Ze)&&!Ze.canInsertAfter(f)){var A=G.constructor.clone(G);if(!Je(A))throw Error("insertNodes: cloned parent clone is not an element");A.append(Ze),f.insertAfter(A)}else f.insertAfter(Ze);G.isEmpty()&&!G.canBeEmpty()&&G.remove()}}else if(!n)if(Ue(f))f.select();else{var zt=f.getParentOrThrow(),Ht=f.getIndexWithinParent()+1;zt.select(Ht,Ht)}return!0}},{key:"insertParagraph",value:function(){this.isCollapsed()||this.removeText();var r=this.anchor,n=r.offset,i,o=[],c=[];if(r.type==="text"){var f=r.getNode();i=f.getParentOrThrow();var m=i.isInline(),x=m?i.getTextContentSize():f.getTextContentSize();if(n===0)o.push(f);else if(m&&(c=i.getNextSiblings()),n!==x&&(o=f.getNextSiblings().reverse(),!m||n!==f.getTextContentSize())){var E=f.splitText(n),b=Se(E,2),S=b[1];o.push(S)}}else{if(i=r.getNode(),fn(i)){var g=Tr(),O=i.getChildAtIndex(n);g.select(),O!==null?O.insertBefore(g):i.append(g);return}o=i.getChildren().slice(n).reverse()}var C=o.length;if(n===0&&C>0&&i.isInline()){i.getParentOrThrow().insertBefore(Tr());return}var N=i.insertNewAfter(this);if(N===null)this.insertLineBreak();else if(Je(N)){var P=i.getFirstChild(),D=n===0&&(i.is(r.getNode())||P&&P.is(r.getNode()));if(D&&C>0){i.insertBefore(N);return}var F=null,I=c.length,q=N.getParentOrThrow();if(I>0)for(var V=0;V<I;V++){var te=c[V];q.append(te)}if(C!==0)for(var ne=0;ne<C;ne++){var W=o[ne];F===null?N.append(W):F.insertBefore(W),F=W}!N.canBeEmpty()&&N.getChildrenSize()===0?(N.selectPrevious(),N.remove()):N.selectStart()}}},{key:"insertLineBreak",value:function(r){var n=n0(),i=this.anchor;if(i.type==="element"){var o=i.getNode();fn(o)&&this.insertParagraph()}r?this.insertNodes([n],!0):this.insertNodes([n])&&n.selectNext(0,0)}},{key:"extract",value:function(){var r=this.getNodes(),n=r.length,i=n-1,o=this.anchor,c=this.focus,f=r[0],m=r[i],x=o.getCharacterOffset(),E=c.getCharacterOffset();if(n===0)return[];if(n===1){if(Ue(f)){var b=x>E?E:x,S=x>E?x:E,g=f.splitText(b,S),O=b===0?g[0]:g[1];return O!=null?[O]:[]}return[f]}var C=o.isBefore(c);if(Ue(f)){var N=C?x:E;if(N===f.getTextContentSize())r.shift();else if(N!==0){var P=f.splitText(N),D=Se(P,2);f=D[1],r[0]=f}}if(Ue(m)){var F=m.getTextContent(),I=F.length,q=C?E:x;if(q===0)r.pop();else if(q!==I){var V=m.splitText(q),te=Se(V,1);m=te[0],r[i]=m}}return r}},{key:"modify",value:function(r,n,i){var o=this.focus,c=this.anchor,f=r==="move",m=PM(o,n);if(fa(m)&&!m.isIsolated()){var x=n?m.getPreviousSibling():m.getNextSibling();if(!Ue(x)){var E=m.getParentOrThrow(),b,S;Je(x)?(S=x.__key,b=n?x.getChildrenSize():0):(b=m.getIndexWithinParent(),S=E.__key,n||b++),o.set(S,b,"element"),f&&c.set(S,b,"element");return}}var g=Kl();if(NH(g,r,n?"backward":"forward",i),g.rangeCount>0){var O=g.getRangeAt(0);this.applyDOMRange(O),!f&&(g.anchorNode!==O.startContainer||g.anchorOffset!==O.startOffset)&&PH(this)}}},{key:"deleteCharacter",value:function(r){if(this.isCollapsed()){var n=this.anchor,i=this.focus,o=n.getNode();if(!r&&(n.type==="element"&&n.offset===o.getChildrenSize()||n.type==="text"&&n.offset===o.getTextContentSize())){var c=o.getNextSibling()||o.getParentOrThrow().getNextSibling();if(Je(c)&&!c.canExtractContents())return}if(this.modify("extend",r,"character"),this.isCollapsed()){if(r&&n.offset===0){var S=n.type==="element"?n.getNode():n.getNode().getParentOrThrow();if(S.collapseAtStart(this))return}}else{var f=i.type==="text"?i.getNode():null;if(o=n.type==="text"?n.getNode():null,f!==null&&f.isSegmented()){var m=i.offset,x=f.getTextContentSize();if(f.is(o)||r&&m!==x||!r&&m!==0){RE(f,r,m);return}}else if(o!==null&&o.isSegmented()){var E=n.offset,b=o.getTextContentSize();if(o.is(f)||r&&E!==0||!r&&E!==b){RE(o,r,E);return}}jH(this,r)}}this.removeText()}},{key:"deleteLine",value:function(r){this.isCollapsed()&&this.modify("extend",r,"lineboundary"),this.removeText()}},{key:"deleteWord",value:function(r){this.isCollapsed()&&this.modify("extend",r,"word"),this.removeText()}}]),t}();function Ls(t){return t instanceof G8}function PH(t){var e=t.focus,r=t.anchor,n=r.key,i=r.offset,o=r.type;Kc(r,e.key,e.offset,e.type),Kc(e,n,i,o)}function NH(t,e,r,n){t.modify(e,r,n)}function jH(t,e){var r=t.anchor,n=t.focus,i=r.getNode(),o=n.getNode();if(i===o&&r.type==="text"&&n.type==="text"){var c=r.offset,f=n.offset,m=c<f,x=m?c:f,E=m?f:c,b=E-1;if(x!==b){var S=i.getTextContent().slice(x,E);xB(S)||(e?n.offset=b:r.offset=b)}}}function RE(t,e,r){for(var n=t,i=n.getTextContent(),o=i.split(/\s/g),c=o.length,f=0,m=0,x=0;x<c;x++){var E=o[x],b=x===c-1;if(m=f,f+=E.length,e&&f===r||f>r||b){o.splice(x,1),b&&(m=void 0);break}}var S=o.join(" ");S===""?n.remove():(n.setTextContent(S),n.select(m,m))}function RH(t,e,r){var n=t.getParent();return r===null||n===null||!n.canBeEmpty()||n!==r.getNode()}function FE(t,e,r){var n=e,i;if(t.nodeType===eB){var o=!1,c=t.childNodes,f=c.length;n===f&&(o=!0,n=f-1);var m=c[n];if(i=T2(m),Ue(i))n=_E(i,o);else{var x=T2(t);if(x===null)return null;if(Je(x)){var E=x.getChildAtIndex(n);if(Je(E)&&RH(E,n,r)){var b=o?E.getLastDescendant():E.getFirstDescendant();b===null?(x=E,n=0):(E=b,x=E.getParentOrThrow())}Ue(E)?(i=E,x=null,n=_E(i,o)):E!==x&&o&&n++}else{var S=x.getIndexWithinParent();e===0&&fa(x)&&T2(t)===x?n=S:n=S+1,x=x.getParentOrThrow()}if(Je(x))return dl(x.__key,n,"element")}}else i=T2(t);return Ue(i)?dl(i.__key,n,"text"):null}function eI(t,e,r,n,i,o){if(t===null||r===null||!EM(i,t,r))return null;var c=FE(t,e,De(o)?o.anchor:null);if(c===null)return null;var f=FE(r,n,De(o)?o.focus:null);if(f===null)return null;if(c.type==="text"&&f.type==="text"){var m=c.getNode(),x=f.getNode(),E=m.getTextContentSize(),b=c.offset,S=f.offset;if(m===x&&b===S){if(e===0){var g=m.getPreviousSibling();if(Ue(g)&&!g.isInert()){var O=g.getTextContentSize(),C=g.__key;c.key=C,f.key=C,c.offset=O,f.offset=O}}}else if(b===E){var N=m.getNextSibling();Ue(N)&&!N.isInert()&&(c.key=N.__key,c.offset=0)}if(i.isComposing()&&i._compositionKey!==c.key&&De(o)){var P=o.anchor,D=o.focus;Kc(c,P.key,P.offset,P.type),Kc(f,D.key,D.offset,D.type)}}return[c,f]}function tI(t,e,r,n,i,o){var c=zs(),f=new Nv(dl(t,e,i),dl(r,n,o),0);return f.dirty=!0,c._selection=f,f}function dv(){var t=dl("root",0,"element"),e=dl("root",0,"element");return new Nv(t,e,0)}function FH(){return new G8(new Set)}function zE(){return new V8("root","root","root")}function zH(){var t=window.event;return t&&t.type}function BH(t){var e=t.getEditorState(),r=e._selection,n=Kl();return Ls(r)||Mn(r)?r.clone():HH(r,n,t)}function HH(t,e,r){var n=zH(),i=n==="selectionchange",o=!OH()&&(i||n==="beforeinput"||n==="compositionstart"||n==="compositionend"||n==="click"&&window.event.detail===3||n===void 0),c,f,m,x;if(!De(t)||o){if(e===null)return null;c=e.anchorNode,f=e.focusNode,m=e.anchorOffset,x=e.focusOffset}else return t.clone();var E=eI(c,m,f,x,r,t);if(E===null)return null;var b=Se(E,2),S=b[0],g=b[1];return new Nv(S,g,De(t)?t.format:0)}function Me(){var t=zs();return t._selection}function rI(){var t=Na();return t._editorState._selection}function UH(t){if(t!==null){if(t.type==="range")return new Nv(dl(t.anchor.key,t.anchor.offset,t.anchor.type),dl(t.focus.key,t.focus.offset,t.focus.type),0);if(t.type==="node")return new G8(new Set(t.nodes));if(t.type==="grid")return new V8(t.gridKey,t.anchorCellKey,t.focusCellKey)}return null}function X4(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,i=t.anchor,o=t.focus,c=i.getNode(),f=o.getNode();if(!(!e.is(c)&&!e.is(f))){var m=e.__key;if(t.isCollapsed()){var x=i.offset;if(r<=x){var E=Math.max(0,x+n);i.set(m,E,"element"),o.set(m,E,"element"),BE(t)}return}var b=t.isBackward(),S=b?o:i,g=S.getNode(),O=b?i:o,C=O.getNode();if(e.is(g)){var N=S.offset;r<=N&&S.set(m,Math.max(0,N+n),"element")}if(e.is(C)){var P=O.offset;r<=P&&O.set(m,Math.max(0,P+n),"element")}BE(t)}}function BE(t){var e=t.anchor,r=e.offset,n=t.focus,i=n.offset,o=e.getNode(),c=n.getNode();if(t.isCollapsed()){if(!Je(o))return;var f=o.getChildrenSize(),m=r>=f,x=m?o.getChildAtIndex(f-1):o.getChildAtIndex(r);if(Ue(x)){var E=0;m&&(E=x.getTextContentSize()),e.set(x.__key,E,"text"),n.set(x.__key,E,"text")}return}if(Je(o)){var b=o.getChildrenSize(),S=r>=b,g=S?o.getChildAtIndex(b-1):o.getChildAtIndex(r);if(Ue(g)){var O=0;S&&(O=g.getTextContentSize()),e.set(g.__key,O,"text")}}if(Je(c)){var C=c.getChildrenSize(),N=i>=C,P=N?c.getChildAtIndex(C-1):c.getChildAtIndex(i);if(Ue(P)){var D=0;N&&(D=P.getTextContentSize()),n.set(P.__key,D,"text")}}}function KH(t,e){var r=e.getEditorState(),n=r._selection,i=t._selection;if(De(i)){var o=i.anchor,c=i.focus,f;if(o.type==="text"&&(f=o.getNode(),f.selectionTransform(n,i)),c.type==="text"){var m=c.getNode();f!==m&&m.selectionTransform(n,i)}}}function Z4(t,e,r,n,i){var o=null,c=0,f=null;n!==null?(o=n.__key,Ue(n)?(c=n.getTextContentSize(),f="text"):Je(n)&&(c=n.getChildrenSize(),f="element")):i!==null&&(o=i.__key,Ue(i)?f="text":Je(i)&&(f="element")),o!==null&&f!==null?t.set(o,c,f):(c=e.getIndexWithinParent(),c===-1&&(c=r.getChildrenSize()),t.set(r.__key,c,"element"))}function HE(t,e,r,n,i){t.type==="text"?(t.key=r,e||(t.offset+=i)):t.offset>n.getIndexWithinParent()&&(t.offset-=1)}function h5(t,e){nn();var r=t.__key,n=t.getParent();if(n!==null){var i=Me(),o=!1;if(De(i)&&e){var c=i.anchor,f=i.focus;c.key===r&&(Z4(c,t,n,t.getPreviousSibling(),t.getNextSibling()),o=!0),f.key===r&&(Z4(f,t,n,t.getPreviousSibling(),t.getNextSibling()),o=!0)}var m=n.getWritable(),x=m.__children,E=x.indexOf(r);if(E===-1)throw Error("Node is not a child of its parent");qh(t),x.splice(E,1);var b=t.getWritable();b.__parent=null,De(i)&&e&&!o&&X4(i,n,E,-1),n!==null&&!fn(n)&&!n.canBeEmpty()&&n.isEmpty()&&h5(n,e),n!==null&&fn(n)&&n.isEmpty()&&n.selectEnd()}}function UE(t){var e=qt(t);if(e===null)throw Error("Expected node with key ".concat(t," to exist but it's not in the nodeMap."));return e}var V3=function(){function t(e){var r=this;ar(this,t),this.__type=this.constructor.getType(),this.__parent=null,vB(this,e);{var n=Object.getPrototypeOf(this);["getType","clone"].forEach(function(i){n.constructor.hasOwnProperty(i)||console.warn("".concat(r.constructor.name,' must implement static "').concat(i,'" method'))}),this.__type!=="root"&&(nn(),WH(this.__type,this.constructor))}}return ir(t,[{key:"getType",value:function(){return this.__type}},{key:"isAttached",value:function(){for(var r=this.__key;r!==null;){if(r==="root")return!0;var n=qt(r);if(n===null)break;r=n.__parent}return!1}},{key:"isSelected",value:function(){var r=Me();if(r==null)return!1;var n=new Set(r.getNodes().map(function(o){return o.__key})),i=n.has(this.__key);return Ue(this)?i:De(r)&&r.anchor.type==="element"&&r.focus.type==="element"&&r.anchor.key===r.focus.key&&r.anchor.offset===r.focus.offset?!1:i}},{key:"getKey",value:function(){return this.__key}},{key:"getIndexWithinParent",value:function(){var r=this.getParent();if(r===null)return-1;var n=r.__children;return n.indexOf(this.__key)}},{key:"getParent",value:function(){var r=this.getLatest().__parent;return r===null?null:qt(r)}},{key:"getParentOrThrow",value:function(){var r=this.getParent();if(r===null)throw Error("Expected node ".concat(this.__key," to have a parent."));return r}},{key:"getTopLevelElement",value:function(){for(var r=this;r!==null;){var n=r.getParent();if(fn(n)&&Je(r))return r;r=n}return null}},{key:"getTopLevelElementOrThrow",value:function(){var r=this.getTopLevelElement();if(r===null)throw Error("Expected node ".concat(this.__key," to have a top parent element."));return r}},{key:"getParents",value:function(){for(var r=[],n=this.getParent();n!==null;)r.push(n),n=n.getParent();return r}},{key:"getParentKeys",value:function(){for(var r=[],n=this.getParent();n!==null;)r.push(n.__key),n=n.getParent();return r}},{key:"getPreviousSibling",value:function(){var r=this.getParent();if(r===null)return null;var n=r.__children,i=n.indexOf(this.__key);return i<=0?null:qt(n[i-1])}},{key:"getPreviousSiblings",value:function(){var r=this.getParent();if(r===null)return[];var n=r.__children,i=n.indexOf(this.__key);return n.slice(0,i).map(function(o){return UE(o)})}},{key:"getNextSibling",value:function(){var r=this.getParent();if(r===null)return null;var n=r.__children,i=n.length,o=n.indexOf(this.__key);return o>=i-1?null:qt(n[o+1])}},{key:"getNextSiblings",value:function(){var r=this.getParent();if(r===null)return[];var n=r.__children,i=n.indexOf(this.__key);return n.slice(i+1).map(function(o){return UE(o)})}},{key:"getCommonAncestor",value:function(r){var n=this.getParents(),i=r.getParents();Je(this)&&n.unshift(this),Je(r)&&i.unshift(r);var o=n.length,c=i.length;if(o===0||c===0||n[o-1]!==i[c-1])return null;for(var f=new Set(i),m=0;m<o;m++){var x=n[m];if(f.has(x))return x}return null}},{key:"is",value:function(r){return r==null?!1:this.__key===r.__key}},{key:"isBefore",value:function(r){if(r.isParentOf(this))return!0;if(this.isParentOf(r))return!1;for(var n=this.getCommonAncestor(r),i=0,o=0,c=this;;){var f=c.getParentOrThrow();if(f===n){i=f.__children.indexOf(c.__key);break}c=f}for(c=r;;){var m=c.getParentOrThrow();if(m===n){o=m.__children.indexOf(c.__key);break}c=m}return i<o}},{key:"isParentOf",value:function(r){var n=this.__key;if(n===r.__key)return!1;for(var i=r;i!==null;){if(i.__key===n)return!0;i=i.getParent()}return!1}},{key:"getNodesBetween",value:function(r){for(var n=this.isBefore(r),i=[],o=new Set,c=this,f=null;;){var m=c.__key;if(o.has(m)||(o.add(m),i.push(c)),c===r)break;var x=Je(c)?n?c.getFirstChild():c.getLastChild():null;if(x!==null){f===null&&(f=c),c=x;continue}var E=n?c.getNextSibling():c.getPreviousSibling();if(E!==null){c=E;continue}var b=c.getParentOrThrow();if(o.has(b.__key)||i.push(b),b===r)break;var S=null,g=b;b.is(f)&&(f=null);do{if(g===null)throw Error("getNodesBetween: ancestor is null");S=n?g.getNextSibling():g.getPreviousSibling(),g=g.getParent(),g!==null&&(g.is(f)&&(f=null),S===null&&!o.has(g.__key)&&i.push(g))}while(S===null);c=S}return n||i.reverse(),i}},{key:"isDirty",value:function(){var r=Na(),n=r._dirtyLeaves;return n!==null&&n.has(this.__key)}},{key:"isComposing",value:function(){return this.__key===Qc()}},{key:"getLatest",value:function(){var r=qt(this.__key);if(r===null)throw Error("getLatest: node not found");return r}},{key:"getWritable",value:function(){nn();var r=zs(),n=Na(),i=r._nodeMap,o=this.__key,c=this.getLatest(),f=c.__parent,m=n._cloneNotNeeded;if(m.has(o))return hp(c),c;var x=c.constructor,E=x.clone(c);return E.__parent=f,Je(c)&&Je(E)?(E.__children=Array.from(c.__children),E.__indent=c.__indent,E.__format=c.__format,E.__dir=c.__dir):Ue(c)&&Ue(E)&&(E.__format=c.__format,E.__style=c.__style,E.__mode=c.__mode,E.__detail=c.__detail),m.add(o),E.__key=o,hp(E),i.set(o,E),E}},{key:"getTextContent",value:function(r,n){return""}},{key:"getTextContentSize",value:function(r,n){return this.getTextContent(r,n).length}},{key:"createDOM",value:function(r,n){throw Error("createDOM: base method not extended")}},{key:"updateDOM",value:function(r,n,i){throw Error("updateDOM: base method not extended")}},{key:"exportDOM",value:function(r){if(fa(this)){var n=r.getElementByKey(this.getKey());return{element:n?n.cloneNode():null}}var i=this.createDOM(r._config,r);return{element:i}}},{key:"remove",value:function(){nn(),h5(this,!0)}},{key:"replace",value:function(r){nn();var n=this.__key,i=r.getWritable();n4(i);var o=this.getParentOrThrow(),c=o.getWritable(),f=c.__children,m=f.indexOf(this.__key),x=i.__key;if(m===-1)throw Error("Node is not a child of its parent");f.splice(m,0,x),i.__parent=o.__key,h5(this,!1),qh(i);var E=Me();if(De(E)){var b=E.anchor,S=E.focus;b.key===n&&NE(b,i),S.key===n&&NE(S,i)}return Qc()===n&&Ci(x),i}},{key:"insertAfter",value:function(r){nn();var n=this.getWritable(),i=r.getWritable(),o=i.getParent(),c=Me(),f=r.getIndexWithinParent(),m=!1,x=!1;if(o!==null&&(n4(i),De(c))){var E=o.__key,b=c.anchor,S=c.focus;m=b.type==="element"&&b.key===E&&b.offset===f+1,x=S.type==="element"&&S.key===E&&S.offset===f+1}var g=this.getParentOrThrow().getWritable(),O=i.__key;i.__parent=n.__parent;var C=g.__children,N=C.indexOf(n.__key);if(N===-1)throw Error("Node is not a child of its parent");if(C.splice(N+1,0,O),qh(i),De(c)){X4(c,g,N+1);var P=g.__key;m&&c.anchor.set(P,N+2,"element"),x&&c.focus.set(P,N+2,"element")}return r}},{key:"insertBefore",value:function(r){nn();var n=this.getWritable(),i=r.getWritable();n4(i);var o=this.getParentOrThrow().getWritable(),c=i.__key;i.__parent=n.__parent;var f=o.__children,m=f.indexOf(n.__key);if(m===-1)throw Error("Node is not a child of its parent");f.splice(m,0,c),qh(i);var x=Me();return De(x)&&X4(x,o,m),r}},{key:"selectPrevious",value:function(r,n){nn();var i=this.getPreviousSibling(),o=this.getParentOrThrow();if(i===null)return o.select(0,0);if(Je(i))return i.select();if(!Ue(i)){var c=i.getIndexWithinParent()+1;return o.select(c,c)}return i.select(r,n)}},{key:"selectNext",value:function(r,n){nn();var i=this.getNextSibling(),o=this.getParentOrThrow();if(i===null)return o.select();if(Je(i))return i.select(0,0);if(!Ue(i)){var c=i.getIndexWithinParent();return o.select(c,c)}return i.select(r,n)}},{key:"markDirty",value:function(){this.getWritable()}}],[{key:"getType",value:function(){throw Error("LexicalNode: Node ".concat(this.name," does not implement .getType()."))}},{key:"clone",value:function(r){throw Error("LexicalNode: Node ".concat(this.name," does not implement .clone()."))}},{key:"importDOM",value:function(){return null}}]),t}();function WH(t,e){var r=Na()._nodes.get(t);if(r===void 0)throw Error("Create node: Attempted to create node ".concat(e.name," that was not previously registered on the editor. You can use register your custom nodes."));var n=r.klass;if(n!==e)throw Error("Create node: Type ".concat(t," in node ").concat(e.name," does not match registered node ").concat(n.name," with the same type"))}var Fu=function(t){jr(r,t);var e=Rr(r);function r(n){var i;ar(this,r),i=e.call(this,n);{var o=Object.getPrototypeOf(uM(i));["decorate"].forEach(function(c){o.hasOwnProperty(c)||console.warn("".concat(i.constructor.name,' must implement "').concat(c,'" method'))})}return i}return ir(r,[{key:"decorate",value:function(i){throw Error("decorate: base method not extended")}},{key:"isIsolated",value:function(){return!1}},{key:"isTopLevel",value:function(){return!1}}]),r}(V3);function fa(t){return t instanceof Fu}var Mo=function(t){jr(r,t);var e=Rr(r);function r(n){var i;return ar(this,r),i=e.call(this,n),i.__children=[],i.__format=0,i.__indent=0,i.__dir=null,i}return ir(r,[{key:"getFormat",value:function(){var i=this.getLatest();return i.__format}},{key:"getIndent",value:function(){var i=this.getLatest();return i.__indent}},{key:"getChildren",value:function(){for(var i=this.getLatest(),o=i.__children,c=[],f=0;f<o.length;f++){var m=qt(o[f]);m!==null&&c.push(m)}return c}},{key:"getChildrenKeys",value:function(){return this.getLatest().__children}},{key:"getChildrenSize",value:function(){var i=this.getLatest();return i.__children.length}},{key:"isEmpty",value:function(){return this.getChildrenSize()===0}},{key:"isDirty",value:function(){var i=Na(),o=i._dirtyElements;return o!==null&&o.has(this.__key)}},{key:"getAllTextNodes",value:function(i){for(var o=[],c=this.getLatest(),f=c.__children,m=0;m<f.length;m++){var x=qt(f[m]);if(Ue(x)&&(i||!x.isInert()))o.push(x);else if(Je(x)){var E=x.getAllTextNodes(i);o.push.apply(o,jt(E))}}return o}},{key:"getFirstDescendant",value:function(){for(var i=this.getFirstChild();i!==null;){if(Je(i)){var o=i.getFirstChild();if(o!==null){i=o;continue}}break}return i}},{key:"getLastDescendant",value:function(){for(var i=this.getLastChild();i!==null;){if(Je(i)){var o=i.getLastChild();if(o!==null){i=o;continue}}break}return i}},{key:"getDescendantByIndex",value:function(i){var o=this.getChildren(),c=o.length;if(c===0)return this;if(i>=c){var f=o[c-1];return Je(f)&&f.getLastDescendant()||f}var m=o[i];return Je(m)&&m.getFirstDescendant()||m}},{key:"getFirstChild",value:function(){var i=this.getLatest(),o=i.__children,c=o.length;return c===0?null:qt(o[0])}},{key:"getFirstChildOrThrow",value:function(){var i=this.getFirstChild();if(i===null)throw Error("Expected node ".concat(this.__key," to have a first child."));return i}},{key:"getLastChild",value:function(){var i=this.getLatest(),o=i.__children,c=o.length;return c===0?null:qt(o[c-1])}},{key:"getChildAtIndex",value:function(i){var o=this.getLatest(),c=o.__children,f=c[i];return f===void 0?null:qt(f)}},{key:"getTextContent",value:function(i,o){for(var c="",f=this.getChildren(),m=f.length,x=0;x<m;x++){var E=f[x];c+=E.getTextContent(i,o),Je(E)&&x!==m-1&&!E.isInline()&&(c+=`

`)}return c}},{key:"getDirection",value:function(){var i=this.getLatest();return i.__dir}},{key:"hasFormat",value:function(i){var o=SE[i];return(this.getFormat()&o)!==0}},{key:"select",value:function(i,o){nn();var c=Me(),f=i,m=o,x=this.getChildrenSize();f===void 0&&(f=x),m===void 0&&(m=x);var E=this.__key;if(De(c))c.anchor.set(E,f,"element"),c.focus.set(E,m,"element"),c.dirty=!0;else return tI(E,f,E,m,"element","element");return c}},{key:"selectStart",value:function(){var i=this.getFirstDescendant();return Je(i)||Ue(i)?i.select(0,0):i!==null?i.selectPrevious():this.select(0,0)}},{key:"selectEnd",value:function(){var i=this.getLastDescendant();return Je(i)||Ue(i)?i.select():i!==null?i.selectNext():this.select()}},{key:"clear",value:function(){nn();var i=this.getWritable(),o=this.getChildren();return o.forEach(function(c){return c.remove()}),i}},{key:"append",value:function(){nn();for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return this.splice(this.getChildrenSize(),0,o)}},{key:"setDirection",value:function(i){nn();var o=this.getWritable();return o.__dir=i,o}},{key:"setFormat",value:function(i){nn();var o=this.getWritable();return o.__format=SE[i],this}},{key:"setIndent",value:function(i){nn();var o=this.getWritable();return o.__indent=i,this}},{key:"splice",value:function(i,o,c){nn();for(var f=this.getWritable(),m=f.__key,x=f.__children,E=c.length,b=[],S=0;S<E;S++){var g=c[S],O=g.getWritable();if(g.__key===m)throw Error("append: attemtping to append self");n4(O),O.__parent=m;var C=O.__key;b.push(C)}var N=this.getChildAtIndex(i-1);N&&hp(N);var P=this.getChildAtIndex(i+o);P&&hp(P);var D;if(i===x.length?(x.push.apply(x,b),D=[]):D=x.splice.apply(x,[i,o].concat(b)),D.length){var F=Me();if(De(F)){var I=new Set(D),q=new Set(b),V=function(pe){for(var xe=pe.getNode();xe;){var Oe=xe.__key;if(I.has(Oe)&&!q.has(Oe))return!0;xe=xe.getParent()}return!1},te=F.anchor,ne=F.focus;V(te)&&Z4(te,te.getNode(),this,N,P),V(ne)&&Z4(ne,ne.getNode(),this,N,P);for(var W=D.length,de=0;de<W;de++){var ie=qt(D[de]);if(ie!=null){var ue=ie.getWritable();ue.__parent=null}}x.length===0&&!this.canBeEmpty()&&!fn(this)&&this.remove()}}return f}},{key:"insertNewAfter",value:function(i){return null}},{key:"canInsertTab",value:function(){return!1}},{key:"collapseAtStart",value:function(i){return!1}},{key:"excludeFromCopy",value:function(){return!1}},{key:"canExtractContents",value:function(){return!0}},{key:"canReplaceWith",value:function(i){return!0}},{key:"canInsertAfter",value:function(i){return!0}},{key:"canBeEmpty",value:function(){return!0}},{key:"canInsertTextBefore",value:function(){return!0}},{key:"canInsertTextAfter",value:function(){return!0}},{key:"isInline",value:function(){return!1}},{key:"canMergeWith",value:function(i){return!1}}]),r}(V3);function Je(t){return t instanceof Mo}var q8=function(t){jr(r,t);var e=Rr(r);function r(){var n;return ar(this,r),n=e.call(this,"root"),n.__cachedText=null,n}return ir(r,[{key:"getTopLevelElementOrThrow",value:function(){throw Error("getTopLevelElementOrThrow: root nodes are not top level elements")}},{key:"getTextContent",value:function(i,o){var c=this.__cachedText;return(GM()||Na()._dirtyType===$f)&&c!==null&&(!i||o!==!1)?c:Qn(Nn(r.prototype),"getTextContent",this).call(this,i,o)}},{key:"remove",value:function(){throw Error("remove: cannot be called on root nodes")}},{key:"replace",value:function(i){throw Error("replace: cannot be called on root nodes")}},{key:"insertBefore",value:function(i){throw Error("insertBefore: cannot be called on root nodes")}},{key:"insertAfter",value:function(i){throw Error("insertAfter: cannot be called on root nodes")}},{key:"updateDOM",value:function(i,o){return!1}},{key:"append",value:function(){for(var i,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];for(var m=0;m<c.length;m++){var x=c[m];if(!Je(x)&&!fa(x))throw Error("rootNode.append: Only element or decorator nodes can be appended to the root node")}return(i=Qn(Nn(r.prototype),"append",this)).call.apply(i,[this].concat(c))}},{key:"toJSON",value:function(){return{__children:this.__children,__dir:this.__dir,__format:this.__format,__indent:this.__indent,__key:"root",__parent:null,__type:"root"}}}],[{key:"getType",value:function(){return"root"}},{key:"clone",value:function(){return new r}}]),r}(Mo);function $H(){return new q8}function fn(t){return t instanceof q8}function GH(t,e){var r=e.getEditorState()._selection,n=t._selection;if(n!==null){if(n.dirty||!n.is(r))return!0}else if(r!==null)return!0;return!1}function VH(t){return new Y8(new Map(t._nodeMap))}function nI(){return new Y8(new Map([["root",$H()]]))}var Y8=function(){function t(e,r){ar(this,t),this._nodeMap=e,this._selection=r||null,this._flushSync=!1,this._readOnly=!1}return ir(t,[{key:"isEmpty",value:function(){return this._nodeMap.size===1&&this._selection===null}},{key:"read",value:function(r){return xH(this,r)}},{key:"clone",value:function(r){var n=new t(this._nodeMap,r===void 0?this._selection:r);return n._readOnly=!0,n}},{key:"toJSON",value:function(r){var n=this._selection;return{_nodeMap:Array.from(this._nodeMap.entries()),_selection:De(n)?{anchor:{key:n.anchor.key,offset:n.anchor.offset,type:n.anchor.type},focus:{key:n.focus.key,offset:n.focus.offset,type:n.focus.type},type:"range"}:Ls(n)?{nodes:Array.from(n._nodes),type:"node"}:Mn(n)?{anchorCellKey:n.anchorCellKey,focusCellKey:n.focusCellKey,gridKey:n.gridKey,type:"grid"}:null}}}]),t}(),X8=function(t){jr(r,t);var e=Rr(r);function r(n){return ar(this,r),e.call(this,n)}return ir(r,[{key:"getTextContent",value:function(){return`
`}},{key:"createDOM",value:function(){return document.createElement("br")}},{key:"updateDOM",value:function(){return!1}}],[{key:"getType",value:function(){return"linebreak"}},{key:"clone",value:function(i){return new r(i.__key)}},{key:"importDOM",value:function(){return{br:function(o){return{conversion:qH,priority:0}}}}}]),r}(V3);function qH(t){return{node:n0()}}function n0(){return new X8}function Aa(t){return t instanceof X8}function Cx(t,e){return e&gM?"code":null}function Sx(t,e){return e&mM?"strong":e&vM?"em":"span"}function aI(t,e,r,n,i){var o=n.classList,c=a4(i,"base");c!==void 0&&o.add.apply(o,jt(c)),c=a4(i,"underlineStrikethrough");var f=!1,m=e&i5&&e&a5,x=r&i5&&r&a5;c!==void 0&&(x?(f=!0,m||o.add.apply(o,jt(c))):m&&o.remove.apply(o,jt(c)));for(var E in dp){var b=E,S=dp[b];if(c=a4(i,E),c!==void 0)if(r&S){if(f&&(E==="underline"||E==="strikethrough")){e&S&&o.remove.apply(o,jt(c));continue}((e&S)===0||m&&E==="underline"||E==="strikethrough")&&o.add.apply(o,jt(c))}else e&S&&o.remove.apply(o,jt(c))}}function YH(t,e){for(var r=t.length,n=e.length,i=0,o=0;i<r&&i<n&&t[i]===e[i];)i++;for(;o+i<r&&o+i<n&&t[r-o-1]===e[n-o-1];)o++;return[i,r-i-o,e.slice(i,n-o)]}function iI(t,e,r){var n=e.firstChild,i=r.isComposing(),o=i?j8:"",c=t+o;if(n==null)e.textContent=c;else{var f=n.nodeValue;if(f!==c)if(i){var m=YH(f,c),x=Se(m,3),E=x[0],b=x[1],S=x[2];b!==0&&n.deleteData(E,b),n.insertData(E,S)}else n.nodeValue=c}}function KE(t,e,r,n,i,o){iI(i,t,e);var c=o.theme,f=c.text;f!==void 0&&aI(r,0,n,t,f)}var Io=function(t){jr(r,t);var e=Rr(r);function r(n,i){var o;return ar(this,r),o=e.call(this,i),o.__text=n,o.__format=0,o.__style="",o.__mode=0,o.__detail=0,o}return ir(r,[{key:"getFormat",value:function(){var i=this.getLatest();return i.__format}},{key:"getStyle",value:function(){var i=this.getLatest();return i.__style}},{key:"isToken",value:function(){var i=this.getLatest();return i.__mode===dM}},{key:"isSegmented",value:function(){var i=this.getLatest();return i.__mode===hM}},{key:"isInert",value:function(){var i=this.getLatest();return i.__mode===pM}},{key:"isDirectionless",value:function(){var i=this.getLatest();return(i.__detail&kE)!==0}},{key:"isUnmergeable",value:function(){var i=this.getLatest();return(i.__detail&CE)!==0}},{key:"hasFormat",value:function(i){var o=dp[i];return(this.getFormat()&o)!==0}},{key:"isSimpleText",value:function(){return this.__type==="text"&&this.__mode===0}},{key:"getTextContent",value:function(i,o){if(!i&&this.isInert()||o===!1&&this.isDirectionless())return"";var c=this.getLatest();return c.__text}},{key:"getFormatFlags",value:function(i,o){var c=this.getLatest(),f=c.__format;return TM(f,i,o)}},{key:"createDOM",value:function(i){var o=this.__format,c=Cx(this,o),f=Sx(this,o),m=c===null?f:c,x=document.createElement(m),E=x;c!==null&&(E=document.createElement(f),x.appendChild(E));var b=this.__text;KE(E,this,f,o,b,i);var S=this.__style;return S!==""&&(x.style.cssText=S),x}},{key:"updateDOM",value:function(i,o,c){var f=this.__text,m=i.__format,x=this.__format,E=Cx(this,m),b=Cx(this,x),S=Sx(this,m),g=Sx(this,x),O=E===null?S:E,C=b===null?g:b;if(O!==C)return!0;if(E===b&&S!==g){var N=o.firstChild;if(N==null)throw Error("updateDOM: prevInnerDOM is null or undefined");var P=document.createElement(g);return KE(P,this,g,x,f,c),o.replaceChild(P,N),!1}var D=o;if(b!==null&&E!==null&&(D=o.firstChild,D==null))throw Error("updateDOM: innerDOM is null or undefined");iI(f,D,this);var F=c.theme,I=F.text;I!==void 0&&m!==x&&aI(g,m,x,D,I);var q=i.__style,V=this.__style;return q!==V&&(o.style.cssText=V),!1}},{key:"selectionTransform",value:function(i,o){}},{key:"setFormat",value:function(i){nn();var o=this.getWritable();return o.__format=i,o}},{key:"setStyle",value:function(i){nn();var o=this.getWritable();return o.__style=i,o}},{key:"toggleFormat",value:function(i){var o=dp[i];return this.setFormat(this.getFormat()^o)}},{key:"toggleDirectionless",value:function(){nn();var i=this.getWritable();return i.__detail^=kE,i}},{key:"toggleUnmergeable",value:function(){nn();var i=this.getWritable();return i.__detail^=CE,i}},{key:"setMode",value:function(i){nn();var o=oB[i],c=this.getWritable();return c.__mode=o,c}},{key:"setTextContent",value:function(i){nn();var o=this.getWritable();return o.__text=i,o}},{key:"select",value:function(i,o){nn();var c=i,f=o,m=Me(),x=this.getTextContent(),E=this.__key;if(typeof x=="string"){var b=x.length;c===void 0&&(c=b),f===void 0&&(f=b)}else c=0,f=0;if(De(m)){var S=Qc();(S===m.anchor.key||S===m.focus.key)&&Ci(E),m.setTextNodeRange(this,c,this,f)}else return tI(E,c,E,f,"text","text");return m}},{key:"spliceText",value:function(i,o,c,f){nn();var m=this.getWritable(),x=m.__text,E=c.length,b=i;b<0&&(b=E+b,b<0&&(b=0));var S=Me();if(f&&De(S)){var g=i+E;S.setTextNodeRange(m,g,m,g)}var O=x.slice(0,b)+c+x.slice(b+o);return m.setTextContent(O)}},{key:"canInsertTextBefore",value:function(){return!0}},{key:"canInsertTextAfter",value:function(){return!0}},{key:"splitText",value:function(){nn();for(var i=this.getLatest(),o=i.getTextContent(),c=i.__key,f=Qc(),m=arguments.length,x=new Array(m),E=0;E<m;E++)x[E]=arguments[E];for(var b=new Set(x),S=[],g=o.length,O="",C=0;C<g;C++)O!==""&&b.has(C)&&(S.push(O),O=""),O+=o[C];O!==""&&S.push(O);var N=S.length;if(N===0)return[];if(S[0]===o)return[i];var P=S[0],D=i.getParentOrThrow(),F=D.__key,I,q=i.getFormat(),V=i.getStyle(),te=i.__detail,ne=!1;i.isSegmented()?(I=gr(P),I.__parent=F,I.__format=q,I.__style=V,I.__detail=te,ne=!0):(I=i.getWritable(),I.__text=P);for(var W=Me(),de=[I],ie=P.length,ue=1;ue<N;ue++){var ve=S[ue],pe=ve.length,xe=gr(ve).getWritable();xe.__format=q,xe.__style=V,xe.__detail=te;var Oe=xe.__key,Fe=ie+pe;if(De(W)){var ye=W.anchor,Pe=W.focus;ye.key===c&&ye.type==="text"&&ye.offset>ie&&ye.offset<=Fe&&(ye.key=Oe,ye.offset-=ie,W.dirty=!0),Pe.key===c&&Pe.type==="text"&&Pe.offset>ie&&Pe.offset<=Fe&&(Pe.key=Oe,Pe.offset-=ie,W.dirty=!0)}f===c&&Ci(Oe),ie=Fe,xe.__parent=F,de.push(xe)}qh(this);var ze=D.getWritable(),Ze=ze.__children,G=Ze.indexOf(c),A=de.map(function(zt){return zt.__key});return ne?(Ze.splice.apply(Ze,[G,0].concat(jt(A))),this.remove()):Ze.splice.apply(Ze,[G,1].concat(jt(A))),De(W)&&X4(W,D,G,N-1),de}},{key:"mergeWithSibling",value:function(i){var o=i===this.getPreviousSibling();if(!o&&i!==this.getNextSibling())throw Error("mergeWithSibling: sibling must be a previous or next sibling");var c=this.__key,f=i.__key,m=this.__text,x=m.length,E=Qc();E===f&&Ci(c);var b=Me();if(De(b)){var S=b.anchor,g=b.focus;S!==null&&S.key===f&&(HE(S,o,c,i,x),b.dirty=!0),g!==null&&g.key===f&&(HE(g,o,c,i,x),b.dirty=!0)}var O=o?i.__text+m:m+i.__text;return this.setTextContent(O),i.remove(),this.getLatest()}},{key:"isTextEntity",value:function(){return!1}}],[{key:"getType",value:function(){return"text"}},{key:"clone",value:function(i){return new r(i.__text,i.__key)}},{key:"importDOM",value:function(){return{"#text":function(o){return{conversion:QH,priority:0}},b:function(o){return{conversion:ZH,priority:0}},em:function(o){return{conversion:O2,priority:0}},i:function(o){return{conversion:O2,priority:0}},span:function(o){return{conversion:XH,priority:0}},strong:function(o){return{conversion:O2,priority:0}},u:function(o){return{conversion:O2,priority:0}}}}}]),r}(V3);function XH(t){var e=t,r=e.style.fontWeight==="700";return{forChild:function(i){return Ue(i)&&r&&i.toggleFormat("bold"),i},node:null}}function ZH(t){var e=t,r=e.style.fontWeight==="normal";return{forChild:function(i){return Ue(i)&&!r&&i.toggleFormat("bold"),i},node:null}}function QH(t){return{node:gr(t.textContent)}}var JH={em:"italic",i:"italic",strong:"bold",u:"underline"};function O2(t){var e=JH[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:function(n){return Ue(n)&&n.toggleFormat(e),n},node:null}}function gr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return new Io(t)}function Ue(t){return t instanceof Io}var Z8=function(t){jr(r,t);var e=Rr(r);function r(){return ar(this,r),e.apply(this,arguments)}return ir(r,[{key:"createDOM",value:function(i){var o=document.createElement("p"),c=a4(i.theme,"paragraph");if(c!==void 0){var f=o.classList;f.add.apply(f,jt(c))}return o}},{key:"updateDOM",value:function(i,o){return!1}},{key:"exportDOM",value:function(i){var o=Qn(Nn(r.prototype),"exportDOM",this).call(this,i),c=o.element;return c&&this.getTextContentSize()===0&&c.append(document.createElement("br")),{element:c}}},{key:"insertNewAfter",value:function(){var i=Tr(),o=this.getDirection();return i.setDirection(o),this.insertAfter(i),i}},{key:"collapseAtStart",value:function(){var i=this.getChildren();if(i.length===0||Ue(i[0])&&i[0].getTextContent().trim()===""){var o=this.getNextSibling();if(o!==null)return this.selectNext(),this.remove(),!0;var c=this.getPreviousSibling();if(c!==null)return this.selectPrevious(),this.remove(),!0}return!1}}],[{key:"getType",value:function(){return"paragraph"}},{key:"clone",value:function(i){return new r(i.__key)}},{key:"importDOM",value:function(){return{p:function(o){return{conversion:eU,priority:0}}}}}]),r}(Mo);function eU(){return{node:Tr()}}function Tr(){return new Z8}function Gf(t){return t instanceof Z8}var Nt=0,$n=1,WE=3,wi=4;function oI(t,e,r,n){var i=t._keyToDOMMap;i.clear(),t._editorState=nI(),t._pendingEditorState=n,t._compositionKey=null,t._dirtyType=$f,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[];var o=t._observer;o!==null&&(o.disconnect(),t._observer=null),e!==null&&(e.textContent=""),r!==null&&(r.textContent="",i.set("root",r))}function tU(t){var e=new Map,r=new Set;return t.forEach(function(n){var i=n.klass.importDOM;if(!r.has(i)){r.add(i);var o=i();o!==null&&Object.keys(o).forEach(function(c){var f=e.get(c);f===void 0&&(f=[],e.set(c,f)),f.push(o[c])})}}),e}function jv(t){for(var e=t||{},r=e.namespace||kB(),n=e.theme||{},i=e.context||{},o=e.parentEditor||null,c=e.disableEvents||!1,f=nI(),m=e.editorState,x=[q8,Io,X8,Z8].concat(jt(e.nodes||[])),E=e.onError,b=e.readOnly||!1,S=new Map,g=0;g<x.length;g++){var O=x[g],C=O.getType();S.set(C,{klass:O,transforms:new Set})}var N=new rU(f,o,S,{context:i,disableEvents:c,namespace:r,theme:n},E,tU(S),b);return m!==void 0&&(N._pendingEditorState=m,N._dirtyType=fp),N}var rU=function(){function t(e,r,n,i,o,c,f){ar(this,t),this._parentEditor=r,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,mutation:new Map,readonly:new Set,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=$f,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=SM(),this._onError=o,this._htmlConversions=c,this._readOnly=!1}return ir(t,[{key:"isComposing",value:function(){return this._compositionKey!=null}},{key:"registerUpdateListener",value:function(r){var n=this._listeners.update;return n.add(r),function(){n.delete(r)}}},{key:"registerReadOnlyListener",value:function(r){var n=this._listeners.readonly;return n.add(r),function(){n.delete(r)}}},{key:"registerDecoratorListener",value:function(r){var n=this._listeners.decorator;return n.add(r),function(){n.delete(r)}}},{key:"registerTextContentListener",value:function(r){var n=this._listeners.textcontent;return n.add(r),function(){n.delete(r)}}},{key:"registerRootListener",value:function(r){var n=this,i=this._listeners.root;return r(this._rootElement,null),i.add(r),function(){r(null,n._rootElement),i.delete(r)}}},{key:"registerCommand",value:function(r,n,i){if(i===void 0)throw Error('Listener for type "command" requires a "priority".');var o=this._commands;o.has(r)||o.set(r,[new Set,new Set,new Set,new Set,new Set]);var c=o.get(r);if(c===void 0)throw Error("registerCommand: Command ".concat(r," not found in command map"));var f=c[i];return f.add(n),function(){f.delete(n),c.every(function(m){return m.size===0})&&o.delete(r)}}},{key:"registerMutationListener",value:function(r,n){var i=this._nodes.get(r.getType());if(i===void 0)throw Error("Node ".concat(r.name," has not been registered. Ensure node has been passed to createEditor."));var o=this._listeners.mutation;return o.set(n,r),function(){o.delete(n)}}},{key:"registerNodeTransform",value:function(r,n){var i=r.getType(),o=this._nodes.get(i);if(o===void 0)throw Error("Node ".concat(r.name," has not been registered. Ensure node has been passed to createEditor."));var c=o.transforms;return c.add(n),yB(this,i),function(){c.delete(n)}}},{key:"hasNodes",value:function(r){for(var n=0;n<r.length;n++){var i=r[n],o=i.getType();if(!this._nodes.has(o))return!1}return!0}},{key:"dispatchCommand",value:function(r,n){return Bt(this,r,n)}},{key:"getDecorators",value:function(){return this._decorators}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getKey",value:function(){return this._key}},{key:"setRootElement",value:function(r){var n=this._rootElement;if(r!==n){var i=this._pendingEditorState||this._editorState;if(this._rootElement=r,oI(this,n,r,i),n!==null&&(this._config.disableEvents||oH(n)),r!==null){var o=r.style;o.userSelect="text",o.whiteSpace="pre-wrap",o.wordBreak="break-word",r.setAttribute("data-lexical-editor","true"),this._dirtyType=fp,JM(this),this._updateTags.add("history-merge"),Ff(this),this._config.disableEvents||iH(r,this)}fv("root",this,!1,r,n)}}},{key:"getElementByKey",value:function(r){return this._keyToDOMMap.get(r)||null}},{key:"getEditorState",value:function(){return this._editorState}},{key:"setEditorState",value:function(r,n){if(r.isEmpty())throw Error("setEditorState: the editor state is empty. Ensure the editor state's root node never becomes empty.");QM(this);var i=this._pendingEditorState,o=this._updateTags,c=n!==void 0?n.tag:null;i!==null&&!i.isEmpty()&&(c!=null&&o.add(c),Ff(this)),this._pendingEditorState=r,this._dirtyType=fp,this._compositionKey=null,c!=null&&o.add(c),Ff(this)}},{key:"parseEditorState",value:function(r){var n=JSON.parse(r);return qM(n,this)}},{key:"update",value:function(r,n){cl(this,r,n)}},{key:"focus",value:function(r){var n=this._rootElement;n!==null&&(n.setAttribute("autocapitalize","off"),cl(this,function(){var i=Me(),o=Sn();i!==null?i.dirty=!0:o.getChildrenSize()!==0&&o.selectEnd()},{onUpdate:function(){n.removeAttribute("autocapitalize"),r&&r()}}))}},{key:"blur",value:function(){var r=this._rootElement;r!==null&&r.blur();var n=Kl();n!==null&&n.removeAllRanges()}},{key:"isReadOnly",value:function(){return this._readOnly}},{key:"setReadOnly",value:function(r){this._readOnly=r,fv("readonly",this,!0,r)}},{key:"toJSON",value:function(){return{editorState:this._editorState}}}]),t}(),nU="0.2.1",lI=function(t){jr(r,t);var e=Rr(r);function r(n,i){return ar(this,r),e.call(this,i)}return ir(r)}(Mo);function aU(t){return t instanceof lI}var sI=function(t){jr(r,t);var e=Rr(r);function r(){return ar(this,r),e.apply(this,arguments)}return ir(r)}(Mo);function iU(t){return t instanceof sI}var uI=function(t){jr(r,t);var e=Rr(r);function r(){return ar(this,r),e.apply(this,arguments)}return ir(r)}(Mo);function oU(t){return t instanceof uI}function er(){return{}}var Es=er(),q3=er(),nl=er(),Vf=er(),mp=er(),_s=er(),Y3=er(),Q4=er(),vp=er(),gp=er(),Ea=er(),_p=er(),Tp=er(),X3=er(),Z3=er(),qf=er(),hv=er(),yp=er(),Op=er(),Q3=er(),Rv=er(),J3=er(),a0=er(),zf=er(),Q8=er(),vm=er(),J8=er(),e7=er(),t7=er(),r7=er(),cI=er(),n7=er(),eb=er(),a7=er(),fI=er(),hl=h0?re.exports.useLayoutEffect:re.exports.useEffect,tb={exports:{}},rb={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lU=re.exports,sU=Symbol.for("react.element"),uU=Symbol.for("react.fragment"),cU=Object.prototype.hasOwnProperty,fU=lU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dU={key:!0,ref:!0,__self:!0,__source:!0};function dI(t,e,r){var n,i={},o=null,c=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(c=e.ref);for(n in e)cU.call(e,n)&&!dU.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:sU,type:t,key:o,ref:c,props:i,_owner:fU.current}}rb.Fragment=uU;rb.jsx=dI;rb.jsxs=dI;tb.exports=rb;const Q=tb.exports.jsx,ct=tb.exports.jsxs,dn=tb.exports.Fragment;function hU(t){var e=t.initialConfig,r=t.children,n=re.exports.useMemo(function(){var i=e.theme,o=e.namespace,c=e.editor__DEPRECATED,f=e.nodes,m=e.onError,x=cM(null,i),E=c||null;if(E===null){var b=jv({context:x,namespace:o,nodes:f,onError:function(g){return m(g,b)},readOnly:!0,theme:i});E=b}return[E,x]},[]);return hl(function(){var i=e.readOnly,o=Se(n,1),c=o[0];c.setReadOnly(i||!1)},[]),Q($4.Provider,{value:n,children:r})}var $E=window.location.hostname,J4=$E!=="playground.lexical.dev"&&$E!=="lexical-playground.vercel.app",pv={disableBeforeInput:!1,emptyEditor:J4,isAutocomplete:!1,isCharLimit:!1,isCharLimitUtf8:!1,isCollab:!1,isRichText:!0,measureTypingPerf:!1,showNestedEditorTreeView:!1,showTreeView:!0},hI=re.exports.createContext({setOption:function(e,r){},settings:{}}),pU=function(e){var r=e.children,n=re.exports.useState(pv),i=Se(n,2),o=i[0],c=i[1],f=re.exports.useCallback(function(x,E){c(function(b){return xt(xt({},b),{},Om({},x,E))}),pv[x]===E?GE(x,null):GE(x,E)},[]),m=re.exports.useMemo(function(){return{setOption:f,settings:o}},[f,o]);return Q(hI.Provider,{value:m,children:r})},nb=function(){return re.exports.useContext(hI)};function GE(t,e){var r=new URL(window.location.href),n=new URLSearchParams(r.search);e!==null?n.has(t)?n.set(t,String(e)):n.append(t,String(e)):n.has(t)&&n.delete(t),r.search=n.toString(),window.history.pushState(null,"",r.toString())}function pl(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach(function(i){if(i!=null&&typeof i=="string"){var o;(o=t.classList).add.apply(o,jt(i.split(" ")))}})}function i7(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach(function(i){var o;(o=t.classList).remove.apply(o,jt(i.split(" ")))})}function mU(t,e){for(var r=[],n=(t||Sn()).getLatest(),i=e||(Je(n)?n.getLastDescendant():n),o=n,c=vU(o);o!==null&&!o.is(i);)if(r.push({depth:c,node:o}),Je(o)&&o.getChildrenSize()>0)o=o.getFirstChild(),c++;else for(var f=null;f===null&&o!==null;)f=o.getNextSibling(),f===null?(o=o.getParent(),c--):o=f;return o!==null&&o.is(i)&&r.push({depth:c,node:o}),r}function vU(t){for(var e=t,r=0;(e=e.getParent())!==null;)r++;return r}function pI(t,e){for(var r=t;r!=null;){if(r instanceof e)return r;r=r.getParent()}return r}function A2(t){var e=Ka(t,function(r){return Je(r)&&!r.isInline()});if(!Je(e))throw Error("Expected node ".concat(t.__key," to have closest block element node."));return e}function Ka(t,e){for(var r=t;r!==Sn()&&r!=null;){if(e(r))return r;r=r.getParent()}return null}function pa(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(){e.forEach(function(n){return n()})}}var Ex=0,p5=1,m5=2,Fl=0,gU=1,VE=2,yU=3,bU=4;function wU(t,e,r){var n=t._nodeMap,i=[],o=qa(e),c;try{for(o.s();!(c=o.n()).done;){var f=c.value,m=n.get(f);m!==void 0&&i.push(m)}}catch(C){o.e(C)}finally{o.f()}var x=qa(r),E;try{for(x.s();!(E=x.n()).done;){var b=Se(E.value,2),S=b[0],g=b[1];if(!!g){var O=n.get(S);O!==void 0&&!fn(O)&&i.push(O)}}}catch(C){x.e(C)}finally{x.f()}return i}function xU(t,e,r,n,i){if(t===null||r.size===0&&n.size===0)return Fl;var o=e._selection,c=t._selection;if(i)return gU;if(!De(o)||!De(c)||!c.isCollapsed()||!o.isCollapsed())return Fl;var f=wU(e,r,n);if(f.length===0)return Fl;if(f.length>1){var m=e._nodeMap,x=m.get(o.anchor.key),E=m.get(c.anchor.key);return x&&E&&!t._nodeMap.has(x.__key)&&Ue(x)&&x.__text.length===1&&o.anchor.offset===1?VE:Fl}var b=f[0],S=t._nodeMap.get(b.__key);if(!Ue(S)||!Ue(b)||S.__mode!==b.__mode)return Fl;var g=S.__text,O=b.__text;if(g===O)return Fl;var C=o.anchor,N=c.anchor;if(C.key!==N.key||C.type!=="text")return Fl;var P=C.offset,D=N.offset,F=O.length-g.length;return F===1&&D===P-1?VE:F===-1&&D===P+1?yU:F===-1&&D===P?bU:Fl}function kU(t,e){var r=Date.now(),n=Fl;return function(i,o,c,f,m,x){var E=Date.now();if(x.has("historic"))return n=Fl,r=E,m5;var b=xU(i,o,f,m,t.isComposing()),S=function(){var g=x.has("history-push"),O=!g&&x.has("history-merge");if(O)return Ex;if(i===null)return p5;var C=o._selection,N=i._selection,P=f.size>0||m.size>0;if(!P)return N===null&&C!==null?Ex:m5;var D=c===null||c.editor===t;return g===!1&&b!==Fl&&b===n&&E<r+e&&D?Ex:p5}();return r=E,n=b,S}}function CU(t,e){var r=e.redoStack,n=e.undoStack;if(r.length!==0){var i=e.current;i!==null&&(n.push(i),t.dispatchCommand(eb,!0));var o=r.pop();r.length===0&&t.dispatchCommand(n7,!1),e.current=o,o.editor.setEditorState(o.editorState,{tag:"historic"})}}function SU(t,e){var r=e.redoStack,n=e.undoStack,i=n.length;if(i!==0){var o=e.current,c=n.pop();o!==null&&(r.push(o),t.dispatchCommand(n7,!0)),n.length===0&&t.dispatchCommand(eb,!1),e.current=c,c.editor.setEditorState(c.editorState.clone(c.undoSelection),{tag:"historic"})}}function qE(t){t.undoStack=[],t.redoStack=[],t.current=null}function EU(t,e,r){var n=kU(t,r),i=function(m){var x=m.editorState,E=m.prevEditorState,b=m.dirtyLeaves,S=m.dirtyElements,g=m.tags,O=e.current,C=e.redoStack,N=e.undoStack,P=O===null?null:O.editorState;if(!(O!==null&&x===P)){var D=n(E,x,O,b,S,g);if(D===p5)C.length!==0&&(e.redoStack=[]),O!==null&&(N.push(xt(xt({},O),{},{undoSelection:E.read(Me)})),t.dispatchCommand(eb,!0));else if(D===m5)return;e.current={editor:t,editorState:x}}},o=pa(t.registerCommand(_p,function(){return SU(t,e),!0},Nt),t.registerCommand(Tp,function(){return CU(t,e),!0},Nt),t.registerCommand(r7,function(){return qE(e),!1},Nt),t.registerCommand(cI,function(){return qE(e),!0},Nt),t.registerUpdateListener(i)),c=t.registerUpdateListener(i);return function(){o(),c()}}function mI(){return{current:null,redoStack:[],undoStack:[]}}function _U(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,n=re.exports.useMemo(function(){return e||mI()},[e]);re.exports.useEffect(function(){return EU(t,n,r)},[r,t,n])}function e3(t){var e=t.externalHistoryState,r=sr(),n=Se(r,1),i=n[0];return _U(i,e),null}var vI=re.exports.createContext({historyState:{current:null,redoStack:[],undoStack:[]}}),TU=function(e){var r=e.children,n=re.exports.useMemo(function(){return{historyState:mI()}},[]);return Q(vI.Provider,{value:n,children:r})},o7=function(){return re.exports.useContext(vI)},Fv=function(t){jr(r,t);var e=Rr(r);function r(n,i){var o;return ar(this,r),o=e.call(this,i),o.__url=n,o}return ir(r,[{key:"createDOM",value:function(i){var o=document.createElement("a");return o.href=this.__url,pl(o,i.theme.link),o}},{key:"updateDOM",value:function(i,o,c){var f=o,m=this.__url;return m!==i.__url&&(f.href=m),!1}},{key:"getURL",value:function(){return this.getLatest().__url}},{key:"setURL",value:function(i){var o=this.getWritable();o.__url=i}},{key:"insertNewAfter",value:function(i){var o=this.getParentOrThrow().insertNewAfter(i);if(Je(o)){var c=Xh(this.__url);return o.append(c),c}return null}},{key:"canInsertTextBefore",value:function(){return!1}},{key:"canInsertTextAfter",value:function(){return!1}},{key:"canBeEmpty",value:function(){return!1}},{key:"isInline",value:function(){return!0}}],[{key:"getType",value:function(){return"link"}},{key:"clone",value:function(i){return new r(i.__url,i.__key)}},{key:"importDOM",value:function(){return{a:function(o){return{conversion:OU,priority:1}}}}}]),r}(Mo);function OU(t){var e=null;return t instanceof HTMLAnchorElement&&(e=Xh(t.href)),{node:e}}function Xh(t){return new Fv(t)}function ko(t){return t instanceof Fv}var mv=function(t){jr(r,t);var e=Rr(r);function r(){return ar(this,r),e.apply(this,arguments)}return ir(r,[{key:"insertNewAfter",value:function(i){var o=this.getParentOrThrow().insertNewAfter(i);if(Je(o)){var c=gI(this.__url);return o.append(c),c}return null}}],[{key:"getType",value:function(){return"autolink"}},{key:"clone",value:function(i){return new r(i.__url,i.__key)}}]),r}(Fv);function gI(t){return new mv(t)}function v5(t){return t instanceof mv}var Yf=er();function g5(t){for(var e=1,r=t.getParent();r!=null;){if(Wn(r)){var n=r.getParent();if(Yr(n)){e++,r=n.getParent();continue}throw Error("A ListItemNode must have a ListNode for a parent.")}return e}return e}function y5(t){var e=t.getParent();if(!Yr(e))throw Error("A ListItemNode must have a ListNode for a parent.");for(var r=e;r!==null;)r=r.getParent(),Yr(r)&&(e=r);return e}function yI(t){for(var e=[],r=t.getChildren().filter(Wn),n=0;n<r.length;n++){var i=r[n],o=i.getFirstChild();Yr(o)?e=e.concat(yI(o)):e.push(i)}return e}function Oh(t){return Wn(t)&&Yr(t.getFirstChild())}function AU(t){for(var e=t;e!==null;){if(Wn(e))return e;e=e.getParent()}return null}function MU(t){for(var e=new Set,r=0;r<t.length;r++){var n=t[r];Wn(n)&&e.add(n)}return Array.from(e)}function IU(t){for(var e=t;e.getNextSibling()==null&&e.getPreviousSibling()==null;){var r=e.getParent();if(r==null||!(Wn(e)||Yr(e)))break;e=r}e.remove()}function YE(t,e){t.update(function(){var r=Me();if(De(r)){var n=r.getNodes(),i=r.anchor,o=i.getNode(),c=o.getParent();if(n.length===0){var f=ml(e);if(fn(c)){o.replace(f);var m=io();f.append(m)}else if(Wn(o)){var x=o.getParentOrThrow();f.append.apply(f,jt(x.getChildren())),x.replace(f)}return}else for(var E=new Set,b=0;b<n.length;b++){var S=n[b];if(Je(S)&&S.isEmpty()&&!E.has(S.getKey())){XE(S,e);continue}if(Pv(S))for(var g=S.getParent();g!=null;){var O=g.getKey();if(Yr(g)){if(!E.has(O)){var C=ml(e);C.append.apply(C,jt(g.getChildren())),g.replace(C),E.add(O)}break}else{var N=g.getParent();if(fn(N)&&!E.has(O)){E.add(O),XE(g,e);break}g=N}}}}})}function XE(t,e){if(Yr(t))return t;var r=t.getPreviousSibling(),n=t.getNextSibling(),i=io();if(Yr(r)&&e===r.getTag())return i.append(t),r.append(i),Yr(n)&&e===n.getTag()&&(r.append.apply(r,jt(n.getChildren())),n.remove()),r;if(Yr(n)&&e===n.getTag())return i.append(t),n.getFirstChildOrThrow().insertBefore(i),n;var o=ml(e);return o.append(i),t.replace(o),i.append(t),o}function DU(t){t.update(function(){var e=Me();if(De(e)){var r=new Set,n=e.getNodes(),i=e.anchor.getNode();if(n.length===0&&Wn(i))r.add(y5(i));else for(var o=0;o<n.length;o++){var c=n[o];if(Pv(c)){var f=pI(c,ab);f!=null&&r.add(y5(f))}}r.forEach(function(m){var x=m,E=yI(m);E.forEach(function(b){if(b!=null){var S=Tr();S.append.apply(S,jt(b.getChildren())),x.insertAfter(S),x=S,b.remove()}}),m.remove()})}})}function bI(t){t.forEach(function(e){if(!Oh(e)){var r=e.getParent(),n=e.getNextSibling(),i=e.getPreviousSibling();if(Oh(n)&&Oh(i)){var o=i.getFirstChild();if(Yr(o)){o.append(e);var c=n.getFirstChild();if(Yr(c)){var f=c.getChildren();o.append.apply(o,jt(f)),c.remove()}o.getChildren().forEach(function(g){return g.markDirty()})}}else if(Oh(n)){var m=n.getFirstChild();if(Yr(m)){var x=m.getFirstChild();x!==null&&x.insertBefore(e),m.getChildren().forEach(function(g){return g.markDirty()})}}else if(Oh(i)){var E=i.getFirstChild();Yr(E)&&(E.append(e),E.getChildren().forEach(function(g){return g.markDirty()}))}else if(Yr(r)){var b=io(),S=ml(r.getTag());b.append(S),S.append(e),i?i.insertAfter(b):n?n.insertBefore(b):r.append(b)}Yr(r)&&r.getChildren().forEach(function(g){return g.markDirty()})}})}function wI(t){t.forEach(function(e){if(!Oh(e)){var r=e.getParent(),n=r?r.getParent():void 0,i=n?n.getParent():void 0;if(Yr(i)&&Wn(n)&&Yr(r)){var o=r?r.getFirstChild():void 0,c=r?r.getLastChild():void 0;if(e.is(o))n.insertBefore(e),r.isEmpty()&&n.remove();else if(e.is(c))n.insertAfter(e),r.isEmpty()&&n.remove();else{var f=r.getTag(),m=io(),x=ml(f);m.append(x),e.getPreviousSiblings().forEach(function(S){return x.append(S)});var E=io(),b=ml(f);E.append(b),b.append.apply(b,jt(e.getNextSiblings())),n.insertBefore(m),n.insertAfter(E),n.replace(e)}r.getChildren().forEach(function(S){return S.markDirty()}),i.getChildren().forEach(function(S){return S.markDirty()})}}})}function xI(t){var e=Me();if(!De(e))return!1;var r=e.getNodes(),n=[];if(r.length===0&&r.push(e.anchor.getNode()),r.length===1){var i=AU(r[0]);i!==null&&(n=[i])}else n=MU(r);return n.length>0?(t==="indent"?bI(n):wI(n),!0):!1}function LU(){return xI("indent")}function PU(){return xI("outdent")}function NU(){var t=Me();if(!De(t)||!t.isCollapsed())return!1;var e=t.anchor.getNode();if(!Wn(e)||e.getTextContent()!=="")return!1;var r=y5(e),n=e.getParent();if(!Yr(n))throw Error("A ListItemNode must have a ListNode for a parent.");var i=n.getParent(),o;if(fn(i))o=Tr(),r.insertAfter(o);else if(Wn(i))o=io(),i.insertAfter(o);else return!1;o.select();var c=e.getNextSiblings();if(c.length>0){var f=ml(n.getTag());if(Gf(o))o.insertAfter(f);else{var m=io();m.append(f),o.insertAfter(m)}c.forEach(function(x){x.remove(),f.append(x)})}return IU(e),!0}var ab=function(t){jr(r,t);var e=Rr(r);function r(n){return ar(this,r),e.call(this,n)}return ir(r,[{key:"createDOM",value:function(i){var o=document.createElement("li");return o.value=ZE(this),QE(o,i.theme,this),o}},{key:"updateDOM",value:function(i,o,c){return o.value=ZE(this),QE(o,c.theme,this),!1}},{key:"append",value:function(){for(var i=0;i<arguments.length;i++){var o=i<0||arguments.length<=i?void 0:arguments[i];if(Je(o)&&this.canMergeWith(o)){var c=o.getChildren();this.append.apply(this,jt(c)),o.remove()}else Qn(Nn(r.prototype),"append",this).call(this,o)}return this}},{key:"replace",value:function(i){if(Wn(i))return Qn(Nn(r.prototype),"replace",this).call(this,i);var o=this.getParentOrThrow();if(Yr(o)){var c=o.__children,f=c.length,m=c.indexOf(this.__key);if(m===0)o.insertBefore(i);else if(m===f-1)o.insertAfter(i);else{for(var x=ml(o.getTag()),E=o.getChildren(),b=m+1;b<f;b++){var S=E[b];x.append(S)}o.insertAfter(i),i.insertAfter(x)}this.remove(),f===1&&o.remove()}return i}},{key:"insertAfter",value:function(i){var o=this.getNextSiblings();if(Wn(i))return o.forEach(function(b){return b.markDirty()}),Qn(Nn(r.prototype),"insertAfter",this).call(this,i);var c=this.getParentOrThrow();if(!Yr(c))throw Error("insertAfter: list node is not parent of list item node");if(Yr(i)&&i.getTag()===c.getTag()){for(var f=i,m=i.getChildren(),x=m.length-1;x>=0;x--)f=m[x],this.insertAfter(f);return f}if(c.insertAfter(i),o.length!==0){var E=ml(c.getTag());o.forEach(function(b){return E.append(b)}),i.insertAfter(E)}return i}},{key:"insertNewAfter",value:function(){var i=io();return this.insertAfter(i),i}},{key:"collapseAtStart",value:function(i){var o=Tr(),c=this.getChildren();c.forEach(function(g){return o.append(g)});var f=this.getParentOrThrow(),m=f.getParentOrThrow(),x=Wn(m);if(f.getChildrenSize()===1)if(x)f.remove(),m.select();else{f.replace(o);var E=i.anchor,b=i.focus,S=o.getKey();E.type==="element"&&E.getNode().is(this)&&E.set(S,E.offset,"element"),b.type==="element"&&b.getNode().is(this)&&b.set(S,b.offset,"element")}else f.insertBefore(o),this.remove();return!0}},{key:"getIndent",value:function(){for(var i=this.getParentOrThrow().getParentOrThrow(),o=0;Wn(i);)i=i.getParentOrThrow().getParentOrThrow(),o++;return o}},{key:"setIndent",value:function(i){for(var o=this.getIndent();o!==i;)o<i?(bI([this]),o++):(wI([this]),o--);return this}},{key:"insertBefore",value:function(i){var o=this.getNextSiblings();return Wn(i)&&o.forEach(function(c){return c.markDirty()}),Qn(Nn(r.prototype),"insertBefore",this).call(this,i)}},{key:"canInsertAfter",value:function(i){return Wn(i)}},{key:"canReplaceWith",value:function(i){return Wn(i)}},{key:"canMergeWith",value:function(i){return Gf(i)||Wn(i)}}],[{key:"getType",value:function(){return"listitem"}},{key:"clone",value:function(i){return new r(i.__key)}},{key:"importDOM",value:function(){return{li:function(o){return{conversion:jU,priority:0}}}}}]),r}(Mo);function ZE(t){var e=t.getParent(),r=1;if(e!=null)if(Yr(e))r=e.getStart();else throw Error("getListItemValue: list node is not parent of list item node");for(var n=t.getPreviousSiblings(),i=0;i<n.length;i++){var o=n[i];Wn(o)&&!Yr(o.getFirstChild())&&r++}return r}function QE(t,e,r){var n=[],i=[],o=e.list,c=o?o.listitem:void 0,f;if(o&&o.nested&&(f=o.nested.listitem),c!==void 0){var m=c.split(" ");n.push.apply(n,jt(m))}if(f!==void 0){var x=f.split(" ");r.getChildren().some(function(E){return Yr(E)})?n.push.apply(n,jt(x)):i.push.apply(i,jt(x))}n.length>0&&pl.apply(void 0,[t].concat(n)),i.length>0&&i7.apply(void 0,[t].concat(i))}function jU(t){return{node:io()}}function io(){return new ab}function Wn(t){return t instanceof ab}var ib=function(t){jr(r,t);var e=Rr(r);function r(n,i,o){var c;return ar(this,r),c=e.call(this,o),c.__tag=n,c.__start=i,c}return ir(r,[{key:"getTag",value:function(){return this.__tag}},{key:"getStart",value:function(){return this.__start}},{key:"createDOM",value:function(i){var o=this.__tag,c=document.createElement(o);return this.__start!==1&&c.setAttribute("start",String(this.__start)),JE(c,i.theme,this),c}},{key:"updateDOM",value:function(i,o,c){return i.__tag!==this.__tag?!0:(JE(o,c.theme,this),!1)}},{key:"canBeEmpty",value:function(){return!1}},{key:"append",value:function(){for(var i=0;i<arguments.length;i++){var o=i<0||arguments.length<=i?void 0:arguments[i];if(Wn(o))Qn(Nn(r.prototype),"append",this).call(this,o);else{var c=io();if(Yr(o))c.append(o);else{var f=gr(o.getTextContent());c.append(f)}Qn(Nn(r.prototype),"append",this).call(this,c)}}return this}}],[{key:"getType",value:function(){return"list"}},{key:"clone",value:function(i){return new r(i.__tag,i.__start,i.__key)}},{key:"importDOM",value:function(){return{ol:function(o){return{conversion:e_,priority:0}},ul:function(o){return{conversion:e_,priority:0}}}}}]),r}(Mo);function JE(t,e,r){var n=[],i=[],o=e.list;if(o!==void 0){var c=o[r.__tag+"Depth"]||[],f=g5(r)-1,m=f%c.length,x=c[m],E=o[r.__tag],b,S=o.nested;if(S!==void 0&&S.list&&(b=S.list),E!==void 0&&n.push(E),x!==void 0){var g=x.split(" ");n.push.apply(n,jt(g));for(var O=0;O<c.length;O++)O!==m&&i.push(r.__tag+O)}if(b!==void 0){var C=b.split(" ");f>1?n.push.apply(n,jt(C)):i.push.apply(i,jt(C))}}n.length>0&&pl.apply(void 0,[t].concat(n)),i.length>0&&i7.apply(void 0,[t].concat(i))}function e_(t){var e=t.nodeName.toLowerCase(),r=null;return(e==="ol"||e==="ul")&&(r=ml(e)),{node:r}}function ml(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return new ib(t,e)}function Yr(t){return t instanceof ib}var kI=er(),CI=er(),b5=er();function RU(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useEffect(function(){r.focus()},[r]),null}function FU(t){var e=t.scrollRef,r=sr(),n=Se(r,1),i=n[0];return hl(function(){return i.registerUpdateListener(function(o){var c=o.tags,f=o.editorState,m=e.current;if(!(m===null||!c.has("scroll-into-view"))){var x=f.read(function(){return Me()});if(!(!De(x)||!x.isCollapsed())){var E=i.getElementByKey(x.anchor.key);if(E!==null){var b=m.getBoundingClientRect(),S=E.getBoundingClientRect();S.bottom>b.bottom?E.scrollIntoView(!1):S.top<b.top&&E.scrollIntoView()}}}})},[i,e]),null}var ob=function(t){jr(r,t);var e=Rr(r);function r(n){var i;return ar(this,r),i=e.call(this,n),i.__type="overflow",i}return ir(r,[{key:"createDOM",value:function(i){var o=document.createElement("span"),c=i.theme.characterLimit;return typeof c=="string"&&(o.className=c),o}},{key:"updateDOM",value:function(i,o){return!1}},{key:"insertNewAfter",value:function(i){var o=this.getParentOrThrow();return o.insertNewAfter(i)}},{key:"excludeFromCopy",value:function(){return!0}}],[{key:"getType",value:function(){return"overflow"}},{key:"clone",value:function(i){return new r(i.__key)}}]),r}(Mo);function zU(){return new ob}function w5(t){return t instanceof ob}function BU(t,e,r){for(var n="",i=t.getChildren(),o=i.length,c=0;c<o;++c){var f=i[c];if(Ue(f)){var m=f.getTextContent();if(f.is(r.node)){if(r.offset>m.length)throw Error("Node ".concat(f.__key," and selection point do not match."));n+=f.getTextContent().substr(0,r.offset);break}else n+=m}else n+=e}return n}function t_(t,e,r,n){for(var i=n.getChildren(),o=i.length,c=0,f=!1,m=0;m<o&&!(c>e);++m){var x=i[m],E=Ue(x),b=E?x.getTextContent().length:r,S=c+b,g=f===!1&&c===t||c===0&&c===t||c<t&&t<=S;if(g&&Ue(x))return{node:x,offset:t-c};c=S,f=E}return null}function HU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t)return!1;var r=l7();return e&&(r=r.trim()),r===""}function l7(){var t=Sn();return t.getTextContent()}function UU(t){if(!HU(t,!1))return!1;var e=Sn(),r=e.getChildren(),n=r.length;if(n>1)return!1;for(var i=0;i<n;i++){var o=r[i];if(Je(o)){if(o.__type!=="paragraph"||o.__indent!==0)return!1;for(var c=o.getChildren(),f=c.length,m=0;m<f;m++){var x=c[i];if(!Ue(x))return!1}}}return!0}function r_(t){return function(){return UU(t)}}function KU(t,e,r,n){var i=function(S){return S instanceof r},o=function(S){var g=gr(S.getTextContent());g.setFormat(S.getFormat()),S.replace(g)},c=function(S){return S.getLatest().__mode},f=function(S){if(!!S.isSimpleText()){var g=S.getPreviousSibling(),O=S.getTextContent(),C=S,N;if(Ue(g)){var P=g.getTextContent(),D=P+O,F=e(D);if(i(g))if(F===null||c(g)!==0){o(g);return}else{var I=F.end-P.length;if(I>0){var q=O.slice(0,I),V=P+q;if(g.select(),g.setTextContent(V),I===O.length)S.remove();else{var te=O.slice(I);S.setTextContent(te)}return}}else if(F===null||F.start<P.length)return}for(;;){N=e(O);var ne=N===null?"":O.slice(N.end);if(O=ne,ne===""){var W=C.getNextSibling();if(Ue(W)){ne=C.getTextContent()+W.getTextContent();var de=e(ne);if(de===null){i(W)?o(W):W.markDirty();return}else if(de.start!==0)return}}else{var ie=e(ne);if(ie!==null&&ie.start===0)return}if(N===null)return;if(!(N.start===0&&Ue(g)&&g.isTextEntity())){var ue=void 0;if(N.start===0){var ve=C.splitText(N.end),pe=Se(ve,2);ue=pe[0],C=pe[1]}else{var xe=C.splitText(N.start,N.end),Oe=Se(xe,3);ue=Oe[1],C=Oe[2]}var Fe=n(ue);if(ue.replace(Fe),C==null)return}}}},m=function(S){var g=S.getTextContent(),O=e(g);if(O===null||O.start!==0){o(S);return}if(g.length>O.end){S.splitText(O.end);return}var C=S.getPreviousSibling();Ue(C)&&C.isTextEntity()&&(o(C),o(S));var N=S.getNextSibling();Ue(N)&&N.isTextEntity()&&(o(N),i(S)&&o(S))},x=t.registerNodeTransform(Io,f),E=t.registerNodeTransform(r,m);return[x,E]}function WU(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.freeze({}),n=r.strlen,i=n===void 0?function(f){return f.length}:n,o=r.remainingCharacters,c=o===void 0?function(f){}:o;re.exports.useEffect(function(){if(!t.hasNodes([ob]))throw Error("useCharacterLimit: OverflowNode not registered on editor")},[t]),re.exports.useEffect(function(){var f=t.getEditorState().read(l7),m=0;return pa(t.registerTextContentListener(function(x){f=x}),t.registerUpdateListener(function(x){var E=x.dirtyLeaves,b=t.isComposing(),S=E.size>0;if(!(b||!S)){var g=i(f),O=g>e||m!==null&&m>e,C=e-g;if(c(C),m===null||O){var N=$U(f,e,i);t.update(function(){GU(N)},{tag:"history-merge"})}m=g}}))},[t,e,c,i])}function $U(t,e,r){var n=Intl.Segmenter,i=0,o=0;if(typeof n=="function"){var c=new n,f=c.segment(t),m=qa(f),x;try{for(m.s();!(x=m.n()).done;){var E=x.value.segment,b=o+r(E);if(b>e)break;o=b,i+=E.length}}catch(P){m.e(P)}finally{m.f()}}else for(var S=Array.from(t),g=S.length,O=0;O<g;O++){var C=S[O],N=o+r(C);if(N>e)break;o=N,i+=C.length}return i}function GU(t){for(var e=mU(),r=e.length,n=0,i=0;i<r;i+=1){var o=e[i].node;if(w5(o)){var c=n,f=n+o.getTextContentSize();if(f<=t){var m=o.getParent(),x=o.getPreviousSibling(),E=o.getNextSibling();a_(o);var b=Me();De(b)&&(!b.anchor.getNode().isAttached()||!b.focus.getNode().isAttached())&&(Ue(x)?x.select():Ue(E)?E.select():m!==null&&m.select())}else if(c<t){var S=o.getFirstDescendant(),g=S!==null?S.getTextContentSize():0,O=c+g,C=Ue(S)&&S.isSimpleText(),N=O<=t;(C||N)&&a_(o)}}else if(Pv(o)){var P=n;if(n+=o.getTextContentSize(),n>t&&!w5(o.getParent())){var D=Me(),F=void 0;if(P<t&&Ue(o)&&o.isSimpleText()){var I=o.splitText(t-P),q=Se(I,2),V=q[1];F=n_(V)}else F=n_(o);D!==null&&Ta(D),VU(F)}}}}function n_(t){var e=zU();return t.insertBefore(e),e.append(t),e}function a_(t){for(var e=t.getChildren(),r=e.length,n=0;n<r;n++)t.insertBefore(e[n]);return t.remove(),r>0?e[r-1]:null}function VU(t){var e=t.getPreviousSibling();if(!!w5(e)){var r=t.getFirstChild(),n=e.getChildren(),i=n.length;if(r===null)t.append.apply(t,jt(n));else for(var o=0;o<i;o++)r.insertBefore(n[o]);var c=Me();if(De(c)){var f=c.anchor,m=f.getNode(),x=c.focus,E=f.getNode();m.is(e)?f.set(t.getKey(),f.offset,"element"):m.is(t)&&f.set(t.getKey(),i+f.offset,"element"),E.is(e)?x.set(t.getKey(),x.offset,"element"):E.is(t)&&x.set(t.getKey(),i+x.offset,"element")}e.remove()}}var qU=5,_x=null;function YU(){return window.TextEncoder===void 0?null:(_x===null&&(_x=new window.TextEncoder),_x)}function XU(t){var e=YU();if(e===null){var r=encodeURIComponent(t).match(/%[89ABab]/g);return t.length+(r?r.length:0)}return e.encode(t).length}function ZU(t){var e=t.charset,r=e===void 0?"UTF-16":e,n=sr(),i=Se(n,1),o=i[0],c=re.exports.useState(0),f=Se(c,2),m=f[0],x=f[1],E=re.exports.useMemo(function(){return{remainingCharacters:x,strlen:function(S){if(r==="UTF-8")return XU(S);if(r==="UTF-16")return S.length;throw new Error("Unrecognized charset")}}},[r]);return WU(o,qU,E),Q("span",{className:"characters-limit ".concat(m<0?"characters-limit-exceeded":""),children:m})}function QU(t){var e=t.onClear,r=sr(),n=Se(r,1),i=n[0];return hl(function(){return i.registerCommand(r7,function(o){return i.update(function(){if(e==null){var c=Sn(),f=Me(),m=Tr();c.clear(),c.append(m),f!==null&&m.select()}else e()}),!0},Nt)},[i,e]),null}var t3=function(t){jr(r,t);var e=Rr(r);function r(n,i){return ar(this,r),e.call(this,n,i)}return ir(r,[{key:"createDOM",value:function(i){var o=Qn(Nn(r.prototype),"createDOM",this).call(this,i);return pl(o,i.theme.hashtag),o}},{key:"canInsertTextBefore",value:function(){return!1}},{key:"isTextEntity",value:function(){return!0}}],[{key:"getType",value:function(){return"hashtag"}},{key:"clone",value:function(i){return new r(i.__text,i.__key)}}]),r}(Io);function JU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return new t3(t)}function SI(t,e,r){var n=sr(),i=Se(n,1),o=i[0];re.exports.useEffect(function(){return pa.apply(void 0,jt(KU(o,t,e,r)))},[r,o,t,e])}function eK(){var t="\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253-\u0254\u0256-\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF",e="\u0400-\u04FF\u0500-\u0527\u2DE0-\u2DFF\uA640-\uA69F\u0591-\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F4\uFB12-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFB4F\u0610-\u061A\u0620-\u065F\u066E-\u06D3\u06D5-\u06DC\u06DE-\u06E8\u06EA-\u06EF\u06FA-\u06FC\u06FF\u0750-\u077F\u08A0\u08A2-\u08AC\u08E4-\u08FE\uFB50-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\u200C-\u200C\u0E01-\u0E3A\u0E40-\u0E4E\u1100-\u11FF\u3130-\u3185\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\uFFA1-\uFFDC",r=String.fromCharCode,n="\u30A1-\u30FA\u30FC-\u30FE\uFF66-\uFF9F\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\u3041-\u3096\u3099-\u309E\u3400-\u4DBF\u4E00-\u9FFF"+r(173824)+"-"+r(177983)+r(177984)+"-"+r(178207)+r(194560)+"-"+r(195103)+"\u3003\u3005\u303B",i=t+e+n,o="A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u037A\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0640-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u076D\u0780-\u07A5\u07B1\u0904-\u0939\u093D\u0950\u0958-\u0961\u097D\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDD\u0F00\u0F40-\u0F47\u0F49-\u0F6A\u0F88-\u0F8B\u1000-\u1021\u1023-\u1027\u1029-\u102A\u1050-\u1055\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19A9\u19C1-\u19C7\u1A00-\u1A16\u1D00-\u1DBF\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u2094\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2C00-\u2C2E\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3006\u3031-\u3035\u303B-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FBB\uA000-\uA48C\uA800-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",c="\u0300-\u036F\u0483-\u0486\u0591-\u05B9\u05BB-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u0615\u064B-\u065E\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u0901-\u0903\u093C\u093E-\u094D\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7-\u09C8\u09CB-\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A70-\u0A71\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B43\u0B47-\u0B48\u0B4B-\u0B4D\u0B56-\u0B57\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C82-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D82-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2-\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F3E-\u0F3F\u0F71-\u0F84\u0F86-\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102C-\u1032\u1036-\u1039\u1056-\u1059\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8-\u19C9\u1A17-\u1A1B\u1DC0-\u1DC3\u20D0-\u20DC\u20E1\u20E5-\u20EB\u302A-\u302F\u3099-\u309A\uA802\uA806\uA80B\uA823-\uA827\uFB1E\uFE00-\uFE0F\uFE20-\uFE23",f="0-9\u0660-\u0669\u06F0-\u06F9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\uFF10-\uFF19",m=o+c+i,x=f+"_",E=m+x,b="#\\uFF03";return{alpha:m,alphanumeric:E,hashChars:b}}function tK(){var t=eK(),e=t.alpha,r=t.alphanumeric,n=t.hashChars,i="["+e+"]",o="["+r+"]",c="^|$|[^&/"+r+"]",f="["+n+"]",m="("+c+")("+f+")("+o+"*"+i+o+"*)";return m}var rK=new RegExp(tK(),"i");function EI(){var t=sr(),e=Se(t,1),r=e[0];re.exports.useEffect(function(){if(!r.hasNodes([t3]))throw new Error("HashtagPlugin: HashtagNode not registered on editor")},[r]);var n=re.exports.useCallback(function(o){return JU(o.getTextContent())},[]),i=re.exports.useCallback(function(o){var c=rK.exec(o);if(c===null)return null;var f=c[3].length+1,m=c.index+c[1].length,x=m+f;return{end:x,start:m}},[]);return SI(i,t3,n),null}function nK(t){var e=Me();e!==null&&Ta(e);var r=Me();if(r!==null){var n=r.extract();if(t===null)n.forEach(function(m){var x=m.getParent();if(ko(x)){for(var E=x.getChildren(),b=0;b<E.length;b++)x.insertBefore(E[b]);x.remove()}});else{if(n.length===1){var i=n[0];if(ko(i)){i.setURL(t);return}else{var o=i.getParent();if(ko(o)){o.setURL(t);return}}}var c=null,f=null;n.forEach(function(m){var x=m.getParent();if(!(x===f||x===null||Je(m)&&!m.isInline())){if(x.is(c)||(c=x,f=Xh(t),ko(x)?m.getPreviousSibling()===null?x.insertBefore(f):x.insertAfter(f):m.insertBefore(f)),ko(m)){if(f!==null)for(var E=m.getChildren(),b=0;b<E.length;b++)f.append(E[b]);m.remove();return}f!==null&&f.append(m)}})}}}function _I(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useEffect(function(){if(!r.hasNodes([Fv]))throw new Error("LinkPlugin: LinkNode not registered on editor")},[r]),re.exports.useEffect(function(){return r.registerCommand(Yf,function(n){var i=n;return nK(i),!0},Nt)},[r]),null}function aK(t){re.exports.useEffect(function(){return pa(t.registerCommand(a0,function(){var e=LU();return!!e},$n),t.registerCommand(zf,function(){var e=PU();return!!e},$n),t.registerCommand(CI,function(){return YE(t,"ol"),!0},$n),t.registerCommand(kI,function(){return YE(t,"ul"),!0},$n),t.registerCommand(b5,function(){return DU(t),!0},$n),t.registerCommand(mp,function(){var e=NU();return!!e},$n))},[t])}function iK(){var t=sr(),e=Se(t,1),r=e[0];return aK(r),null}var TI={exports:{}};(function(t){var e=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(n){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,c={},f={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function D(F){return F instanceof m?new m(F.type,D(F.content),F.alias):Array.isArray(F)?F.map(D):F.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(D){return Object.prototype.toString.call(D).slice(8,-1)},objId:function(D){return D.__id||Object.defineProperty(D,"__id",{value:++o}),D.__id},clone:function D(F,I){I=I||{};var q,V;switch(f.util.type(F)){case"Object":if(V=f.util.objId(F),I[V])return I[V];q={},I[V]=q;for(var te in F)F.hasOwnProperty(te)&&(q[te]=D(F[te],I));return q;case"Array":return V=f.util.objId(F),I[V]?I[V]:(q=[],I[V]=q,F.forEach(function(ne,W){q[W]=D(ne,I)}),q);default:return F}},getLanguage:function(D){for(;D;){var F=i.exec(D.className);if(F)return F[1].toLowerCase();D=D.parentElement}return"none"},setLanguage:function(D,F){D.className=D.className.replace(RegExp(i,"gi"),""),D.classList.add("language-"+F)},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(q){var D=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(q.stack)||[])[1];if(D){var F=document.getElementsByTagName("script");for(var I in F)if(F[I].src==D)return F[I]}return null}},isActive:function(D,F,I){for(var q="no-"+F;D;){var V=D.classList;if(V.contains(F))return!0;if(V.contains(q))return!1;D=D.parentElement}return!!I}},languages:{plain:c,plaintext:c,text:c,txt:c,extend:function(D,F){var I=f.util.clone(f.languages[D]);for(var q in F)I[q]=F[q];return I},insertBefore:function(D,F,I,q){q=q||f.languages;var V=q[D],te={};for(var ne in V)if(V.hasOwnProperty(ne)){if(ne==F)for(var W in I)I.hasOwnProperty(W)&&(te[W]=I[W]);I.hasOwnProperty(ne)||(te[ne]=V[ne])}var de=q[D];return q[D]=te,f.languages.DFS(f.languages,function(ie,ue){ue===de&&ie!=D&&(this[ie]=te)}),te},DFS:function D(F,I,q,V){V=V||{};var te=f.util.objId;for(var ne in F)if(F.hasOwnProperty(ne)){I.call(F,ne,F[ne],q||ne);var W=F[ne],de=f.util.type(W);de==="Object"&&!V[te(W)]?(V[te(W)]=!0,D(W,I,null,V)):de==="Array"&&!V[te(W)]&&(V[te(W)]=!0,D(W,I,ne,V))}}},plugins:{},highlightAll:function(D,F){f.highlightAllUnder(document,D,F)},highlightAllUnder:function(D,F,I){var q={callback:I,container:D,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};f.hooks.run("before-highlightall",q),q.elements=Array.prototype.slice.apply(q.container.querySelectorAll(q.selector)),f.hooks.run("before-all-elements-highlight",q);for(var V=0,te;te=q.elements[V++];)f.highlightElement(te,F===!0,q.callback)},highlightElement:function(D,F,I){var q=f.util.getLanguage(D),V=f.languages[q];f.util.setLanguage(D,q);var te=D.parentElement;te&&te.nodeName.toLowerCase()==="pre"&&f.util.setLanguage(te,q);var ne=D.textContent,W={element:D,language:q,grammar:V,code:ne};function de(ue){W.highlightedCode=ue,f.hooks.run("before-insert",W),W.element.innerHTML=W.highlightedCode,f.hooks.run("after-highlight",W),f.hooks.run("complete",W),I&&I.call(W.element)}if(f.hooks.run("before-sanity-check",W),te=W.element.parentElement,te&&te.nodeName.toLowerCase()==="pre"&&!te.hasAttribute("tabindex")&&te.setAttribute("tabindex","0"),!W.code){f.hooks.run("complete",W),I&&I.call(W.element);return}if(f.hooks.run("before-highlight",W),!W.grammar){de(f.util.encode(W.code));return}if(F&&n.Worker){var ie=new Worker(f.filename);ie.onmessage=function(ue){de(ue.data)},ie.postMessage(JSON.stringify({language:W.language,code:W.code,immediateClose:!0}))}else de(f.highlight(W.code,W.grammar,W.language))},highlight:function(D,F,I){var q={code:D,grammar:F,language:I};if(f.hooks.run("before-tokenize",q),!q.grammar)throw new Error('The language "'+q.language+'" has no grammar.');return q.tokens=f.tokenize(q.code,q.grammar),f.hooks.run("after-tokenize",q),m.stringify(f.util.encode(q.tokens),q.language)},tokenize:function(D,F){var I=F.rest;if(I){for(var q in I)F[q]=I[q];delete F.rest}var V=new b;return S(V,V.head,D),E(D,V,F,V.head,0),O(V)},hooks:{all:{},add:function(D,F){var I=f.hooks.all;I[D]=I[D]||[],I[D].push(F)},run:function(D,F){var I=f.hooks.all[D];if(!(!I||!I.length))for(var q=0,V;V=I[q++];)V(F)}},Token:m};n.Prism=f;function m(D,F,I,q){this.type=D,this.content=F,this.alias=I,this.length=(q||"").length|0}m.stringify=function D(F,I){if(typeof F=="string")return F;if(Array.isArray(F)){var q="";return F.forEach(function(de){q+=D(de,I)}),q}var V={type:F.type,content:D(F.content,I),tag:"span",classes:["token",F.type],attributes:{},language:I},te=F.alias;te&&(Array.isArray(te)?Array.prototype.push.apply(V.classes,te):V.classes.push(te)),f.hooks.run("wrap",V);var ne="";for(var W in V.attributes)ne+=" "+W+'="'+(V.attributes[W]||"").replace(/"/g,"&quot;")+'"';return"<"+V.tag+' class="'+V.classes.join(" ")+'"'+ne+">"+V.content+"</"+V.tag+">"};function x(D,F,I,q){D.lastIndex=F;var V=D.exec(I);if(V&&q&&V[1]){var te=V[1].length;V.index+=te,V[0]=V[0].slice(te)}return V}function E(D,F,I,q,V,te){for(var ne in I)if(!(!I.hasOwnProperty(ne)||!I[ne])){var W=I[ne];W=Array.isArray(W)?W:[W];for(var de=0;de<W.length;++de){if(te&&te.cause==ne+","+de)return;var ie=W[de],ue=ie.inside,ve=!!ie.lookbehind,pe=!!ie.greedy,xe=ie.alias;if(pe&&!ie.pattern.global){var Oe=ie.pattern.toString().match(/[imsuy]*$/)[0];ie.pattern=RegExp(ie.pattern.source,Oe+"g")}for(var Fe=ie.pattern||ie,ye=q.next,Pe=V;ye!==F.tail&&!(te&&Pe>=te.reach);Pe+=ye.value.length,ye=ye.next){var ze=ye.value;if(F.length>D.length)return;if(!(ze instanceof m)){var Ze=1,G;if(pe){if(G=x(Fe,Pe,D,ve),!G||G.index>=D.length)break;var Zt=G.index,A=G.index+G[0].length,zt=Pe;for(zt+=ye.value.length;Zt>=zt;)ye=ye.next,zt+=ye.value.length;if(zt-=ye.value.length,Pe=zt,ye.value instanceof m)continue;for(var Ht=ye;Ht!==F.tail&&(zt<A||typeof Ht.value=="string");Ht=Ht.next)Ze++,zt+=Ht.value.length;Ze--,ze=D.slice(Pe,zt),G.index-=Pe}else if(G=x(Fe,0,ze,ve),!G)continue;var Zt=G.index,Ne=G[0],be=ze.slice(0,Zt),Ke=ze.slice(Zt+Ne.length),yt=Pe+ze.length;te&&yt>te.reach&&(te.reach=yt);var At=ye.prev;be&&(At=S(F,At,be),Pe+=be.length),g(F,At,Ze);var kt=new m(ne,ue?f.tokenize(Ne,ue):Ne,xe,Ne);if(ye=S(F,At,kt),Ke&&S(F,ye,Ke),Ze>1){var Kt={cause:ne+","+de,reach:yt};E(D,F,I,ye.prev,Pe,Kt),te&&Kt.reach>te.reach&&(te.reach=Kt.reach)}}}}}}function b(){var D={value:null,prev:null,next:null},F={value:null,prev:D,next:null};D.next=F,this.head=D,this.tail=F,this.length=0}function S(D,F,I){var q=F.next,V={value:I,prev:F,next:q};return F.next=V,q.prev=V,D.length++,V}function g(D,F,I){for(var q=F.next,V=0;V<I&&q!==D.tail;V++)q=q.next;F.next=q,q.prev=F,D.length-=V}function O(D){for(var F=[],I=D.head.next;I!==D.tail;)F.push(I.value),I=I.next;return F}if(!n.document)return n.addEventListener&&(f.disableWorkerMessageHandler||n.addEventListener("message",function(D){var F=JSON.parse(D.data),I=F.language,q=F.code,V=F.immediateClose;n.postMessage(f.highlight(q,f.languages[I],I)),V&&n.close()},!1)),f;var C=f.util.currentScript();C&&(f.filename=C.src,C.hasAttribute("data-manual")&&(f.manual=!0));function N(){f.manual||f.highlightAll()}if(!f.manual){var P=document.readyState;P==="loading"||P==="interactive"&&C&&C.defer?document.addEventListener("DOMContentLoaded",N):window.requestAnimationFrame?window.requestAnimationFrame(N):window.setTimeout(N,16)}return f}(e);t.exports&&(t.exports=r),typeof sS!="undefined"&&(sS.Prism=r)})(TI);var Im=TI.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,r){var n={};n["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[r]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};i["language-"+r]={pattern:/[\s\S]+/,inside:Prism.languages[r]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(t,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(E){return E=E.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+E+")")}var n=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return n}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(n),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(n),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(E){["url","bold","italic","strike","code-snippet"].forEach(function(b){E!==b&&(t.languages.markdown[E].inside.content.inside[b]=t.languages.markdown[b])})}),t.hooks.add("after-tokenize",function(E){if(E.language!=="markdown"&&E.language!=="md")return;function b(S){if(!(!S||typeof S=="string"))for(var g=0,O=S.length;g<O;g++){var C=S[g];if(C.type!=="code"){b(C.content);continue}var N=C.content[1],P=C.content[3];if(N&&P&&N.type==="code-language"&&P.type==="code-block"&&typeof N.content=="string"){var D=N.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");D=(/[a-z][\w-]*/i.exec(D)||[""])[0].toLowerCase();var F="language-"+D;P.alias?typeof P.alias=="string"?P.alias=[P.alias,F]:P.alias.push(F):P.alias=[F]}}}b(E.tokens)}),t.hooks.add("wrap",function(E){if(E.type==="code-block"){for(var b="",S=0,g=E.classes.length;S<g;S++){var O=E.classes[S],C=/language-(.+)/.exec(O);if(C){b=C[1];break}}var N=t.languages[b];if(N)E.content=t.highlight(x(E.content),N,b);else if(b&&b!=="none"&&t.plugins.autoloader){var P="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);E.attributes.id=P,t.plugins.autoloader.loadLanguages(b,function(){var D=document.getElementById(P);D&&(D.innerHTML=t.highlight(D.textContent,t.languages[b],b))})}}});var c=RegExp(t.languages.markup.tag.pattern.source,"gi"),f={amp:"&",lt:"<",gt:">",quot:'"'},m=String.fromCodePoint||String.fromCharCode;function x(E){var b=E.replace(c,"");return b=b.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(S,g){if(g=g.toLowerCase(),g[0]==="#"){var O;return g[1]==="x"?O=parseInt(g.slice(2),16):O=Number(g.slice(1)),m(O)}else{var C=f[g];return C||S}}),b}t.languages.md=t.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(t){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=Prism.languages.swift});var x5="javascript",oK=function(){return x5},lK=function(){return Object.keys(Im.languages).filter(function(e){return typeof Im.languages[e]!="function"}).sort()},vv=function(t){jr(r,t);var e=Rr(r);function r(n,i,o){var c;return ar(this,r),c=e.call(this,n,o),c.__highlightType=i,c}return ir(r,[{key:"createDOM",value:function(i){var o=Qn(Nn(r.prototype),"createDOM",this).call(this,i),c=Tx(i.theme,this.__highlightType);return pl(o,c),o}},{key:"updateDOM",value:function(i,o,c){var f=Qn(Nn(r.prototype),"updateDOM",this).call(this,i,o,c),m=Tx(c.theme,i.__highlightType),x=Tx(c.theme,this.__highlightType);return m!==x&&(m&&i7(o,m),x&&pl(o,x)),f}},{key:"setFormat",value:function(i){return this.getWritable()}}],[{key:"getType",value:function(){return"code-highlight"}},{key:"clone",value:function(i){return new r(i.__text,i.__highlightType||void 0,i.__key)}}]),r}(Io);function Tx(t,e){return e&&t&&t.codeHighlight&&t.codeHighlight[e]}function Dm(t,e){return new vv(t,e)}function Ul(t){return t instanceof vv}var Ox="data-highlight-language",Zh=function(t){jr(r,t);var e=Rr(r);function r(n,i){var o;return ar(this,r),o=e.call(this,i),o.__language=n,o}return ir(r,[{key:"createDOM",value:function(i){var o=document.createElement("code");pl(o,i.theme.code),o.setAttribute("spellcheck","false");var c=this.getLanguage();return c&&o.setAttribute(Ox,c),o}},{key:"updateDOM",value:function(i,o){var c=this.__language,f=i.__language;return c?c!==f&&o.setAttribute(Ox,c):f&&o.removeAttribute(Ox),!1}},{key:"insertNewAfter",value:function(i){var o=this.getChildren(),c=o.length;if(c>=2&&o[c-1].getTextContent()===`
`&&o[c-2].getTextContent()===`
`&&i.isCollapsed()&&i.anchor.key===this.__key&&i.anchor.offset===c){o[c-1].remove(),o[c-2].remove();var f=Tr();return this.insertAfter(f),f}var m=i.anchor.getNode(),x=n3(m);if(x!=null){for(var E=0,b=x.getTextContent();E<b.length&&/[\t ]/.test(b[E]);)E+=1;if(E>0){var S=b.substring(0,E),g=Dm(S);return m.insertAfter(g),i.insertNodes([n0()]),g.select(),g}}return null}},{key:"canInsertTab",value:function(){return!0}},{key:"collapseAtStart",value:function(){var i=Tr(),o=this.getChildren();return o.forEach(function(c){return i.append(c)}),this.replace(i),!0}},{key:"setLanguage",value:function(i){var o=this.getWritable();o.__language=i}},{key:"getLanguage",value:function(){return this.getLatest().__language}}],[{key:"getType",value:function(){return"code"}},{key:"clone",value:function(i){return new r(i.__language,i.__key)}},{key:"importDOM",value:function(){return{div:function(o){return{conversion:uK,priority:1}},pre:function(o){return{conversion:sK,priority:0}},table:function(o){var c=o;return Ax(c)?{conversion:cK,priority:4}:null},td:function(o){var c=o,f=c.closest("table");return hK(c)?{conversion:fK,priority:4}:f&&Ax(f)?{conversion:o_,priority:4}:null},tr:function(o){var c=o,f=c.closest("table");return f&&Ax(f)?{conversion:o_,priority:4}:null}}}}]),r}(Mo);function Xf(t){return new Zh(t)}function r3(t){return t instanceof Zh}function n3(t){var e=null,r=t.getPreviousSiblings();for(r.push(t);r.length>0;){var n=r.pop();if(Ul(n)&&(e=n),Aa(n))break}return e}function i_(t){var e=null,r=t.getNextSiblings();for(r.unshift(t);r.length>0;){var n=r.shift();if(Ul(n)&&(e=n),Aa(n))break}return e}function sK(t){return{node:Xf()}}function uK(t){var e=t;return{after:function(n){var i=t.parentNode;return i!=null&&t!==i.lastChild&&n.push(n0()),n},node:dK(e)?Xf():null}}function cK(){return{node:Xf()}}function o_(){return{node:null}}function fK(t){var e=t;return{after:function(n){return e.parentNode&&e.parentNode.nextSibling&&n.push(n0()),n},node:null}}function dK(t){return t.style.fontFamily.match("monospace")!==null}function hK(t){return t.classList.contains("js-file-line")}function Ax(t){return t.classList.contains("js-file-line-container")}function l_(t,e){var r=t.getParent();r3(r)?OI(r,e):Ul(t)&&t.replace(gr(t.__text))}function pK(t,e){var r=e.getElementByKey(t.getKey());if(r!==null){var n=t.getChildren(),i=n.length;if(i!==r.__cachedChildrenLength){r.__cachedChildrenLength=i;for(var o="1",c=1,f=0;f<i;f++)Aa(n[f])&&(o+=`
`+ ++c);r.setAttribute("data-gutter",o)}}}var Mx=!1;function OI(t,e){Mx||(Mx=!0,t.getLanguage()===void 0&&t.setLanguage(x5),e.update(function(){mK(t,function(){var r=t.getTextContent(),n=Im.tokenize(r,Im.languages[t.getLanguage()||""]||Im.languages[x5]),i=AI(n),o=vK(t.getChildren(),i),c=o.from,f=o.to,m=o.nodesForReplacement;return c!==f||m.length?(t.splice(c,f-c,m),!0):!1})},{onUpdate:function(){Mx=!1},skipTransforms:!0}))}function AI(t){var e=[];return t.forEach(function(r){if(typeof r=="string")for(var n=r.split(`
`),i=0;i<n.length;i++){var o=n[i];o.length&&e.push(Dm(o)),i<n.length-1&&e.push(n0())}else{var c=r.content;typeof c=="string"?e.push(Dm(c,r.type)):c.length===1&&typeof c[0]=="string"?e.push(Dm(c[0],r.type)):e.push.apply(e,jt(AI(c)))}}),e}function mK(t,e){var r=Me();if(!(!De(r)||!r.anchor)){var n=r.anchor,i=n.offset,o=n.type==="element"&&Aa(t.getChildAtIndex(n.offset-1)),c=0;if(!o){var f=n.getNode();c=i+f.getPreviousSiblings().reduce(function(x,E){return x+(Aa(E)?0:E.getTextContentSize())},0)}var m=e();if(!!m){if(o){n.getNode().select(i,i);return}t.getChildren().some(function(x){if(Ue(x)){var E=x.getTextContentSize();if(E>=c)return x.select(c,c),!0;c-=E}return!1})}}}function vK(t,e){for(var r=0;r<t.length&&s_(t[r],e[r]);)r++;for(var n=t.length,i=e.length,o=Math.min(n,i)-r,c=0;c<o;)if(c++,!s_(t[n-c],e[i-c])){c--;break}var f=r,m=n-c,x=e.slice(r,i-c);return{from:f,nodesForReplacement:x,to:m}}function s_(t,e){return Ul(t)&&Ul(e)?t.__text===e.__text&&t.__highlightType===e.__highlightType:!!(Aa(t)&&Aa(e))}function u_(t){var e=Me();if(!De(e)||e.isCollapsed())return!1;for(var r=e.getNodes(),n=0;n<r.length;n++){var i=r[n];if(!Ul(i)&&!Aa(i))return!1}var o=n3(r[0]);o!=null&&c_(o,t);for(var c=1;c<r.length;c++){var f=r[c];Aa(r[c-1])&&Ul(f)&&c_(f,t)}return!0}function c_(t,e){var r=t.getTextContent();if(e===a0)if(r.length>0&&/\s/.test(r[0]))t.setTextContent("	"+r);else{var n=Dm("	");t.insertBefore(n)}else r.indexOf("	")===0&&(r.length===1?t.remove():t.setTextContent(r.substring(1)))}function f_(t,e){var r=Me();if(!De(r))return!1;var n=r.anchor,i=r.focus,o=n.offset,c=i.offset,f=n.getNode(),m=i.getNode(),x=t===qf;if(!Ul(f)||!Ul(m))return!1;if(!e.altKey){if(r.isCollapsed()){var E=f.getParentOrThrow();if(x&&o===0&&f.getPreviousSibling()===null){var b=E.getPreviousSibling();if(b===null)return E.selectPrevious(),e.preventDefault(),!0}else if(!x&&o===f.getTextContentSize()&&f.getNextSibling()===null){var S=E.getNextSibling();if(S===null)return E.selectNext(),e.preventDefault(),!0}}return!1}var g=n3(f),O=i_(m);if(g==null||O==null)return!1;for(var C=g.getNodesBetween(O),N=0;N<C.length;N++){var P=C[N];if(!Ul(P)&&!Aa(P))return!1}e.preventDefault(),e.stopPropagation();var D=x?g.getPreviousSibling():O.getNextSibling();if(!Aa(D))return!0;var F=x?D.getPreviousSibling():D.getNextSibling();if(F==null)return!0;var I=x?n3(F):i_(F),q=I!=null?I:F;return D.remove(),C.forEach(function(V){return V.remove()}),t===qf?(C.forEach(function(V){return q.insertBefore(V)}),q.insertBefore(D)):(q.insertAfter(D),q=D,C.forEach(function(V){q.insertAfter(V),q=V})),r.setTextNodeRange(f,o,m,c),!0}function gK(t){if(!t.hasNodes([Zh,vv]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return pa(t.registerMutationListener(Zh,function(e){t.update(function(){var r=qa(e),n;try{for(r.s();!(n=r.n()).done;){var i=Se(n.value,2),o=i[0],c=i[1];if(c!=="destroyed"){var f=qt(o);f!==null&&pK(f,t)}}}catch(m){r.e(m)}finally{r.f()}})}),t.registerNodeTransform(Zh,function(e){return OI(e,t)}),t.registerNodeTransform(Io,function(e){return l_(e,t)}),t.registerNodeTransform(vv,function(e){return l_(e,t)}),t.registerCommand(a0,function(e){return u_(a0)},$n),t.registerCommand(zf,function(e){return u_(zf)},$n),t.registerCommand(qf,function(e){return f_(qf,e)},$n),t.registerCommand(hv,function(e){return f_(hv,e)},$n))}var MI=new Map;function o4(t){var e=t.getLatest(),r=e.constructor,n=r.clone(e);return n.__parent=e.__parent,Je(e)&&Je(n)?(n.__children=Array.from(e.__children),n.__format=e.__format,n.__indent=e.__indent,n.__dir=e.__dir):Ue(e)&&Ue(n)&&(n.__format=e.__format,n.__style=e.__style,n.__mode=e.__mode,n.__detail=e.__detail),n}function yK(t,e,r){var n=r.get(e.getKey());return Je(n)?n.__children.indexOf(t.getKey()):t.getIndexWithinParent()}function bK(t){for(var e=t.getParent();e!==null&&e.excludeFromCopy();)e=e.getParent();return e}function d_(t,e,r,n,i){for(var o=t,c=e;o!==null;){var f=bK(o);if(f===null)break;if(!Je(o)||!o.excludeFromCopy()){var m=o.getKey(),x=i.get(m),E=x===void 0;if(E&&(x=o4(o),i.set(m,x)),Ue(x)&&!x.isSegmented()&&!x.isToken()?x.__text=x.__text.slice(r?c:0,r?void 0:c):Je(x)&&(x.__children=x.__children.slice(r?c:0,r?void 0:c+1)),fn(f)){E&&n.push(m);break}}c=yK(o,f,i),o=f}}function h_(){throw Error("getLatest() on clone node")}function II(t){for(var e=wK(t),r=e.nodeMap,n=0;n<r.length;n++){var i=r[n][1];i.getLatest!==h_&&Object.setPrototypeOf(i,Object.create(Object.getPrototypeOf(i),{getLatest:{configurable:!0,enumerable:!0,value:h_,writable:!0}}))}return e}function wK(t){if(De(t)){var e=t.anchor,r=t.focus,n=e.getCharacterOffset(),i=r.getCharacterOffset(),o=e.getNode(),c=r.getNode(),f=o.getParentOrThrow();if(o===c&&Ue(o)&&(f.canBeEmpty()||f.getChildrenSize()>1)){var m=o4(o),x=i>n,E=x?n:i,b=x?i:n;m.__text=m.__text.slice(E,b);var S=m.getKey();return{nodeMap:[[S,m]],range:[S]}}var g=t.getNodes();if(g.length===0)return{nodeMap:[],range:[]};var O=g.length,C=g[0],N=C.getParent();if(N!==null&&(!N.canBeEmpty()||fn(N))){var P=N.__children,D=P.length;if(D===O){for(var F=!0,I=0;I<P.length;I++)if(P[I]!==g[I].__key){F=!1;break}F&&(O++,g.push(N))}}var q=g[O-1],V=e.isBefore(r),te=new Map,ne=[];d_(C,V?n:i,!0,ne,te);for(var W=0;W<O;W++){var de=g[W],ie=de.getKey();if(!te.has(ie)&&(!Je(de)||!de.excludeFromCopy())){var ue=o4(de);fn(de.getParent())&&ne.push(de.getKey()),te.set(ie,ue)}}return d_(q,V?i:n,!1,ne,te),{nodeMap:Array.from(te.entries()),range:ne}}else if(Mn(t)){var ve=t.getNodes().map(function(pe){var xe=pe.getKey(),Oe=o4(pe);return[xe,Oe]});return{nodeMap:ve,range:[t.gridKey]}}throw Error("TODO")}function DI(t){return MI.get(t)||null}function xK(t){var e="";for(var r in t)r&&(e+="".concat(r,": ").concat(t[r],";"));return e}function sm(t,e){var r=DI(t.getStyle()),n=r?xt(xt({},r),e):e,i=xK(n);t.setStyle(i),MI.set(i,n)}function kK(t,e){var r=t.getNodes(),n=r.length,i=n-1,o=r[0],c=r[i];if(!t.isCollapsed()){var f=t.anchor,m=t.focus,x=o.getTextContent(),E=x.length,b=m.offset,S=f.offset,g,O,C=f.isBefore(m);if(g=C?S:b,O=C?b:S,g===o.getTextContentSize()){var N=o.getNextSibling();Ue(N)&&(S=0,g=0,o=N)}if(o.is(c)){if(Ue(o)){if(g=S>b?b:S,O=S>b?S:b,g===O)return;if(g===0&&O===E)sm(o,e),o.select(g,O);else{var P=o.splitText(g,O),D=g===0?P[0]:P[1];sm(D,e),D.select(0,O-g)}}}else{if(Ue(o)){if(g!==0){var F=o.splitText(g),I=Se(F,2);o=I[1],g=0}sm(o,e)}if(Ue(c)){var q=c.getTextContent(),V=q.length;if(O!==V){var te=c.splitText(O),ne=Se(te,1);c=ne[0]}O!==0&&sm(c,e)}for(var W=1;W<i;W++){var de=r[W],ie=de.getKey();Ue(de)&&ie!==o.getKey()&&ie!==c.getKey()&&!de.isToken()&&sm(de,e)}}}}function p_(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",n=null,i=t.getNodes(),o=t.anchor,c=t.focus,f=t.isBackward(),m=f?c.offset:o.offset,x=f?c.getNode():o.getNode(),E=0;E<i.length;E++){var b=i[E];if(!(E!==0&&m===0&&b.is(x))&&Ue(b)){var S=CK(b,e,r);if(n===null)n=S;else if(n!==S){n="";break}}}return n===null?r:n}function CK(t,e,r){var n=t.getStyle(),i=DI(n);return i!==null&&i[e]||r}function SK(t,e,r,n){t.modify(e?"extend":"move",r,n)}function LI(t){var e=t.anchor.getNode(),r=fn(e)?e:e.getParentOrThrow();return r.getDirection()==="rtl"}function a3(t,e,r){var n=LI(t);SK(t,e,r?!n:n,"character")}function EK(t){for(var e=t;e!==null&&!fn(e);){var r=e.getLatest(),n=e.getParent();r.__children.length===0&&e.remove(),e=n}}function Eh(t,e,r){var n=t.getNodes(),i=n.length;if(i===0){var o=t.anchor,c=o.type==="text"?o.getNode().getParentOrThrow():o.getNode(),f=c.getChildren(),m=e();f.forEach(function(Fe){return m.append(Fe)}),r&&(m=r.append(m)),c.replace(m);return}var x=n[0],E=new Map,b=[],S=Je(x)?x:x.getParentOrThrow();for(S.isInline()&&(S=S.getParentOrThrow());S!==null;){var g=S.getPreviousSibling();if(g!==null){S=g;break}if(S=S.getParentOrThrow(),fn(S))break}for(var O=new Set,C=0;C<i;C++){var N=n[C];Je(N)&&N.getChildrenSize()===0&&O.add(N.getKey())}for(var P=new Set,D=0;D<i;D++){var F=n[D],I=F.getParent();if(I!==null&&I.isInline()&&(I=I.getParent()),I!==null&&Pv(F)&&!P.has(F.getKey())){var q=I.getKey();E.get(q)===void 0&&function(){var Fe=e();b.push(Fe),E.set(q,Fe),I.getChildren().forEach(function(ye){Fe.append(ye),P.add(ye.getKey())}),EK(I)}()}else O.has(F.getKey())&&(b.push(e()),F.remove())}if(r)for(var V=0;V<b.length;V++){var te=b[V];r.append(te)}if(fn(S)){var ne=S.getFirstChild();if(Je(ne)&&(S=ne),ne===null)if(r)S.append(r);else for(var W=0;W<b.length;W++){var de=b[W];S.append(de)}else if(r)ne.insertBefore(r);else for(var ie=0;ie<b.length;ie++){var ue=b[ie];ne.insertBefore(ue)}}else if(r)S.insertAfter(r);else for(var ve=b.length-1;ve>=0;ve--){var pe=b[ve];S.insertAfter(pe)}var xe=rI();if(De(xe)&&m_(xe.anchor)&&m_(xe.focus)){var Oe=xe.clone();Oe.dirty=!0,Ta(Oe)}else t.dirty=!0}function m_(t){return t.getNode().isAttached()}function i3(t){return t.type==="text"?t.offset===t.getNode().getTextContentSize():t.offset===t.getNode().getChildrenSize()}function o3(t,e){var r=PM(t.focus,e);return fa(r)&&!r.isIsolated()}var PI=new Set(["STYLE"]);function NI(t){var e=Me();if(e==null)throw new Error("Expected valid LexicalSelection");if(De(e)&&e.isCollapsed()||e.getNodes().length===0)return null;var r=II(e);return _K(t,e,r)}function jI(t,e,r){var n=r;if(De(e)||Mn(e)){var i=e.anchor.getNode(),o=e.focus.getNode(),c=r.is(i),f=r.is(o);if(Ue(r)&&(c||f)){var m=e.anchor.getCharacterOffset(),x=e.focus.getCharacterOffset(),E=e.isBackward(),b=i.is(o),S=r.is(E?o:i),g=r.getTextContent(),O=g.length;if(b){var C=m>x?x:m,N=m>x?m:x,P=r.splitText(C,N);n=C===0?P[0]:P[1]}else{var D;if(S?D=E?x:m:D=E?m:x,!E&&D===0)return null;D!==O&&(n=r.splitText(D)[S&&D!==0?1:0])}}}var F=n.exportDOM(t),I=F.element,q=F.after;if(!I)return null;for(var V=Je(n)?n.getChildren():[],te=0;te<V.length;te++){var ne=V[te];if(ne.isSelected()){var W=jI(t,e,ne);W&&I.append(W)}}return q?q.call(n,I):I}function _K(t,e,r){for(var n=document.createElement("div"),i=0;i<r.range.length;i++){var o=r.range[i],c=qt(o);if(c&&c.isSelected()){var f=jI(t,e,c);f&&n.append(f)}}return n.innerHTML}function TK(t){var e=Me();if(e!==null){var r=t._config.namespace,n=II(e);return JSON.stringify({namespace:r,state:n})}return null}function s7(t,e){var r=t.getData("text/plain");r!=null&&e.insertRawText(r)}function RI(t,e,r){var n=t.getData("application/x-lexical-editor");if(n){var i=r._config.namespace;try{var o=JSON.parse(n);if(o.namespace===i){var c=o.state,f=OK(c);e.insertNodes(f);return}}catch{}}var m="text/html",x=t.getData(m);if(x){for(var E=new DOMParser,b=E.parseFromString(x,m),S=MK(b,r),g=[],O=null,C=0;C<S.length;C++){var N=S[C];!Je(N)||N.isInline()?(O===null&&(O=Tr(),g.push(O)),O!==null&&O.append(N)):(g.push(N),O=null)}e.insertNodes(g);return}s7(t,e)}function OK(t){for(var e=t.range,r=t.nodeMap,n=new Map(r),i=[],o=0;o<e.length;o++){var c=e[o],f=n.get(c);if(f!==void 0){var m=XB(f,n);i.push(m)}}return i}function AK(t,e){var r=t.nodeName,n=e._htmlConversions.get(r.toLowerCase()),i=null;return n!==void 0&&n.forEach(function(o){var c=o(t);c!==null&&(i===null||i.priority<c.priority)&&(i=c)}),i!==null?i.conversion:null}function FI(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Map,n=arguments.length>3?arguments[3]:void 0,i=[];if(PI.has(t.nodeName))return i;var o=null,c=AK(t,e),f=c?c(t):null,m=null;if(f!==null){if(m=f.after,o=f.node,o!==null){var x=qa(r),E;try{for(x.s();!(E=x.n()).done;){var b=Se(E.value,2),S=b[1];if(o=S(o,n),!o)break}}catch(D){x.e(D)}finally{x.f()}o&&i.push(o)}f.forChild!=null&&r.set(t.nodeName,f.forChild)}for(var g=t.childNodes,O=[],C=0;C<g.length;C++){var N;(N=O).push.apply(N,jt(FI(g[C],e,r,o)))}if(m!=null&&(O=m(O)),o==null)i=i.concat(O);else if(Je(o)){var P;(P=o).append.apply(P,jt(O))}return i}function MK(t,e){for(var r=[],n=t.body?Array.from(t.body.childNodes):[],i=n.length,o=0;o<i;o++){var c=n[o];if(!PI.has(c.nodeName)){var f=FI(c,e);f!==null&&(r=r.concat(f))}}return r}var zI={tag:"history-merge"},v_=zI,g_=zI,BI=function(t){jr(r,t);var e=Rr(r);function r(n){return ar(this,r),e.call(this,n)}return ir(r,[{key:"createDOM",value:function(i){var o=document.createElement("blockquote");return pl(o,i.theme.quote),o}},{key:"updateDOM",value:function(i,o){return!1}},{key:"insertNewAfter",value:function(){var i=Tr(),o=this.getDirection();return i.setDirection(o),this.insertAfter(i),i}},{key:"collapseAtStart",value:function(){var i=Tr(),o=this.getChildren();return o.forEach(function(c){return i.append(c)}),this.replace(i),!0}}],[{key:"getType",value:function(){return"quote"}},{key:"clone",value:function(i){return new r(i.__key)}}]),r}(Mo);function u7(){return new BI}var c7=function(t){jr(r,t);var e=Rr(r);function r(n,i){var o;return ar(this,r),o=e.call(this,i),o.__tag=n,o}return ir(r,[{key:"getTag",value:function(){return this.__tag}},{key:"createDOM",value:function(i){var o=this.__tag,c=document.createElement(o),f=i.theme,m=f.heading;if(m!==void 0){var x=m[o];pl(c,x)}return c}},{key:"updateDOM",value:function(i,o){return!1}},{key:"insertNewAfter",value:function(){var i=Tr(),o=this.getDirection();return i.setDirection(o),this.insertAfter(i),i}},{key:"collapseAtStart",value:function(){var i=Tr(),o=this.getChildren();return o.forEach(function(c){return i.append(c)}),this.replace(i),!0}}],[{key:"getType",value:function(){return"heading"}},{key:"clone",value:function(i){return new r(i.__tag,i.__key)}},{key:"importDOM",value:function(){return{h1:function(o){return{conversion:um,priority:0}},h2:function(o){return{conversion:um,priority:0}},h3:function(o){return{conversion:um,priority:0}},h4:function(o){return{conversion:um,priority:0}},h5:function(o){return{conversion:um,priority:0}}}}}]),r}(Mo);function um(t){var e=t.nodeName.toLowerCase(),r=null;return(e==="h1"||e==="h2"||e==="h3"||e==="h4"||e==="h5")&&(r=ks(e)),{node:r}}function ks(t){return new c7(t)}function IK(t){return t instanceof c7}function DK(t,e){if(e!==null){if(e===void 0)t.update(function(){var n=Sn(),i=n.getFirstChild();if(i===null){var o=Tr();n.append(o);var c=document.activeElement;(Me()!==null||c!==null&&c===t.getRootElement())&&o.select()}},g_);else if(e!==null)switch(av(e)){case"string":{var r=t.parseEditorState(e);t.setEditorState(r,v_);break}case"object":{t.setEditorState(e,v_);break}case"function":{t.update(e,g_);break}}}}function LK(t,e){t.preventDefault(),e.update(function(){var r=Me(),n=t.clipboardData;n!=null&&De(r)&&RI(n,r,e)})}function HI(t,e){t.preventDefault(),e.update(function(){var r=t.clipboardData,n=Me();if(n!==null&&r!=null){var i=NI(e),o=TK(e);i!==null&&r.setData("text/html",i),o!==null&&r.setData("application/x-lexical-editor",o),r.setData("text/plain",n.getTextContent())}})}function PK(t,e){HI(t,e),e.update(function(){var r=Me();De(r)&&r.removeText()})}function NK(t,e){var r=pa(t.registerCommand(q3,function(n){var i=Me();return Ls(i)?(i.clear(),!0):!1},0),t.registerCommand(nl,function(n){var i=Me();if(!De(i))return!1;var o=n;return i.deleteCharacter(o),!0},Nt),t.registerCommand(vp,function(n){var i=Me();if(!De(i))return!1;var o=n;return i.deleteWord(o),!0},Nt),t.registerCommand(gp,function(n){var i=Me();if(!De(i))return!1;var o=n;return i.deleteLine(o),!0},Nt),t.registerCommand(_s,function(n){var i=Me();if(!De(i))return!1;var o=n;if(typeof o=="string")i.insertText(o);else{var c=o.dataTransfer;if(c!=null)RI(c,i,t);else{var f=o.data;return f&&i.insertText(f),!0}}return!0},Nt),t.registerCommand(Q4,function(n){var i=Me();return De(i)?(i.removeText(),!0):!1},Nt),t.registerCommand(Ea,function(n){var i=Me();if(!De(i))return!1;var o=n;return i.formatText(o),!0},Nt),t.registerCommand(vm,function(n){var i=Me();if(!De(i))return!1;var o=i.getNodes(),c=qa(o),f;try{for(c.s();!(f=c.n()).done;){var m=f.value,x=A2(m);x.setFormat(n)}}catch(E){c.e(E)}finally{c.f()}return!0},Nt),t.registerCommand(Vf,function(n){var i=Me();if(!De(i))return!1;var o=n;return i.insertLineBreak(o),!0},Nt),t.registerCommand(mp,function(n){var i=Me();return De(i)?(i.insertParagraph(),!0):!1},Nt),t.registerCommand(a0,function(n){var i=Me();if(!De(i))return!1;var o=i.anchor,c=A2(o.getNode());return c.canInsertTab()?t.dispatchCommand(_s,"	"):c.getIndent()!==10&&c.setIndent(c.getIndent()+1),!0},Nt),t.registerCommand(zf,function(n){var i=Me();if(!De(i))return!1;var o=i.anchor,c=o.getNode(),f=A2(o.getNode());if(f.canInsertTab()){var m=c.getTextContent(),x=m[o.offset-1];x==="	"&&t.dispatchCommand(nl,!0)}else f.getIndent()!==0&&f.setIndent(f.getIndent()-1);return!0},Nt),t.registerCommand(Z3,function(n){var i=Me();if(!De(i))return!1;var o=n,c=o.shiftKey;return o3(i,!0)?(o.preventDefault(),a3(i,c,!0),!0):!1},Nt),t.registerCommand(X3,function(n){var i=Me();if(!De(i))return!1;var o=n,c=o.shiftKey;return o3(i,!1)?(o.preventDefault(),a3(i,c,!1),!0):!1},Nt),t.registerCommand(Op,function(n){var i=Me();if(!De(i))return!1;var o=n;o.preventDefault();var c=i.anchor;if(i.isCollapsed()&&c.offset===0){var f=A2(c.getNode());if(f.getIndent()>0)return t.dispatchCommand(zf)}return t.dispatchCommand(nl,!0)},Nt),t.registerCommand(Rv,function(n){var i=Me();if(!De(i))return!1;var o=n;return o.preventDefault(),t.dispatchCommand(nl,!1)},Nt),t.registerCommand(yp,function(n){var i=Me();return De(i)?n!==null&&(n.preventDefault(),n.shiftKey)?t.dispatchCommand(Vf):t.dispatchCommand(mp):!1},Nt),t.registerCommand(J3,function(n){var i=Me();if(!De(i))return!1;var o=n;return o.preventDefault(),t.dispatchCommand(o.shiftKey?zf:a0)},Nt),t.registerCommand(Q3,function(n){var i=Me();return De(i)?(t.blur(),!0):!1},Nt),t.registerCommand(Q8,function(n){var i=Me();return De(i)?(n.preventDefault(),!0):!1},Nt),t.registerCommand(J8,function(n){var i=Me();if(!De(i))return!1;var o=n;return o.preventDefault(),!0},Nt),t.registerCommand(e7,function(n){var i=Me();if(De(i)||Mn(i)){var o=n;return HI(o,t),!0}return!1},Nt),t.registerCommand(t7,function(n){var i=Me();if(De(i)||Mn(i)){var o=n;return PK(o,t),!0}return!1},Nt),t.registerCommand(Y3,function(n){var i=Me();return De(i)||Mn(i)?(LK(n,t),!0):!1},Nt));return DK(t,e),r}var UI="",y_=UI.length,jK={triggerKind:"space_trigger",triggerString:" "},KI=[jK],Do={markdownFormatKind:null,regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:!1},yl=xt(xt({},Do),{},{requiresParagraphStart:!0}),RK=xt(xt({},yl),{},{markdownFormatKind:"paragraphH1",regEx:/^(?:# )/,regExForAutoFormatting:/^(?:# )/}),FK=xt(xt({},yl),{},{markdownFormatKind:"paragraphH2",regEx:/^(?:## )/,regExForAutoFormatting:/^(?:## )/}),zK=xt(xt({},yl),{},{markdownFormatKind:"paragraphH3",regEx:/^(?:### )/,regExForAutoFormatting:/^(?:### )/}),BK=xt(xt({},yl),{},{markdownFormatKind:"paragraphH4",regEx:/^(?:#### )/,regExForAutoFormatting:/^(?:#### )/}),HK=xt(xt({},yl),{},{markdownFormatKind:"paragraphH5",regEx:/^(?:##### )/,regExForAutoFormatting:/^(?:##### )/}),UK=xt(xt({},yl),{},{markdownFormatKind:"paragraphBlockQuote",regEx:/^(?:> )/,regExForAutoFormatting:/^(?:> )/}),KK=xt(xt({},yl),{},{markdownFormatKind:"paragraphUnorderedList",regEx:/^(\s{0,10})(?:- )/,regExForAutoFormatting:/^(\s{0,10})(?:- )/}),WK=xt(xt({},yl),{},{markdownFormatKind:"paragraphUnorderedList",regEx:/^(\s{0,10})(?:\* )/,regExForAutoFormatting:/^(\s{0,10})(?:\* )/}),WI=xt(xt({},yl),{},{markdownFormatKind:"paragraphCodeBlock",regEx:/^(```)$/,regExForAutoFormatting:/^(```)([a-z]*)( )/}),$K=xt(xt({},yl),{},{markdownFormatKind:"paragraphOrderedList",regEx:/^(\s{0,10})(\d+)\.\s/,regExForAutoFormatting:/^(\s{0,10})(\d+)\.\s/}),GK=xt(xt({},yl),{},{markdownFormatKind:"horizontalRule",regEx:/^(?:\*\*\*)$/,regExForAutoFormatting:/^(?:\*\*\* )/}),VK=xt(xt({},yl),{},{markdownFormatKind:"horizontalRule",regEx:/^(?:---)$/,regExForAutoFormatting:/^(?:--- )/}),qK=xt(xt({},Do),{},{markdownFormatKind:"code",regEx:/(`)([^`]*)(`)/,regExForAutoFormatting:/(`)(\s*\b)([^`]*)(\b\s*)(`)(\s)$/}),YK=xt(xt({},Do),{},{markdownFormatKind:"bold",regEx:/(\*\*)(\s*)([^\*\*]*)(\s*)(\*\*)()/,regExForAutoFormatting:/(\*\*)(\s*\b)([^\*\*]*)(\b\s*)(\*\*)(\s)$/}),XK=xt(xt({},Do),{},{markdownFormatKind:"italic",regEx:/(\*)(\s*)([^\*]*)(\s*)(\*)()/,regExForAutoFormatting:/(\*)(\s*\b)([^\*]*)(\b\s*)(\*)(\s)$/}),ZK=xt(xt({},Do),{},{markdownFormatKind:"bold",regEx:/(__)(\s*)([^__]*)(\s*)(__)()/,regExForAutoFormatting:/(__)(\s*)([^__]*)(\s*)(__)(\s)$/}),QK=xt(xt({},Do),{},{markdownFormatKind:"italic",regEx:/(_)()([^_]*)()(_)()/,regExForAutoFormatting:/(_)()([^_]*)()(_)(\s)$/}),JK=xt(xt({},Do),{},{markdownFormatKind:"underline",regEx:/(\<u\>)(\s*)([^\<]*)(\s*)(\<\/u\>)()/,regExForAutoFormatting:/(\<u\>)(\s*\b)([^\<]*)(\b\s*)(\<\/u\>)(\s)$/}),eW=xt(xt({},Do),{},{markdownFormatKind:"strikethrough",regEx:/(~~)(\s*)([^~~]*)(\s*)(~~)()/,regExForAutoFormatting:/(~~)(\s*\b)([^~~]*)(\b\s*)(~~)(\s)$/}),tW=xt(xt({},Do),{},{markdownFormatKind:"strikethrough_italic_bold",regEx:/(~~_\*\*)(\s*\b)([^~~_\*\*][^\*\*_~~]*)(\b\s*)(\*\*_~~)()/,regExForAutoFormatting:/(~~_\*\*)(\s*\b)([^~~_\*\*][^\*\*_~~]*)(\b\s*)(\*\*_~~)(\s)$/}),rW=xt(xt({},Do),{},{markdownFormatKind:"italic_bold",regEx:/(_\*\*)(\s*\b)([^_\*\*][^\*\*_]*)(\b\s*)(\*\*_)/,regExForAutoFormatting:/(_\*\*)(\s*\b)([^_\*\*][^\*\*_]*)(\b\s*)(\*\*_)(\s)$/}),nW=xt(xt({},Do),{},{markdownFormatKind:"strikethrough_italic",regEx:/(~~_)(\s*)([^~~_][^_~~]*)(\s*)(_~~)/,regExForAutoFormatting:/(~~_)(\s*)([^~~_][^_~~]*)(\s*)(_~~)(\s)$/}),aW=xt(xt({},Do),{},{markdownFormatKind:"strikethrough_bold",regEx:/(~~\*\*)(\s*\b)([^~~\*\*][^\*\*~~]*)(\b\s*)(\*\*~~)/,regExForAutoFormatting:/(~~\*\*)(\s*\b)([^~~\*\*][^\*\*~~]*)(\b\s*)(\*\*~~)(\s)$/}),iW=xt(xt({},Do),{},{markdownFormatKind:"link",regEx:/(\[)([^\]]*)(\]\()([^)]*)(\)*)()/,regExForAutoFormatting:/(\[)([^\]]*)(\]\()([^)]*)(\)*)(\s)$/}),$I=[tW,rW,nW,aW,qK,YK,XK,ZK,QK,JK,eW,iW],GI=[RK,FK,zK,BK,HK,UK,KK,WK,$K,WI,GK,VK],oW=[].concat(GI,$I);function lW(){return KI}function sW(){return GI}function VI(){return $I}function uW(){return oW}function qI(t,e,r,n){return{currentElementNode:null,editor:t,isAutoFormatting:e,isWithinCodeBlock:!1,joinedText:null,markdownCriteria:{markdownFormatKind:"noTransformation",regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:null},patternMatchResults:{regExCaptureGroups:[]},textNodeWithOffset:r,triggerState:n}}function l3(t){return t.joinedText=null,t.markdownCriteria={markdownFormatKind:"noTransformation",regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:null},t.patternMatchResults={regExCaptureGroups:[]},t.triggerState=null,t.textNodeWithOffset=null,t}function YI(){return WI}function f7(t,e,r){return t.requiresParagraphStart===!0?fW(t,e):dW(t,e,r)}function cW(t,e){var r=YI();return d7(e,!0,!1,t.isAutoFormatting?r.regExForAutoFormatting:r.regEx)}function d7(t,e,r,n){var i={regExCaptureGroups:[]},o=t.match(n);if(o!==null&&o.length>0&&(e===!1||o.index===0)&&(r===!1||o.index+o[0].length===t.length)){for(var c=o.length,f=o.index,m=0;m<c;m++){var x=o[m];i.regExCaptureGroups.push({offsetInParent:f,text:x}),m>0&&(f+=x.length)}return i}return null}function XI(t){return t.patternMatchResults.regExCaptureGroups.length>0}function zv(t){var e=t.textNodeWithOffset;if(e==null)throw Error("Expect to have a text node with offset.");return e}function fW(t,e){var r=zv(e);if(r.node.getPreviousSibling()===null){var n=r.node.getTextContent();return d7(n,!0,!1,e.isAutoFormatting?t.regExForAutoFormatting:t.regEx)}return null}function dW(t,e,r){if(e.joinedText==null)if(Je(r))e.joinedText==null&&(e.joinedText=BU(r,UI,zv(e)));else throw Error("Expected node ".concat(r.__key," to to be a ElementNode."));var n=t.regExForAutoFormatting===!0;return d7(e.joinedText,!1,n,e.isAutoFormatting?t.regExForAutoFormatting:t.regEx)}function hW(t,e,r){var n=null,i=!1,o=e.getChildren(),c=t.markdownCriteria,f=t.patternMatchResults;if(c.markdownFormatKind!=null)switch(c.markdownFormatKind){case"paragraphH1":{var m;return n=ks("h1"),(m=n).append.apply(m,jt(o)),{newNode:n,shouldDelete:i}}case"paragraphH2":{var x;return n=ks("h2"),(x=n).append.apply(x,jt(o)),{newNode:n,shouldDelete:i}}case"paragraphH3":{var E;return n=ks("h3"),(E=n).append.apply(E,jt(o)),{newNode:n,shouldDelete:i}}case"paragraphH4":{var b;return n=ks("h4"),(b=n).append.apply(b,jt(o)),{newNode:n,shouldDelete:i}}case"paragraphH5":{var S;return n=ks("h5"),(S=n).append.apply(S,jt(o)),{newNode:n,shouldDelete:i}}case"paragraphBlockQuote":{var g;return n=u7(),(g=n).append.apply(g,jt(o)),{newNode:n,shouldDelete:i}}case"paragraphUnorderedList":return b_(e,o,f,"ul"),{newNode:null,shouldDelete:!1};case"paragraphOrderedList":{var O=f.regExCaptureGroups.length>1?f.regExCaptureGroups[f.regExCaptureGroups.length-1].text:"1",C=t.isAutoFormatting?parseInt(O,10):void 0;return b_(e,o,f,"ol",C),{newNode:null,shouldDelete:!1}}case"paragraphCodeBlock":{var N;if(t.isAutoFormatting===!1){var P=XI(t);if(P)return t.isWithinCodeBlock=t.isWithinCodeBlock!==!0,t.currentElementNode=null,{newNode:null,shouldDelete:!0};if(t.isWithinCodeBlock){if(t.currentElementNode==null){var D=Xf();return D.append.apply(D,jt(o)),t.currentElementNode=D,{newNode:D,shouldDelete:!1}}if(t.currentElementNode!=null){var F=t.currentElementNode,I=n0();F.append(I),o.length&&F.append(I),F.append.apply(F,jt(o))}}return{newNode:null,shouldDelete:!0}}if(t.triggerState!=null&&t.triggerState.isCodeBlock)n=Tr();else{n=Xf();var q=f.regExCaptureGroups.length>=3?f.regExCaptureGroups[2].text:null;q!=null&&q.length>0&&n.setLanguage(q)}return(N=n).append.apply(N,jt(o)),{newNode:n,shouldDelete:i}}case"horizontalRule":{if(r!=null){var V=r();e.insertBefore(V)}break}}return{newNode:n,shouldDelete:i}}function b_(t,e,r,n,i){var o=io(),c=r.regExCaptureGroups[0].text.match(/^\s*/),f=c?Math.floor(c[0].length/4):0;o.append.apply(o,jt(e));var m=t.getPreviousSibling();if(Yr(m)&&m.getTag()===n)m.append(o),t.remove();else{var x=ml(n,i);x.append(o),t.replace(x)}f&&o.setIndent(f)}function s3(t,e,r){t.markdownCriteria.requiresParagraphStart===!0?pW(e,t,r):mW(t,e)}function pW(t,e,r){if(e.textNodeWithOffset!=null){var n=zv(e);if(XI(e)){var i=e.patternMatchResults.regExCaptureGroups[0].text,o=n.node.spliceText(0,i.length,"",!0);o.getTextContent()===""&&(o.selectPrevious(),o.remove())}}var c=hW(e,t,r),f=c.newNode,m=c.shouldDelete;m?t.remove():f!==null&&t.replace(f)}function mW(t,e){var r=t.markdownCriteria;if(r.markdownFormatKind!=null){var n=bW(r.markdownFormatKind);if(n!=null){vW(n,t,e);return}r.markdownFormatKind==="link"&&gW(t,e)}}function vW(t,e,r){var n=e.patternMatchResults,i=n.regExCaptureGroups.length;i===7&&(k5(5,5,e,r),k5(1,1,e,r),xW(t,3,e,r),QI(e,r))}function gW(t,e){var r=t.patternMatchResults,n=r.regExCaptureGroups,i=n.length;if(i===7){var o=n[2].text,c=n[4].text;if(!(o.length===0||c.length===0)){k5(1,5,t,e),wW(1,o,t,e);var f=Bv(1,1,!1,!0,t,e);f!=null&&(Ta(f),t.editor.dispatchCommand(Yf,c),QI(t,e))}}}function ZI(t){return zv(t).node.getParentOrThrow()}function yW(t){var e=t.regExCaptureGroups.length;if(e<2)return 0;var r=e-1;return t.regExCaptureGroups[r].offsetInParent+t.regExCaptureGroups[r].text.length}function bW(t){switch(t){case"italic":case"bold":case"underline":case"strikethrough":case"code":return[t];case"strikethrough_italic_bold":return["strikethrough","italic","bold"];case"italic_bold":return["italic","bold"];case"strikethrough_italic":return["strikethrough","italic"];case"strikethrough_bold":return["strikethrough","bold"]}return null}function Bv(t,e,r,n,i,o){var c=i.patternMatchResults,f=c.regExCaptureGroups,m=f.length;if(t>=m||e>=m)return null;var x=yW(c),E=f[t],b=f[e],S=r?E.offsetInParent+E.text.length:E.offsetInParent,g=n?b.offsetInParent+b.text.length:b.offsetInParent,O=t_(S,x,y_,o),C=t_(g,x,y_,o);if(O==null&&C==null&&o.getChildren().length===0){var N=dv();return N.anchor.set(o.getKey(),0,"element"),N.focus.set(o.getKey(),0,"element"),N}if(O==null||C==null)return null;var P=dv();return P.anchor.set(O.node.getKey(),O.offset,"text"),P.focus.set(C.node.getKey(),C.offset,"text"),P}function k5(t,e,r,n){var i=r.patternMatchResults,o=i.regExCaptureGroups,c=Bv(t,e,!1,!0,r,n);if(c!=null){Ta(c);var f=Me();if(f!=null&&De(f)&&f.isCollapsed()===!1){f.removeText();for(var m=0,x=o.length,E=t;E<x;E++){var b=o[E];E>t&&(b.offsetInParent-=m),E<=e&&(m+=b.text.length,b.text="")}}}}function wW(t,e,r,n){var i=r.patternMatchResults,o=i.regExCaptureGroups,c=o.length;if(!(t>=c)){var f=o[t],m={offsetInParent:f.offsetInParent,text:e},x=Bv(t,t,!1,!1,r,n);if(x!=null){Ta(x);var E=Me();if(E!=null&&De(E)&&E.isCollapsed()){E.insertText(m.text),o.splice(t,0,m);for(var b=m.text.length,S=o.length,g=t+1;g<S;g++){var O=o[g];O.offsetInParent+=b}}}}}function xW(t,e,r,n){var i=r.patternMatchResults,o=i.regExCaptureGroups,c=o.length;if(!(e<c))throw Error("The capture group count in the RegEx does match the actual capture group count.");var f=o[e];if(f.text.length!==0){var m=Bv(e,e,!1,!0,r,n);if(m!=null){Ta(m);var x=Me();if(De(x))for(var E=0;E<t.length;E++)x.formatText(t[E])}}}function QI(t,e){var r=t.patternMatchResults,n=r.regExCaptureGroups.length;if(!(n<2)){var i=n-1,o=Bv(i,i,!0,!0,t,e);o!=null&&Ta(o)}}function kW(t){if(!De(t))return null;var e=t.anchor.getNode();return Ue(e)?{node:e,offset:t.anchor.offset}:null}function CW(t,e,r){t.update(function(){var n=zv(e).node.getParentOrThrow();s3(e,n,r)},{tag:"history-push"})}function SW(t,e){for(var r=e.triggerState,n=t.length,i=0;i<n;i++){var o=t[i];if(r!=null&&r.isCodeBlock===!1||o.markdownFormatKind==="paragraphCodeBlock"){var c=f7(o,e,ZI(e));if(c!=null)return{markdownCriteria:o,patternMatchResults:c}}}return{markdownCriteria:null,patternMatchResults:null}}function EW(t,e){var r=null;return t.getEditorState().read(function(){var n=kW(Me());if(n!==null){var i=qI(t,!0,n,e),o=SW(e.isParentAListItemNode===!1?uW():VI(),i);o.markdownCriteria===null||o.patternMatchResults===null||(r=i,r.markdownCriteria=o.markdownCriteria,r.patternMatchResults=o.patternMatchResults)}}),r}function _W(t){var e=null;return t.read(function(){var r=Me();if(!(!De(r)||!r.isCollapsed())){var n=r.anchor.getNode(),i=n.getParent(),o=Wn(i),c=i!==null;e={anchorOffset:r.anchor.offset,hasParentNode:c,isCodeBlock:r3(n),isParentAListItemNode:o,isSelectionCollapsed:!0,isSimpleText:Ue(n)&&n.isSimpleText(),nodeKey:n.getKey(),textContent:n.getTextContent()}}}),e}function TW(t,e,r){if(e==null||r==null)return null;for(var n=lW(),i=KI.length,o=0;o<i;o++){var c=n[o].triggerString,f=c.length,m=e.textContent.length,x=e.anchorOffset-f;if((e.hasParentNode===!0&&e.isSimpleText&&e.isSelectionCollapsed&&e.anchorOffset!==r.anchorOffset&&x>=0&&x+f<=m&&e.textContent.substr(x,f)===c&&e.textContent!==r.textContent)===!1)return null}return EW(t,e)}function OW(t,e){if(!t.length)return null;for(var r=[],n=t.split(`
`),i=n.length,o=0;o<i;o++)n[o].length>0?r.push(Tr().append(gr(n[o]))):r.push(Tr());if(r.length){var c=Sn();return c.clear(),c.append.apply(c,r),c}return null}function AW(t,e){for(var r=qI(t,!1,null,null),n=Sn(),i=!1,o=0;!i;){i=!0;for(var c=n.getChildren(),f=c.length,m=o;m<f;m++){var x=c[m];if(Je(x)&&MW(r,x,e),l3(r),n.getChildren().length!==f){o=m,i=!1;break}}}for(i=!1,o=0;!i;){i=!0;for(var E=n.getChildren(),b=E.length,S=o;S<b;S++){var g=E[S];Je(g)&&JI(r,g,e),l3(r)}}}function MW(t,e,r){var n=e.getTextContent();if(Gf(e)){var i=e,o=i.getFirstChild(),c=Ue(o);if(t.isWithinCodeBlock===!0){if(o!=null&&c){t.textNodeWithOffset={node:o,offset:0};var f=cW(t,n);f!=null&&(t.patternMatchResults=f)}t.markdownCriteria=YI(),s3(t,e,r);return}if(e.getChildren().length){var m=sW(),x=m.length;if(t.joinedText=i.getTextContent(),!(o!=null&&c))throw Error("Expect paragraph containing only text nodes.");t.textNodeWithOffset={node:o,offset:0};for(var E=0;E<x;E++){var b=m[E];if(b.requiresParagraphStart===!1)return;var S=f7(b,t,ZI(t));if(S!=null){t.markdownCriteria=b,t.patternMatchResults=S,s3(t,e,r);return}}}}}function JI(t,e,r){var n=e.getFirstChild();if(Ue(n)){IW(t,e,r);return}for(var i=e.getChildren(),o=i.length,c=0;c<o;c++){var f=i[c];Je(f)&&JI(t,f,r)}}function IW(t,e,r){l3(t);for(var n=VI(),i=n.length,o=e.getTextContent(),c=o.length===0,f=0;!c;){c=!0;for(var m=f;m<i;m++){var x=n[m];if(t.textNodeWithOffset==null){var E=DW(e);if(E==null)return;t.textNodeWithOffset={node:E,offset:E.getTextContent().length}}var b=f7(x,t,e);if(b!=null){t.markdownCriteria=x,t.patternMatchResults=b,s3(t,e,r),l3(t);var S=e.getTextContent();if(S.length===0)return;if(S===o)continue;o=S,f=m,c=!1;break}}}}function DW(t){for(var e=t.getChildren(),r=e.length,n=r-1;n>=0;n--)if(Ue(e[n]))return e[n];return null}function LW(t,e){var r=null;return t.registerUpdateListener(function(n){var i=n.tags;if(i.has("historic")===!1){var o=_W(t.getEditorState()),c=o==null?null:TW(t,o,r);c!=null&&CW(t,c,e),r=o}else r=null})}function PW(t,e,r){OW(t)!=null&&AW(e,r)}var eD=er();function NW(){return Q("hr",{})}var tD=function(t){jr(r,t);var e=Rr(r);function r(){return ar(this,r),e.apply(this,arguments)}return ir(r,[{key:"exportDOM",value:function(){return{element:document.createElement("hr")}}},{key:"createDOM",value:function(){var i=document.createElement("div");return i.style.display="contents",i}},{key:"getTextContent",value:function(){return`
`}},{key:"isTopLevel",value:function(){return!0}},{key:"updateDOM",value:function(){return!1}},{key:"decorate",value:function(){return Q(NW,{})}}],[{key:"getType",value:function(){return"horizontalrule"}},{key:"clone",value:function(i){return new r(i.__key)}},{key:"importDOM",value:function(){return{hr:function(o){return{conversion:jW,priority:0}}}}}]),r}(Fu);function jW(){return{node:lb()}}function lb(){return new tD}function RW(t){re.exports.useEffect(function(){return LW(t,lb)},[t])}function FW(){var t=sr(),e=Se(t,1),r=e[0];return RW(r),null}function rD(t){var e=re.exports.useState(t.getEditorState().read(r_(t.isComposing()))),r=Se(e,2),n=r[0],i=r[1];return hl(function(){return t.registerUpdateListener(function(o){var c=o.editorState,f=t.isComposing(),m=c.read(r_(f));i(m)})},[t]),n}function nD(t){var e=re.exports.useState(function(){return t.getDecorators()}),r=Se(e,2),n=r[0],i=r[1];return hl(function(){return t.registerDecoratorListener(function(o){Ai.exports.flushSync(function(){i(o)})})},[t]),re.exports.useMemo(function(){for(var o=[],c=Object.keys(n),f=0;f<c.length;f++){var m=c[f],x=n[m],E=t.getElementByKey(m);E!==null&&o.push(Ai.exports.createPortal(x,E))}return o},[n,t])}function aD(t){var e=function(n){var i=t.getRootElement();if(document.activeElement===i){var o=n.data;if(typeof o=="string"){var c;try{c=JSON.parse(o)}catch{return}if(c&&c.protocol==="nuanria_messaging"&&c.type==="request"){var f=c.payload;if(f&&f.functionId==="makeChanges"){var m=f.args;if(m){var x=Se(m,6),E=x[0],b=x[1],S=x[2],g=x[3],O=x[4];x[5],t.update(function(){var C=Me();if(De(C)){var N=C.anchor,P=N.getNode(),D=0,F=0;if(Ue(P)&&E>=0&&b>=0&&(D=E,F=E+b,C.setTextNodeRange(P,D,P,F)),(D!==F||S!=="")&&(C.insertRawText(S),P=N.getNode()),Ue(P)){D=g,F=g+O;var I=P.getTextContentSize();D=D>I?I:D,F=F>I?I:F,C.setTextNodeRange(P,D,P,F)}n.stopImmediatePropagation()}})}}}}}};return window.addEventListener("message",e,!0),function(){window.removeEventListener("message",e,!0)}}var iD={tag:"history-merge"},w_=iD,x_=iD;function oD(t,e){t.preventDefault(),e.update(function(){var r=t.clipboardData,n=Me();if(n!==null&&r!=null){var i=NI(e);i!==null&&r.setData("text/html",i),r.setData("text/plain",n.getTextContent())}})}function zW(t,e){t.preventDefault(),e.update(function(){var r=Me(),n=t.clipboardData;n!=null&&De(r)&&s7(n,r)})}function BW(t,e){oD(t,e),e.update(function(){var r=Me();De(r)&&r.removeText()})}function HW(t,e){if(e!==null){if(e===void 0)t.update(function(){var n=Sn(),i=n.getFirstChild();if(i===null){var o=Tr();n.append(o);var c=document.activeElement;(Me()!==null||c!==null&&c===t.getRootElement())&&o.select()}},x_);else if(e!==null)switch(av(e)){case"string":{var r=t.parseEditorState(e);t.setEditorState(r,w_);break}case"object":{t.setEditorState(e,w_);break}case"function":{t.update(e,x_);break}}}}function UW(t,e){var r=pa(t.registerCommand(nl,function(n){var i=Me();return De(i)?(i.deleteCharacter(n),!0):!1},Nt),t.registerCommand(vp,function(n){var i=Me();return De(i)?(i.deleteWord(n),!0):!1},Nt),t.registerCommand(gp,function(n){var i=Me();return De(i)?(i.deleteLine(n),!0):!1},Nt),t.registerCommand(_s,function(n){var i=Me();if(!De(i))return!1;if(typeof n=="string")i.insertText(n);else{var o=n.dataTransfer;if(o!=null)s7(o,i);else{var c=n.data;c&&i.insertText(c)}}return!0},Nt),t.registerCommand(Q4,function(n){var i=Me();return De(i)?(i.removeText(),!0):!1},Nt),t.registerCommand(Vf,function(n){var i=Me();return De(i)?(i.insertLineBreak(n),!0):!1},Nt),t.registerCommand(mp,function(n){var i=Me();return De(i)?(i.insertLineBreak(),!0):!1},Nt),t.registerCommand(Z3,function(n){var i=Me();if(!De(i))return!1;var o=n,c=o.shiftKey;return o3(i,!0)?(o.preventDefault(),a3(i,c,!0),!0):!1},Nt),t.registerCommand(X3,function(n){var i=Me();if(!De(i))return!1;var o=n,c=o.shiftKey;return o3(i,!1)?(o.preventDefault(),a3(i,c,!1),!0):!1},Nt),t.registerCommand(Op,function(n){var i=Me();return De(i)?(n.preventDefault(),t.dispatchCommand(nl,!0)):!1},Nt),t.registerCommand(Rv,function(n){var i=Me();return De(i)?(n.preventDefault(),t.dispatchCommand(nl,!1)):!1},Nt),t.registerCommand(yp,function(n){var i=Me();return De(i)?(n!==null&&n.preventDefault(),t.dispatchCommand(Vf)):!1},Nt),t.registerCommand(e7,function(n){var i=Me();return De(i)?(oD(n,t),!0):!1},Nt),t.registerCommand(t7,function(n){var i=Me();return De(i)?(BW(n,t),!0):!1},Nt),t.registerCommand(Y3,function(n){var i=Me();return De(i)?(zW(n,t),!0):!1},Nt),t.registerCommand(Q8,function(n){var i=Me();return De(i)?(n.preventDefault(),!0):!1},Nt),t.registerCommand(J8,function(n){var i=Me();return De(i)?(n.preventDefault(),!0):!1},Nt));return HW(t,e),r}function KW(t,e){hl(function(){return pa(UW(t,e),aD(t))},[t])}function lD(t){var e=t.contentEditable,r=t.placeholder,n=t.initialEditorState,i=sr(),o=Se(i,1),c=o[0],f=rD(c);KW(c,n);var m=nD(c);return ct(dn,{children:[e,f&&r,m]})}function WW(t,e){hl(function(){return pa(NK(t,e),aD(t))},[t])}function sD(t){var e=t.contentEditable,r=t.placeholder,n=t.initialEditorState,i=sr(),o=Se(i,1),c=o[0],f=rD(c);WW(c,n);var m=nD(c);return ct(dn,{children:[e,f&&r,m]})}var Sa={NO_STATUS:0,ROW:1,COLUMN:2,BOTH:3},Hv=function(t){jr(r,t);var e=Rr(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sa.NO_STATUS,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0;return ar(this,r),n=e.call(this,o,f),n.__headerState=i,n.__width=c,n}return ir(r,[{key:"createDOM",value:function(i){var o=document.createElement(this.getTag());return this.__width&&(o.style.width="".concat(this.__width,"px")),pl(o,i.theme.tableCell,this.hasHeader()&&i.theme.tableCellHeader),o}},{key:"exportDOM",value:function(i){var o=Qn(Nn(r.prototype),"exportDOM",this).call(this,i),c=o.element;if(c){var f=700,m=this.getParentOrThrow().getChildrenSize();c.style.border="1px solid black",c.style.width="".concat(this.getWidth()||Math.max(90,f/m),"px"),c.style.verticalAlign="top",c.style.textAlign="start",this.hasHeader()&&(c.style.backgroundColor="#f2f3f5")}return{element:c}}},{key:"getTag",value:function(){return this.hasHeader()?"th":"td"}},{key:"setHeaderStyles",value:function(i){var o=this.getWritable();return o.__headerState=i,this.__headerState}},{key:"getHeaderStyles",value:function(){return this.getLatest().__headerState}},{key:"setWidth",value:function(i){var o=this.getWritable();return o.__width=i,this.__width}},{key:"getWidth",value:function(){return this.getLatest().__width}},{key:"toggleHeaderStyle",value:function(i){var o=this.getWritable();return(o.__headerState&i)===i?o.__headerState-=i:o.__headerState+=i,o.__headerState=o.__headerState,o}},{key:"hasHeaderState",value:function(i){return(this.getHeaderStyles()&i)===i}},{key:"hasHeader",value:function(){return this.getLatest().__headerState!==Sa.NO_STATUS}},{key:"updateDOM",value:function(i){return i.__headerState!==this.__headerState||i.__width!==this.__width}},{key:"collapseAtStart",value:function(){return!0}},{key:"canBeEmpty",value:function(){return!1}}],[{key:"getType",value:function(){return"tablecell"}},{key:"clone",value:function(i){return new r(i.__headerState,i.__colSpan,i.__width,i.__key)}},{key:"importDOM",value:function(){return{td:function(o){return{conversion:k_,priority:0}},th:function(o){return{conversion:k_,priority:0}}}}}]),r}(lI);function k_(t){var e=t.nodeName.toLowerCase(),r=sb(e==="th"?Sa.ROW:Sa.NO_STATUS);return{node:r,forChild:function(i,o){if(Ir(o)&&!Je(i)){var c=Tr();return Aa(i)&&i.getTextContent()===`
`?null:(c.append(i),c)}return i}}}function sb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;return new Hv(t,e,r)}function Ir(t){return t instanceof Hv}var ub=function(t){jr(r,t);var e=Rr(r);function r(n,i){var o;return ar(this,r),o=e.call(this,i),o.__height=n,o}return ir(r,[{key:"createDOM",value:function(i){var o=document.createElement("tr");return this.__height&&(o.style.height="".concat(this.__height,"px")),pl(o,i.theme.tableRow),o}},{key:"setHeight",value:function(i){var o=this.getWritable();return o.__height=i,this.__height}},{key:"getHeight",value:function(){return this.getLatest().__height}},{key:"updateDOM",value:function(i){return i.__height!==this.__height}},{key:"canBeEmpty",value:function(){return!1}}],[{key:"getType",value:function(){return"tablerow"}},{key:"clone",value:function(i){return new r(i.__height,i.__key)}},{key:"importDOM",value:function(){return{tr:function(o){return{conversion:$W,priority:0}}}}}]),r}(uI);function $W(t){return{node:h7()}}function h7(t){return new ub(t)}function Ps(t){return t instanceof ub}if(h0){var C_=document.createElement("style");C_.innerHTML=`
    table.disable-selection {
      -webkit-touch-callout: none;
      -webkit-user-select: none; 
      -khtml-user-select: none; 
      -moz-user-select: none; 
      -ms-user-select: none; 
      user-select: none;
    }
  
    .disable-selection span::selection{
      background-color: transparent;
    }
    .disable-selection br::selection{
      background-color: transparent;
    }
  `,document.body&&document.body.append(C_)}var GW=function(){function t(e,r){ar(this,t),this.isHighlightingCells=!1,this.startX=-1,this.startY=-1,this.currentX=-1,this.currentY=-1,this.listenersToRemove=new Set,this.tableNodeKey=r,this.editor=e,this.grid={cells:[],columns:0,rows:0},this.gridSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.trackTableGrid()}return ir(t,[{key:"getGrid",value:function(){return this.grid}},{key:"removeListeners",value:function(){Array.from(this.listenersToRemove).forEach(function(r){return r()})}},{key:"trackTableGrid",value:function(){var r=this,n=new MutationObserver(function(i){r.editor.update(function(){for(var o=!1,c=0;c<i.length;c++){var f=i[c],m=f.target,x=m.nodeName;if(x==="TABLE"||x==="TR"){o=!0;break}}if(!!o){var E=r.editor.getElementByKey(r.tableNodeKey);if(!E)throw new Error("Expected to find TableElement in DOM");r.grid=s4(E)}})});this.editor.update(function(){var i=r.editor.getElementByKey(r.tableNodeKey);if(!i)throw new Error("Expected to find TableElement in DOM");r.grid=s4(i),n.observe(i,{childList:!0,subtree:!0})})}},{key:"clearHighlight",value:function(){var r=this;this.editor.update(function(){var n=qt(r.tableNodeKey);if(!Lm(n))throw new Error("Expected TableNode.");var i=r.editor.getElementByKey(r.tableNodeKey);if(!i)throw new Error("Expected to find TableElement in DOM");var o=s4(i);r.isHighlightingCells=!1,r.startX=-1,r.startY=-1,r.currentX=-1,r.currentY=-1,r.gridSelection=null,r.anchorCellNodeKey=null,r.focusCellNodeKey=null,r.anchorCell=null,r.focusCell=null,r.hasHijackedSelectionStyles=!1,Ix(o,null),Ta(null),r.editor.dispatchCommand(Es),r.enableHighlightStyle()})}},{key:"enableHighlightStyle",value:function(){var r=this;this.editor.update(function(){var n=r.editor.getElementByKey(r.tableNodeKey);if(!n)throw new Error("Expected to find TableElement in DOM");n.classList.remove("disable-selection"),r.hasHijackedSelectionStyles=!1})}},{key:"disableHighlightStyle",value:function(){var r=this;this.editor.update(function(){var n=r.editor.getElementByKey(r.tableNodeKey);if(!n)throw new Error("Expected to find TableElement in DOM");n.classList.add("disable-selection"),r.hasHijackedSelectionStyles=!0})}},{key:"adjustFocusCellForSelection",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.editor.update(function(){var o=qt(n.tableNodeKey);if(!Lm(o))throw new Error("Expected TableNode.");var c=n.editor.getElementByKey(n.tableNodeKey);if(!c)throw new Error("Expected to find TableElement in DOM");var f=r.x,m=r.y;n.focusCell=r;var x=Kl();if(n.anchorCell!==null&&x.setBaseAndExtent(n.anchorCell.elem,0,r.elem,0),!n.isHighlightingCells&&(n.startX!==f||n.startY!==m||i))n.isHighlightingCells=!0,n.disableHighlightStyle();else if(f===n.currentX&&m===n.currentY)return;if(n.currentX=f,n.currentY=m,n.isHighlightingCells){var E=ul(r.elem);if(n.gridSelection!=null&&n.anchorCellNodeKey!=null&&Ir(E)){var b=E.getKey();n.gridSelection=zE(),n.focusCellNodeKey=b,n.gridSelection.set(n.tableNodeKey,n.anchorCellNodeKey,n.focusCellNodeKey),Ta(n.gridSelection),n.editor.dispatchCommand(Es),Ix(n.grid,n.gridSelection)}}})}},{key:"setAnchorCellForSelection",value:function(r){var n=this;this.editor.update(function(){n.anchorCell=r,n.startX=r.x,n.startY=r.y;var i=Kl();i.setBaseAndExtent(r.elem,0,r.elem,0);var o=ul(r.elem);if(Ir(o)){var c=o.getKey();n.gridSelection=zE(),n.anchorCellNodeKey=c}})}},{key:"formatCells",value:function(r){var n=this;this.editor.update(function(){var i=Me();if(!Mn(i))throw Error("Expected grid selection");var o=dv(),c=o.anchor,f=o.focus;i.getNodes().forEach(function(m){Ir(m)&&m.getTextContentSize()!==0&&(c.set(m.getKey(),0,"element"),f.set(m.getKey(),m.getChildrenSize(),"element"),o.formatText(r))}),Ta(i),n.editor.dispatchCommand(Es)})}},{key:"clearText",value:function(){var r=this;this.editor.update(function(){var n=qt(r.tableNodeKey);if(!Lm(n))throw new Error("Expected TableNode.");var i=Me();if(!Mn(i))throw Error("Expected grid selection");var o=i.getNodes().filter(Ir);if(o.length===r.grid.columns*r.grid.rows){n.selectPrevious(),n.remove(),r.clearHighlight();return}o.forEach(function(c){if(Je(c)){var f=Tr(),m=gr();f.append(m),c.append(f),c.getChildren().forEach(function(x){x!==f&&x.remove()})}}),Ix(r.grid,null),Ta(null),r.editor.dispatchCommand(Es)})}}]),t}(),uD="__lexicalTableSelection";function VW(t,e,r){var n=r.getRootElement();if(n===null)throw new Error("No root element.");var i=new GW(r,t.getKey());qW(e,i);var o=!1,c=!1;e.addEventListener("dblclick",function(x){var E=l4(x.target);E!==null&&(x.preventDefault(),x.stopImmediatePropagation(),x.stopPropagation(),i.setAnchorCellForSelection(E),i.adjustFocusCellForSelection(E,!0),o=!1)}),e.addEventListener("mousedown",function(x){setTimeout(function(){if(x.button===0){var E=l4(x.target);E!==null&&(i.setAnchorCellForSelection(E),document.addEventListener("mouseup",function(){o=!1},{capture:!0,once:!0}))}},0)}),e.addEventListener("mousemove",function(x){if(c&&(x.preventDefault(),x.stopPropagation(),x.stopImmediatePropagation()),o){var E=l4(x.target);if(E!==null){var b=E.x,S=E.y;o&&(i.startX!==b||i.startY!==S||i.isHighlightingCells)&&(x.preventDefault(),o=!0,i.adjustFocusCellForSelection(E))}}}),e.addEventListener("mouseup",function(x){o&&(o=!1)}),e.addEventListener("mouseleave",function(x){});var f=function(E){o=!0,E.button===0&&r.update(function(){var b=Me();if(Mn(b)&&b.gridKey===i.tableNodeKey&&n.contains(E.target))return i.clearHighlight()})};window.addEventListener("mousedown",f),i.listenersToRemove.add(function(){return window.removeEventListener("mousedown",f)});var m=function(E){o=!1};return window.addEventListener("mouseup",m),i.listenersToRemove.add(function(){return window.removeEventListener("mouseup",m)}),i.listenersToRemove.add(r.registerCommand(hv,function(x){var E=Me();if(!vu(E,t))return!1;var b=x,S="down";if(De(E)){if(E.isCollapsed()){var g=Ka(E.anchor.getNode(),function(I){return Ir(I)});if(!Ir(g))return!1;var O=t.getCordsFromCellNode(g,i.grid),C=Ka(E.anchor.getNode(),function(I){return Je(I)});if(C==null)throw new Error("Expected BlockNode Parent");var N=g.getLastChild(),P=N&&C.isParentOf(N)||C===N;if(P||b.shiftKey)return b.preventDefault(),b.stopImmediatePropagation(),b.stopPropagation(),b.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(O.x,O.y,i.grid)),Dc(i,t,O.x,O.y,S)):cm(i,t,O.x,O.y,S)}}else if(Mn(E)&&b.shiftKey){var D=E.focus.getNode();if(!Ir(D))return!1;var F=t.getCordsFromCellNode(D,i.grid);return b.preventDefault(),b.stopImmediatePropagation(),b.stopPropagation(),Dc(i,t,F.x,F.y,S)}return!1},wi)),i.listenersToRemove.add(r.registerCommand(qf,function(x){var E=Me();if(!vu(E,t))return!1;var b=x,S="up";if(De(E)){if(E.isCollapsed()){var g=Ka(E.anchor.getNode(),function(I){return Ir(I)});if(!Ir(g))return!1;var O=t.getCordsFromCellNode(g,i.grid),C=Ka(E.anchor.getNode(),function(I){return Je(I)});if(C==null)throw new Error("Expected BlockNode Parent");var N=g.getLastChild(),P=N&&C.isParentOf(N)||C===N;if(P||b.shiftKey)return b.preventDefault(),b.stopImmediatePropagation(),b.stopPropagation(),b.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(O.x,O.y,i.grid)),Dc(i,t,O.x,O.y,S)):cm(i,t,O.x,O.y,S)}}else if(Mn(E)&&b.shiftKey){var D=E.focus.getNode();if(!Ir(D))return!1;var F=t.getCordsFromCellNode(D,i.grid);return b.preventDefault(),b.stopImmediatePropagation(),b.stopPropagation(),Dc(i,t,F.x,F.y,S)}return!1},wi)),i.listenersToRemove.add(r.registerCommand(Z3,function(x){var E=Me();if(!vu(E,t))return!1;var b=x,S="backward";if(De(E)){if(E.isCollapsed()){var g=Ka(E.anchor.getNode(),function(D){return Ir(D)});if(!Ir(g))return!1;var O=t.getCordsFromCellNode(g,i.grid),C=Ka(E.anchor.getNode(),function(D){return Je(D)});if(C==null)throw new Error("Expected BlockNode Parent");if(E.anchor.offset===0||b.shiftKey)return b.preventDefault(),b.stopImmediatePropagation(),b.stopPropagation(),b.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(O.x,O.y,i.grid)),Dc(i,t,O.x,O.y,S)):cm(i,t,O.x,O.y,S)}}else if(Mn(E)&&b.shiftKey){var N=E.focus.getNode();if(!Ir(N))return!1;var P=t.getCordsFromCellNode(N,i.grid);return b.preventDefault(),b.stopImmediatePropagation(),b.stopPropagation(),Dc(i,t,P.x,P.y,S)}return!1},wi)),i.listenersToRemove.add(r.registerCommand(X3,function(x){var E=Me();if(!vu(E,t))return!1;var b=x,S="forward";if(De(E)){if(E.isCollapsed()){var g=Ka(E.anchor.getNode(),function(D){return Ir(D)});if(!Ir(g))return!1;var O=t.getCordsFromCellNode(g,i.grid),C=Ka(E.anchor.getNode(),function(D){return Je(D)});if(C==null)throw new Error("Expected BlockNode Parent");if(E.anchor.offset===E.anchor.getNode().getTextContentSize()||b.shiftKey)return b.preventDefault(),b.stopImmediatePropagation(),b.stopPropagation(),b.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(O.x,O.y,i.grid)),Dc(i,t,O.x,O.y,S)):cm(i,t,O.x,O.y,S)}}else if(Mn(E)&&b.shiftKey){var N=E.focus.getNode();if(!Ir(N))return!1;var P=t.getCordsFromCellNode(N,i.grid);return b.preventDefault(),b.stopImmediatePropagation(),b.stopPropagation(),Dc(i,t,P.x,P.y,S)}return!1},wi)),i.listenersToRemove.add(r.registerCommand(nl,function(){var x=Me();if(!vu(x,t))return!1;if(Mn(x))return i.clearText(),!0;if(De(x)){var E=Ka(x.anchor.getNode(),function(b){return Ir(b)});if(!Ir(E))return!1;if(x.isCollapsed()&&x.anchor.offset===0&&x.anchor.getNode().getPreviousSiblings().length===0)return!0}return!1},wi)),i.listenersToRemove.add(r.registerCommand(Op,function(x){var E=Me();if(!vu(E,t))return!1;if(Mn(E)){var b=x;return b.preventDefault(),b.stopPropagation(),i.clearText(),!0}else if(De(E)){var S=Ka(E.anchor.getNode(),function(g){return Ir(g)});if(!Ir(S))return!1}return!1},wi)),i.listenersToRemove.add(r.registerCommand(Ea,function(x){var E=Me();if(!vu(E,t))return!1;if(Mn(E))return i.formatCells(x),!0;if(De(E)){var b=Ka(E.anchor.getNode(),function(S){return Ir(S)});if(!Ir(b))return!1}return!1},wi)),i.listenersToRemove.add(r.registerCommand(_s,function(x){var E=Me();if(!vu(E,t))return!1;if(Mn(E))return i.clearHighlight(),!1;if(De(E)){var b=Ka(E.anchor.getNode(),function(S){return Ir(S)});if(!Ir(b))return!1}return!1},wi)),i.listenersToRemove.add(r.registerCommand(J3,function(x){var E=Me();if(!vu(E,t))return!1;if(De(E)){var b=Ka(E.anchor.getNode(),function(O){return Ir(O)});if(!Ir(b))return!1;var S=x;if(E.isCollapsed()){var g=t.getCordsFromCellNode(b,i.grid);return S.preventDefault(),cm(i,t,g.x,g.y,S.shiftKey?"backward":"forward"),!0}}return!1},wi)),i.listenersToRemove.add(r.registerCommand(a7,function(x){return t.isSelected()},wi)),i.listenersToRemove.add(r.registerCommand(Es,function(x){var E=Me();if(E&&De(E)&&!E.isCollapsed()){var b=E.anchor.getNode(),S=E.focus.getNode(),g=t.isParentOf(b),O=t.isParentOf(S),C=g&&!O||O&&!g;if(C){var N=E.isBackward(),P=dv(),D=t.getIndexWithinParent(),F=t.getParentOrThrow().getKey();return P.anchor.set(E.anchor.key,E.anchor.offset,E.anchor.type),P.focus.set(F,N?D-1:D+1,"element"),c=!0,Ta(P),S_(i),!0}}return i.hasHijackedSelectionStyles&&!t.isSelected()?(XW(i),c=!1):!i.hasHijackedSelectionStyles&&t.isSelected()&&S_(i),!1},wi)),i}function qW(t,e){t[uD]=e}function YW(t){return t[uD]}function l4(t){for(var e=t;e!=null;){var r=e.nodeName;if(r==="TD"||r==="TH"){var n=e._cell;return n===void 0?null:n}e=e.parentNode}return null}function s4(t){var e=[],r={cells:e,columns:0,rows:0},n=t.firstChild,i=0,o=0;for(e.length=0;n!=null;){var c=n.nodeName;if(c==="TD"||c==="TH"){var f=n,m={elem:f,highlighted:!1,x:i,y:o};n._cell=m,e[o]===void 0&&(e[o]=[]),e[o][i]=m}else{var x=n.firstChild;if(x!=null){n=x;continue}}var E=n.nextSibling;if(E!=null){i++,n=E;continue}var b=n.parentNode;if(b!=null){var S=b.nextSibling;if(S==null)break;o++,i=0,n=S}}return r.columns=i+1,r.rows=o+1,r}function Ix(t,e){var r=[],n=new Set(e?e.getNodes():[]);return p7(t,function(i,o){var c=i.elem;n.has(o)?(i.highlighted=!0,c.style.setProperty("background-color","rgb(172, 206, 247)"),c.style.setProperty("caret-color","transparent"),r.push(i)):(i.highlighted=!1,c.style.removeProperty("background-color"),c.style.removeProperty("caret-color"),c.getAttribute("style")||c.removeAttribute("style"))}),r}function p7(t,e){for(var r=t.cells,n=0;n<r.length;n++)for(var i=r[n],o=0;o<i.length;o++){var c=i[o],f=ul(c.elem);f!==null&&e(c,f,{x:o,y:n})}}function S_(t){t.disableHighlightStyle(),p7(t.grid,function(e){var r=e.elem;e.highlighted=!0,r.style.setProperty("background-color","rgb(172, 206, 247)"),r.style.setProperty("caret-color","transparent")})}function XW(t){t.enableHighlightStyle(),p7(t.grid,function(e){var r=e.elem;e.highlighted=!1,r.style.removeProperty("background-color"),r.style.removeProperty("caret-color"),r.getAttribute("style")||r.removeAttribute("style")})}var cm=function(e,r,n,i,o){switch(o){case"backward":case"forward":{var c=o==="forward";return n!==(c?e.grid.columns-1:0)?M2(r.getCellNodeFromCordsOrThrow(n+(c?1:-1),i,e.grid)):i!==(c?e.grid.rows-1:0)?M2(r.getCellNodeFromCordsOrThrow(c?0:e.grid.columns-1,i+(c?1:-1),e.grid)):c?r.selectNext():r.selectPrevious(),!0}case"up":return i!==0?M2(r.getCellNodeFromCordsOrThrow(n,i-1,e.grid)):r.selectPrevious(),!0;case"down":return i!==e.grid.rows-1?M2(r.getCellNodeFromCordsOrThrow(n,i+1,e.grid)):r.selectNext(),!0}return!1},Dc=function(e,r,n,i,o){switch(o){case"backward":case"forward":{var c=o==="forward";return n!==(c?e.grid.columns-1:0)&&e.adjustFocusCellForSelection(r.getCellFromCordsOrThrow(n+(c?1:-1),i,e.grid)),!0}case"up":return i!==0?(e.adjustFocusCellForSelection(r.getCellFromCordsOrThrow(n,i-1,e.grid)),!0):!1;case"down":return i!==e.grid.rows-1?(e.adjustFocusCellForSelection(r.getCellFromCordsOrThrow(n,i+1,e.grid)),!0):!1}return!1};function vu(t,e){if(De(t)||Mn(t)){var r=e.isParentOf(t.anchor.getNode()),n=e.isParentOf(t.focus.getNode());return r&&n}return!1}function M2(t){var e=t.getChildren().find(function(r){return Gf(r)});Gf(e)?e.selectEnd():t.selectEnd()}var gv=function(t){jr(r,t);var e=Rr(r);function r(n){return ar(this,r),e.call(this,n)}return ir(r,[{key:"createDOM",value:function(i,o){var c=document.createElement("table");return pl(c,i.theme.table),c}},{key:"updateDOM",value:function(){return!1}},{key:"exportDOM",value:function(i){var o=this;return xt(xt({},Qn(Nn(r.prototype),"exportDOM",this).call(this,i)),{},{after:function(f){if(f){var m=f.cloneNode(),x=document.createElement("colgroup"),E=document.createElement("tbody");E.append.apply(E,jt(f.children));var b=o.getFirstChildOrThrow();if(!Ps(b))throw new Error("Expected to find row node.");for(var S=b.getChildrenSize(),g=0;g<S;g++){var O=document.createElement("col");x.append(O)}return m.replaceChildren(x,E),m}}})}},{key:"canExtractContents",value:function(){return!1}},{key:"canBeEmpty",value:function(){return!1}},{key:"getCordsFromCellNode",value:function(i,o){if(!o)throw Error("Grid not found.");for(var c=o.rows,f=o.cells,m=0;m<c;m++){var x=f[m];if(x==null)throw new Error("Row not found at y:".concat(m));var E=x.findIndex(function(b){var S=b.elem,g=ul(S);return g===i});if(E!==-1)return{x:E,y:m}}throw new Error("Cell not found in table.")}},{key:"getCellFromCords",value:function(i,o,c){if(!c)throw Error("Grid not found.");var f=c.cells,m=f[o];if(m==null)return null;var x=m[i];return x==null?null:x}},{key:"getCellFromCordsOrThrow",value:function(i,o,c){var f=this.getCellFromCords(i,o,c);if(!f)throw new Error("Cell not found at cords.");return f}},{key:"getCellNodeFromCords",value:function(i,o,c){var f=this.getCellFromCords(i,o,c);if(f==null)return null;var m=ul(f.elem);return Ir(m)?m:null}},{key:"getCellNodeFromCordsOrThrow",value:function(i,o,c){var f=this.getCellNodeFromCords(i,o,c);if(!f)throw new Error("Node at cords not TableCellNode.");return f}},{key:"canSelectBefore",value:function(){return!0}}],[{key:"getType",value:function(){return"table"}},{key:"clone",value:function(i){return new r(i.__key)}},{key:"importDOM",value:function(){return{table:function(o){return{conversion:QW,priority:0}}}}}]),r}(sI);function ZW(t,e){var r=t.getElementByKey(e.getKey());if(r==null)throw new Error("Table Element Not Found");return s4(r)}function QW(t){return{node:cD()}}function cD(){return new gv}function Lm(t){return t instanceof gv}function JW(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=cD(),i=0;i<t;i++){for(var o=h7(),c=0;c<e;c++){var f=Sa.NO_STATUS;r&&(i===0&&(f|=Sa.ROW),c===0&&(f|=Sa.COLUMN));var m=sb(f),x=Tr();x.append(gr()),m.append(x),o.append(m)}n.append(o)}return n}function e$(t){var e=Ka(t,function(r){return Ir(r)});return Ir(e)?e:null}function fD(t){var e=Ka(t,function(r){return Ps(r)});if(Ps(e))return e;throw new Error("Expected table cell to be inside of table row.")}function bo(t){var e=Ka(t,function(r){return Lm(r)});if(Lm(e))return e;throw new Error("Expected table cell to be inside of table.")}function u4(t){var e=fD(t),r=bo(e);return r.getChildren().findIndex(function(n){return n.is(e)})}function c4(t){var e=fD(t);return e.getChildren().findIndex(function(r){return r.is(t)})}function t$(t,e){var r=bo(t),n=r.getCordsFromCellNode(t,e),i=n.x,o=n.y;return{above:r.getCellNodeFromCords(i,o-1,e),below:r.getCellNodeFromCords(i,o+1,e),left:r.getCellNodeFromCords(i-1,o,e),right:r.getCellNodeFromCords(i+1,o,e)}}function r$(t,e){var r=t.getChildren();if(e>=r.length||e<0)throw new Error("Expected table cell to be inside of table row.");var n=r[e];return n.remove(),t}function n$(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=t.getChildren();if(e>=o.length||e<0)throw new Error("Table row target index out of range");var c=o[e];if(Ps(c))for(var f=0;f<n;f++){for(var m=c.getChildren(),x=m.length,E=h7(),b=0;b<x;b++){var S=m[b];if(!Ir(S))throw Error("Expected table cell");var g=t$(S,i),O=g.above,C=g.below,N=Sa.NO_STATUS,P=O&&O.getWidth()||C&&C.getWidth()||null;(O&&O.hasHeaderState(Sa.COLUMN)||C&&C.hasHeaderState(Sa.COLUMN))&&(N|=Sa.COLUMN);var D=sb(N,1,P);D.append(Tr()),E.append(D)}r?c.insertAfter(E):c.insertBefore(E)}else throw new Error("Row before insertion index does not exist.");return t}function a$(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=arguments.length>3?arguments[3]:void 0,i=t.getChildren(),o=0;o<i.length;o++){var c=i[o];if(Ps(c))for(var f=0;f<n;f++){var m=Sa.NO_STATUS;o===0&&(m|=Sa.ROW);var x=sb(m);x.append(Tr());var E=c.getChildren();if(e>=E.length||e<0)throw new Error("Table column target index out of range");var b=E[e];r?b.insertAfter(x):b.insertBefore(x)}}return t}function i$(t,e){for(var r=t.getChildren(),n=0;n<r.length;n++){var i=r[n];if(Ps(i)){var o=i.getChildren();if(e>=o.length||e<0)throw new Error("Table column target index out of range");o[e].remove()}}return t}var dD=er();function hD(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useEffect(function(){if(!r.hasNodes([gv,Hv,ub]))throw Error("TablePlugin: TableNode, TableCellNode or TableRowNode not registered on editor");return r.registerCommand(dD,function(n){var i=n.columns,o=n.rows,c=Me();if(!De(c))return!0;var f=c.focus,m=f.getNode();if(m!==null){var x=JW(Number(o),Number(i));if(fn(m)){var E=m.getChildAtIndex(f.offset);E!==null?E.insertBefore(x):m.append(x),x.insertBefore(Tr())}else{var b=m.getTopLevelElementOrThrow();b.insertAfter(x)}x.insertAfter(Tr());var S=x.getFirstChildOrThrow().getFirstChildOrThrow();S.select()}return!0},Nt)},[r]),re.exports.useEffect(function(){var n=new Map;return r.registerMutationListener(gv,function(i){var o=qa(i),c;try{var f=function(){var x=Se(c.value,2),E=x[0],b=x[1];if(b==="created")r.update(function(){var g=r.getElementByKey(E),O=qt(E);if(g&&O){var C=VW(O,g,r);n.set(E,C)}});else if(b==="destroyed"){var S=n.get(E);S&&(S.removeListeners(),n.delete(E))}};for(o.s();!(c=o.n()).done;)f()}catch(m){o.e(m)}finally{o.f()}})},[r]),null}function o$(t){l$(function(e){var r=JSON.parse(e),n=t.parseEditorState(JSON.stringify(r.editorState));t.setEditorState(n),t.dispatchCommand(cI)})}function l$(t){var e=document.createElement("input");e.type="file",e.accept=".lexical",e.addEventListener("change",function(r){var n=r.target.files[0],i=new FileReader;i.readAsText(n,"UTF-8"),i.onload=function(o){var c=o.target.result;t(c)}}),e.click()}function s$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.freeze({}),r=new Date,n=t.getEditorState(),i={editorState:n,lastSaved:r.getTime(),source:e.source||"Lexical",version:nU},o=e.fileName||r.toISOString();u$(i,"".concat(o,".lexical"))}function u$(t,e){var r=document.createElement("a"),n=document.body;if(n!==null){n.appendChild(r),r.style.display="none";var i=JSON.stringify(t),o=new Blob([i],{type:"octet/stream"}),c=window.URL.createObjectURL(o);r.href=c,r.download=e,r.click(),window.URL.revokeObjectURL(c),r.remove()}}const Ms=()=>new Map,u3=t=>{const e=Ms();return t.forEach((r,n)=>{e.set(n,r)}),e},zu=(t,e,r)=>{let n=t.get(e);return n===void 0&&t.set(e,n=r()),n},c$=(t,e)=>{const r=[];for(const[n,i]of t)r.push(e(i,n));return r},f$=(t,e)=>{for(const[r,n]of t)if(e(n,r))return!0;return!1},yv=()=>new Set,Dx=t=>t[t.length-1],d$=(t,e)=>{for(let r=0;r<e.length;r++)t.push(e[r])},pD=Array.from,h$=Array.isArray;class cb{constructor(){this._observers=Ms()}on(e,r){zu(this._observers,e,yv).add(r)}once(e,r){const n=(...i)=>{this.off(e,n),r(...i)};this.on(e,n)}off(e,r){const n=this._observers.get(e);n!==void 0&&(n.delete(r),n.size===0&&this._observers.delete(e))}emit(e,r){return pD((this._observers.get(e)||Ms()).values()).forEach(n=>n(...r))}destroy(){this._observers=Ms()}}const bv=Math.floor,f4=Math.abs,m7=(t,e)=>t<e?t:e,od=(t,e)=>t>e?t:e,p$=Math.pow,mD=t=>t!==0?t<0:1/t<0,m$=String.fromCharCode,v$=t=>t.toLowerCase(),g$=/^\s*/g,y$=t=>t.replace(g$,""),b$=/([A-Z])/g,E_=(t,e)=>y$(t.replace(b$,r=>`${e}${v$(r)}`));typeof TextEncoder!="undefined"&&new TextEncoder;let Lx=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Lx&&Lx.decode(new Uint8Array).length===1&&(Lx=null);const __=t=>t===void 0?null:t;class w${constructor(){this.map=new Map}setItem(e,r){this.map.set(e,r)}getItem(e){return this.map.get(e)}}let vD=new w$,gD=!0;try{typeof localStorage!="undefined"&&(vD=localStorage,gD=!1)}catch{}const yD=vD,x$=t=>gD||addEventListener("storage",t),fb=typeof process!="undefined"&&process.release&&/node|io\.js/.test(process.release.name),bD=typeof window!="undefined"&&!fb;typeof navigator!="undefined"&&/Mac/.test(navigator.platform);let bs;const k$=()=>{if(bs===void 0)if(fb){bs=Ms();const t=process.argv;let e=null;for(let r=0;r<t.length;r++){const n=t[r];n[0]==="-"?(e!==null&&bs.set(e,""),e=n):e!==null&&(bs.set(e,n),e=null)}e!==null&&bs.set(e,"")}else typeof location=="object"?(bs=Ms(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,r]=t.split("=");bs.set(`--${E_(e,"-")}`,r),bs.set(`-${E_(e,"-")}`,r)}})):bs=Ms();return bs},C$=t=>k$().has(t),S$=t=>__(fb?process.env[t.toUpperCase()]:yD.getItem(t)),E$=t=>C$("--"+t)||S$(t)!==null;E$("production");const T_=1,O_=2,Px=4,Nx=8,wv=32,Ou=64,Eo=128,db=31,C5=63,Bf=127,_$=2147483647;class hb{constructor(e){this.arr=e,this.pos=0}}const p0=t=>new hb(t),T$=t=>t.pos!==t.arr.length,O$=(t,e)=>{const r=y7(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,r},xi=t=>O$(t,pr(t)),bp=t=>t.arr[t.pos++],pr=t=>{let e=0,r=0;for(;;){const n=t.arr[t.pos++];if(e=e|(n&Bf)<<r,r+=7,n<Eo)return e>>>0;if(r>53)throw new Error("Integer out of range!")}},v7=t=>{let e=t.arr[t.pos++],r=e&C5,n=6;const i=(e&Ou)>0?-1:1;if((e&Eo)===0)return i*r;for(;;){if(e=t.arr[t.pos++],r=r|(e&Bf)<<n,n+=7,e<Eo)return i*(r>>>0);if(n>53)throw new Error("Integer out of range!")}},Jc=t=>{let e=pr(t);if(e===0)return"";{let r=String.fromCodePoint(bp(t));if(--e<100)for(;e--;)r+=String.fromCodePoint(bp(t));else for(;e>0;){const n=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+n);t.pos+=n,r+=String.fromCodePoint.apply(null,i),e-=n}return decodeURIComponent(escape(r))}},g7=(t,e)=>{const r=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,r},A$=t=>g7(t,4).getFloat32(0,!1),M$=t=>g7(t,8).getFloat64(0,!1),I$=t=>g7(t,8).getBigInt64(0,!1),D$=[t=>{},t=>null,v7,A$,M$,I$,t=>!1,t=>!0,Jc,t=>{const e=pr(t),r={};for(let n=0;n<e;n++){const i=Jc(t);r[i]=xv(t)}return r},t=>{const e=pr(t),r=[];for(let n=0;n<e;n++)r.push(xv(t));return r},xi],xv=t=>D$[127-bp(t)](t);class A_ extends hb{constructor(e,r){super(e),this.reader=r,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),T$(this)?this.count=pr(this)+1:this.count=-1),this.count--,this.s}}class d4 extends hb{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=v7(this);const e=mD(this.s);this.count=1,e&&(this.s=-this.s,this.count=pr(this)+2)}return this.count--,this.s}}class jx extends hb{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=v7(this),r=e&1;this.diff=e>>1,this.count=1,r&&(this.count=pr(this)+2)}return this.s+=this.diff,this.count--,this.s}}class L${constructor(e){this.decoder=new d4(e),this.str=Jc(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),r=this.str.slice(this.spos,e);return this.spos=e,r}}const wD=t=>new Uint8Array(t),y7=(t,e,r)=>new Uint8Array(t,e,r),P$=t=>new Uint8Array(t),N$=t=>{let e="";for(let r=0;r<t.byteLength;r++)e+=m$(t[r]);return btoa(e)},j$=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),R$=t=>{const e=atob(t),r=wD(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},F$=t=>{const e=Buffer.from(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},z$=bD?N$:j$,B$=bD?R$:F$,H$=t=>{const e=wD(t.byteLength);return e.set(t),e},U$=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&bv(t)===t);class Uv{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const ui=()=>new Uv,b7=t=>{let e=t.cpos;for(let r=0;r<t.bufs.length;r++)e+=t.bufs[r].length;return e},Un=t=>{const e=new Uint8Array(b7(t));let r=0;for(let n=0;n<t.bufs.length;n++){const i=t.bufs[n];e.set(i,r),r+=i.length}return e.set(y7(t.cbuf.buffer,0,t.cpos),r),e},K$=(t,e)=>{const r=t.cbuf.length;r-t.cpos<e&&(t.bufs.push(y7(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(od(r,e)*2),t.cpos=0)},Wa=(t,e)=>{const r=t.cbuf.length;t.cpos===r&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(r*2),t.cpos=0),t.cbuf[t.cpos++]=e},S5=Wa,Vt=(t,e)=>{for(;e>Bf;)Wa(t,Eo|Bf&e),e>>>=7;Wa(t,Bf&e)},w7=(t,e)=>{const r=mD(e);for(r&&(e=-e),Wa(t,(e>C5?Eo:0)|(r?Ou:0)|C5&e),e>>>=6;e>0;)Wa(t,(e>Bf?Eo:0)|Bf&e),e>>>=7},Hf=(t,e)=>{const r=unescape(encodeURIComponent(e)),n=r.length;Vt(t,n);for(let i=0;i<n;i++)Wa(t,r.codePointAt(i))},pb=(t,e)=>{const r=t.cbuf.length,n=t.cpos,i=m7(r-n,e.length),o=e.length-i;t.cbuf.set(e.subarray(0,i),n),t.cpos+=i,o>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(od(r*2,o)),t.cbuf.set(e.subarray(i)),t.cpos=o)},ua=(t,e)=>{Vt(t,e.byteLength),pb(t,e)},x7=(t,e)=>{K$(t,e);const r=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,r},W$=(t,e)=>x7(t,4).setFloat32(0,e,!1),$$=(t,e)=>x7(t,8).setFloat64(0,e,!1),G$=(t,e)=>x7(t,8).setBigInt64(0,e,!1),M_=new DataView(new ArrayBuffer(4)),V$=t=>(M_.setFloat32(0,t),M_.getFloat32(0)===t),kv=(t,e)=>{switch(typeof e){case"string":Wa(t,119),Hf(t,e);break;case"number":U$(e)&&f4(e)<=_$?(Wa(t,125),w7(t,e)):V$(e)?(Wa(t,124),W$(t,e)):(Wa(t,123),$$(t,e));break;case"bigint":Wa(t,122),G$(t,e);break;case"object":if(e===null)Wa(t,126);else if(e instanceof Array){Wa(t,117),Vt(t,e.length);for(let r=0;r<e.length;r++)kv(t,e[r])}else if(e instanceof Uint8Array)Wa(t,116),ua(t,e);else{Wa(t,118);const r=Object.keys(e);Vt(t,r.length);for(let n=0;n<r.length;n++){const i=r[n];Hf(t,i),kv(t,e[i])}}break;case"boolean":Wa(t,e?120:121);break;default:Wa(t,127)}};class I_ extends Uv{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Vt(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const D_=t=>{t.count>0&&(w7(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Vt(t.encoder,t.count-2))};class h4{constructor(){this.encoder=new Uv,this.s=0,this.count=0}write(e){this.s===e?this.count++:(D_(this),this.count=1,this.s=e)}toUint8Array(){return D_(this),Un(this.encoder)}}const L_=t=>{if(t.count>0){const e=t.diff<<1|(t.count===1?0:1);w7(t.encoder,e),t.count>1&&Vt(t.encoder,t.count-2)}};class Rx{constructor(){this.encoder=new Uv,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(L_(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return L_(this),Un(this.encoder)}}class q${constructor(){this.sarr=[],this.s="",this.lensE=new h4}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Uv;return this.sarr.push(this.s),this.s="",Hf(e,this.sarr.join("")),pb(e,this.lensE.toUint8Array()),Un(e)}}const P_=typeof crypto=="undefined"?null:crypto,Y$=P_!==null?t=>{const e=new ArrayBuffer(t),r=new Uint8Array(e);return P_.getRandomValues(r),e}:t=>{const e=new ArrayBuffer(t),r=new Uint8Array(e);for(let n=0;n<t;n++)r[n]=Math.ceil(Math.random()*4294967295>>>0);return e},xD=()=>new Uint32Array(Y$(4))[0],X$=[1e7]+-1e3+-4e3+-8e3+-1e11,Z$=()=>X$.replace(/[018]/g,t=>(t^xD()&15>>t/4).toString(16)),i0=Date.now,Q$=t=>new Promise(t),mb=t=>new Error(t),Is=()=>{throw mb("Method unimplemented")},Wl=()=>{throw mb("Unexpected case")},J$=Object.keys,eG=(t,e)=>{const r=[];for(const n in t)r.push(e(t[n],n));return r},c3=t=>J$(t).length,tG=(t,e)=>{for(const r in t)if(!e(t[r],r))return!1;return!0},kD=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),rG=(t,e)=>t===e||c3(t)===c3(e)&&tG(t,(r,n)=>(r!==void 0||kD(e,n))&&e[n]===r),k7=(t,e,r=0)=>{try{for(;r<t.length;r++)t[r](...e)}finally{r<t.length&&k7(t,e,r+1)}},nG=(t,e)=>t===e,Pm=(t,e)=>{if(t==null||e==null)return nG(t,e);if(t.constructor!==e.constructor)return!1;if(t===e)return!0;switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;break}case Set:{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;break}case Map:{if(t.size!==e.size)return!1;for(const r of t.keys())if(!e.has(r)||!Pm(t.get(r),e.get(r)))return!1;break}case Object:if(c3(t)!==c3(e))return!1;for(const r in t)if(!kD(t,r)||!Pm(t[r],e[r]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!Pm(t[r],e[r]))return!1;break;default:return!1}return!0},Bu=Symbol;class aG{constructor(e,r){this.left=e,this.right=r}}const gu=(t,e)=>new aG(t,e),ld=typeof document!="undefined"?document:{};typeof DOMParser!="undefined"&&new DOMParser;const iG=t=>c$(t,(e,r)=>`${r}:${e};`).join("");ld.ELEMENT_NODE;ld.TEXT_NODE;ld.CDATA_SECTION_NODE;ld.COMMENT_NODE;ld.DOCUMENT_NODE;ld.DOCUMENT_TYPE_NODE;ld.DOCUMENT_FRAGMENT_NODE;const C7=Bu(),S7=Bu(),CD=Bu(),SD=Bu(),ED=Bu(),E7=Bu(),_D=Bu(),_7=Bu(),TD=Bu(),oG={[C7]:gu("font-weight","bold"),[S7]:gu("font-weight","normal"),[CD]:gu("color","blue"),[ED]:gu("color","green"),[SD]:gu("color","grey"),[E7]:gu("color","red"),[_D]:gu("color","purple"),[_7]:gu("color","orange"),[TD]:gu("color","black")},lG={[C7]:"\x1B[1m",[S7]:"\x1B[2m",[CD]:"\x1B[34m",[ED]:"\x1B[32m",[SD]:"\x1B[37m",[E7]:"\x1B[31m",[_D]:"\x1B[35m",[_7]:"\x1B[38;5;208m",[TD]:"\x1B[0m"},sG=t=>{const e=[],r=[],n=Ms();let i=[],o=0;for(;o<t.length;o++){const c=t[o],f=oG[c];if(f!==void 0)n.set(f.left,f.right);else if(c.constructor===String||c.constructor===Number){const m=iG(n);o>0||m.length>0?(e.push("%c"+c),r.push(m)):e.push(c)}else break}for(o>0&&(i=r,i.unshift(e.join("")));o<t.length;o++){const c=t[o];c instanceof Symbol||i.push(c)}return i},uG=t=>{const e=[],r=[];let n=0;for(;n<t.length;n++){const i=t[n],o=lG[i];if(o!==void 0)e.push(o);else if(i.constructor===String||i.constructor===Number)e.push(i);else break}for(n>0&&(e.push("\x1B[0m"),r.push(e.join("")));n<t.length;n++){const i=t[n];i instanceof Symbol||r.push(i)}return r},cG=fb?uG:sG,fG=(...t)=>{console.log(...cG(t)),dG.forEach(e=>e.print(t))},dG=new Set,OD=t=>({[Symbol.iterator](){return this},next:t}),hG=(t,e)=>OD(()=>{let r;do r=t.next();while(!r.done&&!e(r.value));return r}),Fx=(t,e)=>OD(()=>{const{done:r,value:n}=t.next();return{done:r,value:r?void 0:e(n)}});class T7{constructor(e,r){this.clock=e,this.len=r}}class Ap{constructor(){this.clients=new Map}}const Zf=(t,e,r)=>e.clients.forEach((n,i)=>{const o=t.doc.store.clients.get(i);for(let c=0;c<n.length;c++){const f=n[c];UD(t,o,f.clock,f.len,r)}}),pG=(t,e)=>{let r=0,n=t.length-1;for(;r<=n;){const i=bv((r+n)/2),o=t[i],c=o.clock;if(c<=e){if(e<c+o.len)return i;r=i+1}else n=i-1}return null},vb=(t,e)=>{const r=t.clients.get(e.client);return r!==void 0&&pG(r,e.clock)!==null},O7=t=>{t.clients.forEach(e=>{e.sort((i,o)=>i.clock-o.clock);let r,n;for(r=1,n=1;r<e.length;r++){const i=e[n-1],o=e[r];i.clock+i.len>=o.clock?i.len=od(i.len,o.clock+o.len-i.clock):(n<r&&(e[n]=o),n++)}e.length=n})},E5=t=>{const e=new Ap;for(let r=0;r<t.length;r++)t[r].clients.forEach((n,i)=>{if(!e.clients.has(i)){const o=n.slice();for(let c=r+1;c<t.length;c++)d$(o,t[c].clients.get(i)||[]);e.clients.set(i,o)}});return O7(e),e},Cv=(t,e,r,n)=>{zu(t.clients,e,()=>[]).push(new T7(r,n))},AD=()=>new Ap,mG=t=>{const e=AD();return t.clients.forEach((r,n)=>{const i=[];for(let o=0;o<r.length;o++){const c=r[o];if(c.deleted){const f=c.id.clock;let m=c.length;if(o+1<r.length)for(let x=r[o+1];o+1<r.length&&x.deleted;x=r[++o+1])m+=x.length;i.push(new T7(f,m))}}i.length>0&&e.clients.set(n,i)}),e},Mp=(t,e)=>{Vt(t.restEncoder,e.clients.size),e.clients.forEach((r,n)=>{t.resetDsCurVal(),Vt(t.restEncoder,n);const i=r.length;Vt(t.restEncoder,i);for(let o=0;o<i;o++){const c=r[o];t.writeDsClock(c.clock),t.writeDsLen(c.len)}})},A7=t=>{const e=new Ap,r=pr(t.restDecoder);for(let n=0;n<r;n++){t.resetDsCurVal();const i=pr(t.restDecoder),o=pr(t.restDecoder);if(o>0){const c=zu(e.clients,i,()=>[]);for(let f=0;f<o;f++)c.push(new T7(t.readDsClock(),t.readDsLen()))}}return e},N_=(t,e,r)=>{const n=new Ap,i=pr(t.restDecoder);for(let o=0;o<i;o++){t.resetDsCurVal();const c=pr(t.restDecoder),f=pr(t.restDecoder),m=r.clients.get(c)||[],x=aa(r,c);for(let E=0;E<f;E++){const b=t.readDsClock(),S=b+t.readDsLen();if(b<x){x<S&&Cv(n,c,x,S-x);let g=Ns(m,b),O=m[g];for(!O.deleted&&O.id.clock<b&&(m.splice(g+1,0,g3(e,O,b-O.id.clock)),g++);g<m.length&&(O=m[g++],O.id.clock<S);)O.deleted||(S<O.id.clock+O.length&&m.splice(g,0,g3(e,O,S-O.id.clock)),O.delete(e))}else Cv(n,c,b,S-b)}}if(n.clients.size>0){const o=new Qf;return Vt(o.restEncoder,0),Mp(o,n),o.toUint8Array()}return null},MD=xD;class Pu extends cb{constructor({guid:e=Z$(),collectionid:r=null,gc:n=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:c=!1,shouldLoad:f=!0}={}){super(),this.gc=n,this.gcFilter=i,this.clientID=MD(),this.guid=e,this.collectionid=r,this.share=new Map,this.store=new BD,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=f,this.autoLoad=c,this.meta=o,this.isLoaded=!1,this.whenLoaded=Q$(m=>{this.on("load",()=>{this.isLoaded=!0,m(this)})})}load(){const e=this._item;e!==null&&!this.shouldLoad&&gn(e.parent.doc,r=>{r.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(e=>e.guid))}transact(e,r=null){gn(this,e,r)}get(e,r=Ga){const n=zu(this.share,e,()=>{const o=new r;return o._integrate(this,null),o}),i=n.constructor;if(r!==Ga&&i!==r)if(i===Ga){const o=new r;o._map=n._map,n._map.forEach(c=>{for(;c!==null;c=c.left)c.parent=o}),o._start=n._start;for(let c=o._start;c!==null;c=c.right)c.parent=o;return o._length=n._length,this.share.set(e,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return n}getArray(e=""){return this.get(e,Jh)}getText(e=""){return this.get(e,xp)}getMap(e=""){return this.get(e,To)}getXmlFragment(e=""){return this.get(e,Jf)}toJSON(){const e={};return this.share.forEach((r,n)=>{e[n]=r.toJSON()}),e}destroy(){pD(this.subdocs).forEach(r=>r.destroy());const e=this._item;if(e!==null){this._item=null;const r=e.content;r.doc=new Pu(o2(i2({guid:this.guid},r.opts),{shouldLoad:!1})),r.doc._item=e,gn(e.parent.doc,n=>{const i=r.doc;e.deleted||n.subdocsAdded.add(i),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,r){super.on(e,r)}off(e,r){super.off(e,r)}}class ID{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return pr(this.restDecoder)}readDsLen(){return pr(this.restDecoder)}}class DD extends ID{readLeftID(){return _r(pr(this.restDecoder),pr(this.restDecoder))}readRightID(){return _r(pr(this.restDecoder),pr(this.restDecoder))}readClient(){return pr(this.restDecoder)}readInfo(){return bp(this.restDecoder)}readString(){return Jc(this.restDecoder)}readParentInfo(){return pr(this.restDecoder)===1}readTypeRef(){return pr(this.restDecoder)}readLen(){return pr(this.restDecoder)}readAny(){return xv(this.restDecoder)}readBuf(){return H$(xi(this.restDecoder))}readJSON(){return JSON.parse(Jc(this.restDecoder))}readKey(){return Jc(this.restDecoder)}}class vG{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=pr(this.restDecoder),this.dsCurrVal}readDsLen(){const e=pr(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class wp extends vG{constructor(e){super(e),this.keys=[],pr(e),this.keyClockDecoder=new jx(xi(e)),this.clientDecoder=new d4(xi(e)),this.leftClockDecoder=new jx(xi(e)),this.rightClockDecoder=new jx(xi(e)),this.infoDecoder=new A_(xi(e),bp),this.stringDecoder=new L$(xi(e)),this.parentInfoDecoder=new A_(xi(e),bp),this.typeRefDecoder=new d4(xi(e)),this.lenDecoder=new d4(xi(e))}readLeftID(){return new Qh(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Qh(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return xv(this.restDecoder)}readBuf(){return xi(this.restDecoder)}readJSON(){return xv(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const r=this.stringDecoder.read();return this.keys.push(r),r}}}class LD{constructor(){this.restEncoder=ui()}toUint8Array(){return Un(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Vt(this.restEncoder,e)}writeDsLen(e){Vt(this.restEncoder,e)}}class Kv extends LD{writeLeftID(e){Vt(this.restEncoder,e.client),Vt(this.restEncoder,e.clock)}writeRightID(e){Vt(this.restEncoder,e.client),Vt(this.restEncoder,e.clock)}writeClient(e){Vt(this.restEncoder,e)}writeInfo(e){S5(this.restEncoder,e)}writeString(e){Hf(this.restEncoder,e)}writeParentInfo(e){Vt(this.restEncoder,e?1:0)}writeTypeRef(e){Vt(this.restEncoder,e)}writeLen(e){Vt(this.restEncoder,e)}writeAny(e){kv(this.restEncoder,e)}writeBuf(e){ua(this.restEncoder,e)}writeJSON(e){Hf(this.restEncoder,JSON.stringify(e))}writeKey(e){Hf(this.restEncoder,e)}}class PD{constructor(){this.restEncoder=ui(),this.dsCurrVal=0}toUint8Array(){return Un(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const r=e-this.dsCurrVal;this.dsCurrVal=e,Vt(this.restEncoder,r)}writeDsLen(e){e===0&&Wl(),Vt(this.restEncoder,e-1),this.dsCurrVal+=e}}class Qf extends PD{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Rx,this.clientEncoder=new h4,this.leftClockEncoder=new Rx,this.rightClockEncoder=new Rx,this.infoEncoder=new I_(S5),this.stringEncoder=new q$,this.parentInfoEncoder=new I_(S5),this.typeRefEncoder=new h4,this.lenEncoder=new h4}toUint8Array(){const e=ui();return Vt(e,0),ua(e,this.keyClockEncoder.toUint8Array()),ua(e,this.clientEncoder.toUint8Array()),ua(e,this.leftClockEncoder.toUint8Array()),ua(e,this.rightClockEncoder.toUint8Array()),ua(e,Un(this.infoEncoder)),ua(e,this.stringEncoder.toUint8Array()),ua(e,Un(this.parentInfoEncoder)),ua(e,this.typeRefEncoder.toUint8Array()),ua(e,this.lenEncoder.toUint8Array()),pb(e,Un(this.restEncoder)),Un(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){kv(this.restEncoder,e)}writeBuf(e){ua(this.restEncoder,e)}writeJSON(e){kv(this.restEncoder,e)}writeKey(e){const r=this.keyMap.get(e);r===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(r)}}const gG=(t,e,r,n)=>{n=od(n,e[0].id.clock);const i=Ns(e,n);Vt(t.restEncoder,e.length-i),t.writeClient(r),Vt(t.restEncoder,n);const o=e[i];o.write(t,n-o.id.clock);for(let c=i+1;c<e.length;c++)e[c].write(t,0)},M7=(t,e,r)=>{const n=new Map;r.forEach((i,o)=>{aa(e,o)>i&&n.set(o,i)}),gb(e).forEach((i,o)=>{r.has(o)||n.set(o,0)}),Vt(t.restEncoder,n.size),Array.from(n.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{gG(t,e.clients.get(i),i,o)})},yG=(t,e)=>{const r=Ms(),n=pr(t.restDecoder);for(let i=0;i<n;i++){const o=pr(t.restDecoder),c=new Array(o),f=t.readClient();let m=pr(t.restDecoder);r.set(f,{i:0,refs:c});for(let x=0;x<o;x++){const E=t.readInfo();switch(db&E){case 0:{const b=t.readLen();c[x]=new Jo(_r(f,m),b),m+=b;break}case 10:{const b=pr(t.restDecoder);c[x]=new el(_r(f,m),b),m+=b;break}default:{const b=(E&(Ou|Eo))===0,S=new yn(_r(f,m),null,(E&Eo)===Eo?t.readLeftID():null,null,(E&Ou)===Ou?t.readRightID():null,b?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,b&&(E&wv)===wv?t.readString():null,fL(t,E));c[x]=S,m+=S.length}}}}return r},bG=(t,e,r)=>{const n=[];let i=Array.from(r.keys()).sort((g,O)=>g-O);if(i.length===0)return null;const o=()=>{if(i.length===0)return null;let g=r.get(i[i.length-1]);for(;g.refs.length===g.i;)if(i.pop(),i.length>0)g=r.get(i[i.length-1]);else return null;return g};let c=o();if(c===null&&n.length===0)return null;const f=new BD,m=new Map,x=(g,O)=>{const C=m.get(g);(C==null||C>O)&&m.set(g,O)};let E=c.refs[c.i++];const b=new Map,S=()=>{for(const g of n){const O=g.id.client,C=r.get(O);C?(C.i--,f.clients.set(O,C.refs.slice(C.i)),r.delete(O),C.i=0,C.refs=[]):f.clients.set(O,[g]),i=i.filter(N=>N!==O)}n.length=0};for(;;){if(E.constructor!==el){const O=zu(b,E.id.client,()=>aa(e,E.id.client))-E.id.clock;if(O<0)n.push(E),x(E.id.client,E.id.clock-1),S();else{const C=E.getMissing(t,e);if(C!==null){n.push(E);const N=r.get(C)||{refs:[],i:0};if(N.refs.length===N.i)x(C,aa(e,C)),S();else{E=N.refs[N.i++];continue}}else(O===0||O<E.length)&&(E.integrate(t,O),b.set(E.id.client,E.id.clock+E.length))}}if(n.length>0)E=n.pop();else if(c!==null&&c.i<c.refs.length)E=c.refs[c.i++];else{if(c=o(),c===null)break;E=c.refs[c.i++]}}if(f.clients.size>0){const g=new Qf;return M7(g,f,new Map),Vt(g.restEncoder,0),{missing:m,update:g.toUint8Array()}}return null},wG=(t,e)=>M7(t,e.doc.store,e.beforeState),xG=(t,e,r,n=new wp(t))=>gn(e,i=>{i.local=!1;let o=!1;const c=i.doc,f=c.store,m=yG(n,c),x=bG(i,f,m),E=f.pendingStructs;if(E){for(const[S,g]of E.missing)if(g<aa(f,S)){o=!0;break}if(x){for(const[S,g]of x.missing){const O=E.missing.get(S);(O==null||O>g)&&E.missing.set(S,g)}E.update=d3([E.update,x.update])}}else f.pendingStructs=x;const b=N_(n,i,f);if(f.pendingDs){const S=new wp(p0(f.pendingDs));pr(S.restDecoder);const g=N_(S,i,f);b&&g?f.pendingDs=d3([b,g]):f.pendingDs=b||g}else f.pendingDs=b;if(o){const S=f.pendingStructs.update;f.pendingStructs=null,ND(i.doc,S)}},r,!1),ND=(t,e,r,n=wp)=>{const i=p0(e);xG(i,t,r,new n(i))},kG=(t,e,r)=>ND(t,e,r,DD),CG=(t,e,r=new Map)=>{M7(t,e.store,r),Mp(t,mG(e.store))},SG=(t,e=new Uint8Array([0]),r=new Qf)=>{const n=jD(e);CG(r,t,n);const i=[r.toUint8Array()];if(t.store.pendingDs&&i.push(t.store.pendingDs),t.store.pendingStructs&&i.push(YG(t.store.pendingStructs.update,e)),i.length>1){if(r.constructor===Kv)return VG(i.map((o,c)=>c===0?o:ZG(o)));if(r.constructor===Qf)return d3(i)}return i[0]},EG=(t,e)=>SG(t,e,new Kv),_G=t=>{const e=new Map,r=pr(t.restDecoder);for(let n=0;n<r;n++){const i=pr(t.restDecoder),o=pr(t.restDecoder);e.set(i,o)}return e},jD=t=>_G(new ID(p0(t))),RD=(t,e)=>(Vt(t.restEncoder,e.size),Array.from(e.entries()).sort((r,n)=>n[0]-r[0]).forEach(([r,n])=>{Vt(t.restEncoder,r),Vt(t.restEncoder,n)}),t),TG=(t,e)=>RD(t,gb(e.store)),OG=(t,e=new PD)=>(t instanceof Map?RD(e,t):TG(e,t),e.toUint8Array()),AG=t=>OG(t,new LD);class MG{constructor(){this.l=[]}}const j_=()=>new MG,R_=(t,e)=>t.l.push(e),F_=(t,e)=>{const r=t.l,n=r.length;t.l=r.filter(i=>e!==i),n===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},FD=(t,e,r)=>k7(t.l,[e,r]);class Qh{constructor(e,r){this.client=e,this.clock=r}}const Hh=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,_r=(t,e)=>new Qh(t,e),zD=t=>{for(const[e,r]of t.doc.share.entries())if(r===t)return e;throw Wl()},f3=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class IG{constructor(e,r,n,i=0){this.type=e,this.tname=r,this.item=n,this.assoc=i}}class DG{constructor(e,r,n=0){this.type=e,this.index=r,this.assoc=n}}const LG=(t,e,r=0)=>new DG(t,e,r),I2=(t,e,r)=>{let n=null,i=null;return t._item===null?i=zD(t):n=_r(t._item.id.client,t._item.id.clock),new IG(n,i,e,r)},PG=(t,e,r=0)=>{let n=t._start;if(r<0){if(e===0)return I2(t,null,r);e--}for(;n!==null;){if(!n.deleted&&n.countable){if(n.length>e)return I2(t,_r(n.id.client,n.id.clock+e),r);e-=n.length}if(n.right===null&&r<0)return I2(t,n.lastId,r);n=n.right}return I2(t,null,r)},NG=(t,e)=>{const r=e.store,n=t.item,i=t.type,o=t.tname,c=t.assoc;let f=null,m=0;if(n!==null){if(aa(r,n.client)<=n.clock)return null;const x=O5(r,n),E=x.item;if(!(E instanceof yn))return null;if(f=E.parent,f._item===null||!f._item.deleted){m=E.deleted||!E.countable?0:x.diff+(c>=0?0:1);let b=E.left;for(;b!==null;)!b.deleted&&b.countable&&(m+=b.length),b=b.left}}else{if(o!==null)f=e.get(o);else if(i!==null){if(aa(r,i.client)<=i.clock)return null;const{item:x}=O5(r,i);if(x instanceof yn&&x.content instanceof Bs)f=x.content.type;else return null}else throw Wl();c>=0?m=f._length:m=0}return LG(f,m,t.assoc)},jG=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&Hh(t.item,e.item)&&Hh(t.type,e.type)&&t.assoc===e.assoc;class RG{constructor(e,r){this.ds=e,this.sv=r}}const FG=(t,e)=>new RG(t,e);FG(AD(),new Map);const fm=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!vb(e.ds,t.id),p4=(t,e)=>{const r=zu(t.meta,p4,yv),n=t.doc.store;r.has(e)||(e.sv.forEach((i,o)=>{i<aa(n,o)&&Qi(t,_r(o,i))}),Zf(t,e.ds,i=>{}),r.add(e))};class BD{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const gb=t=>{const e=new Map;return t.clients.forEach((r,n)=>{const i=r[r.length-1];e.set(n,i.id.clock+i.length)}),e},aa=(t,e)=>{const r=t.clients.get(e);if(r===void 0)return 0;const n=r[r.length-1];return n.id.clock+n.length},HD=(t,e)=>{let r=t.clients.get(e.id.client);if(r===void 0)r=[],t.clients.set(e.id.client,r);else{const n=r[r.length-1];if(n.id.clock+n.length!==e.id.clock)throw Wl()}r.push(e)},Ns=(t,e)=>{let r=0,n=t.length-1,i=t[n],o=i.id.clock;if(o===e)return n;let c=bv(e/(o+i.length-1)*n);for(;r<=n;){if(i=t[c],o=i.id.clock,o<=e){if(e<o+i.length)return c;r=c+1}else n=c-1;c=bv((r+n)/2)}throw Wl()},zG=(t,e)=>{const r=t.clients.get(e.client);return r[Ns(r,e.clock)]},m4=zG,_5=(t,e,r)=>{const n=Ns(e,r),i=e[n];return i.id.clock<r&&i instanceof yn?(e.splice(n+1,0,g3(t,i,r-i.id.clock)),n+1):n},Qi=(t,e)=>{const r=t.doc.store.clients.get(e.client);return r[_5(t,r,e.clock)]},z_=(t,e,r)=>{const n=e.clients.get(r.client),i=Ns(n,r.clock),o=n[i];return r.clock!==o.id.clock+o.length-1&&o.constructor!==Jo&&n.splice(i+1,0,g3(t,o,r.clock-o.id.clock+1)),o},BG=(t,e,r)=>{const n=t.clients.get(e.id.client);n[Ns(n,e.id.clock)]=r},UD=(t,e,r,n,i)=>{if(n===0)return;const o=r+n;let c=_5(t,e,r),f;do f=e[c++],o<f.id.clock+f.length&&_5(t,e,o),i(f);while(c<e.length&&e[c].id.clock<o)};class HG{constructor(e,r,n){this.doc=e,this.deleteSet=new Ap,this.beforeState=gb(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=r,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const B_=(t,e)=>e.deleteSet.clients.size===0&&!f$(e.afterState,(r,n)=>e.beforeState.get(n)!==r)?!1:(O7(e.deleteSet),wG(t,e),Mp(t,e.deleteSet),!0),H_=(t,e,r)=>{const n=e._item;(n===null||n.id.clock<(t.beforeState.get(n.id.client)||0)&&!n.deleted)&&zu(t.changed,e,yv).add(r)},v4=(t,e)=>{const r=t[e-1],n=t[e];r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)&&(t.splice(e,1),n instanceof yn&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r))},UG=(t,e,r)=>{for(const[n,i]of t.clients.entries()){const o=e.clients.get(n);for(let c=i.length-1;c>=0;c--){const f=i[c],m=f.clock+f.len;for(let x=Ns(o,f.clock),E=o[x];x<o.length&&E.id.clock<m;E=o[++x]){const b=o[x];if(f.clock+f.len<=b.id.clock)break;b instanceof yn&&b.deleted&&!b.keep&&r(b)&&b.gc(e,!1)}}}},KG=(t,e)=>{t.clients.forEach((r,n)=>{const i=e.clients.get(n);for(let o=r.length-1;o>=0;o--){const c=r[o],f=m7(i.length-1,1+Ns(i,c.clock+c.len-1));for(let m=f,x=i[m];m>0&&x.id.clock>=c.clock;x=i[--m])v4(i,m)}})},KD=(t,e)=>{if(e<t.length){const r=t[e],n=r.doc,i=n.store,o=r.deleteSet,c=r._mergeStructs;try{O7(o),r.afterState=gb(r.doc.store),n._transaction=null,n.emit("beforeObserverCalls",[r,n]);const f=[];r.changed.forEach((m,x)=>f.push(()=>{(x._item===null||!x._item.deleted)&&x._callObserver(r,m)})),f.push(()=>{r.changedParentTypes.forEach((m,x)=>f.push(()=>{(x._item===null||!x._item.deleted)&&(m=m.filter(E=>E.target._item===null||!E.target._item.deleted),m.forEach(E=>{E.currentTarget=x}),m.sort((E,b)=>E.path.length-b.path.length),FD(x._dEH,m,r))})),f.push(()=>n.emit("afterTransaction",[r,n]))}),k7(f,[])}finally{n.gc&&UG(o,i,n.gcFilter),KG(o,i),r.afterState.forEach((E,b)=>{const S=r.beforeState.get(b)||0;if(S!==E){const g=i.clients.get(b),O=od(Ns(g,S),1);for(let C=g.length-1;C>=O;C--)v4(g,C)}});for(let E=0;E<c.length;E++){const{client:b,clock:S}=c[E].id,g=i.clients.get(b),O=Ns(g,S);O+1<g.length&&v4(g,O+1),O>0&&v4(g,O)}if(!r.local&&r.afterState.get(n.clientID)!==r.beforeState.get(n.clientID)&&(fG(_7,C7,"[yjs] ",S7,E7,"Changed the client-id because another client seems to be using it."),n.clientID=MD()),n.emit("afterTransactionCleanup",[r,n]),n._observers.has("update")){const E=new Kv;B_(E,r)&&n.emit("update",[E.toUint8Array(),r.origin,n,r])}if(n._observers.has("updateV2")){const E=new Qf;B_(E,r)&&n.emit("updateV2",[E.toUint8Array(),r.origin,n,r])}const{subdocsAdded:f,subdocsLoaded:m,subdocsRemoved:x}=r;(f.size>0||x.size>0||m.size>0)&&(f.forEach(E=>{E.clientID=n.clientID,E.collectionid==null&&(E.collectionid=n.collectionid),n.subdocs.add(E)}),x.forEach(E=>n.subdocs.delete(E)),n.emit("subdocs",[{loaded:m,added:f,removed:x},n,r]),x.forEach(E=>E.destroy())),t.length<=e+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,t])):KD(t,e+1)}}},gn=(t,e,r=null,n=!0)=>{const i=t._transactionCleanups;let o=!1;t._transaction===null&&(o=!0,t._transaction=new HG(t,r,n),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{e(t._transaction)}finally{o&&i[0]===t._transaction&&KD(i,0)}};class WG{constructor(e,r){this.insertions=r,this.deletions=e,this.meta=new Map}}const U_=(t,e,r)=>{Zf(t,r.deletions,n=>{n instanceof yn&&e.scope.some(i=>f3(i,n))&&F7(n,!1)})},K_=(t,e,r)=>{let n=null,i=null;const o=t.doc,c=t.scope;if(gn(o,f=>{for(;e.length>0&&n===null;){const m=o.store,x=e.pop(),E=new Set,b=[];let S=!1;Zf(f,x.insertions,g=>{if(g instanceof yn){if(g.redone!==null){let{item:O,diff:C}=O5(m,g.id);C>0&&(O=Qi(f,_r(O.id.client,O.id.clock+C))),g=O}!g.deleted&&c.some(O=>f3(O,g))&&b.push(g)}}),Zf(f,x.deletions,g=>{g instanceof yn&&c.some(O=>f3(O,g))&&!vb(x.insertions,g.id)&&E.add(g)}),E.forEach(g=>{S=cL(f,g,E,x.insertions,t.ignoreRemoteMapChanges)!==null||S});for(let g=b.length-1;g>=0;g--){const O=b[g];t.deleteFilter(O)&&(O.delete(f),S=!0)}n=S?x:null}f.changed.forEach((m,x)=>{m.has(null)&&x._searchMarker&&(x._searchMarker.length=0)}),i=f},t),n!=null){const f=i.changedParentTypes;t.emit("stack-item-popped",[{stackItem:n,type:r,changedParentTypes:f},t])}return n};class $G extends cb{constructor(e,{captureTimeout:r=500,deleteFilter:n=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:o=!1}={}){super(),this.scope=[],this.addToScope(e),this.deleteFilter=n,i.add(this),this.trackedOrigins=i,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.doc=this.scope[0].doc,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.afterTransactionHandler=c=>{if(!this.scope.some(O=>c.changedParentTypes.has(O))||!this.trackedOrigins.has(c.origin)&&(!c.origin||!this.trackedOrigins.has(c.origin.constructor)))return;const f=this.undoing,m=this.redoing,x=f?this.redoStack:this.undoStack;f?this.stopCapturing():m||this.clear(!1,!0);const E=new Ap;c.afterState.forEach((O,C)=>{const N=c.beforeState.get(C)||0,P=O-N;P>0&&Cv(E,C,N,P)});const b=i0();let S=!1;if(b-this.lastChange<r&&x.length>0&&!f&&!m){const O=x[x.length-1];O.deletions=E5([O.deletions,c.deleteSet]),O.insertions=E5([O.insertions,E])}else x.push(new WG(c.deleteSet,E)),S=!0;!f&&!m&&(this.lastChange=b),Zf(c,c.deleteSet,O=>{O instanceof yn&&this.scope.some(C=>f3(C,O))&&F7(O,!0)});const g=[{stackItem:x[x.length-1],origin:c.origin,type:f?"redo":"undo",changedParentTypes:c.changedParentTypes},this];S?this.emit("stack-item-added",g):this.emit("stack-item-updated",g)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=h$(e)?e:[e],e.forEach(r=>{this.scope.every(n=>n!==r)&&this.scope.push(r)})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,r=!0){(e&&this.canUndo()||r&&this.canRedo())&&this.doc.transact(n=>{e&&(this.undoStack.forEach(i=>U_(n,this,i)),this.undoStack=[]),r&&(this.redoStack.forEach(i=>U_(n,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:r}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=K_(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=K_(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*GG(t){const e=pr(t.restDecoder);for(let r=0;r<e;r++){const n=pr(t.restDecoder),i=t.readClient();let o=pr(t.restDecoder);for(let c=0;c<n;c++){const f=t.readInfo();if(f===10){const m=pr(t.restDecoder);yield new el(_r(i,o),m),o+=m}else if((db&f)!==0){const m=(f&(Ou|Eo))===0,x=new yn(_r(i,o),null,(f&Eo)===Eo?t.readLeftID():null,null,(f&Ou)===Ou?t.readRightID():null,m?t.readParentInfo()?t.readString():t.readLeftID():null,m&&(f&wv)===wv?t.readString():null,fL(t,f));yield x,o+=x.length}else{const m=t.readLen();yield new Jo(_r(i,o),m),o+=m}}}}class I7{constructor(e,r){this.gen=GG(e),this.curr=null,this.done=!1,this.filterSkips=r,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===el);return this.curr}}class D7{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const VG=t=>d3(t,DD,Kv),qG=(t,e)=>{if(t.constructor===Jo){const{client:r,clock:n}=t.id;return new Jo(_r(r,n+e),t.length-e)}else if(t.constructor===el){const{client:r,clock:n}=t.id;return new el(_r(r,n+e),t.length-e)}else{const r=t,{client:n,clock:i}=r.id;return new yn(_r(n,i+e),null,_r(n,i+e-1),null,r.rightOrigin,r.parent,r.parentSub,r.content.splice(e))}},d3=(t,e=wp,r=Qf)=>{if(t.length===1)return t[0];const n=t.map(E=>new e(p0(E)));let i=n.map(E=>new I7(E,!0)),o=null;const c=new r,f=new D7(c);for(;i=i.filter(S=>S.curr!==null),i.sort((S,g)=>{if(S.curr.id.client===g.curr.id.client){const O=S.curr.id.clock-g.curr.id.clock;return O===0?S.curr.constructor===g.curr.constructor?0:S.curr.constructor===el?1:-1:O}else return g.curr.id.client-S.curr.id.client}),i.length!==0;){const E=i[0],b=E.curr.id.client;if(o!==null){let S=E.curr,g=!1;for(;S!==null&&S.id.clock+S.length<=o.struct.id.clock+o.struct.length&&S.id.client>=o.struct.id.client;)S=E.next(),g=!0;if(S===null||S.id.client!==b||g&&S.id.clock>o.struct.id.clock+o.struct.length)continue;if(b!==o.struct.id.client)zc(f,o.struct,o.offset),o={struct:S,offset:0},E.next();else if(o.struct.id.clock+o.struct.length<S.id.clock)if(o.struct.constructor===el)o.struct.length=S.id.clock+S.length-o.struct.id.clock;else{zc(f,o.struct,o.offset);const O=S.id.clock-o.struct.id.clock-o.struct.length;o={struct:new el(_r(b,o.struct.id.clock+o.struct.length),O),offset:0}}else{const O=o.struct.id.clock+o.struct.length-S.id.clock;O>0&&(o.struct.constructor===el?o.struct.length-=O:S=qG(S,O)),o.struct.mergeWith(S)||(zc(f,o.struct,o.offset),o={struct:S,offset:0},E.next())}}else o={struct:E.curr,offset:0},E.next();for(let S=E.curr;S!==null&&S.id.client===b&&S.id.clock===o.struct.id.clock+o.struct.length&&S.constructor!==el;S=E.next())zc(f,o.struct,o.offset),o={struct:S,offset:0}}o!==null&&(zc(f,o.struct,o.offset),o=null),L7(f);const m=n.map(E=>A7(E)),x=E5(m);return Mp(c,x),c.toUint8Array()},YG=(t,e,r=wp,n=Qf)=>{const i=jD(e),o=new n,c=new D7(o),f=new r(p0(t)),m=new I7(f,!1);for(;m.curr;){const E=m.curr,b=E.id.client,S=i.get(b)||0;if(m.curr.constructor===el){m.next();continue}if(E.id.clock+E.length>S)for(zc(c,E,od(S-E.id.clock,0)),m.next();m.curr&&m.curr.id.client===b;)zc(c,m.curr,0),m.next();else for(;m.curr&&m.curr.id.client===b&&m.curr.id.clock+m.curr.length<=S;)m.next()}L7(c);const x=A7(f);return Mp(o,x),o.toUint8Array()},WD=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:Un(t.encoder.restEncoder)}),t.encoder.restEncoder=ui(),t.written=0)},zc=(t,e,r)=>{t.written>0&&t.currClient!==e.id.client&&WD(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),Vt(t.encoder.restEncoder,e.id.clock+r)),e.write(t.encoder,r),t.written++},L7=t=>{WD(t);const e=t.encoder.restEncoder;Vt(e,t.clientStructs.length);for(let r=0;r<t.clientStructs.length;r++){const n=t.clientStructs[r];Vt(e,n.written),pb(e,n.restEncoder)}},XG=(t,e,r)=>{const n=new e(p0(t)),i=new I7(n,!1),o=new r,c=new D7(o);for(let m=i.curr;m!==null;m=i.next())zc(c,m,0);L7(c);const f=A7(n);return Mp(o,f),o.toUint8Array()},ZG=t=>XG(t,wp,Kv);class yb{constructor(e,r){this.target=e,this.currentTarget=e,this.transaction=r,this._changes=null,this._keys=null,this._delta=null}get path(){return QG(this.currentTarget,this.target)}deletes(e){return vb(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){const e=new Map,r=this.target;this.transaction.changed.get(r).forEach(i=>{if(i!==null){const o=r._map.get(i);let c,f;if(this.adds(o)){let m=o.left;for(;m!==null&&this.adds(m);)m=m.left;if(this.deletes(o))if(m!==null&&this.deletes(m))c="delete",f=Dx(m.content.getContent());else return;else m!==null&&this.deletes(m)?(c="update",f=Dx(m.content.getContent())):(c="add",f=void 0)}else if(this.deletes(o))c="delete",f=Dx(o.content.getContent());else return;e.set(i,{action:c,oldValue:f})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){const r=this.target,n=yv(),i=yv(),o=[];if(e={added:n,deleted:i,delta:o,keys:this.keys},this.transaction.changed.get(r).has(null)){let f=null;const m=()=>{f&&o.push(f)};for(let x=r._start;x!==null;x=x.right)x.deleted?this.deletes(x)&&!this.adds(x)&&((f===null||f.delete===void 0)&&(m(),f={delete:0}),f.delete+=x.length,i.add(x)):this.adds(x)?((f===null||f.insert===void 0)&&(m(),f={insert:[]}),f.insert=f.insert.concat(x.content.getContent()),n.add(x)):((f===null||f.retain===void 0)&&(m(),f={retain:0}),f.retain+=x.length);f!==null&&f.retain===void 0&&m()}this._changes=e}return e}}const QG=(t,e)=>{const r=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)r.unshift(e._item.parentSub);else{let n=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)i.deleted||n++,i=i.right;r.unshift(n)}e=e._item.parent}return r},$D=80;let P7=0;class JG{constructor(e,r){e.marker=!0,this.p=e,this.index=r,this.timestamp=P7++}}const eV=t=>{t.timestamp=P7++},GD=(t,e,r)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=r,t.timestamp=P7++},tV=(t,e,r)=>{if(t.length>=$D){const n=t.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return GD(n,e,r),n}else{const n=new JG(e,r);return t.push(n),n}},bb=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const r=t._searchMarker.length===0?null:t._searchMarker.reduce((o,c)=>f4(e-o.index)<f4(e-c.index)?o:c);let n=t._start,i=0;for(r!==null&&(n=r.p,i=r.index,eV(r));n.right!==null&&i<e;){if(!n.deleted&&n.countable){if(e<i+n.length)break;i+=n.length}n=n.right}for(;n.left!==null&&i>e;)n=n.left,!n.deleted&&n.countable&&(i-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(i-=n.length);return r!==null&&f4(r.index-i)<n.parent.length/$D?(GD(r,n,i),r):tV(t._searchMarker,n,i)},Sv=(t,e,r)=>{for(let n=t.length-1;n>=0;n--){const i=t[n];if(r>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){t.splice(n,1);continue}i.p=o,o.marker=!0}(e<i.index||r>0&&e===i.index)&&(i.index=od(e,i.index+r))}},wb=(t,e,r)=>{const n=t,i=e.changedParentTypes;for(;zu(i,t,()=>[]).push(r),t._item!==null;)t=t._item.parent;FD(n._eH,r,e)};class Ga{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=j_(),this._dEH=j_(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,r){this.doc=e,this._item=r}_copy(){throw Is()}clone(){throw Is()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,r){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){R_(this._eH,e)}observeDeep(e){R_(this._dEH,e)}unobserve(e){F_(this._eH,e)}unobserveDeep(e){F_(this._dEH,e)}toJSON(){}}const VD=(t,e,r)=>{e<0&&(e=t._length+e),r<0&&(r=t._length+r);let n=r-e;const i=[];let o=t._start;for(;o!==null&&n>0;){if(o.countable&&!o.deleted){const c=o.content.getContent();if(c.length<=e)e-=c.length;else{for(let f=e;f<c.length&&n>0;f++)i.push(c[f]),n--;e=0}}o=o.right}return i},qD=t=>{const e=[];let r=t._start;for(;r!==null;){if(r.countable&&!r.deleted){const n=r.content.getContent();for(let i=0;i<n.length;i++)e.push(n[i])}r=r.right}return e},xb=(t,e)=>{let r=0,n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const i=n.content.getContent();for(let o=0;o<i.length;o++)e(i[o],r++,t)}n=n.right}},YD=(t,e)=>{const r=[];return xb(t,(n,i)=>{r.push(e(n,i,t))}),r},rV=t=>{let e=t._start,r=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(r===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};r=e.content.getContent(),n=0,e=e.right}const i=r[n++];return r.length<=n&&(r=null),{done:!1,value:i}}}},XD=(t,e)=>{const r=bb(t,e);let n=t._start;for(r!==null&&(n=r.p,e-=r.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},h3=(t,e,r,n)=>{let i=r;const o=t.doc,c=o.clientID,f=o.store,m=r===null?e._start:r.right;let x=[];const E=()=>{x.length>0&&(i=new yn(_r(c,aa(f,c)),i,i&&i.lastId,m,m&&m.id,e,null,new rd(x)),i.integrate(t,0),x=[])};n.forEach(b=>{if(b===null)x.push(b);else switch(b.constructor){case Number:case Object:case Boolean:case Array:case String:x.push(b);break;default:switch(E(),b.constructor){case Uint8Array:case ArrayBuffer:i=new yn(_r(c,aa(f,c)),i,i&&i.lastId,m,m&&m.id,e,null,new Wv(new Uint8Array(b))),i.integrate(t,0);break;case Pu:i=new yn(_r(c,aa(f,c)),i,i&&i.lastId,m,m&&m.id,e,null,new $v(b)),i.integrate(t,0);break;default:if(b instanceof Ga)i=new yn(_r(c,aa(f,c)),i,i&&i.lastId,m,m&&m.id,e,null,new Bs(b)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),E()},ZD=mb("Length exceeded!"),QD=(t,e,r,n)=>{if(r>e._length)throw ZD;if(r===0)return e._searchMarker&&Sv(e._searchMarker,r,n.length),h3(t,e,null,n);const i=r,o=bb(e,r);let c=e._start;for(o!==null&&(c=o.p,r-=o.index,r===0&&(c=c.prev,r+=c&&c.countable&&!c.deleted?c.length:0));c!==null;c=c.right)if(!c.deleted&&c.countable){if(r<=c.length){r<c.length&&Qi(t,_r(c.id.client,c.id.clock+r));break}r-=c.length}return e._searchMarker&&Sv(e._searchMarker,i,n.length),h3(t,e,c,n)},nV=(t,e,r)=>{let i=(e._searchMarker||[]).reduce((o,c)=>c.index>o.index?c:o,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return h3(t,e,i,r)},JD=(t,e,r,n)=>{if(n===0)return;const i=r,o=n,c=bb(e,r);let f=e._start;for(c!==null&&(f=c.p,r-=c.index);f!==null&&r>0;f=f.right)!f.deleted&&f.countable&&(r<f.length&&Qi(t,_r(f.id.client,f.id.clock+r)),r-=f.length);for(;n>0&&f!==null;)f.deleted||(n<f.length&&Qi(t,_r(f.id.client,f.id.clock+n)),f.delete(t),n-=f.length),f=f.right;if(n>0)throw ZD;e._searchMarker&&Sv(e._searchMarker,i,-o+n)},p3=(t,e,r)=>{const n=e._map.get(r);n!==void 0&&n.delete(t)},N7=(t,e,r,n)=>{const i=e._map.get(r)||null,o=t.doc,c=o.clientID;let f;if(n==null)f=new rd([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:f=new rd([n]);break;case Uint8Array:f=new Wv(n);break;case Pu:f=new $v(n);break;default:if(n instanceof Ga)f=new Bs(n);else throw new Error("Unexpected content type")}new yn(_r(c,aa(o.store,c)),i,i&&i.lastId,null,null,e,r,f).integrate(t,0)},j7=(t,e)=>{const r=t._map.get(e);return r!==void 0&&!r.deleted?r.content.getContent()[r.length-1]:void 0},eL=t=>{const e={};return t._map.forEach((r,n)=>{r.deleted||(e[n]=r.content.getContent()[r.length-1])}),e},tL=(t,e)=>{const r=t._map.get(e);return r!==void 0&&!r.deleted},D2=t=>hG(t.entries(),e=>!e[1].deleted);class aV extends yb{constructor(e,r){super(e,r),this._transaction=r}}class Jh extends Ga{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const r=new Jh;return r.push(e),r}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Jh}clone(){const e=new Jh;return e.insert(0,this.toArray().map(r=>r instanceof Ga?r.clone():r)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,r){super._callObserver(e,r),wb(this,e,new aV(this,e))}insert(e,r){this.doc!==null?gn(this.doc,n=>{QD(n,this,e,r)}):this._prelimContent.splice(e,0,...r)}push(e){this.doc!==null?gn(this.doc,r=>{nV(r,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,r=1){this.doc!==null?gn(this.doc,n=>{JD(n,this,e,r)}):this._prelimContent.splice(e,r)}get(e){return XD(this,e)}toArray(){return qD(this)}slice(e=0,r=this.length){return VD(this,e,r)}toJSON(){return this.map(e=>e instanceof Ga?e.toJSON():e)}map(e){return YD(this,e)}forEach(e){xb(this,e)}[Symbol.iterator](){return rV(this)}_write(e){e.writeTypeRef(SV)}}const iV=t=>new Jh;class rL extends yb{constructor(e,r,n){super(e,r),this.keysChanged=n}}class To extends Ga{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,r){super._integrate(e,r),this._prelimContent.forEach((n,i)=>{this.set(i,n)}),this._prelimContent=null}_copy(){return new To}clone(){const e=new To;return this.forEach((r,n)=>{e.set(n,r instanceof Ga?r.clone():r)}),e}_callObserver(e,r){wb(this,e,new rL(this,e,r))}toJSON(){const e={};return this._map.forEach((r,n)=>{if(!r.deleted){const i=r.content.getContent()[r.length-1];e[n]=i instanceof Ga?i.toJSON():i}}),e}get size(){return[...D2(this._map)].length}keys(){return Fx(D2(this._map),e=>e[0])}values(){return Fx(D2(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Fx(D2(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){const r={};return this._map.forEach((n,i)=>{n.deleted||e(n.content.getContent()[n.length-1],i,this)}),r}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?gn(this.doc,r=>{p3(r,this,e)}):this._prelimContent.delete(e)}set(e,r){return this.doc!==null?gn(this.doc,n=>{N7(n,this,e,r)}):this._prelimContent.set(e,r),r}get(e){return j7(this,e)}has(e){return tL(this,e)}clear(){this.doc!==null?gn(this.doc,e=>{this.forEach(function(r,n,i){p3(e,i,n)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(EV)}}const oV=t=>new To,Wc=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&rG(t,e);class T5{constructor(e,r,n,i){this.left=e,this.right=r,this.index=n,this.currentAttributes=i}forward(){switch(this.right===null&&Wl(),this.right.content.constructor){case Oa:this.right.deleted||Ip(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const W_=(t,e,r)=>{for(;e.right!==null&&r>0;){switch(e.right.content.constructor){case Oa:e.right.deleted||Ip(e.currentAttributes,e.right.content);break;default:e.right.deleted||(r<e.right.length&&Qi(t,_r(e.right.id.client,e.right.id.clock+r)),e.index+=e.right.length,r-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},L2=(t,e,r)=>{const n=new Map,i=bb(e,r);if(i){const o=new T5(i.p.left,i.p,i.index,n);return W_(t,o,r-i.index)}else{const o=new T5(null,e._start,0,n);return W_(t,o,r)}},nL=(t,e,r,n)=>{for(;r.right!==null&&(r.right.deleted===!0||r.right.content.constructor===Oa&&Wc(n.get(r.right.content.key),r.right.content.value));)r.right.deleted||n.delete(r.right.content.key),r.forward();const i=t.doc,o=i.clientID;n.forEach((c,f)=>{const m=r.left,x=r.right,E=new yn(_r(o,aa(i.store,o)),m,m&&m.lastId,x,x&&x.id,e,null,new Oa(f,c));E.integrate(t,0),r.right=E,r.forward()})},Ip=(t,e)=>{const{key:r,value:n}=e;n===null?t.delete(r):t.set(r,n)},aL=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Oa&&Wc(e[t.right.content.key]||null,t.right.content.value)))break;t.forward()}},iL=(t,e,r,n)=>{const i=t.doc,o=i.clientID,c=new Map;for(const f in n){const m=n[f],x=r.currentAttributes.get(f)||null;if(!Wc(x,m)){c.set(f,x);const{left:E,right:b}=r;r.right=new yn(_r(o,aa(i.store,o)),E,E&&E.lastId,b,b&&b.id,e,null,new Oa(f,m)),r.right.integrate(t,0),r.forward()}}return c},zx=(t,e,r,n,i)=>{r.currentAttributes.forEach((S,g)=>{i[g]===void 0&&(i[g]=null)});const o=t.doc,c=o.clientID;aL(r,i);const f=iL(t,e,r,i),m=n.constructor===String?new js(n):n instanceof Ga?new Bs(n):new sd(n);let{left:x,right:E,index:b}=r;e._searchMarker&&Sv(e._searchMarker,r.index,m.getLength()),E=new yn(_r(c,aa(o.store,c)),x,x&&x.lastId,E,E&&E.id,e,null,m),E.integrate(t,0),r.right=E,r.index=b,r.forward(),nL(t,e,r,f)},$_=(t,e,r,n,i)=>{const o=t.doc,c=o.clientID;aL(r,i);const f=iL(t,e,r,i);for(;r.right!==null&&(n>0||r.right.content.constructor===Oa);){if(!r.right.deleted)switch(r.right.content.constructor){case Oa:{const{key:m,value:x}=r.right.content,E=i[m];E!==void 0&&(Wc(E,x)?f.delete(m):f.set(m,x),r.right.delete(t));break}default:n<r.right.length&&Qi(t,_r(r.right.id.client,r.right.id.clock+n)),n-=r.right.length;break}r.forward()}if(n>0){let m="";for(;n>0;n--)m+=`
`;r.right=new yn(_r(c,aa(o.store,c)),r.left,r.left&&r.left.lastId,r.right,r.right&&r.right.id,e,null,new js(m)),r.right.integrate(t,0),r.forward()}nL(t,e,r,f)},oL=(t,e,r,n,i)=>{let o=r;const c=u3(i);for(;o&&(!o.countable||o.deleted);)!o.deleted&&o.content.constructor===Oa&&Ip(c,o.content),o=o.right;let f=0,m=!1;for(;e!==o;){if(r===e&&(m=!0),!e.deleted){const x=e.content;switch(x.constructor){case Oa:{const{key:E,value:b}=x;((c.get(E)||null)!==b||(n.get(E)||null)===b)&&(e.delete(t),f++,!m&&(i.get(E)||null)===b&&(n.get(E)||null)!==b&&i.delete(E));break}}}e=e.right}return f},lV=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const r=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Oa){const n=e.content.key;r.has(n)?e.delete(t):r.add(n)}e=e.left}},sV=t=>{let e=0;return gn(t.doc,r=>{let n=t._start,i=t._start,o=Ms();const c=u3(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case Oa:Ip(c,i.content);break;default:e+=oL(r,n,i,o,c),o=u3(c),n=i;break}i=i.right}}),e},G_=(t,e,r)=>{const n=r,i=u3(e.currentAttributes),o=e.right;for(;r>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Bs:case sd:case js:r<e.right.length&&Qi(t,_r(e.right.id.client,e.right.id.clock+r)),r-=e.right.length,e.right.delete(t);break}e.forward()}o&&oL(t,o,e.right,i,e.currentAttributes);const c=(e.left||e.right).parent;return c._searchMarker&&Sv(c._searchMarker,e.index,-n+r),e};class lL extends yb{constructor(e,r,n){super(e,r),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,r=[];gn(e,n=>{const i=new Map,o=new Map;let c=this.target._start,f=null;const m={};let x="",E=0,b=0;const S=()=>{if(f!==null){let g;switch(f){case"delete":g={delete:b},b=0;break;case"insert":g={insert:x},i.size>0&&(g.attributes={},i.forEach((O,C)=>{O!==null&&(g.attributes[C]=O)})),x="";break;case"retain":if(g={retain:E},Object.keys(m).length>0){g.attributes={};for(const O in m)g.attributes[O]=m[O]}E=0;break}r.push(g),f=null}};for(;c!==null;){switch(c.content.constructor){case Bs:case sd:this.adds(c)?this.deletes(c)||(S(),f="insert",x=c.content.getContent()[0],S()):this.deletes(c)?(f!=="delete"&&(S(),f="delete"),b+=1):c.deleted||(f!=="retain"&&(S(),f="retain"),E+=1);break;case js:this.adds(c)?this.deletes(c)||(f!=="insert"&&(S(),f="insert"),x+=c.content.str):this.deletes(c)?(f!=="delete"&&(S(),f="delete"),b+=c.length):c.deleted||(f!=="retain"&&(S(),f="retain"),E+=c.length);break;case Oa:{const{key:g,value:O}=c.content;if(this.adds(c)){if(!this.deletes(c)){const C=i.get(g)||null;Wc(C,O)?O!==null&&c.delete(n):(f==="retain"&&S(),Wc(O,o.get(g)||null)?delete m[g]:m[g]=O)}}else if(this.deletes(c)){o.set(g,O);const C=i.get(g)||null;Wc(C,O)||(f==="retain"&&S(),m[g]=C)}else if(!c.deleted){o.set(g,O);const C=m[g];C!==void 0&&(Wc(C,O)?C!==null&&c.delete(n):(f==="retain"&&S(),O===null?delete m[g]:m[g]=O))}c.deleted||(f==="insert"&&S(),Ip(i,c.content));break}}c=c.right}for(S();r.length>0;){const g=r[r.length-1];if(g.retain!==void 0&&g.attributes===void 0)r.pop();else break}}),this._delta=r}return this._delta}}class xp extends Ga{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(e,r){super._integrate(e,r);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new xp}clone(){const e=new xp;return e.applyDelta(this.toDelta()),e}_callObserver(e,r){super._callObserver(e,r);const n=new lL(this,e,r),i=e.doc;if(wb(this,e,n),!e.local){let o=!1;for(const[c,f]of e.afterState.entries()){const m=e.beforeState.get(c)||0;if(f!==m&&(UD(e,i.store.clients.get(c),m,f,x=>{!x.deleted&&x.content.constructor===Oa&&(o=!0)}),o))break}o||Zf(e,e.deleteSet,c=>{c instanceof Jo||o||c.parent===this&&c.content.constructor===Oa&&(o=!0)}),gn(i,c=>{o?sV(this):Zf(c,c.deleteSet,f=>{f instanceof Jo||f.parent===this&&lV(c,f)})})}}toString(){let e="",r=this._start;for(;r!==null;)!r.deleted&&r.countable&&r.content.constructor===js&&(e+=r.content.str),r=r.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:r=!0}={}){this.doc!==null?gn(this.doc,n=>{const i=new T5(null,this._start,0,new Map);for(let o=0;o<e.length;o++){const c=e[o];if(c.insert!==void 0){const f=!r&&typeof c.insert=="string"&&o===e.length-1&&i.right===null&&c.insert.slice(-1)===`
`?c.insert.slice(0,-1):c.insert;(typeof f!="string"||f.length>0)&&zx(n,this,i,f,c.attributes||{})}else c.retain!==void 0?$_(n,this,i,c.retain,c.attributes||{}):c.delete!==void 0&&G_(n,i,c.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,r,n){const i=[],o=new Map,c=this.doc;let f="",m=this._start;function x(){if(f.length>0){const E={};let b=!1;o.forEach((g,O)=>{b=!0,E[O]=g});const S={insert:f};b&&(S.attributes=E),i.push(S),f=""}}return gn(c,E=>{for(e&&p4(E,e),r&&p4(E,r);m!==null;){if(fm(m,e)||r!==void 0&&fm(m,r))switch(m.content.constructor){case js:{const b=o.get("ychange");e!==void 0&&!fm(m,e)?(b===void 0||b.user!==m.id.client||b.state!=="removed")&&(x(),o.set("ychange",n?n("removed",m.id):{type:"removed"})):r!==void 0&&!fm(m,r)?(b===void 0||b.user!==m.id.client||b.state!=="added")&&(x(),o.set("ychange",n?n("added",m.id):{type:"added"})):b!==void 0&&(x(),o.delete("ychange")),f+=m.content.str;break}case Bs:case sd:{x();const b={insert:m.content.getContent()[0]};if(o.size>0){const S={};b.attributes=S,o.forEach((g,O)=>{S[O]=g})}i.push(b);break}case Oa:fm(m,e)&&(x(),Ip(o,m.content));break}m=m.right}x()},p4),i}insert(e,r,n){if(r.length<=0)return;const i=this.doc;i!==null?gn(i,o=>{const c=L2(o,this,e);n||(n={},c.currentAttributes.forEach((f,m)=>{n[m]=f})),zx(o,this,c,r,n)}):this._pending.push(()=>this.insert(e,r,n))}insertEmbed(e,r,n={}){const i=this.doc;i!==null?gn(i,o=>{const c=L2(o,this,e);zx(o,this,c,r,n)}):this._pending.push(()=>this.insertEmbed(e,r,n))}delete(e,r){if(r===0)return;const n=this.doc;n!==null?gn(n,i=>{G_(i,L2(i,this,e),r)}):this._pending.push(()=>this.delete(e,r))}format(e,r,n){if(r===0)return;const i=this.doc;i!==null?gn(i,o=>{const c=L2(o,this,e);c.right!==null&&$_(o,this,c,r,n)}):this._pending.push(()=>this.format(e,r,n))}removeAttribute(e){this.doc!==null?gn(this.doc,r=>{p3(r,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,r){this.doc!==null?gn(this.doc,n=>{N7(n,this,e,r)}):this._pending.push(()=>this.setAttribute(e,r))}getAttribute(e){return j7(this,e)}getAttributes(e){return eL(this)}_write(e){e.writeTypeRef(_V)}}const uV=t=>new xp;class Bx{constructor(e,r=()=>!0){this._filter=r,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,r=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(r)))do if(r=e.content.type,!e.deleted&&(r.constructor===ed||r.constructor===Jf)&&r._start!==null)e=r._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Jf extends Ga{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Jf}clone(){const e=new Jf;return e.insert(0,this.toArray().map(r=>r instanceof Ga?r.clone():r)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Bx(this,e)}querySelector(e){e=e.toUpperCase();const n=new Bx(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return n.done?null:n.value}querySelectorAll(e){return e=e.toUpperCase(),Array.from(new Bx(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e))}_callObserver(e,r){wb(this,e,new sL(this,r,e))}toString(){return YD(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,r={},n){const i=e.createDocumentFragment();return n!==void 0&&n._createAssociation(i,this),xb(this,o=>{i.insertBefore(o.toDOM(e,r,n),null)}),i}insert(e,r){this.doc!==null?gn(this.doc,n=>{QD(n,this,e,r)}):this._prelimContent.splice(e,0,...r)}insertAfter(e,r){if(this.doc!==null)gn(this.doc,n=>{const i=e&&e instanceof Ga?e._item:e;h3(n,this,i,r)});else{const n=this._prelimContent,i=e===null?0:n.findIndex(o=>o===e)+1;if(i===0&&e!==null)throw mb("Reference item not found");n.splice(i,0,...r)}}delete(e,r=1){this.doc!==null?gn(this.doc,n=>{JD(n,this,e,r)}):this._prelimContent.splice(e,r)}toArray(){return qD(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return XD(this,e)}slice(e=0,r=this.length){return VD(this,e,r)}_write(e){e.writeTypeRef(OV)}}const cV=t=>new Jf;class ed extends Jf{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,r){super._integrate(e,r),this._prelimAttrs.forEach((n,i)=>{this.setAttribute(i,n)}),this._prelimAttrs=null}_copy(){return new ed(this.nodeName)}clone(){const e=new ed(this.nodeName),r=this.getAttributes();for(const n in r)e.setAttribute(n,r[n]);return e.insert(0,this.toArray().map(n=>n instanceof Ga?n.clone():n)),e}toString(){const e=this.getAttributes(),r=[],n=[];for(const f in e)n.push(f);n.sort();const i=n.length;for(let f=0;f<i;f++){const m=n[f];r.push(m+'="'+e[m]+'"')}const o=this.nodeName.toLocaleLowerCase(),c=r.length>0?" "+r.join(" "):"";return`<${o}${c}>${super.toString()}</${o}>`}removeAttribute(e){this.doc!==null?gn(this.doc,r=>{p3(r,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,r){this.doc!==null?gn(this.doc,n=>{N7(n,this,e,r)}):this._prelimAttrs.set(e,r)}getAttribute(e){return j7(this,e)}hasAttribute(e){return tL(this,e)}getAttributes(e){return eL(this)}toDOM(e=document,r={},n){const i=e.createElement(this.nodeName),o=this.getAttributes();for(const c in o)i.setAttribute(c,o[c]);return xb(this,c=>{i.appendChild(c.toDOM(e,r,n))}),n!==void 0&&n._createAssociation(i,this),i}_write(e){e.writeTypeRef(TV),e.writeKey(this.nodeName)}}const fV=t=>new ed(t.readKey());class sL extends yb{constructor(e,r,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class m3 extends To{constructor(e){super(),this.hookName=e}_copy(){return new m3(this.hookName)}clone(){const e=new m3(this.hookName);return this.forEach((r,n)=>{e.set(n,r)}),e}toDOM(e=document,r={},n){const i=r[this.hookName];let o;return i!==void 0?o=i.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(o,this),o}_write(e){e.writeTypeRef(AV),e.writeKey(this.hookName)}}const dV=t=>new m3(t.readKey());class td extends xp{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new td}clone(){const e=new td;return e.applyDelta(this.toDelta()),e}toDOM(e=document,r,n){const i=e.createTextNode(this.toString());return n!==void 0&&n._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const r=[];for(const i in e.attributes){const o=[];for(const c in e.attributes[i])o.push({key:c,value:e.attributes[i][c]});o.sort((c,f)=>c.key<f.key?-1:1),r.push({nodeName:i,attrs:o})}r.sort((i,o)=>i.nodeName<o.nodeName?-1:1);let n="";for(let i=0;i<r.length;i++){const o=r[i];n+=`<${o.nodeName}`;for(let c=0;c<o.attrs.length;c++){const f=o.attrs[c];n+=` ${f.key}="${f.value}"`}n+=">"}n+=e.insert;for(let i=r.length-1;i>=0;i--)n+=`</${r[i].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(MV)}}const hV=t=>new td;class R7{constructor(e,r){this.id=e,this.length=r}get deleted(){throw Is()}mergeWith(e){return!1}write(e,r,n){throw Is()}integrate(e,r){throw Is()}}const pV=0;class Jo extends R7{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){r>0&&(this.id.clock+=r,this.length-=r),HD(e.doc.store,this)}write(e,r){e.writeInfo(pV),e.writeLen(this.length-r)}getMissing(e,r){return null}}class Wv{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Wv(this.content)}splice(e){throw Is()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeBuf(this.content)}getRef(){return 3}}const mV=t=>new Wv(t.readBuf());class Ev{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Ev(this.len)}splice(e){const r=new Ev(this.len-e);return this.len=e,r}mergeWith(e){return this.len+=e.len,!0}integrate(e,r){Cv(e.deleteSet,r.id.client,r.id.clock,this.len),r.markDeleted()}delete(e){}gc(e){}write(e,r){e.writeLen(this.len-r)}getRef(){return 1}}const vV=t=>new Ev(t.readLen()),uL=(t,e)=>new Pu(o2(i2({guid:t},e),{shouldLoad:e.shouldLoad||e.autoLoad||!1}));class $v{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const r={};this.opts=r,e.gc||(r.gc=!1),e.autoLoad&&(r.autoLoad=!0),e.meta!==null&&(r.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new $v(uL(this.doc.guid,this.opts))}splice(e){throw Is()}mergeWith(e){return!1}integrate(e,r){this.doc._item=r,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,r){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const gV=t=>new $v(uL(t.readString(),t.readAny()));class sd{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new sd(this.embed)}splice(e){throw Is()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeJSON(this.embed)}getRef(){return 5}}const yV=t=>new sd(t.readJSON());class Oa{constructor(e,r){this.key=e,this.value=r}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Oa(this.key,this.value)}splice(e){throw Is()}mergeWith(e){return!1}integrate(e,r){r.parent._searchMarker=null}delete(e){}gc(e){}write(e,r){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const bV=t=>new Oa(t.readKey(),t.readJSON());class v3{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new v3(this.arr)}splice(e){const r=new v3(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){const n=this.arr.length;e.writeLen(n-r);for(let i=r;i<n;i++){const o=this.arr[i];e.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}}const wV=t=>{const e=t.readLen(),r=[];for(let n=0;n<e;n++){const i=t.readString();i==="undefined"?r.push(void 0):r.push(JSON.parse(i))}return new v3(r)};class rd{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new rd(this.arr)}splice(e){const r=new rd(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){const n=this.arr.length;e.writeLen(n-r);for(let i=r;i<n;i++){const o=this.arr[i];e.writeAny(o)}}getRef(){return 8}}const xV=t=>{const e=t.readLen(),r=[];for(let n=0;n<e;n++)r.push(t.readAny());return new rd(r)};class js{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new js(this.str)}splice(e){const r=new js(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",r.str="\uFFFD"+r.str.slice(1)),r}mergeWith(e){return this.str+=e.str,!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeString(r===0?this.str:this.str.slice(r))}getRef(){return 4}}const kV=t=>new js(t.readString()),CV=[iV,oV,uV,fV,cV,dV,hV],SV=0,EV=1,_V=2,TV=3,OV=4,AV=5,MV=6;class Bs{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Bs(this.type._copy())}splice(e){throw Is()}mergeWith(e){return!1}integrate(e,r){this.type._integrate(e.doc,r)}delete(e){let r=this.type._start;for(;r!==null;)r.deleted?e._mergeStructs.push(r):r.delete(e),r=r.right;this.type._map.forEach(n=>{n.deleted?e._mergeStructs.push(n):n.delete(e)}),e.changed.delete(this.type)}gc(e){let r=this.type._start;for(;r!==null;)r.gc(e,!0),r=r.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(e,!0),n=n.left}),this.type._map=new Map}write(e,r){this.type._write(e)}getRef(){return 7}}const IV=t=>new Bs(CV[t.readTypeRef()](t)),O5=(t,e)=>{let r=e,n=0,i;do n>0&&(r=_r(r.client,r.clock+n)),i=m4(t,r),n=r.clock-i.id.clock,r=i.redone;while(r!==null&&i instanceof yn);return{item:i,diff:n}},F7=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},g3=(t,e,r)=>{const{client:n,clock:i}=e.id,o=new yn(_r(n,i+r),e,_r(n,i+r-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(r));return e.deleted&&o.markDeleted(),e.keep&&(o.keep=!0),e.redone!==null&&(o.redone=_r(e.redone.client,e.redone.clock+r)),e.right=o,o.right!==null&&(o.right.left=o),t._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),e.length=r,o},cL=(t,e,r,n,i)=>{const o=t.doc,c=o.store,f=o.clientID,m=e.redone;if(m!==null)return Qi(t,m);let x=e.parent._item,E=null,b;if(x!==null&&x.deleted===!0){if(x.redone===null&&(!r.has(x)||cL(t,x,r,n,i)===null))return null;for(;x.redone!==null;)x=Qi(t,x.redone)}const S=x===null?e.parent:x.content.type;if(e.parentSub===null){for(E=e.left,b=e;E!==null;){let N=E;for(;N!==null&&N.parent._item!==x;)N=N.redone===null?null:Qi(t,N.redone);if(N!==null&&N.parent._item===x){E=N;break}E=E.left}for(;b!==null;){let N=b;for(;N!==null&&N.parent._item!==x;)N=N.redone===null?null:Qi(t,N.redone);if(N!==null&&N.parent._item===x){b=N;break}b=b.right}}else if(b=null,e.right&&!i){for(E=e;E!==null&&E.right!==null&&vb(n,E.right.id);)E=E.right;for(;E!==null&&E.redone!==null;)E=Qi(t,E.redone);if(E===null||E.parent._item!==x||E&&E.right!==null)return null}else E=S._map.get(e.parentSub)||null;const g=aa(c,f),O=_r(f,g),C=new yn(O,E,E&&E.lastId,b,b&&b.id,S,e.parentSub,e.content.copy());return e.redone=O,F7(C,!0),C.integrate(t,0),C};class yn extends R7{constructor(e,r,n,i,o,c,f,m){super(e,m.getLength()),this.origin=n,this.left=r,this.right=i,this.rightOrigin=o,this.parent=c,this.parentSub=f,this.redone=null,this.content=m,this.info=this.content.isCountable()?O_:0}set marker(e){(this.info&Nx)>0!==e&&(this.info^=Nx)}get marker(){return(this.info&Nx)>0}get keep(){return(this.info&T_)>0}set keep(e){this.keep!==e&&(this.info^=T_)}get countable(){return(this.info&O_)>0}get deleted(){return(this.info&Px)>0}set deleted(e){this.deleted!==e&&(this.info^=Px)}markDeleted(){this.info|=Px}getMissing(e,r){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=aa(r,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=aa(r,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Qh&&this.id.client!==this.parent.client&&this.parent.clock>=aa(r,this.parent.client))return this.parent.client;if(this.origin&&(this.left=z_(e,r,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Qi(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===Jo||this.right&&this.right.constructor===Jo)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===yn&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===yn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Qh){const n=m4(r,this.parent);n.constructor===Jo?this.parent=null:this.parent=n.content.type}return null}integrate(e,r){if(r>0&&(this.id.clock+=r,this.left=z_(e,e.doc.store,_r(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(r),this.length-=r),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,i;if(n!==null)i=n.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const o=new Set,c=new Set;for(;i!==null&&i!==this.right;){if(c.add(i),o.add(i),Hh(this.origin,i.origin)){if(i.id.client<this.id.client)n=i,o.clear();else if(Hh(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&c.has(m4(e.doc.store,i.origin)))o.has(m4(e.doc.store,i.origin))||(n=i,o.clear());else break;i=i.right}this.left=n}if(this.left!==null){const n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),HD(e.doc.store,this),this.content.integrate(e,this),H_(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Jo(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:_r(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Hh(e.origin,this.lastId)&&this.right===e&&Hh(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const r=this.parent._searchMarker;return r&&r.forEach(n=>{n.p===e&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const r=this.parent;this.countable&&this.parentSub===null&&(r._length-=this.length),this.markDeleted(),Cv(e.deleteSet,this.id.client,this.id.clock,this.length),H_(e,r,this.parentSub),this.content.delete(e)}}gc(e,r){if(!this.deleted)throw Wl();this.content.gc(e),r?BG(e,this,new Jo(this.id,this.length)):this.content=new Ev(this.length)}write(e,r){const n=r>0?_r(this.id.client,this.id.clock+r-1):this.origin,i=this.rightOrigin,o=this.parentSub,c=this.content.getRef()&db|(n===null?0:Eo)|(i===null?0:Ou)|(o===null?0:wv);if(e.writeInfo(c),n!==null&&e.writeLeftID(n),i!==null&&e.writeRightID(i),n===null&&i===null){const f=this.parent;if(f._item!==void 0){const m=f._item;if(m===null){const x=zD(f);e.writeParentInfo(!0),e.writeString(x)}else e.writeParentInfo(!1),e.writeLeftID(m.id)}else f.constructor===String?(e.writeParentInfo(!0),e.writeString(f)):f.constructor===Qh?(e.writeParentInfo(!1),e.writeLeftID(f)):Wl();o!==null&&e.writeString(o)}this.content.write(e,r)}}const fL=(t,e)=>DV[e&db](t),DV=[()=>{Wl()},vV,wV,mV,kV,yV,bV,IV,xV,gV,()=>{Wl()}],LV=10;class el extends R7{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){Wl()}write(e,r){e.writeInfo(LV),Vt(e.restEncoder,this.length-r)}getMissing(e,r){return null}}const dL=typeof window!="undefined"?window:typeof global!="undefined"?global:{},hL="__ $YJS$ __";dL[hL]===!0&&console.warn("Yjs was already imported. Importing different versions of Yjs often leads to issues.");dL[hL]=!0;var gm=function(){function t(e,r){ar(this,t),this._key="",this._map=e,this._parent=r,this._type="linebreak"}return ir(t,[{key:"getNode",value:function(){var r=qt(this._key);return Aa(r)?r:null}},{key:"getKey",value:function(){return this._key}},{key:"getSharedType",value:function(){return this._map}},{key:"getType",value:function(){return this._type}},{key:"getSize",value:function(){return 1}},{key:"getOffset",value:function(){var r=this._parent;return r.getChildOffset(this)}},{key:"destroy",value:function(r){var n=r.collabNodeMap;n.delete(this._key)}}]),t}();function pL(t,e){var r=new gm(t,e);return t._collabNode=r,r}function PV(t,e,r){for(var n=t.length,i=e.length,o=0,c=0;o<n&&o<i&&t[o]===e[o]&&o<r;)o++;for(;c+o<n&&c+o<i&&t[n-c-1]===e[i-c-1];)c++;for(;c+o<n&&c+o<i&&t[o]===e[o];)o++;return{index:o,insert:e.slice(o,i-c),remove:n-o-c}}function NV(t,e,r,n){var i=Me(),o=n.length;if(De(i)&&i.isCollapsed()){var c=i.anchor;c.key===e&&(o=c.offset)}var f=PV(r,n,o);t.spliceText(f.index,f.remove,f.insert)}var wo=function(){function t(e,r,n,i){ar(this,t),this._key="",this._map=e,this._parent=n,this._text=r,this._type=i,this._normalized=!1}return ir(t,[{key:"getPrevNode",value:function(r){if(r===null)return null;var n=r.get(this._key);return Ue(n)?n:null}},{key:"getNode",value:function(){var r=qt(this._key);return Ue(r)?r:null}},{key:"getSharedType",value:function(){return this._map}},{key:"getType",value:function(){return this._type}},{key:"getKey",value:function(){return this._key}},{key:"getSize",value:function(){return this._text.length+(this._normalized?0:1)}},{key:"getOffset",value:function(){var r=this._parent;return r.getChildOffset(this)}},{key:"spliceText",value:function(r,n,i){var o=this._parent,c=o._xmlText,f=this.getOffset()+1+r;n!==0&&c.delete(f,n),i!==""&&c.insert(f,i)}},{key:"syncPropertiesAndTextFromLexical",value:function(r,n,i){var o=this.getPrevNode(i),c=n.__text;if(H7(r,this._map,o,n),o!==null){var f=o.__text;if(f!==c){var m=n.__key;NV(this,m,f,c),this._text=c}}}},{key:"syncPropertiesAndTextFromYjs",value:function(r,n){var i=this.getNode();if(i===null)throw new Error("Should never happen");B7(r,this._map,i,n);var o=this._text;if(i.__text!==o){var c=i.getWritable();c.__text=o}}},{key:"destroy",value:function(r){var n=r.collabNodeMap;n.delete(this._key)}}]),t}();function mL(t,e,r,n){var i=new wo(t,e,r,n);return t._collabNode=i,i}var vL=new Set(["__key","__children","__parent","__cachedText","__text"]);function P2(t){var e=qt(t);if(e===null)throw new Error("Should never happen");return e}function V_(t,e,r){var n=e.__type,i;if(Je(e)){var o=new td;i=U7(o,r,n),i.syncPropertiesFromLexical(t,e,null),i.syncChildrenFromLexical(t,e,null,null,null)}else if(Ue(e)){var c=new To;i=mL(c,e.__text,r,n),i.syncPropertiesAndTextFromLexical(t,e,null)}else if(Aa(e)){var f=new To;f.set("__type","linebreak"),i=pL(f,r)}else if(fa(e)){var m=new ed;i=gL(m,r,n),i.syncPropertiesFromLexical(t,e,null)}else throw new Error("Should never happen");return i._key=e.__key,i}function jV(t){var e=t instanceof To?t.get("__type"):t.getAttribute("__type");if(e==null)throw new Error("Should never happen");return e}function z7(t,e,r){var n=e._collabNode;if(n===void 0){var i=t.editor._nodes,o=jV(e),c=i.get(o);if(c===void 0)throw new Error("Should never happen");var f=e.parent,m=r===void 0&&f!==null?z7(t,f):r||null;if(!(m instanceof Gv))throw new Error("Should never happen");if(e instanceof td)return U7(e,m,o);if(e instanceof To){if(m===null)throw new Error("Should never happen");return o==="linebreak"?pL(e,m):mL(e,"",m,o)}else if(e instanceof ed)return gL(e,m,o)}return n}function RV(t,e,r){var n=e.getType(),i=t.editor._nodes,o=i.get(n);if(o===void 0)throw new Error("createLexicalNode failed");var c=new o.klass;if(c.__parent=r,e._key=c.__key,e instanceof Gv){var f=e._xmlText;e.syncPropertiesFromYjs(t,null),e.applyChildrenYjsDelta(t,f.toDelta()),e.syncChildrenFromYjs(t)}else e instanceof wo?e.syncPropertiesAndTextFromYjs(t,null):e instanceof Bc&&e.syncPropertiesFromYjs(t,null);return t.collabNodeMap.set(c.__key,e),c}function B7(t,e,r,n){for(var i=n===null?e instanceof To?Array.from(e.keys()):Object.keys(e.getAttributes()):Array.from(n),o,c=0;c<i.length;c++){var f=i[c];if(!vL.has(f)){var m=r[f],x=e instanceof To?e.get(f):e.getAttribute(f);if(m!==x){if(x instanceof Pu){var E=t.docMap;m instanceof Pu&&E.delete(m.guid);var b=jv(),S=x.guid;b._key=S,E.set(S,x),x=b}o===void 0&&(o=r.getWritable()),o[f]=x}}}}function H7(t,e,r,n){var i=n.__type,o=t.nodeProperties,c=o.get(i);c===void 0&&(c=Object.keys(n).filter(function(P){return!vL.has(P)}),o.set(i,c));for(var f=t.editor.constructor,m=0;m<c.length;m++){var x=c[m],E=r===null?void 0:r[x],b=n[x];if(E!==b){if(b instanceof f){var S=t.docMap,g=void 0;if(E instanceof f){var O=E._key;g=S.get(O),S.delete(O)}var C=g||new Pu,N=C.guid;b._key=N,S.set(N,C),b=C,t.editor.update(function(){n.markDirty()})}e instanceof To?e.set(x,b):e.setAttribute(x,b)}}}function q_(t,e,r,n){return t.slice(0,e)+n+t.slice(e+r)}function g4(t,e,r){for(var n=0,i=0,o=t._children,c=o.length;i<c;i++){var f=o[i],m=n,x=f.getSize();n+=x;var E=r?n>=e:n>e;if(E&&f instanceof wo){var b=e-m-1;b<0&&(b=0);var S=x-b;return{length:S,node:f,nodeIndex:i,offset:b}}if(n>e)return{length:0,node:f,nodeIndex:i,offset:m};if(i===c-1)return{length:0,node:null,nodeIndex:i+1,offset:m+1}}return{length:0,node:null,nodeIndex:0,offset:0}}function Y_(t){var e=t.anchor,r=t.focus,n=!1;try{var i=e.getNode(),o=r.getNode();(!i.isAttached()||!o.isAttached()||Ue(i)&&e.offset>i.getTextContentSize()||Ue(o)&&r.offset>o.getTextContentSize())&&(n=!0)}catch{n=!0}return n}function FV(t,e){t.doc.transact(e,t)}var Bc=function(){function t(e,r,n){ar(this,t),this._key="",this._xmlElem=e,this._parent=r,this._type=n,this._unobservers=new Set}return ir(t,[{key:"getPrevNode",value:function(r){if(r===null)return null;var n=r.get(this._key);return fa(n)?n:null}},{key:"getNode",value:function(){var r=qt(this._key);return fa(r)?r:null}},{key:"getSharedType",value:function(){return this._xmlElem}},{key:"getType",value:function(){return this._type}},{key:"getKey",value:function(){return this._key}},{key:"getSize",value:function(){return 1}},{key:"getOffset",value:function(){var r=this._parent;return r.getChildOffset(this)}},{key:"syncPropertiesFromLexical",value:function(r,n,i){var o=this.getPrevNode(i),c=this._xmlElem;H7(r,c,o,n)}},{key:"syncPropertiesFromYjs",value:function(r,n){var i=this.getNode();if(i===null)throw new Error("Should never happen");var o=this._xmlElem;B7(r,o,i,n)}},{key:"destroy",value:function(r){var n=r.collabNodeMap;n.delete(this._key),this._unobservers.forEach(function(i){return i()}),this._unobservers.clear()}}]),t}();function gL(t,e,r){var n=new Bc(t,e,r);return t._collabNode=n,n}var Gv=function(){function t(e,r,n){ar(this,t),this._key="",this._children=[],this._xmlText=e,this._type=n,this._parent=r}return ir(t,[{key:"getPrevNode",value:function(r){if(r===null)return null;var n=r.get(this._key);return Je(n)?n:null}},{key:"getNode",value:function(){var r=qt(this._key);return Je(r)?r:null}},{key:"getSharedType",value:function(){return this._xmlText}},{key:"getType",value:function(){return this._type}},{key:"getKey",value:function(){return this._key}},{key:"isEmpty",value:function(){return this._children.length===0}},{key:"getSize",value:function(){return 1}},{key:"getOffset",value:function(){var r=this._parent;if(r===null)throw new Error("Should never happen");return r.getChildOffset(this)}},{key:"syncPropertiesFromYjs",value:function(r,n){var i=this.getNode();if(i===null)throw this.getNode(),new Error("Should never happen");B7(r,this._xmlText,i,n)}},{key:"applyChildrenYjsDelta",value:function(r,n){for(var i=this._children,o=0,c=0;c<n.length;c++){var f=n[c],m=f.insert,x=f.delete;if(f.retain!=null)o+=f.retain;else if(typeof x=="number")for(var E=x;E>0;){var b=g4(this,o,!1),S=b.node,g=b.nodeIndex,O=b.offset,C=b.length;if(S instanceof t||S instanceof gm||S instanceof Bc)i.splice(g,1),E-=1;else if(S instanceof wo){var N=Math.min(E,C),P=g!==0?i[g-1]:null,D=S.getSize();O===0&&N===1&&g>0&&P instanceof wo&&C===D&&Array.from(S._map.keys()).length===0?(P._text+=S._text,i.splice(g,1)):O===0&&N===D?i.splice(g,1):S._text=q_(S._text,O,N,""),E-=N}else break}else if(m!=null)if(typeof m=="string"){var F=g4(this,o,!0),I=F.node,q=F.offset;I instanceof wo?I._text=q_(I._text,q,0,m):this._xmlText.delete(q,m.length),o+=m.length}else{var V=m,te=g4(this,o,!1),ne=te.nodeIndex,W=z7(r,V,this);i.splice(ne,0,W),o+=1}else throw new Error("Unexpected delta format")}}},{key:"syncChildrenFromYjs",value:function(r){var n=this.getNode();if(n===null)throw this.getNode(),new Error("Should never happen");var i=n.__key,o=n.__children,c=[],f=o.length,m=this._children,x=m.length,E=r.collabNodeMap,b=new Set,S,g;x!==f&&(g=X_(n,g,c));for(var O=0,C=0;C<x;C++){var N=o[O],P=m[C],D=P.getNode(),F=P._key;if(D!==null&&N===F){var I=Ue(D);if(b.add(N),I){if(P._key=N,P instanceof t){var q=P._xmlText;P.syncPropertiesFromYjs(r,null),P.applyChildrenYjsDelta(r,q.toDelta()),P.syncChildrenFromYjs(r)}else if(P instanceof wo)P.syncPropertiesAndTextFromYjs(r,null);else if(P instanceof Bc)P.syncPropertiesFromYjs(r,null);else if(!(P instanceof gm))throw new Error("Should never happen")}c[C]=N,O++}else{if(S===void 0){S=new Set;for(var V=0;V<x;V++){var te=m[V],ne=te._key;ne!==""&&S.add(ne)}}if(D!==null&&N!==void 0&&!S.has(N)){C--,O++;continue}g=X_(n,g,c);var W=RV(r,P,i),de=W.__key;E.set(de,P),c[C]=de}}for(var ie=0;ie<f;ie++){var ue=o[ie];if(!b.has(ue)){var ve=P2(ue).getWritable(),pe=r.collabNodeMap.get(ue);pe!==void 0&&pe.destroy(r),ve.__parent=null}}}},{key:"syncPropertiesFromLexical",value:function(r,n,i){H7(r,this._xmlText,this.getPrevNode(i),n)}},{key:"_syncChildFromLexical",value:function(r,n,i,o,c,f){var m=this._children[n],x=P2(i);m instanceof t&&Je(x)?(m.syncPropertiesFromLexical(r,x,o),m.syncChildrenFromLexical(r,x,o,c,f)):m instanceof wo&&Ue(x)?m.syncPropertiesAndTextFromLexical(r,x,o):m instanceof Bc&&fa(x)&&m.syncPropertiesFromLexical(r,x,o)}},{key:"syncChildrenFromLexical",value:function(r,n,i,o,c){for(var f=this.getPrevNode(i),m=f===null?[]:f.__children,x=n.__children,E=m.length-1,b=x.length-1,S=r.collabNodeMap,g,O,C=0,N=0;C<=E&&N<=b;){var P=m[C],D=x[N];if(P===D)this._syncChildFromLexical(r,N,D,i,o,c),C++,N++;else{g===void 0&&(g=new Set(m)),O===void 0&&(O=new Set(x));var F=O.has(P),I=g.has(D);if(!F)this.splice(r,N,1),C++;else{var q=P2(D),V=V_(r,q,this);S.set(D,V),I?(this.splice(r,N,1,V),C++,N++):(this.splice(r,N,0,V),N++)}}}var te=C>E,ne=N>b;if(te&&!ne)for(;N<=b;++N){var W=x[N],de=P2(W),ie=V_(r,de,this);this.append(ie),S.set(W,ie)}else if(ne&&!te)for(var ue=this._children.length-1;ue>=N;ue--)this.splice(r,ue,1)}},{key:"append",value:function(r){var n=this._xmlText,i=this._children,o=i[i.length-1],c=o!==void 0?o.getOffset()+o.getSize():0;if(r instanceof t)n.insertEmbed(c,r._xmlText);else if(r instanceof wo){var f=r._map;f.parent===null&&n.insertEmbed(c,f),n.insert(c+1,r._text)}else r instanceof gm?n.insertEmbed(c,r._map):r instanceof Bc&&n.insertEmbed(c,r._xmlElem);this._children.push(r)}},{key:"splice",value:function(r,n,i,o){var c=this._children,f=c[n];if(f===void 0){if(o!==void 0)this.append(o);else throw new Error("Should never happen");return}var m=f.getOffset();if(m===-1)throw new Error("Should never happen");var x=this._xmlText;if(i!==0&&x.delete(m,f.getSize()),o instanceof t)x.insertEmbed(m,o._xmlText);else if(o instanceof wo){var E=o._map;E.parent===null&&x.insertEmbed(m,E),x.insert(m+1,o._text)}else o instanceof gm?x.insertEmbed(m,o._map):o instanceof Bc&&x.insertEmbed(m,o._xmlElem);if(i!==0)for(var b=c.slice(n,n+i),S=0;S<b.length;S++)b[S].destroy(r);o!==void 0?c.splice(n,i,o):c.splice(n,i)}},{key:"getChildOffset",value:function(r){for(var n=0,i=this._children,o=0;o<i.length;o++){var c=i[o];if(c===r)return n;n+=c.getSize()}return-1}},{key:"destroy",value:function(r){for(var n=r.collabNodeMap,i=this._children,o=0;o<i.length;o++)i[o].destroy(r);n.delete(this._key)}}]),t}();function X_(t,e,r){if(e===void 0){var n=t.getWritable();return n.__children=r,n}return e}function U7(t,e,r){var n=new Gv(t,e,r);return t._collabNode=n,n}function zV(t,e,r,n,i){if(n==null)throw new Error("Should never happen");var o=n.get("root",td),c=U7(o,null,"root");return c._key="root",{clientID:n.clientID,collabNodeMap:new Map,cursors:new Map,cursorsContainer:null,doc:n,docMap:i,editor:t,id:r,nodeProperties:new Map,root:c}}function Z_(t,e){var r=e.collabNodeMap,n=r.get(t.key);if(n===void 0)return null;var i=t.offset,o=n.getSharedType();if(n instanceof wo){o=n._parent._xmlText;var c=n.getOffset();if(c===-1)return null;i=c+1+i}return PG(o,i)}function y3(t,e){return NG(t,e.doc)}function Q_(t,e){if(t==null){if(e!=null)return!0}else if(e==null||!jG(t,e))return!0;return!1}function BV(t,e){return{color:e,name:t,selection:null}}function yL(t,e){var r=t.cursorsContainer;if(r!==null)for(var n=e.selections,i=n.length,o=0;o<i;o++)r.removeChild(n[o])}function HV(t,e){var r=e.selection;r!==null&&yL(t,r)}function J_(t){for(var e=t;e!=null;){if(e.nodeType===3)return e;e=e.firstChild}return null}function UV(t,e,r,n,i){var o=t.color,c=document.createElement("span");c.style.cssText="position:absolute;top:0;bottom:0;right:-1px;width:1px;background-color:rgb(".concat(o,");z-index:10;");var f=document.createElement("span");return f.textContent=t.name,f.style.cssText="position:absolute;left:-2px;top:-16px;background-color:rgb(".concat(o,");color:#fff;line-height:12px;height:12px;font-size:12px;padding:2px;font-family:Arial;font-weight:bold;white-space:nowrap;"),c.appendChild(f),{anchor:{key:e,offset:r},caret:c,color:o,focus:{key:n,offset:i},name:f,range:document.createRange(),selections:[]}}function eT(t){var e=t.parentNode;if(e==null)throw new Error("Should never happen");return[e,Array.from(e.childNodes).indexOf(t)]}function KV(t,e,r,n){var i=t.editor,o=i.getRootElement(),c=t.cursorsContainer;if(!(c===null||o===null)){var f=e.selection;if(r===null){if(f===null)return;e.selection=null,yL(t,f);return}else e.selection=r;var m=r.range,x=r.caret,E=r.color,b=r.selections,S=r.anchor,g=r.focus,O=S.key,C=g.key,N=n.get(O),P=n.get(C),D=i.getElementByKey(O),F=i.getElementByKey(C),I=S.offset,q=g.offset;if(Ue(N)&&(D=J_(D)),Ue(P)&&(F=J_(F)),!(N===void 0||P===void 0||D===null||F===null)){if(D.nodeName==="BR"){var V=eT(D),te=Se(V,2);D=te[0],I=te[1]}if(F.nodeName==="BR"){var ne=eT(F),W=Se(ne,2);F=W[0],q=W[1]}var de=D.firstChild;D===F&&de!=null&&de.nodeName==="BR"&&I===0&&q===0&&(q=1);try{m.setStart(D,I),m.setEnd(F,q)}catch{return}m.collapsed&&(I!==q||O!==C)&&(m.setStart(F,q),m.setEnd(D,I));for(var ie=o.getBoundingClientRect(),ue=getComputedStyle(o),ve=parseFloat(ue.paddingLeft)+parseFloat(ue.paddingRight),pe=Array.from(m.getClientRects()),xe=pe.length,Oe=b.length,Fe=0;Fe<xe;Fe++){var ye=pe[Fe];if(ye.width+ve===ie.width){pe.splice(Fe--,1),xe--;continue}var Pe=b[Fe];Pe===void 0&&(Pe=document.createElement("span"),b[Fe]=Pe,c.appendChild(Pe));var ze="position:absolute;top:".concat(ye.top,"px;left:").concat(ye.left,"px;height:").concat(ye.height,"px;width:").concat(ye.width,"px;background-color:rgba(").concat(E,", 0.3);pointer-events:none;z-index:10;");Pe.style.cssText=ze,Fe===xe-1&&x.parentNode!==Pe&&Pe.appendChild(x)}for(var Ze=Oe-1;Ze>=xe;Ze--){var G=b[Ze];c.removeChild(G),b.pop()}}}}function tT(t,e){var r=e.awareness,n=r.getLocalState();if(n!==null){var i=n.anchorPos,o=n.focusPos;if(i!==null&&o!==null){var c=y3(i,t),f=y3(o,t);if(c!==null&&f!==null){var m=b3(c.type,c.index),x=Se(m,2),E=x[0],b=x[1],S=b3(f.type,f.index),g=Se(S,2),O=g[0],C=g[1];if(E!==null&&O!==null){var N=E.getKey(),P=O.getKey(),D=Me();if(!De(D))return;var F=D.anchor,I=D.focus;if(F.key!==N||F.offset!==b){var q=qt(N);D.anchor.set(N,b,Je(q)?"element":"text")}if(I.key!==P||I.offset!==C){var V=qt(P);D.focus.set(P,C,Je(V)?"element":"text")}}}}}}function b3(t,e){var r=t._collabNode;if(r===void 0)return[null,0];if(r instanceof Gv){var n=g4(r,e,!0),i=n.node,o=n.offset;return i===null?[r,0]:[i,o]}return[null,0]}function bL(t,e){for(var r=Array.from(e.awareness.getStates()),n=t.clientID,i=t.cursors,o=t.editor,c=o._editorState._nodeMap,f=new Set,m=0;m<r.length;m++){var x=r[m],E=Se(x,2),b=E[0],S=E[1];if(b!==n){f.add(b);var g=S.anchorPos,O=S.focusPos,C=S.name,N=S.color,P=S.focusing,D=null,F=i.get(b);if(F===void 0&&(F=BV(C,N),i.set(b,F)),g!==null&&O!==null&&P){var I=y3(g,t),q=y3(O,t);if(I!==null&&q!==null){var V=b3(I.type,I.index),te=Se(V,2),ne=te[0],W=te[1],de=b3(q.type,q.index),ie=Se(de,2),ue=ie[0],ve=ie[1];if(ne!==null&&ue!==null){var pe=ne.getKey(),xe=ue.getKey();if(D=F.selection,D===null)D=UV(F,pe,W,xe,ve);else{var Oe=D.anchor,Fe=D.focus;Oe.key=pe,Oe.offset=W,Fe.key=xe,Fe.offset=ve}}}}KV(t,F,D,c)}}for(var ye=Array.from(i.keys()),Pe=0;Pe<ye.length;Pe++){var ze=ye[Pe];if(!f.has(ze)){var Ze=i.get(ze);Ze!==void 0&&(HV(t,Ze),i.delete(ze))}}}function wL(t,e,r,n){var i=e.awareness,o=i.getLocalState();if(o!==null){var c=o.anchorPos,f=o.focusPos,m=o.name,x=o.color,E=o.focusing,b=null,S=null;(n===null||c!==null&&!n.is(r))&&r===null||(De(n)&&(b=Z_(n.anchor,t),S=Z_(n.focus,t)),(Q_(c,b)||Q_(f,S))&&i.setLocalState({anchorPos:b,color:x,focusPos:S,focusing:E,name:m}))}}var WV=function(){function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;ar(this,t),this._offsetMap=e,this._firstNode=r,this._blockOffsetSize=n}return ir(t,[{key:"createSelectionFromOffsets",value:function(r,n,i){var o=this._firstNode;if(o===null)return null;var c=r,f=n,m=ym(o,c,this._blockOffsetSize),x=ym(o,f,this._blockOffsetSize);if(i!==void 0&&(c=rT(c,m,i,this,this._blockOffsetSize),m=ym(o,c,this._blockOffsetSize),f=rT(f,x,i,this,this._blockOffsetSize),x=ym(o,f,this._blockOffsetSize)),m===null||x===null)return null;var E=m.key,b=x.key,S=qt(E),g=qt(b);if(S===null||g===null)return null;var O=0,C=0,N="element",P="element";if(m.type==="text"){O=c-m.start,N="text";var D=S.getNextSibling();c!==f&&O===S.getTextContentSize()&&Ue(D)&&(O=0,E=D.__key)}else m.type==="inline"&&(E=S.getParentOrThrow().getKey(),O=f>m.start?m.end:m.start);x.type==="text"?(C=f-x.start,P="text"):x.type==="inline"&&(b=g.getParentOrThrow().getKey(),C=f>x.start?x.end:x.start);var F=dv();return F===null?null:(F.anchor.set(E,O,N),F.focus.set(b,C,P),F)}},{key:"getOffsetsFromSelection",value:function(r){var n=r.anchor,i=r.focus,o=this._offsetMap,c=n.offset,f=i.offset,m=-1,x=-1;if(n.type==="text"){var E=o.get(n.key);E!==void 0&&(m=E.start+c)}else{var b=n.getNode().getDescendantByIndex(c),S=o.get(b.getKey());if(S!==void 0){var g=b.getIndexWithinParent()!==c;m=g?S.end:S.start}}if(i.type==="text"){var O=o.get(i.key);O!==void 0&&(x=O.start+i.offset)}else{var C=i.getNode().getDescendantByIndex(f),N=o.get(C.getKey());if(N!==void 0){var P=C.getIndexWithinParent()!==f;x=P?N.end:N.start}}return[m,x]}}]),t}();function rT(t,e,r,n,i){for(var o=r._offsetMap,c=n._offsetMap,f=new Set,m=t,x=e;x!==null;){var E=x.key,b=o.get(E),S=x.end-x.start;if(f.add(E),b===void 0)m+=S;else{var g=b.end-b.start;g!==S&&(m+=S-g)}var O=x.prev;if(O!==null){x=O;continue}for(var C=x.parent;C!==null;){var N=C.prev;if(N!==null){var P=N.key,D=o.get(P),F=N.end-N.start;if(f.add(P),D===void 0)m+=F;else{var I=D.end-D.start;I!==F&&(m+=F-I)}N=N.prev}C=C.parent}break}var q=r._firstNode;if(q!==null){x=ym(q,t,i);for(var V=!1;x!==null;){if(!f.has(x.key)){V=!0;break}x=x.parent}if(!V)for(;x!==null;){var te=x.key;if(!f.has(te)){var ne=c.get(te),W=x.end-x.start;if(ne===void 0)m-=W;else{var de=ne.end-ne.start;W!==de&&(m+=de-W)}}x=x.prev}}return m}function ym(t,e,r){for(var n=t;n!==null;){var i=n.end+(n.type!=="element"||r===0?1:0);if(e<i){var o=n.child;if(o!==null){n=o;continue}return n}var c=n.next;if(c===null)break;n=c}return null}function nT(t,e,r,n,i,o){return{child:t,end:n,key:i,next:null,parent:o,prev:null,start:r,type:e}}function $V(t,e,r,n,i,o){var c=n.get(e);if(c===void 0)throw Error("createOffsetModel: could not find node by key");var f=t.offset;if(Je(c)){var m=c.__children,x=m.length===0,E=x?null:xL(t,m,null,n,i,o);(!t.prevIsBlock||x)&&(t.prevIsBlock=!0,t.offset+=o);var b=nT(E,"element",f,f,e,r);E!==null&&(E.parent=b);var S=t.offset;return b.end=S,i.set(e,b),b}t.prevIsBlock=!1;var g=Ue(c),O=g?c.__text.length:1,C=t.offset+=O,N=nT(null,g?"text":"inline",f,C,e,r);return i.set(e,N),N}function xL(t,e,r,n,i,o){for(var c=null,f=null,m=e.length,x=0;x<m;x++){var E=e[x],b=$V(t,E,r,n,i,o);f===null?c=b:(b.prev=f,f.next=b),f=b}return c}function aT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,n=r||t._pendingEditorState||t._editorState,i=n._nodeMap,o=i.get("root"),c=new Map,f={offset:0,prevIsBlock:!1},m=xL(f,o.__children,null,i,c,e);return new WV(c,m,e)}function GV(t,e){var r=e.target,n=z7(t,r);if(n instanceof Gv&&e instanceof lL){var i=e.keysChanged,o=e.childListChanged,c=e.delta;i.size>0&&n.syncPropertiesFromYjs(t,i),o&&(n.applyChildrenYjsDelta(t,c),n.syncChildrenFromYjs(t))}else if(n instanceof wo&&e instanceof rL){var f=e.keysChanged;f.size>0&&n.syncPropertiesAndTextFromYjs(t,f)}else if(n instanceof Bc&&e instanceof sL){var m=e.attributesChanged;m.size>0&&n.syncPropertiesFromYjs(t,m)}else throw new Error("Should never happen")}function VV(t,e,r){var n=t.editor,i=n._editorState;n.update(function(){for(var o=n._pendingEditorState,c=0;c<r.length;c++){var f=r[c];GV(t,f)}var m=Me();if(De(m))if(Y_(m)){var x=i._selection;if(De(x)){var E=aT(n,0,i),b=aT(n,0,o),S=E.getOffsetsFromSelection(x),g=Se(S,2),O=g[0],C=g[1],N=b.createSelectionFromOffsets(O,C,E);if(N!==null)Ta(N);else if(tT(t,e),Y_(m)){var P=Sn();P.getChildrenSize()===0&&P.append(Tr()),Sn().selectEnd()}}wL(t,e,x,Me())}else tT(t,e)},{onUpdate:function(){bL(t,e)},skipTransforms:!0,tag:"collaboration"})}function qV(t,e){for(var r=Array.from(e),n=t.collabNodeMap,i=[],o=0;o<r.length;o++){var c=r[o],f=qt(c),m=n.get(c);if(m instanceof wo)if(Ue(f))i.push([m,f.__text]);else{var x=m.getOffset();if(x===-1)continue;var E=m._parent;m._normalized=!0,E._xmlText.delete(x,1),n.delete(c);var b=E._children,S=b.indexOf(m);b.splice(S,1)}}for(var g=0;g<i.length;g++){var O=Se(i[g],2),C=O[0],N=O[1];C._text=N}}function YV(t,e,r,n,i,o,c,f){FV(t,function(){n.read(function(){if(f.has("collaboration")){c.size>0&&qV(t,c);return}if(i.has("root")){var m=r._nodeMap,x=Sn(),E=t.root;E.syncPropertiesFromLexical(t,x,m),E.syncChildrenFromLexical(t,x,m,i,o)}var b=Me(),S=r._selection;wL(t,e,S,b)})})}var kL=er(),CL=er();function XV(t,e){return new $G(e,{trackedOrigins:new Set([t,null])})}function ZV(t,e,r,n){t.awareness.setLocalState({anchorPos:null,color:r,focusPos:null,focusing:n,name:e})}function iT(t,e,r,n){var i=t.awareness,o=i.getLocalState();o===null&&(o={anchorPos:null,color:r,focusPos:null,focusing:n,name:e}),o.focusing=n,i.setLocalState(o)}function QV(t,e,r,n,i,o,c){var f=re.exports.useRef(!1),m=re.exports.useState(n.get(e)),x=Se(m,2),E=x[0],b=x[1],S=re.exports.useMemo(function(){return zV(t,r,e,E,n)},[t,r,e,n,E]),g=re.exports.useCallback(function(){r.connect()},[r]),O=re.exports.useCallback(function(){try{r.disconnect()}catch{}},[r]);re.exports.useEffect(function(){var N=S.root,P=r.awareness,D=function(W){var de=W.status;t.dispatchCommand(kL,de==="connected")},F=function(W){c&&W&&N.isEmpty()&&N._xmlText._length===0&&f.current===!1&&tq(t),f.current=!1},I=function(){bL(S,r)},q=function(W,de){de.origin!==S&&VV(S,r,W)};ZV(r,i,o,document.activeElement===t.getRootElement());var V=function(W){rq(t,S),b(W),n.set(e,W),f.current=!0};r.on("reload",V),r.on("status",D),r.on("sync",F),P.on("update",I),N.getSharedType().observeDeep(q);var te=t.registerUpdateListener(function(ne){var W=ne.prevEditorState,de=ne.editorState,ie=ne.dirtyLeaves,ue=ne.dirtyElements,ve=ne.normalizedNodes,pe=ne.tags;pe.has("skip-collab")===!1&&YV(S,r,W,de,ue,ie,ve,pe)});return g(),function(){f.current===!1&&O(),r.off("sync",F),r.off("status",D),r.off("reload",V),P.off("update",I),N.getSharedType().unobserveDeep(q),te()}},[S,o,g,O,n,t,e,i,r,c]);var C=re.exports.useMemo(function(){var N=function(D){S.cursorsContainer=D};return Ai.exports.createPortal(Q("div",{ref:N}),document.body)},[S]);return re.exports.useEffect(function(){return t.registerCommand(CL,function(N){if(g!==void 0&&O!==void 0){var P=N;P?(console.log("Collaboration connected!"),g()):(console.log("Collaboration disconnected!"),O())}return!0},Nt)},[g,O,t]),[C,S]}function JV(t,e,r,n){re.exports.useEffect(function(){return pa(t.registerCommand(a7,function(i){return iT(e,r,n,!0),!0},Nt),t.registerCommand(fI,function(i){return iT(e,r,n,!1),!0},Nt))},[n,t,r,e])}function eq(t,e){var r=re.exports.useMemo(function(){return XV(e,e.root.getSharedType())},[e]);re.exports.useEffect(function(){var i=function(){r.undo()},o=function(){r.redo()};return pa(t.registerCommand(_p,function(){return i(),!0},Nt),t.registerCommand(Tp,function(){return o(),!0},Nt))});var n=re.exports.useCallback(function(){r.clear()},[r]);return n}function tq(t){t.update(function(){var e=Sn(),r=e.getFirstChild();if(r===null){var n=Tr();e.append(n);var i=document.activeElement;(Me()!==null||i!==null&&i===t.getRootElement())&&n.select()}},{tag:"history-merge"})}function rq(t,e){if(t.update(function(){var x=Sn();x.clear(),x.select()},{tag:"skip-collab"}),e.cursors!=null){var r=e.cursorsContainer;if(r!=null)for(var n=Array.from(e.cursors.values()),i=0;i<n.length;i++){var o=n[i],c=o.selection;if(c&&c.selections!=null)for(var f=c.selections,m=0;m<f.length;m++)r.removeChild(f[i])}}}var oT=[["Cat","255,165,0"],["Dog","0,200,55"],["Rabbit","160,0,200"],["Frog","0,172,200"],["Fox","197,200,0"],["Hedgehog","31,200,0"],["Pigeon","200,0,0"],["Squirrel","200,0,148"],["Bear","255,235,0"],["Tiger","86,255,0"],["Leopard","0,255,208"],["Zebra","0,243,255"],["Wolf","0,102,255"],["Owl","147,0,255"],["Gull","255,0,153"],["Squid","0,220,255"]],lT=oT[Math.floor(Math.random()*oT.length)];function SL(t){var e=t.id,r=t.providerFactory,n=t.shouldBootstrap,i=t.username,o=Dp(i),c=o.yjsDocMap,f=o.name,m=o.color,x=sr(),E=Se(x,1),b=E[0],S=re.exports.useMemo(function(){return r(e,c)},[e,r,c]),g=QV(b,e,S,c,f,m,n),O=Se(g,2),C=O[0],N=O[1];return o.clientID=N.clientID,eq(b,N),JV(b,S,f,m),C}var nq=re.exports.createContext({clientID:0,color:lT[1],name:lT[0],yjsDocMap:new Map});function Dp(t){var e=re.exports.useContext(nq);return t!=null&&(e.name=t),e}function aq(t){var e=t.onClose,r=t.children,n=t.title,i=re.exports.useRef(null);return re.exports.useEffect(function(){i.current!==null&&i.current.focus()},[]),re.exports.useEffect(function(){var o=function(f){f.keyCode===27&&e()};return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}},[e]),Q("div",{className:"Modal__overlay",role:"dialog",children:ct("div",{className:"Modal__modal",tabIndex:-1,ref:i,children:[Q("h2",{className:"Modal__title",children:n}),Q("button",{className:"Modal__closeButton","aria-label":"Close modal",onClick:e,children:"X"}),Q("div",{className:"Modal__content",children:r})]})})}function iq(t){var e=t.onClose,r=t.children,n=t.title;return Ai.exports.createPortal(Q(aq,{onClose:e,title:n,children:r}),document.body)}function EL(){var t=re.exports.useState(null),e=Se(t,2),r=e[0],n=e[1],i=re.exports.useCallback(function(){n(null)},[]),o=re.exports.useMemo(function(){if(r===null)return null;var f=r.title,m=r.content;return Q(iq,{onClose:i,title:f,children:m})},[r,i]),c=re.exports.useCallback(function(f,m){n({content:m(i),title:f})},[i]);return[o,c]}function A5(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.filter(Boolean).join(" ")}function o0(t){var e=t.children,r=t.onClick,n=t.disabled,i=t.small;return Q("button",{disabled:n,className:A5("Button__root",n&&"Button__disabled",i&&"Button__small"),onClick:r,children:e})}var sT=function(){var e=document.getElementById("report-container");return e===null&&(e=document.createElement("div"),e.id="report-container",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.fontSize="32px",e.style.transform="translate(-50%, -50px)",e.style.padding="20px",e.style.background="rgba(240, 240, 240, 0.4)",e.style.borderRadius="20px",document.body&&document.body.appendChild(e)),e};function _L(){var t=re.exports.useRef(null),e=re.exports.useCallback(function(){clearTimeout(t.current),document.body&&document.body.removeChild(sT())},[]);return re.exports.useEffect(function(){return e},[e]),re.exports.useCallback(function(r){console.log(r);var n=sT();return clearTimeout(t.current),n.innerHTML=r,t.current=setTimeout(e,1e3),t.current},[e])}var TL=er(),oq={"\n":function(e){var r=e.selection;r.insertParagraph()},redo:function(e){var r=e.editor;r.dispatchCommand(Tp)},undo:function(e){var r=e.editor;r.dispatchCommand(_p)}},OL="SpeechRecognition"in window||"webkitSpeechRecognition"in window;function lq(){var t=sr(),e=Se(t,1),r=e[0],n=re.exports.useState(!1),i=Se(n,2),o=i[0],c=i[1],f=re.exports.useRef(null),m=_L();return re.exports.useEffect(function(){if(o&&f.current===null){var x=window.SpeechRecognition||window.webkitSpeechRecognition;f.current=new x,f.current.continuous=!0,f.current.interimResults=!0,f.current.addEventListener("result",function(E){var b=E.results.item(E.resultIndex),S=b.item(0),g=S.transcript;m(g),b.isFinal&&r.update(function(){var O=Me();if(De(O)){var C=oq[g.toLowerCase().trim()];C?C({editor:r,selection:O}):g.match(/\s*\n\s*/)?O.insertParagraph():O.insertText(g)}})})}return f.current&&(o?f.current.start():f.current.stop()),function(){f.current!==null&&f.current.stop()}},[r,o,m]),re.exports.useEffect(function(){return r.registerCommand(TL,function(x){return c(x),!0},Nt)},[r]),null}var sq=OL?lq:function(){return null};function uq(t){t.isRichText;var e=sr(),r=Se(e,1),n=r[0],i=re.exports.useState(function(){return n.isReadOnly()}),o=Se(i,2),c=o[0],f=o[1],m=re.exports.useState(!1),x=Se(m,2),E=x[0],b=x[1],S=re.exports.useState(!1),g=Se(S,2),O=g[0],C=g[1],N=re.exports.useState(!0),P=Se(N,2),D=P[0],F=P[1],I=EL(),q=Se(I,2),V=q[0],te=q[1],ne=Dp(),W=ne.yjsDocMap,de=W.get("main")!==void 0;re.exports.useEffect(function(){return pa(n.registerReadOnlyListener(function(ue){f(ue)}),n.registerCommand(kL,function(ue){var ve=ue;return C(ve),!1},Nt))},[n]),re.exports.useEffect(function(){return n.registerUpdateListener(function(){n.getEditorState().read(function(){var ue=Sn(),ve=ue.getChildren();if(ve.length>1)F(!1);else if(Gf(ve[0])){var pe=ve[0].getChildren();F(pe.length===0)}else F(!1)})})},[n]);var ie=re.exports.useCallback(function(){n.update(function(){for(var ue=Sn(),ve=ue.getChildren(),pe=ve.length,xe="",Oe=0;Oe<pe;Oe++){var Fe=ve[Oe];if(Gf(Fe)){xe.length&&(xe+=`
`);var ye=Fe.getTextContent();ye.length&&(xe+=ye)}}PW(xe,n,lb),ue.selectEnd()})},[n]);return ct("div",{className:"actions",children:[OL&&Q("button",{onClick:function(){n.dispatchCommand(TL,!E),b(!E)},className:"action-button action-button-mic "+(E?"active":""),title:"Mic","aria-label":"Mic",children:Q("i",{className:"mic"})}),Q("button",{className:"action-button import",onClick:function(){return o$(n)},title:"Import","aria-label":"Import",children:Q("i",{className:"import"})}),Q("button",{className:"action-button export",onClick:function(){return s$(n,{fileName:"Playground ".concat(new Date().toISOString()),source:"Playground"})},title:"Export","aria-label":"Export",children:Q("i",{className:"export"})}),Q("button",{className:"action-button clear",disabled:D,onClick:function(){te("Clear editor",function(ve){return Q(cq,{editor:n,onClose:ve})})},title:"Clear","aria-label":"Clear",children:Q("i",{className:"clear"})}),Q("button",{className:"action-button ".concat(c?"unlock":"lock"),onClick:function(){n.setReadOnly(!n.isReadOnly())},title:c?"Unlock":"Lock","aria-label":c?"Unlock":"Lock",children:Q("i",{className:c?"unlock":"lock"})}),Q("button",{className:"action-button",onClick:ie,title:"Markdown","aria-label":"Markdown",children:Q("i",{className:"markdown"})}),de&&Q("button",{className:"action-button connect",onClick:function(){n.dispatchCommand(CL,!O)},title:O?"Disconnect":"Connect","aria-label":O?"Disconnect":"Connect",children:Q("i",{className:O?"disconnect":"connect"})}),V]})}function cq(t){var e=t.editor,r=t.onClose;return ct(dn,{children:["Are you sure you want to clear the editor?",ct("div",{className:"Modal__content",children:[Q(o0,{onClick:function(){e.dispatchCommand(r7),e.focus(),r()},children:"Clear"})," ",Q(o0,{onClick:function(){e.focus(),r()},children:"Cancel"})]})]})}var Nm=function(t){jr(r,t);var e=Rr(r);function r(){return ar(this,r),e.apply(this,arguments)}return ir(r,[{key:"createDOM",value:function(i){var o=Qn(Nn(r.prototype),"createDOM",this).call(this,i);return o.style.cssText="color: #ccc;",o}}],[{key:"clone",value:function(i){return new r(i.__text,i.__key)}},{key:"getType",value:function(){return"typeahead"}}]),r}(Io);function fq(t){return new Nm(t).setMode("inert")}function dq(t){var e=re.exports.useRef(null),r=re.exports.useState(t.getEditorState().read(l7)),n=Se(r,2),i=n[0],o=n[1],c=re.exports.useState(!1),f=Se(c,2),m=f[0],x=f[1],E=re.exports.useMemo(function(){return new pq},[]),b=hq(i,E.query),S=re.exports.useCallback(function(){if(e.current===null)return null;var O=qt(e.current);return Ue(O)?O:null},[]);re.exports.useEffect(function(){if(!t.hasNodes([Nm]))throw new Error("AutocompletePlugin: TypeaheadNode not registered on editor");return t.registerTextContentListener(function(O){o(O)})},[t]);var g=re.exports.useCallback(function(){t.update(function(){var O=S();function C(){if(O!==null){var V=Me();if(De(V)){var te=V.anchor,ne=V.focus;if(te.type==="text"&&ne.type==="text"){var W=te.getNode(),de=te.offset;W.getKey()===O.getKey()&&(W=W.getPreviousSibling(),Ue(W)&&(de=W.getTextContent().length));var ie=ne.getNode(),ue=ne.offset;ie.getKey()===O.getKey()&&(ie=ie.getPreviousSibling(),Ue(ie)&&(ue=ie.getTextContent().length)),Ue(ie)&&Ue(W)&&V.setTextNodeRange(W,de,ie,ue)}}O.remove()}e.current=null}function N(){if(O!==null){O.getTextContent(!0)!==b&&O.setTextContent(b!=null?b:"");return}var V=Sn().getLastChild();if(Je(V)){var te=V.getLastChild();if(Ue(te)){var ne=fq(b!=null?b:"");te.insertAfter(ne),e.current=ne.getKey()}}}var P=Me(),D=!1;if(De(P)){var F=P==null?void 0:P.anchor.getNode(),I=P==null?void 0:P.anchor.offset,q=F==null?void 0:F.getTextContentSize();D=q!=null&&I===q}b===null||!m||!D?C():N()},{tag:"history-merge"})},[t,S,m,b]);re.exports.useEffect(function(){g()},[g,b]),re.exports.useEffect(function(){return t.registerUpdateListener(function(O){var C=O.editorState;C.read(function(){var N=Sn().getAllTextNodes(!0).find(function(P){return P instanceof Nm});N instanceof Nm&&(e.current=N.getKey())})})},[t]),re.exports.useEffect(function(){var O=t.getRootElement();if(O!=null){var C=function(P){(P.key==="Tab"||P.key==="ArrowRight")&&t.update(function(){var D=S(),F=D==null?void 0:D.getPreviousSibling();D!==null&&Ue(F)&&(P.preventDefault(),F.setTextContent(F.getTextContent()+D.getTextContent(!0)),F.select()),D==null||D.remove(),e.current=null})};return O.addEventListener("keydown",C),function(){O.removeEventListener("keydown",C)}}},[t,S]),re.exports.useEffect(function(){var O=function(){var N=window.getSelection();x(N.isCollapsed)};return document.addEventListener("selectionchange",O),function(){document.removeEventListener("selectionchange",O)}},[])}function hq(t,e){var r=re.exports.useRef(function(){}),n=re.exports.useRef(0),i=re.exports.useState(null),o=Se(i,2),c=o[0],f=o[1];return re.exports.useEffect(function(){f(null),r.current(),P8(regeneratorRuntime.mark(function m(){var x,E;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return x=Date.now(),n.current=x,S.prev=2,S.next=5,e(t);case 5:return E=S.sent,r.current=E.cancel,S.t0=f,S.next=10,E.promise();case 10:S.t1=S.sent,(0,S.t0)(S.t1),S.next=16;break;case 14:S.prev=14,S.t2=S.catch(2);case 16:case"end":return S.stop()}},m,null,[[2,14]])}))()},[e,t]),c}var pq=ir(function t(){var e=this;ar(this,t),Om(this,"DATABASE",{"Happy ":"birthday","Happy b":"irthday","Happy bi":"rthday",He:"llo",Hel:"lo",Hell:"o","Hello ":"world","Hello w":"orld","Hello wo":"rld","Hello wor":"ld","happy ":"birthday","happy b":"irthday","happy bi":"rthday",he:"llo",hel:"lo",hell:"o","hello ":"world","hello w":"orld","hello wo":"rld","hello wor":"ld"}),Om(this,"LATENCY",200),Om(this,"query",function(r){var n=!1,i=function(){return new Promise(function(f,m){setTimeout(function(){var x,E=(x=e.DATABASE[r])!==null&&x!==void 0?x:null;n?m("Cancelled network request"):f(E)},e.LATENCY)})},o=function(){n=!0};return{cancel:o,promise:i}})});function mq(){var t=sr(),e=Se(t,1),r=e[0];return dq(r),null}function AL(t,e){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}function ML(t){var e=t.getPreviousSibling();return Je(e)&&(e=e.getLastDescendant()),e===null||Aa(e)||Ue(e)&&e.getTextContent().endsWith(" ")}function IL(t){var e=t.getNextSibling();return Je(e)&&(e=e.getFirstDescendant()),e===null||Aa(e)||Ue(e)&&e.getTextContent().startsWith(" ")}function vq(t,e,r){for(var n=t.getTextContent(),i=n.length,o=n,c=0,f=t,m;(m=AL(o,e))&&m!==null;){var x=m.index,E=c+x,b=m.length,S=void 0;E>0?S=n[E-1]===" ":S=ML(t);var g=void 0;if(E+b<i?g=n[E+b]===" ":g=IL(t),S&&g){var O=void 0;if(x===0){var C=f.splitText(b),N=Se(C,2);O=N[0],f=N[1]}else{var P=f.splitText(x,x+b),D=Se(P,3);O=D[1],f=D[2]}var F=gI(m.url);F.append(gr(m.text)),O.replace(F),r(m.url,null)}var I=x+b;o=o.substring(I),c+=I}}function uT(t,e,r){for(var n=t.getChildren(),i=n.length,o=0;o<i;o++){var c=n[o];if(!Ue(c)||!c.isSimpleText()){jm(t),r(null,t.getURL());return}}var f=t.getTextContent(),m=AL(f,e);if(m===null||m.text!==f){jm(t),r(null,t.getURL());return}if(!ML(t)||!IL(t)){jm(t),r(null,t.getURL());return}var x=t.getURL();m!==null&&x!==m.url&&(t.setURL(m.url),r(m.url,x))}function gq(t,e){var r=t.getPreviousSibling(),n=t.getNextSibling(),i=t.getTextContent();v5(r)&&!i.startsWith(" ")&&(jm(r),e(null,r.getURL())),v5(n)&&!i.endsWith(" ")&&(jm(n),e(null,n.getURL()))}function jm(t){for(var e=t.getChildren(),r=e.length,n=r-1;n>=0;n--)t.insertAfter(e[n]);return t.remove(),e.map(function(i){return i.getLatest()})}function yq(t,e,r){re.exports.useEffect(function(){if(!t.hasNodes([mv]))throw Error("LexicalAutoLinkPlugin: AutoLinkNode, TableCellNode or TableRowNode not registered on editor");var n=function(){r&&r.apply(void 0,arguments)};return pa(t.registerNodeTransform(Io,function(i){var o=i.getParentOrThrow();v5(o)?uT(o,e,n):ko(o)||(i.isSimpleText()&&vq(i,e,n),gq(i,n))}),t.registerNodeTransform(mv,function(i){uT(i,e,n)}))},[t,e,r])}function bq(t){var e=t.matchers,r=t.onChange,n=sr(),i=Se(n,1),o=i[0];return yq(o,e,r),null}var wq=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,xq=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,kq=[function(t){var e=wq.exec(t);return e&&{index:e.index,length:e[0].length,text:e[0],url:e[0]}},function(t){var e=xq.exec(t);return e&&{index:e.index,length:e[0].length,text:e[0],url:"mailto:".concat(e[0])}}];function Cq(){return Q(bq,{matchers:kq})}function Sq(t,e){e===null?(t.style.opacity="0",t.style.top="-1000px",t.style.left="-1000px"):(t.style.opacity="1",t.style.top="".concat(e.top-8+window.pageYOffset,"px"),t.style.left="".concat(e.left+230+window.pageXOffset-t.offsetWidth+e.width/2,"px"))}function Eq(t){var e=t.editor,r=t.isLink,n=t.isBold,i=t.isItalic,o=t.isUnderline,c=t.isCode,f=t.isStrikethrough,m=re.exports.useRef(null),x=re.exports.useRef(!1),E=re.exports.useCallback(function(){r?e.dispatchCommand(Yf,null):e.dispatchCommand(Yf,"https://")},[e,r]),b=re.exports.useCallback(function(){var S=Me(),g=m.current,O=window.getSelection();if(g!==null){var C=e.getRootElement();if(S!==null&&!O.isCollapsed&&C!==null&&C.contains(O.anchorNode)){var N=O.getRangeAt(0),P;if(O.anchorNode===C){for(var D=C;D.firstElementChild!=null;)D=D.firstElementChild;P=D.getBoundingClientRect()}else P=N.getBoundingClientRect();x.current||Sq(g,P)}}},[e]);return re.exports.useEffect(function(){return pa(e.registerUpdateListener(function(S){var g=S.editorState;g.read(function(){b()})}),e.registerCommand(Es,function(){return b(),!1},$n))},[e,b]),ct("div",{ref:m,className:"character-style-popup",children:[Q("button",{onClick:function(){e.dispatchCommand(Ea,"bold")},className:"popup-item spaced "+(n?"active":""),"aria-label":"Format Bold",children:Q("i",{className:"format bold"})}),Q("button",{onClick:function(){e.dispatchCommand(Ea,"italic")},className:"popup-item spaced "+(i?"active":""),"aria-label":"Format Italics",children:Q("i",{className:"format italic"})}),Q("button",{onClick:function(){e.dispatchCommand(Ea,"underline")},className:"popup-item spaced "+(o?"active":""),"aria-label":"Format Underline",children:Q("i",{className:"format underline"})}),Q("button",{onClick:function(){e.dispatchCommand(Ea,"strikethrough")},className:"popup-item spaced "+(f?"active":""),"aria-label":"Format Strikethrough",children:Q("i",{className:"format strikethrough"})}),Q("button",{onClick:function(){e.dispatchCommand(Ea,"code")},className:"popup-item spaced "+(c?"active":""),"aria-label":"Insert Code",children:Q("i",{className:"format code"})}),Q("button",{onClick:E,className:"popup-item spaced "+(r?"active":""),"aria-label":"Insert Link",children:Q("i",{className:"format link"})})]})}function _q(t){var e=t.anchor,r=t.focus,n=t.anchor.getNode(),i=t.focus.getNode();if(n===i)return n;var o=t.isBackward();return o?i3(r)?n:i:i3(e)?i:n}function Tq(t){var e=re.exports.useState(!1),r=Se(e,2),n=r[0],i=r[1],o=re.exports.useState(!1),c=Se(o,2),f=c[0],m=c[1],x=re.exports.useState(!1),E=Se(x,2),b=E[0],S=E[1],g=re.exports.useState(!1),O=Se(g,2),C=O[0],N=O[1],P=re.exports.useState(!1),D=Se(P,2),F=D[0],I=D[1],q=re.exports.useState(!1),V=Se(q,2),te=V[0],ne=V[1],W=re.exports.useState(!1),de=Se(W,2),ie=de[0],ue=de[1];return re.exports.useEffect(function(){return t.registerUpdateListener(function(ve){var pe=ve.editorState;pe.read(function(){var xe=Me();if(!!De(xe)){var Oe=_q(xe);S(xe.hasFormat("bold")),N(xe.hasFormat("italic")),I(xe.hasFormat("underline")),ne(xe.hasFormat("strikethrough")),ue(xe.hasFormat("code"));var Fe=Oe.getParent();ko(Fe)||ko(Oe)?m(!0):m(!1),!Ul(xe.anchor.getNode())&&xe.getTextContent()!==""?i(Ue(Oe)):i(!1)}})})},[t]),!n||!f?null:Ai.exports.createPortal(Q(Eq,{editor:t,isLink:f,isBold:b,isItalic:C,isStrikethrough:te,isUnderline:F,isCode:ie}),document.body)}function Oq(){var t=sr(),e=Se(t,1),r=e[0];return Tq(r)}function Aq(t){var e=t.filter,r=t.newTab,n=r===void 0?!0:r,i=sr(),o=Se(i,1),c=o[0],f=re.exports.useRef(!1);return re.exports.useEffect(function(){var m,x;function E(g){m=g.offsetX,x=g.offsetY}function b(g){f.current=g.offsetX!==m||g.offsetY!==x}function S(g){var O=f.current;f.current=!1;var C=g,N=Mq(C,c);if(N!==null){var P=N.getAttribute("href");if(!(N.getAttribute("contenteditable")==="false"||P===void 0)){var D=null;c.update(function(){var F=ul(N);ko(F)&&(D=F)}),!(D===null||e!==void 0&&!e(C,D))&&(O||window.open(P,n||C.metaKey||C.ctrlKey?"_blank":"_self"))}}}return c.registerRootListener(function(g,O){O!==null&&(O.removeEventListener("pointerdown",E),O.removeEventListener("pointerup",b),O.removeEventListener("click",S)),g!==null&&(g.addEventListener("click",S),g.addEventListener("pointerdown",E),g.addEventListener("pointerup",b))})},[c,e,n]),null}function cT(t){return t.nodeName.toLowerCase()==="a"}function Mq(t,e){return e.getEditorState().read(function(){var r=t.target;return cT(r)?r:r.parentNode&&cT(r.parentNode)?r.parentNode:null})}function Iq(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useEffect(function(){return gK(r)},[r]),null}var K7=function(t){jr(r,t);var e=Rr(r);function r(n,i,o){var c;return ar(this,r),c=e.call(this,i,o),c.__className=n,c}return ir(r,[{key:"createDOM",value:function(i){var o=document.createElement("span"),c=Qn(Nn(r.prototype),"createDOM",this).call(this,i);return o.className=this.__className,c.className="emoji-inner",o.appendChild(c),o}},{key:"updateDOM",value:function(i,o,c){var f=o.firstChild;return f===null?!0:(Qn(Nn(r.prototype),"updateDOM",this).call(this,i,f,c),!1)}}],[{key:"getType",value:function(){return"emoji"}},{key:"clone",value:function(i){return new r(i.__className,i.__text,i.__key)}}]),r}(Io);function Dq(t,e){return new K7(t,e).setMode("token")}var fT=new Map([[":)",["emoji happysmile","\u{1F642}"]],[":D",["emoji veryhappysmile","\u{1F600}"]],[":(",["emoji unhappysmile","\u{1F641}"]],["<3",["emoji heart","\u2764"]],["\u{1F642}",["emoji happysmile","\u{1F642}"]],["\u{1F600}",["emoji veryhappysmile","\u{1F600}"]],["\u{1F641}",["emoji unhappysmile","\u{1F641}"]],["\u2764",["emoji heart","\u2764"]]]);function Lq(t){for(var e=t.getTextContent(),r=0;r<e.length;r++){var n=fT.get(e[r])||fT.get(e.slice(r,r+2));if(n!==void 0){var i=Se(n,2),o=i[0],c=i[1],f=void 0;if(r===0){var m=t.splitText(r+2),x=Se(m,1);f=x[0]}else{var E=t.splitText(r,r+2),b=Se(E,2);f=b[1]}var S=Dq(o,c);return f.replace(S),S}}return null}function Pq(t){for(var e=t;e!==null;){if(!e.isSimpleText())return;e=Lq(e)}}function Nq(t){re.exports.useEffect(function(){if(!t.hasNodes([K7]))throw new Error("EmojisPlugin: EmojiNode not registered on editor");return t.registerNodeTransform(Io,Pq)},[t])}function DL(){var t=sr(),e=Se(t,1),r=e[0];return Nq(r),null}function jq(t){var e=t.equation,r=t.setEquation,n=t.inline,i=t.inputRef,o=re.exports.useCallback(function(f){r(f.target.value)},[r]),c={equation:e,inputRef:i,onChange:o};return n?Q(Rq,xt({},c)):Q(Fq,xt({},c))}function Rq(t){var e=t.equation,r=t.onChange,n=t.inputRef;return ct("span",{className:"EquationEditor_inputBackground",children:[Q("span",{className:"EquationEditor_dollarSign",children:"$"}),Q("input",{className:"EquationEditor_inlineEditor",value:e,onChange:r,autoFocus:!0,ref:n}),Q("span",{className:"EquationEditor_dollarSign",children:"$"})]})}function Fq(t){var e=t.equation,r=t.onChange,n=t.inputRef;return ct("div",{className:"EquationEditor_inputBackground",children:[Q("span",{className:"EquationEditor_dollarSign",children:`$$
`}),Q("textarea",{className:"EquationEditor_blockEditor",value:e,onChange:r,ref:n}),Q("span",{className:"EquationEditor_dollarSign",children:`
$$`})]})}class xo{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new xo(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class al{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new al(r,xo.range(this,e))}}class st{constructor(e,r){this.position=void 0;var n="KaTeX parse error: "+e,i,o=r&&r.loc;if(o&&o.start<=o.end){var c=o.lexer.input;i=o.start;var f=o.end;i===c.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var m=c.slice(i,f).replace(/[^]/g,"$&\u0332"),x;i>15?x="\u2026"+c.slice(i-15,i):x=c.slice(0,i);var E;f+15<c.length?E=c.slice(f,f+15)+"\u2026":E=c.slice(f),n+=x+m+E}var b=new Error(n);return b.name="ParseError",b.__proto__=st.prototype,b.position=i,b}}st.prototype.__proto__=Error.prototype;var zq=function(e,r){return e.indexOf(r)!==-1},Bq=function(e,r){return e===void 0?r:e},Hq=/([A-Z])/g,Uq=function(e){return e.replace(Hq,"-$1").toLowerCase()},Kq={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Wq=/[&><"']/g;function $q(t){return String(t).replace(Wq,e=>Kq[e])}var LL=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},Gq=function(e){var r=LL(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},Vq=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},qq=function(e){var r=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return r!=null?r[1]:"_relative"},nr={contains:zq,deflt:Bq,escape:$q,hyphenate:Uq,getBaseElem:LL,isCharacterBox:Gq,protocolFromUrl:qq},y4={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Yq(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class W7{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in y4)if(y4.hasOwnProperty(r)){var n=y4[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:Yq(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new st("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=nr.protocolFromUrl(e.url));var r=typeof this.trust=="function"?this.trust(e):this.trust;return Boolean(r)}}class Lc{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return ws[Xq[this.id]]}sub(){return ws[Zq[this.id]]}fracNum(){return ws[Qq[this.id]]}fracDen(){return ws[Jq[this.id]]}cramp(){return ws[eY[this.id]]}text(){return ws[tY[this.id]]}isTight(){return this.size>=2}}var $7=0,w3=1,ep=2,Au=3,_v=4,il=5,kp=6,_i=7,ws=[new Lc($7,0,!1),new Lc(w3,0,!0),new Lc(ep,1,!1),new Lc(Au,1,!0),new Lc(_v,2,!1),new Lc(il,2,!0),new Lc(kp,3,!1),new Lc(_i,3,!0)],Xq=[_v,il,_v,il,kp,_i,kp,_i],Zq=[il,il,il,il,_i,_i,_i,_i],Qq=[ep,Au,_v,il,kp,_i,kp,_i],Jq=[Au,Au,il,il,_i,_i,_i,_i],eY=[w3,w3,Au,Au,il,il,_i,_i],tY=[$7,w3,ep,Au,ep,Au,ep,Au],Xt={DISPLAY:ws[$7],TEXT:ws[ep],SCRIPT:ws[_v],SCRIPTSCRIPT:ws[kp]},M5=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function rY(t){for(var e=0;e<M5.length;e++)for(var r=M5[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var b4=[];M5.forEach(t=>t.blocks.forEach(e=>b4.push(...e)));function PL(t){for(var e=0;e<b4.length;e+=2)if(t>=b4[e]&&t<=b4[e+1])return!0;return!1}var _h=80,nY=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},aY=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},iY=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},oY=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},lY=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},sY=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},uY=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},cY=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=nY(r,_h);break;case"sqrtSize1":i=aY(r,_h);break;case"sqrtSize2":i=iY(r,_h);break;case"sqrtSize3":i=oY(r,_h);break;case"sqrtSize4":i=lY(r,_h);break;case"sqrtTall":i=uY(r,_h,n)}return i},fY=function(e,r){switch(e){case"\u239C":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"\u2223":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"\u2225":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"\u239F":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"\u23A2":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"\u23A5":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"\u23AA":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"\u23D0":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"\u2016":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},dT={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};class Vv{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return nr.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var Ts={"AMS-Regular":{"32":[0,0,0,0,.25],"65":[0,.68889,0,0,.72222],"66":[0,.68889,0,0,.66667],"67":[0,.68889,0,0,.72222],"68":[0,.68889,0,0,.72222],"69":[0,.68889,0,0,.66667],"70":[0,.68889,0,0,.61111],"71":[0,.68889,0,0,.77778],"72":[0,.68889,0,0,.77778],"73":[0,.68889,0,0,.38889],"74":[.16667,.68889,0,0,.5],"75":[0,.68889,0,0,.77778],"76":[0,.68889,0,0,.66667],"77":[0,.68889,0,0,.94445],"78":[0,.68889,0,0,.72222],"79":[.16667,.68889,0,0,.77778],"80":[0,.68889,0,0,.61111],"81":[.16667,.68889,0,0,.77778],"82":[0,.68889,0,0,.72222],"83":[0,.68889,0,0,.55556],"84":[0,.68889,0,0,.66667],"85":[0,.68889,0,0,.72222],"86":[0,.68889,0,0,.72222],"87":[0,.68889,0,0,1],"88":[0,.68889,0,0,.72222],"89":[0,.68889,0,0,.72222],"90":[0,.68889,0,0,.66667],"107":[0,.68889,0,0,.55556],"160":[0,0,0,0,.25],"165":[0,.675,.025,0,.75],"174":[.15559,.69224,0,0,.94666],"240":[0,.68889,0,0,.55556],"295":[0,.68889,0,0,.54028],"710":[0,.825,0,0,2.33334],"732":[0,.9,0,0,2.33334],"770":[0,.825,0,0,2.33334],"771":[0,.9,0,0,2.33334],"989":[.08167,.58167,0,0,.77778],"1008":[0,.43056,.04028,0,.66667],"8245":[0,.54986,0,0,.275],"8463":[0,.68889,0,0,.54028],"8487":[0,.68889,0,0,.72222],"8498":[0,.68889,0,0,.55556],"8502":[0,.68889,0,0,.66667],"8503":[0,.68889,0,0,.44445],"8504":[0,.68889,0,0,.66667],"8513":[0,.68889,0,0,.63889],"8592":[-.03598,.46402,0,0,.5],"8594":[-.03598,.46402,0,0,.5],"8602":[-.13313,.36687,0,0,1],"8603":[-.13313,.36687,0,0,1],"8606":[.01354,.52239,0,0,1],"8608":[.01354,.52239,0,0,1],"8610":[.01354,.52239,0,0,1.11111],"8611":[.01354,.52239,0,0,1.11111],"8619":[0,.54986,0,0,1],"8620":[0,.54986,0,0,1],"8621":[-.13313,.37788,0,0,1.38889],"8622":[-.13313,.36687,0,0,1],"8624":[0,.69224,0,0,.5],"8625":[0,.69224,0,0,.5],"8630":[0,.43056,0,0,1],"8631":[0,.43056,0,0,1],"8634":[.08198,.58198,0,0,.77778],"8635":[.08198,.58198,0,0,.77778],"8638":[.19444,.69224,0,0,.41667],"8639":[.19444,.69224,0,0,.41667],"8642":[.19444,.69224,0,0,.41667],"8643":[.19444,.69224,0,0,.41667],"8644":[.1808,.675,0,0,1],"8646":[.1808,.675,0,0,1],"8647":[.1808,.675,0,0,1],"8648":[.19444,.69224,0,0,.83334],"8649":[.1808,.675,0,0,1],"8650":[.19444,.69224,0,0,.83334],"8651":[.01354,.52239,0,0,1],"8652":[.01354,.52239,0,0,1],"8653":[-.13313,.36687,0,0,1],"8654":[-.13313,.36687,0,0,1],"8655":[-.13313,.36687,0,0,1],"8666":[.13667,.63667,0,0,1],"8667":[.13667,.63667,0,0,1],"8669":[-.13313,.37788,0,0,1],"8672":[-.064,.437,0,0,1.334],"8674":[-.064,.437,0,0,1.334],"8705":[0,.825,0,0,.5],"8708":[0,.68889,0,0,.55556],"8709":[.08167,.58167,0,0,.77778],"8717":[0,.43056,0,0,.42917],"8722":[-.03598,.46402,0,0,.5],"8724":[.08198,.69224,0,0,.77778],"8726":[.08167,.58167,0,0,.77778],"8733":[0,.69224,0,0,.77778],"8736":[0,.69224,0,0,.72222],"8737":[0,.69224,0,0,.72222],"8738":[.03517,.52239,0,0,.72222],"8739":[.08167,.58167,0,0,.22222],"8740":[.25142,.74111,0,0,.27778],"8741":[.08167,.58167,0,0,.38889],"8742":[.25142,.74111,0,0,.5],"8756":[0,.69224,0,0,.66667],"8757":[0,.69224,0,0,.66667],"8764":[-.13313,.36687,0,0,.77778],"8765":[-.13313,.37788,0,0,.77778],"8769":[-.13313,.36687,0,0,.77778],"8770":[-.03625,.46375,0,0,.77778],"8774":[.30274,.79383,0,0,.77778],"8776":[-.01688,.48312,0,0,.77778],"8778":[.08167,.58167,0,0,.77778],"8782":[.06062,.54986,0,0,.77778],"8783":[.06062,.54986,0,0,.77778],"8785":[.08198,.58198,0,0,.77778],"8786":[.08198,.58198,0,0,.77778],"8787":[.08198,.58198,0,0,.77778],"8790":[0,.69224,0,0,.77778],"8791":[.22958,.72958,0,0,.77778],"8796":[.08198,.91667,0,0,.77778],"8806":[.25583,.75583,0,0,.77778],"8807":[.25583,.75583,0,0,.77778],"8808":[.25142,.75726,0,0,.77778],"8809":[.25142,.75726,0,0,.77778],"8812":[.25583,.75583,0,0,.5],"8814":[.20576,.70576,0,0,.77778],"8815":[.20576,.70576,0,0,.77778],"8816":[.30274,.79383,0,0,.77778],"8817":[.30274,.79383,0,0,.77778],"8818":[.22958,.72958,0,0,.77778],"8819":[.22958,.72958,0,0,.77778],"8822":[.1808,.675,0,0,.77778],"8823":[.1808,.675,0,0,.77778],"8828":[.13667,.63667,0,0,.77778],"8829":[.13667,.63667,0,0,.77778],"8830":[.22958,.72958,0,0,.77778],"8831":[.22958,.72958,0,0,.77778],"8832":[.20576,.70576,0,0,.77778],"8833":[.20576,.70576,0,0,.77778],"8840":[.30274,.79383,0,0,.77778],"8841":[.30274,.79383,0,0,.77778],"8842":[.13597,.63597,0,0,.77778],"8843":[.13597,.63597,0,0,.77778],"8847":[.03517,.54986,0,0,.77778],"8848":[.03517,.54986,0,0,.77778],"8858":[.08198,.58198,0,0,.77778],"8859":[.08198,.58198,0,0,.77778],"8861":[.08198,.58198,0,0,.77778],"8862":[0,.675,0,0,.77778],"8863":[0,.675,0,0,.77778],"8864":[0,.675,0,0,.77778],"8865":[0,.675,0,0,.77778],"8872":[0,.69224,0,0,.61111],"8873":[0,.69224,0,0,.72222],"8874":[0,.69224,0,0,.88889],"8876":[0,.68889,0,0,.61111],"8877":[0,.68889,0,0,.61111],"8878":[0,.68889,0,0,.72222],"8879":[0,.68889,0,0,.72222],"8882":[.03517,.54986,0,0,.77778],"8883":[.03517,.54986,0,0,.77778],"8884":[.13667,.63667,0,0,.77778],"8885":[.13667,.63667,0,0,.77778],"8888":[0,.54986,0,0,1.11111],"8890":[.19444,.43056,0,0,.55556],"8891":[.19444,.69224,0,0,.61111],"8892":[.19444,.69224,0,0,.61111],"8901":[0,.54986,0,0,.27778],"8903":[.08167,.58167,0,0,.77778],"8905":[.08167,.58167,0,0,.77778],"8906":[.08167,.58167,0,0,.77778],"8907":[0,.69224,0,0,.77778],"8908":[0,.69224,0,0,.77778],"8909":[-.03598,.46402,0,0,.77778],"8910":[0,.54986,0,0,.76042],"8911":[0,.54986,0,0,.76042],"8912":[.03517,.54986,0,0,.77778],"8913":[.03517,.54986,0,0,.77778],"8914":[0,.54986,0,0,.66667],"8915":[0,.54986,0,0,.66667],"8916":[0,.69224,0,0,.66667],"8918":[.0391,.5391,0,0,.77778],"8919":[.0391,.5391,0,0,.77778],"8920":[.03517,.54986,0,0,1.33334],"8921":[.03517,.54986,0,0,1.33334],"8922":[.38569,.88569,0,0,.77778],"8923":[.38569,.88569,0,0,.77778],"8926":[.13667,.63667,0,0,.77778],"8927":[.13667,.63667,0,0,.77778],"8928":[.30274,.79383,0,0,.77778],"8929":[.30274,.79383,0,0,.77778],"8934":[.23222,.74111,0,0,.77778],"8935":[.23222,.74111,0,0,.77778],"8936":[.23222,.74111,0,0,.77778],"8937":[.23222,.74111,0,0,.77778],"8938":[.20576,.70576,0,0,.77778],"8939":[.20576,.70576,0,0,.77778],"8940":[.30274,.79383,0,0,.77778],"8941":[.30274,.79383,0,0,.77778],"8994":[.19444,.69224,0,0,.77778],"8995":[.19444,.69224,0,0,.77778],"9416":[.15559,.69224,0,0,.90222],"9484":[0,.69224,0,0,.5],"9488":[0,.69224,0,0,.5],"9492":[0,.37788,0,0,.5],"9496":[0,.37788,0,0,.5],"9585":[.19444,.68889,0,0,.88889],"9586":[.19444,.74111,0,0,.88889],"9632":[0,.675,0,0,.77778],"9633":[0,.675,0,0,.77778],"9650":[0,.54986,0,0,.72222],"9651":[0,.54986,0,0,.72222],"9654":[.03517,.54986,0,0,.77778],"9660":[0,.54986,0,0,.72222],"9661":[0,.54986,0,0,.72222],"9664":[.03517,.54986,0,0,.77778],"9674":[.11111,.69224,0,0,.66667],"9733":[.19444,.69224,0,0,.94445],"10003":[0,.69224,0,0,.83334],"10016":[0,.69224,0,0,.83334],"10731":[.11111,.69224,0,0,.66667],"10846":[.19444,.75583,0,0,.61111],"10877":[.13667,.63667,0,0,.77778],"10878":[.13667,.63667,0,0,.77778],"10885":[.25583,.75583,0,0,.77778],"10886":[.25583,.75583,0,0,.77778],"10887":[.13597,.63597,0,0,.77778],"10888":[.13597,.63597,0,0,.77778],"10889":[.26167,.75726,0,0,.77778],"10890":[.26167,.75726,0,0,.77778],"10891":[.48256,.98256,0,0,.77778],"10892":[.48256,.98256,0,0,.77778],"10901":[.13667,.63667,0,0,.77778],"10902":[.13667,.63667,0,0,.77778],"10933":[.25142,.75726,0,0,.77778],"10934":[.25142,.75726,0,0,.77778],"10935":[.26167,.75726,0,0,.77778],"10936":[.26167,.75726,0,0,.77778],"10937":[.26167,.75726,0,0,.77778],"10938":[.26167,.75726,0,0,.77778],"10949":[.25583,.75583,0,0,.77778],"10950":[.25583,.75583,0,0,.77778],"10955":[.28481,.79383,0,0,.77778],"10956":[.28481,.79383,0,0,.77778],"57350":[.08167,.58167,0,0,.22222],"57351":[.08167,.58167,0,0,.38889],"57352":[.08167,.58167,0,0,.77778],"57353":[0,.43056,.04028,0,.66667],"57356":[.25142,.75726,0,0,.77778],"57357":[.25142,.75726,0,0,.77778],"57358":[.41951,.91951,0,0,.77778],"57359":[.30274,.79383,0,0,.77778],"57360":[.30274,.79383,0,0,.77778],"57361":[.41951,.91951,0,0,.77778],"57366":[.25142,.75726,0,0,.77778],"57367":[.25142,.75726,0,0,.77778],"57368":[.25142,.75726,0,0,.77778],"57369":[.25142,.75726,0,0,.77778],"57370":[.13597,.63597,0,0,.77778],"57371":[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{"32":[0,0,0,0,.25],"65":[0,.68333,0,.19445,.79847],"66":[0,.68333,.03041,.13889,.65681],"67":[0,.68333,.05834,.13889,.52653],"68":[0,.68333,.02778,.08334,.77139],"69":[0,.68333,.08944,.11111,.52778],"70":[0,.68333,.09931,.11111,.71875],"71":[.09722,.68333,.0593,.11111,.59487],"72":[0,.68333,.00965,.11111,.84452],"73":[0,.68333,.07382,0,.54452],"74":[.09722,.68333,.18472,.16667,.67778],"75":[0,.68333,.01445,.05556,.76195],"76":[0,.68333,0,.13889,.68972],"77":[0,.68333,0,.13889,1.2009],"78":[0,.68333,.14736,.08334,.82049],"79":[0,.68333,.02778,.11111,.79611],"80":[0,.68333,.08222,.08334,.69556],"81":[.09722,.68333,0,.11111,.81667],"82":[0,.68333,0,.08334,.8475],"83":[0,.68333,.075,.13889,.60556],"84":[0,.68333,.25417,0,.54464],"85":[0,.68333,.09931,.08334,.62583],"86":[0,.68333,.08222,0,.61278],"87":[0,.68333,.08222,.08334,.98778],"88":[0,.68333,.14643,.13889,.7133],"89":[.09722,.68333,.08222,.08334,.66834],"90":[0,.68333,.07944,.13889,.72473],"160":[0,0,0,0,.25]},"Fraktur-Regular":{"32":[0,0,0,0,.25],"33":[0,.69141,0,0,.29574],"34":[0,.69141,0,0,.21471],"38":[0,.69141,0,0,.73786],"39":[0,.69141,0,0,.21201],"40":[.24982,.74947,0,0,.38865],"41":[.24982,.74947,0,0,.38865],"42":[0,.62119,0,0,.27764],"43":[.08319,.58283,0,0,.75623],"44":[0,.10803,0,0,.27764],"45":[.08319,.58283,0,0,.75623],"46":[0,.10803,0,0,.27764],"47":[.24982,.74947,0,0,.50181],"48":[0,.47534,0,0,.50181],"49":[0,.47534,0,0,.50181],"50":[0,.47534,0,0,.50181],"51":[.18906,.47534,0,0,.50181],"52":[.18906,.47534,0,0,.50181],"53":[.18906,.47534,0,0,.50181],"54":[0,.69141,0,0,.50181],"55":[.18906,.47534,0,0,.50181],"56":[0,.69141,0,0,.50181],"57":[.18906,.47534,0,0,.50181],"58":[0,.47534,0,0,.21606],"59":[.12604,.47534,0,0,.21606],"61":[-.13099,.36866,0,0,.75623],"63":[0,.69141,0,0,.36245],"65":[0,.69141,0,0,.7176],"66":[0,.69141,0,0,.88397],"67":[0,.69141,0,0,.61254],"68":[0,.69141,0,0,.83158],"69":[0,.69141,0,0,.66278],"70":[.12604,.69141,0,0,.61119],"71":[0,.69141,0,0,.78539],"72":[.06302,.69141,0,0,.7203],"73":[0,.69141,0,0,.55448],"74":[.12604,.69141,0,0,.55231],"75":[0,.69141,0,0,.66845],"76":[0,.69141,0,0,.66602],"77":[0,.69141,0,0,1.04953],"78":[0,.69141,0,0,.83212],"79":[0,.69141,0,0,.82699],"80":[.18906,.69141,0,0,.82753],"81":[.03781,.69141,0,0,.82699],"82":[0,.69141,0,0,.82807],"83":[0,.69141,0,0,.82861],"84":[0,.69141,0,0,.66899],"85":[0,.69141,0,0,.64576],"86":[0,.69141,0,0,.83131],"87":[0,.69141,0,0,1.04602],"88":[0,.69141,0,0,.71922],"89":[.18906,.69141,0,0,.83293],"90":[.12604,.69141,0,0,.60201],"91":[.24982,.74947,0,0,.27764],"93":[.24982,.74947,0,0,.27764],"94":[0,.69141,0,0,.49965],"97":[0,.47534,0,0,.50046],"98":[0,.69141,0,0,.51315],"99":[0,.47534,0,0,.38946],"100":[0,.62119,0,0,.49857],"101":[0,.47534,0,0,.40053],"102":[.18906,.69141,0,0,.32626],"103":[.18906,.47534,0,0,.5037],"104":[.18906,.69141,0,0,.52126],"105":[0,.69141,0,0,.27899],"106":[0,.69141,0,0,.28088],"107":[0,.69141,0,0,.38946],"108":[0,.69141,0,0,.27953],"109":[0,.47534,0,0,.76676],"110":[0,.47534,0,0,.52666],"111":[0,.47534,0,0,.48885],"112":[.18906,.52396,0,0,.50046],"113":[.18906,.47534,0,0,.48912],"114":[0,.47534,0,0,.38919],"115":[0,.47534,0,0,.44266],"116":[0,.62119,0,0,.33301],"117":[0,.47534,0,0,.5172],"118":[0,.52396,0,0,.5118],"119":[0,.52396,0,0,.77351],"120":[.18906,.47534,0,0,.38865],"121":[.18906,.47534,0,0,.49884],"122":[.18906,.47534,0,0,.39054],"160":[0,0,0,0,.25],"8216":[0,.69141,0,0,.21471],"8217":[0,.69141,0,0,.21471],"58112":[0,.62119,0,0,.49749],"58113":[0,.62119,0,0,.4983],"58114":[.18906,.69141,0,0,.33328],"58115":[.18906,.69141,0,0,.32923],"58116":[.18906,.47534,0,0,.50343],"58117":[0,.69141,0,0,.33301],"58118":[0,.62119,0,0,.33409],"58119":[0,.47534,0,0,.50073]},"Main-Bold":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.35],"34":[0,.69444,0,0,.60278],"35":[.19444,.69444,0,0,.95833],"36":[.05556,.75,0,0,.575],"37":[.05556,.75,0,0,.95833],"38":[0,.69444,0,0,.89444],"39":[0,.69444,0,0,.31944],"40":[.25,.75,0,0,.44722],"41":[.25,.75,0,0,.44722],"42":[0,.75,0,0,.575],"43":[.13333,.63333,0,0,.89444],"44":[.19444,.15556,0,0,.31944],"45":[0,.44444,0,0,.38333],"46":[0,.15556,0,0,.31944],"47":[.25,.75,0,0,.575],"48":[0,.64444,0,0,.575],"49":[0,.64444,0,0,.575],"50":[0,.64444,0,0,.575],"51":[0,.64444,0,0,.575],"52":[0,.64444,0,0,.575],"53":[0,.64444,0,0,.575],"54":[0,.64444,0,0,.575],"55":[0,.64444,0,0,.575],"56":[0,.64444,0,0,.575],"57":[0,.64444,0,0,.575],"58":[0,.44444,0,0,.31944],"59":[.19444,.44444,0,0,.31944],"60":[.08556,.58556,0,0,.89444],"61":[-.10889,.39111,0,0,.89444],"62":[.08556,.58556,0,0,.89444],"63":[0,.69444,0,0,.54305],"64":[0,.69444,0,0,.89444],"65":[0,.68611,0,0,.86944],"66":[0,.68611,0,0,.81805],"67":[0,.68611,0,0,.83055],"68":[0,.68611,0,0,.88194],"69":[0,.68611,0,0,.75555],"70":[0,.68611,0,0,.72361],"71":[0,.68611,0,0,.90416],"72":[0,.68611,0,0,.9],"73":[0,.68611,0,0,.43611],"74":[0,.68611,0,0,.59444],"75":[0,.68611,0,0,.90138],"76":[0,.68611,0,0,.69166],"77":[0,.68611,0,0,1.09166],"78":[0,.68611,0,0,.9],"79":[0,.68611,0,0,.86388],"80":[0,.68611,0,0,.78611],"81":[.19444,.68611,0,0,.86388],"82":[0,.68611,0,0,.8625],"83":[0,.68611,0,0,.63889],"84":[0,.68611,0,0,.8],"85":[0,.68611,0,0,.88472],"86":[0,.68611,.01597,0,.86944],"87":[0,.68611,.01597,0,1.18888],"88":[0,.68611,0,0,.86944],"89":[0,.68611,.02875,0,.86944],"90":[0,.68611,0,0,.70277],"91":[.25,.75,0,0,.31944],"92":[.25,.75,0,0,.575],"93":[.25,.75,0,0,.31944],"94":[0,.69444,0,0,.575],"95":[.31,.13444,.03194,0,.575],"97":[0,.44444,0,0,.55902],"98":[0,.69444,0,0,.63889],"99":[0,.44444,0,0,.51111],"100":[0,.69444,0,0,.63889],"101":[0,.44444,0,0,.52708],"102":[0,.69444,.10903,0,.35139],"103":[.19444,.44444,.01597,0,.575],"104":[0,.69444,0,0,.63889],"105":[0,.69444,0,0,.31944],"106":[.19444,.69444,0,0,.35139],"107":[0,.69444,0,0,.60694],"108":[0,.69444,0,0,.31944],"109":[0,.44444,0,0,.95833],"110":[0,.44444,0,0,.63889],"111":[0,.44444,0,0,.575],"112":[.19444,.44444,0,0,.63889],"113":[.19444,.44444,0,0,.60694],"114":[0,.44444,0,0,.47361],"115":[0,.44444,0,0,.45361],"116":[0,.63492,0,0,.44722],"117":[0,.44444,0,0,.63889],"118":[0,.44444,.01597,0,.60694],"119":[0,.44444,.01597,0,.83055],"120":[0,.44444,0,0,.60694],"121":[.19444,.44444,.01597,0,.60694],"122":[0,.44444,0,0,.51111],"123":[.25,.75,0,0,.575],"124":[.25,.75,0,0,.31944],"125":[.25,.75,0,0,.575],"126":[.35,.34444,0,0,.575],"160":[0,0,0,0,.25],"163":[0,.69444,0,0,.86853],"168":[0,.69444,0,0,.575],"172":[0,.44444,0,0,.76666],"176":[0,.69444,0,0,.86944],"177":[.13333,.63333,0,0,.89444],"184":[.17014,0,0,0,.51111],"198":[0,.68611,0,0,1.04166],"215":[.13333,.63333,0,0,.89444],"216":[.04861,.73472,0,0,.89444],"223":[0,.69444,0,0,.59722],"230":[0,.44444,0,0,.83055],"247":[.13333,.63333,0,0,.89444],"248":[.09722,.54167,0,0,.575],"305":[0,.44444,0,0,.31944],"338":[0,.68611,0,0,1.16944],"339":[0,.44444,0,0,.89444],"567":[.19444,.44444,0,0,.35139],"710":[0,.69444,0,0,.575],"711":[0,.63194,0,0,.575],"713":[0,.59611,0,0,.575],"714":[0,.69444,0,0,.575],"715":[0,.69444,0,0,.575],"728":[0,.69444,0,0,.575],"729":[0,.69444,0,0,.31944],"730":[0,.69444,0,0,.86944],"732":[0,.69444,0,0,.575],"733":[0,.69444,0,0,.575],"915":[0,.68611,0,0,.69166],"916":[0,.68611,0,0,.95833],"920":[0,.68611,0,0,.89444],"923":[0,.68611,0,0,.80555],"926":[0,.68611,0,0,.76666],"928":[0,.68611,0,0,.9],"931":[0,.68611,0,0,.83055],"933":[0,.68611,0,0,.89444],"934":[0,.68611,0,0,.83055],"936":[0,.68611,0,0,.89444],"937":[0,.68611,0,0,.83055],"8211":[0,.44444,.03194,0,.575],"8212":[0,.44444,.03194,0,1.14999],"8216":[0,.69444,0,0,.31944],"8217":[0,.69444,0,0,.31944],"8220":[0,.69444,0,0,.60278],"8221":[0,.69444,0,0,.60278],"8224":[.19444,.69444,0,0,.51111],"8225":[.19444,.69444,0,0,.51111],"8242":[0,.55556,0,0,.34444],"8407":[0,.72444,.15486,0,.575],"8463":[0,.69444,0,0,.66759],"8465":[0,.69444,0,0,.83055],"8467":[0,.69444,0,0,.47361],"8472":[.19444,.44444,0,0,.74027],"8476":[0,.69444,0,0,.83055],"8501":[0,.69444,0,0,.70277],"8592":[-.10889,.39111,0,0,1.14999],"8593":[.19444,.69444,0,0,.575],"8594":[-.10889,.39111,0,0,1.14999],"8595":[.19444,.69444,0,0,.575],"8596":[-.10889,.39111,0,0,1.14999],"8597":[.25,.75,0,0,.575],"8598":[.19444,.69444,0,0,1.14999],"8599":[.19444,.69444,0,0,1.14999],"8600":[.19444,.69444,0,0,1.14999],"8601":[.19444,.69444,0,0,1.14999],"8636":[-.10889,.39111,0,0,1.14999],"8637":[-.10889,.39111,0,0,1.14999],"8640":[-.10889,.39111,0,0,1.14999],"8641":[-.10889,.39111,0,0,1.14999],"8656":[-.10889,.39111,0,0,1.14999],"8657":[.19444,.69444,0,0,.70277],"8658":[-.10889,.39111,0,0,1.14999],"8659":[.19444,.69444,0,0,.70277],"8660":[-.10889,.39111,0,0,1.14999],"8661":[.25,.75,0,0,.70277],"8704":[0,.69444,0,0,.63889],"8706":[0,.69444,.06389,0,.62847],"8707":[0,.69444,0,0,.63889],"8709":[.05556,.75,0,0,.575],"8711":[0,.68611,0,0,.95833],"8712":[.08556,.58556,0,0,.76666],"8715":[.08556,.58556,0,0,.76666],"8722":[.13333,.63333,0,0,.89444],"8723":[.13333,.63333,0,0,.89444],"8725":[.25,.75,0,0,.575],"8726":[.25,.75,0,0,.575],"8727":[-.02778,.47222,0,0,.575],"8728":[-.02639,.47361,0,0,.575],"8729":[-.02639,.47361,0,0,.575],"8730":[.18,.82,0,0,.95833],"8733":[0,.44444,0,0,.89444],"8734":[0,.44444,0,0,1.14999],"8736":[0,.69224,0,0,.72222],"8739":[.25,.75,0,0,.31944],"8741":[.25,.75,0,0,.575],"8743":[0,.55556,0,0,.76666],"8744":[0,.55556,0,0,.76666],"8745":[0,.55556,0,0,.76666],"8746":[0,.55556,0,0,.76666],"8747":[.19444,.69444,.12778,0,.56875],"8764":[-.10889,.39111,0,0,.89444],"8768":[.19444,.69444,0,0,.31944],"8771":[.00222,.50222,0,0,.89444],"8773":[.027,.638,0,0,.894],"8776":[.02444,.52444,0,0,.89444],"8781":[.00222,.50222,0,0,.89444],"8801":[.00222,.50222,0,0,.89444],"8804":[.19667,.69667,0,0,.89444],"8805":[.19667,.69667,0,0,.89444],"8810":[.08556,.58556,0,0,1.14999],"8811":[.08556,.58556,0,0,1.14999],"8826":[.08556,.58556,0,0,.89444],"8827":[.08556,.58556,0,0,.89444],"8834":[.08556,.58556,0,0,.89444],"8835":[.08556,.58556,0,0,.89444],"8838":[.19667,.69667,0,0,.89444],"8839":[.19667,.69667,0,0,.89444],"8846":[0,.55556,0,0,.76666],"8849":[.19667,.69667,0,0,.89444],"8850":[.19667,.69667,0,0,.89444],"8851":[0,.55556,0,0,.76666],"8852":[0,.55556,0,0,.76666],"8853":[.13333,.63333,0,0,.89444],"8854":[.13333,.63333,0,0,.89444],"8855":[.13333,.63333,0,0,.89444],"8856":[.13333,.63333,0,0,.89444],"8857":[.13333,.63333,0,0,.89444],"8866":[0,.69444,0,0,.70277],"8867":[0,.69444,0,0,.70277],"8868":[0,.69444,0,0,.89444],"8869":[0,.69444,0,0,.89444],"8900":[-.02639,.47361,0,0,.575],"8901":[-.02639,.47361,0,0,.31944],"8902":[-.02778,.47222,0,0,.575],"8968":[.25,.75,0,0,.51111],"8969":[.25,.75,0,0,.51111],"8970":[.25,.75,0,0,.51111],"8971":[.25,.75,0,0,.51111],"8994":[-.13889,.36111,0,0,1.14999],"8995":[-.13889,.36111,0,0,1.14999],"9651":[.19444,.69444,0,0,1.02222],"9657":[-.02778,.47222,0,0,.575],"9661":[.19444,.69444,0,0,1.02222],"9667":[-.02778,.47222,0,0,.575],"9711":[.19444,.69444,0,0,1.14999],"9824":[.12963,.69444,0,0,.89444],"9825":[.12963,.69444,0,0,.89444],"9826":[.12963,.69444,0,0,.89444],"9827":[.12963,.69444,0,0,.89444],"9837":[0,.75,0,0,.44722],"9838":[.19444,.69444,0,0,.44722],"9839":[.19444,.69444,0,0,.44722],"10216":[.25,.75,0,0,.44722],"10217":[.25,.75,0,0,.44722],"10815":[0,.68611,0,0,.9],"10927":[.19667,.69667,0,0,.89444],"10928":[.19667,.69667,0,0,.89444],"57376":[.19444,.69444,0,0,0]},"Main-BoldItalic":{"32":[0,0,0,0,.25],"33":[0,.69444,.11417,0,.38611],"34":[0,.69444,.07939,0,.62055],"35":[.19444,.69444,.06833,0,.94444],"37":[.05556,.75,.12861,0,.94444],"38":[0,.69444,.08528,0,.88555],"39":[0,.69444,.12945,0,.35555],"40":[.25,.75,.15806,0,.47333],"41":[.25,.75,.03306,0,.47333],"42":[0,.75,.14333,0,.59111],"43":[.10333,.60333,.03306,0,.88555],"44":[.19444,.14722,0,0,.35555],"45":[0,.44444,.02611,0,.41444],"46":[0,.14722,0,0,.35555],"47":[.25,.75,.15806,0,.59111],"48":[0,.64444,.13167,0,.59111],"49":[0,.64444,.13167,0,.59111],"50":[0,.64444,.13167,0,.59111],"51":[0,.64444,.13167,0,.59111],"52":[.19444,.64444,.13167,0,.59111],"53":[0,.64444,.13167,0,.59111],"54":[0,.64444,.13167,0,.59111],"55":[.19444,.64444,.13167,0,.59111],"56":[0,.64444,.13167,0,.59111],"57":[0,.64444,.13167,0,.59111],"58":[0,.44444,.06695,0,.35555],"59":[.19444,.44444,.06695,0,.35555],"61":[-.10889,.39111,.06833,0,.88555],"63":[0,.69444,.11472,0,.59111],"64":[0,.69444,.09208,0,.88555],"65":[0,.68611,0,0,.86555],"66":[0,.68611,.0992,0,.81666],"67":[0,.68611,.14208,0,.82666],"68":[0,.68611,.09062,0,.87555],"69":[0,.68611,.11431,0,.75666],"70":[0,.68611,.12903,0,.72722],"71":[0,.68611,.07347,0,.89527],"72":[0,.68611,.17208,0,.8961],"73":[0,.68611,.15681,0,.47166],"74":[0,.68611,.145,0,.61055],"75":[0,.68611,.14208,0,.89499],"76":[0,.68611,0,0,.69777],"77":[0,.68611,.17208,0,1.07277],"78":[0,.68611,.17208,0,.8961],"79":[0,.68611,.09062,0,.85499],"80":[0,.68611,.0992,0,.78721],"81":[.19444,.68611,.09062,0,.85499],"82":[0,.68611,.02559,0,.85944],"83":[0,.68611,.11264,0,.64999],"84":[0,.68611,.12903,0,.7961],"85":[0,.68611,.17208,0,.88083],"86":[0,.68611,.18625,0,.86555],"87":[0,.68611,.18625,0,1.15999],"88":[0,.68611,.15681,0,.86555],"89":[0,.68611,.19803,0,.86555],"90":[0,.68611,.14208,0,.70888],"91":[.25,.75,.1875,0,.35611],"93":[.25,.75,.09972,0,.35611],"94":[0,.69444,.06709,0,.59111],"95":[.31,.13444,.09811,0,.59111],"97":[0,.44444,.09426,0,.59111],"98":[0,.69444,.07861,0,.53222],"99":[0,.44444,.05222,0,.53222],"100":[0,.69444,.10861,0,.59111],"101":[0,.44444,.085,0,.53222],"102":[.19444,.69444,.21778,0,.4],"103":[.19444,.44444,.105,0,.53222],"104":[0,.69444,.09426,0,.59111],"105":[0,.69326,.11387,0,.35555],"106":[.19444,.69326,.1672,0,.35555],"107":[0,.69444,.11111,0,.53222],"108":[0,.69444,.10861,0,.29666],"109":[0,.44444,.09426,0,.94444],"110":[0,.44444,.09426,0,.64999],"111":[0,.44444,.07861,0,.59111],"112":[.19444,.44444,.07861,0,.59111],"113":[.19444,.44444,.105,0,.53222],"114":[0,.44444,.11111,0,.50167],"115":[0,.44444,.08167,0,.48694],"116":[0,.63492,.09639,0,.385],"117":[0,.44444,.09426,0,.62055],"118":[0,.44444,.11111,0,.53222],"119":[0,.44444,.11111,0,.76777],"120":[0,.44444,.12583,0,.56055],"121":[.19444,.44444,.105,0,.56166],"122":[0,.44444,.13889,0,.49055],"126":[.35,.34444,.11472,0,.59111],"160":[0,0,0,0,.25],"168":[0,.69444,.11473,0,.59111],"176":[0,.69444,0,0,.94888],"184":[.17014,0,0,0,.53222],"198":[0,.68611,.11431,0,1.02277],"216":[.04861,.73472,.09062,0,.88555],"223":[.19444,.69444,.09736,0,.665],"230":[0,.44444,.085,0,.82666],"248":[.09722,.54167,.09458,0,.59111],"305":[0,.44444,.09426,0,.35555],"338":[0,.68611,.11431,0,1.14054],"339":[0,.44444,.085,0,.82666],"567":[.19444,.44444,.04611,0,.385],"710":[0,.69444,.06709,0,.59111],"711":[0,.63194,.08271,0,.59111],"713":[0,.59444,.10444,0,.59111],"714":[0,.69444,.08528,0,.59111],"715":[0,.69444,0,0,.59111],"728":[0,.69444,.10333,0,.59111],"729":[0,.69444,.12945,0,.35555],"730":[0,.69444,0,0,.94888],"732":[0,.69444,.11472,0,.59111],"733":[0,.69444,.11472,0,.59111],"915":[0,.68611,.12903,0,.69777],"916":[0,.68611,0,0,.94444],"920":[0,.68611,.09062,0,.88555],"923":[0,.68611,0,0,.80666],"926":[0,.68611,.15092,0,.76777],"928":[0,.68611,.17208,0,.8961],"931":[0,.68611,.11431,0,.82666],"933":[0,.68611,.10778,0,.88555],"934":[0,.68611,.05632,0,.82666],"936":[0,.68611,.10778,0,.88555],"937":[0,.68611,.0992,0,.82666],"8211":[0,.44444,.09811,0,.59111],"8212":[0,.44444,.09811,0,1.18221],"8216":[0,.69444,.12945,0,.35555],"8217":[0,.69444,.12945,0,.35555],"8220":[0,.69444,.16772,0,.62055],"8221":[0,.69444,.07939,0,.62055]},"Main-Italic":{"32":[0,0,0,0,.25],"33":[0,.69444,.12417,0,.30667],"34":[0,.69444,.06961,0,.51444],"35":[.19444,.69444,.06616,0,.81777],"37":[.05556,.75,.13639,0,.81777],"38":[0,.69444,.09694,0,.76666],"39":[0,.69444,.12417,0,.30667],"40":[.25,.75,.16194,0,.40889],"41":[.25,.75,.03694,0,.40889],"42":[0,.75,.14917,0,.51111],"43":[.05667,.56167,.03694,0,.76666],"44":[.19444,.10556,0,0,.30667],"45":[0,.43056,.02826,0,.35778],"46":[0,.10556,0,0,.30667],"47":[.25,.75,.16194,0,.51111],"48":[0,.64444,.13556,0,.51111],"49":[0,.64444,.13556,0,.51111],"50":[0,.64444,.13556,0,.51111],"51":[0,.64444,.13556,0,.51111],"52":[.19444,.64444,.13556,0,.51111],"53":[0,.64444,.13556,0,.51111],"54":[0,.64444,.13556,0,.51111],"55":[.19444,.64444,.13556,0,.51111],"56":[0,.64444,.13556,0,.51111],"57":[0,.64444,.13556,0,.51111],"58":[0,.43056,.0582,0,.30667],"59":[.19444,.43056,.0582,0,.30667],"61":[-.13313,.36687,.06616,0,.76666],"63":[0,.69444,.1225,0,.51111],"64":[0,.69444,.09597,0,.76666],"65":[0,.68333,0,0,.74333],"66":[0,.68333,.10257,0,.70389],"67":[0,.68333,.14528,0,.71555],"68":[0,.68333,.09403,0,.755],"69":[0,.68333,.12028,0,.67833],"70":[0,.68333,.13305,0,.65277],"71":[0,.68333,.08722,0,.77361],"72":[0,.68333,.16389,0,.74333],"73":[0,.68333,.15806,0,.38555],"74":[0,.68333,.14028,0,.525],"75":[0,.68333,.14528,0,.76888],"76":[0,.68333,0,0,.62722],"77":[0,.68333,.16389,0,.89666],"78":[0,.68333,.16389,0,.74333],"79":[0,.68333,.09403,0,.76666],"80":[0,.68333,.10257,0,.67833],"81":[.19444,.68333,.09403,0,.76666],"82":[0,.68333,.03868,0,.72944],"83":[0,.68333,.11972,0,.56222],"84":[0,.68333,.13305,0,.71555],"85":[0,.68333,.16389,0,.74333],"86":[0,.68333,.18361,0,.74333],"87":[0,.68333,.18361,0,.99888],"88":[0,.68333,.15806,0,.74333],"89":[0,.68333,.19383,0,.74333],"90":[0,.68333,.14528,0,.61333],"91":[.25,.75,.1875,0,.30667],"93":[.25,.75,.10528,0,.30667],"94":[0,.69444,.06646,0,.51111],"95":[.31,.12056,.09208,0,.51111],"97":[0,.43056,.07671,0,.51111],"98":[0,.69444,.06312,0,.46],"99":[0,.43056,.05653,0,.46],"100":[0,.69444,.10333,0,.51111],"101":[0,.43056,.07514,0,.46],"102":[.19444,.69444,.21194,0,.30667],"103":[.19444,.43056,.08847,0,.46],"104":[0,.69444,.07671,0,.51111],"105":[0,.65536,.1019,0,.30667],"106":[.19444,.65536,.14467,0,.30667],"107":[0,.69444,.10764,0,.46],"108":[0,.69444,.10333,0,.25555],"109":[0,.43056,.07671,0,.81777],"110":[0,.43056,.07671,0,.56222],"111":[0,.43056,.06312,0,.51111],"112":[.19444,.43056,.06312,0,.51111],"113":[.19444,.43056,.08847,0,.46],"114":[0,.43056,.10764,0,.42166],"115":[0,.43056,.08208,0,.40889],"116":[0,.61508,.09486,0,.33222],"117":[0,.43056,.07671,0,.53666],"118":[0,.43056,.10764,0,.46],"119":[0,.43056,.10764,0,.66444],"120":[0,.43056,.12042,0,.46389],"121":[.19444,.43056,.08847,0,.48555],"122":[0,.43056,.12292,0,.40889],"126":[.35,.31786,.11585,0,.51111],"160":[0,0,0,0,.25],"168":[0,.66786,.10474,0,.51111],"176":[0,.69444,0,0,.83129],"184":[.17014,0,0,0,.46],"198":[0,.68333,.12028,0,.88277],"216":[.04861,.73194,.09403,0,.76666],"223":[.19444,.69444,.10514,0,.53666],"230":[0,.43056,.07514,0,.71555],"248":[.09722,.52778,.09194,0,.51111],"338":[0,.68333,.12028,0,.98499],"339":[0,.43056,.07514,0,.71555],"710":[0,.69444,.06646,0,.51111],"711":[0,.62847,.08295,0,.51111],"713":[0,.56167,.10333,0,.51111],"714":[0,.69444,.09694,0,.51111],"715":[0,.69444,0,0,.51111],"728":[0,.69444,.10806,0,.51111],"729":[0,.66786,.11752,0,.30667],"730":[0,.69444,0,0,.83129],"732":[0,.66786,.11585,0,.51111],"733":[0,.69444,.1225,0,.51111],"915":[0,.68333,.13305,0,.62722],"916":[0,.68333,0,0,.81777],"920":[0,.68333,.09403,0,.76666],"923":[0,.68333,0,0,.69222],"926":[0,.68333,.15294,0,.66444],"928":[0,.68333,.16389,0,.74333],"931":[0,.68333,.12028,0,.71555],"933":[0,.68333,.11111,0,.76666],"934":[0,.68333,.05986,0,.71555],"936":[0,.68333,.11111,0,.76666],"937":[0,.68333,.10257,0,.71555],"8211":[0,.43056,.09208,0,.51111],"8212":[0,.43056,.09208,0,1.02222],"8216":[0,.69444,.12417,0,.30667],"8217":[0,.69444,.12417,0,.30667],"8220":[0,.69444,.1685,0,.51444],"8221":[0,.69444,.06961,0,.51444],"8463":[0,.68889,0,0,.54028]},"Main-Regular":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.27778],"34":[0,.69444,0,0,.5],"35":[.19444,.69444,0,0,.83334],"36":[.05556,.75,0,0,.5],"37":[.05556,.75,0,0,.83334],"38":[0,.69444,0,0,.77778],"39":[0,.69444,0,0,.27778],"40":[.25,.75,0,0,.38889],"41":[.25,.75,0,0,.38889],"42":[0,.75,0,0,.5],"43":[.08333,.58333,0,0,.77778],"44":[.19444,.10556,0,0,.27778],"45":[0,.43056,0,0,.33333],"46":[0,.10556,0,0,.27778],"47":[.25,.75,0,0,.5],"48":[0,.64444,0,0,.5],"49":[0,.64444,0,0,.5],"50":[0,.64444,0,0,.5],"51":[0,.64444,0,0,.5],"52":[0,.64444,0,0,.5],"53":[0,.64444,0,0,.5],"54":[0,.64444,0,0,.5],"55":[0,.64444,0,0,.5],"56":[0,.64444,0,0,.5],"57":[0,.64444,0,0,.5],"58":[0,.43056,0,0,.27778],"59":[.19444,.43056,0,0,.27778],"60":[.0391,.5391,0,0,.77778],"61":[-.13313,.36687,0,0,.77778],"62":[.0391,.5391,0,0,.77778],"63":[0,.69444,0,0,.47222],"64":[0,.69444,0,0,.77778],"65":[0,.68333,0,0,.75],"66":[0,.68333,0,0,.70834],"67":[0,.68333,0,0,.72222],"68":[0,.68333,0,0,.76389],"69":[0,.68333,0,0,.68056],"70":[0,.68333,0,0,.65278],"71":[0,.68333,0,0,.78472],"72":[0,.68333,0,0,.75],"73":[0,.68333,0,0,.36111],"74":[0,.68333,0,0,.51389],"75":[0,.68333,0,0,.77778],"76":[0,.68333,0,0,.625],"77":[0,.68333,0,0,.91667],"78":[0,.68333,0,0,.75],"79":[0,.68333,0,0,.77778],"80":[0,.68333,0,0,.68056],"81":[.19444,.68333,0,0,.77778],"82":[0,.68333,0,0,.73611],"83":[0,.68333,0,0,.55556],"84":[0,.68333,0,0,.72222],"85":[0,.68333,0,0,.75],"86":[0,.68333,.01389,0,.75],"87":[0,.68333,.01389,0,1.02778],"88":[0,.68333,0,0,.75],"89":[0,.68333,.025,0,.75],"90":[0,.68333,0,0,.61111],"91":[.25,.75,0,0,.27778],"92":[.25,.75,0,0,.5],"93":[.25,.75,0,0,.27778],"94":[0,.69444,0,0,.5],"95":[.31,.12056,.02778,0,.5],"97":[0,.43056,0,0,.5],"98":[0,.69444,0,0,.55556],"99":[0,.43056,0,0,.44445],"100":[0,.69444,0,0,.55556],"101":[0,.43056,0,0,.44445],"102":[0,.69444,.07778,0,.30556],"103":[.19444,.43056,.01389,0,.5],"104":[0,.69444,0,0,.55556],"105":[0,.66786,0,0,.27778],"106":[.19444,.66786,0,0,.30556],"107":[0,.69444,0,0,.52778],"108":[0,.69444,0,0,.27778],"109":[0,.43056,0,0,.83334],"110":[0,.43056,0,0,.55556],"111":[0,.43056,0,0,.5],"112":[.19444,.43056,0,0,.55556],"113":[.19444,.43056,0,0,.52778],"114":[0,.43056,0,0,.39167],"115":[0,.43056,0,0,.39445],"116":[0,.61508,0,0,.38889],"117":[0,.43056,0,0,.55556],"118":[0,.43056,.01389,0,.52778],"119":[0,.43056,.01389,0,.72222],"120":[0,.43056,0,0,.52778],"121":[.19444,.43056,.01389,0,.52778],"122":[0,.43056,0,0,.44445],"123":[.25,.75,0,0,.5],"124":[.25,.75,0,0,.27778],"125":[.25,.75,0,0,.5],"126":[.35,.31786,0,0,.5],"160":[0,0,0,0,.25],"163":[0,.69444,0,0,.76909],"167":[.19444,.69444,0,0,.44445],"168":[0,.66786,0,0,.5],"172":[0,.43056,0,0,.66667],"176":[0,.69444,0,0,.75],"177":[.08333,.58333,0,0,.77778],"182":[.19444,.69444,0,0,.61111],"184":[.17014,0,0,0,.44445],"198":[0,.68333,0,0,.90278],"215":[.08333,.58333,0,0,.77778],"216":[.04861,.73194,0,0,.77778],"223":[0,.69444,0,0,.5],"230":[0,.43056,0,0,.72222],"247":[.08333,.58333,0,0,.77778],"248":[.09722,.52778,0,0,.5],"305":[0,.43056,0,0,.27778],"338":[0,.68333,0,0,1.01389],"339":[0,.43056,0,0,.77778],"567":[.19444,.43056,0,0,.30556],"710":[0,.69444,0,0,.5],"711":[0,.62847,0,0,.5],"713":[0,.56778,0,0,.5],"714":[0,.69444,0,0,.5],"715":[0,.69444,0,0,.5],"728":[0,.69444,0,0,.5],"729":[0,.66786,0,0,.27778],"730":[0,.69444,0,0,.75],"732":[0,.66786,0,0,.5],"733":[0,.69444,0,0,.5],"915":[0,.68333,0,0,.625],"916":[0,.68333,0,0,.83334],"920":[0,.68333,0,0,.77778],"923":[0,.68333,0,0,.69445],"926":[0,.68333,0,0,.66667],"928":[0,.68333,0,0,.75],"931":[0,.68333,0,0,.72222],"933":[0,.68333,0,0,.77778],"934":[0,.68333,0,0,.72222],"936":[0,.68333,0,0,.77778],"937":[0,.68333,0,0,.72222],"8211":[0,.43056,.02778,0,.5],"8212":[0,.43056,.02778,0,1],"8216":[0,.69444,0,0,.27778],"8217":[0,.69444,0,0,.27778],"8220":[0,.69444,0,0,.5],"8221":[0,.69444,0,0,.5],"8224":[.19444,.69444,0,0,.44445],"8225":[.19444,.69444,0,0,.44445],"8230":[0,.123,0,0,1.172],"8242":[0,.55556,0,0,.275],"8407":[0,.71444,.15382,0,.5],"8463":[0,.68889,0,0,.54028],"8465":[0,.69444,0,0,.72222],"8467":[0,.69444,0,.11111,.41667],"8472":[.19444,.43056,0,.11111,.63646],"8476":[0,.69444,0,0,.72222],"8501":[0,.69444,0,0,.61111],"8592":[-.13313,.36687,0,0,1],"8593":[.19444,.69444,0,0,.5],"8594":[-.13313,.36687,0,0,1],"8595":[.19444,.69444,0,0,.5],"8596":[-.13313,.36687,0,0,1],"8597":[.25,.75,0,0,.5],"8598":[.19444,.69444,0,0,1],"8599":[.19444,.69444,0,0,1],"8600":[.19444,.69444,0,0,1],"8601":[.19444,.69444,0,0,1],"8614":[.011,.511,0,0,1],"8617":[.011,.511,0,0,1.126],"8618":[.011,.511,0,0,1.126],"8636":[-.13313,.36687,0,0,1],"8637":[-.13313,.36687,0,0,1],"8640":[-.13313,.36687,0,0,1],"8641":[-.13313,.36687,0,0,1],"8652":[.011,.671,0,0,1],"8656":[-.13313,.36687,0,0,1],"8657":[.19444,.69444,0,0,.61111],"8658":[-.13313,.36687,0,0,1],"8659":[.19444,.69444,0,0,.61111],"8660":[-.13313,.36687,0,0,1],"8661":[.25,.75,0,0,.61111],"8704":[0,.69444,0,0,.55556],"8706":[0,.69444,.05556,.08334,.5309],"8707":[0,.69444,0,0,.55556],"8709":[.05556,.75,0,0,.5],"8711":[0,.68333,0,0,.83334],"8712":[.0391,.5391,0,0,.66667],"8715":[.0391,.5391,0,0,.66667],"8722":[.08333,.58333,0,0,.77778],"8723":[.08333,.58333,0,0,.77778],"8725":[.25,.75,0,0,.5],"8726":[.25,.75,0,0,.5],"8727":[-.03472,.46528,0,0,.5],"8728":[-.05555,.44445,0,0,.5],"8729":[-.05555,.44445,0,0,.5],"8730":[.2,.8,0,0,.83334],"8733":[0,.43056,0,0,.77778],"8734":[0,.43056,0,0,1],"8736":[0,.69224,0,0,.72222],"8739":[.25,.75,0,0,.27778],"8741":[.25,.75,0,0,.5],"8743":[0,.55556,0,0,.66667],"8744":[0,.55556,0,0,.66667],"8745":[0,.55556,0,0,.66667],"8746":[0,.55556,0,0,.66667],"8747":[.19444,.69444,.11111,0,.41667],"8764":[-.13313,.36687,0,0,.77778],"8768":[.19444,.69444,0,0,.27778],"8771":[-.03625,.46375,0,0,.77778],"8773":[-.022,.589,0,0,.778],"8776":[-.01688,.48312,0,0,.77778],"8781":[-.03625,.46375,0,0,.77778],"8784":[-.133,.673,0,0,.778],"8801":[-.03625,.46375,0,0,.77778],"8804":[.13597,.63597,0,0,.77778],"8805":[.13597,.63597,0,0,.77778],"8810":[.0391,.5391,0,0,1],"8811":[.0391,.5391,0,0,1],"8826":[.0391,.5391,0,0,.77778],"8827":[.0391,.5391,0,0,.77778],"8834":[.0391,.5391,0,0,.77778],"8835":[.0391,.5391,0,0,.77778],"8838":[.13597,.63597,0,0,.77778],"8839":[.13597,.63597,0,0,.77778],"8846":[0,.55556,0,0,.66667],"8849":[.13597,.63597,0,0,.77778],"8850":[.13597,.63597,0,0,.77778],"8851":[0,.55556,0,0,.66667],"8852":[0,.55556,0,0,.66667],"8853":[.08333,.58333,0,0,.77778],"8854":[.08333,.58333,0,0,.77778],"8855":[.08333,.58333,0,0,.77778],"8856":[.08333,.58333,0,0,.77778],"8857":[.08333,.58333,0,0,.77778],"8866":[0,.69444,0,0,.61111],"8867":[0,.69444,0,0,.61111],"8868":[0,.69444,0,0,.77778],"8869":[0,.69444,0,0,.77778],"8872":[.249,.75,0,0,.867],"8900":[-.05555,.44445,0,0,.5],"8901":[-.05555,.44445,0,0,.27778],"8902":[-.03472,.46528,0,0,.5],"8904":[.005,.505,0,0,.9],"8942":[.03,.903,0,0,.278],"8943":[-.19,.313,0,0,1.172],"8945":[-.1,.823,0,0,1.282],"8968":[.25,.75,0,0,.44445],"8969":[.25,.75,0,0,.44445],"8970":[.25,.75,0,0,.44445],"8971":[.25,.75,0,0,.44445],"8994":[-.14236,.35764,0,0,1],"8995":[-.14236,.35764,0,0,1],"9136":[.244,.744,0,0,.412],"9137":[.244,.745,0,0,.412],"9651":[.19444,.69444,0,0,.88889],"9657":[-.03472,.46528,0,0,.5],"9661":[.19444,.69444,0,0,.88889],"9667":[-.03472,.46528,0,0,.5],"9711":[.19444,.69444,0,0,1],"9824":[.12963,.69444,0,0,.77778],"9825":[.12963,.69444,0,0,.77778],"9826":[.12963,.69444,0,0,.77778],"9827":[.12963,.69444,0,0,.77778],"9837":[0,.75,0,0,.38889],"9838":[.19444,.69444,0,0,.38889],"9839":[.19444,.69444,0,0,.38889],"10216":[.25,.75,0,0,.38889],"10217":[.25,.75,0,0,.38889],"10222":[.244,.744,0,0,.412],"10223":[.244,.745,0,0,.412],"10229":[.011,.511,0,0,1.609],"10230":[.011,.511,0,0,1.638],"10231":[.011,.511,0,0,1.859],"10232":[.024,.525,0,0,1.609],"10233":[.024,.525,0,0,1.638],"10234":[.024,.525,0,0,1.858],"10236":[.011,.511,0,0,1.638],"10815":[0,.68333,0,0,.75],"10927":[.13597,.63597,0,0,.77778],"10928":[.13597,.63597,0,0,.77778],"57376":[.19444,.69444,0,0,0]},"Math-BoldItalic":{"32":[0,0,0,0,.25],"48":[0,.44444,0,0,.575],"49":[0,.44444,0,0,.575],"50":[0,.44444,0,0,.575],"51":[.19444,.44444,0,0,.575],"52":[.19444,.44444,0,0,.575],"53":[.19444,.44444,0,0,.575],"54":[0,.64444,0,0,.575],"55":[.19444,.44444,0,0,.575],"56":[0,.64444,0,0,.575],"57":[.19444,.44444,0,0,.575],"65":[0,.68611,0,0,.86944],"66":[0,.68611,.04835,0,.8664],"67":[0,.68611,.06979,0,.81694],"68":[0,.68611,.03194,0,.93812],"69":[0,.68611,.05451,0,.81007],"70":[0,.68611,.15972,0,.68889],"71":[0,.68611,0,0,.88673],"72":[0,.68611,.08229,0,.98229],"73":[0,.68611,.07778,0,.51111],"74":[0,.68611,.10069,0,.63125],"75":[0,.68611,.06979,0,.97118],"76":[0,.68611,0,0,.75555],"77":[0,.68611,.11424,0,1.14201],"78":[0,.68611,.11424,0,.95034],"79":[0,.68611,.03194,0,.83666],"80":[0,.68611,.15972,0,.72309],"81":[.19444,.68611,0,0,.86861],"82":[0,.68611,.00421,0,.87235],"83":[0,.68611,.05382,0,.69271],"84":[0,.68611,.15972,0,.63663],"85":[0,.68611,.11424,0,.80027],"86":[0,.68611,.25555,0,.67778],"87":[0,.68611,.15972,0,1.09305],"88":[0,.68611,.07778,0,.94722],"89":[0,.68611,.25555,0,.67458],"90":[0,.68611,.06979,0,.77257],"97":[0,.44444,0,0,.63287],"98":[0,.69444,0,0,.52083],"99":[0,.44444,0,0,.51342],"100":[0,.69444,0,0,.60972],"101":[0,.44444,0,0,.55361],"102":[.19444,.69444,.11042,0,.56806],"103":[.19444,.44444,.03704,0,.5449],"104":[0,.69444,0,0,.66759],"105":[0,.69326,0,0,.4048],"106":[.19444,.69326,.0622,0,.47083],"107":[0,.69444,.01852,0,.6037],"108":[0,.69444,.0088,0,.34815],"109":[0,.44444,0,0,1.0324],"110":[0,.44444,0,0,.71296],"111":[0,.44444,0,0,.58472],"112":[.19444,.44444,0,0,.60092],"113":[.19444,.44444,.03704,0,.54213],"114":[0,.44444,.03194,0,.5287],"115":[0,.44444,0,0,.53125],"116":[0,.63492,0,0,.41528],"117":[0,.44444,0,0,.68102],"118":[0,.44444,.03704,0,.56666],"119":[0,.44444,.02778,0,.83148],"120":[0,.44444,0,0,.65903],"121":[.19444,.44444,.03704,0,.59028],"122":[0,.44444,.04213,0,.55509],"160":[0,0,0,0,.25],"915":[0,.68611,.15972,0,.65694],"916":[0,.68611,0,0,.95833],"920":[0,.68611,.03194,0,.86722],"923":[0,.68611,0,0,.80555],"926":[0,.68611,.07458,0,.84125],"928":[0,.68611,.08229,0,.98229],"931":[0,.68611,.05451,0,.88507],"933":[0,.68611,.15972,0,.67083],"934":[0,.68611,0,0,.76666],"936":[0,.68611,.11653,0,.71402],"937":[0,.68611,.04835,0,.8789],"945":[0,.44444,0,0,.76064],"946":[.19444,.69444,.03403,0,.65972],"947":[.19444,.44444,.06389,0,.59003],"948":[0,.69444,.03819,0,.52222],"949":[0,.44444,0,0,.52882],"950":[.19444,.69444,.06215,0,.50833],"951":[.19444,.44444,.03704,0,.6],"952":[0,.69444,.03194,0,.5618],"953":[0,.44444,0,0,.41204],"954":[0,.44444,0,0,.66759],"955":[0,.69444,0,0,.67083],"956":[.19444,.44444,0,0,.70787],"957":[0,.44444,.06898,0,.57685],"958":[.19444,.69444,.03021,0,.50833],"959":[0,.44444,0,0,.58472],"960":[0,.44444,.03704,0,.68241],"961":[.19444,.44444,0,0,.6118],"962":[.09722,.44444,.07917,0,.42361],"963":[0,.44444,.03704,0,.68588],"964":[0,.44444,.13472,0,.52083],"965":[0,.44444,.03704,0,.63055],"966":[.19444,.44444,0,0,.74722],"967":[.19444,.44444,0,0,.71805],"968":[.19444,.69444,.03704,0,.75833],"969":[0,.44444,.03704,0,.71782],"977":[0,.69444,0,0,.69155],"981":[.19444,.69444,0,0,.7125],"982":[0,.44444,.03194,0,.975],"1009":[.19444,.44444,0,0,.6118],"1013":[0,.44444,0,0,.48333],"57649":[0,.44444,0,0,.39352],"57911":[.19444,.44444,0,0,.43889]},"Math-Italic":{"32":[0,0,0,0,.25],"48":[0,.43056,0,0,.5],"49":[0,.43056,0,0,.5],"50":[0,.43056,0,0,.5],"51":[.19444,.43056,0,0,.5],"52":[.19444,.43056,0,0,.5],"53":[.19444,.43056,0,0,.5],"54":[0,.64444,0,0,.5],"55":[.19444,.43056,0,0,.5],"56":[0,.64444,0,0,.5],"57":[.19444,.43056,0,0,.5],"65":[0,.68333,0,.13889,.75],"66":[0,.68333,.05017,.08334,.75851],"67":[0,.68333,.07153,.08334,.71472],"68":[0,.68333,.02778,.05556,.82792],"69":[0,.68333,.05764,.08334,.7382],"70":[0,.68333,.13889,.08334,.64306],"71":[0,.68333,0,.08334,.78625],"72":[0,.68333,.08125,.05556,.83125],"73":[0,.68333,.07847,.11111,.43958],"74":[0,.68333,.09618,.16667,.55451],"75":[0,.68333,.07153,.05556,.84931],"76":[0,.68333,0,.02778,.68056],"77":[0,.68333,.10903,.08334,.97014],"78":[0,.68333,.10903,.08334,.80347],"79":[0,.68333,.02778,.08334,.76278],"80":[0,.68333,.13889,.08334,.64201],"81":[.19444,.68333,0,.08334,.79056],"82":[0,.68333,.00773,.08334,.75929],"83":[0,.68333,.05764,.08334,.6132],"84":[0,.68333,.13889,.08334,.58438],"85":[0,.68333,.10903,.02778,.68278],"86":[0,.68333,.22222,0,.58333],"87":[0,.68333,.13889,0,.94445],"88":[0,.68333,.07847,.08334,.82847],"89":[0,.68333,.22222,0,.58056],"90":[0,.68333,.07153,.08334,.68264],"97":[0,.43056,0,0,.52859],"98":[0,.69444,0,0,.42917],"99":[0,.43056,0,.05556,.43276],"100":[0,.69444,0,.16667,.52049],"101":[0,.43056,0,.05556,.46563],"102":[.19444,.69444,.10764,.16667,.48959],"103":[.19444,.43056,.03588,.02778,.47697],"104":[0,.69444,0,0,.57616],"105":[0,.65952,0,0,.34451],"106":[.19444,.65952,.05724,0,.41181],"107":[0,.69444,.03148,0,.5206],"108":[0,.69444,.01968,.08334,.29838],"109":[0,.43056,0,0,.87801],"110":[0,.43056,0,0,.60023],"111":[0,.43056,0,.05556,.48472],"112":[.19444,.43056,0,.08334,.50313],"113":[.19444,.43056,.03588,.08334,.44641],"114":[0,.43056,.02778,.05556,.45116],"115":[0,.43056,0,.05556,.46875],"116":[0,.61508,0,.08334,.36111],"117":[0,.43056,0,.02778,.57246],"118":[0,.43056,.03588,.02778,.48472],"119":[0,.43056,.02691,.08334,.71592],"120":[0,.43056,0,.02778,.57153],"121":[.19444,.43056,.03588,.05556,.49028],"122":[0,.43056,.04398,.05556,.46505],"160":[0,0,0,0,.25],"915":[0,.68333,.13889,.08334,.61528],"916":[0,.68333,0,.16667,.83334],"920":[0,.68333,.02778,.08334,.76278],"923":[0,.68333,0,.16667,.69445],"926":[0,.68333,.07569,.08334,.74236],"928":[0,.68333,.08125,.05556,.83125],"931":[0,.68333,.05764,.08334,.77986],"933":[0,.68333,.13889,.05556,.58333],"934":[0,.68333,0,.08334,.66667],"936":[0,.68333,.11,.05556,.61222],"937":[0,.68333,.05017,.08334,.7724],"945":[0,.43056,.0037,.02778,.6397],"946":[.19444,.69444,.05278,.08334,.56563],"947":[.19444,.43056,.05556,0,.51773],"948":[0,.69444,.03785,.05556,.44444],"949":[0,.43056,0,.08334,.46632],"950":[.19444,.69444,.07378,.08334,.4375],"951":[.19444,.43056,.03588,.05556,.49653],"952":[0,.69444,.02778,.08334,.46944],"953":[0,.43056,0,.05556,.35394],"954":[0,.43056,0,0,.57616],"955":[0,.69444,0,0,.58334],"956":[.19444,.43056,0,.02778,.60255],"957":[0,.43056,.06366,.02778,.49398],"958":[.19444,.69444,.04601,.11111,.4375],"959":[0,.43056,0,.05556,.48472],"960":[0,.43056,.03588,0,.57003],"961":[.19444,.43056,0,.08334,.51702],"962":[.09722,.43056,.07986,.08334,.36285],"963":[0,.43056,.03588,0,.57141],"964":[0,.43056,.1132,.02778,.43715],"965":[0,.43056,.03588,.02778,.54028],"966":[.19444,.43056,0,.08334,.65417],"967":[.19444,.43056,0,.05556,.62569],"968":[.19444,.69444,.03588,.11111,.65139],"969":[0,.43056,.03588,0,.62245],"977":[0,.69444,0,.08334,.59144],"981":[.19444,.69444,0,.08334,.59583],"982":[0,.43056,.02778,0,.82813],"1009":[.19444,.43056,0,.08334,.51702],"1013":[0,.43056,0,.05556,.4059],"57649":[0,.43056,0,.02778,.32246],"57911":[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.36667],"34":[0,.69444,0,0,.55834],"35":[.19444,.69444,0,0,.91667],"36":[.05556,.75,0,0,.55],"37":[.05556,.75,0,0,1.02912],"38":[0,.69444,0,0,.83056],"39":[0,.69444,0,0,.30556],"40":[.25,.75,0,0,.42778],"41":[.25,.75,0,0,.42778],"42":[0,.75,0,0,.55],"43":[.11667,.61667,0,0,.85556],"44":[.10556,.13056,0,0,.30556],"45":[0,.45833,0,0,.36667],"46":[0,.13056,0,0,.30556],"47":[.25,.75,0,0,.55],"48":[0,.69444,0,0,.55],"49":[0,.69444,0,0,.55],"50":[0,.69444,0,0,.55],"51":[0,.69444,0,0,.55],"52":[0,.69444,0,0,.55],"53":[0,.69444,0,0,.55],"54":[0,.69444,0,0,.55],"55":[0,.69444,0,0,.55],"56":[0,.69444,0,0,.55],"57":[0,.69444,0,0,.55],"58":[0,.45833,0,0,.30556],"59":[.10556,.45833,0,0,.30556],"61":[-.09375,.40625,0,0,.85556],"63":[0,.69444,0,0,.51945],"64":[0,.69444,0,0,.73334],"65":[0,.69444,0,0,.73334],"66":[0,.69444,0,0,.73334],"67":[0,.69444,0,0,.70278],"68":[0,.69444,0,0,.79445],"69":[0,.69444,0,0,.64167],"70":[0,.69444,0,0,.61111],"71":[0,.69444,0,0,.73334],"72":[0,.69444,0,0,.79445],"73":[0,.69444,0,0,.33056],"74":[0,.69444,0,0,.51945],"75":[0,.69444,0,0,.76389],"76":[0,.69444,0,0,.58056],"77":[0,.69444,0,0,.97778],"78":[0,.69444,0,0,.79445],"79":[0,.69444,0,0,.79445],"80":[0,.69444,0,0,.70278],"81":[.10556,.69444,0,0,.79445],"82":[0,.69444,0,0,.70278],"83":[0,.69444,0,0,.61111],"84":[0,.69444,0,0,.73334],"85":[0,.69444,0,0,.76389],"86":[0,.69444,.01528,0,.73334],"87":[0,.69444,.01528,0,1.03889],"88":[0,.69444,0,0,.73334],"89":[0,.69444,.0275,0,.73334],"90":[0,.69444,0,0,.67223],"91":[.25,.75,0,0,.34306],"93":[.25,.75,0,0,.34306],"94":[0,.69444,0,0,.55],"95":[.35,.10833,.03056,0,.55],"97":[0,.45833,0,0,.525],"98":[0,.69444,0,0,.56111],"99":[0,.45833,0,0,.48889],"100":[0,.69444,0,0,.56111],"101":[0,.45833,0,0,.51111],"102":[0,.69444,.07639,0,.33611],"103":[.19444,.45833,.01528,0,.55],"104":[0,.69444,0,0,.56111],"105":[0,.69444,0,0,.25556],"106":[.19444,.69444,0,0,.28611],"107":[0,.69444,0,0,.53056],"108":[0,.69444,0,0,.25556],"109":[0,.45833,0,0,.86667],"110":[0,.45833,0,0,.56111],"111":[0,.45833,0,0,.55],"112":[.19444,.45833,0,0,.56111],"113":[.19444,.45833,0,0,.56111],"114":[0,.45833,.01528,0,.37222],"115":[0,.45833,0,0,.42167],"116":[0,.58929,0,0,.40417],"117":[0,.45833,0,0,.56111],"118":[0,.45833,.01528,0,.5],"119":[0,.45833,.01528,0,.74445],"120":[0,.45833,0,0,.5],"121":[.19444,.45833,.01528,0,.5],"122":[0,.45833,0,0,.47639],"126":[.35,.34444,0,0,.55],"160":[0,0,0,0,.25],"168":[0,.69444,0,0,.55],"176":[0,.69444,0,0,.73334],"180":[0,.69444,0,0,.55],"184":[.17014,0,0,0,.48889],"305":[0,.45833,0,0,.25556],"567":[.19444,.45833,0,0,.28611],"710":[0,.69444,0,0,.55],"711":[0,.63542,0,0,.55],"713":[0,.63778,0,0,.55],"728":[0,.69444,0,0,.55],"729":[0,.69444,0,0,.30556],"730":[0,.69444,0,0,.73334],"732":[0,.69444,0,0,.55],"733":[0,.69444,0,0,.55],"915":[0,.69444,0,0,.58056],"916":[0,.69444,0,0,.91667],"920":[0,.69444,0,0,.85556],"923":[0,.69444,0,0,.67223],"926":[0,.69444,0,0,.73334],"928":[0,.69444,0,0,.79445],"931":[0,.69444,0,0,.79445],"933":[0,.69444,0,0,.85556],"934":[0,.69444,0,0,.79445],"936":[0,.69444,0,0,.85556],"937":[0,.69444,0,0,.79445],"8211":[0,.45833,.03056,0,.55],"8212":[0,.45833,.03056,0,1.10001],"8216":[0,.69444,0,0,.30556],"8217":[0,.69444,0,0,.30556],"8220":[0,.69444,0,0,.55834],"8221":[0,.69444,0,0,.55834]},"SansSerif-Italic":{"32":[0,0,0,0,.25],"33":[0,.69444,.05733,0,.31945],"34":[0,.69444,.00316,0,.5],"35":[.19444,.69444,.05087,0,.83334],"36":[.05556,.75,.11156,0,.5],"37":[.05556,.75,.03126,0,.83334],"38":[0,.69444,.03058,0,.75834],"39":[0,.69444,.07816,0,.27778],"40":[.25,.75,.13164,0,.38889],"41":[.25,.75,.02536,0,.38889],"42":[0,.75,.11775,0,.5],"43":[.08333,.58333,.02536,0,.77778],"44":[.125,.08333,0,0,.27778],"45":[0,.44444,.01946,0,.33333],"46":[0,.08333,0,0,.27778],"47":[.25,.75,.13164,0,.5],"48":[0,.65556,.11156,0,.5],"49":[0,.65556,.11156,0,.5],"50":[0,.65556,.11156,0,.5],"51":[0,.65556,.11156,0,.5],"52":[0,.65556,.11156,0,.5],"53":[0,.65556,.11156,0,.5],"54":[0,.65556,.11156,0,.5],"55":[0,.65556,.11156,0,.5],"56":[0,.65556,.11156,0,.5],"57":[0,.65556,.11156,0,.5],"58":[0,.44444,.02502,0,.27778],"59":[.125,.44444,.02502,0,.27778],"61":[-.13,.37,.05087,0,.77778],"63":[0,.69444,.11809,0,.47222],"64":[0,.69444,.07555,0,.66667],"65":[0,.69444,0,0,.66667],"66":[0,.69444,.08293,0,.66667],"67":[0,.69444,.11983,0,.63889],"68":[0,.69444,.07555,0,.72223],"69":[0,.69444,.11983,0,.59722],"70":[0,.69444,.13372,0,.56945],"71":[0,.69444,.11983,0,.66667],"72":[0,.69444,.08094,0,.70834],"73":[0,.69444,.13372,0,.27778],"74":[0,.69444,.08094,0,.47222],"75":[0,.69444,.11983,0,.69445],"76":[0,.69444,0,0,.54167],"77":[0,.69444,.08094,0,.875],"78":[0,.69444,.08094,0,.70834],"79":[0,.69444,.07555,0,.73611],"80":[0,.69444,.08293,0,.63889],"81":[.125,.69444,.07555,0,.73611],"82":[0,.69444,.08293,0,.64584],"83":[0,.69444,.09205,0,.55556],"84":[0,.69444,.13372,0,.68056],"85":[0,.69444,.08094,0,.6875],"86":[0,.69444,.1615,0,.66667],"87":[0,.69444,.1615,0,.94445],"88":[0,.69444,.13372,0,.66667],"89":[0,.69444,.17261,0,.66667],"90":[0,.69444,.11983,0,.61111],"91":[.25,.75,.15942,0,.28889],"93":[.25,.75,.08719,0,.28889],"94":[0,.69444,.0799,0,.5],"95":[.35,.09444,.08616,0,.5],"97":[0,.44444,.00981,0,.48056],"98":[0,.69444,.03057,0,.51667],"99":[0,.44444,.08336,0,.44445],"100":[0,.69444,.09483,0,.51667],"101":[0,.44444,.06778,0,.44445],"102":[0,.69444,.21705,0,.30556],"103":[.19444,.44444,.10836,0,.5],"104":[0,.69444,.01778,0,.51667],"105":[0,.67937,.09718,0,.23889],"106":[.19444,.67937,.09162,0,.26667],"107":[0,.69444,.08336,0,.48889],"108":[0,.69444,.09483,0,.23889],"109":[0,.44444,.01778,0,.79445],"110":[0,.44444,.01778,0,.51667],"111":[0,.44444,.06613,0,.5],"112":[.19444,.44444,.0389,0,.51667],"113":[.19444,.44444,.04169,0,.51667],"114":[0,.44444,.10836,0,.34167],"115":[0,.44444,.0778,0,.38333],"116":[0,.57143,.07225,0,.36111],"117":[0,.44444,.04169,0,.51667],"118":[0,.44444,.10836,0,.46111],"119":[0,.44444,.10836,0,.68334],"120":[0,.44444,.09169,0,.46111],"121":[.19444,.44444,.10836,0,.46111],"122":[0,.44444,.08752,0,.43472],"126":[.35,.32659,.08826,0,.5],"160":[0,0,0,0,.25],"168":[0,.67937,.06385,0,.5],"176":[0,.69444,0,0,.73752],"184":[.17014,0,0,0,.44445],"305":[0,.44444,.04169,0,.23889],"567":[.19444,.44444,.04169,0,.26667],"710":[0,.69444,.0799,0,.5],"711":[0,.63194,.08432,0,.5],"713":[0,.60889,.08776,0,.5],"714":[0,.69444,.09205,0,.5],"715":[0,.69444,0,0,.5],"728":[0,.69444,.09483,0,.5],"729":[0,.67937,.07774,0,.27778],"730":[0,.69444,0,0,.73752],"732":[0,.67659,.08826,0,.5],"733":[0,.69444,.09205,0,.5],"915":[0,.69444,.13372,0,.54167],"916":[0,.69444,0,0,.83334],"920":[0,.69444,.07555,0,.77778],"923":[0,.69444,0,0,.61111],"926":[0,.69444,.12816,0,.66667],"928":[0,.69444,.08094,0,.70834],"931":[0,.69444,.11983,0,.72222],"933":[0,.69444,.09031,0,.77778],"934":[0,.69444,.04603,0,.72222],"936":[0,.69444,.09031,0,.77778],"937":[0,.69444,.08293,0,.72222],"8211":[0,.44444,.08616,0,.5],"8212":[0,.44444,.08616,0,1],"8216":[0,.69444,.07816,0,.27778],"8217":[0,.69444,.07816,0,.27778],"8220":[0,.69444,.14205,0,.5],"8221":[0,.69444,.00316,0,.5]},"SansSerif-Regular":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.31945],"34":[0,.69444,0,0,.5],"35":[.19444,.69444,0,0,.83334],"36":[.05556,.75,0,0,.5],"37":[.05556,.75,0,0,.83334],"38":[0,.69444,0,0,.75834],"39":[0,.69444,0,0,.27778],"40":[.25,.75,0,0,.38889],"41":[.25,.75,0,0,.38889],"42":[0,.75,0,0,.5],"43":[.08333,.58333,0,0,.77778],"44":[.125,.08333,0,0,.27778],"45":[0,.44444,0,0,.33333],"46":[0,.08333,0,0,.27778],"47":[.25,.75,0,0,.5],"48":[0,.65556,0,0,.5],"49":[0,.65556,0,0,.5],"50":[0,.65556,0,0,.5],"51":[0,.65556,0,0,.5],"52":[0,.65556,0,0,.5],"53":[0,.65556,0,0,.5],"54":[0,.65556,0,0,.5],"55":[0,.65556,0,0,.5],"56":[0,.65556,0,0,.5],"57":[0,.65556,0,0,.5],"58":[0,.44444,0,0,.27778],"59":[.125,.44444,0,0,.27778],"61":[-.13,.37,0,0,.77778],"63":[0,.69444,0,0,.47222],"64":[0,.69444,0,0,.66667],"65":[0,.69444,0,0,.66667],"66":[0,.69444,0,0,.66667],"67":[0,.69444,0,0,.63889],"68":[0,.69444,0,0,.72223],"69":[0,.69444,0,0,.59722],"70":[0,.69444,0,0,.56945],"71":[0,.69444,0,0,.66667],"72":[0,.69444,0,0,.70834],"73":[0,.69444,0,0,.27778],"74":[0,.69444,0,0,.47222],"75":[0,.69444,0,0,.69445],"76":[0,.69444,0,0,.54167],"77":[0,.69444,0,0,.875],"78":[0,.69444,0,0,.70834],"79":[0,.69444,0,0,.73611],"80":[0,.69444,0,0,.63889],"81":[.125,.69444,0,0,.73611],"82":[0,.69444,0,0,.64584],"83":[0,.69444,0,0,.55556],"84":[0,.69444,0,0,.68056],"85":[0,.69444,0,0,.6875],"86":[0,.69444,.01389,0,.66667],"87":[0,.69444,.01389,0,.94445],"88":[0,.69444,0,0,.66667],"89":[0,.69444,.025,0,.66667],"90":[0,.69444,0,0,.61111],"91":[.25,.75,0,0,.28889],"93":[.25,.75,0,0,.28889],"94":[0,.69444,0,0,.5],"95":[.35,.09444,.02778,0,.5],"97":[0,.44444,0,0,.48056],"98":[0,.69444,0,0,.51667],"99":[0,.44444,0,0,.44445],"100":[0,.69444,0,0,.51667],"101":[0,.44444,0,0,.44445],"102":[0,.69444,.06944,0,.30556],"103":[.19444,.44444,.01389,0,.5],"104":[0,.69444,0,0,.51667],"105":[0,.67937,0,0,.23889],"106":[.19444,.67937,0,0,.26667],"107":[0,.69444,0,0,.48889],"108":[0,.69444,0,0,.23889],"109":[0,.44444,0,0,.79445],"110":[0,.44444,0,0,.51667],"111":[0,.44444,0,0,.5],"112":[.19444,.44444,0,0,.51667],"113":[.19444,.44444,0,0,.51667],"114":[0,.44444,.01389,0,.34167],"115":[0,.44444,0,0,.38333],"116":[0,.57143,0,0,.36111],"117":[0,.44444,0,0,.51667],"118":[0,.44444,.01389,0,.46111],"119":[0,.44444,.01389,0,.68334],"120":[0,.44444,0,0,.46111],"121":[.19444,.44444,.01389,0,.46111],"122":[0,.44444,0,0,.43472],"126":[.35,.32659,0,0,.5],"160":[0,0,0,0,.25],"168":[0,.67937,0,0,.5],"176":[0,.69444,0,0,.66667],"184":[.17014,0,0,0,.44445],"305":[0,.44444,0,0,.23889],"567":[.19444,.44444,0,0,.26667],"710":[0,.69444,0,0,.5],"711":[0,.63194,0,0,.5],"713":[0,.60889,0,0,.5],"714":[0,.69444,0,0,.5],"715":[0,.69444,0,0,.5],"728":[0,.69444,0,0,.5],"729":[0,.67937,0,0,.27778],"730":[0,.69444,0,0,.66667],"732":[0,.67659,0,0,.5],"733":[0,.69444,0,0,.5],"915":[0,.69444,0,0,.54167],"916":[0,.69444,0,0,.83334],"920":[0,.69444,0,0,.77778],"923":[0,.69444,0,0,.61111],"926":[0,.69444,0,0,.66667],"928":[0,.69444,0,0,.70834],"931":[0,.69444,0,0,.72222],"933":[0,.69444,0,0,.77778],"934":[0,.69444,0,0,.72222],"936":[0,.69444,0,0,.77778],"937":[0,.69444,0,0,.72222],"8211":[0,.44444,.02778,0,.5],"8212":[0,.44444,.02778,0,1],"8216":[0,.69444,0,0,.27778],"8217":[0,.69444,0,0,.27778],"8220":[0,.69444,0,0,.5],"8221":[0,.69444,0,0,.5]},"Script-Regular":{"32":[0,0,0,0,.25],"65":[0,.7,.22925,0,.80253],"66":[0,.7,.04087,0,.90757],"67":[0,.7,.1689,0,.66619],"68":[0,.7,.09371,0,.77443],"69":[0,.7,.18583,0,.56162],"70":[0,.7,.13634,0,.89544],"71":[0,.7,.17322,0,.60961],"72":[0,.7,.29694,0,.96919],"73":[0,.7,.19189,0,.80907],"74":[.27778,.7,.19189,0,1.05159],"75":[0,.7,.31259,0,.91364],"76":[0,.7,.19189,0,.87373],"77":[0,.7,.15981,0,1.08031],"78":[0,.7,.3525,0,.9015],"79":[0,.7,.08078,0,.73787],"80":[0,.7,.08078,0,1.01262],"81":[0,.7,.03305,0,.88282],"82":[0,.7,.06259,0,.85],"83":[0,.7,.19189,0,.86767],"84":[0,.7,.29087,0,.74697],"85":[0,.7,.25815,0,.79996],"86":[0,.7,.27523,0,.62204],"87":[0,.7,.27523,0,.80532],"88":[0,.7,.26006,0,.94445],"89":[0,.7,.2939,0,.70961],"90":[0,.7,.24037,0,.8212],"160":[0,0,0,0,.25]},"Size1-Regular":{"32":[0,0,0,0,.25],"40":[.35001,.85,0,0,.45834],"41":[.35001,.85,0,0,.45834],"47":[.35001,.85,0,0,.57778],"91":[.35001,.85,0,0,.41667],"92":[.35001,.85,0,0,.57778],"93":[.35001,.85,0,0,.41667],"123":[.35001,.85,0,0,.58334],"125":[.35001,.85,0,0,.58334],"160":[0,0,0,0,.25],"710":[0,.72222,0,0,.55556],"732":[0,.72222,0,0,.55556],"770":[0,.72222,0,0,.55556],"771":[0,.72222,0,0,.55556],"8214":[-99e-5,.601,0,0,.77778],"8593":[1e-5,.6,0,0,.66667],"8595":[1e-5,.6,0,0,.66667],"8657":[1e-5,.6,0,0,.77778],"8659":[1e-5,.6,0,0,.77778],"8719":[.25001,.75,0,0,.94445],"8720":[.25001,.75,0,0,.94445],"8721":[.25001,.75,0,0,1.05556],"8730":[.35001,.85,0,0,1],"8739":[-.00599,.606,0,0,.33333],"8741":[-.00599,.606,0,0,.55556],"8747":[.30612,.805,.19445,0,.47222],"8748":[.306,.805,.19445,0,.47222],"8749":[.306,.805,.19445,0,.47222],"8750":[.30612,.805,.19445,0,.47222],"8896":[.25001,.75,0,0,.83334],"8897":[.25001,.75,0,0,.83334],"8898":[.25001,.75,0,0,.83334],"8899":[.25001,.75,0,0,.83334],"8968":[.35001,.85,0,0,.47222],"8969":[.35001,.85,0,0,.47222],"8970":[.35001,.85,0,0,.47222],"8971":[.35001,.85,0,0,.47222],"9168":[-99e-5,.601,0,0,.66667],"10216":[.35001,.85,0,0,.47222],"10217":[.35001,.85,0,0,.47222],"10752":[.25001,.75,0,0,1.11111],"10753":[.25001,.75,0,0,1.11111],"10754":[.25001,.75,0,0,1.11111],"10756":[.25001,.75,0,0,.83334],"10758":[.25001,.75,0,0,.83334]},"Size2-Regular":{"32":[0,0,0,0,.25],"40":[.65002,1.15,0,0,.59722],"41":[.65002,1.15,0,0,.59722],"47":[.65002,1.15,0,0,.81111],"91":[.65002,1.15,0,0,.47222],"92":[.65002,1.15,0,0,.81111],"93":[.65002,1.15,0,0,.47222],"123":[.65002,1.15,0,0,.66667],"125":[.65002,1.15,0,0,.66667],"160":[0,0,0,0,.25],"710":[0,.75,0,0,1],"732":[0,.75,0,0,1],"770":[0,.75,0,0,1],"771":[0,.75,0,0,1],"8719":[.55001,1.05,0,0,1.27778],"8720":[.55001,1.05,0,0,1.27778],"8721":[.55001,1.05,0,0,1.44445],"8730":[.65002,1.15,0,0,1],"8747":[.86225,1.36,.44445,0,.55556],"8748":[.862,1.36,.44445,0,.55556],"8749":[.862,1.36,.44445,0,.55556],"8750":[.86225,1.36,.44445,0,.55556],"8896":[.55001,1.05,0,0,1.11111],"8897":[.55001,1.05,0,0,1.11111],"8898":[.55001,1.05,0,0,1.11111],"8899":[.55001,1.05,0,0,1.11111],"8968":[.65002,1.15,0,0,.52778],"8969":[.65002,1.15,0,0,.52778],"8970":[.65002,1.15,0,0,.52778],"8971":[.65002,1.15,0,0,.52778],"10216":[.65002,1.15,0,0,.61111],"10217":[.65002,1.15,0,0,.61111],"10752":[.55001,1.05,0,0,1.51112],"10753":[.55001,1.05,0,0,1.51112],"10754":[.55001,1.05,0,0,1.51112],"10756":[.55001,1.05,0,0,1.11111],"10758":[.55001,1.05,0,0,1.11111]},"Size3-Regular":{"32":[0,0,0,0,.25],"40":[.95003,1.45,0,0,.73611],"41":[.95003,1.45,0,0,.73611],"47":[.95003,1.45,0,0,1.04445],"91":[.95003,1.45,0,0,.52778],"92":[.95003,1.45,0,0,1.04445],"93":[.95003,1.45,0,0,.52778],"123":[.95003,1.45,0,0,.75],"125":[.95003,1.45,0,0,.75],"160":[0,0,0,0,.25],"710":[0,.75,0,0,1.44445],"732":[0,.75,0,0,1.44445],"770":[0,.75,0,0,1.44445],"771":[0,.75,0,0,1.44445],"8730":[.95003,1.45,0,0,1],"8968":[.95003,1.45,0,0,.58334],"8969":[.95003,1.45,0,0,.58334],"8970":[.95003,1.45,0,0,.58334],"8971":[.95003,1.45,0,0,.58334],"10216":[.95003,1.45,0,0,.75],"10217":[.95003,1.45,0,0,.75]},"Size4-Regular":{"32":[0,0,0,0,.25],"40":[1.25003,1.75,0,0,.79167],"41":[1.25003,1.75,0,0,.79167],"47":[1.25003,1.75,0,0,1.27778],"91":[1.25003,1.75,0,0,.58334],"92":[1.25003,1.75,0,0,1.27778],"93":[1.25003,1.75,0,0,.58334],"123":[1.25003,1.75,0,0,.80556],"125":[1.25003,1.75,0,0,.80556],"160":[0,0,0,0,.25],"710":[0,.825,0,0,1.8889],"732":[0,.825,0,0,1.8889],"770":[0,.825,0,0,1.8889],"771":[0,.825,0,0,1.8889],"8730":[1.25003,1.75,0,0,1],"8968":[1.25003,1.75,0,0,.63889],"8969":[1.25003,1.75,0,0,.63889],"8970":[1.25003,1.75,0,0,.63889],"8971":[1.25003,1.75,0,0,.63889],"9115":[.64502,1.155,0,0,.875],"9116":[1e-5,.6,0,0,.875],"9117":[.64502,1.155,0,0,.875],"9118":[.64502,1.155,0,0,.875],"9119":[1e-5,.6,0,0,.875],"9120":[.64502,1.155,0,0,.875],"9121":[.64502,1.155,0,0,.66667],"9122":[-99e-5,.601,0,0,.66667],"9123":[.64502,1.155,0,0,.66667],"9124":[.64502,1.155,0,0,.66667],"9125":[-99e-5,.601,0,0,.66667],"9126":[.64502,1.155,0,0,.66667],"9127":[1e-5,.9,0,0,.88889],"9128":[.65002,1.15,0,0,.88889],"9129":[.90001,0,0,0,.88889],"9130":[0,.3,0,0,.88889],"9131":[1e-5,.9,0,0,.88889],"9132":[.65002,1.15,0,0,.88889],"9133":[.90001,0,0,0,.88889],"9143":[.88502,.915,0,0,1.05556],"10216":[1.25003,1.75,0,0,.80556],"10217":[1.25003,1.75,0,0,.80556],"57344":[-.00499,.605,0,0,1.05556],"57345":[-.00499,.605,0,0,1.05556],"57680":[0,.12,0,0,.45],"57681":[0,.12,0,0,.45],"57682":[0,.12,0,0,.45],"57683":[0,.12,0,0,.45]},"Typewriter-Regular":{"32":[0,0,0,0,.525],"33":[0,.61111,0,0,.525],"34":[0,.61111,0,0,.525],"35":[0,.61111,0,0,.525],"36":[.08333,.69444,0,0,.525],"37":[.08333,.69444,0,0,.525],"38":[0,.61111,0,0,.525],"39":[0,.61111,0,0,.525],"40":[.08333,.69444,0,0,.525],"41":[.08333,.69444,0,0,.525],"42":[0,.52083,0,0,.525],"43":[-.08056,.53055,0,0,.525],"44":[.13889,.125,0,0,.525],"45":[-.08056,.53055,0,0,.525],"46":[0,.125,0,0,.525],"47":[.08333,.69444,0,0,.525],"48":[0,.61111,0,0,.525],"49":[0,.61111,0,0,.525],"50":[0,.61111,0,0,.525],"51":[0,.61111,0,0,.525],"52":[0,.61111,0,0,.525],"53":[0,.61111,0,0,.525],"54":[0,.61111,0,0,.525],"55":[0,.61111,0,0,.525],"56":[0,.61111,0,0,.525],"57":[0,.61111,0,0,.525],"58":[0,.43056,0,0,.525],"59":[.13889,.43056,0,0,.525],"60":[-.05556,.55556,0,0,.525],"61":[-.19549,.41562,0,0,.525],"62":[-.05556,.55556,0,0,.525],"63":[0,.61111,0,0,.525],"64":[0,.61111,0,0,.525],"65":[0,.61111,0,0,.525],"66":[0,.61111,0,0,.525],"67":[0,.61111,0,0,.525],"68":[0,.61111,0,0,.525],"69":[0,.61111,0,0,.525],"70":[0,.61111,0,0,.525],"71":[0,.61111,0,0,.525],"72":[0,.61111,0,0,.525],"73":[0,.61111,0,0,.525],"74":[0,.61111,0,0,.525],"75":[0,.61111,0,0,.525],"76":[0,.61111,0,0,.525],"77":[0,.61111,0,0,.525],"78":[0,.61111,0,0,.525],"79":[0,.61111,0,0,.525],"80":[0,.61111,0,0,.525],"81":[.13889,.61111,0,0,.525],"82":[0,.61111,0,0,.525],"83":[0,.61111,0,0,.525],"84":[0,.61111,0,0,.525],"85":[0,.61111,0,0,.525],"86":[0,.61111,0,0,.525],"87":[0,.61111,0,0,.525],"88":[0,.61111,0,0,.525],"89":[0,.61111,0,0,.525],"90":[0,.61111,0,0,.525],"91":[.08333,.69444,0,0,.525],"92":[.08333,.69444,0,0,.525],"93":[.08333,.69444,0,0,.525],"94":[0,.61111,0,0,.525],"95":[.09514,0,0,0,.525],"96":[0,.61111,0,0,.525],"97":[0,.43056,0,0,.525],"98":[0,.61111,0,0,.525],"99":[0,.43056,0,0,.525],"100":[0,.61111,0,0,.525],"101":[0,.43056,0,0,.525],"102":[0,.61111,0,0,.525],"103":[.22222,.43056,0,0,.525],"104":[0,.61111,0,0,.525],"105":[0,.61111,0,0,.525],"106":[.22222,.61111,0,0,.525],"107":[0,.61111,0,0,.525],"108":[0,.61111,0,0,.525],"109":[0,.43056,0,0,.525],"110":[0,.43056,0,0,.525],"111":[0,.43056,0,0,.525],"112":[.22222,.43056,0,0,.525],"113":[.22222,.43056,0,0,.525],"114":[0,.43056,0,0,.525],"115":[0,.43056,0,0,.525],"116":[0,.55358,0,0,.525],"117":[0,.43056,0,0,.525],"118":[0,.43056,0,0,.525],"119":[0,.43056,0,0,.525],"120":[0,.43056,0,0,.525],"121":[.22222,.43056,0,0,.525],"122":[0,.43056,0,0,.525],"123":[.08333,.69444,0,0,.525],"124":[.08333,.69444,0,0,.525],"125":[.08333,.69444,0,0,.525],"126":[0,.61111,0,0,.525],"127":[0,.61111,0,0,.525],"160":[0,0,0,0,.525],"176":[0,.61111,0,0,.525],"184":[.19445,0,0,0,.525],"305":[0,.43056,0,0,.525],"567":[.22222,.43056,0,0,.525],"711":[0,.56597,0,0,.525],"713":[0,.56555,0,0,.525],"714":[0,.61111,0,0,.525],"715":[0,.61111,0,0,.525],"728":[0,.61111,0,0,.525],"730":[0,.61111,0,0,.525],"770":[0,.61111,0,0,.525],"771":[0,.61111,0,0,.525],"776":[0,.61111,0,0,.525],"915":[0,.61111,0,0,.525],"916":[0,.61111,0,0,.525],"920":[0,.61111,0,0,.525],"923":[0,.61111,0,0,.525],"926":[0,.61111,0,0,.525],"928":[0,.61111,0,0,.525],"931":[0,.61111,0,0,.525],"933":[0,.61111,0,0,.525],"934":[0,.61111,0,0,.525],"936":[0,.61111,0,0,.525],"937":[0,.61111,0,0,.525],"8216":[0,.61111,0,0,.525],"8217":[0,.61111,0,0,.525],"8242":[0,.61111,0,0,.525],"9251":[.11111,.21944,0,0,.525]}},N2={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},hT={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function dY(t,e){Ts[t]=e}function G7(t,e,r){if(!Ts[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=Ts[e][n];if(!i&&t[0]in hT&&(n=hT[t[0]].charCodeAt(0),i=Ts[e][n]),!i&&r==="text"&&PL(n)&&(i=Ts[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var Hx={};function hY(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Hx[e]){var r=Hx[e]={cssEmPerMu:N2.quad[e]/18};for(var n in N2)N2.hasOwnProperty(n)&&(r[n]=N2[n][e])}return Hx[e]}var pY=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],pT=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],mT=function(e,r){return r.size<2?e:pY[e-1][r.size-1]};class Cu{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Cu.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=pT[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new Cu(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:mT(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:pT[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=mT(Cu.BASESIZE,e);return this.size===r&&this.textSize===Cu.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Cu.BASESIZE?["sizing","reset-size"+this.size,"size"+Cu.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=hY(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Cu.BASESIZE=6;var I5={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},mY={ex:!0,em:!0,mu:!0},NL=function(e){return typeof e!="string"&&(e=e.unit),e in I5||e in mY||e==="ex"},Gn=function(e,r){var n;if(e.unit in I5)n=I5[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new st("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},ht=function(e){return+e.toFixed(4)+"em"},l0=function(e){return e.filter(r=>r).join(" ")},jL=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},RL=function(e){var r=document.createElement(e);r.className=l0(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)r.appendChild(this.children[o].toNode());return r},FL=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+nr.escape(l0(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=nr.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+nr.escape(n)+'"');for(var o in this.attributes)this.attributes.hasOwnProperty(o)&&(r+=" "+o+'="'+nr.escape(this.attributes[o])+'"');r+=">";for(var c=0;c<this.children.length;c++)r+=this.children[c].toMarkup();return r+="</"+e+">",r};class qv{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,jL.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return nr.contains(this.classes,e)}toNode(){return RL.call(this,"span")}toMarkup(){return FL.call(this,"span")}}class V7{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,jL.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return nr.contains(this.classes,e)}toNode(){return RL.call(this,"a")}toMarkup(){return FL.call(this,"a")}}class vY{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return nr.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=nr.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+nr.escape(r)+'"'),e+="'/>",e}}var gY={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"};class vl{constructor(e,r,n,i,o,c,f,m){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=o||0,this.width=c||0,this.classes=f||[],this.style=m||{},this.maxFontSize=0;var x=rY(this.text.charCodeAt(0));x&&this.classes.push(x+"_fallback"),/[]/.test(this.text)&&(this.text=gY[this.text])}hasClass(e){return nr.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=ht(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=l0(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=nr.escape(l0(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=nr.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+nr.escape(n)+'"');var o=nr.escape(this.text);return e?(r+=">",r+=o,r+="</span>",r):o}}class s0{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+"='"+this.attributes[r]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class nd{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",dT[this.pathName]),r}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+dT[this.pathName]+"'/>"}}class D5{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+"='"+this.attributes[r]+"'");return e+="/>",e}}function vT(t){if(t instanceof vl)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function yY(t){if(t instanceof qv)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var bY={bin:1,close:1,inner:1,open:1,punct:1,rel:1},wY={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Cn={math:{},text:{}};function B(t,e,r,n,i,o){Cn[t][i]={font:e,group:r,replace:n},o&&n&&(Cn[t][n]=Cn[t][i])}var U="math",tt="text",X="main",se="ams",jn="accent-token",Tt="bin",Di="close",Lp="inner",Jt="mathord",ma="op-token",Lo="open",kb="punct",fe="rel",Hu="spacing",ke="textord";B(U,X,fe,"\u2261","\\equiv",!0);B(U,X,fe,"\u227A","\\prec",!0);B(U,X,fe,"\u227B","\\succ",!0);B(U,X,fe,"\u223C","\\sim",!0);B(U,X,fe,"\u22A5","\\perp");B(U,X,fe,"\u2AAF","\\preceq",!0);B(U,X,fe,"\u2AB0","\\succeq",!0);B(U,X,fe,"\u2243","\\simeq",!0);B(U,X,fe,"\u2223","\\mid",!0);B(U,X,fe,"\u226A","\\ll",!0);B(U,X,fe,"\u226B","\\gg",!0);B(U,X,fe,"\u224D","\\asymp",!0);B(U,X,fe,"\u2225","\\parallel");B(U,X,fe,"\u22C8","\\bowtie",!0);B(U,X,fe,"\u2323","\\smile",!0);B(U,X,fe,"\u2291","\\sqsubseteq",!0);B(U,X,fe,"\u2292","\\sqsupseteq",!0);B(U,X,fe,"\u2250","\\doteq",!0);B(U,X,fe,"\u2322","\\frown",!0);B(U,X,fe,"\u220B","\\ni",!0);B(U,X,fe,"\u221D","\\propto",!0);B(U,X,fe,"\u22A2","\\vdash",!0);B(U,X,fe,"\u22A3","\\dashv",!0);B(U,X,fe,"\u220B","\\owns");B(U,X,kb,".","\\ldotp");B(U,X,kb,"\u22C5","\\cdotp");B(U,X,ke,"#","\\#");B(tt,X,ke,"#","\\#");B(U,X,ke,"&","\\&");B(tt,X,ke,"&","\\&");B(U,X,ke,"\u2135","\\aleph",!0);B(U,X,ke,"\u2200","\\forall",!0);B(U,X,ke,"\u210F","\\hbar",!0);B(U,X,ke,"\u2203","\\exists",!0);B(U,X,ke,"\u2207","\\nabla",!0);B(U,X,ke,"\u266D","\\flat",!0);B(U,X,ke,"\u2113","\\ell",!0);B(U,X,ke,"\u266E","\\natural",!0);B(U,X,ke,"\u2663","\\clubsuit",!0);B(U,X,ke,"\u2118","\\wp",!0);B(U,X,ke,"\u266F","\\sharp",!0);B(U,X,ke,"\u2662","\\diamondsuit",!0);B(U,X,ke,"\u211C","\\Re",!0);B(U,X,ke,"\u2661","\\heartsuit",!0);B(U,X,ke,"\u2111","\\Im",!0);B(U,X,ke,"\u2660","\\spadesuit",!0);B(U,X,ke,"\xA7","\\S",!0);B(tt,X,ke,"\xA7","\\S");B(U,X,ke,"\xB6","\\P",!0);B(tt,X,ke,"\xB6","\\P");B(U,X,ke,"\u2020","\\dag");B(tt,X,ke,"\u2020","\\dag");B(tt,X,ke,"\u2020","\\textdagger");B(U,X,ke,"\u2021","\\ddag");B(tt,X,ke,"\u2021","\\ddag");B(tt,X,ke,"\u2021","\\textdaggerdbl");B(U,X,Di,"\u23B1","\\rmoustache",!0);B(U,X,Lo,"\u23B0","\\lmoustache",!0);B(U,X,Di,"\u27EF","\\rgroup",!0);B(U,X,Lo,"\u27EE","\\lgroup",!0);B(U,X,Tt,"\u2213","\\mp",!0);B(U,X,Tt,"\u2296","\\ominus",!0);B(U,X,Tt,"\u228E","\\uplus",!0);B(U,X,Tt,"\u2293","\\sqcap",!0);B(U,X,Tt,"\u2217","\\ast");B(U,X,Tt,"\u2294","\\sqcup",!0);B(U,X,Tt,"\u25EF","\\bigcirc",!0);B(U,X,Tt,"\u2219","\\bullet",!0);B(U,X,Tt,"\u2021","\\ddagger");B(U,X,Tt,"\u2240","\\wr",!0);B(U,X,Tt,"\u2A3F","\\amalg");B(U,X,Tt,"&","\\And");B(U,X,fe,"\u27F5","\\longleftarrow",!0);B(U,X,fe,"\u21D0","\\Leftarrow",!0);B(U,X,fe,"\u27F8","\\Longleftarrow",!0);B(U,X,fe,"\u27F6","\\longrightarrow",!0);B(U,X,fe,"\u21D2","\\Rightarrow",!0);B(U,X,fe,"\u27F9","\\Longrightarrow",!0);B(U,X,fe,"\u2194","\\leftrightarrow",!0);B(U,X,fe,"\u27F7","\\longleftrightarrow",!0);B(U,X,fe,"\u21D4","\\Leftrightarrow",!0);B(U,X,fe,"\u27FA","\\Longleftrightarrow",!0);B(U,X,fe,"\u21A6","\\mapsto",!0);B(U,X,fe,"\u27FC","\\longmapsto",!0);B(U,X,fe,"\u2197","\\nearrow",!0);B(U,X,fe,"\u21A9","\\hookleftarrow",!0);B(U,X,fe,"\u21AA","\\hookrightarrow",!0);B(U,X,fe,"\u2198","\\searrow",!0);B(U,X,fe,"\u21BC","\\leftharpoonup",!0);B(U,X,fe,"\u21C0","\\rightharpoonup",!0);B(U,X,fe,"\u2199","\\swarrow",!0);B(U,X,fe,"\u21BD","\\leftharpoondown",!0);B(U,X,fe,"\u21C1","\\rightharpoondown",!0);B(U,X,fe,"\u2196","\\nwarrow",!0);B(U,X,fe,"\u21CC","\\rightleftharpoons",!0);B(U,se,fe,"\u226E","\\nless",!0);B(U,se,fe,"\uE010","\\@nleqslant");B(U,se,fe,"\uE011","\\@nleqq");B(U,se,fe,"\u2A87","\\lneq",!0);B(U,se,fe,"\u2268","\\lneqq",!0);B(U,se,fe,"\uE00C","\\@lvertneqq");B(U,se,fe,"\u22E6","\\lnsim",!0);B(U,se,fe,"\u2A89","\\lnapprox",!0);B(U,se,fe,"\u2280","\\nprec",!0);B(U,se,fe,"\u22E0","\\npreceq",!0);B(U,se,fe,"\u22E8","\\precnsim",!0);B(U,se,fe,"\u2AB9","\\precnapprox",!0);B(U,se,fe,"\u2241","\\nsim",!0);B(U,se,fe,"\uE006","\\@nshortmid");B(U,se,fe,"\u2224","\\nmid",!0);B(U,se,fe,"\u22AC","\\nvdash",!0);B(U,se,fe,"\u22AD","\\nvDash",!0);B(U,se,fe,"\u22EA","\\ntriangleleft");B(U,se,fe,"\u22EC","\\ntrianglelefteq",!0);B(U,se,fe,"\u228A","\\subsetneq",!0);B(U,se,fe,"\uE01A","\\@varsubsetneq");B(U,se,fe,"\u2ACB","\\subsetneqq",!0);B(U,se,fe,"\uE017","\\@varsubsetneqq");B(U,se,fe,"\u226F","\\ngtr",!0);B(U,se,fe,"\uE00F","\\@ngeqslant");B(U,se,fe,"\uE00E","\\@ngeqq");B(U,se,fe,"\u2A88","\\gneq",!0);B(U,se,fe,"\u2269","\\gneqq",!0);B(U,se,fe,"\uE00D","\\@gvertneqq");B(U,se,fe,"\u22E7","\\gnsim",!0);B(U,se,fe,"\u2A8A","\\gnapprox",!0);B(U,se,fe,"\u2281","\\nsucc",!0);B(U,se,fe,"\u22E1","\\nsucceq",!0);B(U,se,fe,"\u22E9","\\succnsim",!0);B(U,se,fe,"\u2ABA","\\succnapprox",!0);B(U,se,fe,"\u2246","\\ncong",!0);B(U,se,fe,"\uE007","\\@nshortparallel");B(U,se,fe,"\u2226","\\nparallel",!0);B(U,se,fe,"\u22AF","\\nVDash",!0);B(U,se,fe,"\u22EB","\\ntriangleright");B(U,se,fe,"\u22ED","\\ntrianglerighteq",!0);B(U,se,fe,"\uE018","\\@nsupseteqq");B(U,se,fe,"\u228B","\\supsetneq",!0);B(U,se,fe,"\uE01B","\\@varsupsetneq");B(U,se,fe,"\u2ACC","\\supsetneqq",!0);B(U,se,fe,"\uE019","\\@varsupsetneqq");B(U,se,fe,"\u22AE","\\nVdash",!0);B(U,se,fe,"\u2AB5","\\precneqq",!0);B(U,se,fe,"\u2AB6","\\succneqq",!0);B(U,se,fe,"\uE016","\\@nsubseteqq");B(U,se,Tt,"\u22B4","\\unlhd");B(U,se,Tt,"\u22B5","\\unrhd");B(U,se,fe,"\u219A","\\nleftarrow",!0);B(U,se,fe,"\u219B","\\nrightarrow",!0);B(U,se,fe,"\u21CD","\\nLeftarrow",!0);B(U,se,fe,"\u21CF","\\nRightarrow",!0);B(U,se,fe,"\u21AE","\\nleftrightarrow",!0);B(U,se,fe,"\u21CE","\\nLeftrightarrow",!0);B(U,se,fe,"\u25B3","\\vartriangle");B(U,se,ke,"\u210F","\\hslash");B(U,se,ke,"\u25BD","\\triangledown");B(U,se,ke,"\u25CA","\\lozenge");B(U,se,ke,"\u24C8","\\circledS");B(U,se,ke,"\xAE","\\circledR");B(tt,se,ke,"\xAE","\\circledR");B(U,se,ke,"\u2221","\\measuredangle",!0);B(U,se,ke,"\u2204","\\nexists");B(U,se,ke,"\u2127","\\mho");B(U,se,ke,"\u2132","\\Finv",!0);B(U,se,ke,"\u2141","\\Game",!0);B(U,se,ke,"\u2035","\\backprime");B(U,se,ke,"\u25B2","\\blacktriangle");B(U,se,ke,"\u25BC","\\blacktriangledown");B(U,se,ke,"\u25A0","\\blacksquare");B(U,se,ke,"\u29EB","\\blacklozenge");B(U,se,ke,"\u2605","\\bigstar");B(U,se,ke,"\u2222","\\sphericalangle",!0);B(U,se,ke,"\u2201","\\complement",!0);B(U,se,ke,"\xF0","\\eth",!0);B(tt,X,ke,"\xF0","\xF0");B(U,se,ke,"\u2571","\\diagup");B(U,se,ke,"\u2572","\\diagdown");B(U,se,ke,"\u25A1","\\square");B(U,se,ke,"\u25A1","\\Box");B(U,se,ke,"\u25CA","\\Diamond");B(U,se,ke,"\xA5","\\yen",!0);B(tt,se,ke,"\xA5","\\yen",!0);B(U,se,ke,"\u2713","\\checkmark",!0);B(tt,se,ke,"\u2713","\\checkmark");B(U,se,ke,"\u2136","\\beth",!0);B(U,se,ke,"\u2138","\\daleth",!0);B(U,se,ke,"\u2137","\\gimel",!0);B(U,se,ke,"\u03DD","\\digamma",!0);B(U,se,ke,"\u03F0","\\varkappa");B(U,se,Lo,"\u250C","\\@ulcorner",!0);B(U,se,Di,"\u2510","\\@urcorner",!0);B(U,se,Lo,"\u2514","\\@llcorner",!0);B(U,se,Di,"\u2518","\\@lrcorner",!0);B(U,se,fe,"\u2266","\\leqq",!0);B(U,se,fe,"\u2A7D","\\leqslant",!0);B(U,se,fe,"\u2A95","\\eqslantless",!0);B(U,se,fe,"\u2272","\\lesssim",!0);B(U,se,fe,"\u2A85","\\lessapprox",!0);B(U,se,fe,"\u224A","\\approxeq",!0);B(U,se,Tt,"\u22D6","\\lessdot");B(U,se,fe,"\u22D8","\\lll",!0);B(U,se,fe,"\u2276","\\lessgtr",!0);B(U,se,fe,"\u22DA","\\lesseqgtr",!0);B(U,se,fe,"\u2A8B","\\lesseqqgtr",!0);B(U,se,fe,"\u2251","\\doteqdot");B(U,se,fe,"\u2253","\\risingdotseq",!0);B(U,se,fe,"\u2252","\\fallingdotseq",!0);B(U,se,fe,"\u223D","\\backsim",!0);B(U,se,fe,"\u22CD","\\backsimeq",!0);B(U,se,fe,"\u2AC5","\\subseteqq",!0);B(U,se,fe,"\u22D0","\\Subset",!0);B(U,se,fe,"\u228F","\\sqsubset",!0);B(U,se,fe,"\u227C","\\preccurlyeq",!0);B(U,se,fe,"\u22DE","\\curlyeqprec",!0);B(U,se,fe,"\u227E","\\precsim",!0);B(U,se,fe,"\u2AB7","\\precapprox",!0);B(U,se,fe,"\u22B2","\\vartriangleleft");B(U,se,fe,"\u22B4","\\trianglelefteq");B(U,se,fe,"\u22A8","\\vDash",!0);B(U,se,fe,"\u22AA","\\Vvdash",!0);B(U,se,fe,"\u2323","\\smallsmile");B(U,se,fe,"\u2322","\\smallfrown");B(U,se,fe,"\u224F","\\bumpeq",!0);B(U,se,fe,"\u224E","\\Bumpeq",!0);B(U,se,fe,"\u2267","\\geqq",!0);B(U,se,fe,"\u2A7E","\\geqslant",!0);B(U,se,fe,"\u2A96","\\eqslantgtr",!0);B(U,se,fe,"\u2273","\\gtrsim",!0);B(U,se,fe,"\u2A86","\\gtrapprox",!0);B(U,se,Tt,"\u22D7","\\gtrdot");B(U,se,fe,"\u22D9","\\ggg",!0);B(U,se,fe,"\u2277","\\gtrless",!0);B(U,se,fe,"\u22DB","\\gtreqless",!0);B(U,se,fe,"\u2A8C","\\gtreqqless",!0);B(U,se,fe,"\u2256","\\eqcirc",!0);B(U,se,fe,"\u2257","\\circeq",!0);B(U,se,fe,"\u225C","\\triangleq",!0);B(U,se,fe,"\u223C","\\thicksim");B(U,se,fe,"\u2248","\\thickapprox");B(U,se,fe,"\u2AC6","\\supseteqq",!0);B(U,se,fe,"\u22D1","\\Supset",!0);B(U,se,fe,"\u2290","\\sqsupset",!0);B(U,se,fe,"\u227D","\\succcurlyeq",!0);B(U,se,fe,"\u22DF","\\curlyeqsucc",!0);B(U,se,fe,"\u227F","\\succsim",!0);B(U,se,fe,"\u2AB8","\\succapprox",!0);B(U,se,fe,"\u22B3","\\vartriangleright");B(U,se,fe,"\u22B5","\\trianglerighteq");B(U,se,fe,"\u22A9","\\Vdash",!0);B(U,se,fe,"\u2223","\\shortmid");B(U,se,fe,"\u2225","\\shortparallel");B(U,se,fe,"\u226C","\\between",!0);B(U,se,fe,"\u22D4","\\pitchfork",!0);B(U,se,fe,"\u221D","\\varpropto");B(U,se,fe,"\u25C0","\\blacktriangleleft");B(U,se,fe,"\u2234","\\therefore",!0);B(U,se,fe,"\u220D","\\backepsilon");B(U,se,fe,"\u25B6","\\blacktriangleright");B(U,se,fe,"\u2235","\\because",!0);B(U,se,fe,"\u22D8","\\llless");B(U,se,fe,"\u22D9","\\gggtr");B(U,se,Tt,"\u22B2","\\lhd");B(U,se,Tt,"\u22B3","\\rhd");B(U,se,fe,"\u2242","\\eqsim",!0);B(U,X,fe,"\u22C8","\\Join");B(U,se,fe,"\u2251","\\Doteq",!0);B(U,se,Tt,"\u2214","\\dotplus",!0);B(U,se,Tt,"\u2216","\\smallsetminus");B(U,se,Tt,"\u22D2","\\Cap",!0);B(U,se,Tt,"\u22D3","\\Cup",!0);B(U,se,Tt,"\u2A5E","\\doublebarwedge",!0);B(U,se,Tt,"\u229F","\\boxminus",!0);B(U,se,Tt,"\u229E","\\boxplus",!0);B(U,se,Tt,"\u22C7","\\divideontimes",!0);B(U,se,Tt,"\u22C9","\\ltimes",!0);B(U,se,Tt,"\u22CA","\\rtimes",!0);B(U,se,Tt,"\u22CB","\\leftthreetimes",!0);B(U,se,Tt,"\u22CC","\\rightthreetimes",!0);B(U,se,Tt,"\u22CF","\\curlywedge",!0);B(U,se,Tt,"\u22CE","\\curlyvee",!0);B(U,se,Tt,"\u229D","\\circleddash",!0);B(U,se,Tt,"\u229B","\\circledast",!0);B(U,se,Tt,"\u22C5","\\centerdot");B(U,se,Tt,"\u22BA","\\intercal",!0);B(U,se,Tt,"\u22D2","\\doublecap");B(U,se,Tt,"\u22D3","\\doublecup");B(U,se,Tt,"\u22A0","\\boxtimes",!0);B(U,se,fe,"\u21E2","\\dashrightarrow",!0);B(U,se,fe,"\u21E0","\\dashleftarrow",!0);B(U,se,fe,"\u21C7","\\leftleftarrows",!0);B(U,se,fe,"\u21C6","\\leftrightarrows",!0);B(U,se,fe,"\u21DA","\\Lleftarrow",!0);B(U,se,fe,"\u219E","\\twoheadleftarrow",!0);B(U,se,fe,"\u21A2","\\leftarrowtail",!0);B(U,se,fe,"\u21AB","\\looparrowleft",!0);B(U,se,fe,"\u21CB","\\leftrightharpoons",!0);B(U,se,fe,"\u21B6","\\curvearrowleft",!0);B(U,se,fe,"\u21BA","\\circlearrowleft",!0);B(U,se,fe,"\u21B0","\\Lsh",!0);B(U,se,fe,"\u21C8","\\upuparrows",!0);B(U,se,fe,"\u21BF","\\upharpoonleft",!0);B(U,se,fe,"\u21C3","\\downharpoonleft",!0);B(U,X,fe,"\u22B6","\\origof",!0);B(U,X,fe,"\u22B7","\\imageof",!0);B(U,se,fe,"\u22B8","\\multimap",!0);B(U,se,fe,"\u21AD","\\leftrightsquigarrow",!0);B(U,se,fe,"\u21C9","\\rightrightarrows",!0);B(U,se,fe,"\u21C4","\\rightleftarrows",!0);B(U,se,fe,"\u21A0","\\twoheadrightarrow",!0);B(U,se,fe,"\u21A3","\\rightarrowtail",!0);B(U,se,fe,"\u21AC","\\looparrowright",!0);B(U,se,fe,"\u21B7","\\curvearrowright",!0);B(U,se,fe,"\u21BB","\\circlearrowright",!0);B(U,se,fe,"\u21B1","\\Rsh",!0);B(U,se,fe,"\u21CA","\\downdownarrows",!0);B(U,se,fe,"\u21BE","\\upharpoonright",!0);B(U,se,fe,"\u21C2","\\downharpoonright",!0);B(U,se,fe,"\u21DD","\\rightsquigarrow",!0);B(U,se,fe,"\u21DD","\\leadsto");B(U,se,fe,"\u21DB","\\Rrightarrow",!0);B(U,se,fe,"\u21BE","\\restriction");B(U,X,ke,"\u2018","`");B(U,X,ke,"$","\\$");B(tt,X,ke,"$","\\$");B(tt,X,ke,"$","\\textdollar");B(U,X,ke,"%","\\%");B(tt,X,ke,"%","\\%");B(U,X,ke,"_","\\_");B(tt,X,ke,"_","\\_");B(tt,X,ke,"_","\\textunderscore");B(U,X,ke,"\u2220","\\angle",!0);B(U,X,ke,"\u221E","\\infty",!0);B(U,X,ke,"\u2032","\\prime");B(U,X,ke,"\u25B3","\\triangle");B(U,X,ke,"\u0393","\\Gamma",!0);B(U,X,ke,"\u0394","\\Delta",!0);B(U,X,ke,"\u0398","\\Theta",!0);B(U,X,ke,"\u039B","\\Lambda",!0);B(U,X,ke,"\u039E","\\Xi",!0);B(U,X,ke,"\u03A0","\\Pi",!0);B(U,X,ke,"\u03A3","\\Sigma",!0);B(U,X,ke,"\u03A5","\\Upsilon",!0);B(U,X,ke,"\u03A6","\\Phi",!0);B(U,X,ke,"\u03A8","\\Psi",!0);B(U,X,ke,"\u03A9","\\Omega",!0);B(U,X,ke,"A","\u0391");B(U,X,ke,"B","\u0392");B(U,X,ke,"E","\u0395");B(U,X,ke,"Z","\u0396");B(U,X,ke,"H","\u0397");B(U,X,ke,"I","\u0399");B(U,X,ke,"K","\u039A");B(U,X,ke,"M","\u039C");B(U,X,ke,"N","\u039D");B(U,X,ke,"O","\u039F");B(U,X,ke,"P","\u03A1");B(U,X,ke,"T","\u03A4");B(U,X,ke,"X","\u03A7");B(U,X,ke,"\xAC","\\neg",!0);B(U,X,ke,"\xAC","\\lnot");B(U,X,ke,"\u22A4","\\top");B(U,X,ke,"\u22A5","\\bot");B(U,X,ke,"\u2205","\\emptyset");B(U,se,ke,"\u2205","\\varnothing");B(U,X,Jt,"\u03B1","\\alpha",!0);B(U,X,Jt,"\u03B2","\\beta",!0);B(U,X,Jt,"\u03B3","\\gamma",!0);B(U,X,Jt,"\u03B4","\\delta",!0);B(U,X,Jt,"\u03F5","\\epsilon",!0);B(U,X,Jt,"\u03B6","\\zeta",!0);B(U,X,Jt,"\u03B7","\\eta",!0);B(U,X,Jt,"\u03B8","\\theta",!0);B(U,X,Jt,"\u03B9","\\iota",!0);B(U,X,Jt,"\u03BA","\\kappa",!0);B(U,X,Jt,"\u03BB","\\lambda",!0);B(U,X,Jt,"\u03BC","\\mu",!0);B(U,X,Jt,"\u03BD","\\nu",!0);B(U,X,Jt,"\u03BE","\\xi",!0);B(U,X,Jt,"\u03BF","\\omicron",!0);B(U,X,Jt,"\u03C0","\\pi",!0);B(U,X,Jt,"\u03C1","\\rho",!0);B(U,X,Jt,"\u03C3","\\sigma",!0);B(U,X,Jt,"\u03C4","\\tau",!0);B(U,X,Jt,"\u03C5","\\upsilon",!0);B(U,X,Jt,"\u03D5","\\phi",!0);B(U,X,Jt,"\u03C7","\\chi",!0);B(U,X,Jt,"\u03C8","\\psi",!0);B(U,X,Jt,"\u03C9","\\omega",!0);B(U,X,Jt,"\u03B5","\\varepsilon",!0);B(U,X,Jt,"\u03D1","\\vartheta",!0);B(U,X,Jt,"\u03D6","\\varpi",!0);B(U,X,Jt,"\u03F1","\\varrho",!0);B(U,X,Jt,"\u03C2","\\varsigma",!0);B(U,X,Jt,"\u03C6","\\varphi",!0);B(U,X,Tt,"\u2217","*",!0);B(U,X,Tt,"+","+");B(U,X,Tt,"\u2212","-",!0);B(U,X,Tt,"\u22C5","\\cdot",!0);B(U,X,Tt,"\u2218","\\circ",!0);B(U,X,Tt,"\xF7","\\div",!0);B(U,X,Tt,"\xB1","\\pm",!0);B(U,X,Tt,"\xD7","\\times",!0);B(U,X,Tt,"\u2229","\\cap",!0);B(U,X,Tt,"\u222A","\\cup",!0);B(U,X,Tt,"\u2216","\\setminus",!0);B(U,X,Tt,"\u2227","\\land");B(U,X,Tt,"\u2228","\\lor");B(U,X,Tt,"\u2227","\\wedge",!0);B(U,X,Tt,"\u2228","\\vee",!0);B(U,X,ke,"\u221A","\\surd");B(U,X,Lo,"\u27E8","\\langle",!0);B(U,X,Lo,"\u2223","\\lvert");B(U,X,Lo,"\u2225","\\lVert");B(U,X,Di,"?","?");B(U,X,Di,"!","!");B(U,X,Di,"\u27E9","\\rangle",!0);B(U,X,Di,"\u2223","\\rvert");B(U,X,Di,"\u2225","\\rVert");B(U,X,fe,"=","=");B(U,X,fe,":",":");B(U,X,fe,"\u2248","\\approx",!0);B(U,X,fe,"\u2245","\\cong",!0);B(U,X,fe,"\u2265","\\ge");B(U,X,fe,"\u2265","\\geq",!0);B(U,X,fe,"\u2190","\\gets");B(U,X,fe,">","\\gt",!0);B(U,X,fe,"\u2208","\\in",!0);B(U,X,fe,"\uE020","\\@not");B(U,X,fe,"\u2282","\\subset",!0);B(U,X,fe,"\u2283","\\supset",!0);B(U,X,fe,"\u2286","\\subseteq",!0);B(U,X,fe,"\u2287","\\supseteq",!0);B(U,se,fe,"\u2288","\\nsubseteq",!0);B(U,se,fe,"\u2289","\\nsupseteq",!0);B(U,X,fe,"\u22A8","\\models");B(U,X,fe,"\u2190","\\leftarrow",!0);B(U,X,fe,"\u2264","\\le");B(U,X,fe,"\u2264","\\leq",!0);B(U,X,fe,"<","\\lt",!0);B(U,X,fe,"\u2192","\\rightarrow",!0);B(U,X,fe,"\u2192","\\to");B(U,se,fe,"\u2271","\\ngeq",!0);B(U,se,fe,"\u2270","\\nleq",!0);B(U,X,Hu,"\xA0","\\ ");B(U,X,Hu,"\xA0","\\space");B(U,X,Hu,"\xA0","\\nobreakspace");B(tt,X,Hu,"\xA0","\\ ");B(tt,X,Hu,"\xA0"," ");B(tt,X,Hu,"\xA0","\\space");B(tt,X,Hu,"\xA0","\\nobreakspace");B(U,X,Hu,null,"\\nobreak");B(U,X,Hu,null,"\\allowbreak");B(U,X,kb,",",",");B(U,X,kb,";",";");B(U,se,Tt,"\u22BC","\\barwedge",!0);B(U,se,Tt,"\u22BB","\\veebar",!0);B(U,X,Tt,"\u2299","\\odot",!0);B(U,X,Tt,"\u2295","\\oplus",!0);B(U,X,Tt,"\u2297","\\otimes",!0);B(U,X,ke,"\u2202","\\partial",!0);B(U,X,Tt,"\u2298","\\oslash",!0);B(U,se,Tt,"\u229A","\\circledcirc",!0);B(U,se,Tt,"\u22A1","\\boxdot",!0);B(U,X,Tt,"\u25B3","\\bigtriangleup");B(U,X,Tt,"\u25BD","\\bigtriangledown");B(U,X,Tt,"\u2020","\\dagger");B(U,X,Tt,"\u22C4","\\diamond");B(U,X,Tt,"\u22C6","\\star");B(U,X,Tt,"\u25C3","\\triangleleft");B(U,X,Tt,"\u25B9","\\triangleright");B(U,X,Lo,"{","\\{");B(tt,X,ke,"{","\\{");B(tt,X,ke,"{","\\textbraceleft");B(U,X,Di,"}","\\}");B(tt,X,ke,"}","\\}");B(tt,X,ke,"}","\\textbraceright");B(U,X,Lo,"{","\\lbrace");B(U,X,Di,"}","\\rbrace");B(U,X,Lo,"[","\\lbrack",!0);B(tt,X,ke,"[","\\lbrack",!0);B(U,X,Di,"]","\\rbrack",!0);B(tt,X,ke,"]","\\rbrack",!0);B(U,X,Lo,"(","\\lparen",!0);B(U,X,Di,")","\\rparen",!0);B(tt,X,ke,"<","\\textless",!0);B(tt,X,ke,">","\\textgreater",!0);B(U,X,Lo,"\u230A","\\lfloor",!0);B(U,X,Di,"\u230B","\\rfloor",!0);B(U,X,Lo,"\u2308","\\lceil",!0);B(U,X,Di,"\u2309","\\rceil",!0);B(U,X,ke,"\\","\\backslash");B(U,X,ke,"\u2223","|");B(U,X,ke,"\u2223","\\vert");B(tt,X,ke,"|","\\textbar",!0);B(U,X,ke,"\u2225","\\|");B(U,X,ke,"\u2225","\\Vert");B(tt,X,ke,"\u2225","\\textbardbl");B(tt,X,ke,"~","\\textasciitilde");B(tt,X,ke,"\\","\\textbackslash");B(tt,X,ke,"^","\\textasciicircum");B(U,X,fe,"\u2191","\\uparrow",!0);B(U,X,fe,"\u21D1","\\Uparrow",!0);B(U,X,fe,"\u2193","\\downarrow",!0);B(U,X,fe,"\u21D3","\\Downarrow",!0);B(U,X,fe,"\u2195","\\updownarrow",!0);B(U,X,fe,"\u21D5","\\Updownarrow",!0);B(U,X,ma,"\u2210","\\coprod");B(U,X,ma,"\u22C1","\\bigvee");B(U,X,ma,"\u22C0","\\bigwedge");B(U,X,ma,"\u2A04","\\biguplus");B(U,X,ma,"\u22C2","\\bigcap");B(U,X,ma,"\u22C3","\\bigcup");B(U,X,ma,"\u222B","\\int");B(U,X,ma,"\u222B","\\intop");B(U,X,ma,"\u222C","\\iint");B(U,X,ma,"\u222D","\\iiint");B(U,X,ma,"\u220F","\\prod");B(U,X,ma,"\u2211","\\sum");B(U,X,ma,"\u2A02","\\bigotimes");B(U,X,ma,"\u2A01","\\bigoplus");B(U,X,ma,"\u2A00","\\bigodot");B(U,X,ma,"\u222E","\\oint");B(U,X,ma,"\u222F","\\oiint");B(U,X,ma,"\u2230","\\oiiint");B(U,X,ma,"\u2A06","\\bigsqcup");B(U,X,ma,"\u222B","\\smallint");B(tt,X,Lp,"\u2026","\\textellipsis");B(U,X,Lp,"\u2026","\\mathellipsis");B(tt,X,Lp,"\u2026","\\ldots",!0);B(U,X,Lp,"\u2026","\\ldots",!0);B(U,X,Lp,"\u22EF","\\@cdots",!0);B(U,X,Lp,"\u22F1","\\ddots",!0);B(U,X,ke,"\u22EE","\\varvdots");B(U,X,jn,"\u02CA","\\acute");B(U,X,jn,"\u02CB","\\grave");B(U,X,jn,"\xA8","\\ddot");B(U,X,jn,"~","\\tilde");B(U,X,jn,"\u02C9","\\bar");B(U,X,jn,"\u02D8","\\breve");B(U,X,jn,"\u02C7","\\check");B(U,X,jn,"^","\\hat");B(U,X,jn,"\u20D7","\\vec");B(U,X,jn,"\u02D9","\\dot");B(U,X,jn,"\u02DA","\\mathring");B(U,X,Jt,"\uE131","\\@imath");B(U,X,Jt,"\uE237","\\@jmath");B(U,X,ke,"\u0131","\u0131");B(U,X,ke,"\u0237","\u0237");B(tt,X,ke,"\u0131","\\i",!0);B(tt,X,ke,"\u0237","\\j",!0);B(tt,X,ke,"\xDF","\\ss",!0);B(tt,X,ke,"\xE6","\\ae",!0);B(tt,X,ke,"\u0153","\\oe",!0);B(tt,X,ke,"\xF8","\\o",!0);B(tt,X,ke,"\xC6","\\AE",!0);B(tt,X,ke,"\u0152","\\OE",!0);B(tt,X,ke,"\xD8","\\O",!0);B(tt,X,jn,"\u02CA","\\'");B(tt,X,jn,"\u02CB","\\`");B(tt,X,jn,"\u02C6","\\^");B(tt,X,jn,"\u02DC","\\~");B(tt,X,jn,"\u02C9","\\=");B(tt,X,jn,"\u02D8","\\u");B(tt,X,jn,"\u02D9","\\.");B(tt,X,jn,"\xB8","\\c");B(tt,X,jn,"\u02DA","\\r");B(tt,X,jn,"\u02C7","\\v");B(tt,X,jn,"\xA8",'\\"');B(tt,X,jn,"\u02DD","\\H");B(tt,X,jn,"\u25EF","\\textcircled");var zL={"--":!0,"---":!0,"``":!0,"''":!0};B(tt,X,ke,"\u2013","--",!0);B(tt,X,ke,"\u2013","\\textendash");B(tt,X,ke,"\u2014","---",!0);B(tt,X,ke,"\u2014","\\textemdash");B(tt,X,ke,"\u2018","`",!0);B(tt,X,ke,"\u2018","\\textquoteleft");B(tt,X,ke,"\u2019","'",!0);B(tt,X,ke,"\u2019","\\textquoteright");B(tt,X,ke,"\u201C","``",!0);B(tt,X,ke,"\u201C","\\textquotedblleft");B(tt,X,ke,"\u201D","''",!0);B(tt,X,ke,"\u201D","\\textquotedblright");B(U,X,ke,"\xB0","\\degree",!0);B(tt,X,ke,"\xB0","\\degree");B(tt,X,ke,"\xB0","\\textdegree",!0);B(U,X,ke,"\xA3","\\pounds");B(U,X,ke,"\xA3","\\mathsterling",!0);B(tt,X,ke,"\xA3","\\pounds");B(tt,X,ke,"\xA3","\\textsterling",!0);B(U,se,ke,"\u2720","\\maltese");B(tt,se,ke,"\u2720","\\maltese");var gT='0123456789/@."';for(var Ux=0;Ux<gT.length;Ux++){var yT=gT.charAt(Ux);B(U,X,ke,yT,yT)}var bT='0123456789!@*()-=+";:?/.,';for(var Kx=0;Kx<bT.length;Kx++){var wT=bT.charAt(Kx);B(tt,X,ke,wT,wT)}var x3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Wx=0;Wx<x3.length;Wx++){var j2=x3.charAt(Wx);B(U,X,Jt,j2,j2),B(tt,X,ke,j2,j2)}B(U,se,ke,"C","\u2102");B(tt,se,ke,"C","\u2102");B(U,se,ke,"H","\u210D");B(tt,se,ke,"H","\u210D");B(U,se,ke,"N","\u2115");B(tt,se,ke,"N","\u2115");B(U,se,ke,"P","\u2119");B(tt,se,ke,"P","\u2119");B(U,se,ke,"Q","\u211A");B(tt,se,ke,"Q","\u211A");B(U,se,ke,"R","\u211D");B(tt,se,ke,"R","\u211D");B(U,se,ke,"Z","\u2124");B(tt,se,ke,"Z","\u2124");B(U,X,Jt,"h","\u210E");B(tt,X,Jt,"h","\u210E");var cr="";for(var Vi=0;Vi<x3.length;Vi++){var sa=x3.charAt(Vi);cr=String.fromCharCode(55349,56320+Vi),B(U,X,Jt,sa,cr),B(tt,X,ke,sa,cr),cr=String.fromCharCode(55349,56372+Vi),B(U,X,Jt,sa,cr),B(tt,X,ke,sa,cr),cr=String.fromCharCode(55349,56424+Vi),B(U,X,Jt,sa,cr),B(tt,X,ke,sa,cr),cr=String.fromCharCode(55349,56580+Vi),B(U,X,Jt,sa,cr),B(tt,X,ke,sa,cr),cr=String.fromCharCode(55349,56736+Vi),B(U,X,Jt,sa,cr),B(tt,X,ke,sa,cr),cr=String.fromCharCode(55349,56788+Vi),B(U,X,Jt,sa,cr),B(tt,X,ke,sa,cr),cr=String.fromCharCode(55349,56840+Vi),B(U,X,Jt,sa,cr),B(tt,X,ke,sa,cr),cr=String.fromCharCode(55349,56944+Vi),B(U,X,Jt,sa,cr),B(tt,X,ke,sa,cr),Vi<26&&(cr=String.fromCharCode(55349,56632+Vi),B(U,X,Jt,sa,cr),B(tt,X,ke,sa,cr),cr=String.fromCharCode(55349,56476+Vi),B(U,X,Jt,sa,cr),B(tt,X,ke,sa,cr))}cr=String.fromCharCode(55349,56668);B(U,X,Jt,"k",cr);B(tt,X,ke,"k",cr);for(var Ef=0;Ef<10;Ef++){var Pc=Ef.toString();cr=String.fromCharCode(55349,57294+Ef),B(U,X,Jt,Pc,cr),B(tt,X,ke,Pc,cr),cr=String.fromCharCode(55349,57314+Ef),B(U,X,Jt,Pc,cr),B(tt,X,ke,Pc,cr),cr=String.fromCharCode(55349,57324+Ef),B(U,X,Jt,Pc,cr),B(tt,X,ke,Pc,cr),cr=String.fromCharCode(55349,57334+Ef),B(U,X,Jt,Pc,cr),B(tt,X,ke,Pc,cr)}var L5="\xD0\xDE\xFE";for(var $x=0;$x<L5.length;$x++){var R2=L5.charAt($x);B(U,X,Jt,R2,R2),B(tt,X,ke,R2,R2)}var F2=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],xT=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],xY=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),o=(n-55296)*1024+(i-56320)+65536,c=r==="math"?0:1;if(119808<=o&&o<120484){var f=Math.floor((o-119808)/26);return[F2[f][2],F2[f][c]]}else if(120782<=o&&o<=120831){var m=Math.floor((o-120782)/10);return[xT[m][2],xT[m][c]]}else{if(o===120485||o===120486)return[F2[0][2],F2[0][c]];if(120486<o&&o<120782)return["",""];throw new st("Unsupported character: "+e)}},Cb=function(e,r,n){return Cn[n][e]&&Cn[n][e].replace&&(e=Cn[n][e].replace),{value:e,metrics:G7(e,r,n)}},zl=function(e,r,n,i,o){var c=Cb(e,r,n),f=c.metrics;e=c.value;var m;if(f){var x=f.italic;(n==="text"||i&&i.font==="mathit")&&(x=0),m=new vl(e,f.height,f.depth,x,f.skew,f.width,o)}else typeof console!="undefined"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),m=new vl(e,0,0,0,0,0,o);if(i){m.maxFontSize=i.sizeMultiplier,i.style.isTight()&&m.classes.push("mtight");var E=i.getColor();E&&(m.style.color=E)}return m},kY=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&Cb(e,"Main-Bold",r).metrics?zl(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||Cn[r][e].font==="main"?zl(e,"Main-Regular",r,n,i):zl(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},CY=function(e,r,n,i,o){return o!=="textord"&&Cb(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},SY=function(e,r,n){var i=e.mode,o=e.text,c=["mord"],f=i==="math"||i==="text"&&r.font,m=f?r.font:r.fontFamily;if(o.charCodeAt(0)===55349){var[x,E]=xY(o,i);return zl(o,x,i,r,c.concat(E))}else if(m){var b,S;if(m==="boldsymbol"){var g=CY(o,i,r,c,n);b=g.fontName,S=[g.fontClass]}else f?(b=UL[m].fontName,S=[m]):(b=z2(m,r.fontWeight,r.fontShape),S=[m,r.fontWeight,r.fontShape]);if(Cb(o,b,i).metrics)return zl(o,b,i,r,c.concat(S));if(zL.hasOwnProperty(o)&&b.substr(0,10)==="Typewriter"){for(var O=[],C=0;C<o.length;C++)O.push(zl(o[C],b,i,r,c.concat(S)));return HL(O)}}if(n==="mathord")return zl(o,"Math-Italic",i,r,c.concat(["mathnormal"]));if(n==="textord"){var N=Cn[i][o]&&Cn[i][o].font;if(N==="ams"){var P=z2("amsrm",r.fontWeight,r.fontShape);return zl(o,P,i,r,c.concat("amsrm",r.fontWeight,r.fontShape))}else if(N==="main"||!N){var D=z2("textrm",r.fontWeight,r.fontShape);return zl(o,D,i,r,c.concat(r.fontWeight,r.fontShape))}else{var F=z2(N,r.fontWeight,r.fontShape);return zl(o,F,i,r,c.concat(F,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},EY=(t,e)=>{if(l0(t.classes)!==l0(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},_Y=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof vl&&n instanceof vl&&EY(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},q7=function(e){for(var r=0,n=0,i=0,o=0;o<e.children.length;o++){var c=e.children[o];c.height>r&&(r=c.height),c.depth>n&&(n=c.depth),c.maxFontSize>i&&(i=c.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},qi=function(e,r,n,i){var o=new qv(e,r,n,i);return q7(o),o},BL=(t,e,r,n)=>new qv(t,e,r,n),TY=function(e,r,n){var i=qi([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=ht(i.height),i.maxFontSize=1,i},OY=function(e,r,n,i){var o=new V7(e,r,n,i);return q7(o),o},HL=function(e){var r=new Vv(e);return q7(r),r},AY=function(e,r){return e instanceof Vv?qi([],[e],r):e},MY=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,o=i,c=1;c<r.length;c++){var f=-r[c].shift-o-r[c].elem.depth,m=f-(r[c-1].elem.height+r[c-1].elem.depth);o=o+f,n.push({type:"kern",size:m}),n.push(r[c])}return{children:n,depth:i}}var x;if(e.positionType==="top"){for(var E=e.positionData,b=0;b<e.children.length;b++){var S=e.children[b];E-=S.type==="kern"?S.size:S.elem.height+S.elem.depth}x=E}else if(e.positionType==="bottom")x=-e.positionData;else{var g=e.children[0];if(g.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")x=-g.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")x=-g.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:x}},IY=function(e,r){for(var{children:n,depth:i}=MY(e),o=0,c=0;c<n.length;c++){var f=n[c];if(f.type==="elem"){var m=f.elem;o=Math.max(o,m.maxFontSize,m.height)}}o+=2;var x=qi(["pstrut"],[]);x.style.height=ht(o);for(var E=[],b=i,S=i,g=i,O=0;O<n.length;O++){var C=n[O];if(C.type==="kern")g+=C.size;else{var N=C.elem,P=C.wrapperClasses||[],D=C.wrapperStyle||{},F=qi(P,[x,N],void 0,D);F.style.top=ht(-o-g-N.depth),C.marginLeft&&(F.style.marginLeft=C.marginLeft),C.marginRight&&(F.style.marginRight=C.marginRight),E.push(F),g+=N.height+N.depth}b=Math.min(b,g),S=Math.max(S,g)}var I=qi(["vlist"],E);I.style.height=ht(S);var q;if(b<0){var V=qi([],[]),te=qi(["vlist"],[V]);te.style.height=ht(-b);var ne=qi(["vlist-s"],[new vl("\u200B")]);q=[qi(["vlist-r"],[I,ne]),qi(["vlist-r"],[te])]}else q=[qi(["vlist-r"],[I])];var W=qi(["vlist-t"],q);return q.length===2&&W.classes.push("vlist-t2"),W.height=S,W.depth=-b,W},DY=(t,e)=>{var r=qi(["mspace"],[],e),n=Gn(t,e);return r.style.marginRight=ht(n),r},z2=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var o;return r==="textbf"&&n==="textit"?o="BoldItalic":r==="textbf"?o="Bold":r==="textit"?o="Italic":o="Regular",i+"-"+o},UL={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},KL={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},LY=function(e,r){var[n,i,o]=KL[e],c=new nd(n),f=new s0([c],{width:ht(i),height:ht(o),style:"width:"+ht(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),m=BL(["overlay"],[f],r);return m.height=o,m.style.height=ht(o),m.style.width=ht(i),m},Ae={fontMap:UL,makeSymbol:zl,mathsym:kY,makeSpan:qi,makeSvgSpan:BL,makeLineSpan:TY,makeAnchor:OY,makeFragment:HL,wrapFragment:AY,makeVList:IY,makeOrd:SY,makeGlue:DY,staticSvg:LY,svgData:KL,tryCombineChars:_Y},Hn={number:3,unit:"mu"},_f={number:4,unit:"mu"},yu={number:5,unit:"mu"},PY={mord:{mop:Hn,mbin:_f,mrel:yu,minner:Hn},mop:{mord:Hn,mop:Hn,mrel:yu,minner:Hn},mbin:{mord:_f,mop:_f,mopen:_f,minner:_f},mrel:{mord:yu,mop:yu,mopen:yu,minner:yu},mopen:{},mclose:{mop:Hn,mbin:_f,mrel:yu,minner:Hn},mpunct:{mord:Hn,mop:Hn,mrel:yu,mopen:Hn,mclose:Hn,mpunct:Hn,minner:Hn},minner:{mord:Hn,mop:Hn,mbin:_f,mrel:yu,mopen:Hn,mpunct:Hn,minner:Hn}},NY={mord:{mop:Hn},mop:{mord:Hn,mop:Hn},mbin:{},mrel:{},mopen:{},mclose:{mop:Hn},mpunct:{},minner:{mop:Hn}},WL={},k3={},C3={};function St(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:o,mathmlBuilder:c}=t,f={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},m=0;m<r.length;++m)WL[r[m]]=f;e&&(o&&(k3[e]=o),c&&(C3[e]=c))}function ud(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;St({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var S3=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},da=function(e){return e.type==="ordgroup"?e.body:[e]},Nu=Ae.makeSpan,jY=["leftmost","mbin","mopen","mrel","mop","mpunct"],RY=["rightmost","mrel","mclose","mpunct"],FY={display:Xt.DISPLAY,text:Xt.TEXT,script:Xt.SCRIPT,scriptscript:Xt.SCRIPTSCRIPT},zY={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ja=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var o=[],c=0;c<e.length;c++){var f=Br(e[c],r);if(f instanceof Vv){var m=f.children;o.push(...m)}else o.push(f)}if(Ae.tryCombineChars(o),!n)return o;var x=r;if(e.length===1){var E=e[0];E.type==="sizing"?x=r.havingSize(E.size):E.type==="styling"&&(x=r.havingStyle(FY[E.style]))}var b=Nu([i[0]||"leftmost"],[],r),S=Nu([i[1]||"rightmost"],[],r),g=n==="root";return kT(o,(O,C)=>{var N=C.classes[0],P=O.classes[0];N==="mbin"&&nr.contains(RY,P)?C.classes[0]="mord":P==="mbin"&&nr.contains(jY,N)&&(O.classes[0]="mord")},{node:b},S,g),kT(o,(O,C)=>{var N=P5(C),P=P5(O),D=N&&P?O.hasClass("mtight")?NY[N][P]:PY[N][P]:null;if(D)return Ae.makeGlue(D,x)},{node:b},S,g),o},kT=function t(e,r,n,i,o){i&&e.push(i);for(var c=0;c<e.length;c++){var f=e[c],m=$L(f);if(m){t(m.children,r,n,null,o);continue}var x=!f.hasClass("mspace");if(x){var E=r(f,n.node);E&&(n.insertAfter?n.insertAfter(E):(e.unshift(E),c++))}x?n.node=f:o&&f.hasClass("newline")&&(n.node=Nu(["leftmost"])),n.insertAfter=(b=>S=>{e.splice(b+1,0,S),c++})(c)}i&&e.pop()},$L=function(e){return e instanceof Vv||e instanceof V7||e instanceof qv&&e.hasClass("enclosing")?e:null},BY=function t(e,r){var n=$L(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},P5=function(e,r){return e?(r&&(e=BY(e,r)),zY[e.classes[0]]||null):null},Tv=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return Nu(r.concat(n))},Br=function(e,r,n){if(!e)return Nu();if(k3[e.type]){var i=k3[e.type](e,r);if(n&&r.size!==n.size){i=Nu(r.sizingClasses(n),[i],r);var o=r.sizeMultiplier/n.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new st("Got group of unknown type: '"+e.type+"'")};function B2(t,e){var r=Nu(["base"],t,e),n=Nu(["strut"]);return n.style.height=ht(r.height+r.depth),r.depth&&(n.style.verticalAlign=ht(-r.depth)),r.children.unshift(n),r}function N5(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=ja(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var o=[],c=[],f=0;f<n.length;f++)if(c.push(n[f]),n[f].hasClass("mbin")||n[f].hasClass("mrel")||n[f].hasClass("allowbreak")){for(var m=!1;f<n.length-1&&n[f+1].hasClass("mspace")&&!n[f+1].hasClass("newline");)f++,c.push(n[f]),n[f].hasClass("nobreak")&&(m=!0);m||(o.push(B2(c,e)),c=[])}else n[f].hasClass("newline")&&(c.pop(),c.length>0&&(o.push(B2(c,e)),c=[]),o.push(n[f]));c.length>0&&o.push(B2(c,e));var x;r?(x=B2(ja(r,e,!0)),x.classes=["tag"],o.push(x)):i&&o.push(i);var E=Nu(["katex-html"],o);if(E.setAttribute("aria-hidden","true"),x){var b=x.children[0];b.style.height=ht(E.height+E.depth),E.depth&&(b.style.verticalAlign=ht(-E.depth))}return E}function GL(t){return new Vv(t)}class tl{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=l0(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=nr.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+nr.escape(l0(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Rm{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return nr.escape(this.toText())}toText(){return this.text}}class HY{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="\u200A":e>=.1666&&e<=.1667?this.character="\u2009":e>=.2222&&e<=.2223?this.character="\u2005":e>=.2777&&e<=.2778?this.character="\u2005\u200A":e>=-.05556&&e<=-.05555?this.character="\u200A\u2063":e>=-.1667&&e<=-.1666?this.character="\u2009\u2063":e>=-.2223&&e<=-.2222?this.character="\u205F\u2063":e>=-.2778&&e<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ht(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ht(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var it={MathNode:tl,TextNode:Rm,SpaceNode:HY,newDocumentFragment:GL},gl=function(e,r,n){return Cn[r][e]&&Cn[r][e].replace&&e.charCodeAt(0)!==55349&&!(zL.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.substr(4,2)==="tt"||n.font&&n.font.substr(4,2)==="tt"))&&(e=Cn[r][e].replace),new it.TextNode(e)},Y7=function(e){return e.length===1?e[0]:new it.MathNode("mrow",e)},X7=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var o=e.text;if(nr.contains(["\\imath","\\jmath"],o))return null;Cn[i][o]&&Cn[i][o].replace&&(o=Cn[i][o].replace);var c=Ae.fontMap[n].fontName;return G7(o,c,i)?Ae.fontMap[n].variant:null},Po=function(e,r,n){if(e.length===1){var i=bn(e[0],r);return n&&i instanceof tl&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],c,f=0;f<e.length;f++){var m=bn(e[f],r);if(m instanceof tl&&c instanceof tl){if(m.type==="mtext"&&c.type==="mtext"&&m.getAttribute("mathvariant")===c.getAttribute("mathvariant")){c.children.push(...m.children);continue}else if(m.type==="mn"&&c.type==="mn"){c.children.push(...m.children);continue}else if(m.type==="mi"&&m.children.length===1&&c.type==="mn"){var x=m.children[0];if(x instanceof Rm&&x.text==="."){c.children.push(...m.children);continue}}else if(c.type==="mi"&&c.children.length===1){var E=c.children[0];if(E instanceof Rm&&E.text==="\u0338"&&(m.type==="mo"||m.type==="mi"||m.type==="mn")){var b=m.children[0];b instanceof Rm&&b.text.length>0&&(b.text=b.text.slice(0,1)+"\u0338"+b.text.slice(1),o.pop())}}}o.push(m),c=m}return o},u0=function(e,r,n){return Y7(Po(e,r,n))},bn=function(e,r){if(!e)return new it.MathNode("mrow");if(C3[e.type]){var n=C3[e.type](e,r);return n}else throw new st("Got group of unknown type: '"+e.type+"'")};function CT(t,e,r,n,i){var o=Po(t,r),c;o.length===1&&o[0]instanceof tl&&nr.contains(["mrow","mtable"],o[0].type)?c=o[0]:c=new it.MathNode("mrow",o);var f=new it.MathNode("annotation",[new it.TextNode(e)]);f.setAttribute("encoding","application/x-tex");var m=new it.MathNode("semantics",[c,f]),x=new it.MathNode("math",[m]);x.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&x.setAttribute("display","block");var E=i?"katex":"katex-mathml";return Ae.makeSpan([E],[x])}var VL=function(e){return new Cu({style:e.displayMode?Xt.DISPLAY:Xt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},qL=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=Ae.makeSpan(n,[e])}return e},UY=function(e,r,n){var i=VL(n),o;if(n.output==="mathml")return CT(e,r,i,n.displayMode,!0);if(n.output==="html"){var c=N5(e,i);o=Ae.makeSpan(["katex"],[c])}else{var f=CT(e,r,i,n.displayMode,!1),m=N5(e,i);o=Ae.makeSpan(["katex"],[f,m])}return qL(o,n)},KY=function(e,r,n){var i=VL(n),o=N5(e,i),c=Ae.makeSpan(["katex"],[o]);return qL(c,n)},WY={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},$Y=function(e){var r=new it.MathNode("mo",[new it.TextNode(WY[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},GY={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},VY=function(e){return e.type==="ordgroup"?e.body.length:1},qY=function(e,r){function n(){var f=4e5,m=e.label.substr(1);if(nr.contains(["widehat","widecheck","widetilde","utilde"],m)){var x=e,E=VY(x.base),b,S,g;if(E>5)m==="widehat"||m==="widecheck"?(b=420,f=2364,g=.42,S=m+"4"):(b=312,f=2340,g=.34,S="tilde4");else{var O=[1,1,2,2,3,3][E];m==="widehat"||m==="widecheck"?(f=[0,1062,2364,2364,2364][O],b=[0,239,300,360,420][O],g=[0,.24,.3,.3,.36,.42][O],S=m+O):(f=[0,600,1033,2339,2340][O],b=[0,260,286,306,312][O],g=[0,.26,.286,.3,.306,.34][O],S="tilde"+O)}var C=new nd(S),N=new s0([C],{width:"100%",height:ht(g),viewBox:"0 0 "+f+" "+b,preserveAspectRatio:"none"});return{span:Ae.makeSvgSpan([],[N],r),minWidth:0,height:g}}else{var P=[],D=GY[m],[F,I,q]=D,V=q/1e3,te=F.length,ne,W;if(te===1){var de=D[3];ne=["hide-tail"],W=[de]}else if(te===2)ne=["halfarrow-left","halfarrow-right"],W=["xMinYMin","xMaxYMin"];else if(te===3)ne=["brace-left","brace-center","brace-right"],W=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+te+" children.");for(var ie=0;ie<te;ie++){var ue=new nd(F[ie]),ve=new s0([ue],{width:"400em",height:ht(V),viewBox:"0 0 "+f+" "+q,preserveAspectRatio:W[ie]+" slice"}),pe=Ae.makeSvgSpan([ne[ie]],[ve],r);if(te===1)return{span:pe,minWidth:I,height:V};pe.style.height=ht(V),P.push(pe)}return{span:Ae.makeSpan(["stretchy"],P,r),minWidth:I,height:V}}}var{span:i,minWidth:o,height:c}=n();return i.height=c,i.style.height=ht(c),o>0&&(i.style.minWidth=ht(o)),i},YY=function(e,r,n,i,o){var c,f=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(c=Ae.makeSpan(["stretchy",r],[],o),r==="fbox"){var m=o.color&&o.getColor();m&&(c.style.borderColor=m)}}else{var x=[];/^[bx]cancel$/.test(r)&&x.push(new D5({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&x.push(new D5({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var E=new s0(x,{width:"100%",height:ht(f)});c=Ae.makeSvgSpan([],[E],o)}return c.height=f,c.style.height=ht(f),c},ju={encloseSpan:YY,mathMLnode:$Y,svgSpan:qY};function kr(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function Z7(t){var e=Sb(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Sb(t){return t&&(t.type==="atom"||wY.hasOwnProperty(t.type))?t:null}var Q7=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=kr(t.base,"accent"),r=n.base,t.base=r,i=yY(Br(t,e)),t.base=n):(n=kr(t,"accent"),r=n.base);var o=Br(r,e.havingCrampedStyle()),c=n.isShifty&&nr.isCharacterBox(r),f=0;if(c){var m=nr.getBaseElem(r),x=Br(m,e.havingCrampedStyle());f=vT(x).skew}var E=n.label==="\\c",b=E?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),S;if(n.isStretchy)S=ju.svgSpan(n,e),S=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:S,wrapperClasses:["svg-align"],wrapperStyle:f>0?{width:"calc(100% - "+ht(2*f)+")",marginLeft:ht(2*f)}:void 0}]},e);else{var g,O;n.label==="\\vec"?(g=Ae.staticSvg("vec",e),O=Ae.svgData.vec[1]):(g=Ae.makeOrd({mode:n.mode,text:n.label},e,"textord"),g=vT(g),g.italic=0,O=g.width,E&&(b+=g.depth)),S=Ae.makeSpan(["accent-body"],[g]);var C=n.label==="\\textcircled";C&&(S.classes.push("accent-full"),b=o.height);var N=f;C||(N-=O/2),S.style.left=ht(N),n.label==="\\textcircled"&&(S.style.top=".2em"),S=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-b},{type:"elem",elem:S}]},e)}var P=Ae.makeSpan(["mord","accent"],[S],e);return i?(i.children[0]=P,i.height=Math.max(P.height,i.height),i.classes[0]="mord",i):P},YL=(t,e)=>{var r=t.isStretchy?ju.mathMLnode(t.label):new it.MathNode("mo",[gl(t.label,t.mode)]),n=new it.MathNode("mover",[bn(t.base,e),r]);return n.setAttribute("accent","true"),n},XY=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));St({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=S3(e[0]),n=!XY.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:Q7,mathmlBuilder:YL});St({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:Q7,mathmlBuilder:YL});St({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=Br(t.base,e),n=ju.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,o=Ae.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return Ae.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var r=ju.mathMLnode(t.label),n=new it.MathNode("munder",[bn(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var H2=t=>{var e=new it.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};St({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=Ae.wrapFragment(Br(t.body,n,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var c;t.below&&(n=e.havingStyle(r.sub()),c=Ae.wrapFragment(Br(t.below,n,e),e),c.classes.push(o+"-arrow-pad"));var f=ju.svgSpan(t,e),m=-e.fontMetrics().axisHeight+.5*f.height,x=-e.fontMetrics().axisHeight-.5*f.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(x-=i.depth);var E;if(c){var b=-e.fontMetrics().axisHeight+c.height+.5*f.height+.111;E=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:x},{type:"elem",elem:f,shift:m},{type:"elem",elem:c,shift:b}]},e)}else E=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:x},{type:"elem",elem:f,shift:m}]},e);return E.children[0].children[0].children[1].classes.push("svg-align"),Ae.makeSpan(["mrel","x-arrow"],[E],e)},mathmlBuilder(t,e){var r=ju.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=H2(bn(t.body,e));if(t.below){var o=H2(bn(t.below,e));n=new it.MathNode("munderover",[r,o,i])}else n=new it.MathNode("mover",[r,i])}else if(t.below){var c=H2(bn(t.below,e));n=new it.MathNode("munder",[r,c])}else n=H2(),n=new it.MathNode("mover",[r,n]);return n}});var ZY={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},ST=()=>({type:"styling",body:[],mode:"math",style:"display"}),ET=t=>t.type==="textord"&&t.text==="@",QY=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function JY(t,e,r){var n=ZY[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:n,mode:"math",family:"rel"},c=r.callFunction("\\Big",[o],[]),f=r.callFunction("\\\\cdright",[e[1]],[]),m={type:"ordgroup",mode:"math",body:[i,c,f]};return r.callFunction("\\\\cdparent",[m],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var x={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[x],[])}default:return{type:"textord",text:" ",mode:"math"}}}function eX(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new st("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],o=0;o<e.length;o++){for(var c=e[o],f=ST(),m=0;m<c.length;m++)if(!ET(c[m]))f.body.push(c[m]);else{n.push(f),m+=1;var x=Z7(c[m]).text,E=new Array(2);if(E[0]={type:"ordgroup",mode:"math",body:[]},E[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(x)>-1))if("<>AV".indexOf(x)>-1)for(var b=0;b<2;b++){for(var S=!0,g=m+1;g<c.length;g++){if(QY(c[g],x)){S=!1,m=g;break}if(ET(c[g]))throw new st("Missing a "+x+" character to complete a CD arrow.",c[g]);E[b].body.push(c[g])}if(S)throw new st("Missing a "+x+" character to complete a CD arrow.",c[m])}else throw new st('Expected one of "<>AV=|." after @',c[m]);var O=JY(x,E,t),C={type:"styling",body:[O],mode:"math",style:"display"};n.push(C),f=ST()}o%2===0?n.push(f):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var N=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:N,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}St({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=Ae.wrapFragment(Br(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=ht(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new it.MathNode("mrow",[bn(t.label,e)]);return r=new it.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new it.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});St({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=Ae.wrapFragment(Br(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new it.MathNode("mrow",[bn(t.fragment,e)])}});St({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=kr(e[0],"ordgroup"),i=n.body,o="",c=0;c<i.length;c++){var f=kr(i[c],"textord");o+=f.text}var m=parseInt(o),x;if(isNaN(m))throw new st("\\@char has non-numeric argument "+o);if(m<0||m>=1114111)throw new st("\\@char with invalid code point "+o);return m<=65535?x=String.fromCharCode(m):(m-=65536,x=String.fromCharCode((m>>10)+55296,(m&1023)+56320)),{type:"textord",mode:r.mode,text:x}}});var XL=(t,e)=>{var r=ja(t.body,e.withColor(t.color),!1);return Ae.makeFragment(r)},ZL=(t,e)=>{var r=Po(t.body,e.withColor(t.color)),n=new it.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};St({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=kr(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:da(i)}},htmlBuilder:XL,mathmlBuilder:ZL});St({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=kr(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var o=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:o}},htmlBuilder:XL,mathmlBuilder:ZL});St({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=r[0],o=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:o,size:i&&kr(i,"size").value}},htmlBuilder(t,e){var r=Ae.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=ht(Gn(t.size,e)))),r},mathmlBuilder(t,e){var r=new it.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",ht(Gn(t.size,e)))),r}});var j5={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},QL=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new st("Expected a control sequence",t);return e},tX=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},JL=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};St({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(j5[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=j5[n.text]),kr(e.parseFunction(),"internal");throw new st("Invalid token after macro prefix",n)}});St({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new st("Expected a control sequence",n);for(var o=0,c,f=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){c=e.gullet.future(),f[o].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new st('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==o+1)throw new st('Argument number "'+n.text+'" out of order');o++,f.push([])}else{if(n.text==="EOF")throw new st("Expected a macro definition");f[o].push(n.text)}var{tokens:m}=e.gullet.consumeArg();return c&&m.unshift(c),(r==="\\edef"||r==="\\xdef")&&(m=e.gullet.expandTokens(m),m.reverse()),e.gullet.macros.set(i,{tokens:m,numArgs:o,delimiters:f},r===j5[r]),{type:"internal",mode:e.mode}}});St({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=QL(e.gullet.popToken());e.gullet.consumeSpaces();var i=tX(e);return JL(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});St({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=QL(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return JL(e,n,o,r==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var bm=function(e,r,n){var i=Cn.math[e]&&Cn.math[e].replace,o=G7(i||e,r,n);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return o},J7=function(e,r,n,i){var o=n.havingBaseStyle(r),c=Ae.makeSpan(i.concat(o.sizingClasses(n)),[e],n),f=o.sizeMultiplier/n.sizeMultiplier;return c.height*=f,c.depth*=f,c.maxFontSize=o.sizeMultiplier,c},eP=function(e,r,n){var i=r.havingBaseStyle(n),o=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ht(o),e.height-=o,e.depth+=o},rX=function(e,r,n,i,o,c){var f=Ae.makeSymbol(e,"Main-Regular",o,i),m=J7(f,r,i,c);return n&&eP(m,i,r),m},nX=function(e,r,n,i){return Ae.makeSymbol(e,"Size"+r+"-Regular",n,i)},tP=function(e,r,n,i,o,c){var f=nX(e,r,o,i),m=J7(Ae.makeSpan(["delimsizing","size"+r],[f],i),Xt.TEXT,i,c);return n&&eP(m,i,Xt.TEXT),m},Gx=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=Ae.makeSpan(["delimsizinginner",i],[Ae.makeSpan([],[Ae.makeSymbol(e,r,n)])]);return{type:"elem",elem:o}},Vx=function(e,r,n){var i=Ts["Size4-Regular"][e.charCodeAt(0)]?Ts["Size4-Regular"][e.charCodeAt(0)][4]:Ts["Size1-Regular"][e.charCodeAt(0)][4],o=new nd("inner",fY(e,Math.round(1e3*r))),c=new s0([o],{width:ht(i),height:ht(r),style:"width:"+ht(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),f=Ae.makeSvgSpan([],[c],n);return f.height=r,f.style.height=ht(r),f.style.width=ht(i),{type:"elem",elem:f}},R5=.008,U2={type:"kern",size:-1*R5},aX=["|","\\lvert","\\rvert","\\vert"],iX=["\\|","\\lVert","\\rVert","\\Vert"],rP=function(e,r,n,i,o,c){var f,m,x,E;f=x=E=e,m=null;var b="Size1-Regular";e==="\\uparrow"?x=E="\u23D0":e==="\\Uparrow"?x=E="\u2016":e==="\\downarrow"?f=x="\u23D0":e==="\\Downarrow"?f=x="\u2016":e==="\\updownarrow"?(f="\\uparrow",x="\u23D0",E="\\downarrow"):e==="\\Updownarrow"?(f="\\Uparrow",x="\u2016",E="\\Downarrow"):nr.contains(aX,e)?x="\u2223":nr.contains(iX,e)?x="\u2225":e==="["||e==="\\lbrack"?(f="\u23A1",x="\u23A2",E="\u23A3",b="Size4-Regular"):e==="]"||e==="\\rbrack"?(f="\u23A4",x="\u23A5",E="\u23A6",b="Size4-Regular"):e==="\\lfloor"||e==="\u230A"?(x=f="\u23A2",E="\u23A3",b="Size4-Regular"):e==="\\lceil"||e==="\u2308"?(f="\u23A1",x=E="\u23A2",b="Size4-Regular"):e==="\\rfloor"||e==="\u230B"?(x=f="\u23A5",E="\u23A6",b="Size4-Regular"):e==="\\rceil"||e==="\u2309"?(f="\u23A4",x=E="\u23A5",b="Size4-Regular"):e==="("||e==="\\lparen"?(f="\u239B",x="\u239C",E="\u239D",b="Size4-Regular"):e===")"||e==="\\rparen"?(f="\u239E",x="\u239F",E="\u23A0",b="Size4-Regular"):e==="\\{"||e==="\\lbrace"?(f="\u23A7",m="\u23A8",E="\u23A9",x="\u23AA",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(f="\u23AB",m="\u23AC",E="\u23AD",x="\u23AA",b="Size4-Regular"):e==="\\lgroup"||e==="\u27EE"?(f="\u23A7",E="\u23A9",x="\u23AA",b="Size4-Regular"):e==="\\rgroup"||e==="\u27EF"?(f="\u23AB",E="\u23AD",x="\u23AA",b="Size4-Regular"):e==="\\lmoustache"||e==="\u23B0"?(f="\u23A7",E="\u23AD",x="\u23AA",b="Size4-Regular"):(e==="\\rmoustache"||e==="\u23B1")&&(f="\u23AB",E="\u23A9",x="\u23AA",b="Size4-Regular");var S=bm(f,b,o),g=S.height+S.depth,O=bm(x,b,o),C=O.height+O.depth,N=bm(E,b,o),P=N.height+N.depth,D=0,F=1;if(m!==null){var I=bm(m,b,o);D=I.height+I.depth,F=2}var q=g+P+D,V=Math.max(0,Math.ceil((r-q)/(F*C))),te=q+V*F*C,ne=i.fontMetrics().axisHeight;n&&(ne*=i.sizeMultiplier);var W=te/2-ne,de=[];if(de.push(Gx(E,b,o)),de.push(U2),m===null){var ie=te-g-P+2*R5;de.push(Vx(x,ie,i))}else{var ue=(te-g-P-D)/2+2*R5;de.push(Vx(x,ue,i)),de.push(U2),de.push(Gx(m,b,o)),de.push(U2),de.push(Vx(x,ue,i))}de.push(U2),de.push(Gx(f,b,o));var ve=i.havingBaseStyle(Xt.TEXT),pe=Ae.makeVList({positionType:"bottom",positionData:W,children:de},ve);return J7(Ae.makeSpan(["delimsizing","mult"],[pe],ve),Xt.TEXT,i,c)},qx=80,Yx=.08,Xx=function(e,r,n,i,o){var c=cY(e,i,n),f=new nd(e,c),m=new s0([f],{width:"400em",height:ht(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Ae.makeSvgSpan(["hide-tail"],[m],o)},oX=function(e,r){var n=r.havingBaseSizing(),i=oP("\\surd",e*n.sizeMultiplier,iP,n),o=n.sizeMultiplier,c=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),f,m=0,x=0,E=0,b;return i.type==="small"?(E=1e3+1e3*c+qx,e<1?o=1:e<1.4&&(o=.7),m=(1+c+Yx)/o,x=(1+c)/o,f=Xx("sqrtMain",m,E,c,r),f.style.minWidth="0.853em",b=.833/o):i.type==="large"?(E=(1e3+qx)*Fm[i.size],x=(Fm[i.size]+c)/o,m=(Fm[i.size]+c+Yx)/o,f=Xx("sqrtSize"+i.size,m,E,c,r),f.style.minWidth="1.02em",b=1/o):(m=e+c+Yx,x=e+c,E=Math.floor(1e3*e+c)+qx,f=Xx("sqrtTall",m,E,c,r),f.style.minWidth="0.742em",b=1.056),f.height=x,f.style.height=ht(m),{span:f,advanceWidth:b,ruleWidth:(r.fontMetrics().sqrtRuleThickness+c)*o}},nP=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],lX=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],aP=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Fm=[0,1.2,1.8,2.4,3],sX=function(e,r,n,i,o){if(e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle"),nr.contains(nP,e)||nr.contains(aP,e))return tP(e,r,!1,n,i,o);if(nr.contains(lX,e))return rP(e,Fm[r],!1,n,i,o);throw new st("Illegal delimiter: '"+e+"'")},uX=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],cX=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"stack"}],iP=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],fX=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},oP=function(e,r,n,i){for(var o=Math.min(2,3-i.style.size),c=o;c<n.length&&n[c].type!=="stack";c++){var f=bm(e,fX(n[c]),"math"),m=f.height+f.depth;if(n[c].type==="small"){var x=i.havingBaseStyle(n[c].style);m*=x.sizeMultiplier}if(m>r)return n[c]}return n[n.length-1]},lP=function(e,r,n,i,o,c){e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle");var f;nr.contains(aP,e)?f=uX:nr.contains(nP,e)?f=iP:f=cX;var m=oP(e,r,f,i);return m.type==="small"?rX(e,m.style,n,i,o,c):m.type==="large"?tP(e,m.size,n,i,o,c):rP(e,r,n,i,o,c)},dX=function(e,r,n,i,o,c){var f=i.fontMetrics().axisHeight*i.sizeMultiplier,m=901,x=5/i.fontMetrics().ptPerEm,E=Math.max(r-f,n+f),b=Math.max(E/500*m,2*E-x);return lP(e,b,!0,i,o,c)},Mu={sqrtImage:oX,sizedDelim:sX,sizeToMaxHeight:Fm,customSizedDelim:lP,leftRightDelim:dX},_T={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},hX=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Eb(t,e){var r=Sb(t);if(r&&nr.contains(hX,r.text))return r;throw r?new st("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new st("Invalid delimiter type '"+t.type+"'",t)}St({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=Eb(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:_T[t.funcName].size,mclass:_T[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?Ae.makeSpan([t.mclass]):Mu.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(gl(t.delim,t.mode));var r=new it.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=ht(Mu.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function TT(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}St({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new st("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Eb(e[0],t).text,color:r}}});St({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Eb(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var o=kr(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{TT(t);for(var r=ja(t.body,e,!0,["mopen","mclose"]),n=0,i=0,o=!1,c=0;c<r.length;c++)r[c].isMiddle?o=!0:(n=Math.max(r[c].height,n),i=Math.max(r[c].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var f;if(t.left==="."?f=Tv(e,["mopen"]):f=Mu.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(f),o)for(var m=1;m<r.length;m++){var x=r[m],E=x.isMiddle;E&&(r[m]=Mu.leftRightDelim(E.delim,n,i,E.options,t.mode,[]))}var b;if(t.right===".")b=Tv(e,["mclose"]);else{var S=t.rightColor?e.withColor(t.rightColor):e;b=Mu.leftRightDelim(t.right,n,i,S,t.mode,["mclose"])}return r.push(b),Ae.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{TT(t);var r=Po(t.body,e);if(t.left!=="."){var n=new it.MathNode("mo",[gl(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new it.MathNode("mo",[gl(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return Y7(r)}});St({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Eb(e[0],t);if(!t.parser.leftrightDepth)throw new st("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=Tv(e,[]);else{r=Mu.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?gl("|","text"):gl(t.delim,t.mode),n=new it.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var ek=(t,e)=>{var r=Ae.wrapFragment(Br(t.body,e),e),n=t.label.substr(1),i=e.sizeMultiplier,o,c=0,f=nr.isCharacterBox(t.body);if(n==="sout")o=Ae.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/i,c=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var m=Gn({number:.6,unit:"pt"},e),x=Gn({number:.35,unit:"ex"},e),E=e.havingBaseSizing();i=i/E.sizeMultiplier;var b=r.height+r.depth+m+x;r.style.paddingLeft=ht(b/2+m);var S=Math.floor(1e3*b*i),g=sY(S),O=new s0([new nd("phase",g)],{width:"400em",height:ht(S/1e3),viewBox:"0 0 400000 "+S,preserveAspectRatio:"xMinYMin slice"});o=Ae.makeSvgSpan(["hide-tail"],[O],e),o.style.height=ht(b),c=r.depth+m+x}else{/cancel/.test(n)?f||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var C=0,N=0,P=0;/box/.test(n)?(P=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),C=e.fontMetrics().fboxsep+(n==="colorbox"?0:P),N=C):n==="angl"?(P=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),C=4*P,N=Math.max(0,.25-r.depth)):(C=f?.2:0,N=C),o=ju.encloseSpan(r,n,C,N,e),/fbox|boxed|fcolorbox/.test(n)?(o.style.borderStyle="solid",o.style.borderWidth=ht(P)):n==="angl"&&P!==.049&&(o.style.borderTopWidth=ht(P),o.style.borderRightWidth=ht(P)),c=r.depth+N,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var D;if(t.backgroundColor)D=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:c},{type:"elem",elem:r,shift:0}]},e);else{var F=/cancel|phase/.test(n)?["svg-align"]:[];D=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:o,shift:c,wrapperClasses:F}]},e)}return/cancel/.test(n)&&(D.height=r.height,D.depth=r.depth),/cancel/.test(n)&&!f?Ae.makeSpan(["mord","cancel-lap"],[D],e):Ae.makeSpan(["mord"],[D],e)},tk=(t,e)=>{var r=0,n=new it.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[bn(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};St({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,o=kr(e[0],"color-token").color,c=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,body:c}},htmlBuilder:ek,mathmlBuilder:tk});St({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,o=kr(e[0],"color-token").color,c=kr(e[1],"color-token").color,f=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:c,borderColor:o,body:f}},htmlBuilder:ek,mathmlBuilder:tk});St({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});St({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:ek,mathmlBuilder:tk});St({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var sP={};function Hs(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:o,mathmlBuilder:c}=t,f={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},m=0;m<r.length;++m)sP[r[m]]=f;o&&(k3[e]=o),c&&(C3[e]=c)}var uP={};function ee(t,e){uP[t]=e}function OT(t){var e=[];t.consumeSpaces();for(var r=t.fetch().text;r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var _b=t=>{var e=t.parser.settings;if(!e.displayMode)throw new st("{"+t.envName+"} can be used only in display mode.")};function rk(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function m0(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:o,arraystretch:c,colSeparationType:f,autoTag:m,singleRow:x,emptySingleRow:E,maxNumCols:b,leqno:S}=e;if(t.gullet.beginGroup(),x||t.gullet.macros.set("\\cr","\\\\\\relax"),!c){var g=t.gullet.expandMacroAsText("\\arraystretch");if(g==null)c=1;else if(c=parseFloat(g),!c||c<0)throw new st("Invalid \\arraystretch: "+g)}t.gullet.beginGroup();var O=[],C=[O],N=[],P=[],D=m!=null?[]:void 0;function F(){m&&t.gullet.macros.set("\\@eqnsw","1",!0)}function I(){D&&(t.gullet.macros.get("\\df@tag")?(D.push(t.subparse([new al("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):D.push(Boolean(m)&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(F(),P.push(OT(t));;){var q=t.parseExpression(!1,x?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),q={type:"ordgroup",mode:t.mode,body:q},r&&(q={type:"styling",mode:t.mode,style:r,body:[q]}),O.push(q);var V=t.fetch().text;if(V==="&"){if(b&&O.length===b){if(x||f)throw new st("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(V==="\\end"){I(),O.length===1&&q.type==="styling"&&q.body[0].body.length===0&&(C.length>1||!E)&&C.pop(),P.length<C.length+1&&P.push([]);break}else if(V==="\\\\"){t.consume();var te=void 0;t.gullet.future().text!==" "&&(te=t.parseSizeGroup(!0)),N.push(te?te.value:null),I(),P.push(OT(t)),O=[],C.push(O),F()}else throw new st("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:c,body:C,cols:o,rowGaps:N,hskipBeforeAndAfter:n,hLinesBeforeRow:P,colSeparationType:f,tags:D,leqno:S}}function nk(t){return t.substr(0,1)==="d"?"display":"text"}var Us=function(e,r){var n,i,o=e.body.length,c=e.hLinesBeforeRow,f=0,m=new Array(o),x=[],E=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),b=1/r.fontMetrics().ptPerEm,S=5*b;if(e.colSeparationType&&e.colSeparationType==="small"){var g=r.havingStyle(Xt.SCRIPT).sizeMultiplier;S=.2778*(g/r.sizeMultiplier)}var O=e.colSeparationType==="CD"?Gn({number:3,unit:"ex"},r):12*b,C=3*b,N=e.arraystretch*O,P=.7*N,D=.3*N,F=0;function I($r){for(var en=0;en<$r.length;++en)en>0&&(F+=.25),x.push({pos:F,isDashed:$r[en]})}for(I(c[0]),n=0;n<e.body.length;++n){var q=e.body[n],V=P,te=D;f<q.length&&(f=q.length);var ne=new Array(q.length);for(i=0;i<q.length;++i){var W=Br(q[i],r);te<W.depth&&(te=W.depth),V<W.height&&(V=W.height),ne[i]=W}var de=e.rowGaps[n],ie=0;de&&(ie=Gn(de,r),ie>0&&(ie+=D,te<ie&&(te=ie),ie=0)),e.addJot&&(te+=C),ne.height=V,ne.depth=te,F+=V,ne.pos=F,F+=te+ie,m[n]=ne,I(c[n+1])}var ue=F/2+r.fontMetrics().axisHeight,ve=e.cols||[],pe=[],xe,Oe,Fe=[];if(e.tags&&e.tags.some($r=>$r))for(n=0;n<o;++n){var ye=m[n],Pe=ye.pos-ue,ze=e.tags[n],Ze=void 0;ze===!0?Ze=Ae.makeSpan(["eqn-num"],[],r):ze===!1?Ze=Ae.makeSpan([],[],r):Ze=Ae.makeSpan([],ja(ze,r,!0),r),Ze.depth=ye.depth,Ze.height=ye.height,Fe.push({type:"elem",elem:Ze,shift:Pe})}for(i=0,Oe=0;i<f||Oe<ve.length;++i,++Oe){for(var G=ve[Oe]||{},A=!0;G.type==="separator";){if(A||(xe=Ae.makeSpan(["arraycolsep"],[]),xe.style.width=ht(r.fontMetrics().doubleRuleSep),pe.push(xe)),G.separator==="|"||G.separator===":"){var zt=G.separator==="|"?"solid":"dashed",Ht=Ae.makeSpan(["vertical-separator"],[],r);Ht.style.height=ht(F),Ht.style.borderRightWidth=ht(E),Ht.style.borderRightStyle=zt,Ht.style.margin="0 "+ht(-E/2);var Zt=F-ue;Zt&&(Ht.style.verticalAlign=ht(-Zt)),pe.push(Ht)}else throw new st("Invalid separator type: "+G.separator);Oe++,G=ve[Oe]||{},A=!1}if(!(i>=f)){var Ne=void 0;(i>0||e.hskipBeforeAndAfter)&&(Ne=nr.deflt(G.pregap,S),Ne!==0&&(xe=Ae.makeSpan(["arraycolsep"],[]),xe.style.width=ht(Ne),pe.push(xe)));var be=[];for(n=0;n<o;++n){var Ke=m[n],yt=Ke[i];if(!!yt){var At=Ke.pos-ue;yt.depth=Ke.depth,yt.height=Ke.height,be.push({type:"elem",elem:yt,shift:At})}}be=Ae.makeVList({positionType:"individualShift",children:be},r),be=Ae.makeSpan(["col-align-"+(G.align||"c")],[be]),pe.push(be),(i<f-1||e.hskipBeforeAndAfter)&&(Ne=nr.deflt(G.postgap,S),Ne!==0&&(xe=Ae.makeSpan(["arraycolsep"],[]),xe.style.width=ht(Ne),pe.push(xe)))}}if(m=Ae.makeSpan(["mtable"],pe),x.length>0){for(var kt=Ae.makeLineSpan("hline",r,E),Kt=Ae.makeLineSpan("hdashline",r,E),yr=[{type:"elem",elem:m,shift:0}];x.length>0;){var Xr=x.pop(),Jr=Xr.pos-ue;Xr.isDashed?yr.push({type:"elem",elem:Kt,shift:Jr}):yr.push({type:"elem",elem:kt,shift:Jr})}m=Ae.makeVList({positionType:"individualShift",children:yr},r)}if(Fe.length===0)return Ae.makeSpan(["mord"],[m],r);var mr=Ae.makeVList({positionType:"individualShift",children:Fe},r);return mr=Ae.makeSpan(["tag"],[mr],r),Ae.makeFragment([m,mr])},pX={c:"center ",l:"left ",r:"right "},Ks=function(e,r){for(var n=[],i=new it.MathNode("mtd",[],["mtr-glue"]),o=new it.MathNode("mtd",[],["mml-eqn-num"]),c=0;c<e.body.length;c++){for(var f=e.body[c],m=[],x=0;x<f.length;x++)m.push(new it.MathNode("mtd",[bn(f[x],r)]));e.tags&&e.tags[c]&&(m.unshift(i),m.push(i),e.leqno?m.unshift(o):m.push(o)),n.push(new it.MathNode("mtr",m))}var E=new it.MathNode("mtable",n),b=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);E.setAttribute("rowspacing",ht(b));var S="",g="";if(e.cols&&e.cols.length>0){var O=e.cols,C="",N=!1,P=0,D=O.length;O[0].type==="separator"&&(S+="top ",P=1),O[O.length-1].type==="separator"&&(S+="bottom ",D-=1);for(var F=P;F<D;F++)O[F].type==="align"?(g+=pX[O[F].align],N&&(C+="none "),N=!0):O[F].type==="separator"&&N&&(C+=O[F].separator==="|"?"solid ":"dashed ",N=!1);E.setAttribute("columnalign",g.trim()),/[sd]/.test(C)&&E.setAttribute("columnlines",C.trim())}if(e.colSeparationType==="align"){for(var I=e.cols||[],q="",V=1;V<I.length;V++)q+=V%2?"0em ":"1em ";E.setAttribute("columnspacing",q.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?E.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?E.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?E.setAttribute("columnspacing","0.5em"):E.setAttribute("columnspacing","1em");var te="",ne=e.hLinesBeforeRow;S+=ne[0].length>0?"left ":"",S+=ne[ne.length-1].length>0?"right ":"";for(var W=1;W<ne.length-1;W++)te+=ne[W].length===0?"none ":ne[W][0]?"dashed ":"solid ";return/[sd]/.test(te)&&E.setAttribute("rowlines",te.trim()),S!==""&&(E=new it.MathNode("menclose",[E]),E.setAttribute("notation",S.trim())),e.arraystretch&&e.arraystretch<1&&(E=new it.MathNode("mstyle",[E]),E.setAttribute("scriptlevel","1")),E},cP=function(e,r){e.envName.indexOf("ed")===-1&&_b(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",c=m0(e.parser,{cols:n,addJot:!0,autoTag:o?void 0:rk(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),f,m=0,x={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var E="",b=0;b<r[0].body.length;b++){var S=kr(r[0].body[b],"textord");E+=S.text}f=Number(E),m=f*2}var g=!m;c.body.forEach(function(P){for(var D=1;D<P.length;D+=2){var F=kr(P[D],"styling"),I=kr(F.body[0],"ordgroup");I.body.unshift(x)}if(g)m<P.length&&(m=P.length);else{var q=P.length/2;if(f<q)throw new st("Too many math in a row: "+("expected "+f+", but got "+q),P[0])}});for(var O=0;O<m;++O){var C="r",N=0;O%2===1?C="l":O>0&&g&&(N=1),n[O]={type:"align",align:C,pregap:N,postgap:0}}return c.colSeparationType=g?"align":"alignat",c};Hs({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=Sb(e[0]),n=r?[e[0]]:kr(e[0],"ordgroup").body,i=n.map(function(c){var f=Z7(c),m=f.text;if("lcr".indexOf(m)!==-1)return{type:"align",align:m};if(m==="|")return{type:"separator",separator:"|"};if(m===":")return{type:"separator",separator:":"};throw new st("Unknown column alignment: "+m,c)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return m0(t.parser,o,nk(t.envName))},htmlBuilder:Us,mathmlBuilder:Ks});Hs({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new st("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var o=m0(t.parser,n,nk(t.envName)),c=Math.max(0,...o.body.map(f=>f.length));return o.cols=new Array(c).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:Us,mathmlBuilder:Ks});Hs({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=m0(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:Us,mathmlBuilder:Ks});Hs({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=Sb(e[0]),n=r?[e[0]]:kr(e[0],"ordgroup").body,i=n.map(function(c){var f=Z7(c),m=f.text;if("lc".indexOf(m)!==-1)return{type:"align",align:m};throw new st("Unknown column alignment: "+m,c)});if(i.length>1)throw new st("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=m0(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new st("{subarray} can contain only one column");return o},htmlBuilder:Us,mathmlBuilder:Ks});Hs({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=m0(t.parser,e,nk(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Us,mathmlBuilder:Ks});Hs({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:cP,htmlBuilder:Us,mathmlBuilder:Ks});Hs({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){nr.contains(["gather","gather*"],t.envName)&&_b(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:rk(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return m0(t.parser,e,"display")},htmlBuilder:Us,mathmlBuilder:Ks});Hs({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:cP,htmlBuilder:Us,mathmlBuilder:Ks});Hs({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){_b(t);var e={autoTag:rk(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return m0(t.parser,e,"display")},htmlBuilder:Us,mathmlBuilder:Ks});Hs({type:"array",names:["CD"],props:{numArgs:0},handler(t){return _b(t),eX(t.parser)},htmlBuilder:Us,mathmlBuilder:Ks});ee("\\nonumber","\\gdef\\@eqnsw{0}");ee("\\notag","\\nonumber");St({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new st(t.funcName+" valid only within array environment")}});var AT=sP;St({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new st("Invalid environment name",i);for(var o="",c=0;c<i.body.length;++c)o+=kr(i.body[c],"textord").text;if(n==="\\begin"){if(!AT.hasOwnProperty(o))throw new st("No such environment: "+o,i);var f=AT[o],{args:m,optArgs:x}=r.parseArguments("\\begin{"+o+"}",f),E={mode:r.mode,envName:o,parser:r},b=f.handler(E,m,x);r.expect("\\end",!1);var S=r.nextToken,g=kr(r.parseFunction(),"environment");if(g.name!==o)throw new st("Mismatch: \\begin{"+o+"} matched by \\end{"+g.name+"}",S);return b}return{type:"environment",mode:r.mode,name:o,nameGroup:i}}});var mX=Ae.makeSpan;function fP(t,e){var r=ja(t.body,e,!0);return mX([t.mclass],r,e)}function dP(t,e){var r,n=Po(t.body,e);return t.mclass==="minner"?r=new it.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new it.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new it.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}St({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.substr(5),body:da(i),isCharacterBox:nr.isCharacterBox(i)}},htmlBuilder:fP,mathmlBuilder:dP});var ak=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};St({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:ak(e[0]),body:da(e[1]),isCharacterBox:nr.isCharacterBox(e[1])}}});St({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],o=e[0],c;n!=="\\stackrel"?c=ak(i):c="mrel";var f={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:da(i)},m={type:"supsub",mode:o.mode,base:f,sup:n==="\\underset"?null:o,sub:n==="\\underset"?o:null};return{type:"mclass",mode:r.mode,mclass:c,body:[m],isCharacterBox:nr.isCharacterBox(m)}},htmlBuilder:fP,mathmlBuilder:dP});var hP=(t,e)=>{var r=t.font,n=e.withFont(r);return Br(t.body,n)},pP=(t,e)=>{var r=t.font,n=e.withFont(r);return bn(t.body,n)},MT={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};St({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=S3(e[0]),o=n;return o in MT&&(o=MT[o]),{type:"font",mode:r.mode,font:o.slice(1),body:i}},htmlBuilder:hP,mathmlBuilder:pP});St({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=nr.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:ak(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});St({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:o}=r,c=r.parseExpression(!0,i),f="math"+n.slice(1);return{type:"font",mode:o,font:f,body:{type:"ordgroup",mode:r.mode,body:c}}},htmlBuilder:hP,mathmlBuilder:pP});var mP=(t,e)=>{var r=e;return t==="display"?r=r.id>=Xt.SCRIPT.id?r.text():Xt.DISPLAY:t==="text"&&r.size===Xt.DISPLAY.size?r=Xt.TEXT:t==="script"?r=Xt.SCRIPT:t==="scriptscript"&&(r=Xt.SCRIPTSCRIPT),r},ik=(t,e)=>{var r=mP(t.size,e.style),n=r.fracNum(),i=r.fracDen(),o;o=e.havingStyle(n);var c=Br(t.numer,o,e);if(t.continued){var f=8.5/e.fontMetrics().ptPerEm,m=3.5/e.fontMetrics().ptPerEm;c.height=c.height<f?f:c.height,c.depth=c.depth<m?m:c.depth}o=e.havingStyle(i);var x=Br(t.denom,o,e),E,b,S;t.hasBarLine?(t.barSize?(b=Gn(t.barSize,e),E=Ae.makeLineSpan("frac-line",e,b)):E=Ae.makeLineSpan("frac-line",e),b=E.height,S=E.height):(E=null,b=0,S=e.fontMetrics().defaultRuleThickness);var g,O,C;r.size===Xt.DISPLAY.size||t.size==="display"?(g=e.fontMetrics().num1,b>0?O=3*S:O=7*S,C=e.fontMetrics().denom1):(b>0?(g=e.fontMetrics().num2,O=S):(g=e.fontMetrics().num3,O=3*S),C=e.fontMetrics().denom2);var N;if(E){var D=e.fontMetrics().axisHeight;g-c.depth-(D+.5*b)<O&&(g+=O-(g-c.depth-(D+.5*b))),D-.5*b-(x.height-C)<O&&(C+=O-(D-.5*b-(x.height-C)));var F=-(D-.5*b);N=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:C},{type:"elem",elem:E,shift:F},{type:"elem",elem:c,shift:-g}]},e)}else{var P=g-c.depth-(x.height-C);P<O&&(g+=.5*(O-P),C+=.5*(O-P)),N=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:C},{type:"elem",elem:c,shift:-g}]},e)}o=e.havingStyle(r),N.height*=o.sizeMultiplier/e.sizeMultiplier,N.depth*=o.sizeMultiplier/e.sizeMultiplier;var I;r.size===Xt.DISPLAY.size?I=e.fontMetrics().delim1:r.size===Xt.SCRIPTSCRIPT.size?I=e.havingStyle(Xt.SCRIPT).fontMetrics().delim2:I=e.fontMetrics().delim2;var q,V;return t.leftDelim==null?q=Tv(e,["mopen"]):q=Mu.customSizedDelim(t.leftDelim,I,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?V=Ae.makeSpan([]):t.rightDelim==null?V=Tv(e,["mclose"]):V=Mu.customSizedDelim(t.rightDelim,I,!0,e.havingStyle(r),t.mode,["mclose"]),Ae.makeSpan(["mord"].concat(o.sizingClasses(e)),[q,Ae.makeSpan(["mfrac"],[N]),V],e)},ok=(t,e)=>{var r=new it.MathNode("mfrac",[bn(t.numer,e),bn(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=Gn(t.barSize,e);r.setAttribute("linethickness",ht(n))}var i=mP(t.size,e.style);if(i.size!==e.style.size){r=new it.MathNode("mstyle",[r]);var o=i.size===Xt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",o),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var c=[];if(t.leftDelim!=null){var f=new it.MathNode("mo",[new it.TextNode(t.leftDelim.replace("\\",""))]);f.setAttribute("fence","true"),c.push(f)}if(c.push(r),t.rightDelim!=null){var m=new it.MathNode("mo",[new it.TextNode(t.rightDelim.replace("\\",""))]);m.setAttribute("fence","true"),c.push(m)}return Y7(c)}return r};St({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],o=e[1],c,f=null,m=null,x="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":c=!0;break;case"\\\\atopfrac":c=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":c=!1,f="(",m=")";break;case"\\\\bracefrac":c=!1,f="\\{",m="\\}";break;case"\\\\brackfrac":c=!1,f="[",m="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":x="display";break;case"\\tfrac":case"\\tbinom":x="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:o,hasBarLine:c,leftDelim:f,rightDelim:m,size:x,barSize:null}},htmlBuilder:ik,mathmlBuilder:ok});St({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],o=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});St({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var IT=["display","text","script","scriptscript"],DT=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};St({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],o=S3(e[0]),c=o.type==="atom"&&o.family==="open"?DT(o.text):null,f=S3(e[1]),m=f.type==="atom"&&f.family==="close"?DT(f.text):null,x=kr(e[2],"size"),E,b=null;x.isBlank?E=!0:(b=x.value,E=b.number>0);var S="auto",g=e[3];if(g.type==="ordgroup"){if(g.body.length>0){var O=kr(g.body[0],"textord");S=IT[Number(O.text)]}}else g=kr(g,"textord"),S=IT[Number(g.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:E,barSize:b,leftDelim:c,rightDelim:m,size:S}},htmlBuilder:ik,mathmlBuilder:ok});St({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:kr(e[0],"size").value,token:i}}});St({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],o=Vq(kr(e[1],"infix").size),c=e[2],f=o.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:c,continued:!1,hasBarLine:f,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ik,mathmlBuilder:ok});var vP=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?Br(t.sup,e.havingStyle(r.sup()),e):Br(t.sub,e.havingStyle(r.sub()),e),i=kr(t.base,"horizBrace")):i=kr(t,"horizBrace");var o=Br(i.base,e.havingBaseStyle(Xt.DISPLAY)),c=ju.svgSpan(i,e),f;if(i.isOver?(f=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:c}]},e),f.children[0].children[0].children[1].classes.push("svg-align")):(f=Ae.makeVList({positionType:"bottom",positionData:o.depth+.1+c.height,children:[{type:"elem",elem:c},{type:"kern",size:.1},{type:"elem",elem:o}]},e),f.children[0].children[0].children[0].classes.push("svg-align")),n){var m=Ae.makeSpan(["mord",i.isOver?"mover":"munder"],[f],e);i.isOver?f=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:m},{type:"kern",size:.2},{type:"elem",elem:n}]},e):f=Ae.makeVList({positionType:"bottom",positionData:m.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:m}]},e)}return Ae.makeSpan(["mord",i.isOver?"mover":"munder"],[f],e)},vX=(t,e)=>{var r=ju.mathMLnode(t.label);return new it.MathNode(t.isOver?"mover":"munder",[bn(t.base,e),r])};St({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:vP,mathmlBuilder:vX});St({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=kr(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:da(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=ja(t.body,e,!1);return Ae.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=u0(t.body,e);return r instanceof tl||(r=new tl("mrow",[r])),r.setAttribute("href",t.href),r}});St({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=kr(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<n.length;o++){var c=n[o];c==="~"&&(c="\\textasciitilde"),i.push({type:"textord",mode:"text",text:c})}var f={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:da(f)}}});St({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:da(e[0])}},htmlBuilder(t,e){var r=ja(t.body,e,!1);return Ae.makeFragment(r)},mathmlBuilder(t,e){return new it.MathNode("mrow",Po(t.body,e))}});St({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,o=kr(e[0],"raw").string,c=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var f,m={};switch(n){case"\\htmlClass":m.class=o,f={command:"\\htmlClass",class:o};break;case"\\htmlId":m.id=o,f={command:"\\htmlId",id:o};break;case"\\htmlStyle":m.style=o,f={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var x=o.split(","),E=0;E<x.length;E++){var b=x[E].split("=");if(b.length!==2)throw new st("Error parsing key-value for \\htmlData");m["data-"+b[0].trim()]=b[1].trim()}f={command:"\\htmlData",attributes:m};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(f)?{type:"html",mode:r.mode,attributes:m,body:da(c)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=ja(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=Ae.makeSpan(n,r,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>u0(t.body,e)});St({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:da(e[0]),mathml:da(e[1])}},htmlBuilder:(t,e)=>{var r=ja(t.html,e,!1);return Ae.makeFragment(r)},mathmlBuilder:(t,e)=>u0(t.mathml,e)});var Zx=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new st("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!NL(n))throw new st("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};St({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},c={number:0,unit:"em"},f="";if(r[0])for(var m=kr(r[0],"raw").string,x=m.split(","),E=0;E<x.length;E++){var b=x[E].split("=");if(b.length===2){var S=b[1].trim();switch(b[0].trim()){case"alt":f=S;break;case"width":i=Zx(S);break;case"height":o=Zx(S);break;case"totalheight":c=Zx(S);break;default:throw new st("Invalid key: '"+b[0]+"' in \\includegraphics.")}}}var g=kr(e[0],"url").url;return f===""&&(f=g,f=f.replace(/^.*[\\/]/,""),f=f.substring(0,f.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:g})?{type:"includegraphics",mode:n.mode,alt:f,width:i,height:o,totalheight:c,src:g}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=Gn(t.height,e),n=0;t.totalheight.number>0&&(n=Gn(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=Gn(t.width,e));var o={height:ht(r+n)};i>0&&(o.width=ht(i)),n>0&&(o.verticalAlign=ht(-n));var c=new vY(t.src,t.alt,o);return c.height=r,c.depth=n,c},mathmlBuilder:(t,e)=>{var r=new it.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=Gn(t.height,e),i=0;if(t.totalheight.number>0&&(i=Gn(t.totalheight,e)-n,r.setAttribute("valign",ht(-i))),r.setAttribute("height",ht(n+i)),t.width.number>0){var o=Gn(t.width,e);r.setAttribute("width",ht(o))}return r.setAttribute("src",t.src),r}});St({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=kr(e[0],"size");if(r.settings.strict){var o=n[1]==="m",c=i.value.unit==="mu";o?(c||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):c&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return Ae.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=Gn(t.dimension,e);return new it.SpaceNode(r)}});St({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=Ae.makeSpan([],[Br(t.body,e)]),r=Ae.makeSpan(["inner"],[r],e)):r=Ae.makeSpan(["inner"],[Br(t.body,e)]);var n=Ae.makeSpan(["fix"],[]),i=Ae.makeSpan([t.alignment],[r,n],e),o=Ae.makeSpan(["strut"]);return o.style.height=ht(i.height+i.depth),i.depth&&(o.style.verticalAlign=ht(-i.depth)),i.children.unshift(o),i=Ae.makeSpan(["thinbox"],[i],e),Ae.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new it.MathNode("mpadded",[bn(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});St({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var o=r==="\\("?"\\)":"$",c=n.parseExpression(!1,o);return n.expect(o),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:c}}});St({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new st("Mismatched "+t.funcName)}});var LT=(t,e)=>{switch(e.style.size){case Xt.DISPLAY.size:return t.display;case Xt.TEXT.size:return t.text;case Xt.SCRIPT.size:return t.script;case Xt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};St({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:da(e[0]),text:da(e[1]),script:da(e[2]),scriptscript:da(e[3])}},htmlBuilder:(t,e)=>{var r=LT(t,e),n=ja(r,e,!1);return Ae.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=LT(t,e);return u0(r,e)}});var gP=(t,e,r,n,i,o,c)=>{t=Ae.makeSpan([],[t]);var f=r&&nr.isCharacterBox(r),m,x;if(e){var E=Br(e,n.havingStyle(i.sup()),n);x={elem:E,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-E.depth)}}if(r){var b=Br(r,n.havingStyle(i.sub()),n);m={elem:b,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-b.height)}}var S;if(x&&m){var g=n.fontMetrics().bigOpSpacing5+m.elem.height+m.elem.depth+m.kern+t.depth+c;S=Ae.makeVList({positionType:"bottom",positionData:g,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:m.elem,marginLeft:ht(-o)},{type:"kern",size:m.kern},{type:"elem",elem:t},{type:"kern",size:x.kern},{type:"elem",elem:x.elem,marginLeft:ht(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(m){var O=t.height-c;S=Ae.makeVList({positionType:"top",positionData:O,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:m.elem,marginLeft:ht(-o)},{type:"kern",size:m.kern},{type:"elem",elem:t}]},n)}else if(x){var C=t.depth+c;S=Ae.makeVList({positionType:"bottom",positionData:C,children:[{type:"elem",elem:t},{type:"kern",size:x.kern},{type:"elem",elem:x.elem,marginLeft:ht(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var N=[S];if(m&&o!==0&&!f){var P=Ae.makeSpan(["mspace"],[],n);P.style.marginRight=ht(o),N.unshift(P)}return Ae.makeSpan(["mop","op-limits"],N,n)},yP=["\\smallint"],Pp=(t,e)=>{var r,n,i=!1,o;t.type==="supsub"?(r=t.sup,n=t.sub,o=kr(t.base,"op"),i=!0):o=kr(t,"op");var c=e.style,f=!1;c.size===Xt.DISPLAY.size&&o.symbol&&!nr.contains(yP,o.name)&&(f=!0);var m;if(o.symbol){var x=f?"Size2-Regular":"Size1-Regular",E="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(E=o.name.substr(1),o.name=E==="oiint"?"\\iint":"\\iiint"),m=Ae.makeSymbol(o.name,x,"math",e,["mop","op-symbol",f?"large-op":"small-op"]),E.length>0){var b=m.italic,S=Ae.staticSvg(E+"Size"+(f?"2":"1"),e);m=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:0},{type:"elem",elem:S,shift:f?.08:0}]},e),o.name="\\"+E,m.classes.unshift("mop"),m.italic=b}}else if(o.body){var g=ja(o.body,e,!0);g.length===1&&g[0]instanceof vl?(m=g[0],m.classes[0]="mop"):m=Ae.makeSpan(["mop"],g,e)}else{for(var O=[],C=1;C<o.name.length;C++)O.push(Ae.mathsym(o.name[C],o.mode,e));m=Ae.makeSpan(["mop"],O,e)}var N=0,P=0;return(m instanceof vl||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(N=(m.height-m.depth)/2-e.fontMetrics().axisHeight,P=m.italic),i?gP(m,r,n,e,c,P,N):(N&&(m.style.position="relative",m.style.top=ht(N)),m)},Yv=(t,e)=>{var r;if(t.symbol)r=new tl("mo",[gl(t.name,t.mode)]),nr.contains(yP,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new tl("mo",Po(t.body,e));else{r=new tl("mi",[new Rm(t.name.slice(1))]);var n=new tl("mo",[gl("\u2061","text")]);t.parentIsSupSub?r=new tl("mrow",[r,n]):r=GL([r,n])}return r},gX={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};St({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=gX[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Pp,mathmlBuilder:Yv});St({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:da(n)}},htmlBuilder:Pp,mathmlBuilder:Yv});var yX={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};St({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Pp,mathmlBuilder:Yv});St({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Pp,mathmlBuilder:Yv});St({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=yX[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Pp,mathmlBuilder:Yv});var bP=(t,e)=>{var r,n,i=!1,o;t.type==="supsub"?(r=t.sup,n=t.sub,o=kr(t.base,"operatorname"),i=!0):o=kr(t,"operatorname");var c;if(o.body.length>0){for(var f=o.body.map(b=>{var S=b.text;return typeof S=="string"?{type:"textord",mode:b.mode,text:S}:b}),m=ja(f,e.withFont("mathrm"),!0),x=0;x<m.length;x++){var E=m[x];E instanceof vl&&(E.text=E.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}c=Ae.makeSpan(["mop"],m,e)}else c=Ae.makeSpan(["mop"],[],e);return i?gP(c,r,n,e,e.style,0,0):c},bX=(t,e)=>{for(var r=Po(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var o=r[i];if(!(o instanceof it.SpaceNode))if(o instanceof it.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var c=o.children[0];o.children.length===1&&c instanceof it.TextNode?c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var f=r.map(E=>E.toText()).join("");r=[new it.TextNode(f)]}var m=new it.MathNode("mi",r);m.setAttribute("mathvariant","normal");var x=new it.MathNode("mo",[gl("\u2061","text")]);return t.parentIsSupSub?new it.MathNode("mrow",[m,x]):it.newDocumentFragment([m,x])};St({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:da(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:bP,mathmlBuilder:bX});ee("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");ud({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?Ae.makeFragment(ja(t.body,e,!1)):Ae.makeSpan(["mord"],ja(t.body,e,!0),e)},mathmlBuilder(t,e){return u0(t.body,e,!0)}});St({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=Br(t.body,e.havingCrampedStyle()),n=Ae.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return Ae.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var r=new it.MathNode("mo",[new it.TextNode("\u203E")]);r.setAttribute("stretchy","true");var n=new it.MathNode("mover",[bn(t.body,e),r]);return n.setAttribute("accent","true"),n}});St({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:da(n)}},htmlBuilder:(t,e)=>{var r=ja(t.body,e.withPhantom(),!1);return Ae.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=Po(t.body,e);return new it.MathNode("mphantom",r)}});St({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=Ae.makeSpan([],[Br(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),Ae.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=Po(da(t.body),e),n=new it.MathNode("mphantom",r),i=new it.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});St({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=Ae.makeSpan(["inner"],[Br(t.body,e.withPhantom())]),n=Ae.makeSpan(["fix"],[]);return Ae.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=Po(da(t.body),e),n=new it.MathNode("mphantom",r),i=new it.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});St({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=kr(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=Br(t.body,e),n=Gn(t.dy,e);return Ae.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new it.MathNode("mpadded",[bn(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});St({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});St({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],o=kr(e[0],"size"),c=kr(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&kr(i,"size").value,width:o.value,height:c.value}},htmlBuilder(t,e){var r=Ae.makeSpan(["mord","rule"],[],e),n=Gn(t.width,e),i=Gn(t.height,e),o=t.shift?Gn(t.shift,e):0;return r.style.borderRightWidth=ht(n),r.style.borderTopWidth=ht(i),r.style.bottom=ht(o),r.width=n,r.height=i+o,r.depth=-o,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=Gn(t.width,e),n=Gn(t.height,e),i=t.shift?Gn(t.shift,e):0,o=e.color&&e.getColor()||"black",c=new it.MathNode("mspace");c.setAttribute("mathbackground",o),c.setAttribute("width",ht(r)),c.setAttribute("height",ht(n));var f=new it.MathNode("mpadded",[c]);return i>=0?f.setAttribute("height",ht(i)):(f.setAttribute("height",ht(i)),f.setAttribute("depth",ht(-i))),f.setAttribute("voffset",ht(i)),f}});function wP(t,e,r){for(var n=ja(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,o=0;o<n.length;o++){var c=n[o].classes.indexOf("sizing");c<0?Array.prototype.push.apply(n[o].classes,e.sizingClasses(r)):n[o].classes[c+1]==="reset-size"+e.size&&(n[o].classes[c+1]="reset-size"+r.size),n[o].height*=i,n[o].depth*=i}return Ae.makeFragment(n)}var PT=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],wX=(t,e)=>{var r=e.havingSize(t.size);return wP(t.body,r,e)};St({type:"sizing",names:PT,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,o=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:PT.indexOf(n)+1,body:o}},htmlBuilder:wX,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=Po(t.body,r),i=new it.MathNode("mstyle",n);return i.setAttribute("mathsize",ht(r.sizeMultiplier)),i}});St({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,o=!1,c=r[0]&&kr(r[0],"ordgroup");if(c)for(var f="",m=0;m<c.body.length;++m){var x=c.body[m];if(f=x.text,f==="t")i=!0;else if(f==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var E=e[0];return{type:"smash",mode:n.mode,body:E,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var r=Ae.makeSpan([],[Br(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var o=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return Ae.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var r=new it.MathNode("mpadded",[bn(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});St({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],o=e[0];return{type:"sqrt",mode:n.mode,body:o,index:i}},htmlBuilder(t,e){var r=Br(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=Ae.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,o=i;e.style.id<Xt.TEXT.id&&(o=e.fontMetrics().xHeight);var c=i+o/4,f=r.height+r.depth+c+i,{span:m,ruleWidth:x,advanceWidth:E}=Mu.sqrtImage(f,e),b=m.height-x;b>r.height+r.depth+c&&(c=(c+b-r.height-r.depth)/2);var S=m.height-r.height-c-x;r.style.paddingLeft=ht(E);var g=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+S)},{type:"elem",elem:m},{type:"kern",size:x}]},e);if(t.index){var O=e.havingStyle(Xt.SCRIPTSCRIPT),C=Br(t.index,O,e),N=.6*(g.height-g.depth),P=Ae.makeVList({positionType:"shift",positionData:-N,children:[{type:"elem",elem:C}]},e),D=Ae.makeSpan(["root"],[P]);return Ae.makeSpan(["mord","sqrt"],[D,g],e)}else return Ae.makeSpan(["mord","sqrt"],[g],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new it.MathNode("mroot",[bn(r,e),bn(n,e)]):new it.MathNode("msqrt",[bn(r,e)])}});var NT={display:Xt.DISPLAY,text:Xt.TEXT,script:Xt.SCRIPT,scriptscript:Xt.SCRIPTSCRIPT};St({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,o=i.parseExpression(!0,r),c=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:c,body:o}},htmlBuilder(t,e){var r=NT[t.style],n=e.havingStyle(r).withFont("");return wP(t.body,n,e)},mathmlBuilder(t,e){var r=NT[t.style],n=e.havingStyle(r),i=Po(t.body,n),o=new it.MathNode("mstyle",i),c={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},f=c[t.style];return o.setAttribute("scriptlevel",f[0]),o.setAttribute("displaystyle",f[1]),o}});var xX=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===Xt.DISPLAY.size||n.alwaysHandleSupSub);return i?Pp:null}else if(n.type==="operatorname"){var o=n.alwaysHandleSupSub&&(r.style.size===Xt.DISPLAY.size||n.limits);return o?bP:null}else{if(n.type==="accent")return nr.isCharacterBox(n.base)?Q7:null;if(n.type==="horizBrace"){var c=!e.sub;return c===n.isOver?vP:null}else return null}else return null};ud({type:"supsub",htmlBuilder(t,e){var r=xX(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:o}=t,c=Br(n,e),f,m,x=e.fontMetrics(),E=0,b=0,S=n&&nr.isCharacterBox(n);if(i){var g=e.havingStyle(e.style.sup());f=Br(i,g,e),S||(E=c.height-g.fontMetrics().supDrop*g.sizeMultiplier/e.sizeMultiplier)}if(o){var O=e.havingStyle(e.style.sub());m=Br(o,O,e),S||(b=c.depth+O.fontMetrics().subDrop*O.sizeMultiplier/e.sizeMultiplier)}var C;e.style===Xt.DISPLAY?C=x.sup1:e.style.cramped?C=x.sup3:C=x.sup2;var N=e.sizeMultiplier,P=ht(.5/x.ptPerEm/N),D=null;if(m){var F=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(c instanceof vl||F)&&(D=ht(-c.italic))}var I;if(f&&m){E=Math.max(E,C,f.depth+.25*x.xHeight),b=Math.max(b,x.sub2);var q=x.defaultRuleThickness,V=4*q;if(E-f.depth-(m.height-b)<V){b=V-(E-f.depth)+m.height;var te=.8*x.xHeight-(E-f.depth);te>0&&(E+=te,b-=te)}var ne=[{type:"elem",elem:m,shift:b,marginRight:P,marginLeft:D},{type:"elem",elem:f,shift:-E,marginRight:P}];I=Ae.makeVList({positionType:"individualShift",children:ne},e)}else if(m){b=Math.max(b,x.sub1,m.height-.8*x.xHeight);var W=[{type:"elem",elem:m,marginLeft:D,marginRight:P}];I=Ae.makeVList({positionType:"shift",positionData:b,children:W},e)}else if(f)E=Math.max(E,C,f.depth+.25*x.xHeight),I=Ae.makeVList({positionType:"shift",positionData:-E,children:[{type:"elem",elem:f,marginRight:P}]},e);else throw new Error("supsub must have either sup or sub.");var de=P5(c,"right")||"mord";return Ae.makeSpan([de],[c,Ae.makeSpan(["msupsub"],[I])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[bn(t.base,e)];t.sub&&o.push(bn(t.sub,e)),t.sup&&o.push(bn(t.sup,e));var c;if(r)c=n?"mover":"munder";else if(t.sub)if(t.sup){var x=t.base;x&&x.type==="op"&&x.limits&&e.style===Xt.DISPLAY||x&&x.type==="operatorname"&&x.alwaysHandleSupSub&&(e.style===Xt.DISPLAY||x.limits)?c="munderover":c="msubsup"}else{var m=t.base;m&&m.type==="op"&&m.limits&&(e.style===Xt.DISPLAY||m.alwaysHandleSupSub)||m&&m.type==="operatorname"&&m.alwaysHandleSupSub&&(m.limits||e.style===Xt.DISPLAY)?c="munder":c="msub"}else{var f=t.base;f&&f.type==="op"&&f.limits&&(e.style===Xt.DISPLAY||f.alwaysHandleSupSub)||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(f.limits||e.style===Xt.DISPLAY)?c="mover":c="msup"}return new it.MathNode(c,o)}});ud({type:"atom",htmlBuilder(t,e){return Ae.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new it.MathNode("mo",[gl(t.text,t.mode)]);if(t.family==="bin"){var n=X7(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var xP={mi:"italic",mn:"normal",mtext:"normal"};ud({type:"mathord",htmlBuilder(t,e){return Ae.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new it.MathNode("mi",[gl(t.text,t.mode,e)]),n=X7(t,e)||"italic";return n!==xP[r.type]&&r.setAttribute("mathvariant",n),r}});ud({type:"textord",htmlBuilder(t,e){return Ae.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=gl(t.text,t.mode,e),n=X7(t,e)||"normal",i;return t.mode==="text"?i=new it.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new it.MathNode("mn",[r]):t.text==="\\prime"?i=new it.MathNode("mo",[r]):i=new it.MathNode("mi",[r]),n!==xP[i.type]&&i.setAttribute("mathvariant",n),i}});var Qx={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Jx={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ud({type:"spacing",htmlBuilder(t,e){if(Jx.hasOwnProperty(t.text)){var r=Jx[t.text].className||"";if(t.mode==="text"){var n=Ae.makeOrd(t,e,"textord");return n.classes.push(r),n}else return Ae.makeSpan(["mspace",r],[Ae.mathsym(t.text,t.mode,e)],e)}else{if(Qx.hasOwnProperty(t.text))return Ae.makeSpan(["mspace",Qx[t.text]],[],e);throw new st('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(Jx.hasOwnProperty(t.text))r=new it.MathNode("mtext",[new it.TextNode("\xA0")]);else{if(Qx.hasOwnProperty(t.text))return new it.MathNode("mspace");throw new st('Unknown type of space "'+t.text+'"')}return r}});var jT=()=>{var t=new it.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};ud({type:"tag",mathmlBuilder(t,e){var r=new it.MathNode("mtable",[new it.MathNode("mtr",[jT(),new it.MathNode("mtd",[u0(t.body,e)]),jT(),new it.MathNode("mtd",[u0(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var RT={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},FT={"\\textbf":"textbf","\\textmd":"textmd"},kX={"\\textit":"textit","\\textup":"textup"},zT=(t,e)=>{var r=t.font;return r?RT[r]?e.withTextFontFamily(RT[r]):FT[r]?e.withTextFontWeight(FT[r]):e.withTextFontShape(kX[r]):e};St({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:da(i),font:n}},htmlBuilder(t,e){var r=zT(t,e),n=ja(t.body,r,!0);return Ae.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=zT(t,e);return u0(t.body,r)}});St({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Br(t.body,e),n=Ae.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=Ae.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return Ae.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var r=new it.MathNode("mo",[new it.TextNode("\u203E")]);r.setAttribute("stretchy","true");var n=new it.MathNode("munder",[bn(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});St({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Br(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return Ae.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new it.MathNode("mpadded",[bn(t.body,e)],["vcenter"])}});St({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new st("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=BT(t),n=[],i=e.havingStyle(e.style.text()),o=0;o<r.length;o++){var c=r[o];c==="~"&&(c="\\textasciitilde"),n.push(Ae.makeSymbol(c,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return Ae.makeSpan(["mord","text"].concat(i.sizingClasses(e)),Ae.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new it.TextNode(BT(t)),n=new it.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var BT=t=>t.body.replace(/ /g,t.star?"\u2423":"\xA0"),$c=WL,kP=`[ \r
	]`,CX="\\\\[a-zA-Z@]+",SX="\\\\[^\uD800-\uDFFF]",EX="("+CX+")"+kP+"*",_X=`\\\\(
|[ \r	]+
?)[ \r	]*`,F5="[\u0300-\u036F]",TX=new RegExp(F5+"+$"),OX="("+kP+"+)|"+(_X+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(F5+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(F5+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+EX)+("|"+SX+")");class HT{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(OX,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new al("EOF",new xo(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new st("Unexpected character: '"+e[r]+"'",new al(e[r],new xo(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new al(i,new xo(this,r,this.tokenRegex.lastIndex))}}class AX{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new st("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var MX=uP;ee("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});ee("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});ee("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});ee("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});ee("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});ee("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ee("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var UT={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ee("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new st("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=UT[e.text],n==null||n>=r)throw new st("Invalid base-"+r+" digit "+e.text);for(var i;(i=UT[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var lk=(t,e,r)=>{var n=t.consumeArg().tokens;if(n.length!==1)throw new st("\\newcommand's first argument must be a macro name");var i=n[0].text,o=t.isDefined(i);if(o&&!e)throw new st("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!o&&!r)throw new st("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var c=0;if(n=t.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var f="",m=t.expandNextToken();m.text!=="]"&&m.text!=="EOF";)f+=m.text,m=t.expandNextToken();if(!f.match(/^\s*[0-9]+\s*$/))throw new st("Invalid number of arguments: "+f);c=parseInt(f),n=t.consumeArg().tokens}return t.macros.set(i,{tokens:n,numArgs:c}),""};ee("\\newcommand",t=>lk(t,!1,!0));ee("\\renewcommand",t=>lk(t,!0,!1));ee("\\providecommand",t=>lk(t,!0,!0));ee("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});ee("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});ee("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),$c[r],Cn.math[r],Cn.text[r]),""});ee("\\bgroup","{");ee("\\egroup","}");ee("~","\\nobreakspace");ee("\\lq","`");ee("\\rq","'");ee("\\aa","\\r a");ee("\\AA","\\r A");ee("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");ee("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ee("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");ee("\u212C","\\mathscr{B}");ee("\u2130","\\mathscr{E}");ee("\u2131","\\mathscr{F}");ee("\u210B","\\mathscr{H}");ee("\u2110","\\mathscr{I}");ee("\u2112","\\mathscr{L}");ee("\u2133","\\mathscr{M}");ee("\u211B","\\mathscr{R}");ee("\u212D","\\mathfrak{C}");ee("\u210C","\\mathfrak{H}");ee("\u2128","\\mathfrak{Z}");ee("\\Bbbk","\\Bbb{k}");ee("\xB7","\\cdotp");ee("\\llap","\\mathllap{\\textrm{#1}}");ee("\\rlap","\\mathrlap{\\textrm{#1}}");ee("\\clap","\\mathclap{\\textrm{#1}}");ee("\\mathstrut","\\vphantom{(}");ee("\\underbar","\\underline{\\text{#1}}");ee("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ee("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");ee("\\ne","\\neq");ee("\u2260","\\neq");ee("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}");ee("\u2209","\\notin");ee("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}");ee("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");ee("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");ee("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}");ee("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}");ee("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}");ee("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");ee("\u27C2","\\perp");ee("\u203C","\\mathclose{!\\mkern-0.8mu!}");ee("\u220C","\\notni");ee("\u231C","\\ulcorner");ee("\u231D","\\urcorner");ee("\u231E","\\llcorner");ee("\u231F","\\lrcorner");ee("\xA9","\\copyright");ee("\xAE","\\textregistered");ee("\uFE0F","\\textregistered");ee("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ee("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ee("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ee("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ee("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");ee("\u22EE","\\vdots");ee("\\varGamma","\\mathit{\\Gamma}");ee("\\varDelta","\\mathit{\\Delta}");ee("\\varTheta","\\mathit{\\Theta}");ee("\\varLambda","\\mathit{\\Lambda}");ee("\\varXi","\\mathit{\\Xi}");ee("\\varPi","\\mathit{\\Pi}");ee("\\varSigma","\\mathit{\\Sigma}");ee("\\varUpsilon","\\mathit{\\Upsilon}");ee("\\varPhi","\\mathit{\\Phi}");ee("\\varPsi","\\mathit{\\Psi}");ee("\\varOmega","\\mathit{\\Omega}");ee("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ee("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ee("\\boxed","\\fbox{$\\displaystyle{#1}$}");ee("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ee("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ee("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var KT={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ee("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in KT?e=KT[r]:(r.substr(0,4)==="\\not"||r in Cn.math&&nr.contains(["bin","rel"],Cn.math[r].group))&&(e="\\dotsb"),e});var sk={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ee("\\dotso",function(t){var e=t.future().text;return e in sk?"\\ldots\\,":"\\ldots"});ee("\\dotsc",function(t){var e=t.future().text;return e in sk&&e!==","?"\\ldots\\,":"\\ldots"});ee("\\cdots",function(t){var e=t.future().text;return e in sk?"\\@cdots\\,":"\\@cdots"});ee("\\dotsb","\\cdots");ee("\\dotsm","\\cdots");ee("\\dotsi","\\!\\cdots");ee("\\dotsx","\\ldots\\,");ee("\\DOTSI","\\relax");ee("\\DOTSB","\\relax");ee("\\DOTSX","\\relax");ee("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ee("\\,","\\tmspace+{3mu}{.1667em}");ee("\\thinspace","\\,");ee("\\>","\\mskip{4mu}");ee("\\:","\\tmspace+{4mu}{.2222em}");ee("\\medspace","\\:");ee("\\;","\\tmspace+{5mu}{.2777em}");ee("\\thickspace","\\;");ee("\\!","\\tmspace-{3mu}{.1667em}");ee("\\negthinspace","\\!");ee("\\negmedspace","\\tmspace-{4mu}{.2222em}");ee("\\negthickspace","\\tmspace-{5mu}{.277em}");ee("\\enspace","\\kern.5em ");ee("\\enskip","\\hskip.5em\\relax");ee("\\quad","\\hskip1em\\relax");ee("\\qquad","\\hskip2em\\relax");ee("\\tag","\\@ifstar\\tag@literal\\tag@paren");ee("\\tag@paren","\\tag@literal{({#1})}");ee("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new st("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ee("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ee("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ee("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ee("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ee("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}");ee("\\newline","\\\\\\relax");ee("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var CP=ht(Ts["Main-Regular"]["T".charCodeAt(0)][1]-.7*Ts["Main-Regular"]["A".charCodeAt(0)][1]);ee("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+CP+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ee("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+CP+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ee("\\hspace","\\@ifstar\\@hspacer\\@hspace");ee("\\@hspace","\\hskip #1\\relax");ee("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ee("\\ordinarycolon",":");ee("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ee("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ee("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ee("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ee("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ee("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ee("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ee("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ee("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ee("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ee("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ee("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ee("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ee("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ee("\u2237","\\dblcolon");ee("\u2239","\\eqcolon");ee("\u2254","\\coloneqq");ee("\u2255","\\eqqcolon");ee("\u2A74","\\Coloneqq");ee("\\ratio","\\vcentcolon");ee("\\coloncolon","\\dblcolon");ee("\\colonequals","\\coloneqq");ee("\\coloncolonequals","\\Coloneqq");ee("\\equalscolon","\\eqqcolon");ee("\\equalscoloncolon","\\Eqqcolon");ee("\\colonminus","\\coloneq");ee("\\coloncolonminus","\\Coloneq");ee("\\minuscolon","\\eqcolon");ee("\\minuscoloncolon","\\Eqcolon");ee("\\coloncolonapprox","\\Colonapprox");ee("\\coloncolonsim","\\Colonsim");ee("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ee("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ee("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ee("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ee("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");ee("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ee("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ee("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ee("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ee("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ee("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ee("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ee("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ee("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");ee("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");ee("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");ee("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");ee("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");ee("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");ee("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");ee("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");ee("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");ee("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");ee("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");ee("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");ee("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");ee("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");ee("\\imath","\\html@mathml{\\@imath}{\u0131}");ee("\\jmath","\\html@mathml{\\@jmath}{\u0237}");ee("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}");ee("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}");ee("\u27E6","\\llbracket");ee("\u27E7","\\rrbracket");ee("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}");ee("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}");ee("\u2983","\\lBrace");ee("\u2984","\\rBrace");ee("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}");ee("\u29B5","\\minuso");ee("\\darr","\\downarrow");ee("\\dArr","\\Downarrow");ee("\\Darr","\\Downarrow");ee("\\lang","\\langle");ee("\\rang","\\rangle");ee("\\uarr","\\uparrow");ee("\\uArr","\\Uparrow");ee("\\Uarr","\\Uparrow");ee("\\N","\\mathbb{N}");ee("\\R","\\mathbb{R}");ee("\\Z","\\mathbb{Z}");ee("\\alef","\\aleph");ee("\\alefsym","\\aleph");ee("\\Alpha","\\mathrm{A}");ee("\\Beta","\\mathrm{B}");ee("\\bull","\\bullet");ee("\\Chi","\\mathrm{X}");ee("\\clubs","\\clubsuit");ee("\\cnums","\\mathbb{C}");ee("\\Complex","\\mathbb{C}");ee("\\Dagger","\\ddagger");ee("\\diamonds","\\diamondsuit");ee("\\empty","\\emptyset");ee("\\Epsilon","\\mathrm{E}");ee("\\Eta","\\mathrm{H}");ee("\\exist","\\exists");ee("\\harr","\\leftrightarrow");ee("\\hArr","\\Leftrightarrow");ee("\\Harr","\\Leftrightarrow");ee("\\hearts","\\heartsuit");ee("\\image","\\Im");ee("\\infin","\\infty");ee("\\Iota","\\mathrm{I}");ee("\\isin","\\in");ee("\\Kappa","\\mathrm{K}");ee("\\larr","\\leftarrow");ee("\\lArr","\\Leftarrow");ee("\\Larr","\\Leftarrow");ee("\\lrarr","\\leftrightarrow");ee("\\lrArr","\\Leftrightarrow");ee("\\Lrarr","\\Leftrightarrow");ee("\\Mu","\\mathrm{M}");ee("\\natnums","\\mathbb{N}");ee("\\Nu","\\mathrm{N}");ee("\\Omicron","\\mathrm{O}");ee("\\plusmn","\\pm");ee("\\rarr","\\rightarrow");ee("\\rArr","\\Rightarrow");ee("\\Rarr","\\Rightarrow");ee("\\real","\\Re");ee("\\reals","\\mathbb{R}");ee("\\Reals","\\mathbb{R}");ee("\\Rho","\\mathrm{P}");ee("\\sdot","\\cdot");ee("\\sect","\\S");ee("\\spades","\\spadesuit");ee("\\sub","\\subset");ee("\\sube","\\subseteq");ee("\\supe","\\supseteq");ee("\\Tau","\\mathrm{T}");ee("\\thetasym","\\vartheta");ee("\\weierp","\\wp");ee("\\Zeta","\\mathrm{Z}");ee("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ee("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ee("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ee("\\bra","\\mathinner{\\langle{#1}|}");ee("\\ket","\\mathinner{|{#1}\\rangle}");ee("\\braket","\\mathinner{\\langle{#1}\\rangle}");ee("\\Bra","\\left\\langle#1\\right|");ee("\\Ket","\\left|#1\\right\\rangle");ee("\\angln","{\\angl n}");ee("\\blue","\\textcolor{##6495ed}{#1}");ee("\\orange","\\textcolor{##ffa500}{#1}");ee("\\pink","\\textcolor{##ff00af}{#1}");ee("\\red","\\textcolor{##df0030}{#1}");ee("\\green","\\textcolor{##28ae7b}{#1}");ee("\\gray","\\textcolor{gray}{#1}");ee("\\purple","\\textcolor{##9d38bd}{#1}");ee("\\blueA","\\textcolor{##ccfaff}{#1}");ee("\\blueB","\\textcolor{##80f6ff}{#1}");ee("\\blueC","\\textcolor{##63d9ea}{#1}");ee("\\blueD","\\textcolor{##11accd}{#1}");ee("\\blueE","\\textcolor{##0c7f99}{#1}");ee("\\tealA","\\textcolor{##94fff5}{#1}");ee("\\tealB","\\textcolor{##26edd5}{#1}");ee("\\tealC","\\textcolor{##01d1c1}{#1}");ee("\\tealD","\\textcolor{##01a995}{#1}");ee("\\tealE","\\textcolor{##208170}{#1}");ee("\\greenA","\\textcolor{##b6ffb0}{#1}");ee("\\greenB","\\textcolor{##8af281}{#1}");ee("\\greenC","\\textcolor{##74cf70}{#1}");ee("\\greenD","\\textcolor{##1fab54}{#1}");ee("\\greenE","\\textcolor{##0d923f}{#1}");ee("\\goldA","\\textcolor{##ffd0a9}{#1}");ee("\\goldB","\\textcolor{##ffbb71}{#1}");ee("\\goldC","\\textcolor{##ff9c39}{#1}");ee("\\goldD","\\textcolor{##e07d10}{#1}");ee("\\goldE","\\textcolor{##a75a05}{#1}");ee("\\redA","\\textcolor{##fca9a9}{#1}");ee("\\redB","\\textcolor{##ff8482}{#1}");ee("\\redC","\\textcolor{##f9685d}{#1}");ee("\\redD","\\textcolor{##e84d39}{#1}");ee("\\redE","\\textcolor{##bc2612}{#1}");ee("\\maroonA","\\textcolor{##ffbde0}{#1}");ee("\\maroonB","\\textcolor{##ff92c6}{#1}");ee("\\maroonC","\\textcolor{##ed5fa6}{#1}");ee("\\maroonD","\\textcolor{##ca337c}{#1}");ee("\\maroonE","\\textcolor{##9e034e}{#1}");ee("\\purpleA","\\textcolor{##ddd7ff}{#1}");ee("\\purpleB","\\textcolor{##c6b9fc}{#1}");ee("\\purpleC","\\textcolor{##aa87ff}{#1}");ee("\\purpleD","\\textcolor{##7854ab}{#1}");ee("\\purpleE","\\textcolor{##543b78}{#1}");ee("\\mintA","\\textcolor{##f5f9e8}{#1}");ee("\\mintB","\\textcolor{##edf2df}{#1}");ee("\\mintC","\\textcolor{##e0e5cc}{#1}");ee("\\grayA","\\textcolor{##f6f7f7}{#1}");ee("\\grayB","\\textcolor{##f0f1f2}{#1}");ee("\\grayC","\\textcolor{##e3e5e6}{#1}");ee("\\grayD","\\textcolor{##d6d8da}{#1}");ee("\\grayE","\\textcolor{##babec2}{#1}");ee("\\grayF","\\textcolor{##888d93}{#1}");ee("\\grayG","\\textcolor{##626569}{#1}");ee("\\grayH","\\textcolor{##3b3e40}{#1}");ee("\\grayI","\\textcolor{##21242c}{#1}");ee("\\kaBlue","\\textcolor{##314453}{#1}");ee("\\kaGreen","\\textcolor{##71B307}{#1}");var SP={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class IX{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new AX(MX,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new HT(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new al("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),o,c=0,f=0;do{if(o=this.popToken(),r.push(o),o.text==="{")++c;else if(o.text==="}"){if(--c,c===-1)throw new st("Extra }",o)}else if(o.text==="EOF")throw new st("Unexpected end of input in a macro argument, expected '"+(e&&n?e[f]:"}")+"'",o);if(e&&n)if((c===0||c===1&&e[f]==="{")&&o.text===e[f]){if(++f,f===e.length){r.splice(-f,f);break}}else f=0}while(c!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:o}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new st("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var o=this.popToken();if(n[i]!==o.text)throw new st("Use of the macro doesn't match its definition",o)}}for(var c=[],f=0;f<e;f++)c.push(this.consumeArg(r&&r[f+1]).tokens);return c}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new st("Undefined control sequence: "+n);return this.pushToken(r),r}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new st("Too many expansions: infinite loop or need to increase maxExpand setting");var o=i.tokens,c=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var f=o.length-1;f>=0;--f){var m=o[f];if(m.text==="#"){if(f===0)throw new st("Incomplete placeholder at end of macro body",m);if(m=o[--f],m.text==="#")o.splice(f+1,1);else if(/^[1-9]$/.test(m.text))o.splice(f,2,...c[+m.text-1]);else throw new st("Not a valid argument number",m)}}}return this.pushTokens(o),o}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;){var e=this.expandOnce();if(e instanceof al)return e.treatAsRelax&&(e.text="\\relax"),this.stack.pop()}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new al(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;){var i=this.expandOnce(!0);i instanceof al&&(i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(this.stack.pop()))}return r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var c=i.replace(/##/g,"");c.indexOf("#"+(o+1))!==-1;)++o;for(var f=new HT(i,this.settings),m=[],x=f.lex();x.text!=="EOF";)m.push(x),x=f.lex();m.reverse();var E={tokens:m,numArgs:o};return E}return i}isDefined(e){return this.macros.has(e)||$c.hasOwnProperty(e)||Cn.math.hasOwnProperty(e)||Cn.text.hasOwnProperty(e)||SP.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:$c.hasOwnProperty(e)&&!$c[e].primitive}}var e6={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},WT={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"};class Tb{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new IX(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new st("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new al("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Tb.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&$c[i.text]&&$c[i.text].infix)break;var o=this.parseAtom(r);if(o){if(o.type==="internal")continue}else break;n.push(o)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new st("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var o,c,f=e.slice(0,r),m=e.slice(r+1);f.length===1&&f[0].type==="ordgroup"?o=f[0]:o={type:"ordgroup",mode:this.mode,body:f},m.length===1&&m[0].type==="ordgroup"?c=m[0]:c={type:"ordgroup",mode:this.mode,body:m};var x;return n==="\\\\abovefrac"?x=this.callFunction(n,[o,e[r],c],[]):x=this.callFunction(n,[o,c],[]),[x]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new st("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var r=this.parseGroup("atom",e);if(this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(r&&r.type==="op"){var c=o.text==="\\limits";r.limits=c,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=o.text==="\\limits");else throw new st("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(n)throw new st("Double superscript",o);n=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new st("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(n)throw new st("Double superscript",o);var f={type:"textord",mode:this.mode,text:"\\prime"},m=[f];for(this.consume();this.fetch().text==="'";)m.push(f),this.consume();this.fetch().text==="^"&&m.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:m}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,o=$c[i];if(!o)return null;if(this.consume(),r&&r!=="atom"&&!o.allowedInArgument)throw new st("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!o.allowedInText)throw new st("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&o.allowedInMath===!1)throw new st("Can't use function '"+i+"' in math mode",n);var{args:c,optArgs:f}=this.parseArguments(i,o);return this.callFunction(i,c,f,n,e)}callFunction(e,r,n,i,o){var c={funcName:e,parser:this,token:i,breakOnTokenText:o},f=$c[e];if(f&&f.handler)return f.handler(c,r,n);throw new st("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],o=[],c=0;c<n;c++){var f=r.argTypes&&r.argTypes[c],m=c<r.numOptionalArgs;(r.primitive&&f==null||r.type==="sqrt"&&c===1&&o[0]==null)&&(f="primitive");var x=this.parseGroupOfType("argument to '"+e+"'",f,m);if(m)o.push(x);else if(x!=null)i.push(x);else throw new st("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",n);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(n)throw new st("A primitive argument cannot be optional");var c=this.parseGroup(e);if(c==null)throw new st("Expected group as "+e,this.fetch());return c}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new st("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,o="",c;(c=this.fetch()).text!=="EOF"&&e.test(o+c.text);)i=c,o+=i.text,this.consume();if(o==="")throw new st("Invalid "+r+": '"+n.text+"'",n);return n.range(i,o)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new st("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new st("Invalid size: '"+r.text+"'",r);var o={number:+(i[1]+i[2]),unit:i[3]};if(!NL(o))throw new st("Invalid unit: '"+o.unit+"'",r);return{type:"size",mode:this.mode,value:o,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var c={type:"ordgroup",mode:this.mode,loc:n.loc,body:o};return r&&this.switchMode(i),c}parseGroup(e,r){var n=this.fetch(),i=n.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var c=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var f=this.parseExpression(!1,c),m=this.fetch();this.expect(c),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:xo.range(n,m),body:f,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(r,e)||this.parseSymbol(),o==null&&i[0]==="\\"&&!SP.hasOwnProperty(i)){if(this.settings.throwOnError)throw new st("Undefined control sequence: "+i,n);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],o=i.text;o==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:xo.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:xo.range(i,e[n+1]),text:"--"}),r-=1)),(o==="'"||o==="`")&&e[n+1].text===o&&(e.splice(n,2,{type:"textord",mode:"text",loc:xo.range(i,e[n+1]),text:o+o}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new st(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}WT.hasOwnProperty(r[0])&&!Cn[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=WT[r[0]]+r.substr(1));var o=TX.exec(r);o&&(r=r.substring(0,o.index),r==="i"?r="\u0131":r==="j"&&(r="\u0237"));var c;if(Cn[this.mode][r]){this.settings.strict&&this.mode==="math"&&L5.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var f=Cn[this.mode][r].group,m=xo.range(e),x;if(bY.hasOwnProperty(f)){var E=f;x={type:"atom",mode:this.mode,family:E,loc:m,text:r}}else x={type:f,mode:this.mode,loc:m,text:r};c=x}else if(r.charCodeAt(0)>=128)this.settings.strict&&(PL(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),c={type:"textord",mode:"text",loc:xo.range(e),text:r};else return null;if(this.consume(),o)for(var b=0;b<o[0].length;b++){var S=o[0][b];if(!e6[S])throw new st("Unknown accent ' "+S+"'",e);var g=e6[S][this.mode]||e6[S].text;if(!g)throw new st("Accent "+S+" unsupported in "+this.mode+" mode",e);c={type:"accent",mode:this.mode,loc:xo.range(e),label:g,isStretchy:!1,isShifty:!0,base:c}}return c}}Tb.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var uk=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Tb(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new st("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new al("\\df@tag")])}]}return i},EP=function(e,r,n){r.textContent="";var i=ck(e,n).toNode();r.appendChild(i)};typeof document!="undefined"&&document.compatMode!=="CSS1Compat"&&(typeof console!="undefined"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),EP=function(){throw new st("KaTeX doesn't work in quirks mode.")});var DX=function(e,r){var n=ck(e,r).toMarkup();return n},LX=function(e,r){var n=new W7(r);return uk(e,n)},_P=function(e,r,n){if(n.throwOnError||!(e instanceof st))throw e;var i=Ae.makeSpan(["katex-error"],[new vl(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},ck=function(e,r){var n=new W7(r);try{var i=uk(e,n);return UY(i,e,n)}catch(o){return _P(o,e,n)}},PX=function(e,r){var n=new W7(r);try{var i=uk(e,n);return KY(i,e,n)}catch(o){return _P(o,e,n)}},NX={version:"0.15.3",render:EP,renderToString:DX,ParseError:st,SETTINGS_SCHEMA:y4,__parse:LX,__renderToDomTree:ck,__renderToHTMLTree:PX,__setFontMetrics:dY,__defineSymbol:B,__defineMacro:ee,__domTree:{Span:qv,Anchor:V7,SymbolNode:vl,SvgNode:s0,PathNode:nd,LineNode:D5}};function TP(t){var e=t.equation,r=t.inline,n=t.onClick,i=re.exports.useRef(null);return re.exports.useEffect(function(){var o=i.current;o!==null&&NX.render(e,o,{displayMode:!r,errorColor:"#cc0000",output:"html",strict:"warn",throwOnError:!1,trust:!1})},[e,r]),Q("span",{role:"button",tabIndex:-1,onClick:n,ref:i})}function jX(t){var e=t.equation,r=t.inline,n=t.nodeKey,i=sr(),o=Se(i,1),c=o[0],f=re.exports.useState(e),m=Se(f,2),x=m[0],E=m[1],b=re.exports.useState(!1),S=Se(b,2),g=S[0],O=S[1],C=re.exports.useRef(null),N=re.exports.useCallback(function(P){O(!1),c.update(function(){var D=qt(n);FX(D)&&(D.setEquation(x),P&&D.selectNext(0,0))})},[c,x,n]);return re.exports.useEffect(function(){if(g)return pa(c.registerCommand(Es,function(P){var D=document.activeElement,F=C.current;return F!==D&&N(),!1},WE),c.registerCommand(Q3,function(P){var D=document.activeElement,F=C.current;return F===D?(N(!0),!0):!1},WE))},[c,N,g]),Q(dn,{children:g?Q(jq,{equation:x,setEquation:E,inline:r,inputRef:C}):Q(TP,{equation:x,inline:r,onClick:function(){O(!0)}})})}var Ob=function(t){jr(r,t);var e=Rr(r);function r(n,i,o){var c;return ar(this,r),c=e.call(this,o),c.__equation=n,c.__inline=i!=null?i:!1,c}return ir(r,[{key:"createDOM",value:function(i){return document.createElement(this.__inline?"span":"div")}},{key:"updateDOM",value:function(i){return this.__inline!==i.__inline}},{key:"setEquation",value:function(i){var o=this.getWritable();o.__equation=i}},{key:"decorate",value:function(){return Q(jX,{equation:this.__equation,inline:this.__inline,nodeKey:this.__key})}}],[{key:"getType",value:function(){return"equation"}},{key:"clone",value:function(i){return new r(i.__equation,i.__inline,i.__key)}}]),r}(Fu);function RX(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=new Ob(t,e);return r}function FX(t){return t instanceof Ob}var OP=er();function zX(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useEffect(function(){if(!r.hasNodes([Ob]))throw new Error("ExcalidrawPlugin: ExcalidrawNode not registered on editor");return r.registerCommand(OP,function(n){var i=n.equation,o=n.inline,c=Me();if(De(c)){var f=RX(i,o);c.insertNodes([f])}return!0},Nt)},[r]),null}function $T(t,e){return t.getEditorState().read(function(){var r=qt(e);return r===null?!1:r.isSelected()})}function AP(t){var e=sr(),r=Se(e,1),n=r[0],i=re.exports.useState(function(){return $T(n,t)}),o=Se(i,2),c=o[0],f=o[1];re.exports.useEffect(function(){return n.registerUpdateListener(function(){f($T(n,t))})},[n,t]);var m=re.exports.useCallback(function(E){n.update(function(){var b=Me();Ls(b)||(b=FH(),Ta(b)),E?b.add(t):b.delete(t)})},[n,t]),x=re.exports.useCallback(function(){n.update(function(){var E=Me();Ls(E)&&E.clear()})},[n]);return[c,m,x]}var fk={exports:{}},MP={exports:{}};/*! For license information please see excalidraw.production.min.js.LICENSE.txt */(function(t,e){(function(r,n){t.exports=n(re.exports,Ai.exports)})(self,function(r,n){return function(){var i,o,c,f,m={7945:function(b,S,g){b.exports=g(1602)},200:function(b,S,g){var O="Expected a function",C=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,D=/^0o[0-7]+$/i,F=parseInt,I=typeof g.g=="object"&&g.g&&g.g.Object===Object&&g.g,q=typeof self=="object"&&self&&self.Object===Object&&self,V=I||q||Function("return this")(),te=Object.prototype.toString,ne=Math.max,W=Math.min,de=function(){return V.Date.now()};function ie(pe,xe,Oe){var Fe,ye,Pe,ze,Ze,G,A=0,zt=!1,Ht=!1,Zt=!0;if(typeof pe!="function")throw new TypeError(O);function Ne(Kt){var yr=Fe,Xr=ye;return Fe=ye=void 0,A=Kt,ze=pe.apply(Xr,yr)}function be(Kt){return A=Kt,Ze=setTimeout(yt,xe),zt?Ne(Kt):ze}function Ke(Kt){var yr=Kt-G;return G===void 0||yr>=xe||yr<0||Ht&&Kt-A>=Pe}function yt(){var Kt=de();if(Ke(Kt))return At(Kt);Ze=setTimeout(yt,function(yr){var Xr=xe-(yr-G);return Ht?W(Xr,Pe-(yr-A)):Xr}(Kt))}function At(Kt){return Ze=void 0,Zt&&Fe?Ne(Kt):(Fe=ye=void 0,ze)}function kt(){var Kt=de(),yr=Ke(Kt);if(Fe=arguments,ye=this,G=Kt,yr){if(Ze===void 0)return be(G);if(Ht)return Ze=setTimeout(yt,xe),Ne(G)}return Ze===void 0&&(Ze=setTimeout(yt,xe)),ze}return xe=ve(xe)||0,ue(Oe)&&(zt=!!Oe.leading,Pe=(Ht="maxWait"in Oe)?ne(ve(Oe.maxWait)||0,xe):Pe,Zt="trailing"in Oe?!!Oe.trailing:Zt),kt.cancel=function(){Ze!==void 0&&clearTimeout(Ze),A=0,Fe=G=ye=Ze=void 0},kt.flush=function(){return Ze===void 0?ze:At(de())},kt}function ue(pe){var xe=typeof pe;return!!pe&&(xe=="object"||xe=="function")}function ve(pe){if(typeof pe=="number")return pe;if(function(Fe){return typeof Fe=="symbol"||function(ye){return!!ye&&typeof ye=="object"}(Fe)&&te.call(Fe)=="[object Symbol]"}(pe))return NaN;if(ue(pe)){var xe=typeof pe.valueOf=="function"?pe.valueOf():pe;pe=ue(xe)?xe+"":xe}if(typeof pe!="string")return pe===0?pe:+pe;pe=pe.replace(C,"");var Oe=P.test(pe);return Oe||D.test(pe)?F(pe.slice(2),Oe?2:8):N.test(pe)?NaN:+pe}b.exports=function(pe,xe,Oe){var Fe=!0,ye=!0;if(typeof pe!="function")throw new TypeError(O);return ue(Oe)&&(Fe="leading"in Oe?!!Oe.leading:Fe,ye="trailing"in Oe?!!Oe.trailing:ye),ie(pe,xe,{leading:Fe,maxWait:xe,trailing:ye})}},2891:function(b,S,g){var O;b=g.nmd(b),function(){var C,N="Expected a function",P="__lodash_hash_undefined__",D="__lodash_placeholder__",F=16,I=32,q=64,V=128,te=256,ne=1/0,W=9007199254740991,de=NaN,ie=4294967295,ue=[["ary",V],["bind",1],["bindKey",2],["curry",8],["curryRight",F],["flip",512],["partial",I],["partialRight",q],["rearg",te]],ve="[object Arguments]",pe="[object Array]",xe="[object Boolean]",Oe="[object Date]",Fe="[object Error]",ye="[object Function]",Pe="[object GeneratorFunction]",ze="[object Map]",Ze="[object Number]",G="[object Object]",A="[object Promise]",zt="[object RegExp]",Ht="[object Set]",Zt="[object String]",Ne="[object Symbol]",be="[object WeakMap]",Ke="[object ArrayBuffer]",yt="[object DataView]",At="[object Float32Array]",kt="[object Float64Array]",Kt="[object Int8Array]",yr="[object Int16Array]",Xr="[object Int32Array]",Jr="[object Uint8Array]",mr="[object Uint8ClampedArray]",$r="[object Uint16Array]",en="[object Uint32Array]",oo=/\b__p \+= '';/g,$l=/\b(__p \+=) '' \+/g,fi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Li=/&(?:amp|lt|gt|quot|#39);/g,Ws=/[&<>"']/g,Uu=RegExp(Li.source),ia=RegExp(Ws.source),Fr=/<%-([\s\S]+?)%>/g,$s=/<%([\s\S]+?)%>/g,Ku=/<%=([\s\S]+?)%>/g,v0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gs=/^\w*$/,Vs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bl=/[\\^$.*+?()[\]{}|]/g,cd=RegExp(bl.source),g0=/^\s+/,fd=/\s/,Wu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yt=/\{\n\/\* \[wrapped with (.+)\] \*/,Zr=/,? & /,di=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$u=/[()=,{}\[\]\/\s]/,dd=/\\(\\)?/g,qs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wl=/\w*$/,y0=/^[-+]0x[0-9a-f]+$/i,Gu=/^0b[01]+$/i,Ut=/^\[object .+?Constructor\]$/,xl=/^0o[0-7]+$/i,Zv=/^(?:0|[1-9]\d*)$/,Qv=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ys=/($^)/,Jv=/['\n\r\u2028\u2029\\]/g,Np="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Db="\\u2700-\\u27bf",Vu="a-z\\xdf-\\xf6\\xf8-\\xff",b0="A-Z\\xc0-\\xd6\\xd8-\\xde",Lb="\\ufe0e\\ufe0f",Gl="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jp="['\u2019]",Pb="[\\ud800-\\udfff]",w0="["+Gl+"]",qu="["+Np+"]",Ya="\\d+",hd="[\\u2700-\\u27bf]",eg="["+Vu+"]",x0="[^\\ud800-\\udfff"+Gl+Ya+Db+Vu+b0+"]",Rp="\\ud83c[\\udffb-\\udfff]",Xs="[^\\ud800-\\udfff]",pd="(?:\\ud83c[\\udde6-\\uddff]){2}",Cr="[\\ud800-\\udbff][\\udc00-\\udfff]",Vl="["+b0+"]",lo="(?:"+eg+"|"+x0+")",Yu="(?:"+Vl+"|"+x0+")",Lr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",No="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",tg="(?:"+qu+"|"+Rp+")?",on="[\\ufe0e\\ufe0f]?",ql=on+tg+("(?:\\u200d(?:"+[Xs,pd,Cr].join("|")+")"+on+tg+")*"),hi="(?:"+[hd,pd,Cr].join("|")+")"+ql,rg="(?:"+[Xs+qu+"?",qu,pd,Cr,Pb].join("|")+")",k0=RegExp(jp,"g"),md=RegExp(qu,"g"),Pi=RegExp(Rp+"(?="+Rp+")|"+rg+ql,"g"),Sr=RegExp([Vl+"?"+eg+"+"+Lr+"(?="+[w0,Vl,"$"].join("|")+")",Yu+"+"+No+"(?="+[w0,Vl+lo,"$"].join("|")+")",Vl+"?"+lo+"+"+Lr,Vl+"+"+No,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ya,hi].join("|"),"g"),C0=RegExp("[\\u200d\\ud800-\\udfff"+Np+Lb+"]"),Fp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ni=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yl=-1,ln={};ln[At]=ln[kt]=ln[Kt]=ln[yr]=ln[Xr]=ln[Jr]=ln[mr]=ln[$r]=ln[en]=!0,ln[ve]=ln[pe]=ln[Ke]=ln[xe]=ln[yt]=ln[Oe]=ln[Fe]=ln[ye]=ln[ze]=ln[Ze]=ln[G]=ln[zt]=ln[Ht]=ln[Zt]=ln[be]=!1;var Hr={};Hr[ve]=Hr[pe]=Hr[Ke]=Hr[yt]=Hr[xe]=Hr[Oe]=Hr[At]=Hr[kt]=Hr[Kt]=Hr[yr]=Hr[Xr]=Hr[ze]=Hr[Ze]=Hr[G]=Hr[zt]=Hr[Ht]=Hr[Zt]=Hr[Ne]=Hr[Jr]=Hr[mr]=Hr[$r]=Hr[en]=!0,Hr[Fe]=Hr[ye]=Hr[be]=!1;var S0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nb=parseFloat,ji=parseInt,ng=typeof g.g=="object"&&g.g&&g.g.Object===Object&&g.g,vd=typeof self=="object"&&self&&self.Object===Object&&self,oa=ng||vd||Function("return this")(),zp=S&&!S.nodeType&&S,wr=zp&&b&&!b.nodeType&&b,Xl=wr&&wr.exports===zp,Xu=Xl&&ng.process,Xa=function(){try{var ce=wr&&wr.require&&wr.require("util").types;return ce||Xu&&Xu.binding&&Xu.binding("util")}catch{}}(),ag=Xa&&Xa.isArrayBuffer,ig=Xa&&Xa.isDate,Zu=Xa&&Xa.isMap,qn=Xa&&Xa.isRegExp,Zs=Xa&&Xa.isSet,Bp=Xa&&Xa.isTypedArray;function Ma(ce,je,Ge){switch(Ge.length){case 0:return ce.call(je);case 1:return ce.call(je,Ge[0]);case 2:return ce.call(je,Ge[0],Ge[1]);case 3:return ce.call(je,Ge[0],Ge[1],Ge[2])}return ce.apply(je,Ge)}function fr(ce,je,Ge,pt){for(var or=-1,Or=ce==null?0:ce.length;++or<Or;){var sn=ce[or];je(pt,sn,Ge(sn),ce)}return pt}function Za(ce,je){for(var Ge=-1,pt=ce==null?0:ce.length;++Ge<pt&&je(ce[Ge],Ge,ce)!==!1;);return ce}function Zl(ce,je){for(var Ge=ce==null?0:ce.length;Ge--&&je(ce[Ge],Ge,ce)!==!1;);return ce}function kl(ce,je){for(var Ge=-1,pt=ce==null?0:ce.length;++Ge<pt;)if(!je(ce[Ge],Ge,ce))return!1;return!0}function va(ce,je){for(var Ge=-1,pt=ce==null?0:ce.length,or=0,Or=[];++Ge<pt;){var sn=ce[Ge];je(sn,Ge,ce)&&(Or[or++]=sn)}return Or}function E0(ce,je){return!!(ce!=null&&ce.length)&&Ju(ce,je,0)>-1}function gd(ce,je,Ge){for(var pt=-1,or=ce==null?0:ce.length;++pt<or;)if(Ge(je,ce[pt]))return!0;return!1}function wn(ce,je){for(var Ge=-1,pt=ce==null?0:ce.length,or=Array(pt);++Ge<pt;)or[Ge]=je(ce[Ge],Ge,ce);return or}function Ql(ce,je){for(var Ge=-1,pt=je.length,or=ce.length;++Ge<pt;)ce[or+Ge]=je[Ge];return ce}function Hp(ce,je,Ge,pt){var or=-1,Or=ce==null?0:ce.length;for(pt&&Or&&(Ge=ce[++or]);++or<Or;)Ge=je(Ge,ce[or],or,ce);return Ge}function jb(ce,je,Ge,pt){var or=ce==null?0:ce.length;for(pt&&or&&(Ge=ce[--or]);or--;)Ge=je(Ge,ce[or],or,ce);return Ge}function Up(ce,je){for(var Ge=-1,pt=ce==null?0:ce.length;++Ge<pt;)if(je(ce[Ge],Ge,ce))return!0;return!1}var yd=wd("length");function Qu(ce,je,Ge){var pt;return Ge(ce,function(or,Or,sn){if(je(or,Or,sn))return pt=Or,!1}),pt}function bd(ce,je,Ge,pt){for(var or=ce.length,Or=Ge+(pt?1:-1);pt?Or--:++Or<or;)if(je(ce[Or],Or,ce))return Or;return-1}function Ju(ce,je,Ge){return je==je?function(pt,or,Or){for(var sn=Or-1,Ri=pt.length;++sn<Ri;)if(pt[sn]===or)return sn;return-1}(ce,je,Ge):bd(ce,Kp,Ge)}function Rb(ce,je,Ge,pt){for(var or=Ge-1,Or=ce.length;++or<Or;)if(pt(ce[or],je))return or;return-1}function Kp(ce){return ce!=ce}function og(ce,je){var Ge=ce==null?0:ce.length;return Ge?Gp(ce,je)/Ge:de}function wd(ce){return function(je){return je==null?C:je[ce]}}function Wp(ce){return function(je){return ce==null?C:ce[je]}}function $p(ce,je,Ge,pt,or){return or(ce,function(Or,sn,Ri){Ge=pt?(pt=!1,Or):je(Ge,Or,sn,Ri)}),Ge}function Gp(ce,je){for(var Ge,pt=-1,or=ce.length;++pt<or;){var Or=je(ce[pt]);Or!==C&&(Ge=Ge===C?Or:Ge+Or)}return Ge}function Vp(ce,je){for(var Ge=-1,pt=Array(ce);++Ge<ce;)pt[Ge]=je(Ge);return pt}function qp(ce){return ce&&ce.slice(0,En(ce)+1).replace(g0,"")}function pi(ce){return function(je){return ce(je)}}function Yp(ce,je){return wn(je,function(Ge){return ce[Ge]})}function _0(ce,je){return ce.has(je)}function Be(ce,je){for(var Ge=-1,pt=ce.length;++Ge<pt&&Ju(je,ce[Ge],0)>-1;);return Ge}function ec(ce,je){for(var Ge=ce.length;Ge--&&Ju(je,ce[Ge],0)>-1;);return Ge}function Xp(ce,je){for(var Ge=ce.length,pt=0;Ge--;)ce[Ge]===je&&++pt;return pt}var T0=Wp({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),lg=Wp({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Fb(ce){return"\\"+S0[ce]}function jo(ce){return C0.test(ce)}function Ro(ce){var je=-1,Ge=Array(ce.size);return ce.forEach(function(pt,or){Ge[++je]=[or,pt]}),Ge}function O0(ce,je){return function(Ge){return ce(je(Ge))}}function hn(ce,je){for(var Ge=-1,pt=ce.length,or=0,Or=[];++Ge<pt;){var sn=ce[Ge];sn!==je&&sn!==D||(ce[Ge]=D,Or[or++]=Ge)}return Or}function tc(ce){var je=-1,Ge=Array(ce.size);return ce.forEach(function(pt){Ge[++je]=pt}),Ge}function zb(ce){var je=-1,Ge=Array(ce.size);return ce.forEach(function(pt){Ge[++je]=[pt,pt]}),Ge}function ga(ce){return jo(ce)?function(je){for(var Ge=Pi.lastIndex=0;Pi.test(je);)++Ge;return Ge}(ce):yd(ce)}function Yn(ce){return jo(ce)?function(je){return je.match(Pi)||[]}(ce):function(je){return je.split("")}(ce)}function En(ce){for(var je=ce.length;je--&&fd.test(ce.charAt(je)););return je}var Jl=Wp({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),A0=function ce(je){var Ge,pt=(je=je==null?oa:A0.defaults(oa.Object(),je,A0.pick(oa,Ni))).Array,or=je.Date,Or=je.Error,sn=je.Function,Ri=je.Math,Gr=je.Object,pn=je.RegExp,Zp=je.String,ya=je.TypeError,Ia=pt.prototype,M0=sn.prototype,Qs=Gr.prototype,xd=je["__core-js_shared__"],I0=M0.toString,Vr=Qs.hasOwnProperty,Js=0,sg=(Ge=/[^.]+$/.exec(xd&&xd.keys&&xd.keys.IE_PROTO||""))?"Symbol(src)_1."+Ge:"",D0=Qs.toString,ug=I0.call(Gr),Bb=oa._,cg=pn("^"+I0.call(Vr).replace(bl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qa=Xl?je.Buffer:C,ea=je.Symbol,Ja=je.Uint8Array,rc=Qa?Qa.allocUnsafe:C,kd=O0(Gr.getPrototypeOf,Gr),fg=Gr.create,Qp=Qs.propertyIsEnumerable,L0=Ia.splice,dg=ea?ea.isConcatSpreadable:C,Cl=ea?ea.iterator:C,Sl=ea?ea.toStringTag:C,P0=function(){try{var h=rn(Gr,"defineProperty");return h({},"",{}),h}catch{}}(),nc=je.clearTimeout!==oa.clearTimeout&&je.clearTimeout,Hb=or&&or.now!==oa.Date.now&&or.now,N0=je.setTimeout!==oa.setTimeout&&je.setTimeout,Cd=Ri.ceil,j0=Ri.floor,R0=Gr.getOwnPropertySymbols,Jp=Qa?Qa.isBuffer:C,es=je.isFinite,mn=Ia.join,Sd=O0(Gr.keys,Gr),Rn=Ri.max,ba=Ri.min,El=or.now,hg=je.parseInt,Ed=Ri.random,F0=Ia.reverse,ac=rn(je,"DataView"),ts=rn(je,"Map"),_d=rn(je,"Promise"),eu=rn(je,"Set"),z0=rn(je,"WeakMap"),ei=rn(Gr,"create"),rs=z0&&new z0,Ra={},pg=Il(ac),ns=Il(ts),mg=Il(_d),Ub=Il(eu),vg=Il(z0),B0=ea?ea.prototype:C,H0=B0?B0.valueOf:C,e1=B0?B0.toString:C;function J(h){if(xn(h)&&!ur(h)&&!(h instanceof Er)){if(h instanceof ti)return h;if(Vr.call(h,"__wrapped__"))return k1(h)}return new ti(h)}var tu=function(){function h(){}return function(k){if(!_n(k))return{};if(fg)return fg(k);h.prototype=k;var M=new h;return h.prototype=C,M}}();function U0(){}function ti(h,k){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!k,this.__index__=0,this.__values__=C}function Er(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function Fo(h){var k=-1,M=h==null?0:h.length;for(this.clear();++k<M;){var H=h[k];this.set(H[0],H[1])}}function Fn(h){var k=-1,M=h==null?0:h.length;for(this.clear();++k<M;){var H=h[k];this.set(H[0],H[1])}}function ri(h){var k=-1,M=h==null?0:h.length;for(this.clear();++k<M;){var H=h[k];this.set(H[0],H[1])}}function so(h){var k=-1,M=h==null?0:h.length;for(this.__data__=new ri;++k<M;)this.add(h[k])}function zn(h){var k=this.__data__=new Fn(h);this.size=k.size}function K0(h,k){var M=ur(h),H=!M&&pu(h),Y=!M&&!H&&fs(h),ae=!M&&!H&&!Y&&gc(h),he=M||H||Y||ae,we=he?Vp(h.length,Zp):[],ge=we.length;for(var Ye in h)!k&&!Vr.call(h,Ye)||he&&(Ye=="length"||Y&&(Ye=="offset"||Ye=="parent")||ae&&(Ye=="buffer"||Ye=="byteLength"||Ye=="byteOffset")||Wo(Ye,ge))||we.push(Ye);return we}function t1(h){var k=h.length;return k?h[q0(0,k-1)]:C}function gg(h,k){return cf(xa(h),ru(k,0,h.length))}function yg(h){return cf(xa(h))}function W0(h,k,M){(M!==C&&!mo(h[k],M)||M===C&&!(k in h))&&zo(h,k,M)}function $0(h,k,M){var H=h[k];Vr.call(h,k)&&mo(H,M)&&(M!==C||k in h)||zo(h,k,M)}function G0(h,k){for(var M=h.length;M--;)if(mo(h[M][0],k))return M;return-1}function bg(h,k,M,H){return Bi(h,function(Y,ae,he){k(H,Y,M(Y),he)}),H}function Td(h,k){return h&&ho(k,Xn(k),h)}function zo(h,k,M){k=="__proto__"&&P0?P0(h,k,{configurable:!0,enumerable:!0,value:M,writable:!0}):h[k]=M}function r1(h,k){for(var M=-1,H=k.length,Y=pt(H),ae=h==null;++M<H;)Y[M]=ae?C:D1(h,k[M]);return Y}function ru(h,k,M){return h==h&&(M!==C&&(h=h<=M?h:M),k!==C&&(h=h>=k?h:k)),h}function Fi(h,k,M,H,Y,ae){var he,we=1&k,ge=2&k,Ye=4&k;if(M&&(he=Y?M(h,H,Y,ae):M(h)),he!==C)return he;if(!_n(h))return h;var Ve=ur(h);if(Ve){if(he=function(Qe){var Re=Qe.length,$t=new Qe.constructor(Re);return Re&&typeof Qe[0]=="string"&&Vr.call(Qe,"index")&&($t.index=Qe.index,$t.input=Qe.input),$t}(h),!we)return xa(h,he)}else{var nt=ka(h),Ot=nt==ye||nt==Pe;if(fs(h))return _g(h,we);if(nt==G||nt==ve||Ot&&!Y){if(he=ge||Ot?{}:hc(h),!we)return ge?function(Qe,Re){return ho(Qe,Fg(Qe),Re)}(h,function(Qe,Re){return Qe&&ho(Re,Ha(Re),Qe)}(he,h)):function(Qe,Re){return ho(Qe,Ur(Qe),Re)}(h,Td(he,h))}else{if(!Hr[nt])return Y?h:{};he=function(Qe,Re,$t){var _t=Qe.constructor;switch(Re){case Ke:return jd(Qe);case xe:case Oe:return new _t(+Qe);case yt:return function(Qt,xr){var Rt=xr?jd(Qt.buffer):Qt.buffer;return new Qt.constructor(Rt,Qt.byteOffset,Qt.byteLength)}(Qe,$t);case At:case kt:case Kt:case yr:case Xr:case Jr:case mr:case $r:case en:return Q0(Qe,$t);case ze:case Ht:return new _t;case Ze:case Zt:return new _t(Qe);case zt:return function(Qt){var xr=new Qt.constructor(Qt.source,wl.exec(Qt));return xr.lastIndex=Qt.lastIndex,xr}(Qe);case Ne:return It=Qe,H0?Gr(H0.call(It)):{}}var It}(h,nt,we)}}ae||(ae=new zn);var Mt=ae.get(h);if(Mt)return Mt;ae.set(h,he),vy(h)?h.forEach(function(Qe){he.add(Fi(Qe,k,M,Qe,h,ae))}):py(h)&&h.forEach(function(Qe,Re){he.set(Re,Fi(Qe,k,M,Re,h,ae))});var Et=Ve?C:(Ye?ge?zd:af:ge?Ha:Xn)(h);return Za(Et||h,function(Qe,Re){Et&&(Qe=h[Re=Qe]),$0(he,Re,Fi(Qe,k,M,Re,h,ae))}),he}function nu(h,k,M){var H=M.length;if(h==null)return!H;for(h=Gr(h);H--;){var Y=M[H],ae=k[Y],he=h[Y];if(he===C&&!(Y in h)||!ae(he))return!1}return!0}function zi(h,k,M){if(typeof h!="function")throw new ya(N);return mc(function(){h.apply(C,M)},k)}function ic(h,k,M,H){var Y=-1,ae=E0,he=!0,we=h.length,ge=[],Ye=k.length;if(!we)return ge;M&&(k=wn(k,pi(M))),H?(ae=gd,he=!1):k.length>=200&&(ae=_0,he=!1,k=new so(k));e:for(;++Y<we;){var Ve=h[Y],nt=M==null?Ve:M(Ve);if(Ve=H||Ve!==0?Ve:0,he&&nt==nt){for(var Ot=Ye;Ot--;)if(k[Ot]===nt)continue e;ge.push(Ve)}else ae(k,nt,H)||ge.push(Ve)}return ge}J.templateSettings={escape:Fr,evaluate:$s,interpolate:Ku,variable:"",imports:{_:J}},J.prototype=U0.prototype,J.prototype.constructor=J,ti.prototype=tu(U0.prototype),ti.prototype.constructor=ti,Er.prototype=tu(U0.prototype),Er.prototype.constructor=Er,Fo.prototype.clear=function(){this.__data__=ei?ei(null):{},this.size=0},Fo.prototype.delete=function(h){var k=this.has(h)&&delete this.__data__[h];return this.size-=k?1:0,k},Fo.prototype.get=function(h){var k=this.__data__;if(ei){var M=k[h];return M===P?C:M}return Vr.call(k,h)?k[h]:C},Fo.prototype.has=function(h){var k=this.__data__;return ei?k[h]!==C:Vr.call(k,h)},Fo.prototype.set=function(h,k){var M=this.__data__;return this.size+=this.has(h)?0:1,M[h]=ei&&k===C?P:k,this},Fn.prototype.clear=function(){this.__data__=[],this.size=0},Fn.prototype.delete=function(h){var k=this.__data__,M=G0(k,h);return!(M<0)&&(M==k.length-1?k.pop():L0.call(k,M,1),--this.size,!0)},Fn.prototype.get=function(h){var k=this.__data__,M=G0(k,h);return M<0?C:k[M][1]},Fn.prototype.has=function(h){return G0(this.__data__,h)>-1},Fn.prototype.set=function(h,k){var M=this.__data__,H=G0(M,h);return H<0?(++this.size,M.push([h,k])):M[H][1]=k,this},ri.prototype.clear=function(){this.size=0,this.__data__={hash:new Fo,map:new(ts||Fn),string:new Fo}},ri.prototype.delete=function(h){var k=of(this,h).delete(h);return this.size-=k?1:0,k},ri.prototype.get=function(h){return of(this,h).get(h)},ri.prototype.has=function(h){return of(this,h).has(h)},ri.prototype.set=function(h,k){var M=of(this,h),H=M.size;return M.set(h,k),this.size+=M.size==H?0:1,this},so.prototype.add=so.prototype.push=function(h){return this.__data__.set(h,P),this},so.prototype.has=function(h){return this.__data__.has(h)},zn.prototype.clear=function(){this.__data__=new Fn,this.size=0},zn.prototype.delete=function(h){var k=this.__data__,M=k.delete(h);return this.size=k.size,M},zn.prototype.get=function(h){return this.__data__.get(h)},zn.prototype.has=function(h){return this.__data__.has(h)},zn.prototype.set=function(h,k){var M=this.__data__;if(M instanceof Fn){var H=M.__data__;if(!ts||H.length<199)return H.push([h,k]),this.size=++M.size,this;M=this.__data__=new ri(H)}return M.set(h,k),this.size=M.size,this};var Bi=tf(Bo),vt=tf(Ad,!0);function tn(h,k){var M=!0;return Bi(h,function(H,Y,ae){return M=!!k(H,Y,ae)}),M}function au(h,k,M){for(var H=-1,Y=h.length;++H<Y;){var ae=h[H],he=k(ae);if(he!=null&&(we===C?he==he&&!gi(he):M(he,we)))var we=he,ge=ae}return ge}function as(h,k){var M=[];return Bi(h,function(H,Y,ae){k(H,Y,ae)&&M.push(H)}),M}function ta(h,k,M,H,Y){var ae=-1,he=h.length;for(M||(M=zg),Y||(Y=[]);++ae<he;){var we=h[ae];k>0&&M(we)?k>1?ta(we,k-1,M,H,Y):Ql(Y,we):H||(Y[Y.length]=we)}return Y}var Od=Og(),oc=Og(!0);function Bo(h,k){return h&&Od(h,k,Xn)}function Ad(h,k){return h&&oc(h,k,Xn)}function V0(h,k){return va(k,function(M){return Dl(h[M])})}function Dn(h,k){for(var M=0,H=(k=Tl(k,h)).length;h!=null&&M<H;)h=h[po(k[M++])];return M&&M==H?h:C}function n1(h,k,M){var H=k(h);return ur(h)?H:Ql(H,M(h))}function wa(h){return h==null?h===C?"[object Undefined]":"[object Null]":Sl&&Sl in Gr(h)?function(k){var M=Vr.call(k,Sl),H=k[Sl];try{k[Sl]=C;var Y=!0}catch{}var ae=D0.call(k);return Y&&(M?k[Sl]=H:delete k[Sl]),ae}(h):function(k){return D0.call(k)}(h)}function Md(h,k){return h>k}function lc(h,k){return h!=null&&Vr.call(h,k)}function Ho(h,k){return h!=null&&k in Gr(h)}function iu(h,k,M){for(var H=M?gd:E0,Y=h[0].length,ae=h.length,he=ae,we=pt(ae),ge=1/0,Ye=[];he--;){var Ve=h[he];he&&k&&(Ve=wn(Ve,pi(k))),ge=ba(Ve.length,ge),we[he]=!M&&(k||Y>=120&&Ve.length>=120)?new so(he&&Ve):C}Ve=h[0];var nt=-1,Ot=we[0];e:for(;++nt<Y&&Ye.length<ge;){var Mt=Ve[nt],Et=k?k(Mt):Mt;if(Mt=M||Mt!==0?Mt:0,!(Ot?_0(Ot,Et):H(Ye,Et,M))){for(he=ae;--he;){var Qe=we[he];if(!(Qe?_0(Qe,Et):H(h[he],Et,M)))continue e}Ot&&Ot.push(Et),Ye.push(Mt)}}return Ye}function mi(h,k,M){var H=(h=Hg(h,k=Tl(k,h)))==null?h:h[po(vi(k))];return H==null?C:Ma(H,h,M)}function wg(h){return xn(h)&&wa(h)==ve}function sc(h,k,M,H,Y){return h===k||(h==null||k==null||!xn(h)&&!xn(k)?h!=h&&k!=k:function(ae,he,we,ge,Ye,Ve){var nt=ur(ae),Ot=ur(he),Mt=nt?pe:ka(ae),Et=Ot?pe:ka(he),Qe=(Mt=Mt==ve?G:Mt)==G,Re=(Et=Et==ve?G:Et)==G,$t=Mt==Et;if($t&&fs(ae)){if(!fs(he))return!1;nt=!0,Qe=!1}if($t&&!Qe)return Ve||(Ve=new zn),nt||gc(ae)?g1(ae,he,we,ge,Ye,Ve):function(Rt,Gt,ra,ai,vo,Zn,Ll){switch(ra){case yt:if(Rt.byteLength!=Gt.byteLength||Rt.byteOffset!=Gt.byteOffset)return!1;Rt=Rt.buffer,Gt=Gt.buffer;case Ke:return!(Rt.byteLength!=Gt.byteLength||!Zn(new Ja(Rt),new Ja(Gt)));case xe:case Oe:case Ze:return mo(+Rt,+Gt);case Fe:return Rt.name==Gt.name&&Rt.message==Gt.message;case zt:case Zt:return Rt==Gt+"";case ze:var ms=Ro;case Ht:var pf=1&ai;if(ms||(ms=tc),Rt.size!=Gt.size&&!pf)return!1;var oh=Ll.get(Rt);if(oh)return oh==Gt;ai|=2,Ll.set(Rt,Gt);var wc=g1(ms(Rt),ms(Gt),ai,vo,Zn,Ll);return Ll.delete(Rt),wc;case Ne:if(H0)return H0.call(Rt)==H0.call(Gt)}return!1}(ae,he,Mt,we,ge,Ye,Ve);if(!(1&we)){var _t=Qe&&Vr.call(ae,"__wrapped__"),It=Re&&Vr.call(he,"__wrapped__");if(_t||It){var Qt=_t?ae.value():ae,xr=It?he.value():he;return Ve||(Ve=new zn),Ye(Qt,xr,we,ge,Ve)}}return $t?(Ve||(Ve=new zn),function(Rt,Gt,ra,ai,vo,Zn){var Ll=1&ra,ms=af(Rt),pf=ms.length,oh=af(Gt).length;if(pf!=oh&&!Ll)return!1;for(var wc=pf;wc--;){var mu=ms[wc];if(!(Ll?mu in Gt:Vr.call(Gt,mu)))return!1}var Ry=Zn.get(Rt),Fy=Zn.get(Gt);if(Ry&&Fy)return Ry==Gt&&Fy==Rt;var mf=!0;Zn.set(Rt,Gt),Zn.set(Gt,Rt);for(var lh=Ll;++wc<pf;){var sh=Rt[mu=ms[wc]],vf=Gt[mu];if(ai)var gf=Ll?ai(vf,sh,mu,Gt,Rt,Zn):ai(sh,vf,mu,Rt,Gt,Zn);if(!(gf===C?sh===vf||vo(sh,vf,ra,ai,Zn):gf)){mf=!1;break}lh||(lh=mu=="constructor")}if(mf&&!lh){var uh=Rt.constructor,ch=Gt.constructor;uh==ch||!("constructor"in Rt)||!("constructor"in Gt)||typeof uh=="function"&&uh instanceof uh&&typeof ch=="function"&&ch instanceof ch||(mf=!1)}return Zn.delete(Rt),Zn.delete(Gt),mf}(ae,he,we,ge,Ye,Ve)):!1}(h,k,M,H,sc,Y))}function a1(h,k,M,H){var Y=M.length,ae=Y,he=!H;if(h==null)return!ae;for(h=Gr(h);Y--;){var we=M[Y];if(he&&we[2]?we[1]!==h[we[0]]:!(we[0]in h))return!1}for(;++Y<ae;){var ge=(we=M[Y])[0],Ye=h[ge],Ve=we[1];if(he&&we[2]){if(Ye===C&&!(ge in h))return!1}else{var nt=new zn;if(H)var Ot=H(Ye,Ve,ge,h,k,nt);if(!(Ot===C?sc(Ve,Ye,3,H,nt):Ot))return!1}}return!0}function i1(h){return!(!_n(h)||(k=h,sg&&sg in k))&&(Dl(h)?cg:Ut).test(Il(h));var k}function Uo(h){return typeof h=="function"?h:h==null?la:typeof h=="object"?ur(h)?su(h[0],h[1]):xg(h):Iy(h)}function ou(h){if(!pc(h))return Sd(h);var k=[];for(var M in Gr(h))Vr.call(h,M)&&M!="constructor"&&k.push(M);return k}function Id(h){if(!_n(h))return function(Y){var ae=[];if(Y!=null)for(var he in Gr(Y))ae.push(he);return ae}(h);var k=pc(h),M=[];for(var H in h)(H!="constructor"||!k&&Vr.call(h,H))&&M.push(H);return M}function Dd(h,k){return h<k}function lu(h,k){var M=-1,H=Da(h)?pt(h.length):[];return Bi(h,function(Y,ae,he){H[++M]=k(Y,ae,he)}),H}function xg(h){var k=Hd(h);return k.length==1&&k[0][2]?Bg(k[0][0],k[0][1]):function(M){return M===h||a1(M,h,k)}}function su(h,k){return lf(h)&&b1(k)?Bg(po(h),k):function(M){var H=D1(M,h);return H===C&&H===k?ds(M,h):sc(k,H,3)}}function uu(h,k,M,H,Y){h!==k&&Od(k,function(ae,he){if(Y||(Y=new zn),_n(ae))(function(ge,Ye,Ve,nt,Ot,Mt,Et){var Qe=w1(ge,Ve),Re=w1(Ye,Ve),$t=Et.get(Re);if($t)return void W0(ge,Ve,$t);var _t=Mt?Mt(Qe,Re,Ve+"",ge,Ye,Et):C,It=_t===C;if(It){var Qt=ur(Re),xr=!Qt&&fs(Re),Rt=!Qt&&!xr&&gc(Re);_t=Re,Qt||xr||Rt?ur(Qe)?_t=Qe:Bn(Qe)?_t=xa(Qe):xr?(It=!1,_t=_g(Re,!0)):Rt?(It=!1,_t=Q0(Re,!0)):_t=[]:df(Re)||pu(Re)?(_t=Qe,pu(Qe)?_t=wy(Qe):_n(Qe)&&!Dl(Qe)||(_t=hc(Re))):It=!1}It&&(Et.set(Re,_t),Ot(_t,Re,nt,Mt,Et),Et.delete(Re)),W0(ge,Ve,_t)})(h,k,he,M,uu,H,Y);else{var we=H?H(w1(h,he),ae,he+"",h,k,Y):C;we===C&&(we=ae),W0(h,he,we)}},Ha)}function Ld(h,k){var M=h.length;if(M)return Wo(k+=k<0?M:0,M)?h[k]:C}function o1(h,k,M){k=k.length?wn(k,function(ae){return ur(ae)?function(he){return Dn(he,ae.length===1?ae[0]:ae)}:ae}):[la];var H=-1;k=wn(k,pi(Wt()));var Y=lu(h,function(ae,he,we){var ge=wn(k,function(Ye){return Ye(ae)});return{criteria:ge,index:++H,value:ae}});return function(ae,he){var we=ae.length;for(ae.sort(he);we--;)ae[we]=ae[we].value;return ae}(Y,function(ae,he){return function(we,ge,Ye){for(var Ve=-1,nt=we.criteria,Ot=ge.criteria,Mt=nt.length,Et=Ye.length;++Ve<Mt;){var Qe=Tg(nt[Ve],Ot[Ve]);if(Qe)return Ve>=Et?Qe:Qe*(Ye[Ve]=="desc"?-1:1)}return we.index-ge.index}(ae,he,M)})}function l1(h,k,M){for(var H=-1,Y=k.length,ae={};++H<Y;){var he=k[H],we=Dn(h,he);M(we,he)&&co(ae,Tl(he,h),we)}return ae}function s1(h,k,M,H){var Y=H?Rb:Ju,ae=-1,he=k.length,we=h;for(h===k&&(k=xa(k)),M&&(we=wn(h,pi(M)));++ae<he;)for(var ge=0,Ye=k[ae],Ve=M?M(Ye):Ye;(ge=Y(we,Ve,ge,H))>-1;)we!==h&&L0.call(we,ge,1),L0.call(h,ge,1);return h}function u1(h,k){for(var M=h?k.length:0,H=M-1;M--;){var Y=k[M];if(M==H||Y!==ae){var ae=Y;Wo(Y)?L0.call(h,Y,1):cu(h,Y)}}return h}function q0(h,k){return h+j0(Ed()*(k-h+1))}function uo(h,k){var M="";if(!h||k<1||k>W)return M;do k%2&&(M+=h),(k=j0(k/2))&&(h+=h);while(k);return M}function vr(h,k){return Ud(Ml(h,k,la),h+"")}function c1(h){return t1(Pr(h))}function Fa(h,k){var M=Pr(h);return cf(M,ru(k,0,M.length))}function co(h,k,M,H){if(!_n(h))return h;for(var Y=-1,ae=(k=Tl(k,h)).length,he=ae-1,we=h;we!=null&&++Y<ae;){var ge=po(k[Y]),Ye=M;if(ge==="__proto__"||ge==="constructor"||ge==="prototype")return h;if(Y!=he){var Ve=we[ge];(Ye=H?H(Ve,ge,we):C)===C&&(Ye=_n(Ve)?Ve:Wo(k[Y+1])?[]:{})}$0(we,ge,Ye),we=we[ge]}return h}var Y0=rs?function(h,k){return rs.set(h,k),h}:la,kg=P0?function(h,k){return P0(h,"toString",{configurable:!0,enumerable:!1,value:nh(k),writable:!0})}:la;function uc(h){return cf(Pr(h))}function Hi(h,k,M){var H=-1,Y=h.length;k<0&&(k=-k>Y?0:Y+k),(M=M>Y?Y:M)<0&&(M+=Y),Y=k>M?0:M-k>>>0,k>>>=0;for(var ae=pt(Y);++H<Y;)ae[H]=h[H+k];return ae}function Cg(h,k){var M;return Bi(h,function(H,Y,ae){return!(M=k(H,Y,ae))}),!!M}function X0(h,k,M){var H=0,Y=h==null?H:h.length;if(typeof k=="number"&&k==k&&Y<=2147483647){for(;H<Y;){var ae=H+Y>>>1,he=h[ae];he!==null&&!gi(he)&&(M?he<=k:he<k)?H=ae+1:Y=ae}return Y}return Pd(h,k,la,M)}function Pd(h,k,M,H){var Y=0,ae=h==null?0:h.length;if(ae===0)return 0;for(var he=(k=M(k))!=k,we=k===null,ge=gi(k),Ye=k===C;Y<ae;){var Ve=j0((Y+ae)/2),nt=M(h[Ve]),Ot=nt!==C,Mt=nt===null,Et=nt==nt,Qe=gi(nt);if(he)var Re=H||Et;else Re=Ye?Et&&(H||Ot):we?Et&&Ot&&(H||!Mt):ge?Et&&Ot&&!Mt&&(H||!Qe):!Mt&&!Qe&&(H?nt<=k:nt<k);Re?Y=Ve+1:ae=Ve}return ba(ae,4294967294)}function Z0(h,k){for(var M=-1,H=h.length,Y=0,ae=[];++M<H;){var he=h[M],we=k?k(he):he;if(!M||!mo(we,ge)){var ge=we;ae[Y++]=he===0?0:he}}return ae}function Sg(h){return typeof h=="number"?h:gi(h)?de:+h}function za(h){if(typeof h=="string")return h;if(ur(h))return wn(h,za)+"";if(gi(h))return e1?e1.call(h):"";var k=h+"";return k=="0"&&1/h==-1/0?"-0":k}function Ui(h,k,M){var H=-1,Y=E0,ae=h.length,he=!0,we=[],ge=we;if(M)he=!1,Y=gd;else if(ae>=200){var Ye=k?null:Kb(h);if(Ye)return tc(Ye);he=!1,Y=_0,ge=new so}else ge=k?[]:we;e:for(;++H<ae;){var Ve=h[H],nt=k?k(Ve):Ve;if(Ve=M||Ve!==0?Ve:0,he&&nt==nt){for(var Ot=ge.length;Ot--;)if(ge[Ot]===nt)continue e;k&&ge.push(nt),we.push(Ve)}else Y(ge,nt,M)||(ge!==we&&ge.push(nt),we.push(Ve))}return we}function cu(h,k){return(h=Hg(h,k=Tl(k,h)))==null||delete h[po(vi(k))]}function Eg(h,k,M,H){return co(h,k,M(Dn(h,k)),H)}function _l(h,k,M,H){for(var Y=h.length,ae=H?Y:-1;(H?ae--:++ae<Y)&&k(h[ae],ae,h););return M?Hi(h,H?0:ae,H?ae+1:Y):Hi(h,H?ae+1:0,H?Y:ae)}function is(h,k){var M=h;return M instanceof Er&&(M=M.value()),Hp(k,function(H,Y){return Y.func.apply(Y.thisArg,Ql([H],Y.args))},M)}function f1(h,k,M){var H=h.length;if(H<2)return H?Ui(h[0]):[];for(var Y=-1,ae=pt(H);++Y<H;)for(var he=h[Y],we=-1;++we<H;)we!=Y&&(ae[Y]=ic(ae[Y]||he,h[we],k,M));return Ui(ta(ae,1),k,M)}function d1(h,k,M){for(var H=-1,Y=h.length,ae=k.length,he={};++H<Y;){var we=H<ae?k[H]:C;M(he,h[H],we)}return he}function fo(h){return Bn(h)?h:[]}function Nd(h){return typeof h=="function"?h:la}function Tl(h,k){return ur(h)?h:lf(h,k)?[h]:x1(Kr(h))}var Ko=vr;function os(h,k,M){var H=h.length;return M=M===C?H:M,!k&&M>=H?h:Hi(h,k,M)}var h1=nc||function(h){return oa.clearTimeout(h)};function _g(h,k){if(k)return h.slice();var M=h.length,H=rc?rc(M):new h.constructor(M);return h.copy(H),H}function jd(h){var k=new h.constructor(h.byteLength);return new Ja(k).set(new Ja(h)),k}function Q0(h,k){var M=k?jd(h.buffer):h.buffer;return new h.constructor(M,h.byteOffset,h.length)}function Tg(h,k){if(h!==k){var M=h!==C,H=h===null,Y=h==h,ae=gi(h),he=k!==C,we=k===null,ge=k==k,Ye=gi(k);if(!we&&!Ye&&!ae&&h>k||ae&&he&&ge&&!we&&!Ye||H&&he&&ge||!M&&ge||!Y)return 1;if(!H&&!ae&&!Ye&&h<k||Ye&&M&&Y&&!H&&!ae||we&&M&&Y||!he&&Y||!ge)return-1}return 0}function J0(h,k,M,H){for(var Y=-1,ae=h.length,he=M.length,we=-1,ge=k.length,Ye=Rn(ae-he,0),Ve=pt(ge+Ye),nt=!H;++we<ge;)Ve[we]=k[we];for(;++Y<he;)(nt||Y<ae)&&(Ve[M[Y]]=h[Y]);for(;Ye--;)Ve[we++]=h[Y++];return Ve}function p1(h,k,M,H){for(var Y=-1,ae=h.length,he=-1,we=M.length,ge=-1,Ye=k.length,Ve=Rn(ae-we,0),nt=pt(Ve+Ye),Ot=!H;++Y<Ve;)nt[Y]=h[Y];for(var Mt=Y;++ge<Ye;)nt[Mt+ge]=k[ge];for(;++he<we;)(Ot||Y<ae)&&(nt[Mt+M[he]]=h[Y++]);return nt}function xa(h,k){var M=-1,H=h.length;for(k||(k=pt(H));++M<H;)k[M]=h[M];return k}function ho(h,k,M,H){var Y=!M;M||(M={});for(var ae=-1,he=k.length;++ae<he;){var we=k[ae],ge=H?H(M[we],h[we],we,M,h):C;ge===C&&(ge=h[we]),Y?zo(M,we,ge):$0(M,we,ge)}return M}function ef(h,k){return function(M,H){var Y=ur(M)?fr:bg,ae=k?k():{};return Y(M,h,Wt(H,2),ae)}}function cc(h){return vr(function(k,M){var H=-1,Y=M.length,ae=Y>1?M[Y-1]:C,he=Y>2?M[2]:C;for(ae=h.length>3&&typeof ae=="function"?(Y--,ae):C,he&&Ba(M[0],M[1],he)&&(ae=Y<3?C:ae,Y=1),k=Gr(k);++H<Y;){var we=M[H];we&&h(k,we,H,ae)}return k})}function tf(h,k){return function(M,H){if(M==null)return M;if(!Da(M))return h(M,H);for(var Y=M.length,ae=k?Y:-1,he=Gr(M);(k?ae--:++ae<Y)&&H(he[ae],ae,he)!==!1;);return M}}function Og(h){return function(k,M,H){for(var Y=-1,ae=Gr(k),he=H(k),we=he.length;we--;){var ge=he[h?we:++Y];if(M(ae[ge],ge,ae)===!1)break}return k}}function Ag(h){return function(k){var M=jo(k=Kr(k))?Yn(k):C,H=M?M[0]:k.charAt(0),Y=M?os(M,1).join(""):k.slice(1);return H[h]()+Y}}function fu(h){return function(k){return Hp(j1(eh(k).replace(k0,"")),h,"")}}function rf(h){return function(){var k=arguments;switch(k.length){case 0:return new h;case 1:return new h(k[0]);case 2:return new h(k[0],k[1]);case 3:return new h(k[0],k[1],k[2]);case 4:return new h(k[0],k[1],k[2],k[3]);case 5:return new h(k[0],k[1],k[2],k[3],k[4]);case 6:return new h(k[0],k[1],k[2],k[3],k[4],k[5]);case 7:return new h(k[0],k[1],k[2],k[3],k[4],k[5],k[6])}var M=tu(h.prototype),H=h.apply(M,k);return _n(H)?H:M}}function Mg(h){return function(k,M,H){var Y=Gr(k);if(!Da(k)){var ae=Wt(M,3);k=Xn(k),M=function(we){return ae(Y[we],we,Y)}}var he=h(k,M,H);return he>-1?Y[ae?k[he]:he]:C}}function Ig(h){return Al(function(k){var M=k.length,H=M,Y=ti.prototype.thru;for(h&&k.reverse();H--;){var ae=k[H];if(typeof ae!="function")throw new ya(N);if(Y&&!he&&dc(ae)=="wrapper")var he=new ti([],!0)}for(H=he?H:M;++H<M;){var we=dc(ae=k[H]),ge=we=="wrapper"?Bd(ae):C;he=ge&&sf(ge[0])&&ge[1]==424&&!ge[4].length&&ge[9]==1?he[dc(ge[0])].apply(he,ge[3]):ae.length==1&&sf(ae)?he[we]():he.thru(ae)}return function(){var Ye=arguments,Ve=Ye[0];if(he&&Ye.length==1&&ur(Ve))return he.plant(Ve).value();for(var nt=0,Ot=M?k[nt].apply(this,Ye):Ve;++nt<M;)Ot=k[nt].call(this,Ot);return Ot}})}function Rd(h,k,M,H,Y,ae,he,we,ge,Ye){var Ve=k&V,nt=1&k,Ot=2&k,Mt=24&k,Et=512&k,Qe=Ot?C:rf(h);return function Re(){for(var $t=arguments.length,_t=pt($t),It=$t;It--;)_t[It]=arguments[It];if(Mt)var Qt=ls(Re),xr=Xp(_t,Qt);if(H&&(_t=J0(_t,H,Y,Mt)),ae&&(_t=p1(_t,ae,he,Mt)),$t-=xr,Mt&&$t<Ye){var Rt=hn(_t,Qt);return m1(h,k,Rd,Re.placeholder,M,_t,Rt,we,ge,Ye-$t)}var Gt=nt?M:this,ra=Ot?Gt[h]:h;return $t=_t.length,we?_t=us(_t,we):Et&&$t>1&&_t.reverse(),Ve&&ge<$t&&(_t.length=ge),this&&this!==oa&&this instanceof Re&&(ra=Qe||rf(ra)),ra.apply(Gt,_t)}}function Dg(h,k){return function(M,H){return function(Y,ae,he,we){return Bo(Y,function(ge,Ye,Ve){ae(we,he(ge),Ye,Ve)}),we}(M,h,k(H),{})}}function du(h,k){return function(M,H){var Y;if(M===C&&H===C)return k;if(M!==C&&(Y=M),H!==C){if(Y===C)return H;typeof M=="string"||typeof H=="string"?(M=za(M),H=za(H)):(M=Sg(M),H=Sg(H)),Y=h(M,H)}return Y}}function nf(h){return Al(function(k){return k=wn(k,pi(Wt())),vr(function(M){var H=this;return h(k,function(Y){return Ma(Y,H,M)})})})}function fc(h,k){var M=(k=k===C?" ":za(k)).length;if(M<2)return M?uo(k,h):k;var H=uo(k,Cd(h/ga(k)));return jo(k)?os(Yn(H),0,h).join(""):H.slice(0,h)}function Lg(h){return function(k,M,H){return H&&typeof H!="number"&&Ba(k,M,H)&&(M=H=C),k=Go(k),M===C?(M=k,k=0):M=Go(M),function(Y,ae,he,we){for(var ge=-1,Ye=Rn(Cd((ae-Y)/(he||1)),0),Ve=pt(Ye);Ye--;)Ve[we?Ye:++ge]=Y,Y+=he;return Ve}(k,M,H=H===C?k<M?1:-1:Go(H),h)}}function Fd(h){return function(k,M){return typeof k=="string"&&typeof M=="string"||(k=Ki(k),M=Ki(M)),h(k,M)}}function m1(h,k,M,H,Y,ae,he,we,ge,Ye){var Ve=8&k;k|=Ve?I:q,4&(k&=~(Ve?q:I))||(k&=-4);var nt=[h,k,Y,Ve?ae:C,Ve?he:C,Ve?C:ae,Ve?C:he,we,ge,Ye],Ot=M.apply(C,nt);return sf(h)&&Ug(Ot,nt),Ot.placeholder=H,Kg(Ot,h,k)}function v1(h){var k=Ri[h];return function(M,H){if(M=Ki(M),(H=H==null?0:ba(dr(H),292))&&es(M)){var Y=(Kr(M)+"e").split("e");return+((Y=(Kr(k(Y[0]+"e"+(+Y[1]+H)))+"e").split("e"))[0]+"e"+(+Y[1]-H))}return k(M)}}var Kb=eu&&1/tc(new eu([,-0]))[1]==ne?function(h){return new eu(h)}:bc;function Pg(h){return function(k){var M=ka(k);return M==ze?Ro(k):M==Ht?zb(k):function(H,Y){return wn(Y,function(ae){return[ae,H[ae]]})}(k,h(k))}}function Ol(h,k,M,H,Y,ae,he,we){var ge=2&k;if(!ge&&typeof h!="function")throw new ya(N);var Ye=H?H.length:0;if(Ye||(k&=-97,H=Y=C),he=he===C?he:Rn(dr(he),0),we=we===C?we:dr(we),Ye-=Y?Y.length:0,k&q){var Ve=H,nt=Y;H=Y=C}var Ot=ge?C:Bd(h),Mt=[h,k,M,H,Y,Ve,nt,ae,he,we];if(Ot&&function(Qe,Re){var $t=Qe[1],_t=Re[1],It=$t|_t,Qt=It<131,xr=_t==V&&$t==8||_t==V&&$t==te&&Qe[7].length<=Re[8]||_t==384&&Re[7].length<=Re[8]&&$t==8;if(!Qt&&!xr)return Qe;1&_t&&(Qe[2]=Re[2],It|=1&$t?0:4);var Rt=Re[3];if(Rt){var Gt=Qe[3];Qe[3]=Gt?J0(Gt,Rt,Re[4]):Rt,Qe[4]=Gt?hn(Qe[3],D):Re[4]}(Rt=Re[5])&&(Gt=Qe[5],Qe[5]=Gt?p1(Gt,Rt,Re[6]):Rt,Qe[6]=Gt?hn(Qe[5],D):Re[6]),(Rt=Re[7])&&(Qe[7]=Rt),_t&V&&(Qe[8]=Qe[8]==null?Re[8]:ba(Qe[8],Re[8])),Qe[9]==null&&(Qe[9]=Re[9]),Qe[0]=Re[0],Qe[1]=It}(Mt,Ot),h=Mt[0],k=Mt[1],M=Mt[2],H=Mt[3],Y=Mt[4],!(we=Mt[9]=Mt[9]===C?ge?0:h.length:Rn(Mt[9]-Ye,0))&&24&k&&(k&=-25),k&&k!=1)Et=k==8||k==F?function(Qe,Re,$t){var _t=rf(Qe);return function It(){for(var Qt=arguments.length,xr=pt(Qt),Rt=Qt,Gt=ls(It);Rt--;)xr[Rt]=arguments[Rt];var ra=Qt<3&&xr[0]!==Gt&&xr[Qt-1]!==Gt?[]:hn(xr,Gt);return(Qt-=ra.length)<$t?m1(Qe,Re,Rd,It.placeholder,C,xr,ra,C,C,$t-Qt):Ma(this&&this!==oa&&this instanceof It?_t:Qe,this,xr)}}(h,k,we):k!=I&&k!=33||Y.length?Rd.apply(C,Mt):function(Qe,Re,$t,_t){var It=1&Re,Qt=rf(Qe);return function xr(){for(var Rt=-1,Gt=arguments.length,ra=-1,ai=_t.length,vo=pt(ai+Gt),Zn=this&&this!==oa&&this instanceof xr?Qt:Qe;++ra<ai;)vo[ra]=_t[ra];for(;Gt--;)vo[ra++]=arguments[++Rt];return Ma(Zn,It?$t:this,vo)}}(h,k,M,H);else var Et=function(Qe,Re,$t){var _t=1&Re,It=rf(Qe);return function Qt(){return(this&&this!==oa&&this instanceof Qt?It:Qe).apply(_t?$t:this,arguments)}}(h,k,M);return Kg((Ot?Y0:Ug)(Et,Mt),h,k)}function Ng(h,k,M,H){return h===C||mo(h,Qs[M])&&!Vr.call(H,M)?k:h}function jg(h,k,M,H,Y,ae){return _n(h)&&_n(k)&&(ae.set(k,h),uu(h,k,C,jg,ae),ae.delete(k)),h}function Rg(h){return df(h)?C:h}function g1(h,k,M,H,Y,ae){var he=1&M,we=h.length,ge=k.length;if(we!=ge&&!(he&&ge>we))return!1;var Ye=ae.get(h),Ve=ae.get(k);if(Ye&&Ve)return Ye==k&&Ve==h;var nt=-1,Ot=!0,Mt=2&M?new so:C;for(ae.set(h,k),ae.set(k,h);++nt<we;){var Et=h[nt],Qe=k[nt];if(H)var Re=he?H(Qe,Et,nt,k,h,ae):H(Et,Qe,nt,h,k,ae);if(Re!==C){if(Re)continue;Ot=!1;break}if(Mt){if(!Up(k,function($t,_t){if(!_0(Mt,_t)&&(Et===$t||Y(Et,$t,M,H,ae)))return Mt.push(_t)})){Ot=!1;break}}else if(Et!==Qe&&!Y(Et,Qe,M,H,ae)){Ot=!1;break}}return ae.delete(h),ae.delete(k),Ot}function Al(h){return Ud(Ml(h,C,Gg),h+"")}function af(h){return n1(h,Xn,Ur)}function zd(h){return n1(h,Ha,Fg)}var Bd=rs?function(h){return rs.get(h)}:bc;function dc(h){for(var k=h.name+"",M=Ra[k],H=Vr.call(Ra,k)?M.length:0;H--;){var Y=M[H],ae=Y.func;if(ae==null||ae==h)return Y.name}return k}function ls(h){return(Vr.call(J,"placeholder")?J:h).placeholder}function Wt(){var h=J.iteratee||hs;return h=h===hs?Uo:h,arguments.length?h(arguments[0],arguments[1]):h}function of(h,k){var M,H,Y=h.__data__;return((H=typeof(M=k))=="string"||H=="number"||H=="symbol"||H=="boolean"?M!=="__proto__":M===null)?Y[typeof k=="string"?"string":"hash"]:Y.map}function Hd(h){for(var k=Xn(h),M=k.length;M--;){var H=k[M],Y=h[H];k[M]=[H,Y,b1(Y)]}return k}function rn(h,k){var M=function(H,Y){return H==null?C:H[Y]}(h,k);return i1(M)?M:C}var Ur=R0?function(h){return h==null?[]:(h=Gr(h),va(R0(h),function(k){return Qp.call(h,k)}))}:z1,Fg=R0?function(h){for(var k=[];h;)Ql(k,Ur(h)),h=kd(h);return k}:z1,ka=wa;function ss(h,k,M){for(var H=-1,Y=(k=Tl(k,h)).length,ae=!1;++H<Y;){var he=po(k[H]);if(!(ae=h!=null&&M(h,he)))break;h=h[he]}return ae||++H!=Y?ae:!!(Y=h==null?0:h.length)&&Yd(Y)&&Wo(he,Y)&&(ur(h)||pu(h))}function hc(h){return typeof h.constructor!="function"||pc(h)?{}:tu(kd(h))}function zg(h){return ur(h)||pu(h)||!!(dg&&h&&h[dg])}function Wo(h,k){var M=typeof h;return!!(k=k==null?W:k)&&(M=="number"||M!="symbol"&&Zv.test(h))&&h>-1&&h%1==0&&h<k}function Ba(h,k,M){if(!_n(M))return!1;var H=typeof k;return!!(H=="number"?Da(M)&&Wo(k,M.length):H=="string"&&k in M)&&mo(M[k],h)}function lf(h,k){if(ur(h))return!1;var M=typeof h;return!(M!="number"&&M!="symbol"&&M!="boolean"&&h!=null&&!gi(h))||Gs.test(h)||!v0.test(h)||k!=null&&h in Gr(k)}function sf(h){var k=dc(h),M=J[k];if(typeof M!="function"||!(k in Er.prototype))return!1;if(h===M)return!0;var H=Bd(M);return!!H&&h===H[0]}(ac&&ka(new ac(new ArrayBuffer(1)))!=yt||ts&&ka(new ts)!=ze||_d&&ka(_d.resolve())!=A||eu&&ka(new eu)!=Ht||z0&&ka(new z0)!=be)&&(ka=function(h){var k=wa(h),M=k==G?h.constructor:C,H=M?Il(M):"";if(H)switch(H){case pg:return yt;case ns:return ze;case mg:return A;case Ub:return Ht;case vg:return be}return k});var y1=xd?Dl:ih;function pc(h){var k=h&&h.constructor;return h===(typeof k=="function"&&k.prototype||Qs)}function b1(h){return h==h&&!_n(h)}function Bg(h,k){return function(M){return M!=null&&M[h]===k&&(k!==C||h in Gr(M))}}function Ml(h,k,M){return k=Rn(k===C?h.length-1:k,0),function(){for(var H=arguments,Y=-1,ae=Rn(H.length-k,0),he=pt(ae);++Y<ae;)he[Y]=H[k+Y];Y=-1;for(var we=pt(k+1);++Y<k;)we[Y]=H[Y];return we[k]=M(he),Ma(h,this,we)}}function Hg(h,k){return k.length<2?h:Dn(h,Hi(k,0,-1))}function us(h,k){for(var M=h.length,H=ba(k.length,M),Y=xa(h);H--;){var ae=k[H];h[H]=Wo(ae,M)?Y[ae]:C}return h}function w1(h,k){if((k!=="constructor"||typeof h[k]!="function")&&k!="__proto__")return h[k]}var Ug=uf(Y0),mc=N0||function(h,k){return oa.setTimeout(h,k)},Ud=uf(kg);function Kg(h,k,M){var H=k+"";return Ud(h,function(Y,ae){var he=ae.length;if(!he)return Y;var we=he-1;return ae[we]=(he>1?"& ":"")+ae[we],ae=ae.join(he>2?", ":" "),Y.replace(Wu,`{
/* [wrapped with `+ae+`] */
`)}(H,function(Y,ae){return Za(ue,function(he){var we="_."+he[0];ae&he[1]&&!E0(Y,we)&&Y.push(we)}),Y.sort()}(function(Y){var ae=Y.match(Yt);return ae?ae[1].split(Zr):[]}(H),M)))}function uf(h){var k=0,M=0;return function(){var H=El(),Y=16-(H-M);if(M=H,Y>0){if(++k>=800)return arguments[0]}else k=0;return h.apply(C,arguments)}}function cf(h,k){var M=-1,H=h.length,Y=H-1;for(k=k===C?H:k;++M<k;){var ae=q0(M,Y),he=h[ae];h[ae]=h[M],h[M]=he}return h.length=k,h}var x1=function(h){var k=Vd(h,function(H){return M.size===500&&M.clear(),H}),M=k.cache;return k}(function(h){var k=[];return h.charCodeAt(0)===46&&k.push(""),h.replace(Vs,function(M,H,Y,ae){k.push(Y?ae.replace(dd,"$1"):H||M)}),k});function po(h){if(typeof h=="string"||gi(h))return h;var k=h+"";return k=="0"&&1/h==-1/0?"-0":k}function Il(h){if(h!=null){try{return I0.call(h)}catch{}try{return h+""}catch{}}return""}function k1(h){if(h instanceof Er)return h.clone();var k=new ti(h.__wrapped__,h.__chain__);return k.__actions__=xa(h.__actions__),k.__index__=h.__index__,k.__values__=h.__values__,k}var C1=vr(function(h,k){return Bn(h)?ic(h,ta(k,1,Bn,!0)):[]}),Wg=vr(function(h,k){var M=vi(k);return Bn(M)&&(M=C),Bn(h)?ic(h,ta(k,1,Bn,!0),Wt(M,2)):[]}),$g=vr(function(h,k){var M=vi(k);return Bn(M)&&(M=C),Bn(h)?ic(h,ta(k,1,Bn,!0),C,M):[]});function vc(h,k,M){var H=h==null?0:h.length;if(!H)return-1;var Y=M==null?0:dr(M);return Y<0&&(Y=Rn(H+Y,0)),bd(h,Wt(k,3),Y)}function $o(h,k,M){var H=h==null?0:h.length;if(!H)return-1;var Y=H-1;return M!==C&&(Y=dr(M),Y=M<0?Rn(H+Y,0):ba(Y,H-1)),bd(h,Wt(k,3),Y,!0)}function Gg(h){return h!=null&&h.length?ta(h,1):[]}function Vg(h){return h&&h.length?h[0]:C}var qg=vr(function(h){var k=wn(h,fo);return k.length&&k[0]===h[0]?iu(k):[]}),Yg=vr(function(h){var k=vi(h),M=wn(h,fo);return k===vi(M)?k=C:M.pop(),M.length&&M[0]===h[0]?iu(M,Wt(k,2)):[]}),Wb=vr(function(h){var k=vi(h),M=wn(h,fo);return(k=typeof k=="function"?k:C)&&M.pop(),M.length&&M[0]===h[0]?iu(M,C,k):[]});function vi(h){var k=h==null?0:h.length;return k?h[k-1]:C}var $b=vr(Xg);function Xg(h,k){return h&&h.length&&k&&k.length?s1(h,k):h}var Zg=Al(function(h,k){var M=h==null?0:h.length,H=r1(h,k);return u1(h,wn(k,function(Y){return Wo(Y,M)?+Y:Y}).sort(Tg)),H});function Kd(h){return h==null?h:F0.call(h)}var cs=vr(function(h){return Ui(ta(h,1,Bn,!0))}),S1=vr(function(h){var k=vi(h);return Bn(k)&&(k=C),Ui(ta(h,1,Bn,!0),Wt(k,2))}),Qg=vr(function(h){var k=vi(h);return k=typeof k=="function"?k:C,Ui(ta(h,1,Bn,!0),C,k)});function hu(h){if(!h||!h.length)return[];var k=0;return h=va(h,function(M){if(Bn(M))return k=Rn(M.length,k),!0}),Vp(k,function(M){return wn(h,wd(M))})}function Jg(h,k){if(!h||!h.length)return[];var M=hu(h);return k==null?M:wn(M,function(H){return Ma(k,C,H)})}var ey=vr(function(h,k){return Bn(h)?ic(h,k):[]}),E1=vr(function(h){return f1(va(h,Bn))}),ty=vr(function(h){var k=vi(h);return Bn(k)&&(k=C),f1(va(h,Bn),Wt(k,2))}),ry=vr(function(h){var k=vi(h);return k=typeof k=="function"?k:C,f1(va(h,Bn),C,k)}),Gb=vr(hu),ny=vr(function(h){var k=h.length,M=k>1?h[k-1]:C;return M=typeof M=="function"?(h.pop(),M):C,Jg(h,M)});function vn(h){var k=J(h);return k.__chain__=!0,k}function ff(h,k){return k(h)}var gt=Al(function(h){var k=h.length,M=k?h[0]:0,H=this.__wrapped__,Y=function(ae){return r1(ae,h)};return!(k>1||this.__actions__.length)&&H instanceof Er&&Wo(M)?((H=H.slice(M,+M+(k?1:0))).__actions__.push({func:ff,args:[Y],thisArg:C}),new ti(H,this.__chain__).thru(function(ae){return k&&!ae.length&&ae.push(C),ae})):this.thru(Y)}),Vb=ef(function(h,k,M){Vr.call(h,M)?++h[M]:zo(h,M,1)}),ay=Mg(vc),qb=Mg($o);function iy(h,k){return(ur(h)?Za:Bi)(h,Wt(k,3))}function _1(h,k){return(ur(h)?Zl:vt)(h,Wt(k,3))}var Yb=ef(function(h,k,M){Vr.call(h,M)?h[M].push(k):zo(h,M,[k])}),Wd=vr(function(h,k,M){var H=-1,Y=typeof k=="function",ae=Da(h)?pt(h.length):[];return Bi(h,function(he){ae[++H]=Y?Ma(k,he,M):mi(he,k,M)}),ae}),Xb=ef(function(h,k,M){zo(h,M,k)});function $d(h,k){return(ur(h)?wn:lu)(h,Wt(k,3))}var Zb=ef(function(h,k,M){h[M?0:1].push(k)},function(){return[[],[]]}),oy=vr(function(h,k){if(h==null)return[];var M=k.length;return M>1&&Ba(h,k[0],k[1])?k=[]:M>2&&Ba(k[0],k[1],k[2])&&(k=[k[0]]),o1(h,ta(k,1),[])}),Gd=Hb||function(){return oa.Date.now()};function ly(h,k,M){return k=M?C:k,k=h&&k==null?h.length:k,Ol(h,V,C,C,C,C,k)}function sy(h,k){var M;if(typeof k!="function")throw new ya(N);return h=dr(h),function(){return--h>0&&(M=k.apply(this,arguments)),h<=1&&(k=C),M}}var T1=vr(function(h,k,M){var H=1;if(M.length){var Y=hn(M,ls(T1));H|=I}return Ol(h,H,k,M,Y)}),uy=vr(function(h,k,M){var H=3;if(M.length){var Y=hn(M,ls(uy));H|=I}return Ol(k,H,h,M,Y)});function cy(h,k,M){var H,Y,ae,he,we,ge,Ye=0,Ve=!1,nt=!1,Ot=!0;if(typeof h!="function")throw new ya(N);function Mt(It){var Qt=H,xr=Y;return H=Y=C,Ye=It,he=h.apply(xr,Qt)}function Et(It){return Ye=It,we=mc(Re,k),Ve?Mt(It):he}function Qe(It){var Qt=It-ge;return ge===C||Qt>=k||Qt<0||nt&&It-Ye>=ae}function Re(){var It=Gd();if(Qe(It))return $t(It);we=mc(Re,function(Qt){var xr=k-(Qt-ge);return nt?ba(xr,ae-(Qt-Ye)):xr}(It))}function $t(It){return we=C,Ot&&H?Mt(It):(H=Y=C,he)}function _t(){var It=Gd(),Qt=Qe(It);if(H=arguments,Y=this,ge=It,Qt){if(we===C)return Et(ge);if(nt)return h1(we),we=mc(Re,k),Mt(ge)}return we===C&&(we=mc(Re,k)),he}return k=Ki(k)||0,_n(M)&&(Ve=!!M.leading,ae=(nt="maxWait"in M)?Rn(Ki(M.maxWait)||0,k):ae,Ot="trailing"in M?!!M.trailing:Ot),_t.cancel=function(){we!==C&&h1(we),Ye=0,H=ge=Y=we=C},_t.flush=function(){return we===C?he:$t(Gd())},_t}var fy=vr(function(h,k){return zi(h,1,k)}),Qb=vr(function(h,k,M){return zi(h,Ki(k)||0,M)});function Vd(h,k){if(typeof h!="function"||k!=null&&typeof k!="function")throw new ya(N);var M=function(){var H=arguments,Y=k?k.apply(this,H):H[0],ae=M.cache;if(ae.has(Y))return ae.get(Y);var he=h.apply(this,H);return M.cache=ae.set(Y,he)||ae,he};return M.cache=new(Vd.Cache||ri),M}function qd(h){if(typeof h!="function")throw new ya(N);return function(){var k=arguments;switch(k.length){case 0:return!h.call(this);case 1:return!h.call(this,k[0]);case 2:return!h.call(this,k[0],k[1]);case 3:return!h.call(this,k[0],k[1],k[2])}return!h.apply(this,k)}}Vd.Cache=ri;var Jb=Ko(function(h,k){var M=(k=k.length==1&&ur(k[0])?wn(k[0],pi(Wt())):wn(ta(k,1),pi(Wt()))).length;return vr(function(H){for(var Y=-1,ae=ba(H.length,M);++Y<ae;)H[Y]=k[Y].call(this,H[Y]);return Ma(h,this,H)})}),O1=vr(function(h,k){var M=hn(k,ls(O1));return Ol(h,I,C,k,M)}),dy=vr(function(h,k){var M=hn(k,ls(dy));return Ol(h,q,C,k,M)}),ew=Al(function(h,k){return Ol(h,te,C,C,C,k)});function mo(h,k){return h===k||h!=h&&k!=k}var tw=Fd(Md),rw=Fd(function(h,k){return h>=k}),pu=wg(function(){return arguments}())?wg:function(h){return xn(h)&&Vr.call(h,"callee")&&!Qp.call(h,"callee")},ur=pt.isArray,nw=ag?pi(ag):function(h){return xn(h)&&wa(h)==Ke};function Da(h){return h!=null&&Yd(h.length)&&!Dl(h)}function Bn(h){return xn(h)&&Da(h)}var fs=Jp||ih,aw=ig?pi(ig):function(h){return xn(h)&&wa(h)==Oe};function A1(h){if(!xn(h))return!1;var k=wa(h);return k==Fe||k=="[object DOMException]"||typeof h.message=="string"&&typeof h.name=="string"&&!df(h)}function Dl(h){if(!_n(h))return!1;var k=wa(h);return k==ye||k==Pe||k=="[object AsyncFunction]"||k=="[object Proxy]"}function hy(h){return typeof h=="number"&&h==dr(h)}function Yd(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=W}function _n(h){var k=typeof h;return h!=null&&(k=="object"||k=="function")}function xn(h){return h!=null&&typeof h=="object"}var py=Zu?pi(Zu):function(h){return xn(h)&&ka(h)==ze};function my(h){return typeof h=="number"||xn(h)&&wa(h)==Ze}function df(h){if(!xn(h)||wa(h)!=G)return!1;var k=kd(h);if(k===null)return!0;var M=Vr.call(k,"constructor")&&k.constructor;return typeof M=="function"&&M instanceof M&&I0.call(M)==ug}var M1=qn?pi(qn):function(h){return xn(h)&&wa(h)==zt},vy=Zs?pi(Zs):function(h){return xn(h)&&ka(h)==Ht};function Xd(h){return typeof h=="string"||!ur(h)&&xn(h)&&wa(h)==Zt}function gi(h){return typeof h=="symbol"||xn(h)&&wa(h)==Ne}var gc=Bp?pi(Bp):function(h){return xn(h)&&Yd(h.length)&&!!ln[wa(h)]},gy=Fd(Dd),yy=Fd(function(h,k){return h<=k});function I1(h){if(!h)return[];if(Da(h))return Xd(h)?Yn(h):xa(h);if(Cl&&h[Cl])return function(M){for(var H,Y=[];!(H=M.next()).done;)Y.push(H.value);return Y}(h[Cl]());var k=ka(h);return(k==ze?Ro:k==Ht?tc:Pr)(h)}function Go(h){return h?(h=Ki(h))===ne||h===-1/0?17976931348623157e292*(h<0?-1:1):h==h?h:0:h===0?h:0}function dr(h){var k=Go(h),M=k%1;return k==k?M?k-M:k:0}function by(h){return h?ru(dr(h),0,ie):0}function Ki(h){if(typeof h=="number")return h;if(gi(h))return de;if(_n(h)){var k=typeof h.valueOf=="function"?h.valueOf():h;h=_n(k)?k+"":k}if(typeof h!="string")return h===0?h:+h;h=qp(h);var M=Gu.test(h);return M||xl.test(h)?ji(h.slice(2),M?2:8):y0.test(h)?de:+h}function wy(h){return ho(h,Ha(h))}function Kr(h){return h==null?"":za(h)}var iw=cc(function(h,k){if(pc(k)||Da(k))ho(k,Xn(k),h);else for(var M in k)Vr.call(k,M)&&$0(h,M,k[M])}),xy=cc(function(h,k){ho(k,Ha(k),h)}),Zd=cc(function(h,k,M,H){ho(k,Ha(k),h,H)}),ow=cc(function(h,k,M,H){ho(k,Xn(k),h,H)}),lw=Al(r1),sw=vr(function(h,k){h=Gr(h);var M=-1,H=k.length,Y=H>2?k[2]:C;for(Y&&Ba(k[0],k[1],Y)&&(H=1);++M<H;)for(var ae=k[M],he=Ha(ae),we=-1,ge=he.length;++we<ge;){var Ye=he[we],Ve=h[Ye];(Ve===C||mo(Ve,Qs[Ye])&&!Vr.call(h,Ye))&&(h[Ye]=ae[Ye])}return h}),uw=vr(function(h){return h.push(C,jg),Ma(Sy,C,h)});function D1(h,k,M){var H=h==null?C:Dn(h,k);return H===C?M:H}function ds(h,k){return h!=null&&ss(h,k,Ho)}var L1=Dg(function(h,k,M){k!=null&&typeof k.toString!="function"&&(k=D0.call(k)),h[k]=M},nh(la)),ky=Dg(function(h,k,M){k!=null&&typeof k.toString!="function"&&(k=D0.call(k)),Vr.call(h,k)?h[k].push(M):h[k]=[M]},Wt),Cy=vr(mi);function Xn(h){return Da(h)?K0(h):ou(h)}function Ha(h){return Da(h)?K0(h,!0):Id(h)}var Qd=cc(function(h,k,M){uu(h,k,M)}),Sy=cc(function(h,k,M,H){uu(h,k,M,H)}),cw=Al(function(h,k){var M={};if(h==null)return M;var H=!1;k=wn(k,function(ae){return ae=Tl(ae,h),H||(H=ae.length>1),ae}),ho(h,zd(h),M),H&&(M=Fi(M,7,Rg));for(var Y=k.length;Y--;)cu(M,k[Y]);return M}),Ey=Al(function(h,k){return h==null?{}:function(M,H){return l1(M,H,function(Y,ae){return ds(M,ae)})}(h,k)});function Jd(h,k){if(h==null)return{};var M=wn(zd(h),function(H){return[H]});return k=Wt(k),l1(h,M,function(H,Y){return k(H,Y[0])})}var Ct=Pg(Xn),P1=Pg(Ha);function Pr(h){return h==null?[]:Yp(h,Xn(h))}var Wi=fu(function(h,k,M){return k=k.toLowerCase(),h+(M?ni(k):k)});function ni(h){return rh(Kr(h).toLowerCase())}function eh(h){return(h=Kr(h))&&h.replace(Qv,T0).replace(md,"")}var _y=fu(function(h,k,M){return h+(M?"-":"")+k.toLowerCase()}),Ty=fu(function(h,k,M){return h+(M?" ":"")+k.toLowerCase()}),fw=Ag("toLowerCase"),N1=fu(function(h,k,M){return h+(M?"_":"")+k.toLowerCase()}),th=fu(function(h,k,M){return h+(M?" ":"")+rh(k)}),Oy=fu(function(h,k,M){return h+(M?" ":"")+k.toUpperCase()}),rh=Ag("toUpperCase");function j1(h,k,M){return h=Kr(h),(k=M?C:k)===C?function(H){return Fp.test(H)}(h)?function(H){return H.match(Sr)||[]}(h):function(H){return H.match(di)||[]}(h):h.match(k)||[]}var R1=vr(function(h,k){try{return Ma(h,C,k)}catch(M){return A1(M)?M:new Or(M)}}),tr=Al(function(h,k){return Za(k,function(M){M=po(M),zo(h,M,T1(h[M],h))}),h});function nh(h){return function(){return h}}var Ay=Ig(),F1=Ig(!0);function la(h){return h}function hs(h){return Uo(typeof h=="function"?h:Fi(h,1))}var yc=vr(function(h,k){return function(M){return mi(M,h,k)}}),hf=vr(function(h,k){return function(M){return mi(h,M,k)}});function ah(h,k,M){var H=Xn(k),Y=V0(k,H);M!=null||_n(k)&&(Y.length||!H.length)||(M=k,k=h,h=this,Y=V0(k,Xn(k)));var ae=!(_n(M)&&"chain"in M&&!M.chain),he=Dl(h);return Za(Y,function(we){var ge=k[we];h[we]=ge,he&&(h.prototype[we]=function(){var Ye=this.__chain__;if(ae||Ye){var Ve=h(this.__wrapped__),nt=Ve.__actions__=xa(this.__actions__);return nt.push({func:ge,args:arguments,thisArg:h}),Ve.__chain__=Ye,Ve}return ge.apply(h,Ql([this.value()],arguments))})}),h}function bc(){}var My=nf(wn),dw=nf(kl),Vo=nf(Up);function Iy(h){return lf(h)?wd(po(h)):function(k){return function(M){return Dn(M,k)}}(h)}var hw=Lg(),ps=Lg(!0);function z1(){return[]}function ih(){return!1}var Dy=du(function(h,k){return h+k},0),Ly=v1("ceil"),pw=du(function(h,k){return h/k},1),Py=v1("floor"),Ca,Ny=du(function(h,k){return h*k},1),jy=v1("round"),mw=du(function(h,k){return h-k},0);return J.after=function(h,k){if(typeof k!="function")throw new ya(N);return h=dr(h),function(){if(--h<1)return k.apply(this,arguments)}},J.ary=ly,J.assign=iw,J.assignIn=xy,J.assignInWith=Zd,J.assignWith=ow,J.at=lw,J.before=sy,J.bind=T1,J.bindAll=tr,J.bindKey=uy,J.castArray=function(){if(!arguments.length)return[];var h=arguments[0];return ur(h)?h:[h]},J.chain=vn,J.chunk=function(h,k,M){k=(M?Ba(h,k,M):k===C)?1:Rn(dr(k),0);var H=h==null?0:h.length;if(!H||k<1)return[];for(var Y=0,ae=0,he=pt(Cd(H/k));Y<H;)he[ae++]=Hi(h,Y,Y+=k);return he},J.compact=function(h){for(var k=-1,M=h==null?0:h.length,H=0,Y=[];++k<M;){var ae=h[k];ae&&(Y[H++]=ae)}return Y},J.concat=function(){var h=arguments.length;if(!h)return[];for(var k=pt(h-1),M=arguments[0],H=h;H--;)k[H-1]=arguments[H];return Ql(ur(M)?xa(M):[M],ta(k,1))},J.cond=function(h){var k=h==null?0:h.length,M=Wt();return h=k?wn(h,function(H){if(typeof H[1]!="function")throw new ya(N);return[M(H[0]),H[1]]}):[],vr(function(H){for(var Y=-1;++Y<k;){var ae=h[Y];if(Ma(ae[0],this,H))return Ma(ae[1],this,H)}})},J.conforms=function(h){return function(k){var M=Xn(k);return function(H){return nu(H,k,M)}}(Fi(h,1))},J.constant=nh,J.countBy=Vb,J.create=function(h,k){var M=tu(h);return k==null?M:Td(M,k)},J.curry=function h(k,M,H){var Y=Ol(k,8,C,C,C,C,C,M=H?C:M);return Y.placeholder=h.placeholder,Y},J.curryRight=function h(k,M,H){var Y=Ol(k,F,C,C,C,C,C,M=H?C:M);return Y.placeholder=h.placeholder,Y},J.debounce=cy,J.defaults=sw,J.defaultsDeep=uw,J.defer=fy,J.delay=Qb,J.difference=C1,J.differenceBy=Wg,J.differenceWith=$g,J.drop=function(h,k,M){var H=h==null?0:h.length;return H?Hi(h,(k=M||k===C?1:dr(k))<0?0:k,H):[]},J.dropRight=function(h,k,M){var H=h==null?0:h.length;return H?Hi(h,0,(k=H-(k=M||k===C?1:dr(k)))<0?0:k):[]},J.dropRightWhile=function(h,k){return h&&h.length?_l(h,Wt(k,3),!0,!0):[]},J.dropWhile=function(h,k){return h&&h.length?_l(h,Wt(k,3),!0):[]},J.fill=function(h,k,M,H){var Y=h==null?0:h.length;return Y?(M&&typeof M!="number"&&Ba(h,k,M)&&(M=0,H=Y),function(ae,he,we,ge){var Ye=ae.length;for((we=dr(we))<0&&(we=-we>Ye?0:Ye+we),(ge=ge===C||ge>Ye?Ye:dr(ge))<0&&(ge+=Ye),ge=we>ge?0:by(ge);we<ge;)ae[we++]=he;return ae}(h,k,M,H)):[]},J.filter=function(h,k){return(ur(h)?va:as)(h,Wt(k,3))},J.flatMap=function(h,k){return ta($d(h,k),1)},J.flatMapDeep=function(h,k){return ta($d(h,k),ne)},J.flatMapDepth=function(h,k,M){return M=M===C?1:dr(M),ta($d(h,k),M)},J.flatten=Gg,J.flattenDeep=function(h){return h!=null&&h.length?ta(h,ne):[]},J.flattenDepth=function(h,k){return h!=null&&h.length?ta(h,k=k===C?1:dr(k)):[]},J.flip=function(h){return Ol(h,512)},J.flow=Ay,J.flowRight=F1,J.fromPairs=function(h){for(var k=-1,M=h==null?0:h.length,H={};++k<M;){var Y=h[k];H[Y[0]]=Y[1]}return H},J.functions=function(h){return h==null?[]:V0(h,Xn(h))},J.functionsIn=function(h){return h==null?[]:V0(h,Ha(h))},J.groupBy=Yb,J.initial=function(h){return h!=null&&h.length?Hi(h,0,-1):[]},J.intersection=qg,J.intersectionBy=Yg,J.intersectionWith=Wb,J.invert=L1,J.invertBy=ky,J.invokeMap=Wd,J.iteratee=hs,J.keyBy=Xb,J.keys=Xn,J.keysIn=Ha,J.map=$d,J.mapKeys=function(h,k){var M={};return k=Wt(k,3),Bo(h,function(H,Y,ae){zo(M,k(H,Y,ae),H)}),M},J.mapValues=function(h,k){var M={};return k=Wt(k,3),Bo(h,function(H,Y,ae){zo(M,Y,k(H,Y,ae))}),M},J.matches=function(h){return xg(Fi(h,1))},J.matchesProperty=function(h,k){return su(h,Fi(k,1))},J.memoize=Vd,J.merge=Qd,J.mergeWith=Sy,J.method=yc,J.methodOf=hf,J.mixin=ah,J.negate=qd,J.nthArg=function(h){return h=dr(h),vr(function(k){return Ld(k,h)})},J.omit=cw,J.omitBy=function(h,k){return Jd(h,qd(Wt(k)))},J.once=function(h){return sy(2,h)},J.orderBy=function(h,k,M,H){return h==null?[]:(ur(k)||(k=k==null?[]:[k]),ur(M=H?C:M)||(M=M==null?[]:[M]),o1(h,k,M))},J.over=My,J.overArgs=Jb,J.overEvery=dw,J.overSome=Vo,J.partial=O1,J.partialRight=dy,J.partition=Zb,J.pick=Ey,J.pickBy=Jd,J.property=Iy,J.propertyOf=function(h){return function(k){return h==null?C:Dn(h,k)}},J.pull=$b,J.pullAll=Xg,J.pullAllBy=function(h,k,M){return h&&h.length&&k&&k.length?s1(h,k,Wt(M,2)):h},J.pullAllWith=function(h,k,M){return h&&h.length&&k&&k.length?s1(h,k,C,M):h},J.pullAt=Zg,J.range=hw,J.rangeRight=ps,J.rearg=ew,J.reject=function(h,k){return(ur(h)?va:as)(h,qd(Wt(k,3)))},J.remove=function(h,k){var M=[];if(!h||!h.length)return M;var H=-1,Y=[],ae=h.length;for(k=Wt(k,3);++H<ae;){var he=h[H];k(he,H,h)&&(M.push(he),Y.push(H))}return u1(h,Y),M},J.rest=function(h,k){if(typeof h!="function")throw new ya(N);return vr(h,k=k===C?k:dr(k))},J.reverse=Kd,J.sampleSize=function(h,k,M){return k=(M?Ba(h,k,M):k===C)?1:dr(k),(ur(h)?gg:Fa)(h,k)},J.set=function(h,k,M){return h==null?h:co(h,k,M)},J.setWith=function(h,k,M,H){return H=typeof H=="function"?H:C,h==null?h:co(h,k,M,H)},J.shuffle=function(h){return(ur(h)?yg:uc)(h)},J.slice=function(h,k,M){var H=h==null?0:h.length;return H?(M&&typeof M!="number"&&Ba(h,k,M)?(k=0,M=H):(k=k==null?0:dr(k),M=M===C?H:dr(M)),Hi(h,k,M)):[]},J.sortBy=oy,J.sortedUniq=function(h){return h&&h.length?Z0(h):[]},J.sortedUniqBy=function(h,k){return h&&h.length?Z0(h,Wt(k,2)):[]},J.split=function(h,k,M){return M&&typeof M!="number"&&Ba(h,k,M)&&(k=M=C),(M=M===C?ie:M>>>0)?(h=Kr(h))&&(typeof k=="string"||k!=null&&!M1(k))&&!(k=za(k))&&jo(h)?os(Yn(h),0,M):h.split(k,M):[]},J.spread=function(h,k){if(typeof h!="function")throw new ya(N);return k=k==null?0:Rn(dr(k),0),vr(function(M){var H=M[k],Y=os(M,0,k);return H&&Ql(Y,H),Ma(h,this,Y)})},J.tail=function(h){var k=h==null?0:h.length;return k?Hi(h,1,k):[]},J.take=function(h,k,M){return h&&h.length?Hi(h,0,(k=M||k===C?1:dr(k))<0?0:k):[]},J.takeRight=function(h,k,M){var H=h==null?0:h.length;return H?Hi(h,(k=H-(k=M||k===C?1:dr(k)))<0?0:k,H):[]},J.takeRightWhile=function(h,k){return h&&h.length?_l(h,Wt(k,3),!1,!0):[]},J.takeWhile=function(h,k){return h&&h.length?_l(h,Wt(k,3)):[]},J.tap=function(h,k){return k(h),h},J.throttle=function(h,k,M){var H=!0,Y=!0;if(typeof h!="function")throw new ya(N);return _n(M)&&(H="leading"in M?!!M.leading:H,Y="trailing"in M?!!M.trailing:Y),cy(h,k,{leading:H,maxWait:k,trailing:Y})},J.thru=ff,J.toArray=I1,J.toPairs=Ct,J.toPairsIn=P1,J.toPath=function(h){return ur(h)?wn(h,po):gi(h)?[h]:xa(x1(Kr(h)))},J.toPlainObject=wy,J.transform=function(h,k,M){var H=ur(h),Y=H||fs(h)||gc(h);if(k=Wt(k,4),M==null){var ae=h&&h.constructor;M=Y?H?new ae:[]:_n(h)&&Dl(ae)?tu(kd(h)):{}}return(Y?Za:Bo)(h,function(he,we,ge){return k(M,he,we,ge)}),M},J.unary=function(h){return ly(h,1)},J.union=cs,J.unionBy=S1,J.unionWith=Qg,J.uniq=function(h){return h&&h.length?Ui(h):[]},J.uniqBy=function(h,k){return h&&h.length?Ui(h,Wt(k,2)):[]},J.uniqWith=function(h,k){return k=typeof k=="function"?k:C,h&&h.length?Ui(h,C,k):[]},J.unset=function(h,k){return h==null||cu(h,k)},J.unzip=hu,J.unzipWith=Jg,J.update=function(h,k,M){return h==null?h:Eg(h,k,Nd(M))},J.updateWith=function(h,k,M,H){return H=typeof H=="function"?H:C,h==null?h:Eg(h,k,Nd(M),H)},J.values=Pr,J.valuesIn=function(h){return h==null?[]:Yp(h,Ha(h))},J.without=ey,J.words=j1,J.wrap=function(h,k){return O1(Nd(k),h)},J.xor=E1,J.xorBy=ty,J.xorWith=ry,J.zip=Gb,J.zipObject=function(h,k){return d1(h||[],k||[],$0)},J.zipObjectDeep=function(h,k){return d1(h||[],k||[],co)},J.zipWith=ny,J.entries=Ct,J.entriesIn=P1,J.extend=xy,J.extendWith=Zd,ah(J,J),J.add=Dy,J.attempt=R1,J.camelCase=Wi,J.capitalize=ni,J.ceil=Ly,J.clamp=function(h,k,M){return M===C&&(M=k,k=C),M!==C&&(M=(M=Ki(M))==M?M:0),k!==C&&(k=(k=Ki(k))==k?k:0),ru(Ki(h),k,M)},J.clone=function(h){return Fi(h,4)},J.cloneDeep=function(h){return Fi(h,5)},J.cloneDeepWith=function(h,k){return Fi(h,5,k=typeof k=="function"?k:C)},J.cloneWith=function(h,k){return Fi(h,4,k=typeof k=="function"?k:C)},J.conformsTo=function(h,k){return k==null||nu(h,k,Xn(k))},J.deburr=eh,J.defaultTo=function(h,k){return h==null||h!=h?k:h},J.divide=pw,J.endsWith=function(h,k,M){h=Kr(h),k=za(k);var H=h.length,Y=M=M===C?H:ru(dr(M),0,H);return(M-=k.length)>=0&&h.slice(M,Y)==k},J.eq=mo,J.escape=function(h){return(h=Kr(h))&&ia.test(h)?h.replace(Ws,lg):h},J.escapeRegExp=function(h){return(h=Kr(h))&&cd.test(h)?h.replace(bl,"\\$&"):h},J.every=function(h,k,M){var H=ur(h)?kl:tn;return M&&Ba(h,k,M)&&(k=C),H(h,Wt(k,3))},J.find=ay,J.findIndex=vc,J.findKey=function(h,k){return Qu(h,Wt(k,3),Bo)},J.findLast=qb,J.findLastIndex=$o,J.findLastKey=function(h,k){return Qu(h,Wt(k,3),Ad)},J.floor=Py,J.forEach=iy,J.forEachRight=_1,J.forIn=function(h,k){return h==null?h:Od(h,Wt(k,3),Ha)},J.forInRight=function(h,k){return h==null?h:oc(h,Wt(k,3),Ha)},J.forOwn=function(h,k){return h&&Bo(h,Wt(k,3))},J.forOwnRight=function(h,k){return h&&Ad(h,Wt(k,3))},J.get=D1,J.gt=tw,J.gte=rw,J.has=function(h,k){return h!=null&&ss(h,k,lc)},J.hasIn=ds,J.head=Vg,J.identity=la,J.includes=function(h,k,M,H){h=Da(h)?h:Pr(h),M=M&&!H?dr(M):0;var Y=h.length;return M<0&&(M=Rn(Y+M,0)),Xd(h)?M<=Y&&h.indexOf(k,M)>-1:!!Y&&Ju(h,k,M)>-1},J.indexOf=function(h,k,M){var H=h==null?0:h.length;if(!H)return-1;var Y=M==null?0:dr(M);return Y<0&&(Y=Rn(H+Y,0)),Ju(h,k,Y)},J.inRange=function(h,k,M){return k=Go(k),M===C?(M=k,k=0):M=Go(M),function(H,Y,ae){return H>=ba(Y,ae)&&H<Rn(Y,ae)}(h=Ki(h),k,M)},J.invoke=Cy,J.isArguments=pu,J.isArray=ur,J.isArrayBuffer=nw,J.isArrayLike=Da,J.isArrayLikeObject=Bn,J.isBoolean=function(h){return h===!0||h===!1||xn(h)&&wa(h)==xe},J.isBuffer=fs,J.isDate=aw,J.isElement=function(h){return xn(h)&&h.nodeType===1&&!df(h)},J.isEmpty=function(h){if(h==null)return!0;if(Da(h)&&(ur(h)||typeof h=="string"||typeof h.splice=="function"||fs(h)||gc(h)||pu(h)))return!h.length;var k=ka(h);if(k==ze||k==Ht)return!h.size;if(pc(h))return!ou(h).length;for(var M in h)if(Vr.call(h,M))return!1;return!0},J.isEqual=function(h,k){return sc(h,k)},J.isEqualWith=function(h,k,M){var H=(M=typeof M=="function"?M:C)?M(h,k):C;return H===C?sc(h,k,C,M):!!H},J.isError=A1,J.isFinite=function(h){return typeof h=="number"&&es(h)},J.isFunction=Dl,J.isInteger=hy,J.isLength=Yd,J.isMap=py,J.isMatch=function(h,k){return h===k||a1(h,k,Hd(k))},J.isMatchWith=function(h,k,M){return M=typeof M=="function"?M:C,a1(h,k,Hd(k),M)},J.isNaN=function(h){return my(h)&&h!=+h},J.isNative=function(h){if(y1(h))throw new Or("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return i1(h)},J.isNil=function(h){return h==null},J.isNull=function(h){return h===null},J.isNumber=my,J.isObject=_n,J.isObjectLike=xn,J.isPlainObject=df,J.isRegExp=M1,J.isSafeInteger=function(h){return hy(h)&&h>=-9007199254740991&&h<=W},J.isSet=vy,J.isString=Xd,J.isSymbol=gi,J.isTypedArray=gc,J.isUndefined=function(h){return h===C},J.isWeakMap=function(h){return xn(h)&&ka(h)==be},J.isWeakSet=function(h){return xn(h)&&wa(h)=="[object WeakSet]"},J.join=function(h,k){return h==null?"":mn.call(h,k)},J.kebabCase=_y,J.last=vi,J.lastIndexOf=function(h,k,M){var H=h==null?0:h.length;if(!H)return-1;var Y=H;return M!==C&&(Y=(Y=dr(M))<0?Rn(H+Y,0):ba(Y,H-1)),k==k?function(ae,he,we){for(var ge=we+1;ge--;)if(ae[ge]===he)return ge;return ge}(h,k,Y):bd(h,Kp,Y,!0)},J.lowerCase=Ty,J.lowerFirst=fw,J.lt=gy,J.lte=yy,J.max=function(h){return h&&h.length?au(h,la,Md):C},J.maxBy=function(h,k){return h&&h.length?au(h,Wt(k,2),Md):C},J.mean=function(h){return og(h,la)},J.meanBy=function(h,k){return og(h,Wt(k,2))},J.min=function(h){return h&&h.length?au(h,la,Dd):C},J.minBy=function(h,k){return h&&h.length?au(h,Wt(k,2),Dd):C},J.stubArray=z1,J.stubFalse=ih,J.stubObject=function(){return{}},J.stubString=function(){return""},J.stubTrue=function(){return!0},J.multiply=Ny,J.nth=function(h,k){return h&&h.length?Ld(h,dr(k)):C},J.noConflict=function(){return oa._===this&&(oa._=Bb),this},J.noop=bc,J.now=Gd,J.pad=function(h,k,M){h=Kr(h);var H=(k=dr(k))?ga(h):0;if(!k||H>=k)return h;var Y=(k-H)/2;return fc(j0(Y),M)+h+fc(Cd(Y),M)},J.padEnd=function(h,k,M){h=Kr(h);var H=(k=dr(k))?ga(h):0;return k&&H<k?h+fc(k-H,M):h},J.padStart=function(h,k,M){h=Kr(h);var H=(k=dr(k))?ga(h):0;return k&&H<k?fc(k-H,M)+h:h},J.parseInt=function(h,k,M){return M||k==null?k=0:k&&(k=+k),hg(Kr(h).replace(g0,""),k||0)},J.random=function(h,k,M){if(M&&typeof M!="boolean"&&Ba(h,k,M)&&(k=M=C),M===C&&(typeof k=="boolean"?(M=k,k=C):typeof h=="boolean"&&(M=h,h=C)),h===C&&k===C?(h=0,k=1):(h=Go(h),k===C?(k=h,h=0):k=Go(k)),h>k){var H=h;h=k,k=H}if(M||h%1||k%1){var Y=Ed();return ba(h+Y*(k-h+Nb("1e-"+((Y+"").length-1))),k)}return q0(h,k)},J.reduce=function(h,k,M){var H=ur(h)?Hp:$p,Y=arguments.length<3;return H(h,Wt(k,4),M,Y,Bi)},J.reduceRight=function(h,k,M){var H=ur(h)?jb:$p,Y=arguments.length<3;return H(h,Wt(k,4),M,Y,vt)},J.repeat=function(h,k,M){return k=(M?Ba(h,k,M):k===C)?1:dr(k),uo(Kr(h),k)},J.replace=function(){var h=arguments,k=Kr(h[0]);return h.length<3?k:k.replace(h[1],h[2])},J.result=function(h,k,M){var H=-1,Y=(k=Tl(k,h)).length;for(Y||(Y=1,h=C);++H<Y;){var ae=h==null?C:h[po(k[H])];ae===C&&(H=Y,ae=M),h=Dl(ae)?ae.call(h):ae}return h},J.round=jy,J.runInContext=ce,J.sample=function(h){return(ur(h)?t1:c1)(h)},J.size=function(h){if(h==null)return 0;if(Da(h))return Xd(h)?ga(h):h.length;var k=ka(h);return k==ze||k==Ht?h.size:ou(h).length},J.snakeCase=N1,J.some=function(h,k,M){var H=ur(h)?Up:Cg;return M&&Ba(h,k,M)&&(k=C),H(h,Wt(k,3))},J.sortedIndex=function(h,k){return X0(h,k)},J.sortedIndexBy=function(h,k,M){return Pd(h,k,Wt(M,2))},J.sortedIndexOf=function(h,k){var M=h==null?0:h.length;if(M){var H=X0(h,k);if(H<M&&mo(h[H],k))return H}return-1},J.sortedLastIndex=function(h,k){return X0(h,k,!0)},J.sortedLastIndexBy=function(h,k,M){return Pd(h,k,Wt(M,2),!0)},J.sortedLastIndexOf=function(h,k){if(h!=null&&h.length){var M=X0(h,k,!0)-1;if(mo(h[M],k))return M}return-1},J.startCase=th,J.startsWith=function(h,k,M){return h=Kr(h),M=M==null?0:ru(dr(M),0,h.length),k=za(k),h.slice(M,M+k.length)==k},J.subtract=mw,J.sum=function(h){return h&&h.length?Gp(h,la):0},J.sumBy=function(h,k){return h&&h.length?Gp(h,Wt(k,2)):0},J.template=function(h,k,M){var H=J.templateSettings;M&&Ba(h,k,M)&&(k=C),h=Kr(h),k=Zd({},k,H,Ng);var Y,ae,he=Zd({},k.imports,H.imports,Ng),we=Xn(he),ge=Yp(he,we),Ye=0,Ve=k.interpolate||Ys,nt="__p += '",Ot=pn((k.escape||Ys).source+"|"+Ve.source+"|"+(Ve===Ku?qs:Ys).source+"|"+(k.evaluate||Ys).source+"|$","g"),Mt="//# sourceURL="+(Vr.call(k,"sourceURL")?(k.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yl+"]")+`
`;h.replace(Ot,function(Re,$t,_t,It,Qt,xr){return _t||(_t=It),nt+=h.slice(Ye,xr).replace(Jv,Fb),$t&&(Y=!0,nt+=`' +
__e(`+$t+`) +
'`),Qt&&(ae=!0,nt+=`';
`+Qt+`;
__p += '`),_t&&(nt+=`' +
((__t = (`+_t+`)) == null ? '' : __t) +
'`),Ye=xr+Re.length,Re}),nt+=`';
`;var Et=Vr.call(k,"variable")&&k.variable;if(Et){if($u.test(Et))throw new Or("Invalid `variable` option passed into `_.template`")}else nt=`with (obj) {
`+nt+`
}
`;nt=(ae?nt.replace(oo,""):nt).replace($l,"$1").replace(fi,"$1;"),nt="function("+(Et||"obj")+`) {
`+(Et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Y?", __e = _.escape":"")+(ae?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+nt+`return __p
}`;var Qe=R1(function(){return sn(we,Mt+"return "+nt).apply(C,ge)});if(Qe.source=nt,A1(Qe))throw Qe;return Qe},J.times=function(h,k){if((h=dr(h))<1||h>W)return[];var M=ie,H=ba(h,ie);k=Wt(k),h-=ie;for(var Y=Vp(H,k);++M<h;)k(M);return Y},J.toFinite=Go,J.toInteger=dr,J.toLength=by,J.toLower=function(h){return Kr(h).toLowerCase()},J.toNumber=Ki,J.toSafeInteger=function(h){return h?ru(dr(h),-9007199254740991,W):h===0?h:0},J.toString=Kr,J.toUpper=function(h){return Kr(h).toUpperCase()},J.trim=function(h,k,M){if((h=Kr(h))&&(M||k===C))return qp(h);if(!h||!(k=za(k)))return h;var H=Yn(h),Y=Yn(k);return os(H,Be(H,Y),ec(H,Y)+1).join("")},J.trimEnd=function(h,k,M){if((h=Kr(h))&&(M||k===C))return h.slice(0,En(h)+1);if(!h||!(k=za(k)))return h;var H=Yn(h);return os(H,0,ec(H,Yn(k))+1).join("")},J.trimStart=function(h,k,M){if((h=Kr(h))&&(M||k===C))return h.replace(g0,"");if(!h||!(k=za(k)))return h;var H=Yn(h);return os(H,Be(H,Yn(k))).join("")},J.truncate=function(h,k){var M=30,H="...";if(_n(k)){var Y="separator"in k?k.separator:Y;M="length"in k?dr(k.length):M,H="omission"in k?za(k.omission):H}var ae=(h=Kr(h)).length;if(jo(h)){var he=Yn(h);ae=he.length}if(M>=ae)return h;var we=M-ga(H);if(we<1)return H;var ge=he?os(he,0,we).join(""):h.slice(0,we);if(Y===C)return ge+H;if(he&&(we+=ge.length-we),M1(Y)){if(h.slice(we).search(Y)){var Ye,Ve=ge;for(Y.global||(Y=pn(Y.source,Kr(wl.exec(Y))+"g")),Y.lastIndex=0;Ye=Y.exec(Ve);)var nt=Ye.index;ge=ge.slice(0,nt===C?we:nt)}}else if(h.indexOf(za(Y),we)!=we){var Ot=ge.lastIndexOf(Y);Ot>-1&&(ge=ge.slice(0,Ot))}return ge+H},J.unescape=function(h){return(h=Kr(h))&&Uu.test(h)?h.replace(Li,Jl):h},J.uniqueId=function(h){var k=++Js;return Kr(h)+k},J.upperCase=Oy,J.upperFirst=rh,J.each=iy,J.eachRight=_1,J.first=Vg,ah(J,(Ca={},Bo(J,function(h,k){Vr.call(J.prototype,k)||(Ca[k]=h)}),Ca),{chain:!1}),J.VERSION="4.17.21",Za(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){J[h].placeholder=J}),Za(["drop","take"],function(h,k){Er.prototype[h]=function(M){M=M===C?1:Rn(dr(M),0);var H=this.__filtered__&&!k?new Er(this):this.clone();return H.__filtered__?H.__takeCount__=ba(M,H.__takeCount__):H.__views__.push({size:ba(M,ie),type:h+(H.__dir__<0?"Right":"")}),H},Er.prototype[h+"Right"]=function(M){return this.reverse()[h](M).reverse()}}),Za(["filter","map","takeWhile"],function(h,k){var M=k+1,H=M==1||M==3;Er.prototype[h]=function(Y){var ae=this.clone();return ae.__iteratees__.push({iteratee:Wt(Y,3),type:M}),ae.__filtered__=ae.__filtered__||H,ae}}),Za(["head","last"],function(h,k){var M="take"+(k?"Right":"");Er.prototype[h]=function(){return this[M](1).value()[0]}}),Za(["initial","tail"],function(h,k){var M="drop"+(k?"":"Right");Er.prototype[h]=function(){return this.__filtered__?new Er(this):this[M](1)}}),Er.prototype.compact=function(){return this.filter(la)},Er.prototype.find=function(h){return this.filter(h).head()},Er.prototype.findLast=function(h){return this.reverse().find(h)},Er.prototype.invokeMap=vr(function(h,k){return typeof h=="function"?new Er(this):this.map(function(M){return mi(M,h,k)})}),Er.prototype.reject=function(h){return this.filter(qd(Wt(h)))},Er.prototype.slice=function(h,k){h=dr(h);var M=this;return M.__filtered__&&(h>0||k<0)?new Er(M):(h<0?M=M.takeRight(-h):h&&(M=M.drop(h)),k!==C&&(M=(k=dr(k))<0?M.dropRight(-k):M.take(k-h)),M)},Er.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Er.prototype.toArray=function(){return this.take(ie)},Bo(Er.prototype,function(h,k){var M=/^(?:filter|find|map|reject)|While$/.test(k),H=/^(?:head|last)$/.test(k),Y=J[H?"take"+(k=="last"?"Right":""):k],ae=H||/^find/.test(k);Y&&(J.prototype[k]=function(){var he=this.__wrapped__,we=H?[1]:arguments,ge=he instanceof Er,Ye=we[0],Ve=ge||ur(he),nt=function($t){var _t=Y.apply(J,Ql([$t],we));return H&&Ot?_t[0]:_t};Ve&&M&&typeof Ye=="function"&&Ye.length!=1&&(ge=Ve=!1);var Ot=this.__chain__,Mt=!!this.__actions__.length,Et=ae&&!Ot,Qe=ge&&!Mt;if(!ae&&Ve){he=Qe?he:new Er(this);var Re=h.apply(he,we);return Re.__actions__.push({func:ff,args:[nt],thisArg:C}),new ti(Re,Ot)}return Et&&Qe?h.apply(this,we):(Re=this.thru(nt),Et?H?Re.value()[0]:Re.value():Re)})}),Za(["pop","push","shift","sort","splice","unshift"],function(h){var k=Ia[h],M=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",H=/^(?:pop|shift)$/.test(h);J.prototype[h]=function(){var Y=arguments;if(H&&!this.__chain__){var ae=this.value();return k.apply(ur(ae)?ae:[],Y)}return this[M](function(he){return k.apply(ur(he)?he:[],Y)})}}),Bo(Er.prototype,function(h,k){var M=J[k];if(M){var H=M.name+"";Vr.call(Ra,H)||(Ra[H]=[]),Ra[H].push({name:k,func:M})}}),Ra[Rd(C,2).name]=[{name:"wrapper",func:C}],Er.prototype.clone=function(){var h=new Er(this.__wrapped__);return h.__actions__=xa(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=xa(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=xa(this.__views__),h},Er.prototype.reverse=function(){if(this.__filtered__){var h=new Er(this);h.__dir__=-1,h.__filtered__=!0}else(h=this.clone()).__dir__*=-1;return h},Er.prototype.value=function(){var h=this.__wrapped__.value(),k=this.__dir__,M=ur(h),H=k<0,Y=M?h.length:0,ae=function(xr,Rt,Gt){for(var ra=-1,ai=Gt.length;++ra<ai;){var vo=Gt[ra],Zn=vo.size;switch(vo.type){case"drop":xr+=Zn;break;case"dropRight":Rt-=Zn;break;case"take":Rt=ba(Rt,xr+Zn);break;case"takeRight":xr=Rn(xr,Rt-Zn)}}return{start:xr,end:Rt}}(0,Y,this.__views__),he=ae.start,we=ae.end,ge=we-he,Ye=H?we:he-1,Ve=this.__iteratees__,nt=Ve.length,Ot=0,Mt=ba(ge,this.__takeCount__);if(!M||!H&&Y==ge&&Mt==ge)return is(h,this.__actions__);var Et=[];e:for(;ge--&&Ot<Mt;){for(var Qe=-1,Re=h[Ye+=k];++Qe<nt;){var $t=Ve[Qe],_t=$t.iteratee,It=$t.type,Qt=_t(Re);if(It==2)Re=Qt;else if(!Qt){if(It==1)continue e;break e}}Et[Ot++]=Re}return Et},J.prototype.at=gt,J.prototype.chain=function(){return vn(this)},J.prototype.commit=function(){return new ti(this.value(),this.__chain__)},J.prototype.next=function(){this.__values__===C&&(this.__values__=I1(this.value()));var h=this.__index__>=this.__values__.length;return{done:h,value:h?C:this.__values__[this.__index__++]}},J.prototype.plant=function(h){for(var k,M=this;M instanceof U0;){var H=k1(M);H.__index__=0,H.__values__=C,k?Y.__wrapped__=H:k=H;var Y=H;M=M.__wrapped__}return Y.__wrapped__=h,k},J.prototype.reverse=function(){var h=this.__wrapped__;if(h instanceof Er){var k=h;return this.__actions__.length&&(k=new Er(this)),(k=k.reverse()).__actions__.push({func:ff,args:[Kd],thisArg:C}),new ti(k,this.__chain__)}return this.thru(Kd)},J.prototype.toJSON=J.prototype.valueOf=J.prototype.value=function(){return is(this.__wrapped__,this.__actions__)},J.prototype.first=J.prototype.head,Cl&&(J.prototype[Cl]=function(){return this}),J}();oa._=A0,(O=function(){return A0}.call(S,g,S,b))===C||(b.exports=O)}.call(this)},4516:function(b){var S=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;function C(N){if(N==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(N)}b.exports=function(){try{if(!Object.assign)return!1;var N=new String("abc");if(N[5]="de",Object.getOwnPropertyNames(N)[0]==="5")return!1;for(var P={},D=0;D<10;D++)P["_"+String.fromCharCode(D)]=D;if(Object.getOwnPropertyNames(P).map(function(I){return P[I]}).join("")!=="0123456789")return!1;var F={};return"abcdefghijklmnopqrst".split("").forEach(function(I){F[I]=I}),Object.keys(Object.assign({},F)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(N,P){for(var D,F,I=C(N),q=1;q<arguments.length;q++){for(var V in D=Object(arguments[q]))g.call(D,V)&&(I[V]=D[V]);if(S){F=S(D);for(var te=0;te<F.length;te++)O.call(D,F[te])&&(I[F[te]]=D[F[te]])}}return I}},6094:function(b,S,g){g(4516);var O=g(9787),C=60103;if(S.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var N=Symbol.for;C=N("react.element"),S.Fragment=N("react.fragment")}var P=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D=Object.prototype.hasOwnProperty,F={key:!0,ref:!0,__self:!0,__source:!0};function I(q,V,te){var ne,W={},de=null,ie=null;for(ne in te!==void 0&&(de=""+te),V.key!==void 0&&(de=""+V.key),V.ref!==void 0&&(ie=V.ref),V)D.call(V,ne)&&!F.hasOwnProperty(ne)&&(W[ne]=V[ne]);if(q&&q.defaultProps)for(ne in V=q.defaultProps)W[ne]===void 0&&(W[ne]=V[ne]);return{$$typeof:C,type:q,key:de,ref:ie,props:W,_owner:P.current}}S.jsx=I,S.jsxs=I},4512:function(b,S,g){b.exports=g(6094)},1602:function(b){var S=function(g){var O,C=Object.prototype,N=C.hasOwnProperty,P=typeof Symbol=="function"?Symbol:{},D=P.iterator||"@@iterator",F=P.asyncIterator||"@@asyncIterator",I=P.toStringTag||"@@toStringTag";function q(be,Ke,yt){return Object.defineProperty(be,Ke,{value:yt,enumerable:!0,configurable:!0,writable:!0}),be[Ke]}try{q({},"")}catch{q=function(Ke,yt,At){return Ke[yt]=At}}function V(be,Ke,yt,At){var kt=Ke&&Ke.prototype instanceof ve?Ke:ve,Kt=Object.create(kt.prototype),yr=new Ht(At||[]);return Kt._invoke=function(Xr,Jr,mr){var $r=ne;return function(en,oo){if($r===de)throw new Error("Generator is already running");if($r===ie){if(en==="throw")throw oo;return Ne()}for(mr.method=en,mr.arg=oo;;){var $l=mr.delegate;if($l){var fi=G($l,mr);if(fi){if(fi===ue)continue;return fi}}if(mr.method==="next")mr.sent=mr._sent=mr.arg;else if(mr.method==="throw"){if($r===ne)throw $r=ie,mr.arg;mr.dispatchException(mr.arg)}else mr.method==="return"&&mr.abrupt("return",mr.arg);$r=de;var Li=te(Xr,Jr,mr);if(Li.type==="normal"){if($r=mr.done?ie:W,Li.arg===ue)continue;return{value:Li.arg,done:mr.done}}Li.type==="throw"&&($r=ie,mr.method="throw",mr.arg=Li.arg)}}}(be,yt,yr),Kt}function te(be,Ke,yt){try{return{type:"normal",arg:be.call(Ke,yt)}}catch(At){return{type:"throw",arg:At}}}g.wrap=V;var ne="suspendedStart",W="suspendedYield",de="executing",ie="completed",ue={};function ve(){}function pe(){}function xe(){}var Oe={};Oe[D]=function(){return this};var Fe=Object.getPrototypeOf,ye=Fe&&Fe(Fe(Zt([])));ye&&ye!==C&&N.call(ye,D)&&(Oe=ye);var Pe=xe.prototype=ve.prototype=Object.create(Oe);function ze(be){["next","throw","return"].forEach(function(Ke){q(be,Ke,function(yt){return this._invoke(Ke,yt)})})}function Ze(be,Ke){function yt(kt,Kt,yr,Xr){var Jr=te(be[kt],be,Kt);if(Jr.type!=="throw"){var mr=Jr.arg,$r=mr.value;return $r&&typeof $r=="object"&&N.call($r,"__await")?Ke.resolve($r.__await).then(function(en){yt("next",en,yr,Xr)},function(en){yt("throw",en,yr,Xr)}):Ke.resolve($r).then(function(en){mr.value=en,yr(mr)},function(en){return yt("throw",en,yr,Xr)})}Xr(Jr.arg)}var At;this._invoke=function(kt,Kt){function yr(){return new Ke(function(Xr,Jr){yt(kt,Kt,Xr,Jr)})}return At=At?At.then(yr,yr):yr()}}function G(be,Ke){var yt=be.iterator[Ke.method];if(yt===O){if(Ke.delegate=null,Ke.method==="throw"){if(be.iterator.return&&(Ke.method="return",Ke.arg=O,G(be,Ke),Ke.method==="throw"))return ue;Ke.method="throw",Ke.arg=new TypeError("The iterator does not provide a 'throw' method")}return ue}var At=te(yt,be.iterator,Ke.arg);if(At.type==="throw")return Ke.method="throw",Ke.arg=At.arg,Ke.delegate=null,ue;var kt=At.arg;return kt?kt.done?(Ke[be.resultName]=kt.value,Ke.next=be.nextLoc,Ke.method!=="return"&&(Ke.method="next",Ke.arg=O),Ke.delegate=null,ue):kt:(Ke.method="throw",Ke.arg=new TypeError("iterator result is not an object"),Ke.delegate=null,ue)}function A(be){var Ke={tryLoc:be[0]};1 in be&&(Ke.catchLoc=be[1]),2 in be&&(Ke.finallyLoc=be[2],Ke.afterLoc=be[3]),this.tryEntries.push(Ke)}function zt(be){var Ke=be.completion||{};Ke.type="normal",delete Ke.arg,be.completion=Ke}function Ht(be){this.tryEntries=[{tryLoc:"root"}],be.forEach(A,this),this.reset(!0)}function Zt(be){if(be){var Ke=be[D];if(Ke)return Ke.call(be);if(typeof be.next=="function")return be;if(!isNaN(be.length)){var yt=-1,At=function kt(){for(;++yt<be.length;)if(N.call(be,yt))return kt.value=be[yt],kt.done=!1,kt;return kt.value=O,kt.done=!0,kt};return At.next=At}}return{next:Ne}}function Ne(){return{value:O,done:!0}}return pe.prototype=Pe.constructor=xe,xe.constructor=pe,pe.displayName=q(xe,I,"GeneratorFunction"),g.isGeneratorFunction=function(be){var Ke=typeof be=="function"&&be.constructor;return!!Ke&&(Ke===pe||(Ke.displayName||Ke.name)==="GeneratorFunction")},g.mark=function(be){return Object.setPrototypeOf?Object.setPrototypeOf(be,xe):(be.__proto__=xe,q(be,I,"GeneratorFunction")),be.prototype=Object.create(Pe),be},g.awrap=function(be){return{__await:be}},ze(Ze.prototype),Ze.prototype[F]=function(){return this},g.AsyncIterator=Ze,g.async=function(be,Ke,yt,At,kt){kt===void 0&&(kt=Promise);var Kt=new Ze(V(be,Ke,yt,At),kt);return g.isGeneratorFunction(Ke)?Kt:Kt.next().then(function(yr){return yr.done?yr.value:Kt.next()})},ze(Pe),q(Pe,I,"Generator"),Pe[D]=function(){return this},Pe.toString=function(){return"[object Generator]"},g.keys=function(be){var Ke=[];for(var yt in be)Ke.push(yt);return Ke.reverse(),function At(){for(;Ke.length;){var kt=Ke.pop();if(kt in be)return At.value=kt,At.done=!1,At}return At.done=!0,At}},g.values=Zt,Ht.prototype={constructor:Ht,reset:function(be){if(this.prev=0,this.next=0,this.sent=this._sent=O,this.done=!1,this.delegate=null,this.method="next",this.arg=O,this.tryEntries.forEach(zt),!be)for(var Ke in this)Ke.charAt(0)==="t"&&N.call(this,Ke)&&!isNaN(+Ke.slice(1))&&(this[Ke]=O)},stop:function(){this.done=!0;var be=this.tryEntries[0].completion;if(be.type==="throw")throw be.arg;return this.rval},dispatchException:function(be){if(this.done)throw be;var Ke=this;function yt(Jr,mr){return Kt.type="throw",Kt.arg=be,Ke.next=Jr,mr&&(Ke.method="next",Ke.arg=O),!!mr}for(var At=this.tryEntries.length-1;At>=0;--At){var kt=this.tryEntries[At],Kt=kt.completion;if(kt.tryLoc==="root")return yt("end");if(kt.tryLoc<=this.prev){var yr=N.call(kt,"catchLoc"),Xr=N.call(kt,"finallyLoc");if(yr&&Xr){if(this.prev<kt.catchLoc)return yt(kt.catchLoc,!0);if(this.prev<kt.finallyLoc)return yt(kt.finallyLoc)}else if(yr){if(this.prev<kt.catchLoc)return yt(kt.catchLoc,!0)}else{if(!Xr)throw new Error("try statement without catch or finally");if(this.prev<kt.finallyLoc)return yt(kt.finallyLoc)}}}},abrupt:function(be,Ke){for(var yt=this.tryEntries.length-1;yt>=0;--yt){var At=this.tryEntries[yt];if(At.tryLoc<=this.prev&&N.call(At,"finallyLoc")&&this.prev<At.finallyLoc){var kt=At;break}}kt&&(be==="break"||be==="continue")&&kt.tryLoc<=Ke&&Ke<=kt.finallyLoc&&(kt=null);var Kt=kt?kt.completion:{};return Kt.type=be,Kt.arg=Ke,kt?(this.method="next",this.next=kt.finallyLoc,ue):this.complete(Kt)},complete:function(be,Ke){if(be.type==="throw")throw be.arg;return be.type==="break"||be.type==="continue"?this.next=be.arg:be.type==="return"?(this.rval=this.arg=be.arg,this.method="return",this.next="end"):be.type==="normal"&&Ke&&(this.next=Ke),ue},finish:function(be){for(var Ke=this.tryEntries.length-1;Ke>=0;--Ke){var yt=this.tryEntries[Ke];if(yt.finallyLoc===be)return this.complete(yt.completion,yt.afterLoc),zt(yt),ue}},catch:function(be){for(var Ke=this.tryEntries.length-1;Ke>=0;--Ke){var yt=this.tryEntries[Ke];if(yt.tryLoc===be){var At=yt.completion;if(At.type==="throw"){var kt=At.arg;zt(yt)}return kt}}throw new Error("illegal catch attempt")},delegateYield:function(be,Ke,yt){return this.delegate={iterator:Zt(be),resultName:Ke,nextLoc:yt},this.method==="next"&&(this.arg=O),ue}},g}(b.exports);try{regeneratorRuntime=S}catch{Function("r","regeneratorRuntime = r")(S)}},8336:function(b,S,g){var O=g(487),C=g(4295);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},554:function(b,S,g){var O=g(487),C=g(9135);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},2789:function(b,S,g){var O=g(487),C=g(3729);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},5080:function(b,S,g){var O=g(487),C=g(4241);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},7225:function(b,S,g){var O=g(487),C=g(6029);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},778:function(b,S,g){var O=g(487),C=g(9609);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},4220:function(b,S,g){var O=g(487),C=g(2345);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},4678:function(b,S,g){var O=g(487),C=g(9393);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},1292:function(b,S,g){var O=g(487),C=g(6578);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},196:function(b,S,g){var O=g(487),C=g(9482);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},2205:function(b,S,g){var O=g(487),C=g(7955);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},1310:function(b,S,g){var O=g(487),C=g(3195);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},3922:function(b,S,g){var O=g(487),C=g(2978);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},7096:function(b,S,g){var O=g(487),C=g(1587);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},7117:function(b,S,g){var O=g(487),C=g(9478);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},1106:function(b,S,g){var O=g(487),C=g(7369);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},3336:function(b,S,g){var O=g(487),C=g(1434);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},4406:function(b,S,g){var O=g(487),C=g(8923);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},6043:function(b,S,g){var O=g(487),C=g(5605);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},694:function(b,S,g){var O=g(487),C=g(5644);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},8328:function(b,S,g){var O=g(487),C=g(6843);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},8051:function(b,S,g){var O=g(487),C=g(8461);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},4301:function(b,S,g){var O=g(487),C=g(9935);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},9966:function(b,S,g){var O=g(487),C=g(532);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},9295:function(b,S,g){var O=g(487),C=g(7589);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},9781:function(b,S,g){var O=g(487),C=g(8465);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},371:function(b,S,g){var O=g(487),C=g(5892);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},4623:function(b,S,g){var O=g(487),C=g(3874);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},1528:function(b,S,g){var O=g(487),C=g(2681);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},518:function(b,S,g){var O=g(487),C=g(6759);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},9757:function(b,S,g){var O=g(487),C=g(9650);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},5422:function(b,S,g){var O=g(487),C=g(2044);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},276:function(b,S,g){var O=g(487),C=g(9144);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},6781:function(b,S,g){var O=g(487),C=g(6626);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},580:function(b,S,g){var O=g(487),C=g(6359);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},4285:function(b,S,g){var O=g(487),C=g(9915);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},3313:function(b,S,g){var O=g(487),C=g(9310);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},8635:function(b,S,g){var O=g(487),C=g(6464);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},4404:function(b,S,g){var O=g(487),C=g(5260);typeof(C=C.__esModule?C.default:C)=="string"&&(C=[[b.id,C,""]]);var N={insert:"head",singleton:!1};O(C,N),b.exports=C.locals||{}},487:function(b,S,g){var O,C=function(){return O===void 0&&(O=Boolean(window&&document&&document.all&&!window.atob)),O},N=function(){var ue={};return function(ve){if(ue[ve]===void 0){var pe=document.querySelector(ve);if(window.HTMLIFrameElement&&pe instanceof window.HTMLIFrameElement)try{pe=pe.contentDocument.head}catch{pe=null}ue[ve]=pe}return ue[ve]}}(),P=[];function D(ue){for(var ve=-1,pe=0;pe<P.length;pe++)if(P[pe].identifier===ue){ve=pe;break}return ve}function F(ue,ve){for(var pe={},xe=[],Oe=0;Oe<ue.length;Oe++){var Fe=ue[Oe],ye=ve.base?Fe[0]+ve.base:Fe[0],Pe=pe[ye]||0,ze="".concat(ye," ").concat(Pe);pe[ye]=Pe+1;var Ze=D(ze),G={css:Fe[1],media:Fe[2],sourceMap:Fe[3]};Ze!==-1?(P[Ze].references++,P[Ze].updater(G)):P.push({identifier:ze,updater:ie(G,ve),references:1}),xe.push(ze)}return xe}function I(ue){var ve=document.createElement("style"),pe=ue.attributes||{};if(pe.nonce===void 0){var xe=g.nc;xe&&(pe.nonce=xe)}if(Object.keys(pe).forEach(function(Fe){ve.setAttribute(Fe,pe[Fe])}),typeof ue.insert=="function")ue.insert(ve);else{var Oe=N(ue.insert||"head");if(!Oe)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Oe.appendChild(ve)}return ve}var q,V=(q=[],function(ue,ve){return q[ue]=ve,q.filter(Boolean).join(`
`)});function te(ue,ve,pe,xe){var Oe=pe?"":xe.media?"@media ".concat(xe.media," {").concat(xe.css,"}"):xe.css;if(ue.styleSheet)ue.styleSheet.cssText=V(ve,Oe);else{var Fe=document.createTextNode(Oe),ye=ue.childNodes;ye[ve]&&ue.removeChild(ye[ve]),ye.length?ue.insertBefore(Fe,ye[ve]):ue.appendChild(Fe)}}function ne(ue,ve,pe){var xe=pe.css,Oe=pe.media,Fe=pe.sourceMap;if(Oe?ue.setAttribute("media",Oe):ue.removeAttribute("media"),Fe&&typeof btoa!="undefined"&&(xe+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Fe))))," */")),ue.styleSheet)ue.styleSheet.cssText=xe;else{for(;ue.firstChild;)ue.removeChild(ue.firstChild);ue.appendChild(document.createTextNode(xe))}}var W=null,de=0;function ie(ue,ve){var pe,xe,Oe;if(ve.singleton){var Fe=de++;pe=W||(W=I(ve)),xe=te.bind(null,pe,Fe,!1),Oe=te.bind(null,pe,Fe,!0)}else pe=I(ve),xe=ne.bind(null,pe,ve),Oe=function(){(function(ye){if(ye.parentNode===null)return!1;ye.parentNode.removeChild(ye)})(pe)};return xe(ue),function(ye){if(ye){if(ye.css===ue.css&&ye.media===ue.media&&ye.sourceMap===ue.sourceMap)return;xe(ue=ye)}else Oe()}}b.exports=function(ue,ve){(ve=ve||{}).singleton||typeof ve.singleton=="boolean"||(ve.singleton=C());var pe=F(ue=ue||[],ve);return function(xe){if(xe=xe||[],Object.prototype.toString.call(xe)==="[object Array]"){for(var Oe=0;Oe<pe.length;Oe++){var Fe=D(pe[Oe]);P[Fe].references--}for(var ye=F(xe,ve),Pe=0;Pe<pe.length;Pe++){var ze=D(pe[Pe]);P[ze].references===0&&(P[ze].updater(),P.splice(ze,1))}pe=ye}}}},788:function(b,S,g){var O={"./ar-SA.json":[7822,558],"./bg-BG.json":[1203,384],"./bn-BD.json":[8525,603],"./ca-ES.json":[510,351],"./cs-CZ.json":[7605,387],"./da-DK.json":[2392,617],"./de-DE.json":[2853,43],"./el-GR.json":[9876,526],"./en.json":[1463],"./es-ES.json":[2264,317],"./eu-ES.json":[5658,431],"./fa-IR.json":[3747,710],"./fi-FI.json":[9490,472],"./fr-FR.json":[7830,364],"./he-IL.json":[1994,262],"./hi-IN.json":[4646,933],"./hu-HU.json":[6373,661],"./id-ID.json":[3247,491],"./it-IT.json":[3257,465],"./ja-JP.json":[198,137],"./kab-KAB.json":[228,164],"./kk-KZ.json":[8972,649],"./ko-KR.json":[7596,60],"./lt-LT.json":[3755,58],"./lv-LV.json":[2327,899],"./my-MM.json":[7704,242],"./nb-NO.json":[1167,246],"./nl-NL.json":[290,196],"./nn-NO.json":[4481,920],"./oc-FR.json":[2284,565],"./pa-IN.json":[6773,280],"./percentages.json":[4451],"./pl-PL.json":[3661,852],"./pt-BR.json":[8881,381],"./pt-PT.json":[5622,149],"./ro-RO.json":[2013,752],"./ru-RU.json":[2253,869],"./si-LK.json":[5497,90],"./sk-SK.json":[4570,401],"./sv-SE.json":[6006,698],"./ta-IN.json":[3952,395],"./tr-TR.json":[7315,213],"./uk-UA.json":[334,583],"./zh-CN.json":[1037,304],"./zh-HK.json":[5334,9],"./zh-TW.json":[931,62]};function C(N){if(!g.o(O,N))return Promise.resolve().then(function(){var F=new Error("Cannot find module '"+N+"'");throw F.code="MODULE_NOT_FOUND",F});var P=O[N],D=P[0];return Promise.all(P.slice(1).map(g.e)).then(function(){return g.t(D,19)})}C.keys=function(){return Object.keys(O)},C.id=788,b.exports=C},9713:function(b){b.exports=function(S,g,O){return g in S?Object.defineProperty(S,g,{value:O,enumerable:!0,configurable:!0,writable:!0}):S[g]=O,S}},6479:function(b,S,g){var O=g(7316);b.exports=function(C,N){if(C==null)return{};var P,D,F=O(C,N);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(C);for(D=0;D<I.length;D++)P=I[D],N.indexOf(P)>=0||Object.prototype.propertyIsEnumerable.call(C,P)&&(F[P]=C[P])}return F}},7316:function(b){b.exports=function(S,g){if(S==null)return{};var O,C,N={},P=Object.keys(S);for(C=0;C<P.length;C++)O=P[C],g.indexOf(O)>=0||(N[O]=S[O]);return N}},4295:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N),D=g(1667),F=g.n(D),I=new URL(g(3940),g.b),q=new URL(g(3147),g.b),V=P()(C()),te=F()(I),ne=F()(q);V.push([b.id,'@font-face{font-family:"Virgil";src:url('+te+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+ne+");font-display:swap}",""]),S.default=V},9135:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),S.default=P},3729:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",""]),S.default=P},4241:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),S.default=P},6029:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:transparent;border-radius:4px;color:#1c7ed6}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),S.default=P},9609:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}",""]),S.default=P},2345:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N),D=g(1667),F=g.n(D),I=new URL(g(9669),g.b),q=P()(C()),V=F()(I);q.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir=ltr] .excalidraw .color-picker-triangle{left:12px}:root[dir=rtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+V+') left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:11ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;-webkit-padding-start:.5em;padding-inline-start:.5em;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;-webkit-margin-end:.25rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),S.default=q},9393:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .confirm-dialog-buttons{display:flex;padding:.2rem 0;justify-content:flex-end}.excalidraw .confirm-dialog .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .confirm-dialog .ToolIcon_type_button{margin-left:.8rem;padding:0 .5rem}.excalidraw .confirm-dialog__content{font-size:1rem}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button{background-color:#fa5252}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button:hover{background-color:#e03131}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button .ToolIcon__icon{color:#fff}",""]),S.default=P},6578:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"\u2713"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-option{display:block}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',""]),S.default=P},9482:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor)*7);grid-gap:var(--metric);padding:calc(var(--space-factor)*2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}.excalidraw--mobile.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw--mobile.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor)*7) 1fr calc(var(--space-factor)*7);position:-webkit-sticky;position:sticky;top:0;padding:calc(var(--space-factor)*2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw--mobile.excalidraw .Dialog__titleContent{text-align:center}.excalidraw--mobile.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw--mobile.excalidraw .Dialog .Modal__close{order:-1}",""]),S.default=P},7955:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N),D=g(1667),F=g.n(D),I=new URL(g(9669),g.b),q=P()(C()),V=F()(I);q.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+V+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{width:5rem;height:5rem;margin:0 .2em;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),S.default=q},3195:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--space-factor);top:var(--space-factor);right:var(--space-factor);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),S.default=P},2978:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",""]),S.default=P},1587:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2em}.excalidraw .HintViewer>span{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",""]),S.default=P},9478:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),S.default=P},7369:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),S.default=P},1434:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(-76px, 0);transform:translate(-76px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(76px, 0);transform:translate(76px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center{pointer-events:none}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center>*{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left{margin-bottom:.2em}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto;-webkit-margin-end:1em;margin-inline-end:1em}",""]),S.default=P},8923:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-padding-end:18px;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}",""]),S.default=P},5605:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".excalidraw .library-menu-items-container .library-actions{display:flex}.excalidraw .library-menu-items-container .library-actions button .library-actions-counter{position:absolute;right:2px;bottom:2px;border-radius:50%;width:1em;height:1em;padding:1px;font-size:.7rem;background:#fff}.excalidraw .library-menu-items-container .library-actions--remove{background-color:#f03e3e}.excalidraw .library-menu-items-container .library-actions--remove:hover{background-color:#e03131}.excalidraw .library-menu-items-container .library-actions--remove:active{background-color:#c92a2a}.excalidraw .library-menu-items-container .library-actions--remove svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--remove .library-actions-counter{color:#f03e3e}.excalidraw .library-menu-items-container .library-actions--export{background-color:#94d82d}.excalidraw .library-menu-items-container .library-actions--export:hover{background-color:#74b816}.excalidraw .library-menu-items-container .library-actions--export:active{background-color:#66a80f}.excalidraw .library-menu-items-container .library-actions--export svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--export .library-actions-counter{color:#94d82d}.excalidraw .library-menu-items-container .library-actions--publish{background-color:#15aabf}.excalidraw .library-menu-items-container .library-actions--publish:hover{background-color:#1098ad}.excalidraw .library-menu-items-container .library-actions--publish:active{background-color:#0b7285}.excalidraw .library-menu-items-container .library-actions--publish svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--publish label{margin-left:-0.2em;margin-right:1.1em;color:#fff;font-size:.86em}.excalidraw .library-menu-items-container .library-actions--publish .library-actions-counter{color:#15aabf}.excalidraw .library-menu-items-container .library-actions--load{background-color:#228be6}.excalidraw .library-menu-items-container .library-actions--load:hover{background-color:#1c7ed6}.excalidraw .library-menu-items-container .library-actions--load:active{background-color:#1864ab}.excalidraw .library-menu-items-container .library-actions--load svg{color:#fff}.excalidraw .library-menu-items-container__items{max-height:50vh;overflow:auto;margin-top:.5rem}.excalidraw .library-menu-items-container .separator{font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),S.default=P},5644:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit--hover{box-shadow:inset 0px 0px 0px 2px #339af0;border-color:#339af0}.excalidraw .library-unit--selected{box-shadow:inset 0px 0px 0px 2px #1971c2;border-color:#1971c2}.excalidraw.theme--dark .library-unit{border-color:#303030}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;left:2.3rem;bottom:2.3rem}.excalidraw .library-unit__checkbox .Checkbox-box{width:13px;height:13px;border-radius:2px;margin:.5em .5em .2em .2em;background-color:#d0ebff}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:40%;top:40%;width:2rem;height:2rem;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit:hover .library-unit__adder{fill:#1c7ed6}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8);fill:#000}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),S.default=P},6843:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.7)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor)*5)}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),S.default=P},8461:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),S.default=P},9935:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".excalidraw .popover{position:absolute;z-index:10}",""]),S.default=P},532:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),S.default=P},7589:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;padding:0 .8rem;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-note{padding:1em;font-style:italic;font-size:14px;display:block}",""]),S.default=P},8465:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item__svg{width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2);margin:.3rem}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1.3rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),S.default=P},5892:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),S.default=P},3874:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),S.default=P},2681:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),S.default=P},6759:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{display:inline-block}",""]),S.default=P},9650:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),S.default=P},2044:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon--plain{background-color:transparent}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon{background-color:var(--button-gray-1)}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon:hover,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_radio:focus-visible+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus-visible+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2em}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon_type_floating{display:inline-block;position:absolute;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon_type_floating .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon_type_floating svg{position:static}.excalidraw .ToolIcon.ToolIcon__library{top:100px}.excalidraw .ToolIcon.ToolIcon__lock{-webkit-margin-end:0;margin-inline-end:0;top:60px}.excalidraw .ToolIcon.ToolIcon__penMode{-webkit-margin-end:0;margin-inline-end:0;top:140px}}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}",""]),S.default=P},9144:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .App-toolbar-container .ToolIcon_type_floating:not(.is-mobile) .ToolIcon__icon{padding:1px;background-color:var(--island-bg-color);box-shadow:1px 3px 4px 0px rgba(0,0,0,.15);border-radius:50%;transition:box-shadow .5s ease,-webkit-transform .5s ease;transition:box-shadow .5s ease,transform .5s ease;transition:box-shadow .5s ease,transform .5s ease,-webkit-transform .5s ease}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:focus-within+.ToolIcon__icon,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:focus-within+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .App-toolbar-container .ToolIcon__hidden{box-shadow:none !important;background-color:transparent !important;pointer-events:none !important}.excalidraw .App-toolbar-container .ToolIcon.ToolIcon__lock{-webkit-margin-end:var(--space-factor);margin-inline-end:var(--space-factor)}.excalidraw .App-toolbar-container .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .App-toolbar-container .ToolIcon__library{-webkit-margin-start:var(--space-factor);margin-inline-start:var(--space-factor)}.excalidraw .App-toolbar-container.zen-mode .ToolIcon_type_floating .ToolIcon__icon{box-shadow:none;-webkit-transform:scale(0.9);transform:scale(0.9)}.excalidraw .App-toolbar-container.zen-mode .ToolIcon_type_floating .ToolIcon_type_checkbox:not(:checked):not(:hover):not(:active)+.ToolIcon__icon svg{fill:#adb5bd;color:#adb5bd}.excalidraw .App-toolbar{border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px rgba(0,0,0,.01),1px 1px 5px rgba(0,0,0,.15)}.excalidraw .App-toolbar .ToolIcon:hover{--icon-fill-color: var( --color-primary-contrast-offset, var(--color-primary) );--keybinding-color: var( --color-primary-contrast-offset, var(--color-primary) )}.excalidraw .App-toolbar .ToolIcon:active{--icon-fill-color: #212529;--keybinding-color: #212529}.excalidraw .App-toolbar .ToolIcon .ToolIcon__icon{background:transparent;border-radius:var(--border-radius-lg)}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .App-toolbar .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw.theme--dark .App-toolbar .ToolIcon:active{--icon-fill-color: #dee2e6;--keybinding-color: #dee2e6}",""]),S.default=P},6626:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw-tooltip{position:absolute;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),S.default=P},6359:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile>*{margin:0 var(--space-factor) var(--space-factor) 0}",""]),S.default=P},9915:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",""]),S.default=P},9310:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N),D=g(1667),F=g.n(D),I=new URL(g(7984),g.b),q=new URL(g(1639),g.b),V=P()(C()),te=F()(I),ne=F()(q);V.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}:export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url("+te+");--focus-highlight-color: #a5d8ff;--icon-fill-color: #212529;--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 0 0 1px rgba(0, 0, 0, 0.01), 1px 1px 5px rgb(0 0 0 / 12%);--space-factor: 0.25rem;--text-primary-color: #343a40;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e2e1fc;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}.excalidraw.theme--dark{background:#000}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url("+ne+');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: rgba(30, 30, 30, 0.98);--keybinding-color: #868e96;--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 1px 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da;--color-primary: #5650f0;--color-primary-darker: #4b46d8;--color-primary-darkest: #3e39be;--color-primary-light: #3f3d64}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;-webkit-margin-end:8px;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{-webkit-user-select:none;user-select:none;background-color:var(--button-gray-1);border:0;border-radius:var(--border-radius-md);margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-visible{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--color-primary);--icon-fill-color: #ffffff}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--color-primary-darker)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--color-primary-darkest)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:35px;height:14px;padding:2px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:auto -webkit-max-content auto;grid-template-columns:auto max-content auto;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:-webkit-min-content auto -webkit-min-content;grid-template-columns:min-content auto min-content;grid-gap:15px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir=ltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir=rtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .zIndexButton{margin:0;-webkit-margin-end:8px;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{display:flex;cursor:pointer;fill:#868e96;padding:0;margin:0;background:none;color:var(--icon-fill-color)}.excalidraw .help-icon svg{width:1.5rem;height:1.5rem}.excalidraw .help-icon:hover{background:none}.excalidraw .reset-zoom-button{padding:.2em;background:transparent;color:var(--text-primary-color);font-family:var(--ui-font)}.excalidraw .undo-redo-buttons{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),S.default=V},6464:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,"",""]),P.locals={themeFilter:"invert(93%) hue-rotate(180deg)"},S.default=P},5260:function(b,S,g){g.r(S);var O=g(8081),C=g.n(O),N=g(3645),P=g.n(N)()(C());P.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:transparent;color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:transparent !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),S.default=P},3645:function(b){b.exports=function(S){var g=[];return g.toString=function(){return this.map(function(O){var C="",N=O[5]!==void 0;return O[4]&&(C+="@supports (".concat(O[4],") {")),O[2]&&(C+="@media ".concat(O[2]," {")),N&&(C+="@layer".concat(O[5].length>0?" ".concat(O[5]):""," {")),C+=S(O),N&&(C+="}"),O[2]&&(C+="}"),O[4]&&(C+="}"),C}).join("")},g.i=function(O,C,N,P,D){typeof O=="string"&&(O=[[null,O,void 0]]);var F={};if(N)for(var I=0;I<this.length;I++){var q=this[I][0];q!=null&&(F[q]=!0)}for(var V=0;V<O.length;V++){var te=[].concat(O[V]);N&&F[te[0]]||(D!==void 0&&(te[5]===void 0||(te[1]="@layer".concat(te[5].length>0?" ".concat(te[5]):""," {").concat(te[1],"}")),te[5]=D),C&&(te[2]&&(te[1]="@media ".concat(te[2]," {").concat(te[1],"}")),te[2]=C),P&&(te[4]?(te[1]="@supports (".concat(te[4],") {").concat(te[1],"}"),te[4]=P):te[4]="".concat(P)),g.push(te))}},g}},1667:function(b){b.exports=function(S,g){return g||(g={}),S&&(S=String(S.__esModule?S.default:S),/^['"].*['"]$/.test(S)&&(S=S.slice(1,-1)),g.hash&&(S+=g.hash),/["'() \t\n]|(%20)/.test(S)||g.needQuotes?'"'.concat(S.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):S)}},8081:function(b){b.exports=function(S){return S[1]}},8288:function(b,S,g){g.d(S,{iC:function(){return P},f:function(){return D},qx:function(){return F},Iw:function(){return I},$e:function(){return q},wZ:function(){return V},ay:function(){return te},oc:function(){return ne},Oh:function(){return W},Ks:function(){return O},Vi:function(){return de},$C:function(){return ie},ut:function(){return ue},C6:function(){return ve},_D:function(){return pe},n5:function(){return xe},rk:function(){return Oe},Hg:function(){return Fe},hs:function(){return ye},k:function(){return Pe},LO:function(){return ze},r8:function(){return Ze},pb:function(){return G},LL:function(){return A},Gj:function(){return zt},nM:function(){return Ht},Lg:function(){return Zt},HM:function(){return Ne},V4:function(){return be},sA:function(){return Ke},EH:function(){return yt},ZF:function(){return At},UO:function(){return kt},ah:function(){return Kt},cW:function(){return yr},kV:function(){return Xr},sS:function(){return Jr},Yx:function(){return mr},zK:function(){return $r},ZB:function(){return en},qy:function(){return oo},h6:function(){return $l},jo:function(){return fi},$n:function(){return Li},hR:function(){return Ws},Kr:function(){return Uu},gK:function(){return ia}});var O,C=g(8635),N=g.n(C),P="Excalidraw",D=10,F=8,I=5,q=1,V=30,te=Math.PI/12,ne={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},W={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(function(Fr){Fr.COPY="copy",Fr.PASTE="paste",Fr.CUT="cut",Fr.KEYDOWN="keydown",Fr.KEYUP="keyup",Fr.MOUSE_MOVE="mousemove",Fr.RESIZE="resize",Fr.UNLOAD="unload",Fr.FOCUS="focus",Fr.BLUR="blur",Fr.DRAG_OVER="dragover",Fr.DROP="drop",Fr.GESTURE_END="gestureend",Fr.BEFORE_UNLOAD="beforeunload",Fr.GESTURE_START="gesturestart",Fr.GESTURE_CHANGE="gesturechange",Fr.POINTER_MOVE="pointermove",Fr.POINTER_UP="pointerup",Fr.STATE_CHANGE="statechange",Fr.WHEEL="wheel",Fr.TOUCH_START="touchstart",Fr.TOUCH_END="touchend",Fr.HASHCHANGE="hashchange",Fr.VISIBILITY_CHANGE="visibilitychange",Fr.SCROLL="scroll",Fr.EXCALIDRAW_LINK="excalidraw-link"})(O||(O={}));var de={TEST:"test",DEVELOPMENT:"development"},ie={SHAPE_ACTIONS_MENU:"App-menu__left"},ue={Virgil:1,Helvetica:2,Cascadia:3},ve={LIGHT:"light",DARK:"dark"},pe="Segoe UI Emoji",xe=20,Oe=ue.Virgil,Fe="left",ye="top",Pe=20,ze={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",binary:"application/octet-stream"},Ze={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},G=window.location.origin,A=500,zt=300,Ht=500,Zt=5e3,Ne=100,be=.1,Ke=300,yt={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},At=N().themeFilter,kt={addLibrary:"addLibrary"},Kt={addLibrary:"addLibrary"},yr={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,theme:!0,saveAsImage:!0}},Xr=730,Jr=1e3,mr=500,$r=2,en=[1,2,3],oo=10,$l=1440,fi=[ze.png,ze.jpg,ze.svg,ze.gif],Li=2097152,Ws="http://www.w3.org/2000/svg",Uu={excalidraw:2,excalidrawLibrary:2},ia=5},7314:function(b,S,g){g.r(S),g.d(S,{FONT_FAMILY:function(){return I.ut},THEME:function(){return I.C6},bumpVersion:function(){return au},default:function(){return cR},defaultLang:function(){return pe},exportToBlob:function(){return jj},exportToCanvas:function(){return Bw},exportToSvg:function(){return FC},getFreeDrawSvgPath:function(){return Td},getNonDeletedElements:function(){return ge},getSceneVersion:function(){return he},isInvisiblySmallElement:function(){return as},isLinearElement:function(){return on},languages:function(){return xe},loadFromBlob:function(){return K1},loadLibraryFromBlob:function(){return t9},mutateElement:function(){return vt},newElementWith:function(){return tn},restore:function(){return U1},restoreAppState:function(){return Xk},restoreElements:function(){return Uy},serializeAsJSON:function(){return Wy}});var O=g(6479),C=g.n(O),N=g(9713),P=g.n(N),D=g(9787),F=g.n(D),I=g(8288),q=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.11.0"}');I.Vi.TEST!=="production"&&(g.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(q.u2,"@").concat(q.i8,"/dist/"));var V=g(8950);function te(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}function ne(a,l){if(a){if(typeof a=="string")return te(a,l);var s=Object.prototype.toString.call(a).slice(8,-1);return s==="Object"&&a.constructor&&(s=a.constructor.name),s==="Map"||s==="Set"?Array.from(a):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?te(a,l):void 0}}function W(a,l){return function(s){if(Array.isArray(s))return s}(a)||function(s,u){var d=s==null?null:typeof Symbol!="undefined"&&s[Symbol.iterator]||s["@@iterator"];if(d!=null){var p,v,w=[],y=!0,T=!1;try{for(d=d.call(s);!(y=(p=d.next()).done)&&(w.push(p.value),!u||w.length!==u);y=!0);}catch(_){T=!0,v=_}finally{try{y||d.return==null||d.return()}finally{if(T)throw v}}return w}}(a,l)||ne(a,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var de=g(7945),ie=g.n(de),ue=g(1463),ve=g(4451),pe={code:"en",label:"English"},xe=[{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438"},{code:"ca-ES",label:"Catal\xE0"},{code:"cs-CZ",label:"\u010Cesky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC"},{code:"es-ES",label:"Espa\xF1ol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06CC",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xE7ais"},{code:"he-IL",label:"\u05E2\u05D1\u05E8\u05D9\u05EA",rtl:!0},{code:"hi-IN",label:"\u0939\u093F\u0928\u094D\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65E5\u672C\u8A9E"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"\u049A\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456"},{code:"ko-KR",label:"\uD55C\uAD6D\uC5B4"},{code:"lt-LT",label:"Lietuvi\u0173"},{code:"lv-LV",label:"Latvie\u0161u"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xE5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xEAs Brasileiro"},{code:"pt-PT",label:"Portugu\xEAs"},{code:"ro-RO",label:"Rom\xE2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010Dina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"T\xFCrk\xE7e"},{code:"uk-UA",label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430"},{code:"zh-CN",label:"\u7B80\u4F53\u4E2D\u6587"},{code:"zh-TW",label:"\u7E41\u9AD4\u4E2D\u6587"}].concat([pe]).sort(function(a,l){return a.label>l.label?1:-1}).filter(function(a){return ve[a.code]>=85}),Oe="__test__";I.Vi.DEVELOPMENT==="production"&&xe.unshift({code:Oe,label:"test language"},{code:"".concat(Oe,".rtl"),label:"\u202Atest language (rtl)\u202C",rtl:!0});var Fe=pe,ye={},Pe=function(){var a=(0,V.Z)(ie().mark(function l(s){return ie().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(Fe=s,document.documentElement.dir=Fe.rtl?"rtl":"ltr",document.documentElement.lang=Fe.code,!s.code.startsWith(Oe)){u.next=7;break}ye={},u.next=10;break;case 7:return u.next=9,g(788)("./".concat(Fe.code,".json"));case 9:ye=u.sent;case 10:case"end":return u.stop()}},l)}));return function(l){return a.apply(this,arguments)}}(),ze=function(){return Fe},Ze=function(a,l){for(var s=0;s<l.length;++s){var u=l[s];if(a[u]===void 0)return;a=a[u]}if(typeof a=="string")return a},G=function(a,l){if(Fe.code.startsWith(Oe)){var s=l?"".concat(a,"(").concat(JSON.stringify(l).slice(1,-1),")"):a;return"\u202A[[".concat(s,"]]\u202C")}var u=a.split("."),d=Ze(ye,u)||Ze(ue,u);if(d===void 0)throw new Error("Can't find translation for ".concat(a));if(l)for(var p in l)d=d.replace("{{".concat(p,"}}"),String(l[p]));return d},A=g(4512),zt=function(){return(0,A.jsx)("div",{className:"LoadingMessage",children:(0,A.jsx)("span",{children:G("labels.loadingScene")})})},Ht=function(a){var l=W((0,D.useState)(!0),2),s=l[0],u=l[1];return(0,D.useEffect)(function(){var d=function(){var v=(0,V.Z)(ie().mark(function w(){return ie().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Pe(p);case 2:case"end":return y.stop()}},w)}));return function(){return v.apply(this,arguments)}}(),p=xe.find(function(v){return v.code===a.langCode})||pe;d(),u(!1)},[a.langCode]),s?(0,A.jsx)(zt,{}):a.children};function Zt(a){return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Zt(a)}function Ne(a){return function(l){if(Array.isArray(l))return te(l)}(a)||function(l){if(typeof Symbol!="undefined"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(a)||ne(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function be(a,l,s){return l in a?Object.defineProperty(a,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[l]=s,a}function Ke(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function yt(a,l){for(var s=0;s<l.length;s++){var u=l[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}function At(a,l,s){return l&&yt(a.prototype,l),s&&yt(a,s),a}function kt(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Kt(a,l){return Kt=Object.setPrototypeOf||function(s,u){return s.__proto__=u,s},Kt(a,l)}function yr(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),l&&Kt(a,l)}function Xr(a,l){if(l&&(Zt(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kt(a)}function Jr(a){return Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},Jr(a)}function mr(a,l,s){if(a&&a.length){const[u,d]=l,p=Math.PI/180*s,v=Math.cos(p),w=Math.sin(p);a.forEach(y=>{const[T,_]=y;y[0]=(T-u)*v-(_-d)*w+u,y[1]=(T-u)*w+(_-d)*v+d})}}function $r(a){const l=a[0],s=a[1];return Math.sqrt(Math.pow(l[0]-s[0],2)+Math.pow(l[1]-s[1],2))}function en(a,l){const s=l.hachureAngle+90;let u=l.hachureGap;u<0&&(u=4*l.strokeWidth),u=Math.max(u,.1);const d=[0,0];if(s)for(const v of a)mr(v,d,s);const p=function(v,w){const y=[];for(const j of v){const z=[...j];z[0].join(",")!==z[z.length-1].join(",")&&z.push([z[0][0],z[0][1]]),z.length>2&&y.push(z)}const T=[];w=Math.max(w,.1);const _=[];for(const j of y)for(let z=0;z<j.length-1;z++){const K=j[z],$=j[z+1];if(K[1]!==$[1]){const Z=Math.min(K[1],$[1]);_.push({ymin:Z,ymax:Math.max(K[1],$[1]),x:Z===K[1]?K[0]:$[0],islope:($[0]-K[0])/($[1]-K[1])})}}if(_.sort((j,z)=>j.ymin<z.ymin?-1:j.ymin>z.ymin?1:j.x<z.x?-1:j.x>z.x?1:j.ymax===z.ymax?0:(j.ymax-z.ymax)/Math.abs(j.ymax-z.ymax)),!_.length)return T;let L=[],R=_[0].ymin;for(;L.length||_.length;){if(_.length){let j=-1;for(let z=0;z<_.length&&!(_[z].ymin>R);z++)j=z;_.splice(0,j+1).forEach(z=>{L.push({s:R,edge:z})})}if(L=L.filter(j=>!(j.edge.ymax<=R)),L.sort((j,z)=>j.edge.x===z.edge.x?0:(j.edge.x-z.edge.x)/Math.abs(j.edge.x-z.edge.x)),L.length>1)for(let j=0;j<L.length;j+=2){const z=j+1;if(z>=L.length)break;const K=L[j].edge,$=L[z].edge;T.push([[Math.round(K.x),R],[Math.round($.x),R]])}R+=w,L.forEach(j=>{j.edge.x=j.edge.x+w*j.edge.islope})}return T}(a,u);if(s){for(const v of a)mr(v,d,-s);(function(v,w,y){const T=[];v.forEach(_=>T.push(..._)),mr(T,w,y)})(p,d,-s)}return p}class oo{constructor(l){this.helper=l}fillPolygons(l,s){return this._fillPolygons(l,s)}_fillPolygons(l,s){const u=en(l,s);return{type:"fillSketch",ops:this.renderLines(u,s)}}renderLines(l,s){const u=[];for(const d of l)u.push(...this.helper.doubleLineOps(d[0][0],d[0][1],d[1][0],d[1][1],s));return u}}class $l extends oo{fillPolygons(l,s){let u=s.hachureGap;u<0&&(u=4*s.strokeWidth),u=Math.max(u,.1);const d=en(l,Object.assign({},s,{hachureGap:u})),p=Math.PI/180*s.hachureAngle,v=[],w=.5*u*Math.cos(p),y=.5*u*Math.sin(p);for(const[T,_]of d)$r([T,_])&&v.push([[T[0]-w,T[1]+y],[..._]],[[T[0]+w,T[1]-y],[..._]]);return{type:"fillSketch",ops:this.renderLines(v,s)}}}class fi extends oo{fillPolygons(l,s){const u=this._fillPolygons(l,s),d=Object.assign({},s,{hachureAngle:s.hachureAngle+90}),p=this._fillPolygons(l,d);return u.ops=u.ops.concat(p.ops),u}}class Li{constructor(l){this.helper=l}fillPolygons(l,s){const u=en(l,s=Object.assign({},s,{hachureAngle:0}));return this.dotsOnLines(u,s)}dotsOnLines(l,s){const u=[];let d=s.hachureGap;d<0&&(d=4*s.strokeWidth),d=Math.max(d,.1);let p=s.fillWeight;p<0&&(p=s.strokeWidth/2);const v=d/4;for(const w of l){const y=$r(w),T=y/d,_=Math.ceil(T)-1,L=y-_*d,R=(w[0][0]+w[1][0])/2-d/4,j=Math.min(w[0][1],w[1][1]);for(let z=0;z<_;z++){const K=j+L+z*d,$=R-v+2*Math.random()*v,Z=K-v+2*Math.random()*v,oe=this.helper.ellipse($,Z,p,p,s);u.push(...oe.ops)}}return{type:"fillSketch",ops:u}}}class Ws{constructor(l){this.helper=l}fillPolygons(l,s){const u=en(l,s);return{type:"fillSketch",ops:this.dashedLine(u,s)}}dashedLine(l,s){const u=s.dashOffset<0?s.hachureGap<0?4*s.strokeWidth:s.hachureGap:s.dashOffset,d=s.dashGap<0?s.hachureGap<0?4*s.strokeWidth:s.hachureGap:s.dashGap,p=[];return l.forEach(v=>{const w=$r(v),y=Math.floor(w/(u+d)),T=(w+d-y*(u+d))/2;let _=v[0],L=v[1];_[0]>L[0]&&(_=v[1],L=v[0]);const R=Math.atan((L[1]-_[1])/(L[0]-_[0]));for(let j=0;j<y;j++){const z=j*(u+d),K=z+u,$=[_[0]+z*Math.cos(R)+T*Math.cos(R),_[1]+z*Math.sin(R)+T*Math.sin(R)],Z=[_[0]+K*Math.cos(R)+T*Math.cos(R),_[1]+K*Math.sin(R)+T*Math.sin(R)];p.push(...this.helper.doubleLineOps($[0],$[1],Z[0],Z[1],s))}}),p}}class Uu{constructor(l){this.helper=l}fillPolygons(l,s){const u=s.hachureGap<0?4*s.strokeWidth:s.hachureGap,d=s.zigzagOffset<0?u:s.zigzagOffset,p=en(l,s=Object.assign({},s,{hachureGap:u+d}));return{type:"fillSketch",ops:this.zigzagLines(p,d,s)}}zigzagLines(l,s,u){const d=[];return l.forEach(p=>{const v=$r(p),w=Math.round(v/(2*s));let y=p[0],T=p[1];y[0]>T[0]&&(y=p[1],T=p[0]);const _=Math.atan((T[1]-y[1])/(T[0]-y[0]));for(let L=0;L<w;L++){const R=2*L*s,j=2*(L+1)*s,z=Math.sqrt(2*Math.pow(s,2)),K=[y[0]+R*Math.cos(_),y[1]+R*Math.sin(_)],$=[y[0]+j*Math.cos(_),y[1]+j*Math.sin(_)],Z=[K[0]+z*Math.cos(_+Math.PI/4),K[1]+z*Math.sin(_+Math.PI/4)];d.push(...this.helper.doubleLineOps(K[0],K[1],Z[0],Z[1],u),...this.helper.doubleLineOps(Z[0],Z[1],$[0],$[1],u))}}),d}}const ia={};class Fr{constructor(l){this.seed=l}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}const $s={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Ku(a,l){return a.type===l}function v0(a){const l=[],s=function(v){const w=new Array;for(;v!=="";)if(v.match(/^([ \t\r\n,]+)/))v=v.substr(RegExp.$1.length);else if(v.match(/^([aAcChHlLmMqQsStTvVzZ])/))w[w.length]={type:0,text:RegExp.$1},v=v.substr(RegExp.$1.length);else{if(!v.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];w[w.length]={type:1,text:`${parseFloat(RegExp.$1)}`},v=v.substr(RegExp.$1.length)}return w[w.length]={type:2,text:""},w}(a);let u="BOD",d=0,p=s[d];for(;!Ku(p,2);){let v=0;const w=[];if(u==="BOD"){if(p.text!=="M"&&p.text!=="m")return v0("M0,0"+a);d++,v=$s[p.text],u=p.text}else Ku(p,1)?v=$s[u]:(d++,v=$s[p.text],u=p.text);if(!(d+v<s.length))throw new Error("Path data ended short");for(let y=d;y<d+v;y++){const T=s[y];if(!Ku(T,1))throw new Error("Param not a number: "+u+","+T.text);w[w.length]=+T.text}if(typeof $s[u]!="number")throw new Error("Bad segment: "+u);{const y={key:u,data:w};l.push(y),d+=v,p=s[d],u==="M"&&(u="L"),u==="m"&&(u="l")}}return l}function Gs(a){let l=0,s=0,u=0,d=0;const p=[];for(const{key:v,data:w}of a)switch(v){case"M":p.push({key:"M",data:[...w]}),[l,s]=w,[u,d]=w;break;case"m":l+=w[0],s+=w[1],p.push({key:"M",data:[l,s]}),u=l,d=s;break;case"L":p.push({key:"L",data:[...w]}),[l,s]=w;break;case"l":l+=w[0],s+=w[1],p.push({key:"L",data:[l,s]});break;case"C":p.push({key:"C",data:[...w]}),l=w[4],s=w[5];break;case"c":{const y=w.map((T,_)=>_%2?T+s:T+l);p.push({key:"C",data:y}),l=y[4],s=y[5];break}case"Q":p.push({key:"Q",data:[...w]}),l=w[2],s=w[3];break;case"q":{const y=w.map((T,_)=>_%2?T+s:T+l);p.push({key:"Q",data:y}),l=y[2],s=y[3];break}case"A":p.push({key:"A",data:[...w]}),l=w[5],s=w[6];break;case"a":l+=w[5],s+=w[6],p.push({key:"A",data:[w[0],w[1],w[2],w[3],w[4],l,s]});break;case"H":p.push({key:"H",data:[...w]}),l=w[0];break;case"h":l+=w[0],p.push({key:"H",data:[l]});break;case"V":p.push({key:"V",data:[...w]}),s=w[0];break;case"v":s+=w[0],p.push({key:"V",data:[s]});break;case"S":p.push({key:"S",data:[...w]}),l=w[2],s=w[3];break;case"s":{const y=w.map((T,_)=>_%2?T+s:T+l);p.push({key:"S",data:y}),l=y[2],s=y[3];break}case"T":p.push({key:"T",data:[...w]}),l=w[0],s=w[1];break;case"t":l+=w[0],s+=w[1],p.push({key:"T",data:[l,s]});break;case"Z":case"z":p.push({key:"Z",data:[]}),l=u,s=d}return p}function Vs(a){const l=[];let s="",u=0,d=0,p=0,v=0,w=0,y=0;for(const{key:T,data:_}of a){switch(T){case"M":l.push({key:"M",data:[..._]}),[u,d]=_,[p,v]=_;break;case"C":l.push({key:"C",data:[..._]}),u=_[4],d=_[5],w=_[2],y=_[3];break;case"L":l.push({key:"L",data:[..._]}),[u,d]=_;break;case"H":u=_[0],l.push({key:"L",data:[u,d]});break;case"V":d=_[0],l.push({key:"L",data:[u,d]});break;case"S":{let L=0,R=0;s==="C"||s==="S"?(L=u+(u-w),R=d+(d-y)):(L=u,R=d),l.push({key:"C",data:[L,R,..._]}),w=_[0],y=_[1],u=_[2],d=_[3];break}case"T":{const[L,R]=_;let j=0,z=0;s==="Q"||s==="T"?(j=u+(u-w),z=d+(d-y)):(j=u,z=d);const K=u+2*(j-u)/3,$=d+2*(z-d)/3,Z=L+2*(j-L)/3,oe=R+2*(z-R)/3;l.push({key:"C",data:[K,$,Z,oe,L,R]}),w=j,y=z,u=L,d=R;break}case"Q":{const[L,R,j,z]=_,K=u+2*(L-u)/3,$=d+2*(R-d)/3,Z=j+2*(L-j)/3,oe=z+2*(R-z)/3;l.push({key:"C",data:[K,$,Z,oe,j,z]}),w=L,y=R,u=j,d=z;break}case"A":{const L=Math.abs(_[0]),R=Math.abs(_[1]),j=_[2],z=_[3],K=_[4],$=_[5],Z=_[6];L===0||R===0?(l.push({key:"C",data:[u,d,$,Z,$,Z]}),u=$,d=Z):(u!==$||d!==Z)&&(cd(u,d,$,Z,L,R,j,z,K).forEach(function(oe){l.push({key:"C",data:oe})}),u=$,d=Z);break}case"Z":l.push({key:"Z",data:[]}),u=p,d=v}s=T}return l}function bl(a,l,s){return[a*Math.cos(s)-l*Math.sin(s),a*Math.sin(s)+l*Math.cos(s)]}function cd(a,l,s,u,d,p,v,w,y,T){const _=(L=v,Math.PI*L/180);var L;let R=[],j=0,z=0,K=0,$=0;if(T)[j,z,K,$]=T;else{[a,l]=bl(a,l,-_),[s,u]=bl(s,u,-_);const rt=(a-s)/2,Xe=(l-u)/2;let qe=rt*rt/(d*d)+Xe*Xe/(p*p);qe>1&&(qe=Math.sqrt(qe),d*=qe,p*=qe);const at=d*d,et=p*p,Le=at*et-at*Xe*Xe-et*rt*rt,dt=at*Xe*Xe+et*rt*rt,mt=(w===y?-1:1)*Math.sqrt(Math.abs(Le/dt));K=mt*d*Xe/p+(a+s)/2,$=mt*-p*rt/d+(l+u)/2,j=Math.asin(parseFloat(((l-$)/p).toFixed(9))),z=Math.asin(parseFloat(((u-$)/p).toFixed(9))),a<K&&(j=Math.PI-j),s<K&&(z=Math.PI-z),j<0&&(j=2*Math.PI+j),z<0&&(z=2*Math.PI+z),y&&j>z&&(j-=2*Math.PI),!y&&z>j&&(z-=2*Math.PI)}let Z=z-j;if(Math.abs(Z)>120*Math.PI/180){const rt=z,Xe=s,qe=u;z=y&&z>j?j+120*Math.PI/180*1:j+120*Math.PI/180*-1,R=cd(s=K+d*Math.cos(z),u=$+p*Math.sin(z),Xe,qe,d,p,v,0,y,[z,rt,K,$])}Z=z-j;const oe=Math.cos(j),le=Math.sin(j),me=Math.cos(z),Ce=Math.sin(z),_e=Math.tan(Z/4),Ie=4/3*d*_e,Te=4/3*p*_e,$e=[a,l],He=[a+Ie*le,l-Te*oe],We=[s+Ie*Ce,u-Te*me],Ee=[s,u];if(He[0]=2*$e[0]-He[0],He[1]=2*$e[1]-He[1],T)return[He,We,Ee].concat(R);{R=[He,We,Ee].concat(R);const rt=[];for(let Xe=0;Xe<R.length;Xe+=3){const qe=bl(R[Xe][0],R[Xe][1],_),at=bl(R[Xe+1][0],R[Xe+1][1],_),et=bl(R[Xe+2][0],R[Xe+2][1],_);rt.push([qe[0],qe[1],at[0],at[1],et[0],et[1]])}return rt}}const g0={randOffset:function(a,l){return Ut(a,l)},randOffsetWithRange:function(a,l,s){return Gu(a,l,s)},ellipse:function(a,l,s,u,d){const p=di(s,u,d);return $u(a,l,d,p).opset},doubleLineOps:function(a,l,s,u,d){return xl(a,l,s,u,d,!0)}};function fd(a,l,s,u,d){return{type:"path",ops:xl(a,l,s,u,d)}}function Wu(a,l,s){const u=(a||[]).length;if(u>2){const d=[];for(let p=0;p<u-1;p++)d.push(...xl(a[p][0],a[p][1],a[p+1][0],a[p+1][1],s));return l&&d.push(...xl(a[u-1][0],a[u-1][1],a[0][0],a[0][1],s)),{type:"path",ops:d}}return u===2?fd(a[0][0],a[0][1],a[1][0],a[1][1],s):{type:"path",ops:[]}}function Yt(a,l,s,u,d){return function(p,v){return Wu(p,!0,v)}([[a,l],[a+s,l],[a+s,l+u],[a,l+u]],d)}function Zr(a,l){let s=Qv(a,1*(1+.2*l.roughness),l);if(!l.disableMultiStroke){const u=Qv(a,1.5*(1+.22*l.roughness),function(d){const p=Object.assign({},d);return p.randomizer=void 0,d.seed&&(p.seed=d.seed+1),p}(l));s=s.concat(u)}return{type:"path",ops:s}}function di(a,l,s){const u=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(a/2,2)+Math.pow(l/2,2))/2)),d=Math.ceil(Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*u)),p=2*Math.PI/d;let v=Math.abs(a/2),w=Math.abs(l/2);const y=1-s.curveFitting;return v+=Ut(v*y,s),w+=Ut(w*y,s),{increment:p,rx:v,ry:w}}function $u(a,l,s,u){const[d,p]=Jv(u.increment,a,l,u.rx,u.ry,1,u.increment*Gu(.1,Gu(.4,1,s),s),s);let v=Ys(d,null,s);if(!s.disableMultiStroke&&s.roughness!==0){const[w]=Jv(u.increment,a,l,u.rx,u.ry,1.5,0,s),y=Ys(w,null,s);v=v.concat(y)}return{estimatedPoints:p,opset:{type:"path",ops:v}}}function dd(a,l,s,u,d,p,v,w,y){const T=a,_=l;let L=Math.abs(s/2),R=Math.abs(u/2);L+=Ut(.01*L,y),R+=Ut(.01*R,y);let j=d,z=p;for(;j<0;)j+=2*Math.PI,z+=2*Math.PI;z-j>2*Math.PI&&(j=0,z=2*Math.PI);const K=2*Math.PI/y.curveStepCount,$=Math.min(K/2,(z-j)/2),Z=Np($,T,_,L,R,j,z,1,y);if(!y.disableMultiStroke){const oe=Np($,T,_,L,R,j,z,1.5,y);Z.push(...oe)}return v&&(w?Z.push(...xl(T,_,T+L*Math.cos(j),_+R*Math.sin(j),y),...xl(T,_,T+L*Math.cos(z),_+R*Math.sin(z),y)):Z.push({op:"lineTo",data:[T,_]},{op:"lineTo",data:[T+L*Math.cos(j),_+R*Math.sin(j)]})),{type:"path",ops:Z}}function qs(a,l){const s=[];for(const u of a)if(u.length){const d=l.maxRandomnessOffset||0,p=u.length;if(p>2){s.push({op:"move",data:[u[0][0]+Ut(d,l),u[0][1]+Ut(d,l)]});for(let v=1;v<p;v++)s.push({op:"lineTo",data:[u[v][0]+Ut(d,l),u[v][1]+Ut(d,l)]})}}return{type:"fillPath",ops:s}}function wl(a,l){return function(s,u){let d=s.fillStyle||"hachure";if(!ia[d])switch(d){case"zigzag":ia[d]||(ia[d]=new $l(u));break;case"cross-hatch":ia[d]||(ia[d]=new fi(u));break;case"dots":ia[d]||(ia[d]=new Li(u));break;case"dashed":ia[d]||(ia[d]=new Ws(u));break;case"zigzag-line":ia[d]||(ia[d]=new Uu(u));break;default:d="hachure",ia[d]||(ia[d]=new oo(u))}return ia[d]}(l,g0).fillPolygons(a,l)}function y0(a){return a.randomizer||(a.randomizer=new Fr(a.seed||0)),a.randomizer.next()}function Gu(a,l,s,u=1){return s.roughness*u*(y0(s)*(l-a)+a)}function Ut(a,l,s=1){return Gu(-a,a,l,s)}function xl(a,l,s,u,d,p=!1){const v=p?d.disableMultiStrokeFill:d.disableMultiStroke,w=Zv(a,l,s,u,d,!0,!1);if(v)return w;const y=Zv(a,l,s,u,d,!0,!0);return w.concat(y)}function Zv(a,l,s,u,d,p,v){const w=Math.pow(a-s,2)+Math.pow(l-u,2),y=Math.sqrt(w);let T=1;T=y<200?1:y>500?.4:-.0016668*y+1.233334;let _=d.maxRandomnessOffset||0;_*_*100>w&&(_=y/10);const L=_/2,R=.2+.2*y0(d);let j=d.bowing*d.maxRandomnessOffset*(u-l)/200,z=d.bowing*d.maxRandomnessOffset*(a-s)/200;j=Ut(j,d,T),z=Ut(z,d,T);const K=[],$=()=>Ut(L,d,T),Z=()=>Ut(_,d,T),oe=d.preserveVertices;return p&&(v?K.push({op:"move",data:[a+(oe?0:$()),l+(oe?0:$())]}):K.push({op:"move",data:[a+(oe?0:Ut(_,d,T)),l+(oe?0:Ut(_,d,T))]})),v?K.push({op:"bcurveTo",data:[j+a+(s-a)*R+$(),z+l+(u-l)*R+$(),j+a+2*(s-a)*R+$(),z+l+2*(u-l)*R+$(),s+(oe?0:$()),u+(oe?0:$())]}):K.push({op:"bcurveTo",data:[j+a+(s-a)*R+Z(),z+l+(u-l)*R+Z(),j+a+2*(s-a)*R+Z(),z+l+2*(u-l)*R+Z(),s+(oe?0:Z()),u+(oe?0:Z())]}),K}function Qv(a,l,s){const u=[];u.push([a[0][0]+Ut(l,s),a[0][1]+Ut(l,s)]),u.push([a[0][0]+Ut(l,s),a[0][1]+Ut(l,s)]);for(let d=1;d<a.length;d++)u.push([a[d][0]+Ut(l,s),a[d][1]+Ut(l,s)]),d===a.length-1&&u.push([a[d][0]+Ut(l,s),a[d][1]+Ut(l,s)]);return Ys(u,null,s)}function Ys(a,l,s){const u=a.length,d=[];if(u>3){const p=[],v=1-s.curveTightness;d.push({op:"move",data:[a[1][0],a[1][1]]});for(let w=1;w+2<u;w++){const y=a[w];p[0]=[y[0],y[1]],p[1]=[y[0]+(v*a[w+1][0]-v*a[w-1][0])/6,y[1]+(v*a[w+1][1]-v*a[w-1][1])/6],p[2]=[a[w+1][0]+(v*a[w][0]-v*a[w+2][0])/6,a[w+1][1]+(v*a[w][1]-v*a[w+2][1])/6],p[3]=[a[w+1][0],a[w+1][1]],d.push({op:"bcurveTo",data:[p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1]]})}if(l&&l.length===2){const w=s.maxRandomnessOffset;d.push({op:"lineTo",data:[l[0]+Ut(w,s),l[1]+Ut(w,s)]})}}else u===3?(d.push({op:"move",data:[a[1][0],a[1][1]]}),d.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[2][0],a[2][1]]})):u===2&&d.push(...xl(a[0][0],a[0][1],a[1][0],a[1][1],s));return d}function Jv(a,l,s,u,d,p,v,w){const y=[],T=[];if(w.roughness===0){a/=4,T.push([l+u*Math.cos(-a),s+d*Math.sin(-a)]);for(let _=0;_<=2*Math.PI;_+=a){const L=[l+u*Math.cos(_),s+d*Math.sin(_)];y.push(L),T.push(L)}T.push([l+u*Math.cos(0),s+d*Math.sin(0)]),T.push([l+u*Math.cos(a),s+d*Math.sin(a)])}else{const _=Ut(.5,w)-Math.PI/2;T.push([Ut(p,w)+l+.9*u*Math.cos(_-a),Ut(p,w)+s+.9*d*Math.sin(_-a)]);const L=2*Math.PI+_-.01;for(let R=_;R<L;R+=a){const j=[Ut(p,w)+l+u*Math.cos(R),Ut(p,w)+s+d*Math.sin(R)];y.push(j),T.push(j)}T.push([Ut(p,w)+l+u*Math.cos(_+2*Math.PI+.5*v),Ut(p,w)+s+d*Math.sin(_+2*Math.PI+.5*v)]),T.push([Ut(p,w)+l+.98*u*Math.cos(_+v),Ut(p,w)+s+.98*d*Math.sin(_+v)]),T.push([Ut(p,w)+l+.9*u*Math.cos(_+.5*v),Ut(p,w)+s+.9*d*Math.sin(_+.5*v)])}return[T,y]}function Np(a,l,s,u,d,p,v,w,y){const T=p+Ut(.1,y),_=[];_.push([Ut(w,y)+l+.9*u*Math.cos(T-a),Ut(w,y)+s+.9*d*Math.sin(T-a)]);for(let L=T;L<=v;L+=a)_.push([Ut(w,y)+l+u*Math.cos(L),Ut(w,y)+s+d*Math.sin(L)]);return _.push([l+u*Math.cos(v),s+d*Math.sin(v)]),_.push([l+u*Math.cos(v),s+d*Math.sin(v)]),Ys(_,null,y)}function Db(a,l,s,u,d,p,v,w){const y=[],T=[w.maxRandomnessOffset||1,(w.maxRandomnessOffset||1)+.3];let _=[0,0];const L=w.disableMultiStroke?1:2,R=w.preserveVertices;for(let j=0;j<L;j++)j===0?y.push({op:"move",data:[v[0],v[1]]}):y.push({op:"move",data:[v[0]+(R?0:Ut(T[0],w)),v[1]+(R?0:Ut(T[0],w))]}),_=R?[d,p]:[d+Ut(T[j],w),p+Ut(T[j],w)],y.push({op:"bcurveTo",data:[a+Ut(T[j],w),l+Ut(T[j],w),s+Ut(T[j],w),u+Ut(T[j],w),_[0],_[1]]});return y}function Vu(a){return[...a]}function b0(a,l){return Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)}function Lb(a,l,s){const u=b0(l,s);if(u===0)return b0(a,l);let d=((a[0]-l[0])*(s[0]-l[0])+(a[1]-l[1])*(s[1]-l[1]))/u;return d=Math.max(0,Math.min(1,d)),b0(a,Gl(l,s,d))}function Gl(a,l,s){return[a[0]+(l[0]-a[0])*s,a[1]+(l[1]-a[1])*s]}function jp(a,l,s,u){const d=u||[];if(function(w,y){const T=w[y+0],_=w[y+1],L=w[y+2],R=w[y+3];let j=3*_[0]-2*T[0]-R[0];j*=j;let z=3*_[1]-2*T[1]-R[1];z*=z;let K=3*L[0]-2*R[0]-T[0];K*=K;let $=3*L[1]-2*R[1]-T[1];return $*=$,j<K&&(j=K),z<$&&(z=$),j+z}(a,l)<s){const w=a[l+0];d.length?(p=d[d.length-1],v=w,Math.sqrt(b0(p,v))>1&&d.push(w)):d.push(w),d.push(a[l+3])}else{const y=a[l+0],T=a[l+1],_=a[l+2],L=a[l+3],R=Gl(y,T,.5),j=Gl(T,_,.5),z=Gl(_,L,.5),K=Gl(R,j,.5),$=Gl(j,z,.5),Z=Gl(K,$,.5);jp([y,R,K,Z],0,s,d),jp([Z,$,z,L],0,s,d)}var p,v;return d}function Pb(a,l){return w0(a,0,a.length,l)}function w0(a,l,s,u,d){const p=d||[],v=a[l],w=a[s-1];let y=0,T=1;for(let _=l+1;_<s-1;++_){const L=Lb(a[_],v,w);L>y&&(y=L,T=_)}return Math.sqrt(y)>u?(w0(a,l,T+1,u,p),w0(a,T,s,u,p)):(p.length||p.push(v),p.push(w)),p}function qu(a,l=.15,s){const u=[],d=(a.length-1)/3;for(let p=0;p<d;p++)jp(a,3*p,l,u);return s&&s>0?w0(u,0,u.length,s):u}const Ya="none";class hd{constructor(l){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=l||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2147483648)}_o(l){return l?Object.assign({},this.defaultOptions,l):this.defaultOptions}_d(l,s,u){return{shape:l,sets:s||[],options:u||this.defaultOptions}}line(l,s,u,d,p){const v=this._o(p);return this._d("line",[fd(l,s,u,d,v)],v)}rectangle(l,s,u,d,p){const v=this._o(p),w=[],y=Yt(l,s,u,d,v);if(v.fill){const T=[[l,s],[l+u,s],[l+u,s+d],[l,s+d]];v.fillStyle==="solid"?w.push(qs([T],v)):w.push(wl([T],v))}return v.stroke!==Ya&&w.push(y),this._d("rectangle",w,v)}ellipse(l,s,u,d,p){const v=this._o(p),w=[],y=di(u,d,v),T=$u(l,s,v,y);if(v.fill)if(v.fillStyle==="solid"){const _=$u(l,s,v,y).opset;_.type="fillPath",w.push(_)}else w.push(wl([T.estimatedPoints],v));return v.stroke!==Ya&&w.push(T.opset),this._d("ellipse",w,v)}circle(l,s,u,d){const p=this.ellipse(l,s,u,u,d);return p.shape="circle",p}linearPath(l,s){const u=this._o(s);return this._d("linearPath",[Wu(l,!1,u)],u)}arc(l,s,u,d,p,v,w=!1,y){const T=this._o(y),_=[],L=dd(l,s,u,d,p,v,w,!0,T);if(w&&T.fill)if(T.fillStyle==="solid"){const R=Object.assign({},T);R.disableMultiStroke=!0;const j=dd(l,s,u,d,p,v,!0,!1,R);j.type="fillPath",_.push(j)}else _.push(function(R,j,z,K,$,Z,oe){const le=R,me=j;let Ce=Math.abs(z/2),_e=Math.abs(K/2);Ce+=Ut(.01*Ce,oe),_e+=Ut(.01*_e,oe);let Ie=$,Te=Z;for(;Ie<0;)Ie+=2*Math.PI,Te+=2*Math.PI;Te-Ie>2*Math.PI&&(Ie=0,Te=2*Math.PI);const $e=(Te-Ie)/oe.curveStepCount,He=[];for(let We=Ie;We<=Te;We+=$e)He.push([le+Ce*Math.cos(We),me+_e*Math.sin(We)]);return He.push([le+Ce*Math.cos(Te),me+_e*Math.sin(Te)]),He.push([le,me]),wl([He],oe)}(l,s,u,d,p,v,T));return T.stroke!==Ya&&_.push(L),this._d("arc",_,T)}curve(l,s){const u=this._o(s),d=[],p=Zr(l,u);if(u.fill&&u.fill!==Ya&&l.length>=3){const v=function(y,T=0){const _=y.length;if(_<3)throw new Error("A curve must have at least three points.");const L=[];if(_===3)L.push(Vu(y[0]),Vu(y[1]),Vu(y[2]),Vu(y[2]));else{const R=[];R.push(y[0],y[0]);for(let K=1;K<y.length;K++)R.push(y[K]),K===y.length-1&&R.push(y[K]);const j=[],z=1-T;L.push(Vu(R[0]));for(let K=1;K+2<R.length;K++){const $=R[K];j[0]=[$[0],$[1]],j[1]=[$[0]+(z*R[K+1][0]-z*R[K-1][0])/6,$[1]+(z*R[K+1][1]-z*R[K-1][1])/6],j[2]=[R[K+1][0]+(z*R[K][0]-z*R[K+2][0])/6,R[K+1][1]+(z*R[K][1]-z*R[K+2][1])/6],j[3]=[R[K+1][0],R[K+1][1]],L.push(j[1],j[2],j[3])}}return L}(l),w=qu(v,10,(1+u.roughness)/2);u.fillStyle==="solid"?d.push(qs([w],u)):d.push(wl([w],u))}return u.stroke!==Ya&&d.push(p),this._d("curve",d,u)}polygon(l,s){const u=this._o(s),d=[],p=Wu(l,!0,u);return u.fill&&(u.fillStyle==="solid"?d.push(qs([l],u)):d.push(wl([l],u))),u.stroke!==Ya&&d.push(p),this._d("polygon",d,u)}path(l,s){const u=this._o(s),d=[];if(!l)return this._d("path",d,u);l=(l||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const p=u.fill&&u.fill!=="transparent"&&u.fill!==Ya,v=u.stroke!==Ya,w=!!(u.simplification&&u.simplification<1),y=function(T,_,L){const R=Vs(Gs(v0(T))),j=[];let z=[],K=[0,0],$=[];const Z=()=>{$.length>=4&&z.push(...qu($,_)),$=[]},oe=()=>{Z(),z.length&&(j.push(z),z=[])};for(const{key:me,data:Ce}of R)switch(me){case"M":oe(),K=[Ce[0],Ce[1]],z.push(K);break;case"L":Z(),z.push([Ce[0],Ce[1]]);break;case"C":if(!$.length){const _e=z.length?z[z.length-1]:K;$.push([_e[0],_e[1]])}$.push([Ce[0],Ce[1]]),$.push([Ce[2],Ce[3]]),$.push([Ce[4],Ce[5]]);break;case"Z":Z(),z.push([K[0],K[1]])}if(oe(),!L)return j;const le=[];for(const me of j){const Ce=Pb(me,L);Ce.length&&le.push(Ce)}return le}(l,1,w?4-4*u.simplification:(1+u.roughness)/2);return p&&(u.fillStyle==="solid"?d.push(qs(y,u)):d.push(wl(y,u))),v&&(w?y.forEach(T=>{d.push(Wu(T,!1,u))}):d.push(function(T,_){const L=Vs(Gs(v0(T))),R=[];let j=[0,0],z=[0,0];for(const{key:K,data:$}of L)switch(K){case"M":{const Z=1*(_.maxRandomnessOffset||0),oe=_.preserveVertices;R.push({op:"move",data:$.map(le=>le+(oe?0:Ut(Z,_)))}),z=[$[0],$[1]],j=[$[0],$[1]];break}case"L":R.push(...xl(z[0],z[1],$[0],$[1],_)),z=[$[0],$[1]];break;case"C":{const[Z,oe,le,me,Ce,_e]=$;R.push(...Db(Z,oe,le,me,Ce,_e,z,_)),z=[Ce,_e];break}case"Z":R.push(...xl(z[0],z[1],j[0],j[1],_)),z=[j[0],j[1]]}return{type:"path",ops:R}}(l,u))),this._d("path",d,u)}opsToPath(l,s){let u="";for(const d of l.ops){const p=typeof s=="number"&&s>=0?d.data.map(v=>+v.toFixed(s)):d.data;switch(d.op){case"move":u+=`M${p[0]} ${p[1]} `;break;case"bcurveTo":u+=`C${p[0]} ${p[1]}, ${p[2]} ${p[3]}, ${p[4]} ${p[5]} `;break;case"lineTo":u+=`L${p[0]} ${p[1]} `}}return u.trim()}toPaths(l){const s=l.sets||[],u=l.options||this.defaultOptions,d=[];for(const p of s){let v=null;switch(p.type){case"path":v={d:this.opsToPath(p),stroke:u.stroke,strokeWidth:u.strokeWidth,fill:Ya};break;case"fillPath":v={d:this.opsToPath(p),stroke:Ya,strokeWidth:0,fill:u.fill||Ya};break;case"fillSketch":v=this.fillSketch(p,u)}v&&d.push(v)}return d}fillSketch(l,s){let u=s.fillWeight;return u<0&&(u=s.strokeWidth/2),{d:this.opsToPath(l),stroke:s.fill||Ya,strokeWidth:u,fill:Ya}}}class eg{constructor(l,s){this.canvas=l,this.ctx=this.canvas.getContext("2d"),this.gen=new hd(s)}draw(l){const s=l.sets||[],u=l.options||this.getDefaultOptions(),d=this.ctx,p=l.options.fixedDecimalPlaceDigits;for(const v of s)switch(v.type){case"path":d.save(),d.strokeStyle=u.stroke==="none"?"transparent":u.stroke,d.lineWidth=u.strokeWidth,u.strokeLineDash&&d.setLineDash(u.strokeLineDash),u.strokeLineDashOffset&&(d.lineDashOffset=u.strokeLineDashOffset),this._drawToContext(d,v,p),d.restore();break;case"fillPath":{d.save(),d.fillStyle=u.fill||"";const w=l.shape==="curve"||l.shape==="polygon"||l.shape==="path"?"evenodd":"nonzero";this._drawToContext(d,v,p,w),d.restore();break}case"fillSketch":this.fillSketch(d,v,u)}}fillSketch(l,s,u){let d=u.fillWeight;d<0&&(d=u.strokeWidth/2),l.save(),u.fillLineDash&&l.setLineDash(u.fillLineDash),u.fillLineDashOffset&&(l.lineDashOffset=u.fillLineDashOffset),l.strokeStyle=u.fill||"",l.lineWidth=d,this._drawToContext(l,s,u.fixedDecimalPlaceDigits),l.restore()}_drawToContext(l,s,u,d="nonzero"){l.beginPath();for(const p of s.ops){const v=typeof u=="number"&&u>=0?p.data.map(w=>+w.toFixed(u)):p.data;switch(p.op){case"move":l.moveTo(v[0],v[1]);break;case"bcurveTo":l.bezierCurveTo(v[0],v[1],v[2],v[3],v[4],v[5]);break;case"lineTo":l.lineTo(v[0],v[1])}}s.type==="fillPath"?l.fill(d):l.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(l,s,u,d,p){const v=this.gen.line(l,s,u,d,p);return this.draw(v),v}rectangle(l,s,u,d,p){const v=this.gen.rectangle(l,s,u,d,p);return this.draw(v),v}ellipse(l,s,u,d,p){const v=this.gen.ellipse(l,s,u,d,p);return this.draw(v),v}circle(l,s,u,d){const p=this.gen.circle(l,s,u,d);return this.draw(p),p}linearPath(l,s){const u=this.gen.linearPath(l,s);return this.draw(u),u}polygon(l,s){const u=this.gen.polygon(l,s);return this.draw(u),u}arc(l,s,u,d,p,v,w=!1,y){const T=this.gen.arc(l,s,u,d,p,v,w,y);return this.draw(T),T}curve(l,s){const u=this.gen.curve(l,s);return this.draw(u),u}path(l,s){const u=this.gen.path(l,s);return this.draw(u),u}}const x0="http://www.w3.org/2000/svg";class Rp{constructor(l,s){this.svg=l,this.gen=new hd(s)}draw(l){const s=l.sets||[],u=l.options||this.getDefaultOptions(),d=this.svg.ownerDocument||window.document,p=d.createElementNS(x0,"g"),v=l.options.fixedDecimalPlaceDigits;for(const w of s){let y=null;switch(w.type){case"path":y=d.createElementNS(x0,"path"),y.setAttribute("d",this.opsToPath(w,v)),y.setAttribute("stroke",u.stroke),y.setAttribute("stroke-width",u.strokeWidth+""),y.setAttribute("fill","none"),u.strokeLineDash&&y.setAttribute("stroke-dasharray",u.strokeLineDash.join(" ").trim()),u.strokeLineDashOffset&&y.setAttribute("stroke-dashoffset",`${u.strokeLineDashOffset}`);break;case"fillPath":y=d.createElementNS(x0,"path"),y.setAttribute("d",this.opsToPath(w,v)),y.setAttribute("stroke","none"),y.setAttribute("stroke-width","0"),y.setAttribute("fill",u.fill||""),l.shape!=="curve"&&l.shape!=="polygon"||y.setAttribute("fill-rule","evenodd");break;case"fillSketch":y=this.fillSketch(d,w,u)}y&&p.appendChild(y)}return p}fillSketch(l,s,u){let d=u.fillWeight;d<0&&(d=u.strokeWidth/2);const p=l.createElementNS(x0,"path");return p.setAttribute("d",this.opsToPath(s,u.fixedDecimalPlaceDigits)),p.setAttribute("stroke",u.fill||""),p.setAttribute("stroke-width",d+""),p.setAttribute("fill","none"),u.fillLineDash&&p.setAttribute("stroke-dasharray",u.fillLineDash.join(" ").trim()),u.fillLineDashOffset&&p.setAttribute("stroke-dashoffset",`${u.fillLineDashOffset}`),p}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(l,s){return this.gen.opsToPath(l,s)}line(l,s,u,d,p){const v=this.gen.line(l,s,u,d,p);return this.draw(v)}rectangle(l,s,u,d,p){const v=this.gen.rectangle(l,s,u,d,p);return this.draw(v)}ellipse(l,s,u,d,p){const v=this.gen.ellipse(l,s,u,d,p);return this.draw(v)}circle(l,s,u,d){const p=this.gen.circle(l,s,u,d);return this.draw(p)}linearPath(l,s){const u=this.gen.linearPath(l,s);return this.draw(u)}polygon(l,s){const u=this.gen.polygon(l,s);return this.draw(u)}arc(l,s,u,d,p,v,w=!1,y){const T=this.gen.arc(l,s,u,d,p,v,w,y);return this.draw(T)}curve(l,s){const u=this.gen.curve(l,s);return this.draw(u)}path(l,s){const u=this.gen.path(l,s);return this.draw(u)}}var Xs={canvas:(a,l)=>new eg(a,l),svg:(a,l)=>new Rp(a,l),generator:a=>new hd(a),newSeed:()=>hd.newSeed()};function pd(a){var l,s,u="";if(typeof a=="string"||typeof a=="number")u+=a;else if(typeof a=="object")if(Array.isArray(a))for(l=0;l<a.length;l++)a[l]&&(s=pd(a[l]))&&(u&&(u+=" "),u+=s);else for(l in a)a[l]&&(u&&(u+=" "),u+=l);return u}function Cr(){for(var a,l,s=0,u="";s<arguments.length;)(a=arguments[s++])&&(l=pd(a))&&(u&&(u+=" "),u+=l);return u}let Vl=(a=21)=>{let l="",s=crypto.getRandomValues(new Uint8Array(a));for(;a--;){let u=63&s[a];l+=u<36?u.toString(36):u<62?(u-26).toString(36).toUpperCase():u<63?"_":"-"}return l};var lo=function(a){return!!a&&a.type==="image"&&!!a.fileId},Yu=function(a){return!!a&&a.type==="image"},Lr=function(a){return a!=null&&a.type==="text"},No=function(a){return a!=null&&tg(a.type)},tg=function(a){return a==="freedraw"},on=function(a){return a!=null&&ql(a.type)},ql=function(a){return a==="arrow"||a==="line"},hi=function(a){return a!=null&&rg(a.type)},rg=function(a){return a==="arrow"},k0=function(a){return a!=null&&(a.type==="rectangle"||a.type==="diamond"||a.type==="ellipse"||a.type==="image"||a.type==="text"&&!a.containerId)},md=function(a){var l;return k0(a)&&!((l=a.boundElements)===null||l===void 0||!l.some(function(s){return s.type==="text"}))},Pi=function(a){return a!==null&&Lr(a)&&a.containerId!==null},Sr=function(a,l,s,u,d){return[(a-s)*Math.cos(d)-(l-u)*Math.sin(d)+s,(a-s)*Math.sin(d)+(l-u)*Math.cos(d)+u]},C0=function(a,l,s){return Sr(a[0],a[1],l[0],l[1],s)},Fp=function(a,l,s,u,d,p,v,w){var y=Math.cos(u),T=Math.sin(u);return a.e&&a.w?l+=d+v:a.e?(l+=d*(1+y),s+=d*T,l+=v*(1-y),s+=v*-T):a.w&&(l+=d*(1-y),s+=d*-T,l+=v*(1+y),s+=v*T),a.n&&a.s?s+=p+w:a.n?(l+=p*T,s+=p*(1-y),l+=w*-T,s+=w*(1+y)):a.s&&(l+=p*-T,s+=p*(1+y),l+=w*T,s+=w*(1-y)),[l,s]},Ni=function(a,l,s,u){var d=s-a,p=u-l;return Math.hypot(d,p)},Yl=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(a.length>=3){var s=[a[0],a[a.length-1]],u=s[0],d=s[1],p=Ni(u[0],u[1],d[0],d[1]);return p<=I.qx/l}return!1},ln=function(a,l,s){var u=a.length;if(u<3)return!1;for(var d=[Number.MAX_SAFE_INTEGER,s],p=[l,s],v=0,w=0;w<u;w++){var y=a[w],T=a[(w+1)%u];if(Nb(y,T,p,d)){if(S0(y,p,T)===0)return Hr(y,p,T);v++}}return v%2==1},Hr=function(a,l,s){return l[0]<=Math.max(a[0],s[0])&&l[0]>=Math.min(a[0],s[0])&&l[1]<=Math.max(a[1],s[1])&&l[1]>=Math.min(a[1],s[1])},S0=function(a,l,s){var u=(l[1]-a[1])*(s[0]-l[0])-(l[0]-a[0])*(s[1]-l[1]);return u===0?0:u>0?1:2},Nb=function(a,l,s,u){var d=S0(a,l,s),p=S0(a,l,u),v=S0(s,u,a),w=S0(s,u,l);return d!==p&&v!==w||!(d!==0||!Hr(a,s,l))||!(p!==0||!Hr(a,u,l))||!(v!==0||!Hr(s,a,u))||!(w!==0||!Hr(s,l,u))},ji=function(a,l,s){return s?[Math.round(a/s)*s,Math.round(l/s)*s]:[a,l]},ng=function(a){var l=a.map(function(u){return u[0]}),s=a.map(function(u){return u[1]});return{width:Math.max.apply(Math,Ne(l))-Math.min.apply(Math,Ne(l)),height:Math.max.apply(Math,Ne(s))-Math.min.apply(Math,Ne(s))}},vd=function(a,l,s){var u=s.map(function(L){return L[a]}),d=Math.max.apply(Math,Ne(u)),p=Math.min.apply(Math,Ne(u)),v=d-p,w=v===0?1:l/v,y=1/0,T=s.map(function(L){return L.map(function(R,j){if(j!==a)return R;var z=R*w;return y=Math.min(z,y),z})});if(T.length===2)return T;var _=p-y;return T.map(function(L){return L.map(function(R,j){return j===a?R+_:R})})};function oa(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return zp(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return zp(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function zp(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}var wr=function(a){return No(a)?ag(a):on(a)?ig(a):[a.x,a.y,a.x+a.width,a.y+a.height]},Xl=function(a){var l,s=oa(a.sets);try{for(s.s();!(l=s.n()).done;){var u=l.value;if(u.type==="path")return u.ops}}catch(d){s.e(d)}finally{s.f()}return a.sets[0].ops},Xu=function(a,l){var s=[0,0],u=a.reduce(function(d,p){var v=p.op,w=p.data;if(v==="move")s=w;else if(v==="bcurveTo"){var y=[w[0],w[1]],T=[w[2],w[3]],_=[w[4],w[5]],L=s;s=_;for(var R=function(Z,oe){return Math.pow(1-Z,3)*_[oe]+3*Z*Math.pow(1-Z,2)*T[oe]+3*Math.pow(Z,2)*(1-Z)*y[oe]+L[oe]*Math.pow(Z,3)},j=0;j<=1;){var z=R(j,0),K=R(j,1);if(l){var $=W(l(z,K),2);z=$[0],K=$[1]}d.minY=Math.min(d.minY,K),d.minX=Math.min(d.minX,z),d.maxX=Math.max(d.maxX,z),d.maxY=Math.max(d.maxY,K),j+=.1}}return d},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[u.minX,u.minY,u.maxX,u.maxY]},Xa=function(a){var l,s=1/0,u=1/0,d=-1/0,p=-1/0,v=oa(a);try{for(v.s();!(l=v.n()).done;){var w=W(l.value,2),y=w[0],T=w[1];s=Math.min(s,y),u=Math.min(u,T),d=Math.max(d,y),p=Math.max(p,T)}}catch(_){v.e(_)}finally{v.f()}return[s,u,d,p]},ag=function(a){var l=W(Xa(a.points),4),s=l[0],u=l[1],d=l[2],p=l[3];return[s+a.x,u+a.y,d+a.x,p+a.y]},ig=function(a){var l;if(a.points.length<2||!Fn(a)){var s=a.points.reduce(function(z,K){var $=W(K,2),Z=$[0],oe=$[1];return z.minY=Math.min(z.minY,oe),z.minX=Math.min(z.minX,Z),z.maxX=Math.max(z.maxX,Z),z.maxY=Math.max(z.maxY,oe),z},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),u=s.minX,d=s.minY,p=s.maxX,v=s.maxY;l=[u+a.x,d+a.y,p+a.x,v+a.y]}else{var w=Fn(a),y=Xl(w[0]),T=W(Xu(y),4),_=T[0],L=T[1],R=T[2],j=T[3];l=[_+a.x,L+a.y,R+a.x,j+a.y]}return l},Zu=function(a){var l,s=W(wr(a),4),u=s[0],d=s[1],p=s[2],v=s[3],w=(u+p)/2,y=(d+v)/2;if(No(a)){var T=Xa(a.points.map(function(hr){var un=W(hr,2),Tn=un[0],Ua=un[1];return Sr(Tn,Ua,w-a.x,y-a.y,a.angle)})),_=W(T,4),L=_[0],R=_[1],j=_[2],z=_[3];return[L+a.x,R+a.y,j+a.x,z+a.y]}if(on(a))l=function(hr,un,Tn){if(hr.points.length<2||!Fn(hr)){var Ua=hr.points.reduce(function(ot,Lt){var Ft=W(Lt,2),rr=Ft[0],zr=Ft[1],cn=W(Sr(hr.x+rr,hr.y+zr,un,Tn,hr.angle),2);return rr=cn[0],zr=cn[1],ot.minY=Math.min(ot.minY,zr),ot.minX=Math.min(ot.minX,rr),ot.maxX=Math.max(ot.maxX,rr),ot.maxY=Math.max(ot.maxY,zr),ot},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[Ua.minX,Ua.minY,Ua.maxX,Ua.maxY]}var yi=Fn(hr),$i=Xl(yi[0]);return Xu($i,function(ot,Lt){return Sr(hr.x+ot,hr.y+Lt,un,Tn,hr.angle)})}(a,w,y);else if(a.type==="diamond"){var K=W(Sr(w,d,w,y,a.angle),2),$=K[0],Z=K[1],oe=W(Sr(w,v,w,y,a.angle),2),le=oe[0],me=oe[1],Ce=W(Sr(u,y,w,y,a.angle),2),_e=Ce[0],Ie=Ce[1],Te=W(Sr(p,y,w,y,a.angle),2),$e=Te[0],He=Te[1];l=[Math.min($,le,_e,$e),Math.min(Z,me,Ie,He),Math.max($,le,_e,$e),Math.max(Z,me,Ie,He)]}else if(a.type==="ellipse"){var We=(p-u)/2,Ee=(v-d)/2,rt=Math.cos(a.angle),Xe=Math.sin(a.angle),qe=Math.hypot(We*rt,Ee*Xe),at=Math.hypot(Ee*rt,We*Xe);l=[w-qe,y-at,w+qe,y+at]}else{var et=W(Sr(u,d,w,y,a.angle),2),Le=et[0],dt=et[1],mt=W(Sr(u,v,w,y,a.angle),2),bt=mt[0],ut=mt[1],Dt=W(Sr(p,v,w,y,a.angle),2),lr=Dt[0],Ar=Dt[1],Qr=W(Sr(p,d,w,y,a.angle),2),br=Qr[0],qr=Qr[1];l=[Math.min(Le,bt,lr,br),Math.min(dt,ut,Ar,qr),Math.max(Le,bt,lr,br),Math.max(dt,ut,Ar,qr)]}return l},qn=function(a){if(!a.length)return[0,0,0,0];var l=1/0,s=-1/0,u=1/0,d=-1/0;return a.forEach(function(p){var v=W(Zu(p),4),w=v[0],y=v[1],T=v[2],_=v[3];l=Math.min(l,w),u=Math.min(u,y),s=Math.max(s,T),d=Math.max(d,_)}),[l,u,s,d]},Zs=function(a,l,s){if(!on(a)&&!No(a))return[a.x,a.y,a.x+l,a.y+s];var u,d=vd(0,l,vd(1,s,a.points));if(No(a))u=Xa(d);else{var p=Xs.generator(),v=a.strokeSharpness==="sharp"?p.linearPath(d,zn(a)):p.curve(d,zn(a)),w=Xl(v);u=Xu(w)}var y=W(u,4),T=y[0],_=y[1],L=y[2],R=y[3];return[T+a.x,_+a.y,L+a.x,R+a.y]},Bp=function(a,l,s){var u=Xs.generator(),d=s==="sharp"?u.linearPath(l,zn(a)):u.curve(l,zn(a)),p=Xl(d),v=W(Xu(p),4),w=v[0],y=v[1],T=v[2],_=v[3];return[w+a.x,y+a.y,T+a.x,_+a.y]},Ma=function(a){var l=W(qn(a),4),s=l[0],u=l[1],d=l[2],p=l[3];return{minX:s,minY:u,maxX:d,maxY:p,width:d-s,height:p-u,midX:(s+d)/2,midY:(u+p)/2}},fr=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}'),Za=function(a){return[fr.red[a],fr.pink[a],fr.grape[a],fr.violet[a],fr.indigo[a],fr.blue[a],fr.cyan[a],fr.teal[a],fr.green[a],fr.lime[a],fr.yellow[a],fr.orange[a]]},Zl={canvasBackground:[fr.white,fr.gray[0],fr.gray[1]].concat(Ne(Za(0))),elementBackground:["transparent",fr.gray[4],fr.gray[6]].concat(Ne(Za(6))),elementStroke:[fr.black,fr.gray[8],fr.gray[7]].concat(Ne(Za(9)))},kl=g(5156),va=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),E0=/^Win/.test(window.navigator.platform),gd=/\b(android)\b/i.test(navigator.userAgent),wn="Equal",Ql="Minus",Hp="NumpadAdd",jb="NumpadSubtract",Up="Numpad0",yd="BracketRight",Qu="BracketLeft",bd="Digit1",Ju="Digit2",Rb="Quote",Kp="Digit0",og="Slash",wd="KeyC",Wp="KeyD",$p="KeyG",Gp="KeyF",Vp="KeyH",qp="KeyV",pi="KeyX",Yp="KeyZ",_0="KeyR",Be={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:va?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",D:"d",E:"e",G:"g",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k"},ec=function(a){return a===Be.ARROW_LEFT||a===Be.ARROW_RIGHT||a===Be.ARROW_DOWN||a===Be.ARROW_UP},Xp=function(a){return a.altKey},T0=function(a){return a.shiftKey},lg=function(a){return a.shiftKey},Fb=function(){var a=new Date,l=a.getFullYear(),s="".concat(a.getMonth()+1).padStart(2,"0"),u="".concat(a.getDate()).padStart(2,"0"),d="".concat(a.getHours()).padStart(2,"0"),p="".concat(a.getMinutes()).padStart(2,"0");return"".concat(l,"-").concat(s,"-").concat(u,"-").concat(d).concat(p)},jo=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},Ro=function(a){return a instanceof HTMLElement&&a.dataset.type==="wysiwyg"||a instanceof HTMLBRElement||a instanceof HTMLTextAreaElement||a instanceof HTMLInputElement&&(a.type==="text"||a.type==="number")},O0=function(a){for(var l=a.fontFamily,s=0,u=Object.entries(I.ut);s<u.length;s++){var d=W(u[s],2),p=d[0];if(d[1]===l)return"".concat(p,", ").concat(I._D)}return I._D},hn=function(a){var l=a.fontSize,s=a.fontFamily;return"".concat(l,"px ").concat(O0({fontFamily:s}))},tc=function(a,l){var s=0,u=null,d=function(){for(var p=arguments.length,v=new Array(p),w=0;w<p;w++)v[w]=arguments[w];u=v,clearTimeout(s),s=window.setTimeout(function(){u=null,a.apply(void 0,v)},l)};return d.flush=function(){if(clearTimeout(s),u){var p=u;u=null,a.apply(void 0,Ne(p))}},d.cancel=function(){u=null,clearTimeout(s)},d},zb=function(a,l){if(!a.length||l<1)return[];for(var s=0,u=0,d=Array(Math.ceil(a.length/l));s<a.length;)d[u++]=a.slice(s,s+=l);return d},ga=function(a,l){return Math.abs(a-l)},Yn=function(a){a&&(a.style.cursor="")},En=function(a,l){a&&(a.style.cursor=l)},Jl=function(a,l){a&&(l==="selection"?Yn(a):l!=="image"&&(a.style.cursor=I.oc.CROSSHAIR))},A0=function(){var a;return((a=document.fullscreenElement)===null||a===void 0?void 0:a.nodeName)==="HTML"},ce=function(a){return a=a.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),va?a.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):a.replace(/\bCtrlOrCmd\b/i,"Ctrl")},je=function(a,l){var s=a.clientX,u=a.clientY,d=l.zoom,p=l.offsetLeft,v=l.offsetTop,w=l.scrollX,y=l.scrollY,T=1/d.value;return{x:(s-p)*T-w,y:(u-v)*T-y}},Ge=function(a,l){var s=a.sceneX,u=a.sceneY,d=l.zoom,p=l.offsetLeft,v=l.offsetTop,w=l.scrollX,y=l.scrollY;return{x:(s+w)*d.value+p,y:(u+y)*d.value+v}},pt=function(a){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(a))},or=new RegExp("^[^".concat("A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF","]*[").concat("\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC","]")),Or=function(a){return or.test(a)},sn=function(a){var l=W(a,2);return{x:l[0],y:l[1]}},Ri=function(a){if((a==null?void 0:a.name)!=="AbortError")throw a;console.warn(a)},Gr=function(a){var l=a.length===5&&a.substr(4,1)==="0",s=a.length===9&&a.substr(7,2)==="00";return l||s||a===Zl.elementBackground[0]},pn=function(a){return function(l){(0,kl.unstable_batchedUpdates)(a,l)}},Zp=function(a){return l=function(v){(0,kl.unstable_batchedUpdates)(a,v)},s=null,u=null,d=null,p=function(){for(var v=arguments.length,w=new Array(v),y=0;y<v;y++)w[y]=arguments[y];u=w,d=l,s===null&&(s=window.requestAnimationFrame(function(){s=null,u=null,d=null,l.apply(void 0,w)}))},p.flush=function(){if(s!==null&&(cancelAnimationFrame(s),s=null),u){var v=u,w=d;u=null,d=null,w!==null&&w.apply(void 0,Ne(v))}},p.cancel=function(){u=null,d=null,s!==null&&(cancelAnimationFrame(s),s=null)},p;var l,s,u,d,p},ya=function(){return M0()?1:Date.now()},Ia=function(a){return a.reduce(function(l,s){return l.set(typeof s=="string"?s:s.id,s),l},new Map)},M0=function(){var a;return typeof process!="undefined"&&((a={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_SOCKET_SERVER_URL:"https://oss-collab-us1.excalidraw.com",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13"})===null||a===void 0?void 0:a.NODE_ENV)==="test"},Qs=function(a,l){return new CustomEvent(a,{detail:{nativeEvent:l},cancelable:!0})};function xd(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return I0(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return I0(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function I0(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}var Vr=I.ZB.includes(devicePixelRatio)?devicePixelRatio:1,Js=function(){return{theme:I.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:I.rk,currentItemFontSize:I.n5,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:fr.black,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:I.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:Vr,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat(G("labels.untitled"),"-").concat(Fb()),openMenu:null,openPopup:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:fr.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElement:null,showHyperlinkPopup:!1}},sg={theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeSharpness:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},elementLocked:{browser:!0,export:!1,server:!1},elementType:{browser:!0,export:!1,server:!1},penMode:{browser:!1,export:!1,server:!1},penDetected:{browser:!1,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isLibraryOpen:{browser:!1,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showHelpDialog:{browser:!1,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toastMessage:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElement:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1}},D0=function(a,l){var s,u={},d=xd(Object.keys(a));try{for(d.s();!(s=d.n()).done;){var p=s.value,v=sg[p];if(v!=null&&v[l]){var w=a[p];u[p]=w}}}catch(y){d.e(y)}finally{d.f()}return u},ug=function(a){return D0(a,"export")},Bb=function(a){return D0(a,"server")};function cg(a,l,s,u=d=>d){return a*u(.5-l*(.5-s))}function Qa(a,l){return[a[0]+l[0],a[1]+l[1]]}function ea(a,l){return[a[0]-l[0],a[1]-l[1]]}function Ja(a,l){return[a[0]*l,a[1]*l]}function rc(a){return[a[1],-a[0]]}function kd(a,l){return a[0]*l[0]+a[1]*l[1]}function fg(a,l){return a[0]===l[0]&&a[1]===l[1]}function Qp(a,l){return function(s){return s[0]*s[0]+s[1]*s[1]}(ea(a,l))}function L0(a){return function(l,s){return[l[0]/s,l[1]/s]}(a,function(l){return Math.hypot(l[0],l[1])}(a))}function dg(a,l){return Math.hypot(a[1]-l[1],a[0]-l[0])}function Cl(a,l,s){let u=Math.sin(s),d=Math.cos(s),p=a[0]-l[0],v=a[1]-l[1],w=p*u+v*d;return[p*d-v*u+l[0],w+l[1]]}function Sl(a,l,s){return Qa(a,Ja(ea(l,a),s))}function P0(a,l,s){return Qa(a,Ja(l,s))}var{min:nc,PI:Hb}=Math,N0=Hb+1e-4;function Cd(a,l={}){return function(s,u={}){let{size:d=16,smoothing:p=.5,thinning:v=.5,simulatePressure:w=!0,easing:y=Le=>Le,start:T={},end:_={},last:L=!1}=u,{cap:R=!0,taper:j=0,easing:z=Le=>Le*(2-Le)}=T,{cap:K=!0,taper:$=0,easing:Z=Le=>--Le*Le*Le+1}=_;if(s.length===0||d<=0)return[];let oe,le=s[s.length-1].runningLength,me=Math.pow(d*p,2),Ce=[],_e=[],Ie=s.slice(0,10).reduce((Le,dt)=>{let mt=dt.pressure;if(w){let bt=nc(1,dt.distance/d),ut=nc(1,1-bt);mt=nc(1,Le+.275*bt*(ut-Le))}return(Le+mt)/2},s[0].pressure),Te=cg(d,v,s[s.length-1].pressure,y),$e=s[0].vector,He=s[0].point,We=He,Ee=He,rt=We;for(let Le=0;Le<s.length;Le++){let{pressure:dt}=s[Le],{point:mt,vector:bt,distance:ut,runningLength:Dt}=s[Le];if(Le<s.length-1&&le-Dt<3)continue;if(v){if(w){let hr=nc(1,ut/d),un=nc(1,1-hr);dt=nc(1,Ie+.275*hr*(un-Ie))}Te=cg(d,v,dt,y)}else Te=d/2;oe===void 0&&(oe=Te);let lr=Dt<j?z(Dt/j):1,Ar=le-Dt<$?Z((le-Dt)/$):1;if(Te=Math.max(.01,Te*Math.min(lr,Ar)),Le===s.length-1){let hr=Ja(rc(bt),Te);Ce.push(ea(mt,hr)),_e.push(Qa(mt,hr));continue}let Qr=s[Le+1].vector,br=kd(bt,Qr);if(br<0){let hr=Ja(rc($e),Te);for(let un=.07692307692307693,Tn=0;Tn<=1;Tn+=un)Ee=Cl(ea(mt,hr),mt,N0*Tn),Ce.push(Ee),rt=Cl(Qa(mt,hr),mt,N0*-Tn),_e.push(rt);He=Ee,We=rt;continue}let qr=Ja(rc(Sl(Qr,bt,br)),Te);Ee=ea(mt,qr),(Le<=1||Qp(He,Ee)>me)&&(Ce.push(Ee),He=Ee),rt=Qa(mt,qr),(Le<=1||Qp(We,rt)>me)&&(_e.push(rt),We=rt),Ie=dt,$e=bt}let Xe=s[0].point.slice(0,2),qe=s.length>1?s[s.length-1].point.slice(0,2):Qa(s[0].point,[1,1]),at=[],et=[];if(s.length===1){if(!j&&!$||L){let Le=P0(Xe,L0(rc(ea(Xe,qe))),-(oe||Te)),dt=[];for(let mt=.07692307692307693,bt=mt;bt<=1;bt+=mt)dt.push(Cl(Le,Xe,2*N0*bt));return dt}}else{if(!(j||$&&s.length===1))if(R)for(let dt=.07692307692307693,mt=dt;mt<=1;mt+=dt){let bt=Cl(_e[0],Xe,N0*mt);at.push(bt)}else{let dt=ea(Ce[0],_e[0]),mt=Ja(dt,.5),bt=Ja(dt,.51);at.push(ea(Xe,mt),ea(Xe,bt),Qa(Xe,bt),Qa(Xe,mt))}let Le=rc(function(dt){return[-dt[0],-dt[1]]}(s[s.length-1].vector));if($||j&&s.length===1)et.push(qe);else if(K){let dt=P0(qe,Le,Te);for(let mt=.034482758620689655,bt=mt;bt<1;bt+=mt)et.push(Cl(dt,qe,3*N0*bt))}else et.push(Qa(qe,Ja(Le,Te)),Qa(qe,Ja(Le,.99*Te)),ea(qe,Ja(Le,.99*Te)),ea(qe,Ja(Le,Te)))}return Ce.concat(et,_e.reverse(),at)}(function(s,u={}){var d;let{streamline:p=.5,size:v=16,last:w=!1}=u;if(s.length===0)return[];let y=.15+.85*(1-p),T=Array.isArray(s[0])?s:s.map(({x:K,y:$,pressure:Z=.5})=>[K,$,Z]);if(T.length===2){let K=T[1];T=T.slice(0,-1);for(let $=1;$<5;$++)T.push(Sl(T[0],K,$/4))}T.length===1&&(T=[...T,[...Qa(T[0],[1,1]),...T[0].slice(2)]]);let _=[{point:[T[0][0],T[0][1]],pressure:T[0][2]>=0?T[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],L=!1,R=0,j=_[0],z=T.length-1;for(let K=1;K<T.length;K++){let $=w&&K===z?T[K].slice(0,2):Sl(j.point,T[K],y);if(fg(j.point,$))continue;let Z=dg($,j.point);if(R+=Z,K<z&&!L){if(R<v)continue;L=!0}j={point:$,pressure:T[K][2]>=0?T[K][2]:.5,vector:L0(ea(j.point,$)),distance:Z,runningLength:R},_.push(j)}return _[0].vector=((d=_[1])==null?void 0:d.vector)||[0,0],_}(a,l),l)}var j0=function(a){return typeof a=="string"},R0=function(){function a(){Ke(this,a),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return At(a,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(l){return this.elementsMap.get(l)||null}},{key:"getNonDeletedElement",value:function(l){var s=this.getElement(l);return s&&Ye(s)?s:null}},{key:"getNonDeletedElements",value:function(l){var s=this,u=[];return l.forEach(function(d){var p=s.getNonDeletedElement(d);p!=null&&u.push(p)}),u}},{key:"replaceAllElements",value:function(l){var s=this;this.elements=l,this.elementsMap.clear(),l.forEach(function(u){s.elementsMap.set(u.id,u),a.mapElementToScene(u,s)}),this.nonDeletedElements=ge(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var l=0,s=Array.from(this.callbacks);l<s.length;l++)(0,s[l])()}},{key:"addCallback",value:function(l){var s=this;if(this.callbacks.has(l))throw new Error;return this.callbacks.add(l),function(){if(!s.callbacks.has(l))throw new Error;s.callbacks.delete(l)}}},{key:"destroy",value:function(){var l=this;a.sceneMapById.forEach(function(s,u){s===l&&a.sceneMapById.delete(u)}),this.callbacks.clear()}}],[{key:"mapElementToScene",value:function(l,s){j0(l)?this.sceneMapById.set(l,s):this.sceneMapByElement.set(l,s)}},{key:"getScene",value:function(l){return j0(l)?this.sceneMapById.get(l)||null:this.sceneMapByElement.get(l)||null}}]),a}();R0.sceneMapByElement=new WeakMap,R0.sceneMapById=new Map;var Jp,es,mn=R0,Sd=function(a,l,s){var u=l?l.width-2*I.gK:void 0,d=a.text;l&&(d=ts(a.originalText,hn(a),l.width));var p=El(a.originalText,hn(a),u),v=a.y;if(l){v=l.y+l.height/2-p.height/2;var w=l.height;p.height>l.height-2*I.gK&&(w=p.height+2*I.gK,v=l.y+w/2-p.height/2),vt(l,{height:w})}vt(a,{width:p.width,height:p.height,baseline:p.baseline,y:v,text:d})},Rn=function(a,l,s){var u=Ia(a);l.forEach(function(d){var p=s.get(d.id),v=ei(d);if(v){var w,y=s.get(v);vt(u.get(p),{boundElements:(w=d.boundElements)===null||w===void 0?void 0:w.concat({type:"text",id:y})}),vt(u.get(y),{containerId:p})}})},ba=function(a,l){a.forEach(function(s){var u=ei(s);if(u){var d=mn.getScene(s).getElement(u);if(d&&d.text){if(!s)return;var p=d.text,v=d.height,w=s.height,y=d.baseline;if(l!=="n"&&l!=="s"){p&&(p=ts(d.originalText,hn(d),s.width));var T=El(p,hn(d),s.width);v=T.height,y=T.baseline}if(v>s.height-2*I.gK){var _=(w=v+2*I.gK)-s.height,L=l==="ne"||l==="nw"||l==="n"?s.y-_:s.y;vt(s,{height:w,y:L})}var R=s.y+w/2-v/2;vt(d,{text:p,width:s.width-2*I.gK,height:v,x:s.x+I.gK,y:R,baseline:y})}}})},El=function(a,l,s){a=a.split(`
`).map(function(T){return T||" "}).join(`
`);var u=document.createElement("div");if(u.style.position="absolute",u.style.whiteSpace="pre",u.style.font=l,u.style.minHeight="1em",s){var d=F0(l);u.style.width="".concat(String(s),"px"),u.style.maxWidth="".concat(String(s),"px"),u.style.overflow="hidden",u.style.wordBreak="break-word",u.style.lineHeight="".concat(String(d),"px"),u.style.whiteSpace="pre-wrap"}document.body.appendChild(u),u.innerText=a;var p=document.createElement("span");p.style.display="inline-block",p.style.overflow="hidden",p.style.width="1px",p.style.height="1px",u.appendChild(p);var v=p.offsetTop+p.offsetHeight,w=u.offsetWidth,y=u.offsetHeight;return document.body.removeChild(u),{width:w,height:y,baseline:v}},hg="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),Ed={},F0=function(a){return Ed[a]||(Ed[a]=El(hg,a,null).height),Ed[a]},ac=function(a,l){Jp||(Jp=document.createElement("canvas"));var s=Jp.getContext("2d");s.font=l;var u=s.measureText(a);return M0()?10*u.width:u.width},ts=function(a,l,s){var u=s-2*I.gK,d=[],p=a.split(`
`),v=ac(" ",l);return p.forEach(function(w){var y=w.split(" ");if(y.length===1&&y[0]==="")d.push(y[0]);else{for(var T="",_=0,L=0;L<y.length;)if(ac(y[L],l)>=u){for(T&&d.push(T),T="",_=0;y[L].length>0;){var R=y[L][0],j=_d.calculate(R,l);_+=j,y[L]=y[L].slice(1),_>=u?(T.slice(-1)===" "&&(T=T.slice(0,-1)),d.push(T),T=R,(_=j)===u&&(T="",_=0)):T+=R}_+v>=u?(d.push(T),T="",_=0):(T+=" ",_+=v),L++}else{for(;_<u&&L<y.length;){var z=y[L];if((_=ac(T+z,l))>=u){d.push(T),_=0,T="";break}if(L++,T+="".concat(z," "),_+v>=u){d.push(T.slice(0,-1)),T="",_=0;break}}_===u&&(T="",_=0)}T&&(T.slice(-1)===" "&&(T=T.slice(0,-1)),d.push(T))}}),d.join(`
`)},_d=(es={},{calculate:function(a,l){var s=a.charCodeAt(0);if(es[l]||(es[l]=[]),!es[l][s]){var u=ac(a,l);es[l][s]=u}return es[l][s]},getCache:function(a){return es[a]}}),eu=function(a){var l=z0(a);return l===0?El(hg.split("").join(`
`),a).width+2*I.gK:l+2*I.gK},z0=function(a){var l=_d.getCache(a);if(!l)return 0;var s=l.filter(function(u){return u!==void 0});return Math.min.apply(Math,Ne(s))},ei=function(a){var l,s;return a==null||(l=a.boundElements)===null||l===void 0||(s=l.filter(function(u){return u.type==="text"})[0])===null||s===void 0?void 0:s.id},rs=function(a){if(!a)return null;var l,s=ei(a);return s&&((l=mn.getScene(a))===null||l===void 0?void 0:l.getElement(s))||null},Ra=function(a){return a&&a.containerId&&((l=mn.getScene(a))===null||l===void 0?void 0:l.getElement(a.containerId))||null;var l};function pg(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function ns(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?pg(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):pg(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var mg="invert(100%) hue-rotate(180deg) saturate(1.25)",Ub=Js(),vg=function(a,l){return lo(a)&&!l.imageCache.has(a.fileId)},B0=function(a,l){var s;return l.theme==="dark"&&lo(a)&&!vg(a,l)&&((s=l.imageCache.get(a.fileId))===null||s===void 0?void 0:s.mimeType)!==I.LO.svg},H0=function(a){return[8,8+a]},e1=function(a){return[1.5,6+a]},J=function(a){return a.type==="freedraw"?12*a.strokeWidth:20},tu=document.createElement("img");tu.src="data:".concat(I.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var U0=document.createElement("img");U0.src="data:".concat(I.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var ti=function(a,l,s,u){switch(s.globalAlpha=a.opacity/100,a.type){case"rectangle":case"diamond":case"ellipse":s.lineJoin="round",s.lineCap="round",l.draw(Fn(a));break;case"arrow":case"line":s.lineJoin="round",s.lineCap="round",Fn(a).forEach(function(K){l.draw(K)});break;case"freedraw":s.save(),s.fillStyle=a.strokeColor;var d=function(K){return G0.get(K)}(a),p=Fn(a);p&&l.draw(p),s.fillStyle=a.strokeColor,s.fill(d),s.restore();break;case"image":var v,w=lo(a)?(v=u.imageCache.get(a.fileId))===null||v===void 0?void 0:v.image:void 0;w==null||w instanceof Promise?function(K,$,Z){$.fillStyle="#E7E7E7",$.fillRect(0,0,K.width,K.height);var oe=Math.min(K.width,K.height),le=Math.min(oe,Math.min(.4*oe,100));$.drawImage(K.status==="error"?U0:tu,K.width/2-le/2,K.height/2-le/2,le,le)}(a,s,u.zoom.value):s.drawImage(w,0,0,a.width,a.height);break;default:if(!Lr(a))throw new Error("Unimplemented type ".concat(a.type));var y=Or(a.text),T=y&&!s.canvas.isConnected;T&&document.body.appendChild(s.canvas),s.canvas.setAttribute("dir",y?"rtl":"ltr"),s.save(),s.font=hn(a),s.fillStyle=a.strokeColor,s.textAlign=a.textAlign;for(var _=a.text.replace(/\r\n?/g,`
`).split(`
`),L=a.containerId?F0(hn(a)):a.height/_.length,R=a.height-a.baseline,j=a.textAlign==="center"?a.width/2:a.textAlign==="right"?a.width:0,z=0;z<_.length;z++)s.fillText(_[z],j,(z+1)*L-R);s.restore(),T&&s.canvas.remove()}s.globalAlpha=1},Er=new WeakMap,Fo=new WeakMap,Fn=function(a){return Fo.get(a)},ri=function(a,l){return Fo.set(a,l)},so=function(a){return Fo.delete(a)},zn=function(a){var l=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s={seed:a.seed,strokeLineDash:a.strokeStyle==="dashed"?H0(a.strokeWidth):a.strokeStyle==="dotted"?e1(a.strokeWidth):void 0,disableMultiStroke:a.strokeStyle!=="solid",strokeWidth:a.strokeStyle!=="solid"?a.strokeWidth+.5:a.strokeWidth,fillWeight:a.strokeWidth/2,hachureGap:4*a.strokeWidth,roughness:a.roughness,stroke:a.strokeColor,preserveVertices:l};switch(a.type){case"rectangle":case"diamond":case"ellipse":return s.fillStyle=a.fillStyle,s.fill=a.backgroundColor==="transparent"?void 0:a.backgroundColor,a.type==="ellipse"&&(s.curveFitting=1),s;case"line":case"freedraw":return Yl(a.points)&&(s.fillStyle=a.fillStyle,s.fill=a.backgroundColor==="transparent"?void 0:a.backgroundColor),s;case"arrow":return s;default:throw new Error("Unimplemented type ".concat(a.type))}},K0=function(a,l){var s=Fo.get(a);if(s===void 0)switch(Er.delete(a),a.type){case"rectangle":if(a.strokeSharpness==="round"){var u=a.width,d=a.height,p=.25*Math.min(u,d);s=l.path("M ".concat(p," 0 L ").concat(u-p," 0 Q ").concat(u," 0, ").concat(u," ").concat(p," L ").concat(u," ").concat(d-p," Q ").concat(u," ").concat(d,", ").concat(u-p," ").concat(d," L ").concat(p," ").concat(d," Q 0 ").concat(d,", 0 ").concat(d-p," L 0 ").concat(p," Q 0 0, ").concat(p," 0"),zn(a,!0))}else s=l.rectangle(0,0,a.width,a.height,zn(a));ri(a,s);break;case"diamond":var v=function(We){var Ee=Math.floor(We.width/2)+1,rt=We.width,Xe=Math.floor(We.height/2)+1;return[Ee,0,rt,Xe,Ee,We.height,0,Xe]}(a),w=W(v,8),y=w[0],T=w[1],_=w[2],L=w[3],R=w[4],j=w[5],z=w[6],K=w[7];s=a.strokeSharpness==="round"?l.path("M ".concat(y+.25*(_-y)," ").concat(T+.25*(L-T)," L ").concat(_-.25*(_-y)," ").concat(L-.25*(L-T),`
            C `).concat(_," ").concat(L,", ").concat(_," ").concat(L,", ").concat(_-.25*(_-R)," ").concat(L+.25*(j-L),`
            L `).concat(R+.25*(_-R)," ").concat(j-.25*(j-L),`
            C `).concat(R," ").concat(j,", ").concat(R," ").concat(j,", ").concat(R-.25*(R-z)," ").concat(j-.25*(j-K),`
            L `).concat(z+.25*(R-z)," ").concat(K+.25*(j-K),`
            C `).concat(z," ").concat(K,", ").concat(z," ").concat(K,", ").concat(z+.25*(y-z)," ").concat(K-.25*(K-T),`
            L `).concat(y-.25*(y-z)," ").concat(T+.25*(K-T),`
            C `).concat(y," ").concat(T,", ").concat(y," ").concat(T,", ").concat(y+.25*(_-y)," ").concat(T+.25*(L-T)),zn(a,!0)):l.polygon([[y,T],[_,L],[R,j],[z,K]],zn(a)),ri(a,s);break;case"ellipse":s=l.ellipse(a.width/2,a.height/2,a.width,a.height,zn(a)),ri(a,s);break;case"line":case"arrow":var $=zn(a),Z=a.points.length?a.points:[[0,0]];if(s=a.strokeSharpness==="sharp"?$.fill?[l.polygon(Z,$)]:[l.linearPath(Z,$)]:[l.curve(Z,$)],a.type==="arrow"){var oe=a.startArrowhead,le=oe===void 0?null:oe,me=a.endArrowhead,Ce=me===void 0?"arrow":me,_e=function(We,Ee,rt,Xe){var qe=function(ot,Lt,Ft,rr){var zr=Xl(Lt[0]);if(zr.length<1)return null;var cn=Ft==="start"?1:zr.length-1,Mr=zr[cn].data,On=[Mr[4],Mr[5]],bi=[Mr[2],Mr[3]],Sf=[Mr[0],Mr[1]],Nl=zr[cn-1],jl=[0,0];Nl.op==="move"?jl=Nl.data:Nl.op==="bcurveTo"&&(jl=[Nl.data[4],Nl.data[5]]);var Gi=function(Ch,a2){return Math.pow(1-Ch,3)*On[a2]+3*Ch*Math.pow(1-Ch,2)*bi[a2]+3*Math.pow(Ch,2)*(1-Ch)*Sf[a2]+jl[a2]*Math.pow(Ch,3)},Oc=W(Ft==="start"?jl:On,2),Xo=Oc[0],ys=Oc[1],ii=[Gi(.3,0),Gi(.3,1)],r2=ii[0],Ac=ii[1],Mc=Math.hypot(Xo-r2,ys-Ac),Y1=(Xo-r2)/Mc,X1=(ys-Ac)/Mc,xh={arrow:30,bar:15,dot:15,triangle:15}[rr],Ic=0;if(rr==="arrow"){var kh=W(ot.points[ot.points.length-1],2),Z1=kh[0],fR=kh[1],JC=W(ot.points.length>1?ot.points[ot.points.length-2]:[0,0],2),dR=JC[0],hR=JC[1];Ic=Math.hypot(Z1-dR,fR-hR)}else for(var n2=0;n2<ot.points.length;n2++){var eS=W(ot.points[n2-1]||[0,0],2),pR=eS[0],mR=eS[1],tS=W(ot.points[n2],2),vR=tS[0],gR=tS[1];Ic+=Math.hypot(vR-pR,gR-mR)}var rS=Math.min(xh,Ic/2),Gw=Xo-Y1*rS,Vw=ys-X1*rS;if(rr==="dot")return[Xo,ys,Math.hypot(Vw-ys,Gw-Xo)+ot.strokeWidth];var nS={arrow:20,bar:90,triangle:25}[rr],aS=W(Sr(Gw,Vw,Xo,ys,-nS*Math.PI/180),2),yR=aS[0],bR=aS[1],iS=W(Sr(Gw,Vw,Xo,ys,nS*Math.PI/180),2);return[Xo,ys,yR,bR,iS[0],iS[1]]}(We,Ee,rt,Xe);if(qe===null)return[];if(Xe==="dot"){var at=W(qe,3),et=at[0],Le=at[1],dt=at[2];return[l.circle(et,Le,dt,ns(ns({},$),{},{fill:We.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(Xe==="triangle"){var mt=W(qe,6),bt=mt[0],ut=mt[1],Dt=mt[2],lr=mt[3],Ar=mt[4],Qr=mt[5];return delete $.strokeLineDash,[l.polygon([[bt,ut],[Dt,lr],[Ar,Qr],[bt,ut]],ns(ns({},$),{},{fill:We.strokeColor,fillStyle:"solid"}))]}var br=W(qe,6),qr=br[0],hr=br[1],un=br[2],Tn=br[3],Ua=br[4],yi=br[5];if(We.strokeStyle==="dotted"){var $i=e1(We.strokeWidth-1);$.strokeLineDash=[$i[0],$i[1]-1]}else delete $.strokeLineDash;return[l.line(un,Tn,qr,hr,$),l.line(Ua,yi,qr,hr,$)]};if(le!==null){var Ie,Te=_e(a,s,"start",le);(Ie=s).push.apply(Ie,Ne(Te))}if(Ce!==null){var $e,He=_e(a,s,"end",Ce);($e=s).push.apply($e,Ne(He))}}ri(a,s);break;case"freedraw":bg(a),s=Yl(a.points)?l.polygon(a.points,ns(ns({},zn(a)),{},{stroke:"none"})):null,ri(a,s);break;case"text":case"image":ri(a,null)}},t1=function(a,l){var s=l?l.zoom:Ub.zoom,u=Er.get(a),d=u&&u.canvasZoom!==s.value&&!(l!=null&&l.shouldCacheIgnoreZoom);if(!u||d||u.theme!==l.theme){var p=function(v,w,y){var T=document.createElement("canvas"),_=T.getContext("2d"),L=J(v),R=0,j=0;if(on(v)||No(v)){var z=W(wr(v),4),K=z[0],$=z[1],Z=z[2],oe=z[3];T.width=ga(K,Z)*window.devicePixelRatio*w.value+L*w.value*2,T.height=ga($,oe)*window.devicePixelRatio*w.value+L*w.value*2,R=v.x>K?ga(v.x,K)*window.devicePixelRatio*w.value:0,j=v.y>$?ga(v.y,$)*window.devicePixelRatio*w.value:0,_.translate(R,j)}else T.width=v.width*window.devicePixelRatio*w.value+L*w.value*2,T.height=v.height*window.devicePixelRatio*w.value+L*w.value*2;_.save(),_.translate(L*w.value,L*w.value),_.scale(window.devicePixelRatio*w.value,window.devicePixelRatio*w.value);var le=Xs.canvas(T);return B0(v,y)&&(_.filter=mg),ti(v,le,_,y),_.restore(),{element:v,canvas:T,theme:y.theme,canvasZoom:w.value,canvasOffsetX:R,canvasOffsetY:j}}(a,s,l);return Er.set(a,p),p}return u},gg=function(a,l,s,u){var d=a.element,p=J(d),v=W(wr(d),4),w=v[0],y=v[1],T=v[2],_=v[3];No(d)&&(w=Math.floor(w),T=Math.ceil(T),y=Math.floor(y),_=Math.ceil(_));var L=((w+T)/2+u.scrollX)*window.devicePixelRatio,R=((y+_)/2+u.scrollY)*window.devicePixelRatio,j=vg(d,u),z="scale"in a.element&&!j?a.element.scale[0]:1,K="scale"in a.element&&!j?a.element.scale[1]:1;s.save(),s.scale(1/window.devicePixelRatio*z,1/window.devicePixelRatio*K),s.translate(L*z,R*K),s.rotate(d.angle*z*K),s.drawImage(a.canvas,-(T-w)/2*window.devicePixelRatio-p*a.canvasZoom/a.canvasZoom,-(_-y)/2*window.devicePixelRatio-p*a.canvasZoom/a.canvasZoom,a.canvas.width/a.canvasZoom,a.canvas.height/a.canvasZoom),s.restore()},yg=function(a,l,s,u){var d=l.generator;switch(a.type){case"selection":s.save(),s.translate(a.x+u.scrollX,a.y+u.scrollY),s.fillStyle="rgba(0, 0, 255, 0.10)",s.fillRect(0,0,a.width,a.height),s.restore();break;case"freedraw":if(K0(a,d),u.isExporting){var p=t1(a,u);gg(p,0,s,u)}else{var v=W(wr(a),4),w=v[0],y=v[1],T=v[2],_=v[3],L=(w+T)/2+u.scrollX,R=(y+_)/2+u.scrollY,j=(T-w)/2-(a.x-w),z=(_-y)/2-(a.y-y);s.save(),s.translate(L,R),s.rotate(a.angle),s.translate(-j,-z),ti(a,l,s,u),s.restore()}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(K0(a,d),u.isExporting){var K=W(wr(a),4),$=K[0],Z=K[1],oe=K[2],le=K[3],me=($+oe)/2+u.scrollX,Ce=(Z+le)/2+u.scrollY,_e=(oe-$)/2-(a.x-$),Ie=(le-Z)/2-(a.y-Z);s.save(),s.translate(me,Ce),s.rotate(a.angle),s.translate(-_e,-Ie),B0(a,u)&&(s.filter="none"),ti(a,l,s,u),s.restore()}else{var Te=t1(a,u);gg(Te,0,s,u)}break;default:throw new Error("Unimplemented type ".concat(a.type))}},W0=function(a,l,s){if(s===void 0)return a.draw(l);var u={sets:l.sets,shape:l.shape,options:ns(ns({},l.options),{},{fixedDecimalPlaceDigits:s})};return a.draw(u)},$0=function(a,l,s,u,d,p,v){var w=W(wr(a),4),y=w[0],T=w[1],_=w[2],L=w[3],R=(_-y)/2-(a.x-y),j=(L-T)/2-(a.y-T),z=180*a.angle/Math.PI,K=l.generator;switch(a.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":K0(a,K);var $=W0(l,Fn(a),I.zK),Z=a.opacity/100;Z!==1&&($.setAttribute("stroke-opacity","".concat(Z)),$.setAttribute("fill-opacity","".concat(Z))),$.setAttribute("stroke-linecap","round"),$.setAttribute("transform","translate(".concat(d||0," ").concat(p||0,") rotate(").concat(z," ").concat(R," ").concat(j,")")),s.appendChild($);break;case"line":case"arrow":K0(a,K);var oe=s.ownerDocument.createElementNS(I.hR,"g"),le=a.opacity/100;oe.setAttribute("stroke-linecap","round"),Fn(a).forEach(function(Dt){var lr=W0(l,Dt,I.zK);le!==1&&(lr.setAttribute("stroke-opacity","".concat(le)),lr.setAttribute("fill-opacity","".concat(le))),lr.setAttribute("transform","translate(".concat(d||0," ").concat(p||0,") rotate(").concat(z," ").concat(R," ").concat(j,")")),a.type==="line"&&Yl(a.points)&&a.backgroundColor!=="transparent"&&lr.setAttribute("fill-rule","evenodd"),oe.appendChild(lr)}),s.appendChild(oe);break;case"freedraw":bg(a);var me=a.opacity/100,Ce=Fn(a),_e=Ce?W0(l,Ce,I.zK):s.ownerDocument.createElementNS(I.hR,"g");me!==1&&(_e.setAttribute("stroke-opacity","".concat(me)),_e.setAttribute("fill-opacity","".concat(me))),_e.setAttribute("transform","translate(".concat(d||0," ").concat(p||0,") rotate(").concat(z," ").concat(R," ").concat(j,")")),_e.setAttribute("stroke","none");var Ie=s.ownerDocument.createElementNS(I.hR,"path");Ie.setAttribute("fill",a.strokeColor),Ie.setAttribute("d",Td(a)),_e.appendChild(Ie),s.appendChild(_e);break;case"image":var Te=lo(a)&&u[a.fileId];if(Te){var $e="image-".concat(Te.id),He=s.querySelector("#".concat($e));if(!He){(He=s.ownerDocument.createElementNS(I.hR,"symbol")).id=$e;var We=s.ownerDocument.createElementNS(I.hR,"image");We.setAttribute("width","100%"),We.setAttribute("height","100%"),We.setAttribute("href",Te.dataURL),He.appendChild(We),s.prepend(He)}var Ee=s.ownerDocument.createElementNS(I.hR,"use");Ee.setAttribute("href","#".concat($e)),v&&Te.mimeType!==I.LO.svg&&Ee.setAttribute("filter",mg),Ee.setAttribute("width","".concat(Math.round(a.width))),Ee.setAttribute("height","".concat(Math.round(a.height))),Ee.setAttribute("transform","translate(".concat(d||0," ").concat(p||0,") rotate(").concat(z," ").concat(R," ").concat(j,")")),s.appendChild(Ee)}break;default:if(!Lr(a))throw new Error("Unimplemented type ".concat(a.type));var rt=a.opacity/100,Xe=s.ownerDocument.createElementNS(I.hR,"g");rt!==1&&(Xe.setAttribute("stroke-opacity","".concat(rt)),Xe.setAttribute("fill-opacity","".concat(rt))),Xe.setAttribute("transform","translate(".concat(d||0," ").concat(p||0,") rotate(").concat(z," ").concat(R," ").concat(j,")"));for(var qe=a.text.replace(/\r\n?/g,`
`).split(`
`),at=a.height/qe.length,et=a.height-a.baseline,Le=a.textAlign==="center"?a.width/2:a.textAlign==="right"?a.width:0,dt=Or(a.text)?"rtl":"ltr",mt=a.textAlign==="center"?"middle":a.textAlign==="right"||dt==="rtl"?"end":"start",bt=0;bt<qe.length;bt++){var ut=s.ownerDocument.createElementNS(I.hR,"text");ut.textContent=qe[bt],ut.setAttribute("x","".concat(Le)),ut.setAttribute("y","".concat((bt+1)*at-et)),ut.setAttribute("font-family",O0(a)),ut.setAttribute("font-size","".concat(a.fontSize,"px")),ut.setAttribute("fill",a.strokeColor),ut.setAttribute("text-anchor",mt),ut.setAttribute("style","white-space: pre;"),ut.setAttribute("direction",dt),Xe.appendChild(ut)}s.appendChild(Xe)}},G0=new WeakMap([]);function bg(a){var l=Td(a),s=new Path2D(l);return G0.set(a,s),s}function Td(a){var l=a.simulatePressure?a.points:a.points.length?a.points.map(function(u,d){var p=W(u,2);return[p[0],p[1],a.pressures[d]]}):[[0,0,.5]],s={simulatePressure:a.simulatePressure,size:4.25*a.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(u){return Math.sin(u*Math.PI/2)},last:!!a.lastCommittedPoint};return function(u){if(!u.length)return"";var d=u.length-1;return u.reduce(function(p,v,w,y){return w===d?p.push(v,zo(v,y[0]),"L",y[0],"Z"):p.push(v,zo(v,y[w+1])),p},["M",u[0],"Q"]).join(" ").replace(r1,"$1")}(Cd(l,s))}function zo(a,l){return[(a[0]+l[0])/2,(a[1]+l[1])/2]}var r1=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g,ru=new Fr(Date.now()),Fi=0,nu=function(){return Math.floor(ru.next()*Math.pow(2,31))},zi=function(){return M0()?"id".concat(Fi++):Vl()};function ic(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Bi(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?ic(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):ic(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var vt=function(a,l){var s,u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],d=!1,p=l,v=p.points,w=p.fileId;for(var y in v!==void 0&&(l=Bi(Bi({},ng(v)),l)),l){var T=l[y];if(T!==void 0){if(a[y]===T&&(Zt(T)!=="object"||T===null||y==="groupIds"||y==="scale"))continue;if(y==="scale"){var _=a[y],L=T;if(_[0]===L[0]&&_[1]===L[1])continue}else if(y==="points"){var R=a[y],j=T;if(R.length===j.length){for(var z=!1,K=R.length;--K;){var $=R[K],Z=j[K];if($[0]!==Z[0]||$[1]!==Z[1]){z=!0;break}}if(!z)continue}}a[y]=T,d=!0}}return d&&(l.height===void 0&&l.width===void 0&&w===void 0&&v===void 0||so(a),a.version++,a.versionNonce=nu(),a.updated=ya(),u&&((s=mn.getScene(a))===null||s===void 0||s.informMutation())),a},tn=function(a,l){var s=!1;for(var u in l){var d=l[u];if(d!==void 0){if(a[u]===d&&(Zt(d)!=="object"||d===null))continue;s=!0}}return s?Bi(Bi(Bi({},a),l),{},{updated:ya(),version:a.version+1,versionNonce:nu()}):a},au=function(a,l){return a.version=(l!=null?l:a.version)+1,a.versionNonce=nu(),a.updated=ya(),a},as=function(a){return on(a)||No(a)?a.points.length<2:a.width===0&&a.height===0},ta=function(a,l,s){var u=Math.abs(l),d=Math.abs(s);if(a==="line"||a==="arrow"||a==="freedraw"){var p=Math.round(Math.atan(d/u)/I.ay)*I.ay;p===0?s=0:p===Math.PI/2?l=0:s=Math.round(u*Math.tan(p))*Math.sign(s)||s}else a!=="selection"&&(s=u*Math.sign(s));return{width:l,height:s}},Od=function(a){var l={width:a.width,height:a.height,x:a.x,y:a.y};if(a.width<0){var s=Math.abs(a.width);l.width=s,l.x=a.x-s}if(a.height<0){var u=Math.abs(a.height);l.height=u,l.y=a.y-u}return l};function oc(a,l){if(a==null)return{};var s,u,d=function(v,w){if(v==null)return{};var y,T,_={},L=Object.keys(v);for(T=0;T<L.length;T++)y=L[T],w.indexOf(y)>=0||(_[y]=v[y]);return _}(a,l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(a);for(u=0;u<p.length;u++)s=p[u],l.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(a,s)&&(d[s]=a[s])}return d}function Bo(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return Ad(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Ad(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function Ad(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}function V0(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Dn(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?V0(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):V0(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var n1=function(a,l,s){var u=s.filter(function(d){return d.groupIds.includes(a)});return u.length<2?l.selectedGroupIds[a]||l.editingGroupId===a?Dn(Dn({},l),{},{selectedGroupIds:Dn(Dn({},l.selectedGroupIds),{},be({},a,!1)),editingGroupId:null}):l:Dn(Dn({},l),{},{selectedGroupIds:Dn(Dn({},l.selectedGroupIds),{},be({},a,!0)),selectedElementIds:Dn(Dn({},l.selectedElementIds),Object.fromEntries(u.map(function(d){return[d.id,!0]})))})},wa=function(a,l){return Md(a,l)!=null},Md=function(a,l){return l.groupIds.filter(function(s){return s!==a.editingGroupId}).find(function(s){return a.selectedGroupIds[s]})},lc=function(a){return Object.entries(a.selectedGroupIds).filter(function(l){var s=W(l,2);return s[0],s[1]}).map(function(l){var s=W(l,2),u=s[0];return s[1],u})},Ho=function(a,l){var s=Dn(Dn({},a),{},{selectedGroupIds:{}}),u=Re(l,a);if(!u.length)return Dn(Dn({},s),{},{editingGroupId:null});var d,p=Bo(u);try{for(p.s();!(d=p.n()).done;){var v=d.value.groupIds;if(a.editingGroupId){var w=v.indexOf(a.editingGroupId);w>-1&&(v=v.slice(0,w))}if(v.length>0){var y=v[v.length-1];s=n1(y,s,l)}}}catch(T){p.e(T)}finally{p.f()}return s},iu=function(a,l){return a.groupIds.includes(l)},mi=function(a,l){return a.filter(function(s){return iu(s,l)})},wg=function(a,l,s){var u=Ne(a),d=s?u.indexOf(s):-1,p=d>-1?d:u.length;return u.splice(p,0,l),u},sc=function(a){var l=new Map;return a.forEach(function(s){var u=s.groupIds.length===0?s.id:s.groupIds[s.groupIds.length-1],d=l.get(u)||[],p=ei(s);if(p){var v=mn.getScene(s).getElement(p);d.push(v)}l.set(u,[].concat(Ne(d),[s]))}),Array.from(l.values())},a1=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","strokeSharpness","boundElements","link"];function i1(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Uo(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?i1(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):i1(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var ou=function(a,l){var s,u,d=l.x,p=l.y,v=l.strokeColor,w=l.backgroundColor,y=l.fillStyle,T=l.strokeWidth,_=l.strokeStyle,L=l.roughness,R=l.opacity,j=l.width,z=j===void 0?0:j,K=l.height,$=K===void 0?0:K,Z=l.angle,oe=Z===void 0?0:Z,le=l.groupIds,me=le===void 0?[]:le,Ce=l.strokeSharpness,_e=l.boundElements,Ie=_e===void 0?null:_e,Te=l.link,$e=Te===void 0?null:Te,He=oc(l,a1);return{id:He.id||zi(),type:a,x:d,y:p,width:z,height:$,angle:oe,strokeColor:v,backgroundColor:w,fillStyle:y,strokeWidth:T,strokeStyle:_,roughness:L,opacity:R,groupIds:me,strokeSharpness:Ce,seed:(s=He.seed)!==null&&s!==void 0?s:nu(),version:He.version||1,versionNonce:(u=He.versionNonce)!==null&&u!==void 0?u:0,isDeleted:!1,boundElements:Ie,updated:ya(),link:$e}},Id=function(a){return ou(a.type,a)},Dd=function(a,l){return{x:a.textAlign==="center"?l.width/2:a.textAlign==="right"?l.width:0,y:a.verticalAlign==="middle"?l.height/2:0}},lu=function(a){var l=El(a.text,hn(a)),s=Dd(a,l);return tn(Uo(Uo({},ou("text",a)),{},{text:a.text,fontSize:a.fontSize,fontFamily:a.fontFamily,textAlign:a.textAlign,verticalAlign:a.verticalAlign,x:a.x-s.x,y:a.y-s.y,width:l.width,height:l.height,baseline:l.baseline,containerId:a.containerId||null,originalText:a.text}),{})},xg=function(a,l){var s=l.text,u=l.isDeleted,d=l.originalText,p=Ra(a);p&&(s=ts(s,hn(a),p.width));var v=function(w,y){var T=null,_=Ra(w);_&&(T=_.width-2*I.gK);var L,R,j=El(y,hn(w),T),z=j.width,K=j.height,$=j.baseline,Z=w.textAlign,oe=w.verticalAlign;if(Z!=="center"||oe!=="middle"||w.containerId){var le=W(wr(w),4),me=le[0],Ce=le[1],_e=le[2],Ie=le[3],Te=W(Zs(w,z,K),4),$e=(me-Te[0])/2,He=(Ce-Te[1])/2,We=(_e-Te[2])/2,Ee=(Ie-Te[3])/2,rt=W(Fp({s:!0,e:Z==="center"||Z==="left",w:Z==="center"||Z==="right"},w.x,w.y,w.angle,$e,He,We,Ee),2);L=rt[0],R=rt[1]}else{var Xe=El(w.text,hn(w),T),qe=Dd(w,{width:z-Xe.width,height:K-Xe.height});L=w.x-qe.x,R=w.y-qe.y}if(Pi(w)){var at=Ra(w),et=at.height,Le=at.width;K>et-2*I.gK&&(et=K+2*I.gK),z>Le-2*I.gK&&(Le=z+2*I.gK),et===at.height&&Le===at.width||vt(at,{height:et,width:Le})}return{width:z,height:K,x:Number.isFinite(L)?L:w.x,y:Number.isFinite(R)?R:w.y,baseline:$}}(a,s);return tn(a,Uo({text:s,originalText:d,isDeleted:u!=null?u:a.isDeleted},v))},su=function(a){return Uo(Uo({},ou(a.type,a)),{},{points:a.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:a.startArrowhead,endArrowhead:a.endArrowhead})},uu=function a(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(l==null||Zt(l)!=="object")return l;if(Object.prototype.toString.call(l)==="[object Object]"){var u=typeof l.constructor=="function"?Object.create(Object.getPrototypeOf(l)):{};for(var d in l)if(l.hasOwnProperty(d)){if(s===0&&(d==="shape"||d==="canvas"))continue;u[d]=a(l[d],s+1)}return u}if(Array.isArray(l)){for(var p=l.length,v=new Array(p);p--;)v[p]=a(l[p],s+1);return v}return l},Ld=function(a,l,s,u){var d,p,v=uu(s);return M0()?(v.id="".concat(v.id,"_copy"),(d=window.h)!==null&&d!==void 0&&(p=d.app)!==null&&p!==void 0&&p.getSceneElementsIncludingDeleted().find(function(w){return w.id===v.id})&&(v.id+="_copy")):v.id=zi(),v.updated=ya(),v.seed=nu(),v.groupIds=function(w,y,T){for(var _=Ne(w),L=y?w.indexOf(y):-1,R=L>-1?L:w.length,j=0;j<R;j++)_[j]=T(_[j]);return _}(v.groupIds,a,function(w){return l.has(w)||l.set(w,zi()),l.get(w)}),u&&(v=Object.assign(v,u)),v},o1={mouse:8,pen:16,touch:28},l1={e:!0,s:!0,n:!0,w:!0},s1={e:!0,s:!0,n:!0,w:!0},u1={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},q0={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},uo=function(a,l,s,u,d,p,v){var w=W(Sr(a+s/2,l+u/2,d,p,v),2);return[w[0]-s/2,w[1]-u/2,s,u]},vr=function(a,l,s,u){var d=W(a,4),p=d[0],v=d[1],w=d[2],y=d[3],T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},_=o1[u],L=_/s.value,R=_/s.value,j=_/s.value,z=_/s.value,K=w-p,$=y-v,Z=(p+w)/2,oe=(v+y)/2,le=4/s.value,me=(_-8)/(2*s.value),Ce={nw:T.nw?void 0:uo(p-le-j+me,v-le-z+me,L,R,Z,oe,l),ne:T.ne?void 0:uo(w+le-me,v-le-z+me,L,R,Z,oe,l),sw:T.sw?void 0:uo(p-le-j+me,y+le-me,L,R,Z,oe,l),se:T.se?void 0:uo(w+le-me,y+le-me,L,R,Z,oe,l),rotation:T.rotation?void 0:uo(p+K/2-L/2,v-le-z+me-16/s.value,L,R,Z,oe,l)},_e=5*o1.mouse/s.value;return Math.abs(K)>_e&&(T.n||(Ce.n=uo(p+K/2-L/2,v-le-z+me,L,R,Z,oe,l)),T.s||(Ce.s=uo(p+K/2-L/2,y+le-me,L,R,Z,oe,l))),Math.abs($)>_e&&(T.w||(Ce.w=uo(p-le-j+me,v+$/2-R/2,L,R,Z,oe,l)),T.e||(Ce.e=uo(w+le-me,v+$/2-R/2,L,R,Z,oe,l))),Ce},c1=function(a,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse",u={};if(a.type==="arrow"||a.type==="line"||a.type==="freedraw"){if(a.points.length===2){var d=W(a.points,2),p=d[1];p[0]===0||p[1]===0?u=q0:p[0]>0&&p[1]<0?u=u1:p[0]>0&&p[1]>0?u=q0:p[0]<0&&p[1]>0?u=u1:p[0]<0&&p[1]<0&&(u=q0)}}else Lr(a)&&(u=s1);return vr(wr(a),a.angle,l,s,u)},Fa=function(a,l){return[0,0,0,0,l,a,1,0]},co=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[0,0,0,0,0,0,0,0];if(l<0||l>7)throw new Error("Expected `index` betwen 0 and 7, got `".concat(l,"`"));return a!==0&&(s[l]=a),s},Y0=function(a){return[a[0],a[1],a[2],a[3],-a[4],-a[5],-a[6],-a[7]]},kg=function(a,l){return za(l)?[a[0]-l,a[1],a[2],a[3],a[4],a[5],a[6],a[7]]:[a[0]-l[0],a[1]-l[1],a[2]-l[2],a[3]-l[3],a[4]-l[4],a[5]-l[5],a[6]-l[6],a[7]-l[7]]},uc=function(a,l){return za(l)?[a[0]*l,a[1]*l,a[2]*l,a[3]*l,a[4]*l,a[5]*l,a[6]*l,a[7]*l]:[Hi(a,l),l[1]*a[0]+l[0]*a[1]-l[4]*a[2]+l[5]*a[3]+l[2]*a[4]-l[3]*a[5]-l[7]*a[6]-l[6]*a[7],l[2]*a[0]+l[0]*a[2]-l[6]*a[3]+l[3]*a[6],l[3]*a[0]+l[6]*a[2]+l[0]*a[3]-l[2]*a[6],l[4]*a[0]+l[2]*a[1]-l[1]*a[2]+l[7]*a[3]+l[0]*a[4]+l[6]*a[5]-l[5]*a[6]+l[3]*a[7],l[5]*a[0]-l[3]*a[1]+l[7]*a[2]+l[1]*a[3]-l[6]*a[4]+l[0]*a[5]+l[4]*a[6]+l[2]*a[7],l[6]*a[0]+l[3]*a[2]-l[2]*a[3]+l[0]*a[6],l[7]*a[0]+l[6]*a[1]+l[5]*a[2]+l[4]*a[3]+l[3]*a[4]+l[2]*a[5]+l[1]*a[6]+l[0]*a[7]]},Hi=function(a,l){return l[0]*a[0]+l[2]*a[2]+l[3]*a[3]-l[6]*a[6]},Cg=function(a,l){return[X0(a,l),a[1]*l[7]+a[4]*l[5]-a[5]*l[4]+a[7]*l[1],a[2]*l[7]-a[4]*l[6]+a[6]*l[4]+a[7]*l[2],a[3]*l[7]+a[5]*l[6]-a[6]*l[5]+a[7]*l[3],a[4]*l[7]+a[7]*l[4],a[5]*l[7]+a[7]*l[5],a[6]*l[7]+a[7]*l[6],a[7]*l[7]]},X0=function(a,l){return a[0]*l[7]+a[1]*l[6]+a[2]*l[5]+a[3]*l[4]+a[4]*l[3]+a[5]*l[2]+a[6]*l[1]+a[7]*l[0]},Pd=function(a){return Math.sqrt(Math.abs(a[0]*a[0]-a[2]*a[2]-a[3]*a[3]+a[6]*a[6]))},Z0=function(a){var l=Pd(a);if(l===0||l===1)return a;var s=a[6]<0?-1:1;return uc(a,s/l)},Sg=function(a){var l=function(s){return Math.sqrt(Math.abs(s[7]*s[7]-s[5]*s[5]-s[4]*s[4]+s[1]*s[1]))}(a);return l===0||l===1?a:uc(a,1/l)},za=function(a){return typeof a=="number"},Ui=(co(1,1),co(1,2),co(1,3),co(1,4),co(1,5),co(1,6),co(1,7),function(a,l,s){return Z0([0,s,a,l,0,0,0,0])}),cu=function(a,l){return Z0(Cg(l,a))},Eg=function(a,l){return function(s,u){return[u[0]*s[0]+u[2]*s[2]+u[3]*s[3]-u[6]*s[6],u[1]*s[0]+u[0]*s[1]-u[4]*s[2]+u[5]*s[3]+u[2]*s[4]-u[3]*s[5]-u[7]*s[6]-u[6]*s[7],u[2]*s[0]+u[0]*s[2]-u[6]*s[3]+u[3]*s[6],u[3]*s[0]+u[6]*s[2]+u[0]*s[3]-u[2]*s[6],u[4]*s[0]+u[7]*s[3]+u[0]*s[4]+u[3]*s[7],u[5]*s[0]+u[7]*s[2]+u[0]*s[5]+u[2]*s[7],u[6]*s[0]+u[0]*s[6],u[7]*s[0]+u[0]*s[7]]}(a,l)},_l=function(a){var l=W(a,2),s=l[0];return[0,0,0,0,l[1],s,1,0]},is=function(a){return[a[5],a[4]]},f1=function(a,l){return Z0(function(s,u){return[u[0]*s[0],u[1]*s[0]+u[0]*s[1],u[2]*s[0]+u[0]*s[2],u[3]*s[0]+u[0]*s[3],u[4]*s[0]+u[2]*s[1]-u[1]*s[2]+u[0]*s[4],u[5]*s[0]-u[3]*s[1]+u[1]*s[3]+u[0]*s[5],u[6]*s[0]+u[3]*s[2]-u[2]*s[3]+u[0]*s[6],u[7]*s[0]+u[6]*s[1]+u[5]*s[2]+u[4]*s[3]+u[3]*s[4]+u[2]*s[5]+u[1]*s[6]]}(a,l))},d1=function(a,l){return Pd(Cg(a,l))},fo=function(a,l){return X0(a,l)},Nd=function(a){return[0,0,0,0,a[4],a[5],0,0]},Tl=function(a,l){return function(s,u){return za(u)?[s[0]+u,s[1],s[2],s[3],s[4],s[5],s[6],s[7]]:[s[0]+u[0],s[1]+u[1],s[2]+u[2],s[3]+u[3],s[4]+u[4],s[5]+u[5],s[6]+u[6],s[7]+u[7]]}(uc(a,Math.sin(l/2)),Math.cos(l/2))},Ko=function(a,l){return Z0(uc(uc(a,l),Y0(a)))};function os(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return h1(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return h1(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function h1(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}var _g=function(a,l,s,u){var d=10/l.zoom.value,p=[s,u];return Tg(l,a)?J0(a,p,d):Q0(a,l,p)},jd=function(a,l,s,u){var d=10/l.zoom.value;return!Q0(a,l,[s,u])&&J0(a,[s,u],d)},Q0=function(a,l,s){var u=10/l.zoom.value,d=Lr(a)?cc:function(p){if(p.type==="arrow")return!1;if(p.type==="freedraw")return!0;var v=!Gr(p.backgroundColor)||md(p);return p.type==="line"?v&&Yl(p.points):v||Yu(p)}(a)?tf:Og;return ho({element:a,point:s,threshold:u,check:d})},Tg=function(a,l){return a.selectedElementIds[l.id]},J0=function(a,l,s){var u=W(l,2),d=u[0],p=u[1],v=W(wr(a),4),w=v[0],y=v[1],T=v[2],_=v[3],L=W(Sr(d,p,(w+T)/2,(y+_)/2,-a.angle),2),R=L[0],j=L[1];return R>w-s&&R<T+s&&j>y-s&&j<_+s},p1=function(a,l){var s=l.x,u=l.y,d=xa(a,a.width,a.height);return ho({element:a,point:[s,u],threshold:d,check:Ag})},xa=function(a,l,s){var u=(a.type==="diamond"?1/Math.sqrt(2):1)*Math.min(l,s);return Math.max(16,Math.min(.25*u,32))},ho=function(a){switch(a.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var l=ef(a.element,a.point);return a.check(l,a.threshold);case"freedraw":return!!a.check(fu(a.element,a.point),a.threshold)&&Rd(a.element,a.point,a.threshold);case"arrow":case"line":return Dg(a);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},ef=function(a,l){switch(a.type){case"rectangle":case"image":case"text":return fu(a,l);case"diamond":return rf(a,l);case"ellipse":return Mg(a,l)}},cc=function(a,l){return a<0},tf=function(a,l){return a<l},Og=function(a,l){return Math.abs(a)<l},Ag=function(a,l){return 0<=a&&a<l},fu=function(a,l){var s=W(du(a,l),4),u=s[1],d=s[2],p=s[3];return Math.max(fo(u,Ui(0,1,-p)),fo(u,Ui(1,0,-d)))},rf=function(a,l){var s=W(du(a,l),4),u=s[1],d=s[2],p=s[3],v=Ui(p,d,-p*d);return fo(u,v)},Mg=function(a,l){var s=W(Ig(a,l),2),u=s[0],d=s[1];return-function(p){return Math.sign(p[1])}(d)*fo(u,d)},Ig=function(a,l){var s=W(du(a,l),4),u=s[1],d=s[2],p=s[3],v=W(is(u),2),w=v[0],y=v[1],T=.707,_=.707,L=d,R=p;[0,1,2,3].forEach(function(K){var $=L*T,Z=R*_,oe=(L*L-R*R)*Math.pow(T,3)/L,le=(R*R-L*L)*Math.pow(_,3)/R,me=$-oe,Ce=Z-le,_e=w-oe,Ie=y-le,Te=Math.hypot(Ce,me),$e=Math.hypot(Ie,_e);T=Math.min(1,Math.max(0,(_e*Te/$e+oe)/L)),_=Math.min(1,Math.max(0,(Ie*Te/$e+le)/R));var He=Math.hypot(_,T);T/=He,_/=He});var j,z=Fa(L*T,R*_);return[u,Eg(cu(u,j=z),j)]},Rd=function(a,l,s){var u,d;if(a.angle===0)u=l[0]-a.x,d=l[1]-a.y;else{var p=W(wr(a),4),v=p[0],w=p[1],y=p[2],T=p[3],_=C0(l,[v+(y-v)/2,w+(T-w)/2],-a.angle);u=_[0]-a.x,d=_[1]-a.y}var L,R=W(a.points,2),j=R[0],z=R[1];if(Ni(j[0],j[1],u,d)<s||Ni(z[0],z[1],u,d)<s)return!0;for(var K=0;K<a.points.length;K++){var $=[z[0]-j[0],z[1]-j[1]],Z=Math.hypot($[1],$[0]),oe=[$[0]/Z,$[1]/Z],le=[u-j[0],d-j[1]],me=(le[0]*oe[0]+le[1]*oe[1])/Math.hypot(oe[1],oe[0]);L=[j[0]+oe[0]*me,j[1]+oe[1]*me];var Ce=Ni(L[0],L[1],j[0],j[1]),_e=Ni(L[0],L[1],z[0],z[1]);if(L=_e<Ce&&Ce>Z?z:Ce<_e&&_e>Z?j:L,Math.hypot(d-L[1],u-L[0])<s)return!0;j=z,z=a.points[K+1]}var Ie=Fn(a);return!(!Ie||!Ie.sets.length)&&g1(Ie,u,d,s)},Dg=function(a){var l=a.element,s=a.threshold;if(!Fn(l))return!1;var u=W(du(a.element,a.point),4),d=u[0],p=u[1],v=u[2],w=u[3],y=Ui(0,1,-w),T=Ui(1,0,-v);if(!tf(fo(p,y),s)||!tf(fo(p,T),s))return!1;var _=W(is(d),2),L=_[0],R=_[1],j=Fn(l);return j?a.check===tf&&j.some(function(z){return Rg(z,L,R,l.strokeSharpness)})?!0:j.some(function(z){return g1(z,L,R,s)}):!1},du=function(a,l){var s=_l(l),u=wr(a),d=fc(u),p=Tl(d,a.angle),v=Ko(p,s),w=function(j){return[0,0,0,0,Math.abs(j[4]),Math.abs(j[5]),1,0]}(kg(v,Nd(d))),y=function(j,z){return[0,0,0,0,z,j,0,0]}(a.x,a.y),T=kg(v,y),_=W(u,4),L=_[0],R=_[1];return[T,w,(_[2]-L)/2,(_[3]-R)/2]},nf=function(a){var l=wr(a),s=fc(l),u=Tl(s,a.angle),d=Y0(function(p){return[1,0,0,0,-.5*p[5],.5*p[4],0,0]}(Nd(s)));return uc(d,u)},fc=function(a){var l=W(a,4),s=l[0],u=l[1],d=l[2],p=l[3];return Fa((s+d)/2,(u+p)/2)},Lg=function(a,l,s){var u=nf(a),d=Ko(u,_l(l)),p=Ko(u,_l(s)),v=cu(d,p),w=a.height/a.width,y=a.width/2,T=a.height/2,_=v[2],L=v[3],R=v[1],j=Math.abs(L),z=Math.abs(_);switch(a.type){case"rectangle":case"image":case"text":return R/(y*(z+w*j));case"diamond":return j<z?R/(z*y):R/(j*T);case"ellipse":return R/(y*Math.sqrt(Math.pow(_,2)+Math.pow(w,2)*Math.pow(L,2)))}},Fd=function(a,l,s){var u,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(a.type){case"rectangle":case"image":case"text":case"diamond":var p=m1(a);u=p.flatMap(function(w,y){var T=[w,p[(y+1)%4]];return v1(l,Kb(T,d))}).concat(p.flatMap(function(w){return Ol(w,d,l)}));break;case"ellipse":u=Pg(a,d,l)}if(u.length<2)return[];var v=u.sort(function(w,y){return d1(w,s)-d1(y,s)});return[v[0],v[v.length-1]]},m1=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,s=l*a.width/2,u=l*a.height/2;switch(a.type){case"rectangle":case"image":case"text":return[Fa(s,u),Fa(s,-u),Fa(-s,-u),Fa(-s,u)];case"diamond":return[Fa(0,u),Fa(s,0),Fa(0,-u),Fa(-s,0)]}},v1=function(a,l){var s=W(l,2),u=s[0],d=s[1];return fo(u,a)*fo(d,a)>=0?[]:[f1(a,cu(u,d))]},Kb=function(a,l){var s=W(a,2),u=s[0],d=s[1],p=function(v,w){var y=.5*w;return[1,0,0,0,y*v[4],y*v[5],0,0]}(function(v,w){return Sg([0,0,0,0,w[4]-v[4],w[5]-v[5],0,0])}(u,d),l);return[Ko(p,u),Ko(p,d)]},Pg=function(a,l,s){var u=a.width/2+l,d=a.height/2+l,p=s[2],v=s[3],w=s[1],y=u*u*p*p+d*d*v*v,T=y-w*w;if(y===0||T<=0)return[];var _=Math.sqrt(T),L=-u*u*p*w,R=-d*d*v*w;return[Fa((L+u*d*v*_)/y,(R-u*d*p*_)/y),Fa((L-u*d*v*_)/y,(R+u*d*p*_)/y)]},Ol=function(a,l,s){if(l===0)return fo(s,a)===0?[a]:[];var u=s[2],d=s[3],p=s[1],v=W(is(a),2),w=v[0],y=v[1],T=u*u+d*d,_=l*l*T-Math.pow(u*w+d*y+p,2);if(T===0||_<=0)return[];var L=Math.sqrt(_),R=w*d*d-y*u*d-u*p,j=y*u*u-w*u*d-d*p;return[Fa((R+d*L)/T,(j-u*L)/T),Fa((R-d*L)/T,(j+u*L)/T)]},Ng=function(a,l,s){var u=Math.abs(l),d=a.width*u/2,p=a.height*u/2,v=Math.sign(l),w=W(is(s),2),y=w[0],T=w[1],_=T===0?1e-4:T,L=Math.pow(y,2)*Math.pow(p,2)+Math.pow(_,2)*Math.pow(d,2),R=(-y*Math.pow(p,2)+v*_*Math.sqrt(Math.max(0,L-Math.pow(d,2)*Math.pow(p,2))))/L,j=(-R*y-1)/_,z=-Math.pow(d,2)*R/(Math.pow(j,2)*Math.pow(p,2)+Math.pow(R,2)*Math.pow(d,2));return Fa(z,(-R*z-1)/j)},jg=function(a,l,s){var u=Math.abs(l),d=Math.sign(l),p=m1(a,u),v=0,w=null;return p.forEach(function(y){var T=d*cu(s,y)[1];T>v&&(v=T,w=y)}),w},Rg=function(a,l,s,u){var d,p=[],v=!1,w=os(Xl(a));try{for(w.s();!(d=w.n()).done;){var y=d.value;y.op==="move"?(v=!v)&&p.push([y.data[0],y.data[1]]):y.op==="bcurveTo"?v&&(p.push([y.data[0],y.data[1]]),p.push([y.data[2],y.data[3]]),p.push([y.data[4],y.data[5]])):y.op==="lineTo"&&v&&p.push([y.data[0],y.data[1]])}}catch(_){w.e(_)}finally{w.f()}if(p.length>=4){if(u==="sharp")return ln(p,l,s);var T=qu(p,10,5);return ln(T,l,s)}return!1},g1=function(a,l,s,u){var d=Xl(a),p=[0,0];return d.some(function(v,w){var y=v.op,T=v.data;if(y==="move")p=T;else{if(y==="bcurveTo"){var _=[T[0],T[1]],L=[T[2],T[3]],R=[T[4],T[5]],j=p;p=R;var z=function(K,$,Z,oe,le,me){for(var Ce=W(le,2),_e=Ce[0],Ie=Ce[1],Te=function(Ee,rt){return Math.pow(1-Ee,3)*oe[rt]+3*Ee*Math.pow(1-Ee,2)*Z[rt]+3*Math.pow(Ee,2)*(1-Ee)*$[rt]+K[rt]*Math.pow(Ee,3)},$e=0;$e<=1;){var He=Te($e,0),We=Te($e,1);if(Math.sqrt(Math.pow(He-_e,2)+Math.pow(We-Ie,2))<me)return!0;$e+=.01}return!1}(j,_,L,R,[l,s],u);return z}if(y==="lineTo")return Rg(a,l,s,"sharp");y==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})},Al=["rotation"],af=function(a,l,s){return l>=a[0]&&l<=a[0]+a[2]&&s>=a[1]&&s<=a[1]+a[3]},zd=function(a,l,s,u,d,p){return a.reduce(function(v,w){if(v)return v;var y=function(T,_,L,R,j,z){if(!_.selectedElementIds[T.id])return!1;var K=c1(T,j,z),$=K.rotation,Z=oc(K,Al);if($&&af($,L,R))return"rotation";var oe=Object.keys(Z).filter(function(le){var me=Z[le];return!!me&&af(me,L,R)});return oe.length>0&&oe[0]}(w,l,s,u,d,p);return y?{element:w,transformHandleType:y}:null},null)},Bd=function(a,l,s,u,d){var p=W(a,4),v=p[0],w=p[1],y=p[2],T=p[3],_=vr([v,w,y,T],0,u,d,l1);return Object.keys(_).find(function(L){var R=_[L];return R&&af(R,l,s)})||!1},dc=["ns","nesw","ew","nwse"],ls=function(a){var l=a.element,s=a.transformHandleType,u=l&&Math.sign(l.height)*Math.sign(l.width)==-1,d=null;switch(s){case"n":case"s":d="ns";break;case"w":case"e":d="ew";break;case"nw":case"se":d=u?"nesw":"nwse";break;case"ne":case"sw":d=u?"nwse":"nesw";break;case"rotation":return"grab"}return d&&l&&(d=function(p,v){var w=dc.indexOf(p);if(w>=0){var y=Math.round(v/(Math.PI/4));p=dc[(w+y)%dc.length]}return p}(d,l.angle)),d?"".concat(d,"-resize"):""};function Wt(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return of(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return of(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function of(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}function Hd(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function rn(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?Hd(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Hd(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Ur=function(){function a(l,s){Ke(this,a),this.elementId=l.id,mn.mapElementToScene(this.elementId,s),a.normalizePoints(l),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1}}return At(a,null,[{key:"getElement",value:function(l){var s,u=(s=mn.getScene(l))===null||s===void 0?void 0:s.getNonDeletedElement(l);return u||null}},{key:"handleBoxSelection",value:function(l,s,u){var d;if(!s.editingLinearElement||((d=s.draggingElement)===null||d===void 0?void 0:d.type)!=="selection")return!1;var p=s.editingLinearElement,v=p.selectedPointsIndices,w=p.elementId,y=a.getElement(w);if(!y)return!1;var T=W(wr(s.draggingElement),4),_=T[0],L=T[1],R=T[2],j=T[3],z=a.getPointsGlobalCoordinates(y).reduce(function(K,$,Z){return($[0]>=_&&$[0]<=R&&$[1]>=L&&$[1]<=j||l.shiftKey&&v!=null&&v.includes(Z))&&K.push(Z),K},[]);u({editingLinearElement:rn(rn({},p),{},{selectedPointsIndices:z.length?z:null})})}},{key:"handlePointDragging",value:function(l,s,u,d,p){if(!l.editingLinearElement)return!1;var v=l.editingLinearElement,w=v.selectedPointsIndices,y=v.elementId,T=v.isDragging,_=a.getElement(y);if(!_)return!1;var L=_.points[v.pointerDownState.lastClickedPoint];if(w&&L){T===!1&&s({editingLinearElement:rn(rn({},v),{},{isDragging:!0})});var R=a.createPointAt(_,u-v.pointerOffset.x,d-v.pointerOffset.y,l.gridSize),j=R[0]-L[0],z=R[1]-L[1];if(a.movePoints(_,w.map(function(Z){return{index:Z,point:Z===v.pointerDownState.lastClickedPoint?a.createPointAt(_,u-v.pointerOffset.x,d-v.pointerOffset.y,l.gridSize):[_.points[Z][0]+j,_.points[Z][1]+z],isDragging:Z===v.pointerDownState.lastClickedPoint}})),hi(_)){var K=[];w[0]===0&&K.push(sn(a.getPointGlobalCoordinates(_,_.points[0])));var $=w[w.length-1];$===_.points.length-1&&K.push(sn(a.getPointGlobalCoordinates(_,_.points[$]))),K.length&&p(_,K)}return!0}return!1}},{key:"handlePointerUp",value:function(l,s,u){var d,p=s.elementId,v=s.selectedPointsIndices,w=s.isDragging,y=s.pointerDownState,T=a.getElement(p);if(!T)return s;var _={};if(w&&v){var L,R=Wt(v);try{for(R.s();!(L=R.n()).done;){var j=L.value;if(j===0||j===T.points.length-1){Yl(T.points,u.zoom.value)&&a.movePoints(T,[{index:j,point:j===0?T.points[T.points.length-1]:T.points[0]}]);var z=ss(u)?Ml(sn(a.getPointAtIndexGlobalCoordinates(T,j)),mn.getScene(T)):null;_[j===0?"startBindingElement":"endBindingElement"]=z}}}catch(K){R.e(K)}finally{R.f()}}return rn(rn(rn({},s),_),{},{selectedPointsIndices:w||l.shiftKey?!w&&l.shiftKey&&(d=y.prevSelectedPointsIndices)!==null&&d!==void 0&&d.includes(y.lastClickedPoint)?v&&v.filter(function(K){return K!==y.lastClickedPoint}):v:v!=null&&v.includes(y.lastClickedPoint)?[y.lastClickedPoint]:v,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"handlePointerDown",value:function(l,s,u,d,p){var v,w={didAddPoint:!1,hitElement:null};if(!s.editingLinearElement)return w;var y=s.editingLinearElement.elementId,T=a.getElement(y);if(!T)return w;if(l.altKey)return s.editingLinearElement.lastUncommittedPoint==null&&vt(T,{points:[].concat(Ne(T.points),[a.createPointAt(T,p.x,p.y,s.gridSize)])}),d.resumeRecording(),u({editingLinearElement:rn(rn({},s.editingLinearElement),{},{pointerDownState:{prevSelectedPointsIndices:s.editingLinearElement.selectedPointsIndices,lastClickedPoint:-1},selectedPointsIndices:[T.points.length-1],lastUncommittedPoint:null,endBindingElement:Ml(p,mn.getScene(T))})}),w.didAddPoint=!0,w;var _=a.getPointIndexUnderCursor(T,s.zoom,p.x,p.y);if(_>-1)w.hitElement=T;else{var L=s.editingLinearElement,R=L.startBindingElement,j=L.endBindingElement;ss(s)&&hi(T)&&hc(T,R,j)}var z=W(wr(T),4),K=z[0],$=z[1],Z=(K+z[2])/2,oe=($+z[3])/2,le=_>-1&&Sr(T.x+T.points[_][0],T.y+T.points[_][1],Z,oe,T.angle),me=_>-1||l.shiftKey?l.shiftKey||(v=s.editingLinearElement.selectedPointsIndices)!==null&&v!==void 0&&v.includes(_)?Fg([].concat(Ne(s.editingLinearElement.selectedPointsIndices||[]),[_])):[_]:null;return u({editingLinearElement:rn(rn({},s.editingLinearElement),{},{pointerDownState:{prevSelectedPointsIndices:s.editingLinearElement.selectedPointsIndices,lastClickedPoint:_},selectedPointsIndices:me,pointerOffset:le?{x:p.x-le[0],y:p.y-le[1]}:{x:0,y:0}})}),w}},{key:"handlePointerMove",value:function(l,s,u,d,p){var v=d.elementId,w=d.lastUncommittedPoint,y=a.getElement(v);if(!y)return d;var T=y.points,_=T[T.length-1];if(!l.altKey)return _===w&&a.deletePoints(y,[T.length-1]),rn(rn({},d),{},{lastUncommittedPoint:null});var L=a.createPointAt(y,s-d.pointerOffset.x,u-d.pointerOffset.y,p);return _===w?a.movePoints(y,[{index:y.points.length-1,point:L}]):a.addPoints(y,[{point:L}]),rn(rn({},d),{},{lastUncommittedPoint:y.points[y.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(l,s){var u=W(wr(l),4),d=u[0],p=u[1],v=(d+u[2])/2,w=(p+u[3])/2,y=l.x,T=l.y,_=W(Sr(y+s[0],T+s[1],v,w,l.angle),2);return[y=_[0],T=_[1]]}},{key:"getPointsGlobalCoordinates",value:function(l){var s=W(wr(l),4),u=s[0],d=s[1],p=s[2],v=s[3],w=(u+p)/2,y=(d+v)/2;return l.points.map(function(T){var _=l.x,L=l.y,R=W(Sr(_+T[0],L+T[1],w,y,l.angle),2);return[_=R[0],L=R[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(l,s){var u=s<0?l.points.length+s:s,d=W(wr(l),4),p=d[0],v=d[1],w=(p+d[2])/2,y=(v+d[3])/2,T=l.points[u],_=l.x,L=l.y;return Sr(_+T[0],L+T[1],w,y,l.angle)}},{key:"pointFromAbsoluteCoords",value:function(l,s){var u=W(wr(l),4),d=u[0],p=u[1],v=(d+u[2])/2,w=(p+u[3])/2,y=W(Sr(s[0],s[1],v,w,-l.angle),2),T=y[0],_=y[1];return[T-l.x,_-l.y]}},{key:"getPointIndexUnderCursor",value:function(l,s,u,d){for(var p=this.getPointsGlobalCoordinates(l),v=p.length;--v>-1;){var w=p[v];if(Ni(u,d,w[0],w[1])*s.value<this.POINT_HANDLE_SIZE/2+1)return v}return-1}},{key:"createPointAt",value:function(l,s,u,d){var p=ji(s,u,d),v=W(wr(l),4),w=v[0],y=v[1],T=(w+v[2])/2,_=(y+v[3])/2,L=W(Sr(p[0],p[1],T,_,-l.angle),2),R=L[0],j=L[1];return[R-l.x,j-l.y]}},{key:"getNormalizedPoints",value:function(l){var s=l.points,u=s[0][0],d=s[0][1];return{points:s.map(function(p,v){return[p[0]-u,p[1]-d]}),x:l.x+u,y:l.y+d}}},{key:"normalizePoints",value:function(l){vt(l,a.getNormalizedPoints(l))}},{key:"duplicateSelectedPoints",value:function(l){if(!l.editingLinearElement)return!1;var s=l.editingLinearElement,u=s.selectedPointsIndices,d=s.elementId,p=a.getElement(d);if(!p||u===null)return!1;var v=p.points,w=[],y=!1,T=-1,_=v.reduce(function(R,j,z){if(++T,R.push(j),u.includes(z)){var K=v[z+1];K||(y=!0),R.push(K?[(j[0]+K[0])/2,(j[1]+K[1])/2]:[j[0],j[1]]),w.push(T+1),++T}return R},[]);if(vt(p,{points:_}),y){var L=p.points[p.points.length-1];a.movePoints(p,[{index:p.points.length-1,point:[L[0]+30,L[1]+30]}])}return{appState:rn(rn({},l),{},{editingLinearElement:rn(rn({},l.editingLinearElement),{},{selectedPointsIndices:w})})}}},{key:"deletePoints",value:function(l,s){var u=0,d=0;if(s.includes(0)){var p=l.points.find(function(w,y){return!s.includes(y)});p&&(u=p[0],d=p[1])}var v=l.points.reduce(function(w,y,T){return s.includes(T)||w.push(w.length?[y[0]-u,y[1]-d]:[0,0]),w},[]);a._updatePoints(l,v,u,d)}},{key:"addPoints",value:function(l,s){var u=[].concat(Ne(l.points),Ne(s.map(function(d){return d.point})));a._updatePoints(l,u,0,0)}},{key:"movePoints",value:function(l,s,u){var d=l.points,p=0,v=0,w=s.find(function(T){return T.index===0});w&&(p=w.point[0]-d[w.index][0],v=w.point[1]-d[w.index][1]);var y=d.map(function(T,_){var L=s.find(function(z){return z.index===_});if(L){if(w)return T;var R=L.point[0]-d[L.index][0],j=L.point[1]-d[L.index][1];return[T[0]+R,T[1]+j]}return p||v?[T[0]-p,T[1]-v]:T});a._updatePoints(l,y,p,v,u)}},{key:"_updatePoints",value:function(l,s,u,d,p){var v=Bp(l,s,l.strokeSharpness||"round"),w=Bp(l,l.points,l.strokeSharpness||"round"),y=(v[0]+v[2])/2,T=(v[1]+v[3])/2,_=(w[0]+w[2])/2,L=(w[1]+w[3])/2,R=Sr(u,d,_-y,L-T,l.angle);vt(l,rn(rn({},p),{},{points:s,x:l.x+R[0],y:l.y+R[1]}))}}]),a}();Ur.POINT_HANDLE_SIZE=20;var Fg=function(a){var l=Ne(new Set(a.filter(function(s){return s!==null&&s!==-1})));return l=l.sort(function(s,u){return s-u}),l.length?l:null};function ka(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}var ss=function(a){return a.isBindingEnabled},hc=function(a,l,s){var u=new Set,d=new Set;zg(a,l,s,"start",u,d),zg(a,s,l,"end",u,d);var p=Array.from(d).filter(function(v){return!u.has(v)});mn.getScene(a).getNonDeletedElements(p).forEach(function(v){var w;vt(v,{boundElements:(w=v.boundElements)===null||w===void 0?void 0:w.filter(function(y){return y.type!=="arrow"||y.id!==a.id})})})},zg=function(a,l,s,u,d,p){if(l!=="keep")if(l!=null)s!=null&&(s==="keep"?y1(a,l,u):u!=="start"&&s.id===l.id)||(sf(a,l,u),d.add(l.id));else{var v=Bg(a,u);v!=null&&p.add(v)}},Wo=function(a){a.forEach(function(l){hi(l)?hc(l,uf(l,"start"),uf(l,"end")):k0(l)&&Ba(l)})},Ba=function(a){x1(a).forEach(function(l){var s=W(l,2),u=s[0],d=s[1];return hc(u,d==="end"?"keep":a,d==="start"?"keep":a)})},lf=function(a,l,s,u){l.startBoundElement!=null&&sf(a,l.startBoundElement,"start");var d=Ml(u,s);d==null||y1(a,d,"end")||sf(a,d,"end")},sf=function(a,l,s){vt(a,be({},s==="start"?"startBinding":"endBinding",function(u){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?ka(Object(p),!0).forEach(function(v){be(u,v,p[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(p)):ka(Object(p)).forEach(function(v){Object.defineProperty(u,v,Object.getOwnPropertyDescriptor(p,v))})}return u}({elementId:l.id},Hg(a,l,s)))),Ia(l.boundElements||[]).has(a.id)||vt(l,{boundElements:(l.boundElements||[]).concat({id:a.id,type:"arrow"})})},y1=function(a,l,s){var u=a[s==="start"?"endBinding":"startBinding"];return pc(a,u==null?void 0:u.elementId,l)},pc=function(a,l,s){return l===s.id&&a.points.length<3},b1=function(a){a.forEach(function(l){hi(l)&&hc(l,null,null)})},Bg=function(a,l){var s=l==="start"?"startBinding":"endBinding",u=a[s];return u==null?null:(vt(a,be({},s,null)),u.elementId)},Ml=function(a,l){return Sy(l.getElements(),function(s){return k0(s)&&p1(s,a)})},Hg=function(a,l,s){var u=s==="start"?-1:1,d=u===-1?0:a.points.length-1,p=d-u,v=Ur.getPointAtIndexGlobalCoordinates(a,d),w=Ur.getPointAtIndexGlobalCoordinates(a,p);return{focus:Lg(l,w,v),gap:Math.max(1,ef(l,v))}},us=function(a,l){var s,u=((s=a.boundElements)!==null&&s!==void 0?s:[]).filter(function(y){return y.type==="arrow"});if(u.length!==0){var d=l!=null?l:{},p=d.newSize,v=d.simultaneouslyUpdated,w=Ug(v);mn.getScene(a).getNonDeletedElements(u.map(function(y){return y.id})).forEach(function(y){if(on(y)){var T=a;if(w1(y,T)){var _=Ud(T,y.startBinding,p),L=Ud(T,y.endBinding,p);w.has(y.id)?vt(y,{startBinding:_,endBinding:L}):(mc(y,"start",_,a),mc(y,"end",L,a))}}})}},w1=function(a,l){var s,u;return((s=a.startBinding)===null||s===void 0?void 0:s.elementId)===l.id||((u=a.endBinding)===null||u===void 0?void 0:u.elementId)===l.id},Ug=function(a){return new Set((a||[]).map(function(l){return l.id}))},mc=function(a,l,s,u){if(!(s==null||s.elementId!==u.id&&a.points.length>2)){var d=mn.getScene(a).getElement(s.elementId);if(d!=null){var p,v=l==="start"?-1:1,w=v===-1?0:a.points.length-1,y=w-v,T=Ur.getPointAtIndexGlobalCoordinates(a,y),_=function(R,j,z){if(j===0){var K=wr(R),$=fc(K);return is($)}var Z,oe=nf(R),le=Ko(oe,_l(z)),me=Y0(oe);switch(R.type){case"rectangle":case"image":case"text":case"diamond":Z=jg(R,j,le);break;case"ellipse":Z=Ng(R,j,le)}return is(Ko(me,Z))}(d,s.focus,T);if(s.gap===0)p=_;else{var L=function(R,j,z){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,$=nf(R),Z=Ko($,_l(j)),oe=Ko($,_l(z)),le=cu(Z,oe),me=Y0($);return Fd(R,le,Z,K).map(function(Ce){return is(Ko(me,Ce))})}(d,T,_,s.gap);p=L.length===0?_:L[0]}Ur.movePoints(a,[{index:w,point:Ur.pointFromAbsoluteCoords(a,p)}],be({},l==="start"?"startBinding":"endBinding",s))}}},Ud=function(a,l,s){if(l==null||s==null)return l;var u=l.gap,d=l.focus,p=l.elementId,v=s.width,w=s.height,y=a.width,T=a.height;return{elementId:p,gap:Math.max(1,Math.min(xa(a,v,w),u*(v<w?v/y:w/T))),focus:d}},Kg=function(a){return[uf(a,"start"),uf(a,"end")].filter(function(l){return l!=null})},uf=function(a,l){return Ml(cf(a,l),mn.getScene(a))},cf=function(a,l){var s=l==="start"?0:-1;return sn(Ur.getPointAtIndexGlobalCoordinates(a,s))},x1=function(a){return mn.getScene(a).getElements().map(function(l){if(!hi(l))return null;var s=po(l,"start",a),u=po(l,"end",a);return s||u?[l,s&&u?"both":s?"start":"end",a]:null}).filter(function(l){return l!=null})},po=function(a,l,s){return a[l==="start"?"startBinding":"endBinding"]==null&&!y1(a,s,l)&&p1(s,cf(a,l))},Il=function(a,l,s,u){var d=new Set,p=new Set,v=u==="duplicatesServeAsOld";l.forEach(function(w){var y=w.boundElements;if(y!=null&&y.length>0&&(y.forEach(function(L){v&&!s.has(L.id)&&d.add(L.id)}),p.add(s.get(w.id))),hi(w)){if(w.startBinding!=null){var T=w.startBinding.elementId;v&&!s.has(T)&&p.add(T)}if(w.endBinding!=null){var _=w.endBinding.elementId;v&&!s.has(_)&&p.add(_)}w.startBinding==null&&w.endBinding==null||d.add(s.get(w.id))}}),a.filter(function(w){var y=w.id;return d.has(y)}).forEach(function(w){var y=w.startBinding,T=w.endBinding;vt(w,{startBinding:k1(y,s),endBinding:k1(T,s)})}),a.filter(function(w){var y=w.id;return p.has(y)}).forEach(function(w){var y=w.boundElements;y!=null&&y.length>0&&vt(w,{boundElements:y.map(function(T){return s.has(T.id)?{id:s.get(T.id),type:T.type}:T})})})},k1=function(a,l){var s;if(a==null)return null;var u=a.elementId;return{focus:a.focus,gap:a.gap,elementId:(s=l.get(u))!==null&&s!==void 0?s:u}},C1=function(a,l){var s=new Set(l.map(function(d){return d.id})),u=new Set;l.forEach(function(d){var p;k0(d)&&((p=d.boundElements)===null||p===void 0||p.forEach(function(v){s.has(v.id)||u.add(v.id)}))}),a.filter(function(d){var p=d.id;return u.has(p)}).forEach(function(d){var p=d.startBinding,v=d.endBinding;vt(d,{startBinding:Wg(p,s),endBinding:Wg(v,s)})})},Wg=function(a,l){return a==null||l.has(a.elementId)?null:a};function $g(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function vc(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?$g(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):$g(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var $o=function(a){return a>=2*Math.PI?a-2*Math.PI:a},Gg=function(a,l,s,u){var d=W(wr(a),4),p=d[0],v=d[1],w=(p+d[2])/2,y=(v+d[3])/2,T=5*Math.PI/2+Math.atan2(s-y,l-w);u&&(T+=I.ay/2,T-=T%I.ay),T=$o(T),vt(a,{angle:T});var _=ei(a);if(_){var L=mn.getScene(a).getElement(_);vt(L,{angle:T})}},Vg=function(a,l,s,u,d){var p=W(wr(a),4),v=p[0],w=p[1],y=p[2],T=p[3],_=W(Sr(u,d,(v+y)/2,(w+T)/2,-a.angle),2),L=_[0],R=_[1],j=W(l==="end"?[L-a.x,R-a.y]:[a.x+a.points[1][0]-L,a.y+a.points[1][1]-R],2),z=j[0],K=j[1];if(s){var $=function(Ce,_e,Ie,Te){var $e=ta.apply(void 0,[Ce].concat(Ne(Sr(_e,Ie,0,0,Te))));return Sr($e.width,$e.height,0,0,-Te)}(a.type,z,K,a.angle),Z=W($,2);z=Z[0],K=Z[1]}var oe=W(Fp(l==="end"?{s:!0,e:!0}:{n:!0,w:!0},a.x,a.y,a.angle,0,0,(a.points[1][0]-z)/2,(a.points[1][1]-K)/2),2),le=oe[0],me=oe[1];vt(a,{x:le,y:me,points:[[0,0],[z,K]]})},qg=function(a,l,s){return on(a)||No(a)?{points:vd(0,l,vd(1,s,a.points))}:{}},Yg=function(a,l,s){var u=a.fontSize*(l/a.width);if(u<1)return null;var d=El(a.text,hn({fontSize:u,fontFamily:a.fontFamily}),a.containerId?a.width:null);return{size:u,baseline:d.baseline+(s-d.height)}},Wb=function(a,l,s,u,d){var p,v=W(wr(a),4),w=v[0],y=v[1],T=v[2],_=v[3],L=W(Sr(u,d,(w+T)/2,(y+_)/2,-a.angle),2),R=L[0],j=L[1];switch(l){case"se":p=Math.max((R-w)/(T-w),(j-y)/(_-y));break;case"nw":p=Math.max((T-R)/(T-w),(_-j)/(_-y));break;case"ne":p=Math.max((R-w)/(T-w),(_-j)/(_-y));break;case"sw":p=Math.max((T-R)/(T-w),(j-y)/(_-y))}if(p>0){var z=a.width*p,K=a.height*p,$=Yg(a,z,K);if($===null)return;var Z=W(Zs(a,z,K),4),oe=(w-Z[0])/2,le=(y-Z[1])/2,me=(T-Z[2])/2,Ce=(_-Z[3])/2,_e=Fp(function(He,We){return{n:/^(n|ne|nw)$/.test(He)||We&&/^(s|se|sw)$/.test(He),s:/^(s|se|sw)$/.test(He)||We&&/^(n|ne|nw)$/.test(He),w:/^(w|nw|sw)$/.test(He)||We&&/^(e|ne|se)$/.test(He),e:/^(e|ne|se)$/.test(He)||We&&/^(w|nw|sw)$/.test(He)}}(l,s),a.x,a.y,a.angle,oe,le,me,Ce),Ie=W(_e,2),Te=Ie[0],$e=Ie[1];vt(a,{fontSize:$.size,width:z,height:K,baseline:$.baseline,x:Te,y:$e})}},vi=function(a,l,s,u,d,p,v){var w=W(Zs(a,a.width,a.height),4),y=[w[0],w[1]],T=[w[2],w[3]],_=function(un,Tn){return[(un[0]+Tn[0])/2,(un[1]+Tn[1])/2]}(y,T),L=C0([p,v],_,-a.angle),R=W(Zs(s,s.width,s.height),4),j=R[0],z=R[1],K=R[2],$=R[3],Z=ei(s),oe=K-j,le=$-z,me=(T[0]-y[0])/oe,Ce=(T[1]-y[1])/le;u.includes("e")&&(me=(L[0]-y[0])/oe),u.includes("s")&&(Ce=(L[1]-y[1])/le),u.includes("w")&&(me=(T[0]-L[0])/oe),u.includes("n")&&(Ce=(T[1]-L[1])/le);var _e=a.width,Ie=a.height,Te=s.width*me,$e=s.height*Ce;if(d&&(Te=2*Te-_e,$e=2*$e-Ie),l){var He=Math.abs(Te)/_e,We=Math.abs($e)/Ie;if(u.length===1&&($e*=He,Te*=We),u.length===2){var Ee=Math.max(He,We);Te=_e*Ee*Math.sign(Te),$e=Ie*Ee*Math.sign($e)}}var rt=W(Zs(a,Te,$e),4),Xe=rt[0],qe=rt[1],at=rt[2]-Xe,et=rt[3]-qe;if(!(at<0||et<0)||!Z){var Le=[].concat(y);if(["n","w","nw"].includes(u)&&(Le=[T[0]-Math.abs(at),T[1]-Math.abs(et)]),u==="ne"){var dt=[y[0],T[1]];Le=[dt[0],dt[1]-Math.abs(et)]}if(u==="sw"){var mt=[T[0],y[1]];Le=[mt[0]-Math.abs(at),mt[1]]}l&&(["s","n"].includes(u)&&(Le[0]=_[0]-at/2),["e","w"].includes(u)&&(Le[1]=_[1]-et/2)),Te<0&&(u.includes("e")&&(Le[0]-=Math.abs(at)),u.includes("w")&&(Le[0]+=Math.abs(at))),$e<0&&(u.includes("s")&&(Le[1]-=Math.abs(et)),u.includes("n")&&(Le[1]+=Math.abs(et))),d&&(Le[0]=_[0]-Math.abs(at)/2,Le[1]=_[1]-Math.abs(et)/2);var bt=a.angle,ut=C0(Le,_,bt),Dt=[Le[0]+Math.abs(at)/2,Le[1]+Math.abs(et)/2],lr=C0(Dt,_,bt);Le=C0(ut,lr,-bt);var Ar=qg(a,Te,$e),Qr=Ne(Le);Qr[0]+=a.x-Xe,Qr[1]+=a.y-qe;var br=vc({width:Math.abs(Te),height:Math.abs($e),x:Qr[0],y:Qr[1]},Ar);"scale"in s&&"scale"in a&&vt(s,{scale:[(Math.sign(me)||a.scale[0])*a.scale[0],(Math.sign(Ce)||a.scale[1])*a.scale[1]]});var qr=0,hr=rs(s);hr&&(qr=eu(hn(hr))),br.width>=qr&&br.height!==0&&Number.isFinite(br.x)&&Number.isFinite(br.y)&&(us(s,{newSize:{width:br.width,height:br.height}}),vt(s,br),ba([s],u))}},$b=function(a,l,s,u){var d,p,v=W(qn(a),4),w=v[0],y=v[1],T=v[2],_=v[3];switch(l){case"se":d=Math.max((s-w)/(T-w),(u-y)/(_-y)),p=function(R,j,z){var K=W(j,2),$=K[0],Z=K[1],oe=W(z,2),le=oe[0],me=oe[1];return{x:R.x+($-w)*(d-1)+$-le,y:R.y+(Z-y)*(d-1)+Z-me}};break;case"nw":d=Math.max((T-s)/(T-w),(_-u)/(_-y)),p=function(R,j,z){var K=W(j,4),$=K[2],Z=K[3],oe=W(z,4),le=oe[2],me=oe[3];return{x:R.x-(T-$)*(d-1)+$-le,y:R.y-(_-Z)*(d-1)+Z-me}};break;case"ne":d=Math.max((s-w)/(T-w),(_-u)/(_-y)),p=function(R,j,z){var K=W(j,4),$=K[0],Z=K[3],oe=W(z,4),le=oe[0],me=oe[3];return{x:R.x+($-w)*(d-1)+$-le,y:R.y-(_-Z)*(d-1)+Z-me}};break;case"sw":d=Math.max((T-s)/(T-w),(u-y)/(_-y)),p=function(R,j,z){var K=W(j,3),$=K[1],Z=K[2],oe=W(z,3),le=oe[1],me=oe[2];return{x:R.x-(T-Z)*(d-1)+Z-me,y:R.y+($-y)*(d-1)+$-le}}}if(d>0){var L=a.reduce(function(R,j){if(!R)return R;var z=j.width*d,K=j.height*d,$={};if(Lr(j)){var Z=Yg(j,z,K);if(Z===null)return null;$={fontSize:Z.size,baseline:Z.baseline}}var oe=wr(j),le=qg(j,z,K);us(j,{newSize:{width:z,height:K},simultaneouslyUpdated:a});var me=Zs(vc(vc({},j),le),z,K),Ce=p(j,oe,me),_e=Ce.x,Ie=Ce.y;return[].concat(Ne(R),[vc(vc({width:z,height:K,x:_e,y:Ie},le),$)])},[]);L&&a.forEach(function(R,j){vt(R,L[j])})}},Xg=function(a,l,s,u,d,p,v){var w=5*Math.PI/2+Math.atan2(u-v,s-p);d&&(w+=I.ay/2,w-=w%I.ay),l.forEach(function(y,T){var _,L,R=W(wr(y),4),j=R[0],z=R[1],K=(j+R[2])/2,$=(z+R[3])/2,Z=(_=(L=a.originalElements.get(y.id))===null||L===void 0?void 0:L.angle)!==null&&_!==void 0?_:y.angle,oe=W(Sr(K,$,p,v,w+Z-y.angle),2),le=oe[0],me=oe[1];vt(y,{x:y.x+(le-K),y:y.y+(me-$),angle:$o(w+Z)});var Ce=ei(y);if(Ce){var _e=mn.getScene(y).getElement(Ce);vt(_e,{x:_e.x+(le-K),y:_e.y+(me-$),angle:$o(w+Z)})}})},Zg=function(a,l,s,u,d,p){var v,w;if(a){var y=a&&l<s,T=a&&l>s,_=u.originalElements.get(d.id);v=y&&_?_.x:d.x+p.x,w=T&&_?_.y:d.y+p.y}else v=d.x+p.x,w=d.y+p.y;vt(d,{x:v,y:w})},Kd=function(a,l,s,u,d,p,v,w,y,T,_){if(y)if(_)w=v/_;else{var L=ta(l,v,p<u?-w:w);v=L.width,(w=L.height)<0&&(w=-w)}var R=d<s?s-v:s,j=p<u?u-w:u;T&&(R=s-(v+=v)/2,j=u-(w+=w)/2),v!==0&&w!==0&&vt(a,{x:R,y:j,width:v,height:w})},cs=function(a){var l=a.options,s=a.value,u=a.onChange,d=a.group;return(0,A.jsx)("div",{className:"buttonList buttonListIcon",children:l.map(function(p){return(0,A.jsxs)("label",{className:Cr({active:s===p.value}),title:p.text,children:[(0,A.jsx)("input",{type:"radio",name:d,onChange:function(){return u(p.value)},checked:s===p.value,"data-testid":p.testId}),p.icon]},p.text)})})},S1=(g(4301),function(a){var l=a.children,s=a.left,u=a.top,d=a.onCloseRequest,p=a.fitInViewport,v=p!==void 0&&p,w=a.offsetLeft,y=w===void 0?0:w,T=a.offsetTop,_=T===void 0?0:T,L=a.viewportWidth,R=L===void 0?window.innerWidth:L,j=a.viewportHeight,z=j===void 0?window.innerHeight:j,K=(0,D.useRef)(null);return(0,D.useLayoutEffect)(function(){if(v&&K.current){var $=K.current,Z=$.getBoundingClientRect(),oe=Z.x,le=Z.y,me=Z.width,Ce=Z.height;oe+me-y>R&&($.style.left="".concat(R-me,"px")),le+Ce-_>z&&($.style.top="".concat(z-Ce,"px"))}},[v,R,z,y,_]),(0,D.useEffect)(function(){if(d){var $=function(Z){var oe;(oe=K.current)!==null&&oe!==void 0&&oe.contains(Z.target)||(0,kl.unstable_batchedUpdates)(function(){return d(Z)})};return document.addEventListener("pointerdown",$,!1),function(){return document.removeEventListener("pointerdown",$,!1)}}},[d]),(0,A.jsx)("div",{className:"popover",style:{top:u,left:s},ref:K,children:l})}),Qg=(g(4220),function(a){var l=new Option().style;return l.color=a,!!l.color}),hu=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),Jg=function(a){var l=a.colors,s=a.color,u=a.onChange,d=a.onClose,p=a.label,v=a.showInput,w=v===void 0||v,y=a.type,T=F().useRef(),_=F().useRef(),L=F().useRef(),R=F().useRef();return F().useEffect(function(){_.current?_.current.focus():R.current?R.current.focus():L.current&&L.current.focus()},[]),(0,A.jsxs)("div",{className:"color-picker color-picker-type-".concat(y),role:"dialog","aria-modal":"true","aria-label":G("labels.colorPicker"),onKeyDown:function(j){if(j.key===Be.TAB){var z,K=document.activeElement;if(j.shiftKey)K===T.current&&((z=R.current)===null||z===void 0||z.focus(),j.preventDefault());else if(K===R.current){var $;($=T.current)===null||$===void 0||$.focus(),j.preventDefault()}}else if(ec(j.key)){var Z=document.activeElement,oe=ze().rtl,le=Array.prototype.indexOf.call(L.current.children,Z);if(le!==-1){var me=L.current.children.length-(w?1:0),Ce=j.key===(oe?Be.ARROW_LEFT:Be.ARROW_RIGHT)?(le+1)%me:j.key===(oe?Be.ARROW_RIGHT:Be.ARROW_LEFT)?(me+le-1)%me:j.key===Be.ARROW_DOWN?(le+5)%me:j.key===Be.ARROW_UP?(me+le-5)%me:le;L.current.children[Ce].focus()}j.preventDefault()}else if(hu.includes(j.key.toLowerCase())&&!Ro(j.target)){var _e=hu.indexOf(j.key.toLowerCase());L.current.children[_e].focus(),j.preventDefault()}else j.key!==Be.ESCAPE&&j.key!==Be.ENTER||(j.preventDefault(),d());j.nativeEvent.stopImmediatePropagation(),j.stopPropagation()},children:[(0,A.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,A.jsx)("div",{className:"color-picker-triangle"}),(0,A.jsxs)("div",{className:"color-picker-content",ref:function(j){j&&(L.current=j)},tabIndex:0,children:[l.map(function(j,z){var K=j.replace("#","");return(0,A.jsxs)("button",{className:"color-picker-swatch",onClick:function($){$.currentTarget.focus(),u(j)},title:"".concat(G("colors.".concat(K))).concat(Gr(j)?"":" (".concat(j,")")," \u2014 ").concat(hu[z].toUpperCase()),"aria-label":G("colors.".concat(K)),"aria-keyshortcuts":hu[z],style:{color:j},ref:function($){$&&z===0&&(T.current=$),$&&j===s&&(_.current=$)},onFocus:function(){u(j)},children:[Gr(j)?(0,A.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,A.jsx)("span",{className:"color-picker-keybinding",children:hu[z]})]},j)}),w&&(0,A.jsx)(ey,{color:s,label:p,onChange:function(j){u(j)},ref:R})]})]})},ey=F().forwardRef(function(a,l){var s=a.color,u=a.onChange,d=a.label,p=W(F().useState(s),2),v=p[0],w=p[1],y=F().useRef(null);F().useEffect(function(){w(s)},[s]),F().useImperativeHandle(l,function(){return y.current});var T=F().useCallback(function(_){var L=_.toLowerCase(),R=function(j){return Gr(j)||Qg(j)?j:Qg("#".concat(j))?"#".concat(j):null}(L);R&&u(R),w(L)},[u]);return(0,A.jsxs)("label",{className:"color-input-container",children:[(0,A.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,A.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":d,onChange:function(_){return T(_.target.value)},value:(v||"").replace(/^#/,""),onBlur:function(){return w(s)},ref:y})]})}),E1=function(a){var l=a.type,s=a.color,u=a.onChange,d=a.label,p=a.isActive,v=a.setActive,w=F().useRef(null);return(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:"color-picker-control-container",children:[(0,A.jsx)("button",{className:"color-picker-label-swatch","aria-label":d,style:s?{"--swatch-color":s}:void 0,onClick:function(){return v(!p)},ref:w}),(0,A.jsx)(ey,{color:s,label:d,onChange:function(y){u(y)}})]}),(0,A.jsx)(F().Suspense,{fallback:"",children:p?(0,A.jsx)(S1,{onCloseRequest:function(y){return y.target!==w.current&&v(!1)},children:(0,A.jsx)(Jg,{colors:Zl[l],color:s||null,onChange:function(y){u(y)},onClose:function(){var y;v(!1),(y=w.current)===null||y===void 0||y.focus()},label:d,showInput:!1,type:l})}):null})]})};g(7117);function ty(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function ry(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?ty(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):ty(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}function Gb(a){var l=a.options,s=a.value,u=a.label,d=a.onChange,p=a.onClose,v=F().useRef(),w=F().useRef(),y=F().useRef(null);return F().useEffect(function(){w.current?w.current.focus():y.current&&y.current.focus()},[]),(0,A.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":u,onKeyDown:function(T){var _=l.find(function(Z){return Z.keyBinding===T.key.toLowerCase()});if(T.metaKey||T.altKey||T.ctrlKey||!_)if(T.key===Be.TAB)setTimeout(function(){w.current!==document.activeElement&&p()},0);else if(ec(T.key)){var L=document.activeElement,R=ze().rtl,j=Array.prototype.indexOf.call(y.current.children,L);if(j!==-1){var z=l.length,K=j;switch(T.key){case(R?Be.ARROW_LEFT:Be.ARROW_RIGHT):case Be.ARROW_DOWN:K=(j+1)%z;break;case(R?Be.ARROW_RIGHT:Be.ARROW_LEFT):case Be.ARROW_UP:K=(z+j-1)%z}y.current.children[K].focus()}T.preventDefault()}else T.key!==Be.ESCAPE&&T.key!==Be.ENTER||(T.preventDefault(),p());else{var $=l.indexOf(_);y.current.children[$].focus(),T.preventDefault()}T.nativeEvent.stopImmediatePropagation(),T.stopPropagation()},children:(0,A.jsx)("div",{className:"picker-content",ref:y,children:l.map(function(T,_){return(0,A.jsxs)("button",{className:"picker-option",onClick:function(L){L.currentTarget.focus(),d(T.value)},title:"".concat(T.text," \u2014 ").concat(T.keyBinding.toUpperCase()),"aria-label":T.text||"none","aria-keyshortcuts":T.keyBinding,ref:function(L){L&&_===0&&(v.current=L),L&&T.value===s&&(w.current=L)},onFocus:function(){d(T.value)},children:[T.icon,(0,A.jsx)("span",{className:"picker-keybinding",children:T.keyBinding})]},T.text)})})})}function ny(a){var l,s=a.value,u=a.label,d=a.options,p=a.onChange,v=a.group,w=v===void 0?"":v,y=W(F().useState(!1),2),T=y[0],_=y[1],L=F().useRef(null),R=ze().rtl;return(0,A.jsxs)("label",{className:"picker-container",children:[(0,A.jsx)("button",{name:w,className:T?"active":"","aria-label":u,onClick:function(){return _(!T)},ref:L,children:(l=d.find(function(j){return j.value===s}))===null||l===void 0?void 0:l.icon}),(0,A.jsx)(F().Suspense,{fallback:"",children:T?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(S1,ry(ry({onCloseRequest:function(j){return j.target!==L.current&&_(!1)}},R?{right:5.5}:{left:-5.5}),{},{children:(0,A.jsx)(Gb,{options:d,value:s,label:u,onChange:p,onClose:function(){var j;_(!1),(j=L.current)===null||j===void 0||j.focus()}})})),(0,A.jsx)("div",{className:"picker-triangle"})]}):null})]})}var vn=function(a){return a===I.C6.LIGHT?fr.orange[4]:fr.orange[9]},ff=function(a){return a===I.C6.LIGHT?fr.white:"#1e1e1e"},gt=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,s=typeof l=="number"?{width:l}:l,u=s.width,d=u===void 0?512:u,p=s.height,v=p===void 0?d:p,w=s.mirror,y=s.style;return(0,A.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(d," ").concat(v),className:Cr({"rtl-mirror":w}),style:y,children:typeof a=="string"?(0,A.jsx)("path",{fill:"currentColor",d:a}):a})},Vb=gt((0,A.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),ay=gt("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",{mirror:!0}),qb=gt("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),iy=gt("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),_1=gt("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),Yb=gt("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),Wd=gt("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Xb=gt("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),$d=gt("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),Zb=gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-187 44v-64 64z"}),(0,A.jsx)("path",{d:"M384 121.941V128H256V0h6.059c6.362 0 12.471 2.53 16.97 7.029l97.941 97.941a24.01 24.01 0 017.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"})]}),{width:576,height:512,mirror:!0}),oy=gt("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),Gd=gt("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),ly=gt("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),sy=gt("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),T1=gt("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),uy=gt("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",{mirror:!0}),cy=gt("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",{mirror:!0}),fy=gt("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),Qb=(gt("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),gt("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,A.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),gt((0,A.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,A.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:vn(l),stroke:vn(l),strokeWidth:"2"})]}),{width:24,mirror:!0})})),Vd=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:vn(l),stroke:vn(l),strokeWidth:"2"}),(0,A.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"})]}),{width:24,mirror:!0})}),qd=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,A.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:vn(l),stroke:vn(l),strokeWidth:"2"})]}),{width:24,mirror:!0})}),Jb=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:vn(l),stroke:vn(l),strokeWidth:"2"}),(0,A.jsx)("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"})]}),{width:24,mirror:!0})}),O1=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M 2,5 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:vn(l),stroke:vn(l),strokeWidth:"2"})]}),{width:24,mirror:!0})}),dy=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M 2,19 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",fill:vn(l),stroke:vn(l),strokeWidth:"2"})]}),{width:24,mirror:!0})}),ew=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M 5,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",fill:vn(l),stroke:vn(l),strokeWidth:"2"})]}),{width:24})}),mo=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M 19,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",fill:vn(l),stroke:vn(l),strokeWidth:"2"})]}),{width:24})}),tw=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M19 5V19M5 5V19",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:vn(l),stroke:vn(l),strokeWidth:"2"})]}),{width:24})}),rw=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M5 5L19 5M5 19H19",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:vn(l),stroke:vn(l),strokeWidth:"2"})]}),{width:24})}),pu=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:vn(l),stroke:vn(l),strokeWidth:"2"}),(0,A.jsx)("path",{d:"M 2,12 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24,mirror:!0})}),ur=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:vn(l),stroke:vn(l),strokeWidth:"2"}),(0,A.jsx)("path",{d:"M 12,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24})}),nw=gt("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",{width:640,height:512,mirror:!0}),Da=(gt("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),gt("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),gt("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",{width:352,height:512})),Bn=gt("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),fs=gt("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),aw=(gt("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),gt("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512})),A1=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,A.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,A.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,A.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,A.jsxs)("g",{fill:ff(l),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,A.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),Dl=F().memo(function(a){var l=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,A.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,A.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,A.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,A.jsxs)("g",{fill:ff(l),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,A.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),hy=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",fill:"var(--icon-fill-color)"}),{width:40,height:20})}),Yd=F().memo(function(a){return a.theme,gt((0,A.jsxs)("g",{fill:"var(--icon-fill-color)",fillRule:"evenodd",clipRule:"evenodd",children:[(0,A.jsx)("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),(0,A.jsx)("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})]}),{width:40,height:20})}),_n=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M2 2H38V18H2V2Z",fill:"var(--icon-fill-color)"}),{width:40,height:20})}),xn=F().memo(function(a){a.theme;var l=a.strokeWidth;return gt((0,A.jsx)("path",{d:"M6 10H32",stroke:"var(--icon-fill-color)",strokeWidth:l,strokeLinecap:"round",fill:"none"}),{width:40,height:20})}),py=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),my=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),df=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M6 10H36",stroke:"var(--icon-fill-color)",strokeWidth:2.5,strokeDasharray:"2, 4.5",fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),M1=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),vy=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),Xd=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),gi=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M10 17L10 5L35 5",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),gc=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),gy=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none"}),{width:40,height:20})}),yy=F().memo(function(a){a.theme;var l=a.flip,s=l!==void 0&&l;return gt((0,A.jsxs)("g",{transform:s?"translate(40, 0) scale(-1, 1)":"",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",children:[(0,A.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,A.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),I1=F().memo(function(a){a.theme;var l=a.flip,s=l!==void 0&&l;return gt((0,A.jsxs)("g",{stroke:"var(--icon-fill-color)",fill:"var(--icon-fill-color)",transform:s?"translate(40, 0) scale(-1, 1)":"",children:[(0,A.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,A.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),Go=F().memo(function(a){a.theme;var l=a.flip,s=l!==void 0&&l;return gt((0,A.jsx)("g",{transform:s?"translate(40, 0) scale(-1, 1)":"",children:(0,A.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),dr=F().memo(function(a){a.theme;var l=a.flip,s=l!==void 0&&l;return gt((0,A.jsxs)("g",{stroke:"var(--icon-fill-color)",fill:"var(--icon-fill-color)",transform:s?"translate(40, 0) scale(-1, 1)":"",children:[(0,A.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,A.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),by=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 0 69.092 L 0 55.03 A 124.24 124.24 0 0 0 4.706 57.02 Q 6.826 57.863 8.708 58.5 A 53.466 53.466 0 0 0 12.231 59.571 Q 17.236 60.889 21.387 60.889 A 20.909 20.909 0 0 0 24.265 60.704 Q 25.719 60.502 26.903 60.077 A 8.649 8.649 0 0 0 29.028 58.985 Q 31.689 57.08 31.689 53.321 Q 31.689 51.221 30.518 49.585 A 10.126 10.126 0 0 0 29.282 48.177 Q 28.352 47.287 27.075 46.436 A 23.719 23.719 0 0 0 25.752 45.627 Q 23.774 44.492 20.176 42.735 A 254.44 254.44 0 0 0 17.822 41.602 Q 11.503 38.631 8.236 35.888 A 19.742 19.742 0 0 1 8.008 35.694 A 22.18 22.18 0 0 1 2.783 29.102 Q 0.83 25.342 0.83 20.313 A 22.471 22.471 0 0 1 1.733 13.778 A 17.283 17.283 0 0 1 7.251 5.42 A 21.486 21.486 0 0 1 15.177 1.272 Q 18.361 0.338 22.166 0.09 A 43.573 43.573 0 0 1 25 0 A 42.399 42.399 0 0 1 34.349 1.01 A 39.075 39.075 0 0 1 35.62 1.319 A 67.407 67.407 0 0 1 42.108 3.382 A 83.357 83.357 0 0 1 46.191 5.03 L 41.309 16.797 Q 35.596 14.453 31.86 13.526 A 30.762 30.762 0 0 0 25.417 12.612 A 28.337 28.337 0 0 0 24.512 12.598 A 14.846 14.846 0 0 0 22.022 12.793 Q 19.498 13.224 17.92 14.6 Q 15.625 16.602 15.625 19.824 Q 15.625 21.826 16.553 23.316 Q 17.48 24.805 19.507 26.197 A 18.343 18.343 0 0 0 20.659 26.912 Q 22.596 28.035 26.516 29.953 A 299.99 299.99 0 0 0 29.102 31.201 Q 37.91 35.412 41.841 39.642 A 16.553 16.553 0 0 1 42.822 40.796 A 17.675 17.675 0 0 1 46.301 49.233 A 23.517 23.517 0 0 1 46.533 52.588 A 21.581 21.581 0 0 1 45.471 59.515 A 17.733 17.733 0 0 1 39.575 67.823 Q 33.745 72.486 24.094 73.243 A 49.683 49.683 0 0 1 20.215 73.389 A 51.712 51.712 0 0 1 9.448 72.315 A 40.672 40.672 0 0 1 0 69.092 Z"}),{width:47,height:77})}),Ki=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 44.092 71.387 L 30.225 71.387 L 13.037 15.381 L 12.598 15.381 A 1505.093 1505.093 0 0 1 12.959 22.313 Q 13.426 31.715 13.508 36.4 A 102.991 102.991 0 0 1 13.525 38.184 L 13.525 71.387 L 0 71.387 L 0 0 L 20.605 0 L 37.5 54.59 L 37.793 54.59 L 55.713 0 L 76.318 0 L 76.318 71.387 L 62.207 71.387 L 62.207 37.598 Q 62.207 35.205 62.28 32.08 A 160.703 160.703 0 0 1 62.326 30.544 Q 62.452 26.754 62.866 17.168 A 5390.536 5390.536 0 0 1 62.939 15.479 L 62.5 15.479 L 44.092 71.387 Z"}),{width:77,height:75})}),wy=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 44.092 71.387 L 0 71.387 L 0 0 L 15.137 0 L 15.137 58.887 L 44.092 58.887 L 44.092 71.387 Z"}),{width:45,height:75})}),Kr=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 42.578 35.4 L 66.699 71.387 L 49.414 71.387 L 32.813 44.385 L 16.211 71.387 L 0 71.387 L 23.682 34.57 L 1.514 0 L 18.213 0 L 33.594 25.684 L 48.682 0 L 64.99 0 L 42.578 35.4 Z M 119.775 71.387 L 75.684 71.387 L 75.684 0 L 90.82 0 L 90.82 58.887 L 119.775 58.887 L 119.775 71.387 Z"}),{width:120,height:75})}),iw=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}),{width:448,height:512})}),xy=F().memo(function(a){return a.theme,gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 63.818 71.68 L 54.492 71.68 L 45.898 49.561 L 17.578 49.561 L 9.082 71.68 L 0 71.68 L 27.881 0 L 35.986 0 L 63.818 71.68 Z M 20.605 41.602 L 43.213 41.602 L 35.205 19.971 L 31.787 9.277 Q 30.322 15.137 28.711 19.971 L 20.605 41.602 Z"}),(0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 68.994 71.68 L 52.686 71.68 L 47.51 54.688 L 21.484 54.688 L 16.309 71.68 L 0 71.68 L 25.195 0 L 43.701 0 L 68.994 71.68 Z M 25.293 41.992 L 43.896 41.992 A 27590.463 27590.463 0 0 1 42.2 36.532 Q 36.965 19.676 35.937 16.273 A 120.932 120.932 0 0 1 35.815 15.869 A 131.65 131.65 0 0 1 35.396 14.435 Q 34.951 12.879 34.675 11.741 A 34.866 34.866 0 0 1 34.521 11.084 A 141.762 141.762 0 0 1 33.706 14.075 Q 31.482 21.957 25.293 41.992 Z"})]}),{width:70,height:78})}),Zd=F().memo(function(a){return a.theme,gt((0,A.jsx)(A.Fragment,{children:(0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})}),{width:640,height:512})}),ow=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M12.83 352h262.34A12.82 12.82 0 00288 339.17v-38.34A12.82 12.82 0 00275.17 288H12.83A12.82 12.82 0 000 300.83v38.34A12.82 12.82 0 0012.83 352zm0-256h262.34A12.82 12.82 0 00288 83.17V44.83A12.82 12.82 0 00275.17 32H12.83A12.82 12.82 0 000 44.83v38.34A12.82 12.82 0 0012.83 96zM432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})}),lw=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zM108.1 96h231.81A12.09 12.09 0 00352 83.9V44.09A12.09 12.09 0 00339.91 32H108.1A12.09 12.09 0 0096 44.09V83.9A12.1 12.1 0 00108.1 96zm231.81 256A12.09 12.09 0 00352 339.9v-39.81A12.09 12.09 0 00339.91 288H108.1A12.09 12.09 0 0096 300.09v39.81a12.1 12.1 0 0012.1 12.1z",fill:"var(--icon-fill-color)"}),{width:448,height:512})}),sw=F().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M16 224h416a16 16 0 0016-16v-32a16 16 0 00-16-16H16a16 16 0 00-16 16v32a16 16 0 0016 16zm416 192H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm3.17-384H172.83A12.82 12.82 0 00160 44.83v38.34A12.82 12.82 0 00172.83 96h262.34A12.82 12.82 0 00448 83.17V44.83A12.82 12.82 0 00435.17 32zm0 256H172.83A12.82 12.82 0 00160 300.83v38.34A12.82 12.82 0 00172.83 352h262.34A12.82 12.82 0 00448 339.17v-38.34A12.82 12.82 0 00435.17 288z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})}),uw=gt((0,A.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),D1=gt((0,A.jsx)("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"}),{width:640,height:512}),ds=function(a){return a==="rectangle"||a==="ellipse"||a==="diamond"||a==="line"||a==="freedraw"},L1=function(a){return a!=="image"},ky=function(a){return a==="rectangle"||a==="ellipse"||a==="diamond"||a==="freedraw"||a==="arrow"||a==="line"},Cy=function(a){return a==="rectangle"||a==="ellipse"||a==="diamond"||a==="arrow"||a==="line"},Xn=function(a){return a==="rectangle"||a==="arrow"||a==="line"||a==="diamond"},Ha=function(a){return a==="text"},Qd=function(a){return a==="arrow"},Sy=function(a,l){for(var s=null,u=a.length-1;u>=0;--u){var d=a[u];if(!d.isDeleted&&l(d)){s=d;break}}return s},cw=function(a,l){return a.filter(function(s){return!s.isDeleted&&l(s)})},Ey=function(a,l,s){for(var u=null,d=a.length-1;d>=0;--d)if(!a[d].isDeleted){var p=W(wr(a[d]),4),v=p[0],w=p[1],y=p[2],T=p[3];if(v<l&&l<y&&w<s&&s<T){u=a[d];break}}return u},Jd=[],Ct=function(a){return Jd=Jd.concat(a),a};function P1(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Pr(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?P1(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):P1(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Wi=function(a,l,s){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],d=Ia(Re(a,l,u));return a.map(function(p){var v;return d.get(p.id)||p.id===((v=l.editingElement)===null||v===void 0?void 0:v.id)?s(p):p})},ni=function(a,l,s,u){var d,p,v=l.editingElement,w=ge(a);return(d=(p=v&&s(v))!==null&&p!==void 0?p:Et(w,l)?Qe(w,l,s):u)!==null&&d!==void 0?d:null},eh=function(a,l,s,u){var d=new Set;return{elements:Wi(a,l,function(p){if(Lr(p)){var v=s(p);d.add(v);var w=tn(p,{fontSize:v});return Sd(w,Ra(p)),y=p,w=Pi(T=w)?T:vt(T,{x:y.textAlign==="left"?y.x:y.x+(y.width-T.width)/(y.textAlign==="center"?2:1),y:y.y+(y.height-T.height)/2},!1)}var y,T;return p},!0),appState:Pr(Pr({},l),{},{currentItemFontSize:d.size===1?Ne(d)[0]:u!=null?u:l.currentItemFontSize}),commitToHistory:!0}},_y=(Ct({name:"changeStrokeColor",perform:function(a,l,s){return Pr(Pr({},s.currentItemStrokeColor&&{elements:Wi(a,l,function(u){return L1(u.type)?tn(u,{strokeColor:s.currentItemStrokeColor}):u},!0)}),{},{appState:Pr(Pr({},l),s),commitToHistory:!!s.currentItemStrokeColor})},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("h3",{"aria-hidden":"true",children:G("labels.stroke")}),(0,A.jsx)(E1,{type:"elementStroke",label:G("labels.stroke"),color:ni(l,s,function(d){return d.strokeColor},s.currentItemStrokeColor),onChange:function(d){return u({currentItemStrokeColor:d})},isActive:s.openPopup==="strokeColorPicker",setActive:function(d){return u({openPopup:d?"strokeColorPicker":null})}})]})}}),Ct({name:"changeBackgroundColor",perform:function(a,l,s){return Pr(Pr({},s.currentItemBackgroundColor&&{elements:Wi(a,l,function(u){return tn(u,{backgroundColor:s.currentItemBackgroundColor})})}),{},{appState:Pr(Pr({},l),s),commitToHistory:!!s.currentItemBackgroundColor})},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("h3",{"aria-hidden":"true",children:G("labels.background")}),(0,A.jsx)(E1,{type:"elementBackground",label:G("labels.background"),color:ni(l,s,function(d){return d.backgroundColor},s.currentItemBackgroundColor),onChange:function(d){return u({currentItemBackgroundColor:d})},isActive:s.openPopup==="backgroundColorPicker",setActive:function(d){return u({openPopup:d?"backgroundColorPicker":null})}})]})}}),Ct({name:"changeFillStyle",perform:function(a,l,s){return{elements:Wi(a,l,function(u){return tn(u,{fillStyle:s})}),appState:Pr(Pr({},l),{},{currentItemFillStyle:s}),commitToHistory:!0}},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.fill")}),(0,A.jsx)(cs,{options:[{value:"hachure",text:G("labels.hachure"),icon:(0,A.jsx)(hy,{theme:s.theme})},{value:"cross-hatch",text:G("labels.crossHatch"),icon:(0,A.jsx)(Yd,{theme:s.theme})},{value:"solid",text:G("labels.solid"),icon:(0,A.jsx)(_n,{theme:s.theme})}],group:"fill",value:ni(l,s,function(d){return d.fillStyle},s.currentItemFillStyle),onChange:function(d){u(d)}})]})}}),Ct({name:"changeStrokeWidth",perform:function(a,l,s){return{elements:Wi(a,l,function(u){return tn(u,{strokeWidth:s})}),appState:Pr(Pr({},l),{},{currentItemStrokeWidth:s}),commitToHistory:!0}},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.strokeWidth")}),(0,A.jsx)(cs,{group:"stroke-width",options:[{value:1,text:G("labels.thin"),icon:(0,A.jsx)(xn,{theme:s.theme,strokeWidth:2})},{value:2,text:G("labels.bold"),icon:(0,A.jsx)(xn,{theme:s.theme,strokeWidth:6})},{value:4,text:G("labels.extraBold"),icon:(0,A.jsx)(xn,{theme:s.theme,strokeWidth:10})}],value:ni(l,s,function(d){return d.strokeWidth},s.currentItemStrokeWidth),onChange:function(d){return u(d)}})]})}}),Ct({name:"changeSloppiness",perform:function(a,l,s){return{elements:Wi(a,l,function(u){return tn(u,{seed:nu(),roughness:s})}),appState:Pr(Pr({},l),{},{currentItemRoughness:s}),commitToHistory:!0}},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.sloppiness")}),(0,A.jsx)(cs,{group:"sloppiness",options:[{value:0,text:G("labels.architect"),icon:(0,A.jsx)(M1,{theme:s.theme})},{value:1,text:G("labels.artist"),icon:(0,A.jsx)(vy,{theme:s.theme})},{value:2,text:G("labels.cartoonist"),icon:(0,A.jsx)(Xd,{theme:s.theme})}],value:ni(l,s,function(d){return d.roughness},s.currentItemRoughness),onChange:function(d){return u(d)}})]})}}),Ct({name:"changeStrokeStyle",perform:function(a,l,s){return{elements:Wi(a,l,function(u){return tn(u,{strokeStyle:s})}),appState:Pr(Pr({},l),{},{currentItemStrokeStyle:s}),commitToHistory:!0}},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.strokeStyle")}),(0,A.jsx)(cs,{group:"strokeStyle",options:[{value:"solid",text:G("labels.strokeStyle_solid"),icon:(0,A.jsx)(py,{theme:s.theme})},{value:"dashed",text:G("labels.strokeStyle_dashed"),icon:(0,A.jsx)(my,{theme:s.theme})},{value:"dotted",text:G("labels.strokeStyle_dotted"),icon:(0,A.jsx)(df,{theme:s.theme})}],value:ni(l,s,function(d){return d.strokeStyle},s.currentItemStrokeStyle),onChange:function(d){return u(d)}})]})}}),Ct({name:"changeOpacity",perform:function(a,l,s){return{elements:Wi(a,l,function(u){return tn(u,{opacity:s})}),appState:Pr(Pr({},l),{},{currentItemOpacity:s}),commitToHistory:!0}},PanelComponent:function(a){var l,s=a.elements,u=a.appState,d=a.updateData;return(0,A.jsxs)("label",{className:"control-label",children:[G("labels.opacity"),(0,A.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(p){return d(+p.target.value)},onWheel:function(p){p.stopPropagation();var v=+p.target.value;p.deltaY<0&&v<100?d(v+10):p.deltaY>0&&v>0&&d(v-10)},value:(l=ni(s,u,function(p){return p.opacity},u.currentItemOpacity))!==null&&l!==void 0?l:void 0})]})}}),Ct({name:"changeFontSize",perform:function(a,l,s){return eh(a,l,function(){return s},s)},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.fontSize")}),(0,A.jsx)(cs,{group:"font-size",options:[{value:16,text:G("labels.small"),icon:(0,A.jsx)(by,{theme:s.theme}),testId:"fontSize-small"},{value:20,text:G("labels.medium"),icon:(0,A.jsx)(Ki,{theme:s.theme}),testId:"fontSize-medium"},{value:28,text:G("labels.large"),icon:(0,A.jsx)(wy,{theme:s.theme}),testId:"fontSize-large"},{value:36,text:G("labels.veryLarge"),icon:(0,A.jsx)(Kr,{theme:s.theme}),testId:"fontSize-veryLarge"}],value:ni(l,s,function(d){if(Lr(d))return d.fontSize;var p=rs(d);return p?p.fontSize:null},s.currentItemFontSize||I.n5),onChange:function(d){return u(d)}})]})}}),Ct({name:"decreaseFontSize",perform:function(a,l,s){return eh(a,l,function(u){return Math.round(1/1.1*u.fontSize)})},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.shiftKey&&(a.key===Be.CHEVRON_LEFT||a.key===Be.COMMA)}})),Ty=Ct({name:"increaseFontSize",perform:function(a,l,s){return eh(a,l,function(u){return Math.round(1.1*u.fontSize)})},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.shiftKey&&(a.key===Be.CHEVRON_RIGHT||a.key===Be.PERIOD)}});Ct({name:"changeFontFamily",perform:function(a,l,s){return{elements:Wi(a,l,function(u){if(Lr(u)){var d=tn(u,{fontFamily:s});return Sd(d,Ra(u)),d}return u},!0),appState:Pr(Pr({},l),{},{currentItemFontFamily:s}),commitToHistory:!0}},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData,d=[{value:I.ut.Virgil,text:G("labels.handDrawn"),icon:(0,A.jsx)(iw,{theme:s.theme})},{value:I.ut.Helvetica,text:G("labels.normal"),icon:(0,A.jsx)(xy,{theme:s.theme})},{value:I.ut.Cascadia,text:G("labels.code"),icon:(0,A.jsx)(Zd,{theme:s.theme})}];return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.fontFamily")}),(0,A.jsx)(cs,{group:"font-family",options:d,value:ni(l,s,function(p){if(Lr(p))return p.fontFamily;var v=rs(p);return v?v.fontFamily:null},s.currentItemFontFamily||I.rk),onChange:function(p){return u(p)}})]})}}),Ct({name:"changeTextAlign",perform:function(a,l,s){return{elements:Wi(a,l,function(u){if(Lr(u)){var d=tn(u,{textAlign:s});return Sd(d,Ra(u)),d}return u},!0),appState:Pr(Pr({},l),{},{currentItemTextAlign:s}),commitToHistory:!0}},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.textAlign")}),(0,A.jsx)(cs,{group:"text-align",options:[{value:"left",text:G("labels.left"),icon:(0,A.jsx)(ow,{theme:s.theme})},{value:"center",text:G("labels.center"),icon:(0,A.jsx)(lw,{theme:s.theme})},{value:"right",text:G("labels.right"),icon:(0,A.jsx)(sw,{theme:s.theme})}],value:ni(l,s,function(d){if(Lr(d))return d.textAlign;var p=rs(d);return p?p.textAlign:null},s.currentItemTextAlign),onChange:function(d){return u(d)}})]})}}),Ct({name:"changeSharpness",perform:function(a,l,s){var u=$t(ge(a),l),d=u.length?u.every(function(v){return!on(v)}):!ql(l.elementType),p=u.length?u.every(on):ql(l.elementType);return{elements:Wi(a,l,function(v){return tn(v,{strokeSharpness:s})}),appState:Pr(Pr({},l),{},{currentItemStrokeSharpness:d?s:l.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:p?s:l.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.edges")}),(0,A.jsx)(cs,{group:"edges",options:[{value:"sharp",text:G("labels.sharp"),icon:(0,A.jsx)(gi,{theme:s.theme})},{value:"round",text:G("labels.round"),icon:(0,A.jsx)(gc,{theme:s.theme})}],value:ni(l,s,function(d){return d.strokeSharpness},Xn(s.elementType)&&(ql(s.elementType)?s.currentItemLinearStrokeSharpness:s.currentItemStrokeSharpness)||null),onChange:function(d){return u(d)}})]})}}),Ct({name:"changeArrowhead",perform:function(a,l,s){return{elements:Wi(a,l,function(u){if(on(u)){var d=s.position,p=s.type;if(d==="start")return tn(u,{startArrowhead:p});if(d==="end")return tn(u,{endArrowhead:p})}return u}),appState:Pr(Pr({},l),{},be({},s.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",s.type)),commitToHistory:!0}},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData,d=ze().rtl;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.arrowheads")}),(0,A.jsxs)("div",{className:"iconSelectList",children:[(0,A.jsx)(ny,{label:"arrowhead_start",options:[{value:null,text:G("labels.arrowhead_none"),icon:(0,A.jsx)(gy,{theme:s.theme}),keyBinding:"q"},{value:"arrow",text:G("labels.arrowhead_arrow"),icon:(0,A.jsx)(yy,{theme:s.theme,flip:!d}),keyBinding:"w"},{value:"bar",text:G("labels.arrowhead_bar"),icon:(0,A.jsx)(Go,{theme:s.theme,flip:!d}),keyBinding:"e"},{value:"dot",text:G("labels.arrowhead_dot"),icon:(0,A.jsx)(I1,{theme:s.theme,flip:!d}),keyBinding:"r"},{value:"triangle",text:G("labels.arrowhead_triangle"),icon:(0,A.jsx)(dr,{theme:s.theme,flip:!d}),keyBinding:"t"}],value:ni(l,s,function(p){return on(p)&&Qd(p.type)?p.startArrowhead:s.currentItemStartArrowhead},s.currentItemStartArrowhead),onChange:function(p){return u({position:"start",type:p})}}),(0,A.jsx)(ny,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:G("labels.arrowhead_none"),keyBinding:"q",icon:(0,A.jsx)(gy,{theme:s.theme})},{value:"arrow",text:G("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,A.jsx)(yy,{theme:s.theme,flip:d})},{value:"bar",text:G("labels.arrowhead_bar"),keyBinding:"e",icon:(0,A.jsx)(Go,{theme:s.theme,flip:d})},{value:"dot",text:G("labels.arrowhead_dot"),keyBinding:"r",icon:(0,A.jsx)(I1,{theme:s.theme,flip:d})},{value:"triangle",text:G("labels.arrowhead_triangle"),icon:(0,A.jsx)(dr,{theme:s.theme,flip:d}),keyBinding:"t"}],value:ni(l,s,function(p){return on(p)&&Qd(p.type)?p.endArrowhead:s.currentItemEndArrowhead},s.currentItemEndArrowhead),onChange:function(p){return u({position:"end",type:p})}})]})]})}}),g(5422);function fw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N1(a,l,s){return N1=fw()?Reflect.construct:function(u,d,p){var v=[null];v.push.apply(v,d);var w=new(Function.bind.apply(u,v));return p&&Kt(w,p.prototype),w},N1.apply(null,arguments)}function th(a){var l=typeof Map=="function"?new Map:void 0;return th=function(s){if(s===null||(u=s,Function.toString.call(u).indexOf("[native code]")===-1))return s;var u;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(l!==void 0){if(l.has(s))return l.get(s);l.set(s,d)}function d(){return N1(s,arguments,Jr(this).constructor)}return d.prototype=Object.create(s.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),Kt(d,s)},th(a)}function Oy(a){var l=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,u=Jr(a);if(l){var d=Jr(this).constructor;s=Reflect.construct(u,arguments,d)}else s=u.apply(this,arguments);return Xr(this,s)}}var rh=function(a){yr(s,a);var l=Oy(s);function s(){var u,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return Ke(this,s),(u=l.call(this)).name=p,u.message=d,u}return At(s)}(th(Error)),j1=function(a){yr(s,a);var l=Oy(s);function s(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return Ke(this,s),l.call(this,u,"AbortError")}return At(s)}(th(DOMException)),R1=(g(371),function(a){var l=a.size,s=l===void 0?"1em":l,u=a.circleWidth,d=u===void 0?8:u;return(0,A.jsx)("div",{className:"Spinner",children:(0,A.jsx)("svg",{viewBox:"0 0 100 100",style:{width:s,height:s},children:(0,A.jsx)("circle",{cx:"50",cy:"50",r:50-d/2,strokeWidth:d,fill:"none",strokeMiterlimit:"10"})})})}),tr=F().forwardRef(function(a,l){var s=wh().id,u=F().useRef(null);F().useImperativeHandle(l,function(){return u.current});var d="ToolIcon_size_".concat(a.size),p=W((0,D.useState)(!1),2),v=p[0],w=p[1],y=(0,D.useRef)(!0),T=function(){var R=(0,V.Z)(ie().mark(function j(z){var K,$;return ie().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!($="onClick"in a&&((K=a.onClick)===null||K===void 0?void 0:K.call(a,z)))||!("then"in $)){Z.next=18;break}return Z.prev=2,w(!0),Z.next=6,$;case 6:Z.next=15;break;case 8:if(Z.prev=8,Z.t0=Z.catch(2),Z.t0 instanceof j1){Z.next=14;break}throw Z.t0;case 14:console.warn(Z.t0);case 15:return Z.prev=15,y.current&&w(!1),Z.finish(15);case 18:case"end":return Z.stop()}},j,null,[[2,8,15,18]])}));return function(j){return R.apply(this,arguments)}}();(0,D.useEffect)(function(){return function(){y.current=!1}},[]);var _=(0,D.useRef)(null);if(a.type==="button"||a.type==="icon"||a.type==="submit"){var L=a.type==="icon"?"button":a.type;return(0,A.jsxs)("button",{className:Cr("ToolIcon_type_button",d,a.className,a.visible&&!a.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!a.hidden,"ToolIcon--selected":a.selected,"ToolIcon--plain":a.type==="icon"}),"data-testid":a["data-testid"],hidden:a.hidden,title:a.title,"aria-label":a["aria-label"],type:L,onClick:T,ref:u,disabled:v||a.isLoading,children:[(a.icon||a.label)&&(0,A.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[a.icon||a.label,a.keyBindingLabel&&(0,A.jsx)("span",{className:"ToolIcon__keybinding",children:a.keyBindingLabel}),a.isLoading&&(0,A.jsx)(R1,{})]}),a.showAriaLabel&&(0,A.jsxs)("div",{className:"ToolIcon__label",children:[a["aria-label"]," ",v&&(0,A.jsx)(R1,{})]}),a.children]})}return(0,A.jsxs)("label",{className:Cr("ToolIcon",a.className),title:a.title,onPointerDown:function(R){_.current=R.pointerType||null},onPointerUp:function(){requestAnimationFrame(function(){_.current=null})},children:[(0,A.jsx)("input",{className:"ToolIcon_type_radio ".concat(d),type:"radio",name:a.name,"aria-label":a["aria-label"],"aria-keyshortcuts":a["aria-keyshortcuts"],"data-testid":a["data-testid"],id:"".concat(s,"-").concat(a.id),onChange:function(){var R;(R=a.onChange)===null||R===void 0||R.call(a,{pointerType:_.current})},checked:a.checked,ref:u}),(0,A.jsxs)("div",{className:"ToolIcon__icon",children:[a.icon,a.keyBindingLabel&&(0,A.jsx)("span",{className:"ToolIcon__keybinding",children:a.keyBindingLabel})]})]})});tr.defaultProps={visible:!0,className:"",size:"medium"};var nh=function(a){var l=a.title||(a.value==="dark"?G("buttons.lightMode"):G("buttons.darkMode"));return(0,A.jsx)(tr,{type:"icon",icon:a.value===I.C6.LIGHT?Ay.MOON:Ay.SUN,title:l,"aria-label":l,onClick:function(){return a.onChange(a.value===I.C6.DARK?I.C6.LIGHT:I.C6.DARK)},"data-testid":"toggle-dark-mode"})},Ay={SUN:(0,A.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,A.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,A.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,A.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},F1=function(a){var l=a.scenePoint,s=a.viewportDimensions,u=a.zoom;return{scrollX:s.width/2*(1/u.value)-l.x,scrollY:s.height/2*(1/u.value)-l.y}},la=function(a,l,s){if(!(a=we(a)).length)return{scrollX:0,scrollY:0};var u=W(qn(a),4),d=u[0],p=u[1],v=u[2],w=u[3];if(function(_,L,R){var j=W(R,4),z=j[0],K=j[1],$=j[2],Z=j[3],oe=Ge({sceneX:z,sceneY:K},_),le=oe.x,me=oe.y,Ce=Ge({sceneX:$,sceneY:Z},_),_e=Ce.x,Ie=Ce.y;return _e-le>_.width||Ie-me>_.height}(l,0,[d,p,v,w])){var y=function(_,L){if(!_.length)return[0,0,0,0];var R=1/0,j=_[0];return _.forEach(function(z){var K=W(Zu(z),4),$=K[0],Z=K[1],oe=K[2],le=K[3],me=Ni(($+oe)/2,(Z+le)/2,L.x,L.y);me<R&&(R=me,j=z)}),Zu(j)}(a,je({clientX:l.scrollX,clientY:l.scrollY},l)),T=W(y,4);d=T[0],p=T[1],v=T[2],w=T[3]}return F1({scenePoint:{x:(d+v)/2,y:(p+w)/2},viewportDimensions:{width:l.width,height:l.height},zoom:l.zoom})},hs=function(a){return Math.max(.1,Math.min(a,30))},yc=function(a,l){var s=a.viewportX,u=a.viewportY,d=a.nextZoom,p=s-l.offsetLeft,v=u-l.offsetTop,w=l.zoom.value;return{scrollX:l.scrollX+(p-p/w)+-(p-p/d),scrollY:l.scrollY+(v-v/w)+-(v-v/d),zoom:{value:d}}},hf=(g(6781),function(){var a=document.querySelector(".excalidraw-tooltip");if(a)return a;var l=document.createElement("div");return document.body.appendChild(l),l.classList.add("excalidraw-tooltip"),l}),ah=function(a,l){var s,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",d=a.getBoundingClientRect(),p=window.innerWidth,v=window.innerHeight,w=5,y=l.left+l.width/2-d.width/2;y<0?y=w:y+d.width>=p&&(y=p-d.width-w),u==="bottom"?(s=l.top+l.height+w)+d.height>=v&&(s=l.top-d.height-w):(s=l.top-d.height-w)<0&&(s=l.top+l.height+w),Object.assign(a.style,{top:"".concat(s,"px"),left:"".concat(y,"px")})},bc=function(a){var l=a.children,s=a.label,u=a.long,d=u!==void 0&&u,p=a.style;return(0,D.useEffect)(function(){return function(){return hf().classList.remove("excalidraw-tooltip--visible")}},[]),(0,A.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(v){return function(w,y,T,_){y.classList.add("excalidraw-tooltip--visible"),y.style.minWidth=_?"50ch":"10ch",y.style.maxWidth=_?"50ch":"15ch",y.textContent=T;var L=w.getBoundingClientRect();ah(y,L)}(v.currentTarget,hf(),s,d)},onPointerLeave:function(){return hf().classList.remove("excalidraw-tooltip--visible")},style:p,children:l})};g(196),g(1106);function My(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function dw(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?My(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):My(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Vo=F().forwardRef(function(a,l){var s=a.children,u=a.padding,d=a.className,p=a.style;return(0,A.jsx)("div",{className:Cr("Island",d),style:dw({"--padding":u},p),ref:l,children:s})}),Iy=(g(8328),function(a){var l=a.theme,s=l===void 0?I.C6.LIGHT:l,u=a.closeOnClickOutside,d=u===void 0||u,p=hw(s);return p?(0,kl.createPortal)((0,A.jsxs)("div",{className:Cr("Modal",a.className),role:"dialog","aria-modal":"true",onKeyDown:function(v){v.key===Be.ESCAPE&&(v.nativeEvent.stopImmediatePropagation(),v.stopPropagation(),a.onCloseRequest())},"aria-labelledby":a.labelledBy,children:[(0,A.jsx)("div",{className:"Modal__background",onClick:d?a.onCloseRequest:void 0}),(0,A.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(a.maxWidth,"px")},tabIndex:0,children:a.children})]}),p):null}),hw=function(a){var l=W((0,D.useState)(null),2),s=l[0],u=l[1],d=go(),p=(0,D.useRef)(d);p.current=d;var v=wh().container;return(0,D.useLayoutEffect)(function(){s&&s.classList.toggle("excalidraw--mobile",d)},[s,d]),(0,D.useLayoutEffect)(function(){var w=!(v==null||!v.classList.contains("theme--dark"))||a==="dark",y=document.createElement("div");return y.classList.add("excalidraw","excalidraw-modal-container"),y.classList.toggle("excalidraw--mobile",p.current),w&&(y.classList.add("theme--dark"),y.classList.add("theme--dark-background-none")),document.body.appendChild(y),u(y),function(){document.body.removeChild(y)}},[v,a]),s},ps=function(a){var l=function(){var T=W((0,D.useState)(null),2),_=T[0],L=T[1];return[_,(0,D.useCallback)(function(R){return L(R)},[])]}(),s=W(l,2),u=s[0],d=s[1],p=W((0,D.useState)(document.activeElement),1)[0],v=wh().id;(0,D.useEffect)(function(){if(u){var T=w(u);T.length>0&&a.autofocus!==!1&&(T[1]||T[0]).focus();var _=function(L){if(L.key===Be.TAB){var R=w(u),j=document.activeElement,z=R.findIndex(function(K){return K===j});z===0&&L.shiftKey?(R[R.length-1].focus(),L.preventDefault()):z!==R.length-1||L.shiftKey||(R[0].focus(),L.preventDefault())}};return u.addEventListener("keydown",_),function(){return u.removeEventListener("keydown",_)}}},[u,a.autofocus]);var w=function(T){var _=T.querySelectorAll("button, a, input, select, textarea, div[tabindex]");return _?Array.from(_):[]},y=function(){p.focus(),a.onCloseRequest()};return(0,A.jsx)(Iy,{className:Cr("Dialog",a.className),labelledBy:"dialog-title",maxWidth:a.small?550:800,onCloseRequest:y,theme:a.theme,closeOnClickOutside:a.closeOnClickOutside,children:(0,A.jsxs)(Vo,{ref:d,children:[(0,A.jsxs)("h2",{id:"".concat(v,"-dialog-title"),className:"Dialog__title",children:[(0,A.jsx)("span",{className:"Dialog__titleContent",children:a.title}),(0,A.jsx)("button",{className:"Modal__close",onClick:y,"aria-label":G("buttons.close"),children:go()?Bn:Da})]}),(0,A.jsx)("div",{className:"Dialog__content",children:a.children})]})})},z1=(g(4678),["onConfirm","onCancel","children","confirmText","cancelText","className"]);function ih(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Dy(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?ih(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):ih(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Ly=function(a){var l=a.onConfirm,s=a.onCancel,u=a.children,d=a.confirmText,p=d===void 0?G("buttons.confirm"):d,v=a.cancelText,w=v===void 0?G("buttons.cancel"):v,y=a.className,T=y===void 0?"":y,_=oc(a,z1);return(0,A.jsxs)(ps,Dy(Dy({onCloseRequest:s,small:!0},_),{},{className:"confirm-dialog ".concat(T),children:[u,(0,A.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,A.jsx)(tr,{type:"button",title:w,"aria-label":w,label:w,onClick:s,className:"confirm-dialog--cancel"}),(0,A.jsx)(tr,{type:"button",title:p,"aria-label":p,label:p,onClick:l,className:"confirm-dialog--confirm"})]})]}))},pw=function(a){var l=a.onConfirm,s=W((0,D.useState)(!1),2),u=s[0],d=s[1],p=function(){d(!u)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(tr,{type:"button",icon:Wd,title:G("buttons.clearReset"),"aria-label":G("buttons.clearReset"),showAriaLabel:go(),onClick:p,"data-testid":"clear-canvas-button"}),u&&(0,A.jsx)(Ly,{onConfirm:function(){l(),p()},onCancel:p,title:G("clearCanvasDialog.title"),children:(0,A.jsxs)("p",{className:"clear-canvas__content",children:[" ",G("alerts.clearReset")]})})]})};function Py(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Ca(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?Py(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Py(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}Ct({name:"changeViewBackgroundColor",perform:function(a,l,s){return{appState:Ca(Ca({},l),s),commitToHistory:!!s.viewBackgroundColor}},PanelComponent:function(a){var l=a.appState,s=a.updateData;return(0,A.jsx)("div",{style:{position:"relative"},children:(0,A.jsx)(E1,{label:G("labels.canvasBackground"),type:"canvasBackground",color:l.viewBackgroundColor,onChange:function(u){return s({viewBackgroundColor:u})},isActive:l.openPopup==="canvasColorPicker",setActive:function(u){return s({openPopup:u?"canvasColorPicker":null})},"data-testid":"canvas-background-picker"})})}}),Ct({name:"clearCanvas",perform:function(a,l,s,u){return u.imageCache.clear(),{elements:a.map(function(d){return tn(d,{isDeleted:!0})}),appState:Ca(Ca({},Js()),{},{files:{},theme:l.theme,elementLocked:l.elementLocked,penMode:l.penMode,penDetected:l.penDetected,exportBackground:l.exportBackground,exportEmbedScene:l.exportEmbedScene,gridSize:l.gridSize,showStats:l.showStats,pasteDialog:l.pasteDialog,elementType:l.elementType==="image"?"selection":l.elementType}),commitToHistory:!0}},PanelComponent:function(a){var l=a.updateData;return(0,A.jsx)(pw,{onConfirm:l})}});var Ny=Ct({name:"zoomIn",perform:function(a,l,s,u){return{appState:Ca(Ca({},l),yc({viewportX:l.width/2+l.offsetLeft,viewportY:l.height/2+l.offsetTop,nextZoom:hs(l.zoom.value+I.V4)},l)),commitToHistory:!1}},PanelComponent:function(a){var l=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:Gd,title:"".concat(G("buttons.zoomIn")," \u2014 ").concat(ce("CtrlOrCmd++")),"aria-label":G("buttons.zoomIn"),onClick:function(){l(null)},size:"small"})},keyTest:function(a){return(a.code===wn||a.code===Hp)&&(a[Be.CTRL_OR_CMD]||a.shiftKey)}}),jy=Ct({name:"zoomOut",perform:function(a,l,s,u){return{appState:Ca(Ca({},l),yc({viewportX:l.width/2+l.offsetLeft,viewportY:l.height/2+l.offsetTop,nextZoom:hs(l.zoom.value-I.V4)},l)),commitToHistory:!1}},PanelComponent:function(a){var l=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:ly,title:"".concat(G("buttons.zoomOut")," \u2014 ").concat(ce("CtrlOrCmd+-")),"aria-label":G("buttons.zoomOut"),onClick:function(){l(null)},size:"small"})},keyTest:function(a){return(a.code===Ql||a.code===jb)&&(a[Be.CTRL_OR_CMD]||a.shiftKey)}}),mw=(Ct({name:"resetZoom",perform:function(a,l,s,u){return{appState:Ca(Ca({},l),yc({viewportX:l.width/2+l.offsetLeft,viewportY:l.height/2+l.offsetTop,nextZoom:hs(1)},l)),commitToHistory:!1}},PanelComponent:function(a){var l=a.updateData,s=a.appState;return(0,A.jsx)(bc,{label:G("buttons.resetZoom"),style:{height:"100%"},children:(0,A.jsxs)(tr,{type:"button",className:"reset-zoom-button",title:G("buttons.resetZoom"),"aria-label":G("buttons.resetZoom"),onClick:function(){l(null)},size:"small",children:[(100*s.zoom.value).toFixed(0),"%"]})})},keyTest:function(a){return(a.code===Kp||a.code===Up)&&(a[Be.CTRL_OR_CMD]||a.shiftKey)}}),function(a,l){var s=W(a,4),u=s[0],d=s[1],p=s[2],v=s[3],w=p-u,y=l.width/w,T=v-d,_=l.height/T,L=Math.min(y,_),R=Math.floor(L/I.V4)*I.V4;return Math.min(Math.max(R,I.V4),1)}),h=function(a,l,s){var u=ge(a),d=Re(u,l),p=s&&d.length>0?qn(d):qn(u),v={value:mw(p,{width:l.width,height:l.height})},w=W(p,4),y=w[0],T=w[1],_=(y+w[2])/2,L=(T+w[3])/2;return{appState:Ca(Ca(Ca({},l),F1({scenePoint:{x:_,y:L},viewportDimensions:{width:l.width,height:l.height},zoom:v})),{},{zoom:v}),commitToHistory:!1}},k=(Ct({name:"zoomToSelection",perform:function(a,l){return h(a,l,!0)},keyTest:function(a){return a.code===Ju&&a.shiftKey&&!a.altKey&&!a[Be.CTRL_OR_CMD]}}),Ct({name:"zoomToFit",perform:function(a,l){return h(a,l,!1)},keyTest:function(a){return a.code===bd&&a.shiftKey&&!a.altKey&&!a[Be.CTRL_OR_CMD]}}),Ct({name:"toggleTheme",perform:function(a,l,s){return{appState:Ca(Ca({},l),{},{theme:s||(l.theme===I.C6.LIGHT?I.C6.DARK:I.C6.LIGHT)}),commitToHistory:!1}},PanelComponent:function(a){var l=a.appState,s=a.updateData;return(0,A.jsx)("div",{style:{marginInlineStart:"0.25rem"},children:(0,A.jsx)(nh,{value:l.theme,onChange:function(u){s(u)}})})},keyTest:function(a){return a.altKey&&a.shiftKey&&a.code===Wp}}),function(a,l,s,u,d,p){var v=u.zoom,w=180*s/Math.PI,y=a*(v.value-1)/2,T=l*(v.value-1)/2;return a>d&&v.value!==1&&(y=d*(v.value-1)/2),l>p&&v.value!==1&&(T=p*(v.value-1)/2),"translate(".concat(y,"px, ").concat(T,"px) scale(").concat(v.value,") rotate(").concat(w,"deg)")}),M=function(a){var l,s=a.id,u=a.onChange,d=a.onSubmit,p=a.getViewportCoords,v=a.element,w=a.canvas,y=a.excalidrawContainer,T=a.app,_=function(){var Ee,rt=T.state,Xe=(Ee=mn.getScene(v))===null||Ee===void 0?void 0:Ee.getElement(s),qe=F0(hn(Xe));if(Xe&&Lr(Xe)){var at=Xe.x,et=Xe.y,Le=Ra(Xe),dt=Xe.width,mt=Xe.height,bt=Xe.width,ut=Xe.height;if(Le&&Xe.containerId){var Dt=function(ot,Lt){var Ft=Lt.style.fontFamily.replace(/"/g,"");return O0({fontFamily:ot.fontFamily})!==Ft||"".concat(ot.fontSize,"px")!==Lt.style.fontSize}(Xe,L),lr=Number(L.style.height.slice(0,-2));if(lr>0&&(ut=lr),Dt&&(l=Le.height,ut=Xe.height),l||(l=Le.height),dt=Le.width-2*I.gK,mt=Le.height-2*I.gK,bt=dt,at=Le.x+I.gK,ut>mt){var Ar=Math.min(ut-mt,qe);return void vt(Le,{height:Le.height+Ar})}if(Le.height>l&&ut<mt){var Qr=Math.min(mt-ut,qe);vt(Le,{height:Le.height-Qr})}else et=Le.y+Le.height/2-ut/2}var br=W(p(at,et),2),qr=br[0],hr=br[1],un=Xe.textAlign;L.value=Xe.originalText;var Tn=Xe.originalText.split(`
`),Ua=Xe.containerId?qe:Xe.height/Tn.length;Le||(dt=(rt.width-8-qr)/rt.zoom.value);var yi=(rt.height-hr)/rt.zoom.value,$i=Le?Le.angle:Xe.angle;Object.assign(L.style,{font:hn(Xe),lineHeight:"".concat(Ua,"px"),width:"".concat(bt,"px"),height:"".concat(ut,"px"),left:"".concat(qr,"px"),top:"".concat(hr,"px"),transform:k(bt,ut,$i,rt,dt,yi),textAlign:un,color:Xe.strokeColor,opacity:Xe.opacity/100,filter:"var(--theme-filter)",maxWidth:"".concat(dt,"px"),maxHeight:"".concat(yi,"px")}),M0()&&(L.style.fontFamily=O0(Xe)),vt(Xe,{x:at,y:et})}},L=document.createElement("textarea");L.dir="auto",L.tabIndex=0,L.dataset.type="wysiwyg",L.wrap="off",L.classList.add("excalidraw-wysiwyg");var R="pre",j="normal";Pi(v)&&(R="pre-wrap",j="break-word"),Object.assign(L.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:j,whiteSpace:R,overflowWrap:"break-word"}),_(),u&&(L.oninput=function(){var Ee,rt=(Ee=mn.getScene(v))===null||Ee===void 0?void 0:Ee.getElement(s),Xe=hn(rt),qe=L.scrollHeight/F0(Xe);if(Pi(v)&&qe>1){var at="auto";if(qe===2){var et=Ra(v);ts(L.value,Xe,et.width).split(`
`).length===1&&(at="".concat(L.scrollHeight/2,"px"))}L.style.height=at,L.style.height="".concat(L.scrollHeight,"px")}u(L.value.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`))}),L.onkeydown=function(Ee){if(Ee.stopPropagation(),!Ee.shiftKey&&Ny.keyTest(Ee))Ee.preventDefault(),T.actionManager.executeAction(Ny),_();else if(!Ee.shiftKey&&jy.keyTest(Ee))Ee.preventDefault(),T.actionManager.executeAction(jy),_();else if(_y.keyTest(Ee))T.actionManager.executeAction(_y);else if(Ty.keyTest(Ee))T.actionManager.executeAction(Ty);else if(Ee.key===Be.ESCAPE)Ee.preventDefault(),me=!0,Ce();else if(Ee.key===Be.ENTER&&Ee[Be.CTRL_OR_CMD]){if(Ee.preventDefault(),Ee.isComposing||Ee.keyCode===229)return;me=!0,Ce()}else(Ee.key===Be.TAB||Ee[Be.CTRL_OR_CMD]&&(Ee.code===Qu||Ee.code===yd))&&(Ee.preventDefault(),Ee.shiftKey||Ee.code===Qu?Z():$(),L.dispatchEvent(new Event("input")))};var z=" ".repeat(4),K=new RegExp("^ {1,".concat(4,"}")),$=function(){var Ee=L.selectionStart,rt=L.selectionEnd,Xe=oe(),qe=L.value;Xe.forEach(function(at){var et=qe.slice(0,at),Le=qe.slice(at);qe="".concat(et).concat(z).concat(Le)}),L.value=qe,L.selectionStart=Ee+4,L.selectionEnd=rt+4*Xe.length},Z=function(){var Ee=L.selectionStart,rt=L.selectionEnd,Xe=oe(),qe=[],at=L.value;Xe.forEach(function(et){var Le=at.slice(et,et+4).match(K);if(Le){var dt=at.slice(0,et),mt=at.slice(et+Le[0].length);at="".concat(dt).concat(mt),qe.push(et)}}),L.value=at,qe.length&&(Ee>qe[qe.length-1]?L.selectionStart=Math.max(Ee-4,qe[qe.length-1]):L.selectionStart=Ee,L.selectionEnd=Math.max(L.selectionStart,rt-4*qe.length))},oe=function(){var Ee=L.selectionStart,rt=L.selectionEnd,Xe=L.value,qe=Xe.slice(0,Ee).match(/[^\n]*$/)[0].length;return Ee-=qe,Xe.slice(Ee,rt).split(`
`).reduce(function(at,et,Le,dt){return at.concat(Le?at[Le-1]+dt[Le-1].length+1:Ee)},[]).reverse()},le=function(Ee){Ee.preventDefault(),Ee.stopPropagation()},me=!1,Ce=function(){var Ee;_e();var rt=(Ee=mn.getScene(v))===null||Ee===void 0?void 0:Ee.getElement(v.id);if(rt){var Xe=L.value,qe=Ra(rt);if(qe)if(Xe=rt.text,L.value){var at=ei(qe);at&&at===v.id||vt(qe,{boundElements:(qe.boundElements||[]).concat({type:"text",id:v.id})})}else{var et;vt(qe,{boundElements:(et=qe.boundElements)===null||et===void 0?void 0:et.filter(function(Le){return!Lr(Le)})})}d({text:Xe,viaKeyboard:me,originalText:L.value})}},_e=function(){He||(He=!0,L.onblur=null,L.oninput=null,L.onkeydown=null,We&&We.disconnect(),window.removeEventListener("resize",_),window.removeEventListener("wheel",le,!0),window.removeEventListener("pointerdown",Te),window.removeEventListener("pointerup",Ie),window.removeEventListener("blur",Ce),$e(),L.remove())},Ie=function Ee(rt){window.removeEventListener("pointerup",Ee);var Xe=rt==null?void 0:rt.target,qe=Xe instanceof HTMLInputElement&&Xe.closest(".color-picker-input")&&Ro(Xe);setTimeout(function(){L.onblur=Ce,Xe&&qe&&(Xe.onblur=function(){L.focus()}),qe||L.focus()})},Te=function(Ee){var rt=Ee.target instanceof HTMLInputElement&&Ee.target.closest(".color-picker-input")&&Ro(Ee.target);((Ee.target instanceof HTMLElement||Ee.target instanceof SVGElement)&&Ee.target.closest(".".concat(I.$C.SHAPE_ACTIONS_MENU))&&!Ro(Ee.target)||rt)&&(L.onblur=null,window.addEventListener("pointerup",Ie),window.addEventListener("blur",Ce))},$e=mn.getScene(v).addCallback(function(){var Ee;_(),!((Ee=document.activeElement)===null||Ee===void 0||!Ee.closest(".color-picker-input"))||L.focus()}),He=!1;L.select(),Ie();var We=null;w&&"ResizeObserver"in window?(We=new window.ResizeObserver(function(){_()})).observe(w):window.addEventListener("resize",_),window.addEventListener("pointerdown",Te),window.addEventListener("wheel",le,{passive:!1,capture:!0}),y==null||y.querySelector(".excalidraw-textEditorContainer").appendChild(L)},H=function(a,l){return Boolean(!a.viewModeEnabled&&(a.editingElement||Re(l,a).length||a.elementType!=="selection"))};function Y(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function ae(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?Y(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Y(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var he=function(a){return a.reduce(function(l,s){return l+s.version},0)},we=function(a){return a.filter(function(l){return!l.isDeleted&&!as(l)})},ge=function(a){return a.filter(function(l){return!l.isDeleted})},Ye=function(a){return!a.isDeleted},Ve=function(a){return ge(a).map(function(l){return ql(l.type)?ae(ae({},l),{},{lastCommittedPoint:null}):l})},nt=function(a){return Ve(a)},Ot=function(a){return Ve(a)},Mt=function(a,l,s){var u=W([a.horizontal,a.vertical].map(function(v){return v!=null&&v.x<=l&&l<=v.x+v.width&&v.y<=s&&s<=v.y+v.height}),2),d=u[0],p=u[1];return{isOverEither:d||p,isOverHorizontal:d,isOverVertical:p}},Et=function(a,l){return a.some(function(s){return l.selectedElementIds[s.id]})},Qe=function(a,l,s){var u=Array.from(new Set(Re(a,l).map(function(d){return s(d)})));return u.length===1?u[0]:null},Re=function(a,l){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.filter(function(u){return l.selectedElementIds[u.id]||s&&Pi(u)&&l.selectedElementIds[u==null?void 0:u.containerId]?u:null})},$t=function(a,l){return l.editingElement?[l.editingElement]:Re(a,l,!0)};function _t(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function It(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?_t(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):_t(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Qt=function(a,l){if(a.editingGroupId){var s=mi(ge(l),a.editingGroupId);if(s.length)return It(It({},a),{},{selectedElementIds:be({},s[0].id,!0)})}return a},xr=Ct({name:"deleteSelectedElements",perform:function(a,l){if(l.editingLinearElement){var s=l.editingLinearElement,u=s.elementId,d=s.selectedPointsIndices,p=s.startBindingElement,v=s.endBindingElement,w=Ur.getElement(u);if(!w)return!1;if(d==null||w.points.length<2){var y=a.filter(function(j){return j.id!==w.id});return{elements:y,appState:It(It({},Qt(l,y)),{},{editingLinearElement:null}),commitToHistory:!1}}var T={startBindingElement:d!=null&&d.includes(0)?null:p,endBindingElement:d!=null&&d.includes(w.points.length-1)?null:v};return Ur.deletePoints(w,d),{elements:a,appState:It(It({},l),{},{editingLinearElement:It(It(It({},l.editingLinearElement),T),{},{selectedPointsIndices:(d==null?void 0:d[0])>0?[d[0]-1]:[0]})}),commitToHistory:!0}}var _=function(j,z){return{elements:j.map(function(K){return z.selectedElementIds[K.id]||Pi(K)&&z.selectedElementIds[K.containerId]?tn(K,{isDeleted:!0}):K}),appState:It(It({},z),{},{selectedElementIds:{}})}}(a,l),L=_.elements,R=_.appState;return C1(L,a.filter(function(j){var z=j.id;return l.selectedElementIds[z]})),{elements:L,appState:It(It({},R=Qt(R,L)),{},{elementType:"selection",multiElement:null}),commitToHistory:Et(ge(a),l)}},contextItemLabel:"labels.delete",keyTest:function(a){return a.key===Be.BACKSPACE||a.key===Be.DELETE},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:Wd,title:G("labels.delete"),"aria-label":G("labels.delete"),onClick:function(){return u(null)},visible:Et(ge(l),s)})}}),Rt=function(a,l){for(var s=[],u=[],d=null,p=-1,v=Ia(Re(a,l,!0));++p<a.length;)v.get(a[p].id)?(u.length&&(s=s.concat(u),u=[]),s.push(p),d=p+1):a[p].isDeleted&&d===p?(d=p+1,u.push(p)):u=[];return s},Gt=function(a,l,s){if("containerId"in a&&a.containerId){if(s!=="left")return l.indexOf(a);var u=mn.getScene(a).getElement(a.containerId);if(u)return l.indexOf(u)}else{var d,p,v=(d=a.boundElements)===null||d===void 0||(p=d.find(function(y){return y.type!=="arrow"}))===null||p===void 0?void 0:p.id;if(v){if(s==="left")return l.indexOf(a);var w=mn.getScene(a).getElement(v);if(w)return l.indexOf(w)}}},ra=function(a,l,s,u){var d,p=l[s],v=function(R){return!R.isDeleted&&(!a.editingGroupId||R.groupIds.includes(a.editingGroupId))},w=u==="left"?function(R,j){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R.length-1;z<0&&(z=R.length+z);for(var K=(z=Math.min(R.length-1,Math.max(z,0)))+1;--K>-1;)if(j(R[K],K,R))return K;return-1}(l,v,Math.max(0,s-1)):function(R,j){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;z<0&&(z=R.length+z);for(var K=(z=Math.min(R.length,Math.max(z,0)))-1;++K<R.length;)if(j(R[K],K,R))return K;return-1}(l,v,s+1),y=l[w];if(!y)return-1;if(a.editingGroupId){var T;if((p==null?void 0:p.groupIds.join(""))===(y==null?void 0:y.groupIds.join("")))return(T=Gt(y,l,u))!==null&&T!==void 0?T:w;if(y==null||!y.groupIds.includes(a.editingGroupId))return-1}if(!y.groupIds.length)return(d=Gt(y,l,u))!==null&&d!==void 0?d:w;var _=a.editingGroupId?y.groupIds[y.groupIds.indexOf(a.editingGroupId)-1]:y.groupIds[y.groupIds.length-1],L=mi(l,_);return L.length?u==="left"?l.indexOf(L[0]):l.indexOf(L[L.length-1]):w},ai=function(a,l){return l.reduce(function(s,u){var d=a[u];return s[d.id]=d,s},{})},vo=function(a,l,s){var u,d,p=Rt(l,a),v=ai(l,p),w=(d=0,(u=p).reduce(function(y,T,_){return _>0&&u[_-1]!==T-1&&(d=++d),(y[d]||(y[d]=[])).push(T),y},[]));return s==="right"&&(w=w.reverse()),w.forEach(function(y,T){var _=y[0],L=y[y.length-1],R=s==="left"?_:L,j=ra(a,l,R,s);if(j!==-1&&R!==j){var z=s==="left"?l.slice(0,j):l.slice(0,_),K=l.slice(_,L+1),$=s==="left"?l.slice(j,_):l.slice(L+1,j+1),Z=s==="left"?l.slice(L+1):l.slice(j+1);l=s==="left"?[].concat(Ne(z),Ne(K),Ne($),Ne(Z)):[].concat(Ne(z),Ne($),Ne(K),Ne(Z))}}),l.map(function(y){return v[y.id]?au(y):y})},Zn=function(a,l,s){var u,d,p=Rt(a,l),v=ai(a,p),w=[];if(s==="left"){if(l.editingGroupId){var y=mi(a,l.editingGroupId);if(!y.length)return a;u=a.indexOf(y[0])}else u=0;d=p[p.length-1]}else{if(l.editingGroupId){var T=mi(a,l.editingGroupId);if(!T.length)return a;d=a.indexOf(T[T.length-1])}else d=a.length-1;u=p[0]}for(var _=u;_<d+1;_++)p.includes(_)||w.push(a[_]);var L=Object.values(v).map(function(z){return au(z)}),R=a.slice(0,u),j=a.slice(d+1);return s==="left"?[].concat(Ne(R),Ne(L),w,Ne(j)):[].concat(Ne(R),w,Ne(L),Ne(j))},Ll=function(a,l){return vo(l,a,"left")},ms=function(a,l){return vo(l,a,"right")},pf=function(a,l){return Zn(a,l,"left")},oh=function(a,l){return Zn(a,l,"right")},wc=Ct({name:"sendBackward",perform:function(a,l){return{elements:Ll(a,l),appState:l,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(a){return a[Be.CTRL_OR_CMD]&&!a.shiftKey&&a.code===Qu},PanelComponent:function(a){var l=a.updateData,s=a.appState;return(0,A.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return l(null)},title:"".concat(G("labels.sendBackward")," \u2014 ").concat(ce("CtrlOrCmd+[")),children:(0,A.jsx)(Vd,{theme:s.theme})})}}),mu=Ct({name:"bringForward",perform:function(a,l){return{elements:ms(a,l),appState:l,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(a){return a[Be.CTRL_OR_CMD]&&!a.shiftKey&&a.code===yd},PanelComponent:function(a){var l=a.updateData,s=a.appState;return(0,A.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return l(null)},title:"".concat(G("labels.bringForward")," \u2014 ").concat(ce("CtrlOrCmd+]")),children:(0,A.jsx)(Qb,{theme:s.theme})})}}),Ry=Ct({name:"sendToBack",perform:function(a,l){return{elements:pf(a,l),appState:l,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(a){return va?a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===Qu:a[Be.CTRL_OR_CMD]&&a.shiftKey&&a.code===Qu},PanelComponent:function(a){var l=a.updateData,s=a.appState;return(0,A.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return l(null)},title:"".concat(G("labels.sendToBack")," \u2014 ").concat(ce(va?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")),children:(0,A.jsx)(Jb,{theme:s.theme})})}}),Fy=Ct({name:"bringToFront",perform:function(a,l){return{elements:oh(a,l),appState:l,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(a){return va?a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===yd:a[Be.CTRL_OR_CMD]&&a.shiftKey&&a.code===yd},PanelComponent:function(a){var l=a.updateData,s=a.appState;return(0,A.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(u){return l(null)},title:"".concat(G("labels.bringToFront")," \u2014 ").concat(ce(va?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")),children:(0,A.jsx)(qd,{theme:s.theme})})}});function mf(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function lh(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?mf(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):mf(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var sh=Ct({name:"selectAll",perform:function(a,l){return!l.editingLinearElement&&{appState:Ho(lh(lh({},l),{},{editingGroupId:null,selectedElementIds:a.reduce(function(s,u){return u.isDeleted||Lr(u)&&u.containerId||(s[u.id]=!0),s},{})}),ge(a)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.key===Be.A}});function vf(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function gf(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?vf(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):vf(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var uh=Ct({name:"duplicateSelection",perform:function(a,l){if(l.editingLinearElement){var s=Ur.duplicateSelectedPoints(l);return!!s&&{elements:a,appState:s.appState,commitToHistory:!0}}return gf(gf({},ch(a,l)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.key===Be.D},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:fs,title:"".concat(G("labels.duplicateSelection")," \u2014 ").concat(ce("CtrlOrCmd+D")),"aria-label":G("labels.duplicateSelection"),onClick:function(){return u(null)},visible:Et(ge(l),s)})}}),ch=function(a,l){for(var s=new Map,u=[],d=[],p=new Map,v=function(j){var z=Ld(l.editingGroupId,s,j,{x:j.x+I.k/2,y:j.y+I.k/2});return p.set(j.id,z.id),d.push(j),u.push(z),z},w=[],y=0,T=Ia(Re(a,l,!0));y<a.length;){var _=a[y];if(T.get(_.id)){if(_.groupIds.length){var L=Md(l,_);if(L){var R=mi(a,L);w.push.apply(w,Ne(R).concat(Ne(R.map(function(j){return v(j)})))),y+=R.length;continue}}w.push(_,v(_))}else w.push(_);y++}return Rn(w,d,p),Il(w,d,p),{elements:w,appState:Ho(gf(gf({},l),{},{selectedGroupIds:{},selectedElementIds:u.reduce(function(j,z){return Pi(z)||(j[z.id]=!0),j},{})}),ge(w))}};function xk(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function fh(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?xk(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):xk(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var vw,gw,xc,vs=Ct({name:"finalize",perform:function(a,l,s,u){var d,p=u.canvas,v=u.focusContainer;if(l.editingLinearElement){var w=l.editingLinearElement,y=w.elementId,T=w.startBindingElement,_=w.endBindingElement,L=Ur.getElement(y);if(L)return hi(L)&&hc(L,T,_),{elements:L.points.length<2||as(L)?a.filter(function(_e){return _e.id!==L.id}):void 0,appState:fh(fh({},l),{},{editingLinearElement:null}),commitToHistory:!0}}var R=a;l.pendingImageElement&&vt(l.pendingImageElement,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&v();var j=l.multiElement?l.multiElement:((d=l.editingElement)===null||d===void 0?void 0:d.type)==="freedraw"?l.editingElement:null;if(j){if(j.type!=="freedraw"&&l.lastPointerDownWith!=="touch"){var z=j.points,K=j.lastCommittedPoint;K&&z[z.length-1]===K||vt(j,{points:j.points.slice(0,-1)})}as(j)&&(R=R.slice(0,-1));var $=Yl(j.points,l.zoom.value);if((j.type==="line"||j.type==="freedraw")&&$){var Z=j.points,oe=Z[0];vt(j,{points:Z.map(function(_e,Ie){return Ie===Z.length-1?[oe[0],oe[1]]:_e})})}if(hi(j)&&!$&&j.points.length>1){var le=W(Ur.getPointAtIndexGlobalCoordinates(j,-1),2),me=le[0],Ce=le[1];lf(j,l,mn.getScene(j),{x:me,y:Ce})}l.elementLocked||l.elementType==="freedraw"||(l.selectedElementIds[j.id]=!0)}return(l.elementLocked||l.elementType==="freedraw")&&j||Yn(p),{elements:R,appState:fh(fh({},l),{},{elementType:(l.elementLocked||l.elementType==="freedraw")&&j?l.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:j&&!l.elementLocked&&l.elementType!=="freedraw"?fh(fh({},l.selectedElementIds),{},be({},j.id,!0)):l.selectedElementIds,pendingImageElement:null}),commitToHistory:l.elementType==="freedraw"}},keyTest:function(a,l){return a.key===Be.ESCAPE&&(l.editingLinearElement!==null||!l.draggingElement&&l.multiElement===null)||(a.key===Be.ESCAPE||a.key===Be.ENTER)&&l.multiElement!==null},PanelComponent:function(a){var l=a.appState,s=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:sy,title:G("buttons.done"),"aria-label":G("buttons.done"),onClick:s,visible:l.multiElement!=null})}}),dh=typeof process!="undefined"&&(vw={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_SOCKET_SERVER_URL:"https://oss-collab-us1.excalidraw.com",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13"})!==null&&vw!==void 0&&vw.REACT_APP_GOOGLE_ANALYTICS_ID&&typeof window!="undefined"&&window.gtag?function(a,l,s,u){window.gtag("event",l,{event_category:a,event_label:s,value:u})}:(typeof process!="undefined"&&(gw={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_SOCKET_SERVER_URL:"https://oss-collab-us1.excalidraw.com",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13"})!==null&&gw!==void 0&&gw.JEST_WORKER_ID,function(a,l,s,u){}),lN=(g(518),g(9966),function(a){var l=wh().id,s=W((0,D.useState)(a.value),2),u=s[0],d=s[1];return(0,A.jsxs)("div",{className:"ProjectName",children:[(0,A.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(a.label).concat(a.isNameEditable?"":":")}),a.isNameEditable?(0,A.jsx)("input",{type:"text",className:"TextInput",onBlur:function(p){(function(w){for(var y=w.parentElement;y;){if(y.tabIndex>-1)return void y.focus();y=y.parentElement}})(p.target);var v=p.target.value;v!==a.value&&a.onChange(v)},onKeyDown:function(p){if(p.key==="Enter"){if(p.preventDefault(),p.nativeEvent.isComposing||p.keyCode===229)return;p.currentTarget.blur()}},id:"".concat(l,"-filename"),value:u,onChange:function(p){return d(p.target.value)}}):(0,A.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(l,"-filename"),children:a.value})]})}),yw=function(a,l){if(l!=null&&l.collaborators){var s=l.collaborators.get(a);if(s!=null&&s.color)return s.color}var u=a.split("").reduce(function(v,w){return v+w.charCodeAt(0)},0),d=Zl.elementBackground.slice(1),p=Zl.elementStroke.slice(1);return{background:d[u%d.length],stroke:p[u%p.length]}};(function(a){a.ACTIVE="active",a.AWAY="away",a.IDLE="idle"})(xc||(xc={})),g(4404);function kk(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Ck(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?kk(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):kk(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Sk=document.createElement("img");Sk.src="data:".concat(I.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var bw=!1,sN=function(a){var l=a.element,s=a.appState,u=a.setAppState,d=a.onLinkOpen,p=l.link||"",v=W((0,D.useState)(p),2),w=v[0],y=v[1],T=(0,D.useRef)(null),_=s.showHyperlinkPopup==="editor"||!p,L=(0,D.useCallback)(function(){if(T.current){var $=_k(T.current.value);vt(l,{link:$}),u({showHyperlinkPopup:"info"})}},[l,u]);(0,D.useLayoutEffect)(function(){return function(){L()}},[L]),(0,D.useEffect)(function(){var $=null,Z=function(oe){_||($&&clearTimeout($),cN(l,s,[oe.clientX,oe.clientY])&&($=window.setTimeout(function(){u({showHyperlinkPopup:!1})},500)))};return window.addEventListener(I.Ks.POINTER_MOVE,Z,!1),function(){window.removeEventListener(I.Ks.POINTER_MOVE,Z,!1),$&&clearTimeout($)}},[s,l,_,u]);var R=(0,D.useCallback)(function(){vt(l,{link:null}),_&&(T.current.value=""),u({showHyperlinkPopup:!1})},[u,l,_]),j=Ek(l,s),z=j.x,K=j.y;return s.draggingElement||s.resizingElement||s.isRotating||s.openMenu?null:(0,A.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(K,"px"),left:"".concat(z,"px"),width:320,padding:5},children:[_?(0,A.jsx)("input",{className:Cr("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:T,value:w,onChange:function($){return y($.target.value)},autoFocus:!0,onKeyDown:function($){$.stopPropagation(),$[Be.CTRL_OR_CMD]&&$.key===Be.K&&$.preventDefault(),$.key!==Be.ENTER&&$.key!==Be.ESCAPE||L()}}):(0,A.jsx)("a",{href:l.link||"",className:Cr("excalidraw-hyperlinkContainer-link",{"d-none":_}),target:Tk(l.link)?"_self":"_blank",onClick:function($){if(l.link&&d){var Z=Qs(I.Ks.EXCALIDRAW_LINK,$.nativeEvent);d(l,Z),Z.defaultPrevented&&$.preventDefault()}},rel:"noopener noreferrer",children:l.link}),(0,A.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!_&&(0,A.jsx)(tr,{type:"button",title:G("buttons.edit"),"aria-label":G("buttons.edit"),label:G("buttons.edit"),onClick:function(){u({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:D1}),p&&(0,A.jsx)(tr,{type:"button",title:G("buttons.remove"),"aria-label":G("buttons.remove"),label:G("buttons.remove"),onClick:R,className:"excalidraw-hyperlinkContainer--remove",icon:Wd})]})]})},Ek=function(a,l){var s=W(wr(a),2),u=s[0],d=s[1],p=Ge({sceneX:u+a.width/2,sceneY:d},l),v=p.x,w=p.y;return{x:v-l.offsetLeft-160,y:w-l.offsetTop-85}},_k=function(a){return(a=a.trim())&&(a.includes("://")||/^[[\\/]/.test(a)||(a="https://".concat(a))),a},Tk=function(a){return!!(a!=null&&a.includes(location.origin)||a!=null&&a.startsWith("/"))},Ok=Ct({name:"link",perform:function(a,l){return l.showHyperlinkPopup!=="editor"&&{elements:a,appState:Ck(Ck({},l),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.key===Be.K},contextItemLabel:function(a,l){return Ak(a,l)},contextItemPredicate:function(a,l){return Re(a,l).length===1},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData,d=Re(l,s);return(0,A.jsx)(tr,{type:"button",icon:ay,"aria-label":G(Ak(l,s)),title:"".concat(G("labels.link.label")," - ").concat(ce("CtrlOrCmd+K")),onClick:function(){return u(null)},selected:d.length===1&&!!d[0].link})}}),Ak=function(a,l){return Re(a,l)[0].link?"labels.link.edit":"labels.link.create"},ww=function(a,l,s){var u=W(a,4),d=u[0],p=u[1],v=u[2],w=u[3],y=14/s.zoom.value,T=14/s.zoom.value,_=14/s.zoom.value,L=(d+v)/2,R=(p+w)/2,j=6/(2*s.zoom.value),z=4/s.zoom.value,K=W(Sr(v+z-j+y/2,p-z-_+j+T/2,L,R,l),2);return[K[0]-y/2,K[1]-T/2,y,T]},zy=function(a,l,s,u){var d=W(s,2),p=d[0],v=d[1],w=4/l.zoom.value;if(!u&&l.viewModeEnabled&&J0(a,[p,v],w))return!0;var y=W(wr(a),4),T=y[0],_=y[1],L=y[2],R=y[3],j=W(ww([T,_,L,R],a.angle,l),4),z=j[0],K=j[1],$=j[2],Z=j[3];return p>z-w&&p<z+w+$&&v>K-w&&v<K+Z+w},B1=null,uN=function(a,l){if(a.link){var s=hf();s.classList.add("excalidraw-tooltip--visible"),s.style.maxWidth="20rem",s.textContent=a.link;var u=W(wr(a),4),d=u[0],p=u[1],v=u[2],w=u[3],y=W(ww([d,p,v,w],a.angle,l),4),T=y[0],_=y[1],L=y[2],R=y[3],j=Ge({sceneX:T,sceneY:_},l);ah(s,{left:j.x,top:j.y,width:L,height:R},"top"),bw=!0}},cN=function(a,l,s){var u=W(s,2),d=u[0],p=u[1],v=je({clientX:d,clientY:p},l),w=v.x,y=v.y,T=15/l.zoom.value;if(J0(a,[w,y],T))return!1;var _=W(wr(a),3),L=_[0],R=_[1],j=_[2];if(w>=L&&w<=j&&y>=R-85&&y<=R)return!1;var z=Ek(a,l),K=z.x,$=z.y;return!(d>=K-T&&d<=K+320+10+T&&p>=$-T&&p<=$+T+10+42)};function fN(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return Mk(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Mk(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function Mk(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}var kc,xw=function(){var a=document.createElement("canvas").getContext("2d");return a?(a.fillStyle="#f00",a.textBaseline="top",a.font="32px Arial",a.fillText("\u{1F600}",0,0),a.getImageData(12,12,1,1).data[0]!==0):!1}(),By=function(a,l,s,u,d,p,v,w){var y=arguments.length>8&&arguments[8]!==void 0&&arguments[8];a.save(),a.translate(p,v),a.rotate(w),y&&a.fillRect(l-p,s-v,u,d),a.strokeRect(l-p,s-v,u,d),a.restore()},kw=function(a,l,s,u){a.beginPath(),a.arc(l,s,u,0,2*Math.PI),a.fill(),a.stroke()},Ik=function(a,l,s,u,d,p,v){if(p===null)return{atLeastOneVisibleElement:!1};var w=v.renderScrollbars,y=w===void 0||w,T=v.renderSelection,_=T===void 0||T,L=v.renderGrid,R=L===void 0||L,j=v.isExporting,z=p.getContext("2d");z.setTransform(1,0,0,1,0,0),z.save(),z.scale(u,u);var K=p.width/u,$=p.height/u;j&&v.theme==="dark"&&(z.filter=I.ZF),typeof v.viewBackgroundColor=="string"?((v.viewBackgroundColor==="transparent"||v.viewBackgroundColor.length===5||v.viewBackgroundColor.length===9||/(hsla|rgba)\(/.test(v.viewBackgroundColor))&&z.clearRect(0,0,K,$),z.save(),z.fillStyle=v.viewBackgroundColor,z.fillRect(0,0,K,$),z.restore()):z.clearRect(0,0,K,$),z.save(),z.scale(v.zoom.value,v.zoom.value),R&&l.gridSize&&function(ot,Lt,Ft,rr,zr,cn){ot.save(),ot.strokeStyle="rgba(0,0,0,0.1)",ot.beginPath();for(var Mr=Ft;Mr<Ft+zr+2*Lt;Mr+=Lt)ot.moveTo(Mr,rr-Lt),ot.lineTo(Mr,rr+cn+2*Lt);for(var On=rr;On<rr+cn+2*Lt;On+=Lt)ot.moveTo(Ft-Lt,On),ot.lineTo(Ft+zr+2*Lt,On);ot.stroke(),ot.restore()}(z,l.gridSize,-Math.ceil(v.zoom.value/l.gridSize)*l.gridSize+v.scrollX%l.gridSize,-Math.ceil(v.zoom.value/l.gridSize)*l.gridSize+v.scrollY%l.gridSize,K/v.zoom.value,$/v.zoom.value);var Z,oe=a.filter(function(ot){return gN(ot,K,$,{zoom:v.zoom,offsetLeft:l.offsetLeft,offsetTop:l.offsetTop,scrollX:v.scrollX,scrollY:v.scrollY})});if(oe.forEach(function(ot){try{yg(ot,d,z,v),j||vN(ot,z,l)}catch(Lt){console.error(Lt)}}),l.editingLinearElement){var le=Ur.getElement(l.editingLinearElement.elementId);le&&function(ot,Lt,Ft,rr){ot.save(),ot.translate(Ft.scrollX,Ft.scrollY),ot.lineWidth=1/Ft.zoom.value,Ur.getPointsGlobalCoordinates(rr).forEach(function(zr,cn){var Mr,On;ot.strokeStyle="red",ot.setLineDash([]),ot.fillStyle=(Mr=Lt.editingLinearElement)!==null&&Mr!==void 0&&(On=Mr.selectedPointsIndices)!==null&&On!==void 0&&On.includes(cn)?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";var bi=Ur.POINT_HANDLE_SIZE;kw(ot,zr[0],zr[1],bi/2/Ft.zoom.value)}),ot.restore()}(z,l,v,le)}if(s)try{yg(s,d,z,v)}catch(ot){console.error(ot)}if(ss(l)&&l.suggestedBindings.filter(function(ot){return ot!=null}).forEach(function(ot){hN(z,v,ot)}),_&&!l.multiElement&&!l.editingLinearElement){var me,Ce=a.reduce(function(ot,Lt){var Ft=[];if(l.selectedElementIds[Lt.id]&&!wa(l,Lt)&&Ft.push(fr.black),v.remoteSelectedElementIds[Lt.id]&&Ft.push.apply(Ft,Ne(v.remoteSelectedElementIds[Lt.id].map(function(bi){return yw(bi,l).background}))),Ft.length){var rr=W(wr(Lt),4),zr=rr[0],cn=rr[1],Mr=rr[2],On=rr[3];ot.push({angle:Lt.angle,elementX1:zr,elementY1:cn,elementX2:Mr,elementY2:On,selectionColors:Ft})}return ot},[]),_e=function(ot){var Lt=mi(a,ot),Ft=W(qn(Lt),4),rr=Ft[0],zr=Ft[1],cn=Ft[2],Mr=Ft[3];Ce.push({angle:0,elementX1:rr,elementX2:cn,elementY1:zr,elementY2:Mr,selectionColors:[fr.black]})},Ie=fN(lc(l));try{for(Ie.s();!(me=Ie.n()).done;)_e(me.value)}catch(ot){Ie.e(ot)}finally{Ie.f()}l.editingGroupId&&_e(l.editingGroupId),Ce.forEach(function(ot){return dN(z,v,ot)});var Te=Re(a,l);if(z.save(),z.translate(v.scrollX,v.scrollY),Te.length===1){z.fillStyle=fr.white;var $e=c1(Te[0],v.zoom,"mouse");l.viewModeEnabled||Dk(z,v,$e,Te[0].angle)}else if(Te.length>1&&!l.isRotating){var He=4/v.zoom.value;z.fillStyle=fr.white;var We=W(qn(Te),4),Ee=We[0],rt=We[1],Xe=We[2],qe=We[3],at=z.getLineDash();z.setLineDash([2/v.zoom.value]);var et=z.lineWidth;z.lineWidth=1/v.zoom.value,By(z,Ee-He,rt-He,Xe-Ee+2*He,qe-rt+2*He,(Ee+Xe)/2,(rt+qe)/2,0),z.lineWidth=et,z.setLineDash(at);var Le=vr([Ee,rt,Xe,qe],0,v.zoom,"mouse",l1);Dk(z,v,Le,0)}z.restore()}for(var dt in z.restore(),v.remotePointerViewportCoords){var mt=v.remotePointerViewportCoords[dt],bt=mt.x,ut=mt.y;bt-=l.offsetLeft,ut-=l.offsetTop;var Dt=bt<0||bt>K-9||ut<0||ut>$-14;bt=Math.max(bt,0),bt=Math.min(bt,K-9),ut=Math.max(ut,0),ut=Math.min(ut,$-14);var lr=yw(dt,l),Ar=lr.background,Qr=lr.stroke;z.save(),z.strokeStyle=Qr,z.fillStyle=Ar;var br=v.remotePointerUserStates[dt];(Dt||br===xc.AWAY)&&(z.globalAlpha=.48),v.remotePointerButton&&v.remotePointerButton[dt]==="down"&&(z.beginPath(),z.arc(bt,ut,15,0,2*Math.PI,!1),z.lineWidth=3,z.strokeStyle="#ffffff88",z.stroke(),z.closePath(),z.beginPath(),z.arc(bt,ut,15,0,2*Math.PI,!1),z.lineWidth=1,z.strokeStyle=Qr,z.stroke(),z.closePath()),z.beginPath(),z.moveTo(bt,ut),z.lineTo(bt+1,ut+14),z.lineTo(bt+4,ut+9),z.lineTo(bt+9,ut+10),z.lineTo(bt,ut),z.fill(),z.stroke();var qr=v.remotePointerUsernames[dt],hr="";br===xc.AWAY?hr=xw?"\u26AB\uFE0F":" (".concat(xc.AWAY,")"):br===xc.IDLE?hr=xw?"\u{1F4A4}":" (".concat(xc.IDLE,")"):br===xc.ACTIVE&&(hr=xw?"\u{1F7E2}":"");var un="".concat(qr?"".concat(qr," "):"").concat(hr);if(!Dt&&un){var Tn=bt+9,Ua=ut+14,yi=z.measureText(un),$i=yi.actualBoundingBoxDescent+yi.actualBoundingBoxAscent;z.fillStyle=Qr,z.fillRect(Tn-1,Ua-1,yi.width+8+2,$i+8+2),z.fillStyle=Ar,z.fillRect(Tn,Ua,yi.width+8,$i+8),z.fillStyle=fr.white,z.fillText(un,Tn+4,Ua+4+yi.actualBoundingBoxAscent)}z.restore(),z.closePath()}return y&&(Z=function(ot,Lt,Ft,rr){var zr=rr.scrollX,cn=rr.scrollY,Mr=rr.zoom;if(ot.length===0)return{horizontal:null,vertical:null};var On=W(qn(ot),4),bi=On[0],Sf=On[1],Nl=On[2],jl=On[3],Gi=Lt/Mr.value,Oc=Ft/Mr.value,Xo=Lt-Gi,ys=Ft-Oc,ii={top:parseInt(pt("sat")),bottom:parseInt(pt("sab")),left:parseInt(pt("sal")),right:parseInt(pt("sar"))},r2=ze().rtl,Ac=Xo/2-zr+ii.left,Mc=ys/2-cn+ii.top,Y1=Ac+Gi-ii.right,X1=Mc+Oc-ii.bottom,xh=Math.min(bi,Ac),Ic=Math.min(Sf,Mc),kh=Math.max(Nl,Y1),Z1=Math.max(jl,X1);return{horizontal:Ac===xh&&Y1===kh?null:{x:Math.max(ii.left,4)+(Ac-xh)/(kh-xh)*Lt,y:Ft-6-Math.max(4,ii.bottom),width:(Y1-Ac)/(kh-xh)*Lt-Math.max(8,ii.left+ii.right),height:6},vertical:Mc===Ic&&X1===Z1?null:{x:r2?Math.max(ii.left,4):Lt-6-Math.max(ii.right,4),y:(Mc-Ic)/(Z1-Ic)*Ft+Math.max(ii.top,4),width:6,height:(X1-Mc)/(Z1-Ic)*Ft-Math.max(8,ii.top+ii.bottom)}}}(a,K,$,v),z.save(),z.fillStyle="rgba(0,0,0,0.3)",z.strokeStyle="rgba(255,255,255,0.8)",[Z.horizontal,Z.vertical].forEach(function(ot){ot&&function(Lt,Ft,rr,zr,cn,Mr){Lt.beginPath(),Lt.moveTo(Ft+Mr,rr),Lt.lineTo(Ft+zr-Mr,rr),Lt.quadraticCurveTo(Ft+zr,rr,Ft+zr,rr+Mr),Lt.lineTo(Ft+zr,rr+cn-Mr),Lt.quadraticCurveTo(Ft+zr,rr+cn,Ft+zr-Mr,rr+cn),Lt.lineTo(Ft+Mr,rr+cn),Lt.quadraticCurveTo(Ft,rr+cn,Ft,rr+cn-Mr),Lt.lineTo(Ft,rr+Mr),Lt.quadraticCurveTo(Ft,rr,Ft+Mr,rr),Lt.closePath(),Lt.fill(),Lt.stroke()}(z,ot.x,ot.y,ot.width,ot.height,3)}),z.restore()),z.restore(),{atLeastOneVisibleElement:oe.length>0,scrollBars:Z}},Dk=function(a,l,s,u){Object.keys(s).forEach(function(d){var p=s[d];p!==void 0&&(a.save(),a.lineWidth=1/l.zoom.value,d==="rotation"?kw(a,p[0]+p[2]/2,p[1]+p[3]/2,p[2]/2):By(a,p[0],p[1],p[2],p[3],p[0]+p[2]/2,p[1]+p[3]/2,u,!0),a.restore())})},dN=function(a,l,s){var u=s.angle,d=s.elementX1,p=s.elementY1,v=s.elementX2,w=s.elementY2,y=s.selectionColors,T=v-d,_=w-p,L=4/l.zoom.value,R=8/l.zoom.value,j=4/l.zoom.value;a.save(),a.translate(l.scrollX,l.scrollY),a.lineWidth=1/l.zoom.value;for(var z=y.length,K=0;K<z;++K)a.strokeStyle=y[K],a.setLineDash([R,j+(R+j)*(z-1)]),a.lineDashOffset=(R+j)*K,By(a,d-L,p-L,T+2*L,_+2*L,d+T/2,p+_/2,u);a.restore()},hN=function(a,l,s){var u=Array.isArray(s)?mN:pN;a.save(),a.translate(l.scrollX,l.scrollY),u(a,s),a.restore()},pN=function(a,l){var s=W(wr(l),4),u=s[0],d=s[1],p=s[2]-u,v=s[3]-d,w=xa(l,p,v);a.strokeStyle="rgba(0,0,0,.05)",a.lineWidth=w-4;var y=2+w/2;switch(l.type){case"rectangle":case"text":case"image":By(a,u-y,d-y,p+2*y,v+2*y,u+p/2,d+v/2,l.angle);break;case"diamond":var T=Math.hypot(p,v);(function(_,L,R,j,z,K){_.save(),_.translate(j,z),_.rotate(K),_.beginPath(),_.moveTo(0,R/2),_.lineTo(L/2,0),_.lineTo(0,-R/2),_.lineTo(-L/2,0),_.closePath(),_.stroke(),_.restore()})(a,p+2*(y*T/v),v+2*(y*T/p),u+p/2,d+v/2,l.angle);break;case"ellipse":(function(_,L,R,j,z,K){_.beginPath(),_.ellipse(j,z,L/2,R/2,K,0,2*Math.PI),_.stroke()})(a,p+2*y,v+2*y,u+p/2,d+v/2,l.angle)}},mN=function(a,l){var s=W(l,3),u=s[0],d=s[1],p=s[2],v=xa(p,p.width,p.height);a.strokeStyle="rgba(0,0,0,0)",a.fillStyle="rgba(0,0,0,.05)",(d==="both"?[0,-1]:d==="start"?[0]:[-1]).forEach(function(w){var y=W(Ur.getPointAtIndexGlobalCoordinates(u,w),2),T=y[0],_=y[1];kw(a,T,_,v)})},vN=function(a,l,s){if(a.link&&!s.selectedElementIds[a.id]){var u=W(wr(a),4),d=u[0],p=u[1],v=u[2],w=u[3],y=W(ww([d,p,v,w],a.angle,s),4),T=y[0],_=y[1],L=y[2],R=y[3],j=T+L/2,z=_+R/2;if(l.save(),l.translate(s.scrollX+j,s.scrollY+z),l.rotate(a.angle),kc&&kc.zoom===s.zoom.value)l.drawImage(kc,T-j,_-z,L,R);else{(kc=document.createElement("canvas")).zoom=s.zoom.value,kc.width=L*window.devicePixelRatio*s.zoom.value,kc.height=R*window.devicePixelRatio*s.zoom.value;var K=kc.getContext("2d");K.scale(window.devicePixelRatio*s.zoom.value,window.devicePixelRatio*s.zoom.value),K.fillStyle="#fff",K.fillRect(0,0,L,R),K.drawImage(Sk,0,0,L,R),K.restore(),l.drawImage(kc,T-j,_-z,L,R)}l.restore()}},gN=function(a,l,s,u){var d=W(Zu(a),4),p=d[0],v=d[1],w=d[2],y=d[3],T=je({clientX:u.offsetLeft,clientY:u.offsetTop},u),_=je({clientX:u.offsetLeft+l,clientY:u.offsetTop+s},u);return T.x<=w&&T.y<=y&&_.x>=p&&_.y>=v},yN=function(a,l,s,u){var d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},p=d.offsetX,v=p===void 0?0:p,w=d.offsetY,y=w===void 0?0:w,T=d.exportWithDarkMode,_=T!==void 0&&T;s&&a.forEach(function(L){if(!L.isDeleted)try{$0(L,l,s,u,L.x+v,L.y+y,_)}catch(R){console.error(R)}})},Lk=Object.defineProperty,hh=(a,l)=>()=>(a&&(l=a(a=0)),l),ph=(a,l)=>{for(var s in(u=>{Lk(u,"__esModule",{value:!0})})(a),l)Lk(a,s,{get:l[s],enumerable:!0})},Pk={};ph(Pk,{default:()=>Nk});var Nk,bN=hh(()=>{Nk=async(a=[{}])=>(Array.isArray(a)||(a=[a]),new Promise((l,s)=>{let u=document.createElement("input");u.type="file";let d=[...a.map(w=>w.mimeTypes||[]).join(),a.map(w=>w.extensions||[]).join()].join();u.multiple=a[0].multiple||!1,u.accept=d||"";let p=w=>{typeof v=="function"&&v(),l(w)},v=a[0].legacySetup&&a[0].legacySetup(p,()=>v(s),u);u.addEventListener("change",()=>{p(u.multiple?Array.from(u.files):u.files[0])}),u.click()}))}),jk={};ph(jk,{default:()=>Fk});var Rk,Fk,wN=hh(()=>{Rk=async a=>{let l=await a.getFile();return l.handle=a,l},Fk=async(a=[{}])=>{Array.isArray(a)||(a=[a]);let l=[];a.forEach((d,p)=>{l[p]={description:d.description||"",accept:{}},d.mimeTypes?d.mimeTypes.map(v=>{l[p].accept[v]=d.extensions||[]}):l[p].accept["*/*"]=d.extensions||[]});let s=await window.showOpenFilePicker({id:a[0].id,startIn:a[0].startIn,types:l,multiple:a[0].multiple||!1,excludeAcceptAllOption:a[0].excludeAcceptAllOption||!1}),u=await Promise.all(s.map(Rk));return a[0].multiple?u:u[0]}}),zk={};ph(zk,{default:()=>Bk});var Bk,xN=hh(()=>{Bk=async(a=[{}])=>(Array.isArray(a)||(a=[a]),a[0].recursive=a[0].recursive||!1,new Promise((l,s)=>{let u=document.createElement("input");u.type="file",u.webkitdirectory=!0;let d=v=>{typeof p=="function"&&p(),l(v)},p=a[0].legacySetup&&a[0].legacySetup(d,()=>p(s),u);u.addEventListener("change",()=>{let v=Array.from(u.files);a[0].recursive?a[0].recursive&&a[0].skipDirectory&&(v=v.filter(w=>w.webkitRelativePath.split("/").every(y=>!a[0].skipDirectory({name:y,kind:"directory"})))):v=v.filter(w=>w.webkitRelativePath.split("/").length===2),d(v)}),u.click()}))}),Hk={};ph(Hk,{default:()=>Uk});var Cw,Uk,kN=hh(()=>{Cw=async(a,l,s=a.name,u)=>{let d=[],p=[];for await(let v of a.values()){let w=`${s}/${v.name}`;v.kind==="file"?p.push(v.getFile().then(y=>(y.directoryHandle=a,Object.defineProperty(y,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>w})))):v.kind==="directory"&&l&&(!u||!u(v))&&d.push(Cw(v,l,w,u))}return[...(await Promise.all(d)).flat(),...await Promise.all(p)]},Uk=async(a={})=>{a.recursive=a.recursive||!1;let l=await window.showDirectoryPicker({id:a.id,startIn:a.startIn});return Cw(l,a.recursive,void 0,a.skipDirectory)}}),Kk={};ph(Kk,{default:()=>Wk});var Wk,CN=hh(()=>{Wk=async(a,l={})=>{Array.isArray(l)&&(l=l[0]);let s=document.createElement("a"),u=a;"body"in a&&(u=await async function(v,w){let y=v.getReader(),T=new ReadableStream({start:L=>async function R(){return y.read().then(({done:j,value:z})=>{if(!j)return L.enqueue(z),R();L.close()})}()}),_=new Response(T);return y.releaseLock(),new Blob([await _.blob()],{type:w})}(a.body,a.headers.get("content-type"))),s.download=l.fileName||"Untitled",s.href=URL.createObjectURL(u);let d=()=>{typeof p=="function"&&p()},p=l.legacySetup&&l.legacySetup(d,()=>p(reject),s);return s.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(s.href),3e4),d()}),s.click(),null}}),$k={};ph($k,{default:()=>Gk});var Gk,SN=hh(()=>{Gk=async(a,l=[{}],s=null,u=!1)=>{Array.isArray(l)||(l=[l]),l[0].fileName=l[0].fileName||"Untitled";let d=[];if(l.forEach((w,y)=>{d[y]={description:w.description||"",accept:{}},w.mimeTypes?(y===0&&(a.type?w.mimeTypes.push(a.type):a.headers&&a.headers.get("content-type")&&w.mimeTypes.push(a.headers.get("content-type"))),w.mimeTypes.map(T=>{d[y].accept[T]=w.extensions||[]})):a.type&&(d[y].accept[a.type]=w.extensions||[])}),s)try{await s.getFile()}catch(w){if(s=null,u)throw w}let p=s||await window.showSaveFilePicker({suggestedName:l[0].fileName,id:l[0].id,startIn:l[0].startIn,types:d,excludeAcceptAllOption:l[0].excludeAcceptAllOption||!1}),v=await p.createWritable();return"stream"in a?(await a.stream().pipeTo(v),p):"body"in a?(await a.body.pipeTo(v),p):(await v.write(blob),await v.close(),p)}}),Cc=(()=>{if(typeof self=="undefined")return!1;if("top"in self&&self!==top)try{top.location}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),EN=Cc?Promise.resolve().then(()=>(wN(),jk)):Promise.resolve().then(()=>(bN(),Pk));Cc?Promise.resolve().then(()=>(kN(),Hk)):Promise.resolve().then(()=>(xN(),zk));var _N=Cc?Promise.resolve().then(()=>(SN(),$k)):Promise.resolve().then(()=>(CN(),Kk)),Sw=function(a){var l,s,u,d=(l=a.extensions)===null||l===void 0?void 0:l.reduce(function(v,w){return v.push(I.LO[w]),v},[]),p=(s=a.extensions)===null||s===void 0?void 0:s.reduce(function(v,w){return w==="jpg"?v.concat(".jpg",".jpeg"):v.concat(".".concat(w))},[]);return async function(...v){return(await EN).default(...v)}({description:a.description,extensions:p,mimeTypes:d,multiple:(u=a.multiple)!==null&&u!==void 0&&u,legacySetup:function(v,w,y){var T=tc(w,500),_=function(){L(),document.addEventListener(I.Ks.KEYUP,T),document.addEventListener(I.Ks.POINTER_UP,T),T()},L=function(){var j;if((j=y.files)!==null&&j!==void 0&&j.length){var z=a.multiple?Ne(y.files):y.files[0];v(z)}};requestAnimationFrame(function(){window.addEventListener(I.Ks.FOCUS,_)});var R=window.setInterval(function(){L()},500);return function(j){clearInterval(R),T.cancel(),window.removeEventListener(I.Ks.FOCUS,_),document.removeEventListener(I.Ks.KEYUP,T),document.removeEventListener(I.Ks.POINTER_UP,T),j&&(console.warn("Opening the file was canceled (legacy-fs)."),j(new j1))}}})},Hy=function(a,l){return async function(...s){return(await _N).default(...s)}(a,{fileName:"".concat(l.name,".").concat(l.extension),description:l.description,extensions:[".".concat(l.extension)]},l.fileHandle)};function Vk(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return qk(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return qk(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function qk(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}function Yk(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function yf(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?Yk(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Yk(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var TN={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0},H1=function(a,l){var s,u,d,p,v,w,y,T,_,L,R,j,z,K,$={type:l.type||a.type,version:a.version||1,versionNonce:(s=a.versionNonce)!==null&&s!==void 0?s:0,isDeleted:(u=a.isDeleted)!==null&&u!==void 0&&u,id:a.id||zi(),fillStyle:a.fillStyle||"hachure",strokeWidth:a.strokeWidth||1,strokeStyle:(d=a.strokeStyle)!==null&&d!==void 0?d:"solid",roughness:(p=a.roughness)!==null&&p!==void 0?p:1,opacity:a.opacity==null?100:a.opacity,angle:a.angle||0,x:(v=(w=l.x)!==null&&w!==void 0?w:a.x)!==null&&v!==void 0?v:0,y:(y=(T=l.y)!==null&&T!==void 0?T:a.y)!==null&&y!==void 0?y:0,strokeColor:a.strokeColor,backgroundColor:a.backgroundColor,width:a.width||0,height:a.height||0,seed:(_=a.seed)!==null&&_!==void 0?_:1,groupIds:(L=a.groupIds)!==null&&L!==void 0?L:[],strokeSharpness:(R=a.strokeSharpness)!==null&&R!==void 0?R:ql(a.type)?"round":"sharp",boundElements:a.boundElementIds?a.boundElementIds.map(function(Z){return{type:"arrow",id:Z}}):(j=a.boundElements)!==null&&j!==void 0?j:[],updated:(z=a.updated)!==null&&z!==void 0?z:ya(),link:(K=a.link)!==null&&K!==void 0?K:null};return yf(yf(yf({},$),Od($)),l)},ON=function(a){var l,s,u;switch(a.type){case"text":var d=a.fontSize,p=a.fontFamily;if("font"in a){var v=W(a.font.split(" "),2),w=v[0],y=v[1];d=parseInt(w,10),u=y,p=Object.keys(I.ut).includes(u)?I.ut[u]:I.rk}return H1(a,{fontSize:d,fontFamily:p,text:(l=a.text)!==null&&l!==void 0?l:"",baseline:a.baseline,textAlign:a.textAlign||I.Hg,verticalAlign:a.verticalAlign||I.hs,containerId:(s=a.containerId)!==null&&s!==void 0?s:null,originalText:a.originalText||a.text});case"freedraw":return H1(a,{points:a.points,lastCommittedPoint:null,simulatePressure:a.simulatePressure,pressures:a.pressures});case"image":return H1(a,{status:a.status||"pending",fileId:a.fileId,scale:a.scale||[1,1]});case"line":case"draw":case"arrow":var T=a.startArrowhead,_=T===void 0?null:T,L=a.endArrowhead,R=L===void 0?a.type==="arrow"?"arrow":null:L,j=a.x,z=a.y,K=!Array.isArray(a.points)||a.points.length<2?[[0,0],[a.width,a.height]]:a.points;if(K[0][0]!==0||K[0][1]!==0){var $=Ur.getNormalizedPoints(a);K=$.points,j=$.x,z=$.y}return H1(a,{type:a.type==="draw"?"line":a.type,startBinding:a.startBinding,endBinding:a.endBinding,lastCommittedPoint:null,startArrowhead:_,endArrowhead:R,points:K,x:j,y:z});case"ellipse":case"rectangle":case"diamond":return H1(a,{})}},Uy=function(a,l){var s=l?Ia(l):null;return(a||[]).reduce(function(u,d){if(d.type!=="selection"&&!as(d)){var p=ON(d);if(p){var v=s==null?void 0:s.get(d.id);v&&v.version>p.version&&(p=au(p,v.version)),u.push(p)}}return u},[])},Xk=function(a,l){a=a||{};var s,u=Js(),d={},p=Vk(Object.entries(u));try{for(p.s();!(s=p.n()).done;){var v=W(s.value,2),w=v[0],y=v[1],T=a[w],_=l?l[w]:void 0;d[w]=T!==void 0?T:_!==void 0?_:y}}catch(L){p.e(L)}finally{p.f()}return yf(yf({},d),{},{elementType:TN[d.elementType]?d.elementType:"selection",zoom:typeof a.zoom=="number"?{value:a.zoom}:a.zoom||u.zoom})},U1=function(a,l,s){return{elements:Uy(a==null?void 0:a.elements,s),appState:Xk(a==null?void 0:a.appState,l||null),files:(a==null?void 0:a.files)||{}}},Ew=function(a,l){var s,u=[],d=Vk(a);try{for(d.s();!(s=d.n()).done;){var p=s.value;if(Array.isArray(p))u.push({status:l,elements:p,id:zi(),created:Date.now()});else{var v=p;u.push(yf(yf({},v),{},{id:v.id||zi(),status:v.status||l,created:v.created||Date.now()}))}}}catch(w){d.e(w)}finally{d.f()}return u};function Zk(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Qk(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?Zk(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Zk(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Jk=function(){var a=(0,V.Z)(ie().mark(function l(s){var u;return ie().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(s.type!==I.LO.png){d.next=18;break}return d.prev=1,d.next=4,Promise.all([g.e(736),g.e(499)]).then(g.bind(g,673));case 4:return d.next=6,d.sent.decodePngMetadata(s);case 6:return d.abrupt("return",d.sent);case 9:if(d.prev=9,d.t0=d.catch(1),d.t0.message!=="INVALID"){d.next=15;break}throw new DOMException(G("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException(G("alerts.cannotRestoreFromImage"),"EncodingError");case 16:d.next=43;break;case 18:if(!("text"in Blob)){d.next=24;break}return d.next=21,s.text();case 21:u=d.sent,d.next=27;break;case 24:return d.next=26,new Promise(function(p){var v=new FileReader;v.readAsText(s,"utf8"),v.onloadend=function(){v.readyState===FileReader.DONE&&p(v.result)}});case 26:u=d.sent;case 27:if(s.type!==I.LO.svg){d.next=43;break}return d.prev=28,d.next=31,Promise.all([g.e(736),g.e(499)]).then(g.bind(g,673));case 31:return d.next=33,d.sent.decodeSvgMetadata({svg:u});case 33:return d.abrupt("return",d.sent);case 36:if(d.prev=36,d.t1=d.catch(28),d.t1.message!=="INVALID"){d.next=42;break}throw new DOMException(G("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException(G("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return d.abrupt("return",u);case 44:case"end":return d.stop()}},l,null,[[1,9],[28,36]])}));return function(l){return a.apply(this,arguments)}}(),e9=function(a){var l;return a&&((l=a.name.match(/\.(json|excalidraw|png|svg)$/))===null||l===void 0?void 0:l[1])||null},_w=function(a){var l=e9(a);return l==="png"||l==="svg"},Ky=function(a){var l=(a||{}).type;return!!l&&I.jo.includes(l)},K1=function(){var a=(0,V.Z)(ie().mark(function l(s,u,d){var p,v,w;return ie().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Jk(s);case 2:if(p=y.sent,y.prev=3,v=JSON.parse(p),PN(v)){y.next=7;break}throw new Error(G("alerts.couldNotLoadInvalidFile"));case 7:return w=U1({elements:Ot(v.elements||[]),appState:Qk(Qk({theme:u==null?void 0:u.theme,fileHandle:s.handle||null},ug(v.appState||{})),u?la(v.elements||[],u):{}),files:v.files},u,d),y.abrupt("return",w);case 11:throw y.prev=11,y.t0=y.catch(3),console.error(y.t0.message),new Error(G("alerts.couldNotLoadInvalidFile"));case 15:case"end":return y.stop()}},l,null,[[3,11]])}));return function(l,s,u){return a.apply(this,arguments)}}(),t9=function(){var a=(0,V.Z)(ie().mark(function l(s){var u,d;return ie().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Jk(s);case 2:if(u=p.sent,(d=JSON.parse(u)).type===I.r8.excalidrawLibrary){p.next=6;break}throw new Error(G("alerts.couldNotLoadInvalidFile"));case 6:return p.abrupt("return",d);case 7:case"end":return p.stop()}},l)}));return function(l){return a.apply(this,arguments)}}(),Tw=function(){var a=(0,V.Z)(ie().mark(function l(s){return ie().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Promise(function(d,p){try{s.toBlob(function(v){if(!v)return p(new rh(G("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));d(v)})}catch(v){p(v)}}));case 1:case"end":return u.stop()}},l)}));return function(l){return a.apply(this,arguments)}}(),AN=function(){var a=(0,V.Z)(ie().mark(function l(s){var u;return ie().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.t0=window.crypto.subtle,d.next=4,s.arrayBuffer();case 4:return d.t1=d.sent,d.next=7,d.t0.digest.call(d.t0,"SHA-1",d.t1);case 7:return u=d.sent,d.abrupt("return",(p=new Uint8Array(u),Array.from(p).map(function(v){return"0".concat(v.toString(16)).slice(-2)}).join("")));case 11:return d.prev=11,d.t2=d.catch(0),console.error(d.t2),d.abrupt("return",Vl(40));case 15:case"end":return d.stop()}var p},l,null,[[0,11]])}));return function(l){return a.apply(this,arguments)}}(),r9=function(){var a=(0,V.Z)(ie().mark(function l(s){return ie().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Promise(function(d,p){var v=new FileReader;v.onload=function(){var w=v.result;d(w)},v.onerror=function(w){return p(w)},v.readAsDataURL(s)}));case 1:case"end":return u.stop()}},l)}));return function(l){return a.apply(this,arguments)}}(),MN=function(a){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=a.indexOf(","),u=atob(a.slice(s+1)),d=a.slice(0,s).split(":")[1].split(";")[0],p=new ArrayBuffer(u.length),v=new Uint8Array(p),w=0;w<u.length;w++)v[w]=u.charCodeAt(w);return new File([p],l,{type:d})},Ow=function(){var a=(0,V.Z)(ie().mark(function l(s,u){var d,p,v,w,y,T;return ie().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(s.type!==I.LO.svg){_.next=2;break}return _.abrupt("return",s);case 2:return _.next=4,Promise.all([g.e(736).then(g.t.bind(g,4881,23)).then(function(L){return L.default}),g.e(736).then(g.bind(g,100)).then(function(L){return L.default})]);case 4:if(d=_.sent,p=W(d,2),v=p[0],w=p[1],y=w({pica:v({features:["js","wasm"]})}),u.outputType&&(T=u.outputType,y._create_blob=function(L){return this.pica.toBlob(L.out_canvas,T,.8).then(function(R){return L.out_blob=R,L})}),Ky(s)){_.next=12;break}throw new Error(G("errors.unsupportedFileType"));case 12:return _.t0=File,_.next=15,y.toBlob(s,{max:u.maxWidthOrHeight});case 15:return _.t1=_.sent,_.t2=[_.t1],_.t3=s.name,_.t4={type:u.outputType||s.type},_.abrupt("return",new _.t0(_.t2,_.t3,_.t4));case 20:case"end":return _.stop()}},l)}));return function(l,s){return a.apply(this,arguments)}}(),n9=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(a)],l,{type:I.LO.svg})};function IN(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return a9(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return a9(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function a9(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}var DN=function(a,l){var s,u={},d=IN(a);try{for(d.s();!(s=d.n()).done;){var p=s.value;!p.isDeleted&&"fileId"in p&&p.fileId&&l[p.fileId]&&(u[p.fileId]=l[p.fileId])}}catch(v){d.e(v)}finally{d.f()}return u},Wy=function(a,l,s,u){var d={type:I.r8.excalidraw,version:I.Kr.excalidraw,source:I.pb,elements:u==="local"?Ot(a):nt(a),appState:u==="local"?ug(l):Bb(l),files:u==="local"?DN(a,s):void 0};return JSON.stringify(d,null,2)},i9=function(){var a=(0,V.Z)(ie().mark(function l(s,u,d){var p,v,w;return ie().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p=Wy(s,u,d,"local"),v=new Blob([p],{type:I.LO.excalidraw}),y.next=4,Hy(v,{name:u.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:_w(u.fileHandle)?null:u.fileHandle});case 4:return w=y.sent,y.abrupt("return",{fileHandle:w});case 6:case"end":return y.stop()}},l)}));return function(l,s,u){return a.apply(this,arguments)}}(),LN=function(){var a=(0,V.Z)(ie().mark(function l(s,u){var d;return ie().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Sw({description:"Excalidraw files"});case 2:return d=p.sent,p.abrupt("return",K1(d,s,u));case 4:case"end":return p.stop()}},l)}));return function(l,s){return a.apply(this,arguments)}}(),PN=function(a){return(a==null?void 0:a.type)===I.r8.excalidraw&&(!a.elements||Array.isArray(a.elements)&&(!a.appState||Zt(a.appState)==="object"))},NN=function(a){return Zt(a)==="object"&&a&&a.type===I.r8.excalidrawLibrary&&(a.version===1||a.version===2)},jN=function(){var a=(0,V.Z)(ie().mark(function l(s){var u,d;return ie().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return u={type:I.r8.excalidrawLibrary,version:I.Kr.excalidrawLibrary,source:I.pb,libraryItems:s},d=JSON.stringify(u,null,2),p.next=4,Hy(new Blob([d],{type:I.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 4:case"end":return p.stop()}},l)}));return function(l){return a.apply(this,arguments)}}(),RN=function(){var a=(0,V.Z)(ie().mark(function l(s){var u;return ie().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Sw({description:"Excalidraw library files"});case 2:return u=d.sent,d.next=5,s.importLibrary(u);case 5:case"end":return d.stop()}},l)}));return function(l){return a.apply(this,arguments)}}();function o9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function l9(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?o9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):o9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var s9=function(a){return new Promise(function(l,s){var u=new Image;u.onload=function(){l(u)},u.onerror=function(d){s(d)},u.src=a})},u9=function(){var a=(0,V.Z)(ie().mark(function l(s){var u,d,p,v,w;return ie().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return u=s.fileIds,d=s.files,p=s.imageCache,v=new Map,w=new Map,y.next=5,Promise.all(u.reduce(function(T,_){var L=d[_];return L&&!v.has(_)?(v.set(_,!0),T.concat((0,V.Z)(ie().mark(function R(){var j,z,K;return ie().wrap(function($){for(;;)switch($.prev=$.next){case 0:if($.prev=0,L.mimeType!==I.LO.binary){$.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return j=s9(L.dataURL),z={image:j,mimeType:L.mimeType},p.set(_,z),$.next=8,j;case 8:K=$.sent,p.set(_,l9(l9({},z),{},{image:K})),$.next=15;break;case 12:$.prev=12,$.t0=$.catch(0),w.set(_,!0);case 15:case"end":return $.stop()}},R,null,[[0,12]])}))())):T},[]));case 5:return y.abrupt("return",{imageCache:p,updatedFiles:v,erroredFiles:w});case 6:case"end":return y.stop()}},l)}));return function(l){return a.apply(this,arguments)}}(),c9=function(a){return a.filter(function(l){return lo(l)})},FN=function(){var a=(0,V.Z)(ie().mark(function l(s){var u,d;return ie().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(u=new DOMParser().parseFromString(s,I.LO.svg),d=u.querySelector("svg"),!u.querySelector("parsererror")&&((v=d)==null?void 0:v.nodeName.toLowerCase())==="svg"){p.next=7;break}throw new Error(G("errors.invalidSVGString"));case 7:return d.hasAttribute("xmlns")||d.setAttribute("xmlns",I.hR),p.abrupt("return",d.outerHTML);case 9:case"end":return p.stop()}var v},l)}));return function(l){return a.apply(this,arguments)}}(),f9="<!-- svg-source:excalidraw -->",Aw=function(){var a=(0,V.Z)(ie().mark(function l(s,u,d,p){var v,w,y,T,_,L,R,j,z,K,$,Z,oe,le,me,Ce,_e,Ie,Te=arguments;return ie().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return v=p.exportBackground,w=p.exportPadding,y=w===void 0?I.qy:w,T=p.viewBackgroundColor,_=Te.length>4&&Te[4]!==void 0?Te[4]:function(He,We){var Ee=document.createElement("canvas");return Ee.width=He*u.exportScale,Ee.height=We*u.exportScale,{canvas:Ee,scale:u.exportScale}},L=Mw(s,y),R=W(L,4),j=R[0],z=R[1],K=R[2],$=R[3],Z=_(K,$),oe=Z.canvas,le=Z.scale,me=le===void 0?1:le,Ce=Js(),$e.next=7,u9({imageCache:new Map,fileIds:c9(s).map(function(He){return He.fileId}),files:d});case 7:return _e=$e.sent,Ie=_e.imageCache,Ik(s,u,null,me,Xs.canvas(oe),oe,{viewBackgroundColor:v?T:null,scrollX:-j+y,scrollY:-z+y,zoom:Ce.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:u.exportWithDarkMode?"dark":"light",imageCache:Ie,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}),$e.abrupt("return",oe);case 11:case"end":return $e.stop()}},l)}));return function(l,s,u,d){return a.apply(this,arguments)}}(),$y=function(){var a=(0,V.Z)(ie().mark(function l(s,u,d){var p,v,w,y,T,_,L,R,j,z,K,$,Z,oe,le,me;return ie().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(p=u.exportPadding,v=p===void 0?I.qy:p,w=u.viewBackgroundColor,y=u.exportScale,T=y===void 0?1:y,_=u.exportEmbedScene,L="",!_){Ce.next=14;break}return Ce.prev=3,Ce.next=6,Promise.all([g.e(736),g.e(499)]).then(g.bind(g,673));case 6:return Ce.next=8,Ce.sent.encodeSvgMetadata({text:Wy(s,u,d||{},"local")});case 8:L=Ce.sent,Ce.next=14;break;case 11:Ce.prev=11,Ce.t0=Ce.catch(3),console.error(Ce.t0);case 14:return R=Mw(s,v),j=W(R,4),z=j[0],K=j[1],$=j[2],Z=j[3],(oe=document.createElementNS(I.hR,"svg")).setAttribute("version","1.1"),oe.setAttribute("xmlns",I.hR),oe.setAttribute("viewBox","0 0 ".concat($," ").concat(Z)),oe.setAttribute("width","".concat($*T)),oe.setAttribute("height","".concat(Z*T)),u.exportWithDarkMode&&oe.setAttribute("filter",I.ZF),oe.innerHTML=`
  `.concat(f9,`
  `).concat(L,`
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  `),u.exportBackground&&w&&((le=oe.ownerDocument.createElementNS(I.hR,"rect")).setAttribute("x","0"),le.setAttribute("y","0"),le.setAttribute("width","".concat($)),le.setAttribute("height","".concat(Z)),le.setAttribute("fill",w),oe.appendChild(le)),me=Xs.svg(oe),yN(s,me,oe,d||{},{offsetX:-z+v,offsetY:-K+v,exportWithDarkMode:u.exportWithDarkMode}),Ce.abrupt("return",oe);case 27:case"end":return Ce.stop()}},l,null,[[3,11]])}));return function(l,s,u){return a.apply(this,arguments)}}(),Mw=function(a,l){var s=W(qn(a),4),u=s[0],d=s[1],p=s[2],v=s[3];return[u,d,ga(u,p)+2*l,ga(d,v)+l+l]};function zN(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return d9(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return d9(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function d9(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}function h9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Ln(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?h9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):h9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var p9=32,qo=12,bf=256,wf="NOT_SPREADSHEET",W1="VALID_SPREADSHEET",$1=function(a){var l=/^[$]?([0-9,]+(\.[0-9]+)?)$/.exec(a);return l?parseFloat(l[1].replace(/,/g,"")):null},Iw=function(a,l){return a.slice(1).every(function(s){return $1(s[l])!==null})},m9=function(a){var l=a[0].length;if(l>2)return{type:wf,reason:"More than 2 columns"};if(l===1){if(!Iw(a,0))return{type:wf,reason:"Value is not numeric"};var s=$1(a[0][0])===null,u=(s?a.slice(1):a).map(function(y){return $1(y[0])});return u.length<2?{type:wf,reason:"Less than two rows"}:{type:W1,spreadsheet:{title:s?a[0][0]:null,labels:null,values:u}}}var d=Iw(a,0)?0:1;if(!Iw(a,d))return{type:wf,reason:"Value is not numeric"};var p=(d+1)%2,v=$1(a[0][d])===null,w=v?a.slice(1):a;return w.length<2?{type:wf,reason:"Less than 2 rows"}:{type:W1,spreadsheet:{title:v?a[0][d]:null,labels:w.map(function(y){return y[p]}),values:w.map(function(y){return $1(y[d])})}}},Gy=Zl.elementBackground.slice(2,Zl.elementBackground.length),Yo={fillStyle:"hachure",fontFamily:I.rk,fontSize:I.n5,opacity:100,roughness:1,strokeColor:Zl.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},v9=function(a){return{chartWidth:44*a.values.length+qo,chartHeight:280}},g9=function(a,l,s,u,d,p){var v=v9(a),w=v.chartWidth,y=v.chartHeight,T=a.title?lu(Ln(Ln({backgroundColor:d,groupIds:[u]},Yo),{},{text:a.title,x:l+w/2,y:s-bf-24-I.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null,_=p?Id(Ln(Ln({backgroundColor:d,groupIds:[u]},Yo),{},{type:"rectangle",x:l,y:s-y,width:w,height:y,strokeColor:Zl.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat(Ne(_?[_]:[]),Ne(T?[T]:[]),Ne(function(L,R,j,z,K){var $;return(($=L.labels)===null||$===void 0?void 0:$.map(function(Z,oe){return lu(Ln(Ln({groupIds:[z],backgroundColor:K},Yo),{},{text:Z.length>8?"".concat(Z.slice(0,5),"..."):Z,x:R+44*oe+24,y:j+6,width:p9,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(a,l,s,u,d)),Ne(function(L,R,j,z,K){var $=lu(Ln(Ln({groupIds:[z],backgroundColor:K},Yo),{},{x:R-qo,y:j-qo,text:"0",textAlign:"right"}));return[$,lu(Ln(Ln({groupIds:[z],backgroundColor:K},Yo),{},{x:R-qo,y:j-bf-$.height/2,text:Math.max.apply(Math,Ne(L.values)).toLocaleString(),textAlign:"right"}))]}(a,l,s,u,d)),Ne(function(L,R,j,z,K){var $=v9(L),Z=$.chartWidth,oe=$.chartHeight;return[su(Ln(Ln({backgroundColor:K,groupIds:[z]},Yo),{},{type:"line",x:R,y:j,startArrowhead:null,endArrowhead:null,width:Z,points:[[0,0],[Z,0]]})),su(Ln(Ln({backgroundColor:K,groupIds:[z]},Yo),{},{type:"line",x:R,y:j,startArrowhead:null,endArrowhead:null,height:oe,points:[[0,0],[0,-oe]]})),su(Ln(Ln({backgroundColor:K,groupIds:[z]},Yo),{},{type:"line",x:R,y:j-bf-qo,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Z,opacity:50,points:[[0,0],[Z,0]]}))]}(a,l,s,u,d)))},BN=function(a,l,s,u){return a==="line"?function(d,p,v){var w,y=Math.max.apply(Math,Ne(d.values)),T=zi(),_=Gy[Math.floor(Math.random()*Gy.length)],L=0,R=[],j=zN(d.values);try{for(j.s();!(w=j.n()).done;){var z=w.value,K=44*L,$=-z/y*bf;R.push([K,$]),L++}}catch(Te){j.e(Te)}finally{j.f()}var Z=Math.max.apply(Math,Ne(R.map(function(Te){return Te[0]}))),oe=Math.max.apply(Math,Ne(R.map(function(Te){return Te[1]}))),le=Math.min.apply(Math,Ne(R.map(function(Te){return Te[0]}))),me=Math.min.apply(Math,Ne(R.map(function(Te){return Te[1]}))),Ce=su(Ln(Ln({backgroundColor:_,groupIds:[T]},Yo),{},{type:"line",x:p+qo+16,y:v-qo,startArrowhead:null,endArrowhead:null,height:oe-me,width:Z-le,strokeWidth:2,points:R})),_e=d.values.map(function(Te,$e){var He=44*$e+6,We=-Te/y*bf+6;return Id(Ln(Ln({backgroundColor:_,groupIds:[T]},Yo),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:p+He+16,y:v+We-24,width:qo,height:qo}))}),Ie=d.values.map(function(Te,$e){var He=44*$e+6,We=Te/y*bf+6+qo;return su(Ln(Ln({backgroundColor:_,groupIds:[T]},Yo),{},{type:"line",x:p+He+16+6,y:v-We,startArrowhead:null,endArrowhead:null,height:We,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,We]]}))});return[].concat(Ne(g9(d,p,v,T,_,I.Vi.DEVELOPMENT==="production")),[Ce],Ne(Ie),Ne(_e))}(l,s,u):function(d,p,v){var w=Math.max.apply(Math,Ne(d.values)),y=zi(),T=Gy[Math.floor(Math.random()*Gy.length)],_=d.values.map(function(L,R){var j=L/w*bf;return Id(Ln(Ln({backgroundColor:T,groupIds:[y]},Yo),{},{type:"rectangle",x:p+44*R+qo,y:v-j-qo,width:p9,height:j}))});return[].concat(Ne(_),Ne(g9(d,p,v,y,T,I.Vi.DEVELOPMENT==="production")))}(l,s,u)},Dw="",Lw=!1,HN="clipboard"in navigator&&"readText"in navigator.clipboard,Vy="clipboard"in navigator&&"writeText"in navigator.clipboard,qy="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,y9=function(){var a=(0,V.Z)(ie().mark(function l(s,u,d){var p,v,w;return ie().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p=Re(s,u,!0),v={type:I.r8.excalidrawClipboard,elements:p,files:p.reduce(function(T,_){return lo(_)&&d[_.fileId]&&(T[_.fileId]=d[_.fileId]),T},{})},w=JSON.stringify(v),Dw=w,y.prev=4,Lw=!1,y.next=8,w9(w);case 8:y.next=14;break;case 10:y.prev=10,y.t0=y.catch(4),Lw=!0,console.error(y.t0);case 14:case"end":return y.stop()}},l,null,[[4,10]])}));return function(l,s,u){return a.apply(this,arguments)}}(),b9=function(){if(!Dw)return{};try{return JSON.parse(Dw)}catch(a){return console.error(a),{}}},UN=function(a){var l=function(s){var u=s.trim().split(`
`).map(function(y){return y.trim().split("	")});if(u.length&&u[0].length!==2&&(u=s.trim().split(`
`).map(function(y){return y.trim().split(",")})),u.length===0)return{type:wf,reason:"No values"};var d=u[0].length,p=u.every(function(y){return y.length===d});if(!p)return{type:wf,reason:"All rows don't have same number of columns"};var v=m9(u);if(v.type!==W1){var w=m9(function(y){for(var T=[],_=0;_<y[0].length;_++){for(var L=[],R=0;R<y.length;R++)L.push(y[R][_]);T.push(L)}return T}(u));if(w.type===W1)return w}return v}(a);return l.type===W1?{spreadsheet:l.spreadsheet}:null},KN=function(){var a=(0,V.Z)(ie().mark(function l(s){var u,d;return ie().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(p.prev=0,!s){p.next=5;break}p.t0=(u=s.clipboardData)===null||u===void 0?void 0:u.getData("text/plain").trim(),p.next=11;break;case 5:if(p.t1=HN,!p.t1){p.next=10;break}return p.next=9,navigator.clipboard.readText();case 9:p.t1=p.sent;case 10:p.t0=p.t1;case 11:return d=p.t0,p.abrupt("return",d||"");case 15:return p.prev=15,p.t2=p.catch(0),p.abrupt("return","");case 18:case"end":return p.stop()}},l,null,[[0,15]])}));return function(l){return a.apply(this,arguments)}}(),WN=function(){var a=(0,V.Z)(ie().mark(function l(s){var u,d,p,v;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,KN(s);case 2:if((u=w.sent)&&!u.includes(f9)){w.next=5;break}return w.abrupt("return",b9());case 5:if(!(d=UN(u))){w.next=8;break}return w.abrupt("return",d);case 8:if(p=b9(),w.prev=9,v=JSON.parse(u),y=v,![I.r8.excalidraw,I.r8.excalidrawClipboard].includes(y==null?void 0:y.type)||!Array.isArray(y.elements)){w.next=13;break}return w.abrupt("return",{elements:v.elements,files:v.files});case 13:return w.abrupt("return",p);case 16:return w.prev=16,w.t0=w.catch(9),w.abrupt("return",Lw&&p.elements?p:{text:u});case 19:case"end":return w.stop()}var y},l,null,[[9,16]])}));return function(l){return a.apply(this,arguments)}}(),$N=function(){var a=(0,V.Z)(ie().mark(function l(s){return ie().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,navigator.clipboard.write([new window.ClipboardItem(be({},I.LO.png,s))]);case 2:case"end":return u.stop()}},l)}));return function(l){return a.apply(this,arguments)}}(),w9=function(){var a=(0,V.Z)(ie().mark(function l(s){var u;return ie().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(u=!1,!Vy){d.next=11;break}return d.prev=2,d.next=5,navigator.clipboard.writeText(s||"");case 5:u=!0,d.next=11;break;case 8:d.prev=8,d.t0=d.catch(2),console.error(d.t0);case 11:if(u||GN(s||" ")){d.next=13;break}throw new Error("couldn't copy");case 13:case"end":return d.stop()}},l,null,[[2,8]])}));return function(l){return a.apply(this,arguments)}}(),GN=function(a){var l=document.documentElement.getAttribute("dir")==="rtl",s=document.createElement("textarea");s.style.border="0",s.style.padding="0",s.style.margin="0",s.style.position="absolute",s.style[l?"right":"left"]="-9999px";var u=window.pageYOffset||document.documentElement.scrollTop;s.style.top="".concat(u,"px"),s.style.fontSize="12pt",s.setAttribute("readonly",""),s.value=a,document.body.appendChild(s);var d=!1;try{s.select(),s.setSelectionRange(0,s.value.length),d=document.execCommand("copy")}catch(p){console.error(p)}return s.remove(),d},Yy=function(){var a=(0,V.Z)(ie().mark(function l(s,u,d,p,v){var w,y,T,_,L,R,j,z,K,$;return ie().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(w=v.exportBackground,y=v.exportPadding,T=y===void 0?I.qy:y,_=v.viewBackgroundColor,L=v.name,R=v.fileHandle,j=R===void 0?null:R,u.length!==0){Z.next=3;break}throw new Error(G("alerts.cannotExportEmptyCanvas"));case 3:if(s!=="svg"&&s!=="clipboard-svg"){Z.next=17;break}return Z.next=6,$y(u,{exportBackground:w,exportWithDarkMode:d.exportWithDarkMode,viewBackgroundColor:_,exportPadding:T,exportScale:d.exportScale,exportEmbedScene:d.exportEmbedScene&&s==="svg"},p);case 6:if(z=Z.sent,s!=="svg"){Z.next=13;break}return Z.next=10,Hy(new Blob([z.outerHTML],{type:I.LO.svg}),{description:"Export to SVG",name:L,extension:"svg",fileHandle:j});case 10:return Z.abrupt("return",Z.sent);case 13:if(s!=="clipboard-svg"){Z.next=17;break}return Z.next=16,w9(z.outerHTML);case 16:return Z.abrupt("return");case 17:return Z.next=19,Aw(u,d,p,{exportBackground:w,viewBackgroundColor:_,exportPadding:T});case 19:return(K=Z.sent).style.display="none",document.body.appendChild(K),Z.next=24,Tw(K);case 24:if($=Z.sent,K.remove(),s!=="png"){Z.next=38;break}if(!d.exportEmbedScene){Z.next=33;break}return Z.next=30,Promise.all([g.e(736),g.e(499)]).then(g.bind(g,673));case 30:return Z.next=32,Z.sent.encodePngMetadata({blob:$,metadata:Wy(u,d,p,"local")});case 32:$=Z.sent;case 33:return Z.next=35,Hy($,{description:"Export to PNG",name:L,extension:"png",fileHandle:j});case 35:return Z.abrupt("return",Z.sent);case 38:if(s!=="clipboard"){Z.next=49;break}return Z.prev=39,Z.next=42,$N($);case 42:Z.next=49;break;case 44:if(Z.prev=44,Z.t0=Z.catch(39),Z.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){Z.next=48;break}throw Z.t0;case 48:throw new Error(G("alerts.couldNotCopyToClipboard"));case 49:case"end":return Z.stop()}},l,null,[[39,44]])}));return function(l,s,u,d,p){return a.apply(this,arguments)}}();function x9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function k9(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?x9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):x9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var VN=function(){var a=(0,V.Z)(ie().mark(function l(s,u,d){var p,v,w,y,T,_;return ie().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(v=(p=u).exportBackground,w=p.viewBackgroundColor,y=p.name,T=p.fileHandle,_=e9(T),T&&((R=_)==="png"||R==="svg")){L.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return u=k9(k9({},u),{},{exportEmbedScene:!0}),L.next=7,Yy(_,ge(s),u,d,{exportBackground:v,viewBackgroundColor:w,name:y,fileHandle:T});case 7:return L.abrupt("return",{fileHandle:T});case 8:case"end":return L.stop()}var R},l)}));return function(l,s,u){return a.apply(this,arguments)}}(),Xy=(g(7225),function(a){var l=a.children,s=a.checked,u=a.onChange,d=a.className;return(0,A.jsxs)("div",{className:Cr("Checkbox",d,{"is-checked":s}),onClick:function(p){u(!s,p),p.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,A.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":s,children:Vb}),(0,A.jsx)("div",{className:"Checkbox-label",children:l})]})});g(4623);function C9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function qN(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?C9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):C9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Pl=function(a){var l=a.children,s=a.gap,u=a.align,d=a.justifyContent,p=a.className,v=a.style;return(0,A.jsx)("div",{className:Cr("Stack Stack_horizontal",p),style:qN({"--gap":s,alignItems:u,justifyContent:d},v),children:l})},gs=function(a){var l=a.children,s=a.gap,u=a.align,d=a.justifyContent,p=a.className;return(0,A.jsx)("div",{className:Cr("Stack Stack_vertical",p),style:{"--gap":s,justifyItems:u,justifyContent:d},children:l})},YN=(g(554),function(a){var l=a.fileName,s=a.onSave;return(0,A.jsxs)(Pl,{className:"ActiveFile",gap:1,align:"center",children:[(0,A.jsxs)("span",{className:"ActiveFile__fileName",children:[aw,(0,A.jsx)("span",{children:l})]}),(0,A.jsx)(tr,{type:"icon",icon:qb,title:G("buttons.save"),"aria-label":G("buttons.save"),onClick:s,"data-testid":"save-button"})]})});function S9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function La(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?S9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):S9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}Ct({name:"changeProjectName",perform:function(a,l,s){return dh("change","title"),{appState:La(La({},l),{},{name:s}),commitToHistory:!1}},PanelComponent:function(a){var l=a.appState,s=a.updateData,u=a.appProps;return(0,A.jsx)(lN,{label:G("labels.fileTitle"),value:l.name||"Unnamed",onChange:function(d){return s(d)},isNameEditable:u.name===void 0&&!l.viewModeEnabled})}}),Ct({name:"changeExportScale",perform:function(a,l,s){return{appState:La(La({},l),{},{exportScale:s}),commitToHistory:!1}},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData,d=ge(l),p=Et(d,s)?Re(d,s):d;return(0,A.jsx)(A.Fragment,{children:I.ZB.map(function(v){var w=function(R,j,z){var K=W(Mw(R,j).map(function($){return Math.trunc($*z)}),4);return[K[2],K[3]]}(p,I.qy,v),y=W(w,2),T=y[0],_=y[1],L="".concat(G("buttons.scale")," ").concat(v,"x (").concat(T,"x").concat(_,")");return(0,A.jsx)(tr,{size:"small",type:"radio",icon:"".concat(v,"x"),name:"export-canvas-scale",title:L,"aria-label":L,id:"export-canvas-scale",checked:v===s.exportScale,onChange:function(){return u(v)}},v)})})}}),Ct({name:"changeExportBackground",perform:function(a,l,s){return{appState:La(La({},l),{},{exportBackground:s}),commitToHistory:!1}},PanelComponent:function(a){var l=a.appState,s=a.updateData;return(0,A.jsx)(Xy,{checked:l.exportBackground,onChange:function(u){return s(u)},children:G("labels.withBackground")})}}),Ct({name:"changeExportEmbedScene",perform:function(a,l,s){return{appState:La(La({},l),{},{exportEmbedScene:s}),commitToHistory:!1}},PanelComponent:function(a){var l=a.appState,s=a.updateData;return(0,A.jsxs)(Xy,{checked:l.exportEmbedScene,onChange:function(u){return s(u)},children:[G("labels.exportEmbedScene"),(0,A.jsx)(bc,{label:G("labels.exportEmbedScene_details"),long:!0,children:(0,A.jsx)("div",{className:"excalidraw-tooltip-icon",children:fy})})]})}}),Ct({name:"saveToActiveFile",perform:(E9=(0,V.Z)(ie().mark(function a(l,s,u,d){var p,v,w;return ie().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(p=!!s.fileHandle,y.prev=1,!_w(s.fileHandle)){y.next=8;break}return y.next=5,VN(l,s,d.files);case 5:y.t0=y.sent,y.next=11;break;case 8:return y.next=10,i9(l,s,d.files);case 10:y.t0=y.sent;case 11:return v=y.t0,w=v.fileHandle,y.abrupt("return",{commitToHistory:!1,appState:La(La({},s),{},{fileHandle:w,toastMessage:p?w!=null&&w.name?G("toast.fileSavedToFilename").replace("{filename}",'"'.concat(w.name,'"')):G("toast.fileSaved"):null})});case 16:return y.prev=16,y.t1=y.catch(1),(y.t1===null||y.t1===void 0?void 0:y.t1.name)!=="AbortError"?console.error(y.t1):console.warn(y.t1),y.abrupt("return",{commitToHistory:!1});case 20:case"end":return y.stop()}},a,null,[[1,16]])})),function(a,l,s,u){return E9.apply(this,arguments)}),keyTest:function(a){return a.key===Be.S&&a[Be.CTRL_OR_CMD]&&!a.shiftKey},PanelComponent:function(a){var l,s=a.updateData,u=a.appState;return(0,A.jsx)(YN,{onSave:function(){return s(null)},fileName:(l=u.fileHandle)===null||l===void 0?void 0:l.name})}});var E9,_9,T9,XN=Ct({name:"saveFileToDisk",perform:(_9=(0,V.Z)(ie().mark(function a(l,s,u,d){var p,v;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.prev=0,w.next=3,i9(l,La(La({},s),{},{fileHandle:null}),d.files);case 3:return p=w.sent,v=p.fileHandle,w.abrupt("return",{commitToHistory:!1,appState:La(La({},s),{},{fileHandle:v})});case 8:return w.prev=8,w.t0=w.catch(0),(w.t0===null||w.t0===void 0?void 0:w.t0.name)!=="AbortError"?console.error(w.t0):console.warn(w.t0),w.abrupt("return",{commitToHistory:!1});case 12:case"end":return w.stop()}},a,null,[[0,8]])})),function(a,l,s,u){return _9.apply(this,arguments)}),keyTest:function(a){return a.key===Be.S&&a.shiftKey&&a[Be.CTRL_OR_CMD]},PanelComponent:function(a){var l=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:iy,title:G("buttons.saveAs"),"aria-label":G("buttons.saveAs"),showAriaLabel:go(),hidden:!Cc,onClick:function(){return l(null)},"data-testid":"save-as-button"})}});Ct({name:"loadScene",perform:(T9=(0,V.Z)(ie().mark(function a(l,s,u,d){var p,v,w,y;return ie().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.prev=0,T.next=3,LN(s,l);case 3:return p=T.sent,v=p.elements,w=p.appState,y=p.files,T.abrupt("return",{elements:v,appState:w,files:y,commitToHistory:!0});case 10:if(T.prev=10,T.t0=T.catch(0),(T.t0===null||T.t0===void 0?void 0:T.t0.name)!=="AbortError"){T.next=15;break}return console.warn(T.t0),T.abrupt("return",!1);case 15:return T.abrupt("return",{elements:l,appState:La(La({},s),{},{errorMessage:T.t0.message}),files:d.files,commitToHistory:!1});case 16:case"end":return T.stop()}},a,null,[[0,10]])})),function(a,l,s,u){return T9.apply(this,arguments)}),keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.key===Be.O},PanelComponent:function(a){var l=a.updateData;return a.appState,(0,A.jsx)(tr,{type:"button",icon:_1,title:G("buttons.load"),"aria-label":G("buttons.load"),showAriaLabel:go(),onClick:l,"data-testid":"load-button"})}}),Ct({name:"exportWithDarkMode",perform:function(a,l,s){return{appState:La(La({},l),{},{exportWithDarkMode:s}),commitToHistory:!1}},PanelComponent:function(a){var l=a.appState,s=a.updateData;return(0,A.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,A.jsx)(nh,{value:l.exportWithDarkMode?I.C6.DARK:I.C6.LIGHT,onChange:function(u){s(u===I.C6.DARK)},title:G("labels.toggleExportColorScheme")})})}});function O9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function A9(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?O9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):O9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var M9="{}",ZN=Ct({name:"copyStyles",perform:function(a,l){var s=a.find(function(u){return l.selectedElementIds[u.id]});return s&&(M9=JSON.stringify(s)),{appState:A9(A9({},l),{},{toastMessage:G("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===wd}}),QN=Ct({name:"pasteStyles",perform:function(a,l){var s,u=JSON.parse(M9);return((s=u)==null?void 0:s.type)!=="text"&&(s==null?void 0:s.type)!=="diamond"&&(s==null?void 0:s.type)!=="rectangle"&&(s==null?void 0:s.type)!=="ellipse"&&(s==null?void 0:s.type)!=="arrow"&&(s==null?void 0:s.type)!=="freedraw"&&(s==null?void 0:s.type)!=="line"?{elements:a,commitToHistory:!1}:{elements:a.map(function(d){if(l.selectedElementIds[d.id]){var p=tn(d,{backgroundColor:u==null?void 0:u.backgroundColor,strokeWidth:u==null?void 0:u.strokeWidth,strokeColor:u==null?void 0:u.strokeColor,strokeStyle:u==null?void 0:u.strokeStyle,fillStyle:u==null?void 0:u.fillStyle,opacity:u==null?void 0:u.opacity,roughness:u==null?void 0:u.roughness});return Lr(p)&&Lr(d)&&(vt(p,{fontSize:(u==null?void 0:u.fontSize)||I.n5,fontFamily:(u==null?void 0:u.fontFamily)||I.rk,textAlign:(u==null?void 0:u.textAlign)||I.Hg}),Sd(d,Ra(d))),p}return d}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===qp}}),JN=function(a){return(0,A.jsx)("button",{className:"help-icon",onClick:a.onClick,type:"button",title:"".concat(a.title," \u2014 ?"),"aria-label":a.title,children:fy})};function I9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function mh(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?I9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):I9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}Ct({name:"toggleCanvasMenu",perform:function(a,l){return{appState:mh(mh({},l),{},{openMenu:l.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(a){var l=a.appState,s=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:T1,"aria-label":G("buttons.menu"),onClick:s,selected:l.openMenu==="canvas"})}}),Ct({name:"toggleEditMenu",perform:function(a,l){return{appState:mh(mh({},l),{},{openMenu:l.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{visible:H(s,ge(l)),type:"button",icon:Xb,"aria-label":G("buttons.edit"),onClick:u,selected:s.openMenu==="shape"})}}),Ct({name:"toggleFullScreen",perform:function(){return A0()||document.documentElement.requestFullscreen(),A0()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(a){return a.code===Gp&&!a[Be.CTRL_OR_CMD]}}),Ct({name:"toggleShortcuts",perform:function(a,l,s,u){var d=u.focusContainer;return l.showHelpDialog&&d(),{appState:mh(mh({},l),{},{showHelpDialog:!l.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(a){var l=a.updateData;return(0,A.jsx)(JN,{title:G("helpDialog.title"),onClick:l})},keyTest:function(a){return a.key===Be.QUESTION_MARK}});function D9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Zy(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?D9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):D9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}function ej(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return L9(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return L9(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function L9(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}var P9=function(a,l){var s=Re(ge(a),l,!0);return s.length>=2&&!function(u){if(u.length>=2){var d,p=ej(u[0].groupIds);try{var v=function(){var y=d.value;if(u.reduce(function(T,_){return T&&iu(_,y)},!0))return{v:!0}};for(p.s();!(d=p.n()).done;){var w=v();if(Zt(w)==="object")return w.v}}catch(y){p.e(y)}finally{p.f()}}return!1}(s)},N9=Ct({name:"group",perform:function(a,l){var s=Re(ge(a),l,!0);if(s.length<2)return{appState:l,elements:a,commitToHistory:!1};var u=lc(l);if(u.length===1){var d=u[0],p=new Set(mi(a,d).map(function($){return $.id})),v=new Set(s.map(function($){return $.id}));if(new Set([].concat(Ne(Array.from(p)),Ne(Array.from(v)))).size===p.size)return{appState:l,elements:a,commitToHistory:!1}}var w=zi(),y=Ia(s),T=a.map(function($){return y.get($.id)?tn($,{groupIds:wg($.groupIds,w,l.editingGroupId)}):$}),_=mi(T,w),L=_[_.length-1],R=T.lastIndexOf(L),j=T.slice(R+1),z=T.slice(0,R).filter(function($){return!iu($,w)}),K=[].concat(Ne(z),Ne(_),Ne(j));return{appState:n1(w,Zy(Zy({},l),{},{selectedGroupIds:{}}),ge(K)),elements:K,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(a,l){return P9(a,l)},keyTest:function(a){return!a.shiftKey&&a[Be.CTRL_OR_CMD]&&a.code===$p},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{hidden:!P9(l,s),type:"button",icon:(0,A.jsx)(A1,{theme:s.theme}),onClick:function(){return u(null)},title:"".concat(G("labels.group")," \u2014 ").concat(ce("CtrlOrCmd+G")),"aria-label":G("labels.group"),visible:Et(ge(l),s)})}}),j9=Ct({name:"ungroup",perform:function(a,l){if(lc(l).length===0)return{appState:l,elements:a,commitToHistory:!1};var s=[],u=a.map(function(p){Pi(p)&&s.push(p.id);var v=function(w,y){return w.filter(function(T){return!y[T]})}(p.groupIds,l.selectedGroupIds);return v.length===p.groupIds.length?p:tn(p,{groupIds:v})}),d=Ho(Zy(Zy({},l),{},{selectedGroupIds:{}}),ge(u));return s.forEach(function(p){return d.selectedElementIds[p]=!1}),{appState:d,elements:u,commitToHistory:!0}},keyTest:function(a){return a.shiftKey&&a[Be.CTRL_OR_CMD]&&a.code===$p},contextItemLabel:"labels.ungroup",contextItemPredicate:function(a,l){return lc(l).length>0},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{type:"button",hidden:lc(s).length===0,icon:(0,A.jsx)(Dl,{theme:s.theme}),onClick:function(){return u(null)},title:"".concat(G("labels.ungroup")," \u2014 ").concat(ce("CtrlOrCmd+Shift+G")),"aria-label":G("labels.ungroup"),visible:Et(ge(l),s)})}}),tj=(g(2789),function(a){var l=a.children,s=a.color,u=a.border,d=a.onClick;return(0,A.jsx)("div",{className:"Avatar",style:{background:s,border:"1px solid ".concat(u)},onClick:d,children:l})});function R9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Pw(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?R9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):R9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}Ct({name:"goToCollaborator",perform:function(a,l,s){var u=s;return u?{appState:Pw(Pw(Pw({},l),F1({scenePoint:u,viewportDimensions:{width:l.width,height:l.height},zoom:l.zoom})),{},{openMenu:l.openMenu==="canvas"?null:l.openMenu}),commitToHistory:!1}:{appState:l,commitToHistory:!1}},PanelComponent:function(a){var l=a.appState,s=a.updateData,u=a.data,d=u==null?void 0:u.id;if(!d)return null;var p=l.collaborators.get(d);if(!p)return null;var v=yw(d,l),w=v.background,y=v.stroke,T=function(_){if(!_)return"?";var L=_.trim().split(" ");if(L.length<2)return L[0].substring(0,2).toUpperCase();var R=L[0],j=L[L.length-1];return(R[0]+j[0]).toUpperCase()}(p.username);return(0,A.jsx)(tj,{color:w,border:y,onClick:function(){return s(p.pointer)},children:T})}});function F9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function vh(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?F9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):F9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var rj=Ct({name:"addToLibrary",perform:function(a,l,s,u){var d=Re(ge(a),l,!0);return d.some(function(p){return p.type==="image"})?{commitToHistory:!1,appState:vh(vh({},l),{},{errorMessage:"Support for adding images to the library coming soon!"})}:u.library.loadLibrary().then(function(p){return u.library.saveLibrary([{id:zi(),status:"unpublished",elements:d.map(uu),created:Date.now()}].concat(Ne(p)))}).then(function(){return{commitToHistory:!1,appState:vh(vh({},l),{},{toastMessage:G("toast.addedToLibrary")})}}).catch(function(p){return{commitToHistory:!1,appState:vh(vh({},l),{},{errorMessage:p.message})}})},contextItemLabel:"labels.addToLibrary"});function z9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function B9(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?z9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):z9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var nj=function(a,l,s){var u=s.axis,d=s.position,p=Ma(a),v=W(u==="x"?["minX","maxX"]:["minY","maxY"],2),w=v[0],y=v[1],T={x:0,y:0};return B9(B9({},T),{},be({},u,d==="start"?l[w]-p[w]:d==="end"?l[y]-p[y]:(l[w]+l[y])/2-(p[w]+p[y])/2))},gh=function(a,l){return Re(ge(a),l).length>1},yh=function(a,l,s){var u=function(p,v){var w=sc(p),y=Ma(p);return w.flatMap(function(T){var _=nj(T,y,v);return T.map(function(L){return tn(L,{x:L.x+_.x,y:L.y+_.y})})})}(Re(ge(a),l),s),d=Ia(u);return a.map(function(p){return d.get(p.id)||p})};Ct({name:"alignTop",perform:function(a,l){return{appState:l,elements:yh(a,l,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.shiftKey&&a.key===Be.ARROW_UP},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{hidden:!gh(l,s),type:"button",icon:(0,A.jsx)(O1,{theme:s.theme}),onClick:function(){return u(null)},title:"".concat(G("labels.alignTop")," \u2014 ").concat(ce("CtrlOrCmd+Shift+Up")),"aria-label":G("labels.alignTop"),visible:Et(ge(l),s)})}}),Ct({name:"alignBottom",perform:function(a,l){return{appState:l,elements:yh(a,l,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.shiftKey&&a.key===Be.ARROW_DOWN},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{hidden:!gh(l,s),type:"button",icon:(0,A.jsx)(dy,{theme:s.theme}),onClick:function(){return u(null)},title:"".concat(G("labels.alignBottom")," \u2014 ").concat(ce("CtrlOrCmd+Shift+Down")),"aria-label":G("labels.alignBottom"),visible:Et(ge(l),s)})}}),Ct({name:"alignLeft",perform:function(a,l){return{appState:l,elements:yh(a,l,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.shiftKey&&a.key===Be.ARROW_LEFT},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{hidden:!gh(l,s),type:"button",icon:(0,A.jsx)(ew,{theme:s.theme}),onClick:function(){return u(null)},title:"".concat(G("labels.alignLeft")," \u2014 ").concat(ce("CtrlOrCmd+Shift+Left")),"aria-label":G("labels.alignLeft"),visible:Et(ge(l),s)})}}),Ct({name:"alignRight",perform:function(a,l){return{appState:l,elements:yh(a,l,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.shiftKey&&a.key===Be.ARROW_RIGHT},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{hidden:!gh(l,s),type:"button",icon:(0,A.jsx)(mo,{theme:s.theme}),onClick:function(){return u(null)},title:"".concat(G("labels.alignRight")," \u2014 ").concat(ce("CtrlOrCmd+Shift+Right")),"aria-label":G("labels.alignRight"),visible:Et(ge(l),s)})}}),Ct({name:"alignVerticallyCentered",perform:function(a,l){return{appState:l,elements:yh(a,l,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{hidden:!gh(l,s),type:"button",icon:(0,A.jsx)(pu,{theme:s.theme}),onClick:function(){return u(null)},title:G("labels.centerVertically"),"aria-label":G("labels.centerVertically"),visible:Et(ge(l),s)})}}),Ct({name:"alignHorizontallyCentered",perform:function(a,l){return{appState:l,elements:yh(a,l,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{hidden:!gh(l,s),type:"button",icon:(0,A.jsx)(ur,{theme:s.theme}),onClick:function(){return u(null)},title:G("labels.centerHorizontally"),"aria-label":G("labels.centerHorizontally"),visible:Et(ge(l),s)})}});function aj(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return H9(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return H9(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function H9(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}var U9=function(a,l){return Re(ge(a),l).length>1},K9=function(a,l,s){var u=function(p,v){var w,y=W(v.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],4),T=y[0],_=y[1],L=y[2],R=y[3],j=Ma(p),z=sc(p).map(function(Ie){return[Ie,Ma(Ie)]}).sort(function(Ie,Te){return Ie[1][_]-Te[1][_]}),K=0,$=aj(z);try{for($.s();!(w=$.n()).done;)K+=w.value[1][R]}catch(Ie){$.e(Ie)}finally{$.f()}var Z=(j[R]-K)/(z.length-1);if(Z<0){var oe=z.findIndex(function(Ie){return Ie[1][T]===j[T]}),le=z.findIndex(function(Ie){return Ie[1][L]===j[L]}),me=(z[le][1][_]-z[oe][1][_])/(z.length-1),Ce=z[oe][1][_];return z.flatMap(function(Ie,Te){var $e=W(Ie,2),He=$e[0],We=$e[1],Ee={x:0,y:0};return Te!==oe&&Te!==le&&(Ce+=me,Ee[v.axis]=Ce-We[_]),He.map(function(rt){return tn(rt,{x:rt.x+Ee.x,y:rt.y+Ee.y})})})}var _e=j[T];return z.flatMap(function(Ie){var Te=W(Ie,2),$e=Te[0],He=Te[1],We={x:0,y:0};return We[v.axis]=_e-He[T],_e+=Z,_e+=He[R],$e.map(function(Ee){return tn(Ee,{x:Ee.x+We.x,y:Ee.y+We.y})})})}(Re(ge(a),l),s),d=Ia(u);return a.map(function(p){return d.get(p.id)||p})},W9=(Ct({name:"distributeHorizontally",perform:function(a,l){return{appState:l,elements:K9(a,l,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(a){return a.altKey&&a.code===Vp},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{hidden:!U9(l,s),type:"button",icon:(0,A.jsx)(tw,{theme:s.theme}),onClick:function(){return u(null)},title:"".concat(G("labels.distributeHorizontally")," \u2014 ").concat(ce("Alt+H")),"aria-label":G("labels.distributeHorizontally"),visible:Et(ge(l),s)})}}),Ct({name:"distributeVertically",perform:function(a,l){return{appState:l,elements:K9(a,l,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(a){return a.altKey&&a.code===qp},PanelComponent:function(a){var l=a.elements,s=a.appState,u=a.updateData;return(0,A.jsx)(tr,{hidden:!U9(l,s),type:"button",icon:(0,A.jsx)(rw,{theme:s.theme}),onClick:function(){return u(null)},title:"".concat(G("labels.distributeVertically")," \u2014 ").concat(ce("Alt+V")),"aria-label":G("labels.distributeVertically"),visible:Et(ge(l),s)})}}),Ct({name:"flipHorizontal",perform:function(a,l){return{elements:G9(a,l,"horizontal"),appState:l,commitToHistory:!0}},keyTest:function(a){return a.shiftKey&&a.code==="KeyH"},contextItemLabel:"labels.flipHorizontal",contextItemPredicate:function(a,l){return function(s,u){var d=Re(ge(s),u);return d.length===1&&d[0].type!=="text"}(a,l)}})),$9=Ct({name:"flipVertical",perform:function(a,l){return{elements:G9(a,l,"vertical"),appState:l,commitToHistory:!0}},keyTest:function(a){return a.shiftKey&&a.code==="KeyV"},contextItemLabel:"labels.flipVertical",contextItemPredicate:function(a,l){return function(s,u){return Re(ge(s),u).length===1}(a,l)}}),G9=function(a,l,s){var u=Re(ge(a),l);if(u.length>1)return a;var d=ij(u,l,s),p=Ia(d);return a.map(function(v){return p.get(v.id)||v})},ij=function(a,l,s){return a.forEach(function(u){oj(u,l),s==="vertical"&&lj(u,Math.PI)}),a},oj=function(a,l){var s=a.x,u=a.y,d=a.width,p=a.height,v=$o(a.angle),w=0;(on(a)||No(a))&&(w=2*a.points.reduce(function(z,K){return Math.max(z,K[0])},0)-a.width),vt(a,{angle:$o(0)});var y=c1(a,l.zoom),T=!0,_=0,L=y.nw;if(L||(T=!1,L=y.ne)){if(on(a)){for(var R=1;R<a.points.length;R++)Ur.movePoints(a,[{index:R,point:[-a.points[R][0],a.points[R][1]]}]);Ur.normalizePoints(a)}else _=T?a.x+2*d:a.x-2*d,vi(a,!0,a,T?"nw":"ne",!1,_,L[1]),vt(a,{width:d,height:p});var j=$o(2*Math.PI-v);j<0&&(j=$o(j+2*Math.PI)),vt(a,{angle:j}),vt(a,{x:s+w,y:u}),us(a)}else vt(a,{angle:v})},lj=function(a,l){var s=a.x,u=a.y,d=$o(a.angle+l);d<0&&(d=$o(2*Math.PI+d)),vt(a,{angle:d}),vt(a,{x:s,y:u})};function V9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function bh(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?V9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):V9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Nw=Ct({name:"copy",perform:function(a,l,s,u){return y9(ge(a),l,u.files),{commitToHistory:!1}},contextItemLabel:"labels.copy",keyTest:void 0}),sj=Ct({name:"cut",perform:function(a,l,s,u){return Nw.perform(a,l,s,u),xr.perform(a,l)},contextItemLabel:"labels.cut",keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.code===pi}}),q9=Ct({name:"copyAsSvg",perform:function(){var a=(0,V.Z)(ie().mark(function l(s,u,d,p){var v;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(p.canvas){w.next=2;break}return w.abrupt("return",{commitToHistory:!1});case 2:return v=Re(ge(s),u,!0),w.prev=3,w.next=6,Yy("clipboard-svg",v.length?v:ge(s),u,p.files,u);case 6:return w.abrupt("return",{commitToHistory:!1});case 9:return w.prev=9,w.t0=w.catch(3),console.error(w.t0),w.abrupt("return",{appState:bh(bh({},u),{},{errorMessage:w.t0.message}),commitToHistory:!1});case 13:case"end":return w.stop()}},l,null,[[3,9]])}));return function(l,s,u,d){return a.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),Y9=Ct({name:"copyAsPng",perform:function(){var a=(0,V.Z)(ie().mark(function l(s,u,d,p){var v;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(p.canvas){w.next=2;break}return w.abrupt("return",{commitToHistory:!1});case 2:return v=Re(ge(s),u,!0),w.prev=3,w.next=6,Yy("clipboard",v.length?v:ge(s),u,p.files,u);case 6:return w.abrupt("return",{appState:bh(bh({},u),{},{toastMessage:G("toast.copyToClipboardAsPng",{exportSelection:v.length?G("toast.selection"):G("toast.canvas"),exportColorScheme:u.exportWithDarkMode?G("buttons.darkMode"):G("buttons.lightMode")})}),commitToHistory:!1});case 9:return w.prev=9,w.t0=w.catch(3),console.error(w.t0),w.abrupt("return",{appState:bh(bh({},u),{},{errorMessage:w.t0.message}),commitToHistory:!1});case 13:case"end":return w.stop()}},l,null,[[3,9]])}));return function(l,s,u,d){return a.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(a){return a.code===wd&&a.altKey&&a.shiftKey}});function X9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Z9(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?X9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):X9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Q9=Ct({name:"gridMode",perform:function(a,l){return dh("view","mode","grid"),{appState:Z9(Z9({},l),{},{gridSize:this.checked(l)?null:I.k}),commitToHistory:!1}},checked:function(a){return a.gridSize!==null},contextItemLabel:"labels.showGrid",keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.code===Rb}});function J9(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function eC(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?J9(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):J9(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var jw=Ct({name:"zenMode",perform:function(a,l){return dh("view","mode","zen"),{appState:eC(eC({},l),{},{zenModeEnabled:!this.checked(l)}),commitToHistory:!1}},checked:function(a){return a.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(a){return!a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===Yp}});function tC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function rC(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?tC(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):tC(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Rw=Ct({name:"stats",perform:function(a,l){return{appState:rC(rC({},l),{},{showStats:!this.checked(l)}),commitToHistory:!1}},checked:function(a){return a.showStats},contextItemLabel:"stats.title",keyTest:function(a){return!a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===og}}),uj=Ct({name:"unbindText",contextItemLabel:"labels.unbindText",perform:function(a,l){return Re(ge(a),l).forEach(function(s){var u=rs(s);if(u){var d,p=El(u.originalText,hn(u)),v=p.width,w=p.height,y=p.baseline;vt(u,{containerId:null,width:v,height:w,baseline:y,text:u.originalText}),vt(s,{boundElements:(d=s.boundElements)===null||d===void 0?void 0:d.filter(function(T){return T.id!==u.id})})}}),{elements:a,appState:l,commitToHistory:!0}}});function nC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function aC(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?nC(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):nC(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var iC=function(a,l,s){var u=!1;if(!(l.multiElement||l.resizingElement||l.editingElement||l.draggingElement)){var d=s();if(d===null)return{commitToHistory:u};var p=Ia(a),v=d.elements,w=Ia(v),y=a.filter(function(_){return!w.has(_.id)}),T=v.map(function(_){return tn(p.get(_.id)||_,_)}).concat(y.map(function(_){return tn(_,{isDeleted:!0})}));return C1(T,y),{elements:T,appState:aC(aC({},l),d.appState),commitToHistory:u,syncHistory:!0}}return{commitToHistory:u}},cj=function(){function a(l,s,u,d){var p=this;Ke(this,a),this.actions={},this.renderAction=function(v,w){var y=p.app.props.UIOptions.canvasActions;if(p.actions[v]&&"PanelComponent"in p.actions[v]&&(!(v in y)||y[v])){var T=p.actions[v],_=T.PanelComponent;return(0,A.jsx)(_,{elements:p.getElementsIncludingDeleted(),appState:p.getAppState(),updateData:function(L){p.updater(T.perform(p.getElementsIncludingDeleted(),p.getAppState(),L,p.app))},appProps:p.app.props,data:w})}return null},this.updater=function(v){if(!v||!("then"in v))return l(v);v.then(function(w){return l(w)})},this.getAppState=s,this.getElementsIncludingDeleted=u,this.app=d}return At(a,[{key:"registerAction",value:function(l){this.actions[l.name]=l}},{key:"registerAll",value:function(l){var s=this;l.forEach(function(u){return s.registerAction(u)})}},{key:"handleKeyDown",value:function(l){var s=this,u=this.app.props.UIOptions.canvasActions,d=Object.values(this.actions).sort(function(p,v){return(v.keyPriority||0)-(p.keyPriority||0)}).filter(function(p){return(!(p.name in u)||u[p.name])&&p.keyTest&&p.keyTest(l,s.getAppState(),s.getElementsIncludingDeleted())});return d.length!==0&&!(this.getAppState().viewModeEnabled&&!Object.values(I.EH).includes(d[0].name))&&(l.preventDefault(),this.updater(d[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)}},{key:"executeAction",value:function(l){this.updater(l.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))}}]),a}();function fj(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return oC(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return oC(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function oC(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}function lC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function sC(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?lC(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):lC(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var dj=function(){function a(s){var u=this;Ke(this,a),this.libraryCache=null,this.resetLibrary=(0,V.Z)(ie().mark(function d(){var p,v;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(p=(v=u.app.props).onLibraryChange)===null||p===void 0?void 0:p.call(v,[]);case 2:u.libraryCache=[];case 3:case"end":return w.stop()}},d)})),this.restoreLibraryItem=function(d){var p=ge(Uy(d.elements,null));return p.length?sC(sC({},d),{},{elements:p}):null},this.loadLibrary=function(){return new Promise(function(){var d=(0,V.Z)(ie().mark(function p(v){var w,y;return ie().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!u.libraryCache){T.next=2;break}return T.abrupt("return",v(JSON.parse(JSON.stringify(u.libraryCache))));case 2:if(T.prev=2,w=u.app.libraryItemsFromStorage){T.next=6;break}return T.abrupt("return",v([]));case 6:y=w.reduce(function(_,L){return u.restoreLibraryItem(L)&&_.push(L),_},[]),u.libraryCache=JSON.parse(JSON.stringify(y)),v(y),T.next=15;break;case 11:T.prev=11,T.t0=T.catch(2),console.error(T.t0),v([]);case 15:case"end":return T.stop()}},p,null,[[2,11]])}));return function(p){return d.apply(this,arguments)}}())},this.saveLibrary=function(){var d=(0,V.Z)(ie().mark(function p(v){var w,y,T,_;return ie().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return w=u.libraryCache,L.prev=1,_=JSON.stringify(v),u.libraryCache=JSON.parse(_),L.next=6,(y=(T=u.app.props).onLibraryChange)===null||y===void 0?void 0:y.call(T,v);case 6:L.next=12;break;case 8:throw L.prev=8,L.t0=L.catch(1),u.libraryCache=w,L.t0;case 12:case"end":return L.stop()}},p,null,[[1,8]])}));return function(p){return d.apply(this,arguments)}}(),this.app=s}var l;return At(a,[{key:"importLibrary",value:(l=(0,V.Z)(ie().mark(function s(u){var d,p,v,w,y,T,_,L,R,j,z,K=arguments;return ie().wrap(function($){for(;;)switch($.prev=$.next){case 0:return d=K.length>1&&K[1]!==void 0?K[1]:"unpublished",$.next=3,t9(u);case 3:if((p=$.sent)&&(p.libraryItems||p.library)){$.next=6;break}return $.abrupt("return");case 6:return v=function(Z,oe){return!Z.find(function(le){return le.elements.length===oe.elements.length&&le.elements.every(function(me,Ce){return me.id===oe.elements[Ce].id&&me.versionNonce===oe.elements[Ce].versionNonce})})},$.next=9,this.loadLibrary();case 9:w=$.sent,y=p.libraryItems||p.library||[],T=Ew(y,d),_=[],L=fj(T);try{for(L.s();!(R=L.n()).done;)j=R.value,(z=this.restoreLibraryItem(j))&&v(w,z)&&_.push(z)}catch(Z){L.e(Z)}finally{L.f()}return $.next=17,this.saveLibrary([].concat(_,Ne(w)));case 17:case"end":return $.stop()}},s,this)})),function(s){return l.apply(this,arguments)})}]),a}(),hj=dj,uC=function(a){var l=Array.from(a.values());return{x:fC(l,function(s){return s.x})/l.length,y:fC(l,function(s){return s.y})/l.length}},cC=function(a){var l=W(a,2),s=l[0],u=l[1];return Math.hypot(s.x-u.x,s.y-u.y)},fC=function(a,l){return a.reduce(function(s,u){return s+l(u)},0)};function dC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function hC(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?dC(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):dC(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var pj=function(a){return{selectedElementIds:a.selectedElementIds,selectedGroupIds:a.selectedGroupIds,viewBackgroundColor:a.viewBackgroundColor,editingLinearElement:a.editingLinearElement,editingGroupId:a.editingGroupId,name:a.name}},mj=function(){function a(){var l=this;Ke(this,a),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(s,u){return l.dehydrateHistoryEntry({appState:pj(s),elements:u.reduce(function(d,p){if(on(p)&&s.multiElement&&s.multiElement.id===p.id){if(s.multiElement&&s.multiElement.id===p.id&&p.points.length<2)return d;d.push(hC(hC({},p),{},{points:p.lastCommittedPoint!==p.points[p.points.length-1]?p.points.slice(0,-1):p.points}))}else d.push(p);return d},[])})}}return At(a,[{key:"hydrateHistoryEntry",value:function(l){var s=this,u=l.appState,d=l.elements;return{appState:JSON.parse(u),elements:d.map(function(p){var v,w=(v=s.elementCache.get(p.id))===null||v===void 0?void 0:v.get(p.versionNonce);if(!w)throw new Error("Element not found: ".concat(p.id,":").concat(p.versionNonce));return w})}}},{key:"dehydrateHistoryEntry",value:function(l){var s=this,u=l.appState,d=l.elements;return{appState:JSON.stringify(u),elements:d.map(function(p){s.elementCache.has(p.id)||s.elementCache.set(p.id,new Map);var v=s.elementCache.get(p.id);return v.has(p.versionNonce)||v.set(p.versionNonce,uu(p)),{id:p.id,versionNonce:p.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var l=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(s){return l.hydrateHistoryEntry(s)}),redoStack:this.redoStack.map(function(s){return l.hydrateHistoryEntry(s)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(l){var s,u=this.lastEntry;if(!u||l.elements.length!==u.elements.length)return!0;for(var d=l.elements.length-1;d>-1;d--){var p=l.elements[d],v=u.elements[d];if(!p||!v||p.id!==v.id||p.versionNonce!==v.versionNonce)return!0}for(s in l.appState){var w,y;if(!(s==="editingLinearElement"&&((w=l.appState[s])===null||w===void 0?void 0:w.elementId)===((y=u.appState[s])===null||y===void 0?void 0:y.elementId))&&s!=="selectedElementIds"&&s!=="selectedGroupIds"&&l.appState[s]!==u.appState[s])return!0}return!1}},{key:"pushEntry",value:function(l,s){var u=this.generateEntry(l,s),d=this.hydrateHistoryEntry(u);if(d){if(!this.shouldCreateEntry(d))return;this.stateHistory.push(u),this.lastEntry=d,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var l=this.redoStack.pop();return l!==void 0?(this.stateHistory.push(l),this.hydrateHistoryEntry(l)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var l=this.stateHistory.pop(),s=this.stateHistory[this.stateHistory.length-1];return l!==void 0?(this.redoStack.push(l),this.hydrateHistoryEntry(s)):null}},{key:"setCurrentState",value:function(l,s){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(l,s))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(l,s){this.recording&&(this.pushEntry(l,s),this.recording=!1)}}]),a}(),pC=[{icon:(0,A.jsx)("svg",{viewBox:"0 0 320 512",className:"",children:(0,A.jsx)("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})}),value:"selection",key:Be.V},{icon:(0,A.jsx)("svg",{viewBox:"0 0 448 512",children:(0,A.jsx)("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})}),value:"rectangle",key:Be.R},{icon:(0,A.jsx)("svg",{viewBox:"0 0 223.646 223.646",children:(0,A.jsx)("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})}),value:"diamond",key:Be.D},{icon:(0,A.jsx)("svg",{viewBox:"0 0 512 512",children:(0,A.jsx)("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})}),value:"ellipse",key:Be.E},{icon:(0,A.jsx)("svg",{viewBox:"0 0 448 512",className:"rtl-mirror",children:(0,A.jsx)("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})}),value:"arrow",key:Be.A},{icon:(0,A.jsx)("svg",{viewBox:"0 0 6 6",children:(0,A.jsx)("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})}),value:"line",key:[Be.P,Be.L]},{icon:(0,A.jsx)("svg",{viewBox:"0 0 512 512",children:(0,A.jsx)("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})}),value:"freedraw",key:[Be.X,Be.P.toUpperCase()]},{icon:(0,A.jsx)("svg",{viewBox:"0 0 448 512",children:(0,A.jsx)("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})}),value:"text",key:Be.T},{icon:(0,A.jsx)("svg",{viewBox:"0 0 512 512",children:(0,A.jsx)("path",{fill:"currentColor",d:"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 336H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v276a6 6 0 0 1-6 6zM128 152c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zM96 352h320v-80l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L192 304l-39.515-39.515c-4.686-4.686-12.284-4.686-16.971 0L96 304v48z"})}),value:"image",key:null}],vj=(g(1292),{cut:[ce("CtrlOrCmd+X")],copy:[ce("CtrlOrCmd+C")],paste:[ce("CtrlOrCmd+V")],copyStyles:[ce("CtrlOrCmd+Alt+C")],pasteStyles:[ce("CtrlOrCmd+Alt+V")],selectAll:[ce("CtrlOrCmd+A")],deleteSelectedElements:[ce("Del")],duplicateSelection:[ce("CtrlOrCmd+D"),ce("Alt+".concat(G("helpDialog.drag")))],sendBackward:[ce("CtrlOrCmd+[")],bringForward:[ce("CtrlOrCmd+]")],sendToBack:[ce(va?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[ce(va?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[ce("Shift+Alt+C")],copyAsSvg:[],group:[ce("CtrlOrCmd+G")],ungroup:[ce("CtrlOrCmd+Shift+G")],gridMode:[ce("CtrlOrCmd+'")],zenMode:[ce("Alt+Z")],stats:[ce("Alt+/")],addToLibrary:[],flipHorizontal:[ce("Shift+H")],flipVertical:[ce("Shift+V")],viewMode:[ce("Alt+R")],link:[ce("CtrlOrCmd+K")]}),gj=function(a){var l=a.options,s=a.onCloseRequest,u=a.top,d=a.left,p=a.actionManager,v=a.appState,w=a.elements;return(0,A.jsx)(S1,{onCloseRequest:s,top:u,left:d,fitInViewport:!0,offsetLeft:v.offsetLeft,offsetTop:v.offsetTop,viewportWidth:v.width,viewportHeight:v.height,children:(0,A.jsx)("ul",{className:"context-menu",onContextMenu:function(y){return y.preventDefault()},children:l.map(function(y,T){var _;if(y==="separator")return(0,A.jsx)("hr",{className:"context-menu-option-separator"},T);var L,R,j=y.name,z="";return y.contextItemLabel&&(z=typeof y.contextItemLabel=="function"?G(y.contextItemLabel(w,v)):G(y.contextItemLabel)),(0,A.jsx)("li",{"data-testid":j,onClick:s,children:(0,A.jsxs)("button",{className:Cr("context-menu-option",{dangerous:j==="deleteSelectedElements",checkmark:(_=y.checked)===null||_===void 0?void 0:_.call(y,v)}),onClick:function(){return p.executeAction(y)},children:[(0,A.jsx)("div",{className:"context-menu-option__label",children:z}),(0,A.jsx)("kbd",{className:"context-menu-option__shortcut",children:j?(L=j,R=vj[L],R&&R.length>0?R[0]:""):""})]})},T)})})})},Qy=new WeakMap,Jy=function(a){var l,s,u=Array.of();a.options.forEach(function(d){d&&u.push(d)}),u.length&&(0,kl.render)((0,A.jsx)(gj,{top:a.top,left:a.left,options:u,onCloseRequest:function(){return d=a.container,void((p=Qy.get(d))&&((0,kl.unmountComponentAtNode)(p),p.remove(),Qy.delete(d)));var d,p},actionManager:a.actionManager,appState:a.appState,elements:a.elements}),(l=a.container,(s=Qy.get(l))||(s=document.createElement("div"),l.querySelector(".excalidraw-contextMenuContainer").appendChild(s),Qy.set(l,s),s)))};function yj(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return mC(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return mC(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function mC(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}var vC=function(a){var l,s,u=a.appState,d=a.elements,p=a.renderAction,v=a.elementType,w=$t(ge(d),u),y=Boolean(u.editingElement),T=go(),_=document.documentElement.getAttribute("dir")==="rtl",L=ds(v)||w.some(function(K){return ds(K.type)&&!Gr(K.backgroundColor)}),R=ds(v)||w.some(function(K){return ds(K.type)}),j=((l=w[0])===null||l===void 0?void 0:l.type)||null,z=yj(w);try{for(z.s();!(s=z.n()).done;)if(s.value.type!==j){j=null;break}}catch(K){z.e(K)}finally{z.f()}return(0,A.jsxs)("div",{className:"panelColumn",children:[(L1(v)&&v!=="image"&&j!=="image"||w.some(function(K){return L1(K.type)}))&&p("changeStrokeColor"),R&&p("changeBackgroundColor"),L&&p("changeFillStyle"),(ky(v)||w.some(function(K){return ky(K.type)}))&&p("changeStrokeWidth"),(v==="freedraw"||w.some(function(K){return K.type==="freedraw"}))&&p("changeStrokeShape"),(Cy(v)||w.some(function(K){return Cy(K.type)}))&&(0,A.jsxs)(A.Fragment,{children:[p("changeStrokeStyle"),p("changeSloppiness")]}),(Xn(v)||w.some(function(K){return Xn(K.type)}))&&(0,A.jsx)(A.Fragment,{children:p("changeSharpness")}),(Ha(v)||w.some(function(K){return Ha(K.type)}))&&(0,A.jsxs)(A.Fragment,{children:[p("changeFontSize"),p("changeFontFamily"),p("changeTextAlign")]}),(Qd(v)||w.some(function(K){return Qd(K.type)}))&&(0,A.jsx)(A.Fragment,{children:p("changeArrowhead")}),p("changeOpacity"),(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.layers")}),(0,A.jsxs)("div",{className:"buttonList",children:[p("sendToBack"),p("sendBackward"),p("bringToFront"),p("bringForward")]})]}),w.length>1&&(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.align")}),(0,A.jsxs)("div",{className:"buttonList",children:[_?(0,A.jsxs)(A.Fragment,{children:[p("alignRight"),p("alignHorizontallyCentered"),p("alignLeft")]}):(0,A.jsxs)(A.Fragment,{children:[p("alignLeft"),p("alignHorizontallyCentered"),p("alignRight")]}),w.length>2&&p("distributeHorizontally"),(0,A.jsxs)("div",{className:"iconRow",children:[p("alignTop"),p("alignVerticallyCentered"),p("alignBottom"),w.length>2&&p("distributeVertically")]})]})]}),!y&&w.length>0&&(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.actions")}),(0,A.jsxs)("div",{className:"buttonList",children:[!T&&p("duplicateSelection"),!T&&p("deleteSelectedElements"),p("group"),p("ungroup"),w.length===1&&p("link")]})]})]})},gC=function(a){var l=a.canvas,s=a.elementType,u=a.setAppState,d=a.onImageAction;return(0,A.jsx)(A.Fragment,{children:pC.map(function(p,v){var w=p.value,y=p.icon,T=p.key,_=G("toolBar.".concat(w)),L=T&&(typeof T=="string"?T:T[0]),R=L?"".concat(jo(L)," ").concat(G("helpDialog.or")," ").concat(v+1):"".concat(v+1);return(0,A.jsx)(tr,{className:"Shape",type:"radio",icon:y,checked:s===w,name:"editor-current-shape",title:"".concat(jo(_)," \u2014 ").concat(R),keyBindingLabel:"".concat(v+1),"aria-label":jo(_),"aria-keyshortcuts":R,"data-testid":w,onChange:function(j){var z=j.pointerType;u({elementType:w,multiElement:null,selectedElementIds:{}}),Jl(l,w),w==="image"&&d({pointerType:z})}},w)})})},bj=function(a){var l=a.renderAction;return a.zoom,(0,A.jsx)(gs,{gap:1,children:(0,A.jsxs)(Pl,{gap:1,align:"center",children:[l("zoomOut"),l("zoomIn"),l("resetZoom")]})})},yC=function(a){a.appState,a.setAppState;var l=a.actionManager,s=a.showThemeBtn;return(0,A.jsxs)("div",{style:{display:"flex"},children:[l.renderAction("changeViewBackgroundColor"),s&&l.renderAction("toggleTheme")]})},bC=(g(778),function(a){var l=a.isCollaborating,s=a.collaboratorCount,u=a.onClick;return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(tr,{className:Cr("CollabButton",{"is-collaborating":l}),onClick:u,icon:nw,type:"button",title:G("labels.liveCollaboration"),"aria-label":G("labels.liveCollaboration"),showAriaLabel:go(),children:s>0&&(0,A.jsx)("div",{className:"CollabButton-collaborators",children:s})})})}),wj=function(a){var l=a.message,s=a.onClose,u=W((0,D.useState)(!!l),2),d=u[0],p=u[1],v=wh().container,w=F().useCallback(function(){p(!1),s&&s(),v==null||v.focus()},[s,v]);return(0,A.jsx)(A.Fragment,{children:d&&(0,A.jsx)(ps,{small:!0,onCloseRequest:w,title:G("errorDialog.title"),children:(0,A.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:l})})})},xj=(g(2205),"filter"in document.createElement("canvas").getContext("2d")),kj=function(){return(0,A.jsxs)("div",{children:[(0,A.jsx)("h3",{children:G("canvasError.cannotShowPreview")}),(0,A.jsx)("p",{children:(0,A.jsx)("span",{children:G("canvasError.canvasTooBig")})}),(0,A.jsxs)("em",{children:["(",G("canvasError.canvasTooBigTip"),")"]})]})},wC=function(a,l){(0,kl.unmountComponentAtNode)(l),l.innerHTML="",a instanceof HTMLCanvasElement?l.appendChild(a):(0,kl.render)((0,A.jsx)(kj,{}),l)},Fw=function(a){var l,s=a.children,u=a.title,d=a.onClick,p=a.color,v=a.shade,w=v===void 0?6:v;return(0,A.jsx)("button",{className:"ExportDialog-imageExportButton",style:(l={},be(l,"--button-color",fr[p][w]),be(l,"--button-color-darker",fr[p][w+1]),be(l,"--button-color-darkest",fr[p][w+2]),l),title:u,"aria-label":u,onClick:d,children:s})},Cj=function(a){var l=a.elements,s=a.appState,u=a.files,d=a.exportPadding,p=d===void 0?I.qy:d,v=a.actionManager,w=a.onExportToPng,y=a.onExportToSvg,T=a.onExportToClipboard,_=Et(l,s),L=W((0,D.useState)(_),2),R=L[0],j=L[1],z=(0,D.useRef)(null),K=s.exportBackground,$=s.viewBackgroundColor,Z=R?Re(l,s,!0):l;return(0,D.useEffect)(function(){j(_)},[_]),(0,D.useEffect)(function(){var oe=z.current;oe&&Aw(Z,s,u,{exportBackground:K,viewBackgroundColor:$,exportPadding:p}).then(function(le){return Tw(le).then(function(){wC(le,oe)})}).catch(function(le){console.error(le),wC(new rh,oe)})},[s,u,Z,K,p,$]),(0,A.jsxs)("div",{className:"ExportDialog",children:[(0,A.jsx)("div",{className:"ExportDialog__preview",ref:z}),xj&&v.renderAction("exportWithDarkMode"),(0,A.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,A.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[v.renderAction("changeExportBackground"),_&&(0,A.jsx)(Xy,{checked:R,onChange:function(oe){return j(oe)},children:G("labels.onlySelected")}),v.renderAction("changeExportEmbedScene")]})}),(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,A.jsx)(Pl,{gap:2,children:v.renderAction("changeExportScale")}),(0,A.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:"Scale"})]}),(0,A.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!Cc&&v.renderAction("changeProjectName")}),(0,A.jsxs)(Pl,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,A.jsx)(Fw,{color:"indigo",title:G("buttons.exportToPng"),"aria-label":G("buttons.exportToPng"),onClick:function(){return w(Z)},children:"PNG"}),(0,A.jsx)(Fw,{color:"red",title:G("buttons.exportToSvg"),"aria-label":G("buttons.exportToSvg"),onClick:function(){return y(Z)},children:"SVG"}),qy&&(0,A.jsx)(Fw,{title:G("buttons.copyPngToClipboard"),onClick:function(){return T(Z)},color:"gray",shade:7,children:Yb})]})]})},Sj=function(a){var l=a.elements,s=a.appState,u=a.files,d=a.exportPadding,p=d===void 0?I.qy:d,v=a.actionManager,w=a.onExportToPng,y=a.onExportToSvg,T=a.onExportToClipboard,_=W((0,D.useState)(!1),2),L=_[0],R=_[1],j=F().useCallback(function(){R(!1)},[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(tr,{onClick:function(){R(!0)},"data-testid":"image-export-button",icon:Zb,type:"button","aria-label":G("buttons.exportImage"),showAriaLabel:go(),title:G("buttons.exportImage")}),L&&(0,A.jsx)(ps,{onCloseRequest:j,title:G("buttons.exportImage"),children:(0,A.jsx)(Cj,{elements:l,appState:s,files:u,exportPadding:p,actionManager:v,onExportToPng:w,onExportToSvg:y,onExportToClipboard:T,onCloseRequest:j})})]})},xC=(g(1310),function(a){var l=a.children,s=a.side,u=a.className;return(0,A.jsx)("div",{className:Cr("FixedSideContainer","FixedSideContainer_side_".concat(s),u),children:l})}),kC=(g(7096),function(a){var l=function(s){var u=s.appState,d=s.elements,p=s.isMobile,v=u.elementType,w=u.isResizing,y=u.isRotating,T=u.lastPointerDownWith,_=u.multiElement!==null;if(v==="arrow"||v==="line")return G(_?"hints.linearElementMulti":"hints.linearElement");if(v==="freedraw")return G("hints.freeDraw");if(v==="text")return G("hints.text");if(u.elementType==="image"&&u.pendingImageElement)return G("hints.placeImage");var L,R=Re(d,u);if(w&&T==="mouse"&&R.length===1){var j=R[0];return on(j)&&j.points.length===2?G("hints.lockAngle"):Yu(j)?G("hints.resizeImage"):G("hints.resize")}if(y&&T==="mouse")return G("hints.rotate");if(R.length===1&&Lr(R[0]))return G("hints.text_selected");if(u.editingElement&&Lr(u.editingElement))return G("hints.text_editing");if(v==="selection"){var z;if(((z=u.draggingElement)===null||z===void 0?void 0:z.type)==="selection"&&!u.editingElement&&!u.editingLinearElement)return G("hints.deepBoxSelect");if(!R.length&&!p)return G("hints.canvasPanning")}if(R.length===1){if(on(R[0]))return u.editingLinearElement?u.editingLinearElement.selectedPointsIndices?G("hints.lineEditor_pointSelected"):G("hints.lineEditor_nothingSelected"):G("hints.lineEditor_info");if((L=R[0])!=null&&(L.type==="rectangle"||L.type==="diamond"||L.type==="ellipse"||L.type==="image"))return G("hints.bindTextToElement")}return null}({appState:a.appState,elements:a.elements,isMobile:a.isMobile});return l?(l=ce(l),(0,A.jsx)("div",{className:"HintViewer",children:(0,A.jsx)("span",{children:l})})):null}),CC={CHECKED:(0,A.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:(0,A.jsx)("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})}),UNCHECKED:(0,A.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:(0,A.jsx)("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})})},SC=function(a){return(0,A.jsxs)("label",{className:Cr("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_".concat("medium"),{"is-mobile":a.isMobile}),title:"".concat(a.title," \u2014 Q"),children:[(0,A.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:a.name,onChange:a.onChange,checked:a.checked,"aria-label":a.title}),(0,A.jsx)("div",{className:"ToolIcon__icon",children:a.checked?CC.CHECKED:CC.UNCHECKED})]})},Ej=["heading","children"];function EC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function _C(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?EC(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):EC(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Sc=function(a){var l=a.heading,s=a.children,u=oc(a,Ej),d=wh().id,p=(0,A.jsx)("h2",{className:"visually-hidden",id:"".concat(d,"-").concat(l,"-title"),children:G("headings.".concat(l))});return(0,A.jsx)("section",_C(_C({},u),{},{"aria-labelledby":"".concat(d,"-").concat(l,"-title"),children:typeof s=="function"?s(p):(0,A.jsxs)(A.Fragment,{children:[p,s]})}))},TC=(g(580),function(a){var l=a.children,s=a.className,u=a.mobile;return(0,A.jsx)("div",{className:Cr("UserList",s,{UserList_mobile:u}),children:l})}),_j=(0,A.jsx)("svg",{viewBox:"0 0 576 512",children:(0,A.jsx)("path",{fill:"currentColor",d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"})}),OC=function(a){var l=a.appState,s=a.setAppState,u=a.isMobile;return(0,A.jsxs)("label",{className:Cr("ToolIcon ToolIcon_type_floating ToolIcon__library","ToolIcon_size_medium",{"is-mobile":u}),title:"".concat(jo(G("toolBar.library"))," \u2014 0"),children:[(0,A.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(d){s({isLibraryOpen:d.target.checked})},checked:l.isLibraryOpen,"aria-label":jo(G("toolBar.library")),"aria-keyshortcuts":"0"}),(0,A.jsx)("div",{className:"ToolIcon__icon",children:_j})]})},AC="medium",MC={CHECKED:(0,A.jsxs)("svg",{width:"205",height:"205",viewBox:"0 0 205 205",xmlns:"http://www.w3.org/2000/svg",children:[(0,A.jsx)("path",{d:"m35 195-25-29.17V50h50v115l-25 30"}),(0,A.jsx)("path",{d:"M10 40V10h50v30H10"}),(0,A.jsx)("path",{d:"M125 145h70v50h-70"}),(0,A.jsx)("path",{d:"M190 145v-30l-10-20h-40l-10 20v30h15v-30l5-5h20l5 5v30h15"})]}),UNCHECKED:(0,A.jsxs)("svg",{width:"205",height:"205",viewBox:"0 0 205 205",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:[(0,A.jsx)("path",{d:"m35 195-25-29.17V50h50v115l-25 30"}),(0,A.jsx)("path",{d:"M10 40V10h50v30H10"}),(0,A.jsx)("path",{d:"M125 145h70v50h-70"}),(0,A.jsx)("path",{d:"M145 145v-30l-10-20H95l-10 20v30h15v-30l5-5h20l5 5v30h15"})]})},IC=function(a){return a.penDetected?(0,A.jsxs)("label",{className:Cr("ToolIcon ToolIcon__penMode ToolIcon_type_floating","ToolIcon_size_".concat(AC),{"is-mobile":a.isMobile}),title:"".concat(a.title),children:[(0,A.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:a.name,onChange:a.onChange,checked:a.checked,"aria-label":a.title}),(0,A.jsx)("div",{className:"ToolIcon__icon",children:a.checked?MC.CHECKED:MC.UNCHECKED})]}):a.isMobile?null:(0,A.jsx)("label",{className:Cr("ToolIcon ToolIcon__penMode ToolIcon_type_floating","ToolIcon_size_".concat(AC),{"is-mobile":a.isMobile}),children:(0,A.jsx)("div",{className:"ToolIcon__icon ToolIcon__hidden"})})};function DC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}var Tj=function(a){var l=a.appState,s=a.elements,u=a.libraryMenu,d=a.actionManager,p=a.renderJSONExportDialog,v=a.renderImageExportDialog,w=a.setAppState,y=a.onCollabButtonClick,T=a.onLockToggle,_=a.onPenModeToggle,L=a.canvas,R=a.isCollaborating,j=a.renderCustomFooter,z=a.viewModeEnabled,K=a.showThemeBtn,$=a.onImageAction,Z=a.renderTopRightUI;return(0,A.jsxs)(A.Fragment,{children:[!z&&(0,A.jsxs)(xC,{side:"top",className:"App-top-bar",children:[(0,A.jsx)(Sc,{heading:"shapes",children:function(oe){return(0,A.jsxs)(gs,{gap:4,align:"center",children:[(0,A.jsxs)(Pl,{gap:1,className:"App-toolbar-container",children:[(0,A.jsxs)(Vo,{padding:1,className:"App-toolbar",children:[oe,(0,A.jsx)(Pl,{gap:1,children:(0,A.jsx)(gC,{canvas:L,elementType:l.elementType,setAppState:w,onImageAction:function(le){var me=le.pointerType;$({insertOnCanvasDirectly:me!=="mouse"})}})})]}),Z&&Z(!0,l),(0,A.jsx)(SC,{checked:l.elementLocked,onChange:T,title:G("toolBar.lock"),isMobile:!0}),(0,A.jsx)(OC,{appState:l,setAppState:w,isMobile:!0}),(0,A.jsx)(IC,{checked:l.penMode,onChange:_,title:G("toolBar.penMode"),isMobile:!0,penDetected:l.penDetected})]}),u]})}}),(0,A.jsx)(kC,{appState:l,elements:s,isMobile:!0})]}),(0,A.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14},children:(0,A.jsxs)(Vo,{padding:0,children:[l.openMenu==="canvas"?(0,A.jsx)(Sc,{className:"App-mobile-menu",heading:"canvasActions",children:(0,A.jsx)("div",{className:"panelColumn",children:(0,A.jsxs)(gs,{gap:4,children:[z?(0,A.jsxs)(A.Fragment,{children:[p(),v()]}):(0,A.jsxs)(A.Fragment,{children:[d.renderAction("clearCanvas"),d.renderAction("loadScene"),p(),v(),y&&(0,A.jsx)(bC,{isCollaborating:R,collaboratorCount:l.collaborators.size,onClick:y}),(0,A.jsx)(yC,{actionManager:d,appState:l,setAppState:w,showThemeBtn:K})]}),j==null?void 0:j(!0,l),l.collaborators.size>0&&(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:G("labels.collaborators")}),(0,A.jsx)(TC,{mobile:!0,children:Array.from(l.collaborators).filter(function(oe){var le=W(oe,2),me=(le[0],le[1]);return Object.keys(me).length!==0}).map(function(oe){var le=W(oe,2),me=le[0];return le[1],(0,A.jsx)(F().Fragment,{children:d.renderAction("goToCollaborator",{id:me})},me)})})]})]})})}):l.openMenu==="shape"&&!z&&H(l,s)?(0,A.jsx)(Sc,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,A.jsx)(vC,{appState:l,elements:s,renderAction:d.renderAction,elementType:l.elementType})}):null,(0,A.jsxs)("footer",{className:"App-toolbar",children:[z?(0,A.jsx)("div",{className:"App-toolbar-content",children:d.renderAction("toggleCanvasMenu")}):(0,A.jsxs)("div",{className:"App-toolbar-content",children:[d.renderAction("toggleCanvasMenu"),d.renderAction("toggleEditMenu"),d.renderAction("undo"),d.renderAction("redo"),d.renderAction(l.multiElement?"finalize":"duplicateSelection"),d.renderAction("deleteSelectedElements")]}),l.scrolledOutside&&!l.openMenu&&(0,A.jsx)("button",{className:"scroll-back-to-content",onClick:function(){w(function(oe){for(var le=1;le<arguments.length;le++){var me=arguments[le]!=null?arguments[le]:{};le%2?DC(Object(me),!0).forEach(function(Ce){be(oe,Ce,me[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(me)):DC(Object(me)).forEach(function(Ce){Object.defineProperty(oe,Ce,Object.getOwnPropertyDescriptor(me,Ce))})}return oe}({},la(s,l)))},children:G("buttons.scrollBackToContent")})]})]})})]})},LC=(g(8051),function(a){var l=(0,D.useRef)(null),s=W((0,D.useState)(null),2),u=s[0],d=s[1];return(0,D.useLayoutEffect)(function(){if(a.spreadsheet){var p,v=BN(a.chartType,a.spreadsheet,0,0);d(v);var w=l.current;return(0,V.Z)(ie().mark(function y(){return ie().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,$y(v,{exportBackground:!1,viewBackgroundColor:fr.white},null);case 2:p=T.sent,w.appendChild(p),a.selected&&w.parentNode.focus();case 5:case"end":return T.stop()}},y)}))(),function(){w.removeChild(p)}}},[a.spreadsheet,a.chartType,a.selected]),(0,A.jsx)("button",{className:"ChartPreview",onClick:function(){u&&a.onClick(a.chartType,u)},children:(0,A.jsx)("div",{ref:l})})}),Oj=function(a){var l=a.setAppState,s=a.appState,u=a.onClose,d=a.onInsertChart,p=F().useCallback(function(){u&&u()},[u]),v=function(w,y){d(y),dh("magic","chart",w),l({currentChartType:w,pasteDialog:{shown:!1,data:null}})};return(0,A.jsx)(ps,{small:!0,onCloseRequest:p,title:G("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,A.jsxs)("div",{className:"container",children:[(0,A.jsx)(LC,{chartType:"bar",spreadsheet:s.pasteDialog.data,selected:s.currentChartType==="bar",onClick:v}),(0,A.jsx)(LC,{chartType:"line",spreadsheet:s.pasteDialog.data,selected:s.currentChartType==="line",onClick:v})]})})};g(3922);function PC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}var Aj=function(){return(0,A.jsxs)("div",{className:"HelpDialog--header",children:[(0,A.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:G("helpDialog.documentation")}),(0,A.jsx)("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:G("helpDialog.blog")}),(0,A.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:G("helpDialog.github")})]})},Mj=function(a){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("h3",{children:a.title}),a.children]})},Ij=function(a){return(0,A.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},children:a.children})},NC=function(a){return(0,A.jsx)("div",{style:{width:"49%"},children:a.children})},zw=function(a){return(0,A.jsxs)("div",{className:"HelpDialog--island",children:[(0,A.jsx)("h3",{className:"HelpDialog--island-title",children:a.caption}),a.children]})},Pt=function(a){return(0,A.jsx)("div",{className:"HelpDialog--shortcut",children:(0,A.jsxs)("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"},children:[(0,A.jsx)("div",{style:{lineHeight:1.4},children:a.label}),(0,A.jsx)("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"},children:a.shortcuts.map(function(l,s){return(0,A.jsxs)(F().Fragment,{children:[(0,A.jsx)(Dj,{children:l}),a.isOr&&s!==a.shortcuts.length-1&&G("helpDialog.or")]},s)})})]})})};Pt.defaultProps={isOr:!0};var Dj=function(a){return(0,A.jsx)("kbd",function(l){for(var s=1;s<arguments.length;s++){var u=arguments[s]!=null?arguments[s]:{};s%2?PC(Object(u),!0).forEach(function(d){be(l,d,u[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):PC(Object(u)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(u,d))})}return l}({className:"HelpDialog--key"},a))},Lj=function(a){var l=a.onClose,s=F().useCallback(function(){l&&l()},[l]);return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(ps,{onCloseRequest:s,title:G("helpDialog.title"),className:"HelpDialog",children:[(0,A.jsx)(Aj,{}),(0,A.jsx)(Mj,{title:G("helpDialog.shortcuts"),children:(0,A.jsxs)(Ij,{children:[(0,A.jsxs)(NC,{children:[(0,A.jsxs)(zw,{caption:G("helpDialog.shapes"),children:[(0,A.jsx)(Pt,{label:G("toolBar.selection"),shortcuts:["V","1"]}),(0,A.jsx)(Pt,{label:G("toolBar.rectangle"),shortcuts:["R","2"]}),(0,A.jsx)(Pt,{label:G("toolBar.diamond"),shortcuts:["D","3"]}),(0,A.jsx)(Pt,{label:G("toolBar.ellipse"),shortcuts:["E","4"]}),(0,A.jsx)(Pt,{label:G("toolBar.arrow"),shortcuts:["A","5"]}),(0,A.jsx)(Pt,{label:G("toolBar.line"),shortcuts:["P","6"]}),(0,A.jsx)(Pt,{label:G("toolBar.freedraw"),shortcuts:["Shift + P","X","7"]}),(0,A.jsx)(Pt,{label:G("toolBar.text"),shortcuts:["T","8"]}),(0,A.jsx)(Pt,{label:G("toolBar.image"),shortcuts:["9"]}),(0,A.jsx)(Pt,{label:G("toolBar.library"),shortcuts:["0"]}),(0,A.jsx)(Pt,{label:G("helpDialog.editSelectedShape"),shortcuts:[ce("Enter"),G("helpDialog.doubleClick")]}),(0,A.jsx)(Pt,{label:G("helpDialog.textNewLine"),shortcuts:[ce("Enter"),ce("Shift+Enter")]}),(0,A.jsx)(Pt,{label:G("helpDialog.textFinish"),shortcuts:[ce("Esc"),ce("CtrlOrCmd+Enter")]}),(0,A.jsx)(Pt,{label:G("helpDialog.curvedArrow"),shortcuts:["A",G("helpDialog.click"),G("helpDialog.click"),G("helpDialog.click")],isOr:!1}),(0,A.jsx)(Pt,{label:G("helpDialog.curvedLine"),shortcuts:["L",G("helpDialog.click"),G("helpDialog.click"),G("helpDialog.click")],isOr:!1}),(0,A.jsx)(Pt,{label:G("toolBar.lock"),shortcuts:["Q"]}),(0,A.jsx)(Pt,{label:G("helpDialog.preventBinding"),shortcuts:[ce("CtrlOrCmd")]}),(0,A.jsx)(Pt,{label:G("toolBar.link"),shortcuts:[ce("CtrlOrCmd+K")]})]}),(0,A.jsxs)(zw,{caption:G("helpDialog.view"),children:[(0,A.jsx)(Pt,{label:G("buttons.zoomIn"),shortcuts:[ce("CtrlOrCmd++")]}),(0,A.jsx)(Pt,{label:G("buttons.zoomOut"),shortcuts:[ce("CtrlOrCmd+-")]}),(0,A.jsx)(Pt,{label:G("buttons.resetZoom"),shortcuts:[ce("CtrlOrCmd+0")]}),(0,A.jsx)(Pt,{label:G("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,A.jsx)(Pt,{label:G("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,A.jsx)(Pt,{label:G("buttons.fullScreen"),shortcuts:["F"]}),(0,A.jsx)(Pt,{label:G("buttons.zenMode"),shortcuts:[ce("Alt+Z")]}),(0,A.jsx)(Pt,{label:G("labels.showGrid"),shortcuts:[ce("CtrlOrCmd+'")]}),(0,A.jsx)(Pt,{label:G("labels.viewMode"),shortcuts:[ce("Alt+R")]}),(0,A.jsx)(Pt,{label:G("labels.toggleTheme"),shortcuts:[ce("Alt+Shift+D")]}),(0,A.jsx)(Pt,{label:G("stats.title"),shortcuts:[ce("Alt+/")]})]})]}),(0,A.jsx)(NC,{children:(0,A.jsxs)(zw,{caption:G("helpDialog.editor"),children:[(0,A.jsx)(Pt,{label:G("labels.selectAll"),shortcuts:[ce("CtrlOrCmd+A")]}),(0,A.jsx)(Pt,{label:G("labels.multiSelect"),shortcuts:[ce("Shift+".concat(G("helpDialog.click")))]}),(0,A.jsx)(Pt,{label:G("helpDialog.deepSelect"),shortcuts:[ce("CtrlOrCmd+".concat(G("helpDialog.click")))]}),(0,A.jsx)(Pt,{label:G("helpDialog.deepBoxSelect"),shortcuts:[ce("CtrlOrCmd+".concat(G("helpDialog.drag")))]}),(0,A.jsx)(Pt,{label:G("labels.moveCanvas"),shortcuts:[ce("Space+".concat(G("helpDialog.drag"))),ce("Wheel+".concat(G("helpDialog.drag")))],isOr:!0}),(0,A.jsx)(Pt,{label:G("labels.cut"),shortcuts:[ce("CtrlOrCmd+X")]}),(0,A.jsx)(Pt,{label:G("labels.copy"),shortcuts:[ce("CtrlOrCmd+C")]}),(0,A.jsx)(Pt,{label:G("labels.paste"),shortcuts:[ce("CtrlOrCmd+V")]}),(0,A.jsx)(Pt,{label:G("labels.copyAsPng"),shortcuts:[ce("Shift+Alt+C")]}),(0,A.jsx)(Pt,{label:G("labels.copyStyles"),shortcuts:[ce("CtrlOrCmd+Alt+C")]}),(0,A.jsx)(Pt,{label:G("labels.pasteStyles"),shortcuts:[ce("CtrlOrCmd+Alt+V")]}),(0,A.jsx)(Pt,{label:G("labels.delete"),shortcuts:[ce("Del")]}),(0,A.jsx)(Pt,{label:G("labels.sendToBack"),shortcuts:[ce(va?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),(0,A.jsx)(Pt,{label:G("labels.bringToFront"),shortcuts:[ce(va?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),(0,A.jsx)(Pt,{label:G("labels.sendBackward"),shortcuts:[ce("CtrlOrCmd+[")]}),(0,A.jsx)(Pt,{label:G("labels.bringForward"),shortcuts:[ce("CtrlOrCmd+]")]}),(0,A.jsx)(Pt,{label:G("labels.alignTop"),shortcuts:[ce("CtrlOrCmd+Shift+Up")]}),(0,A.jsx)(Pt,{label:G("labels.alignBottom"),shortcuts:[ce("CtrlOrCmd+Shift+Down")]}),(0,A.jsx)(Pt,{label:G("labels.alignLeft"),shortcuts:[ce("CtrlOrCmd+Shift+Left")]}),(0,A.jsx)(Pt,{label:G("labels.alignRight"),shortcuts:[ce("CtrlOrCmd+Shift+Right")]}),(0,A.jsx)(Pt,{label:G("labels.duplicateSelection"),shortcuts:[ce("CtrlOrCmd+D"),ce("Alt+".concat(G("helpDialog.drag")))]}),(0,A.jsx)(Pt,{label:G("buttons.undo"),shortcuts:[ce("CtrlOrCmd+Z")]}),(0,A.jsx)(Pt,{label:G("buttons.redo"),shortcuts:E0?[ce("CtrlOrCmd+Y"),ce("CtrlOrCmd+Shift+Z")]:[ce("CtrlOrCmd+Shift+Z")]}),(0,A.jsx)(Pt,{label:G("labels.group"),shortcuts:[ce("CtrlOrCmd+G")]}),(0,A.jsx)(Pt,{label:G("labels.ungroup"),shortcuts:[ce("CtrlOrCmd+Shift+G")]}),(0,A.jsx)(Pt,{label:G("labels.flipHorizontal"),shortcuts:[ce("Shift+H")]}),(0,A.jsx)(Pt,{label:G("labels.flipVertical"),shortcuts:[ce("Shift+V")]}),(0,A.jsx)(Pt,{label:G("labels.showStroke"),shortcuts:[ce("S")]}),(0,A.jsx)(Pt,{label:G("labels.showBackground"),shortcuts:[ce("G")]}),(0,A.jsx)(Pt,{label:G("labels.decreaseFontSize"),shortcuts:[ce("CtrlOrCmd+Shift+<")]}),(0,A.jsx)(Pt,{label:G("labels.increaseFontSize"),shortcuts:[ce("CtrlOrCmd+Shift+>")]})]})})]})})]})})},jC=(g(5080),function(a){var l,s=a.children,u=a.color;return(0,A.jsx)("div",{className:"Card",style:(l={},be(l,"--card-color",u==="primary"?"var(--color-primary)":fr[u][7]),be(l,"--card-color-darker",u==="primary"?"var(--color-primary-darker)":fr[u][8]),be(l,"--card-color-darkest",u==="primary"?"var(--color-primary-darkest)":fr[u][9]),l),children:s})}),Pj=function(a){var l=a.elements,s=a.appState,u=a.files,d=a.actionManager,p=a.exportOpts,v=a.canvas,w=p.onExportToBackend;return(0,A.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,A.jsxs)("div",{className:"ExportDialog-cards",children:[p.saveFileToDisk&&(0,A.jsxs)(jC,{color:"lime",children:[(0,A.jsx)("div",{className:"Card-icon",children:oy}),(0,A.jsx)("h2",{children:G("exportDialog.disk_title")}),(0,A.jsxs)("div",{className:"Card-details",children:[G("exportDialog.disk_details"),!Cc&&d.renderAction("changeProjectName")]}),(0,A.jsx)(tr,{className:"Card-button",type:"button",title:G("exportDialog.disk_button"),"aria-label":G("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){d.executeAction(XN)}})]}),w&&(0,A.jsxs)(jC,{color:"pink",children:[(0,A.jsx)("div",{className:"Card-icon",children:ay}),(0,A.jsx)("h2",{children:G("exportDialog.link_title")}),(0,A.jsx)("div",{className:"Card-details",children:G("exportDialog.link_details")}),(0,A.jsx)(tr,{className:"Card-button",type:"button",title:G("exportDialog.link_button"),"aria-label":G("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){return w(l,s,u,v)}})]}),p.renderCustomUI&&p.renderCustomUI(l,s,u,v)]})})},Nj=function(a){var l=a.elements,s=a.appState,u=a.files,d=a.actionManager,p=a.exportOpts,v=a.canvas,w=W((0,D.useState)(!1),2),y=w[0],T=w[1],_=F().useCallback(function(){T(!1)},[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(tr,{onClick:function(){T(!0)},"data-testid":"json-export-button",icon:$d,type:"button","aria-label":G("buttons.export"),showAriaLabel:go(),title:G("buttons.export")}),y&&(0,A.jsx)(ps,{onCloseRequest:_,title:G("buttons.export"),children:(0,A.jsx)(Pj,{elements:l,appState:s,files:u,actionManager:d,onCloseRequest:_,exportOpts:p,canvas:v})})]})};function RC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function Ec(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?RC(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):RC(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Bw=function(a){var l=a.elements,s=a.appState,u=a.files,d=a.maxWidthOrHeight,p=a.getDimensions,v=U1({elements:l,appState:s},null,null),w=v.elements,y=v.appState,T=y.exportBackground,_=y.viewBackgroundColor;return Aw(ge(w),Ec(Ec({},y),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),u||{},{exportBackground:T,viewBackgroundColor:_},function(L,R){var j,z=document.createElement("canvas");if(d){typeof p=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var K=Math.max(L,R),$=d/K;return z.width=L*$,z.height=R*$,{canvas:z,scale:$}}var Z=(p==null?void 0:p(L,R))||{width:L,height:R};return z.width=Z.width,z.height=Z.height,{canvas:z,scale:(j=Z.scale)!==null&&j!==void 0?j:1}})},jj=function(){var a=(0,V.Z)(ie().mark(function l(s){var u,d,p,v,w,y;return ie().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return p=(d=s).mimeType,v=p===void 0?I.LO.png:p,w=d.quality,v===I.LO.png&&typeof w=="number"&&console.warn('"quality" will be ignored for "'.concat(I.LO.png,'" mimeType')),v==="image/jpg"&&(v=I.LO.jpg),v!==I.LO.jpg||(u=s.appState)!==null&&u!==void 0&&u.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(I.LO.jpg,'" mimeType')),s=Ec(Ec({},s),{},{appState:Ec(Ec({},s.appState),{},{exportBackground:!0})})),T.next=6,Bw(s);case 6:return y=T.sent,w=w||(/image\/jpe?g/.test(v)?.92:.8),T.abrupt("return",new Promise(function(_){y.toBlob(function(L){_(L)},v,w)}));case 9:case"end":return T.stop()}},l)}));return function(l){return a.apply(this,arguments)}}(),FC=function(){var a=(0,V.Z)(ie().mark(function l(s){var u,d,p,v,w,y,T,_,L;return ie().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return u=s.elements,d=s.appState,p=d===void 0?Js():d,v=s.files,w=v===void 0?{}:v,y=s.exportPadding,T=U1({elements:u,appState:p},null,null),_=T.elements,L=T.appState,R.abrupt("return",$y(ge(_),Ec(Ec({},L),{},{exportPadding:y}),w));case 3:case"end":return R.stop()}},l)}));return function(l){return a.apply(this,arguments)}}();g(9295),g(9781);function zC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function BC(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?zC(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):zC(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var Rj=function(a){var l=a.libItem,s=a.appState,u=a.index,d=a.onChange,p=a.onRemove,v=(0,D.useRef)(null),w=(0,D.useRef)(null);return(0,D.useEffect)(function(){var y=v.current;y&&(0,V.Z)(ie().mark(function T(){var _;return ie().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,FC({elements:l.elements,appState:BC(BC({},s),{},{viewBackgroundColor:fr.white,exportBackground:!0}),files:null});case 2:_=L.sent,y.innerHTML=_.outerHTML;case 4:case"end":return L.stop()}},T)}))()},[l.elements,s]),(0,A.jsxs)("div",{className:"single-library-item",children:[(0,A.jsx)("div",{ref:v,className:"single-library-item__svg"}),(0,A.jsx)(tr,{"aria-label":G("buttons.remove"),type:"button",icon:Da,className:"single-library-item--remove",onClick:p.bind(null,l.id),title:G("buttons.remove")}),(0,A.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0.3rem",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,A.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,A.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,A.jsx)("span",{style:{fontWeight:500,color:fr.gray[6]},children:G("publishDialog.itemName")}),(0,A.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,A.jsx)("input",{type:"text",ref:w,style:{width:"80%",padding:"0.2rem"},defaultValue:l.name,placeholder:"Item name",onChange:function(y){d(y.target.value,u)}})]}),(0,A.jsx)("span",{className:"error",children:l.error})]})]})};function HC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function e2(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?HC(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):HC(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}function Fj(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return UC(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return UC(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function UC(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}var Hw="publish-library-data",zj=function(){var a=(0,V.Z)(ie().mark(function l(s){var u,d,p,v,w,y,T,_,L,R,j,z,K,$,Z,oe,le;return ie().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:u=6,d=128,p=Math.round(d/16),v=Math.max(Math.round(d/64),2),w=zb(s,u),(y=document.createElement("canvas")).width=w[0].length*d+(w[0].length+1)*(2*p)-2*p,y.height=w.length*d+(w.length+1)*(2*p)-2*p,(T=y.getContext("2d")).fillStyle=fr.white,T.fillRect(0,0,y.width,y.height),_=Fj(s.entries()),me.prev=12,_.s();case 14:if((L=_.n()).done){me.next=28;break}return R=W(L.value,2),j=R[0],z=R[1],me.next=18,Bw({elements:z.elements,files:null,maxWidthOrHeight:d});case 18:K=me.sent,$=K.width,Z=K.height,oe=Math.floor(j/u)*(d+2*p),le=j%u*(d+2*p),T.drawImage(K,le+(d-$)/2+p,oe+(d-Z)/2+p),T.lineWidth=v,T.strokeStyle=fr.gray[4],T.strokeRect(le+p/2,oe+p/2,d+p,d+p);case 26:me.next=14;break;case 28:me.next=33;break;case 30:me.prev=30,me.t0=me.catch(12),_.e(me.t0);case 33:return me.prev=33,_.f(),me.finish(33);case 36:return me.t1=Ow,me.t2=File,me.next=40,Tw(y);case 40:return me.t3=me.sent,me.t4=[me.t3],me.t5={type:I.LO.png},me.t6=new me.t2(me.t4,"preview",me.t5),me.t7={outputType:I.LO.jpg,maxWidthOrHeight:5e3},me.next=47,(0,me.t1)(me.t6,me.t7);case 47:return me.abrupt("return",me.sent);case 48:case"end":return me.stop()}},l,null,[[12,30,33,36]])}));return function(l){return a.apply(this,arguments)}}(),Bj=function(a){var l=a.onClose,s=a.libraryItems,u=a.appState,d=a.onSuccess,p=a.onError,v=a.updateItemsInStorage,w=a.onRemove,y=W((0,D.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),2),T=y[0],_=y[1],L=W((0,D.useState)(!1),2),R=L[0],j=L[1];(0,D.useEffect)(function(){var _e=function(){try{var Ie=localStorage.getItem(Hw);if(Ie)return JSON.parse(Ie)}catch(Te){console.error(Te)}return null}();_e&&_(_e)},[]);var z=W((0,D.useState)(s.slice()),2),K=z[0],$=z[1];(0,D.useEffect)(function(){$(s.slice())},[s]);var Z,oe=function(_e){_(e2(e2({},T),{},be({},_e.target.name,_e.target.value)))},le=function(){var _e=(0,V.Z)(ie().mark(function Ie(Te){var $e,He,We,Ee,rt,Xe,qe;return ie().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:if(Te.preventDefault(),j(!0),$e=[],He=!1,K.forEach(function(et){var Le="";et.name||(Le=G("publishDialog.errors.required"),He=!0),$e.push(e2(e2({},et),{},{error:Le}))}),!He){at.next=9;break}return $($e),j(!1),at.abrupt("return");case 9:return at.next=11,zj(K);case 11:We=at.sent,Ee={type:I.r8.excalidrawLibrary,version:I.Kr.excalidrawLibrary,source:I.pb,libraryItems:K},rt=JSON.stringify(Ee,null,2),Xe=new Blob([rt],{type:"application/json"}),(qe=new FormData).append("excalidrawLib",Xe),qe.append("previewImage",We),qe.append("previewImageType",We.type),qe.append("title",T.name),qe.append("authorName",T.authorName),qe.append("githubHandle",T.githubHandle),qe.append("name",T.name),qe.append("description",T.description),qe.append("twitterHandle",T.twitterHandle),qe.append("website",T.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:qe}).then(function(et){return et.ok?et.json().then(function(Le){var dt=Le.url;localStorage.removeItem(Hw),d({url:dt,authorName:T.authorName,items:K})}):et.json().catch(function(){throw new Error(et.statusText||"something went wrong")}).then(function(Le){throw new Error(Le.message||et.statusText||"something went wrong")})},function(et){console.error(et),p(et),j(!1)}).catch(function(et){console.error(et),p(et),j(!1)});case 27:case"end":return at.stop()}},Ie)}));return function(Ie){return _e.apply(this,arguments)}}(),me=(0,D.useCallback)(function(){v(K),function(_e){try{localStorage.setItem(Hw,JSON.stringify(_e))}catch(Ie){console.error(Ie)}}(T),l()},[K,l,v,T]),Ce=!!s.length;return(0,A.jsx)(ps,{onCloseRequest:me,title:G("publishDialog.title"),className:"publish-library",children:Ce?(0,A.jsxs)("form",{onSubmit:le,children:[(0,A.jsxs)("div",{className:"publish-library-note",children:[G("publishDialog.noteDescription.pre"),(0,A.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:G("publishDialog.noteDescription.link")})," ",G("publishDialog.noteDescription.post")]}),(0,A.jsxs)("span",{className:"publish-library-note",children:[G("publishDialog.noteGuidelines.pre"),(0,A.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:G("publishDialog.noteGuidelines.link")}),G("publishDialog.noteGuidelines.post")]}),(0,A.jsx)("div",{className:"publish-library-note",children:G("publishDialog.noteItems")}),(Z=[],K.forEach(function(_e,Ie){Z.push((0,A.jsx)("div",{className:"single-library-item-wrapper",children:(0,A.jsx)(Rj,{libItem:_e,appState:u,index:Ie,onChange:function(Te,$e){var He=K.slice();He[$e].name=Te,$(He)},onRemove:w})},Ie))}),(0,A.jsx)("div",{className:"selected-library-items",children:Z})),(0,A.jsxs)("div",{className:"publish-library__fields",children:[(0,A.jsxs)("label",{children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("span",{children:G("publishDialog.libraryName")}),(0,A.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,A.jsx)("input",{type:"text",name:"name",required:!0,value:T.name,onChange:oe,placeholder:G("publishDialog.placeholder.libraryName")})]}),(0,A.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("span",{children:G("publishDialog.libraryDesc")}),(0,A.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,A.jsx)("textarea",{name:"description",rows:4,required:!0,value:T.description,onChange:oe,placeholder:G("publishDialog.placeholder.libraryDesc")})]}),(0,A.jsxs)("label",{children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("span",{children:G("publishDialog.authorName")}),(0,A.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,A.jsx)("input",{type:"text",name:"authorName",required:!0,value:T.authorName,onChange:oe,placeholder:G("publishDialog.placeholder.authorName")})]}),(0,A.jsxs)("label",{children:[(0,A.jsx)("span",{children:G("publishDialog.githubUsername")}),(0,A.jsx)("input",{type:"text",name:"githubHandle",value:T.githubHandle,onChange:oe,placeholder:G("publishDialog.placeholder.githubHandle")})]}),(0,A.jsxs)("label",{children:[(0,A.jsx)("span",{children:G("publishDialog.twitterUsername")}),(0,A.jsx)("input",{type:"text",name:"twitterHandle",value:T.twitterHandle,onChange:oe,placeholder:G("publishDialog.placeholder.twitterHandle")})]}),(0,A.jsxs)("label",{children:[(0,A.jsx)("span",{children:G("publishDialog.website")}),(0,A.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:G("publishDialog.errors.website"),value:T.website,onChange:oe,placeholder:G("publishDialog.placeholder.website")})]}),(0,A.jsxs)("span",{className:"publish-library-note",children:[G("publishDialog.noteLicense.pre"),(0,A.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:G("publishDialog.noteLicense.link")}),G("publishDialog.noteLicense.post")]})]}),(0,A.jsxs)("div",{className:"publish-library__buttons",children:[(0,A.jsx)(tr,{type:"button",title:G("buttons.cancel"),"aria-label":G("buttons.cancel"),label:G("buttons.cancel"),onClick:me,"data-testid":"cancel-clear-canvas-button",className:"publish-library__buttons--cancel"}),(0,A.jsx)(tr,{type:"submit",title:G("buttons.submit"),"aria-label":G("buttons.submit"),label:G("buttons.submit"),className:"publish-library__buttons--confirm",isLoading:R})]})]}):(0,A.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:G("publishDialog.atleastOneLibItem")})})},Hj=(g(4406),g(2891)),Uj=(g(694),(0,A.jsx)("svg",{viewBox:"0 0 1792 1792",children:(0,A.jsx)("path",{d:"M1600 736v192c0 26.667-9.33 49.333-28 68-18.67 18.67-41.33 28-68 28h-416v416c0 26.67-9.33 49.33-28 68s-41.33 28-68 28H800c-26.667 0-49.333-9.33-68-28s-28-41.33-28-68v-416H288c-26.667 0-49.333-9.33-68-28-18.667-18.667-28-41.333-28-68V736c0-26.667 9.333-49.333 28-68s41.333-28 68-28h416V224c0-26.667 9.333-49.333 28-68s41.333-28 68-28h192c26.67 0 49.33 9.333 68 28s28 41.333 28 68v416h416c26.67 0 49.33 9.333 68 28s28 41.333 28 68Z",style:{stroke:"#fff",strokeWidth:140},transform:"translate(0 64)"})})),Kj=function(a){var l=a.id,s=a.elements,u=a.files,d=a.isPending,p=a.onClick,v=a.selected,w=a.onToggle,y=(0,D.useRef)(null);(0,D.useEffect)(function(){var z=y.current;if(z)return(0,V.Z)(ie().mark(function K(){var $;return ie().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(s){Z.next=2;break}return Z.abrupt("return");case 2:return Z.next=4,$y(s,{exportBackground:!1,viewBackgroundColor:fr.white},u);case 4:$=Z.sent,z.innerHTML=$.outerHTML;case 6:case"end":return Z.stop()}},K)}))(),function(){z.innerHTML=""}},[s,u]);var T=W((0,D.useState)(!1),2),_=T[0],L=T[1],R=go(),j=d&&(0,A.jsx)("div",{className:"library-unit__adder",children:Uj});return(0,A.jsxs)("div",{className:Cr("library-unit",{"library-unit__active":s,"library-unit--hover":s&&_,"library-unit--selected":v}),onMouseEnter:function(){return L(!0)},onMouseLeave:function(){return L(!1)},children:[(0,A.jsx)("div",{className:Cr("library-unit__dragger",{"library-unit__pulse":!!d}),ref:y,draggable:!!s,onClick:s||d?function(z){l&&z.shiftKey?w(l,z):p()}:void 0,onDragStart:function(z){L(!1),z.dataTransfer.setData(I.LO.excalidrawlib,JSON.stringify(s))}}),j,l&&s&&(_||R||v)&&(0,A.jsx)(Xy,{checked:v,onChange:function(z,K){return w(l,K)},className:"library-unit__checkbox"})]})},Wj=(g(6043),function(a){var l,s,u,d=a.libraryItems,p=a.onRemoveFromLibrary,v=a.onAddToLibrary,w=a.onInsertShape,y=a.pendingElements,T=a.theme,_=a.setAppState,L=a.libraryReturnUrl,R=a.library,j=a.files,z=a.id,K=a.selectedItems,$=a.onToggle,Z=a.onPublish,oe=a.resetLibrary,le=(0,D.useCallback)(function(){var qe=K.length?G("alerts.removeItemsFromsLibrary",{count:K.length}):G("alerts.resetLibrary"),at=K.length?G("confirmDialog.removeItemsFromLib"):G("confirmDialog.resetLibrary");return(0,A.jsx)(Ly,{onConfirm:function(){K.length?p():oe(),_e(!1)},onCancel:function(){_e(!1)},title:at,children:(0,A.jsx)("p",{children:qe})})},[K,p,oe]),me=W((0,D.useState)(!1),2),Ce=me[0],_e=me[1],Ie=go(),Te=Ie?4:6,$e=L||window.location.origin+window.location.pathname,He=K.some(function(qe){var at;return((at=d.find(function(et){return et.id===qe}))===null||at===void 0?void 0:at.status)==="published"}),We=function(qe){var at,et,Le,dt,mt;return(0,A.jsx)(gs,{children:(0,A.jsx)(Kj,{elements:(at=qe.item)===null||at===void 0?void 0:at.elements,files:j,isPending:!((et=qe.item)!==null&&et!==void 0&&et.id||(Le=qe.item)===null||Le===void 0||!Le.elements),onClick:qe.onClick||function(){},id:((dt=qe.item)===null||dt===void 0?void 0:dt.id)||null,selected:!((mt=qe.item)===null||mt===void 0||!mt.id)&&K.includes(qe.item.id),onToggle:function(bt,ut){$(bt,ut)}})},qe.key)},Ee=function(qe){var at=qe.map(function(Le){return Le.id?We({item:Le,onClick:function(){return w(Le.elements)},key:Le.id}):We({key:"__pending__item__",item:Le,onClick:function(){return v(y)}})}),et=(0,Hj.chunk)(at,Te);return et.length||(et=[[]]),et.map(function(Le,dt,mt){return dt===mt.length-1&&(Le=Le.concat(new Array(Te-Le.length).fill(null).map(function(bt,ut){return We({key:"empty_".concat(ut),item:null})}))),(0,A.jsx)(Pl,{align:"center",gap:1,children:Le},dt)})},rt=d.filter(function(qe){return qe.status==="published"}),Xe=[].concat(Ne(y.length?[{id:null,elements:y}]:[]),Ne(d.filter(function(qe){return qe.status!=="published"})));return(0,A.jsxs)("div",{className:"library-menu-items-container",children:[Ce&&le(),(0,A.jsxs)("div",{className:"layer-ui__library-header",children:[(l=!!K.length,s=l?d.filter(function(qe){return K.includes(qe.id)}):d,u=G(l?"buttons.remove":"buttons.resetLibrary"),(0,A.jsxs)("div",{className:"library-actions",children:[(!l||!Ie)&&(0,A.jsx)(tr,{type:"button",title:G("buttons.load"),"aria-label":G("buttons.load"),icon:_1,onClick:function(){RN(R).then(function(){_({isLibraryOpen:!1}),_({isLibraryOpen:!0})}).catch(Ri).catch(function(qe){_({errorMessage:qe.message})})},className:"library-actions--load"},"import"),!!s.length&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(tr,{type:"button",title:G("buttons.export"),"aria-label":G("buttons.export"),icon:oy,onClick:(0,V.Z)(ie().mark(function qe(){var at;return ie().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(!l){et.next=4;break}et.t0=s,et.next=7;break;case 4:return et.next=6,R.loadLibrary();case 6:et.t0=et.sent;case 7:at=et.t0,jN(at).catch(Ri).catch(function(Le){_({errorMessage:Le.message})});case 9:case"end":return et.stop()}},qe)})),className:"library-actions--export",children:K.length>0&&(0,A.jsx)("span",{className:"library-actions-counter",children:K.length})},"export"),(0,A.jsx)(tr,{type:"button",title:u,"aria-label":u,icon:Wd,onClick:function(){return _e(!0)},className:"library-actions--remove",children:K.length>0&&(0,A.jsx)("span",{className:"library-actions-counter",children:K.length})},"reset")]}),l&&!He&&(0,A.jsx)(bc,{label:G("hints.publishLibrary"),children:(0,A.jsxs)(tr,{type:"button","aria-label":G("buttons.publishLibrary"),label:G("buttons.publishLibrary"),icon:uw,className:"library-actions--publish",onClick:Z,children:[!Ie&&(0,A.jsx)("label",{children:G("buttons.publishLibrary")}),K.length>0&&(0,A.jsx)("span",{className:"library-actions-counter",children:K.length})]})})]})),(0,A.jsx)("a",{href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat($e,"&useHash=true&token=").concat(z,"&theme=").concat(T,"&version=").concat(I.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:G("labels.libraries")})]},"library-header"),(0,A.jsxs)(gs,{className:"library-menu-items-container__items",align:"start",gap:1,children:[(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:"separator",children:G("labels.personalLib")}),Ee(Xe)]}),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:"separator",children:[G("labels.excalidrawLib")," "]}),Ee(rt)]})]})]})}),$j=function(a,l){return a.filter(function(s){return l.includes(s.id)})},Gj=function(a){var l=a.onClose,s=a.onInsertShape,u=a.pendingElements,d=a.onAddToLibrary,p=a.theme,v=a.setAppState,w=a.files,y=a.libraryReturnUrl,T=a.focusContainer,_=a.library,L=a.id,R=a.appState,j=(0,D.useRef)(null);(function(ut,Dt){(0,D.useEffect)(function(){var lr=function(Ar){ut.current&&(Ar.target instanceof Element&&(ut.current.contains(Ar.target)||!document.body.contains(Ar.target))||Dt(Ar))};return document.addEventListener("pointerdown",lr,!1),function(){document.removeEventListener("pointerdown",lr)}},[ut,Dt])})(j,function(ut){ut.target.closest(".ToolIcon__library")||l()}),(0,D.useEffect)(function(){var ut=function(Dt){Dt.key===Be.ESCAPE&&l()};return document.addEventListener(I.Ks.KEYDOWN,ut),function(){document.removeEventListener(I.Ks.KEYDOWN,ut)}},[l]);var z=W((0,D.useState)([]),2),K=z[0],$=z[1],Z=W((0,D.useState)("preloading"),2),oe=Z[0],le=Z[1],me=W((0,D.useState)([]),2),Ce=me[0],_e=me[1],Ie=W((0,D.useState)(!1),2),Te=Ie[0],$e=Ie[1],He=W((0,D.useState)(null),2),We=He[0],Ee=He[1],rt=(0,D.useRef)(null);(0,D.useEffect)(function(){return Promise.race([new Promise(function(ut){rt.current=window.setTimeout(function(){ut("loading")},100)}),_.loadLibrary().then(function(ut){$(ut),le("ready")})]).then(function(ut){ut==="loading"&&le("loading")}),function(){clearTimeout(rt.current)}},[_]);var Xe=(0,D.useCallback)((0,V.Z)(ie().mark(function ut(){var Dt,lr;return ie().wrap(function(Ar){for(;;)switch(Ar.prev=Ar.next){case 0:return Ar.next=2,_.loadLibrary();case 2:Dt=Ar.sent,lr=Dt.filter(function(Qr){return!Ce.includes(Qr.id)}),_.saveLibrary(lr).catch(function(Qr){$(Dt),v({errorMessage:G("alerts.errorRemovingFromLibrary")})}),_e([]),$(lr);case 7:case"end":return Ar.stop()}},ut)})),[_,v,Ce,_e]),qe=(0,D.useCallback)(function(){_.resetLibrary(),$([]),T()},[_,T]),at=(0,D.useCallback)(function(){var ut=(0,V.Z)(ie().mark(function Dt(lr){var Ar,Qr;return ie().wrap(function(br){for(;;)switch(br.prev=br.next){case 0:if(!lr.some(function(qr){return qr.type==="image"})){br.next=2;break}return br.abrupt("return",v({errorMessage:"Support for adding images to the library coming soon!"}));case 2:return br.next=4,_.loadLibrary();case 4:Ar=br.sent,Qr=[{status:"unpublished",elements:lr,id:zi(),created:Date.now()}].concat(Ne(Ar)),d(),_.saveLibrary(Qr).catch(function(qr){$(Ar),v({errorMessage:G("alerts.errorAddingToLibrary")})}),$(Qr);case 9:case"end":return br.stop()}},Dt)}));return function(Dt){return ut.apply(this,arguments)}}(),[d,_,v]),et=(0,D.useCallback)(function(){return(0,A.jsxs)(ps,{onCloseRequest:function(){return Ee(null)},title:G("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,A.jsxs)("p",{children:[G("publishSuccessDialog.content",{authorName:We.authorName})," ",(0,A.jsx)("a",{href:We==null?void 0:We.url,target:"_blank",rel:"noopener noreferrer",children:G("publishSuccessDialog.link")})]}),(0,A.jsx)(tr,{type:"button",title:G("buttons.close"),"aria-label":G("buttons.close"),label:G("buttons.close"),onClick:function(){return Ee(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[Ee,We]),Le=(0,D.useCallback)(function(ut){$e(!1),Ee({url:ut.url,authorName:ut.authorName});var Dt=K.slice();Dt.forEach(function(lr){Ce.includes(lr.id)&&(lr.status="published")}),_.saveLibrary(Dt),$(Dt)},[$e,Ee,K,Ce,_]),dt=W((0,D.useState)(null),2),mt=dt[0],bt=dt[1];return oe==="preloading"?null:(0,A.jsxs)(Vo,{padding:1,ref:j,className:"layer-ui__library",children:[Te&&(0,A.jsx)(Bj,{onClose:function(){return $e(!1)},libraryItems:$j(K,Ce),appState:R,onSuccess:Le,onError:function(ut){return window.alert(ut)},updateItemsInStorage:function(){return _.saveLibrary(K)},onRemove:function(ut){return _e(Ce.filter(function(Dt){return Dt!==ut}))}}),We&&et(),oe==="loading"?(0,A.jsx)("div",{className:"layer-ui__library-message",children:G("labels.libraryLoadingMessage")}):(0,A.jsx)(Wj,{libraryItems:K,onRemoveFromLibrary:Xe,onAddToLibrary:at,onInsertShape:s,pendingElements:u,setAppState:v,libraryReturnUrl:y,library:_,theme:p,files:w,id:L,selectedItems:Ce,onToggle:function(ut,Dt){if(Ce.includes(ut))bt(null),_e(Ce.filter(function(qr){return qr!==ut}));else{if(Dt.shiftKey&&mt){var lr=K.findIndex(function(qr){return qr.id===mt}),Ar=K.findIndex(function(qr){return qr.id===ut});if(lr===-1||Ar===-1)return void _e([].concat(Ne(Ce),[ut]));var Qr=Ia(Ce),br=K.reduce(function(qr,hr,un){return(un>=lr&&un<=Ar||Qr.has(hr.id))&&qr.push(hr.id),qr},[]);_e(br)}else _e([].concat(Ne(Ce),[ut]));bt(ut)}},onPublish:function(){return $e(!0)},resetLibrary:qe})]})},Vj=(g(3336),g(276),["suggestedBindings","startBoundElement"]);function KC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}var qj=function(a){var l,s=a.actionManager,u=a.appState,d=a.files,p=a.setAppState,v=a.canvas,w=a.elements,y=a.onCollabButtonClick,T=a.onLockToggle,_=a.onPenModeToggle,L=a.onInsertElements,R=a.zenModeEnabled,j=a.showExitZenModeBtn,z=a.showThemeBtn,K=a.toggleZenMode,$=a.isCollaborating,Z=a.renderTopRightUI,oe=a.renderCustomFooter,le=a.viewModeEnabled,me=a.libraryReturnUrl,Ce=a.UIOptions,_e=a.focusContainer,Ie=a.library,Te=a.id,$e=a.onImageAction,He=go(),We=function(){return Ce.canvasActions.export?(0,A.jsx)(Nj,{elements:w,appState:u,files:d,actionManager:s,exportOpts:Ce.canvasActions.export,canvas:v}):null},Ee=function(){if(!Ce.canvasActions.saveAsImage)return null;var Le=function(dt){return function(){var mt=(0,V.Z)(ie().mark(function bt(ut){var Dt;return ie().wrap(function(lr){for(;;)switch(lr.prev=lr.next){case 0:return lr.next=2,Yy(dt,ut,u,d,{exportBackground:u.exportBackground,name:u.name,viewBackgroundColor:u.viewBackgroundColor}).catch(Ri).catch(function(Ar){console.error(Ar),p({errorMessage:Ar.message})});case 2:Dt=lr.sent,u.exportEmbedScene&&Dt&&_w(Dt)&&p({fileHandle:Dt});case 4:case"end":return lr.stop()}},bt)}));return function(bt){return mt.apply(this,arguments)}}()};return(0,A.jsx)(Sj,{elements:w,appState:u,files:d,actionManager:s,onExportToPng:Le("png"),onExportToSvg:Le("svg"),onExportToClipboard:Le("clipboard")})},rt=function(){return(0,A.jsx)("div",{style:{width:".625em"}})},Xe=(0,D.useCallback)(function(){document.querySelector(".Dialog")||p({isLibraryOpen:!1})},[p]),qe=(0,D.useCallback)(function(){p({selectedElementIds:{},selectedGroupIds:{}})},[p]),at=u.isLibraryOpen?(0,A.jsx)(Gj,{pendingElements:Re(w,u,!0),onClose:Xe,onInsertShape:L,onAddToLibrary:qe,setAppState:p,libraryReturnUrl:me,focusContainer:_e,library:Ie,theme:u.theme,files:d,id:Te,appState:u}):null,et=(0,A.jsxs)(A.Fragment,{children:[u.isLoading&&(0,A.jsx)(zt,{}),u.errorMessage&&(0,A.jsx)(wj,{message:u.errorMessage,onClose:function(){return p({errorMessage:null})}}),u.showHelpDialog&&(0,A.jsx)(Lj,{onClose:function(){p({showHelpDialog:!1})}}),u.pasteDialog.shown&&(0,A.jsx)(Oj,{setAppState:p,appState:u,onInsertChart:L,onClose:function(){return p({pasteDialog:{shown:!1,data:null}})}})]});return He?(0,A.jsxs)(A.Fragment,{children:[et,(0,A.jsx)(Tj,{appState:u,elements:w,actionManager:s,libraryMenu:at,renderJSONExportDialog:We,renderImageExportDialog:Ee,setAppState:p,onCollabButtonClick:y,onLockToggle:T,onPenModeToggle:_,canvas:v,isCollaborating:$,renderCustomFooter:oe,viewModeEnabled:le,showThemeBtn:z,onImageAction:$e,renderTopRightUI:Z})]}):(0,A.jsxs)("div",{className:Cr("layer-ui__wrapper",{"disable-pointerEvents":u.draggingElement||u.resizingElement||u.editingElement&&!Lr(u.editingElement)}),children:[et,(l=H(u,w),(0,A.jsx)(xC,{side:"top",children:(0,A.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,A.jsxs)(gs,{gap:4,className:Cr({"disable-pointerEvents":R}),children:[le?(0,A.jsx)(Sc,{heading:"canvasActions",className:Cr("zen-mode-transition",{"transition-left":R}),children:(0,A.jsx)(Vo,{padding:2,style:{zIndex:1},children:(0,A.jsx)(gs,{gap:4,children:(0,A.jsxs)(Pl,{gap:1,justifyContent:"space-between",children:[We(),Ee()]})})})}):(0,A.jsx)(Sc,{heading:"canvasActions",className:Cr("zen-mode-transition",{"transition-left":R}),children:(0,A.jsx)(Vo,{padding:2,style:{zIndex:1},children:(0,A.jsxs)(gs,{gap:4,children:[(0,A.jsxs)(Pl,{gap:1,justifyContent:"space-between",children:[s.renderAction("clearCanvas"),(0,A.jsx)(rt,{}),s.renderAction("loadScene"),We(),Ee(),(0,A.jsx)(rt,{}),y&&(0,A.jsx)(bC,{isCollaborating:$,collaboratorCount:u.collaborators.size,onClick:y})]}),(0,A.jsx)(yC,{actionManager:s,appState:u,setAppState:p,showThemeBtn:z}),u.fileHandle&&(0,A.jsx)(A.Fragment,{children:s.renderAction("saveToActiveFile")})]})})}),l&&(0,A.jsx)(Sc,{heading:"selectedShapeActions",className:Cr("zen-mode-transition",{"transition-left":R}),children:(0,A.jsx)(Vo,{className:I.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(u.height-(u.fileHandle?248:200),"px")},children:(0,A.jsx)(vC,{appState:u,elements:w,renderAction:s.renderAction,elementType:u.elementType})})})]}),!le&&(0,A.jsx)(Sc,{heading:"shapes",children:function(Le){return(0,A.jsxs)(gs,{gap:4,align:"start",children:[(0,A.jsxs)(Pl,{gap:1,className:Cr("App-toolbar-container",{"zen-mode":R}),children:[(0,A.jsx)(IC,{zenModeEnabled:R,checked:u.penMode,onChange:_,title:G("toolBar.penMode"),penDetected:u.penDetected}),(0,A.jsx)(SC,{zenModeEnabled:R,checked:u.elementLocked,onChange:T,title:G("toolBar.lock")}),(0,A.jsxs)(Vo,{padding:1,className:Cr("App-toolbar",{"zen-mode":R}),children:[(0,A.jsx)(kC,{appState:u,elements:w,isMobile:He}),Le,(0,A.jsx)(Pl,{gap:1,children:(0,A.jsx)(gC,{canvas:v,elementType:u.elementType,setAppState:p,onImageAction:function(dt){var mt=dt.pointerType;$e({insertOnCanvasDirectly:mt!=="mouse"})}})})]}),(0,A.jsx)(OC,{appState:u,setAppState:p})]}),at]})}}),(0,A.jsxs)("div",{className:Cr("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":R}),children:[(0,A.jsx)(TC,{children:u.collaborators.size>0&&Array.from(u.collaborators).filter(function(Le){var dt=W(Le,2),mt=(dt[0],dt[1]);return Object.keys(mt).length!==0}).map(function(Le){var dt=W(Le,2),mt=dt[0],bt=dt[1];return(0,A.jsx)(bc,{label:bt.username||"Unknown user",children:s.renderAction("goToCollaborator",{id:mt})},mt)})}),Z==null?void 0:Z(He,u)]})]})})),(0,A.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,A.jsx)("div",{className:Cr("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":R}),children:(0,A.jsx)(gs,{gap:2,children:(0,A.jsxs)(Sc,{heading:"canvasActions",children:[(0,A.jsx)(Vo,{padding:1,children:(0,A.jsx)(bj,{renderAction:s.renderAction,zoom:u.zoom})}),!le&&(0,A.jsxs)("div",{className:Cr("undo-redo-buttons zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":R}),children:[s.renderAction("undo",{size:"small"}),s.renderAction("redo",{size:"small"})]})]})})}),(0,A.jsx)("div",{className:Cr("layer-ui__wrapper__footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":R}),children:oe==null?void 0:oe(!1,u)}),(0,A.jsx)("div",{className:Cr("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":R}),children:s.renderAction("toggleShortcuts")}),(0,A.jsx)("button",{className:Cr("disable-zen-mode",{"disable-zen-mode--visible":j}),onClick:K,children:G("buttons.exitZenMode")})]}),u.scrolledOutside&&(0,A.jsx)("button",{className:"scroll-back-to-content",onClick:function(){p(function(Le){for(var dt=1;dt<arguments.length;dt++){var mt=arguments[dt]!=null?arguments[dt]:{};dt%2?KC(Object(mt),!0).forEach(function(bt){be(Le,bt,mt[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Le,Object.getOwnPropertyDescriptors(mt)):KC(Object(mt)).forEach(function(bt){Object.defineProperty(Le,bt,Object.getOwnPropertyDescriptor(mt,bt))})}return Le}({},la(w,u)))},children:G("buttons.scrollBackToContent")})]})},Yj=function(a,l){var s=function(v){return v.suggestedBindings,v.startBoundElement,oc(v,Vj)},u=s(a.appState),d=s(l.appState),p=Object.keys(u);return a.renderCustomFooter===l.renderCustomFooter&&a.langCode===l.langCode&&a.elements===l.elements&&a.files===l.files&&p.every(function(v){return u[v]===d[v]})},Xj=F().memo(qj,Yj),Zj=(g(1528),function(a){var l,s=go(),u=qn(a.elements),d=$t(a.elements,a.appState),p=qn(d);return s&&a.appState.openMenu?null:(0,A.jsx)("div",{className:"Stats",children:(0,A.jsxs)(Vo,{padding:2,children:[(0,A.jsx)("div",{className:"close",onClick:a.onClose,children:Da}),(0,A.jsx)("h3",{children:G("stats.title")}),(0,A.jsx)("table",{children:(0,A.jsxs)("tbody",{children:[(0,A.jsx)("tr",{children:(0,A.jsx)("th",{colSpan:2,children:G("stats.scene")})}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:G("stats.elements")}),(0,A.jsx)("td",{children:a.elements.length})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:G("stats.width")}),(0,A.jsx)("td",{children:Math.round(u[2])-Math.round(u[0])})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:G("stats.height")}),(0,A.jsx)("td",{children:Math.round(u[3])-Math.round(u[1])})]}),d.length===1&&(0,A.jsx)("tr",{children:(0,A.jsx)("th",{colSpan:2,children:G("stats.element")})}),d.length>1&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("tr",{children:(0,A.jsx)("th",{colSpan:2,children:G("stats.selected")})}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:G("stats.elements")}),(0,A.jsx)("td",{children:d.length})]})]}),d.length>0&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:"x"}),(0,A.jsx)("td",{children:Math.round(p[0])})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:"y"}),(0,A.jsx)("td",{children:Math.round(p[1])})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:G("stats.width")}),(0,A.jsx)("td",{children:Math.round(p[2]-p[0])})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:G("stats.height")}),(0,A.jsx)("td",{children:Math.round(p[3]-p[1])})]})]}),d.length===1&&(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:G("stats.angle")}),(0,A.jsx)("td",{children:"".concat(Math.round(180*d[0].angle/Math.PI),"\xB0")})]}),(l=a.renderCustomStats)===null||l===void 0?void 0:l.call(a,a.elements,a.appState)]})})]})})}),Qj=(g(9757),function(a){var l=a.message,s=a.clearToast,u=(0,D.useRef)(0),d=(0,D.useCallback)(function(){return u.current=window.setTimeout(function(){return s()},I.Lg)},[s]);return(0,D.useEffect)(function(){return d(),function(){return clearTimeout(u.current)}},[d,l]),(0,A.jsx)("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(u==null?void 0:u.current)},onMouseLeave:d,children:(0,A.jsx)("p",{className:"Toast__message",children:l})})});function WC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function $C(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?WC(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):WC(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var GC=Ct({name:"viewMode",perform:function(a,l){return dh("view","mode","view"),{appState:$C($C({},l),{},{viewModeEnabled:!this.checked(l)}),commitToHistory:!1}},checked:function(a){return a.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(a){return!a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===_0}}),Jj=g(200),eR=g.n(Jj);function VC(a,l){var s=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!s){if(Array.isArray(a)||(s=function(y,T){if(!!y){if(typeof y=="string")return qC(y,T);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return qC(y,T)}}(a))||l&&a&&typeof a.length=="number"){s&&(a=s);var u=0,d=function(){};return{s:d,n:function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,v=!0,w=!1;return{s:function(){s=s.call(a)},n:function(){var y=s.next();return v=y.done,y},e:function(y){w=!0,p=y},f:function(){try{v||s.return==null||s.return()}finally{if(w)throw p}}}}function qC(a,l){(l==null||l>a.length)&&(l=a.length);for(var s=0,u=new Array(l);s<l;s++)u[s]=a[s];return u}function YC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function ft(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?YC(Object(s),!0).forEach(function(u){be(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):YC(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}function tR(a){var l=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,u=Jr(a);if(l){var d=Jr(this).constructor;s=Reflect.construct(u,arguments,d)}else s=u.apply(this,arguments);return Xr(this,s)}}var XC=F().createContext(!1),go=function(){return(0,D.useContext)(XC)},ZC=F().createContext({container:null,id:null}),wh=function(){return(0,D.useContext)(ZC)},G1=!1,Uw=0,xf=0,kf=0,Cf=!1,V1=!1,Kw=!1,Ww={horizontal:null,vertical:null},_c=0,q1=!1,Tc=null,Wr={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},$w=function(a){yr(d,a);var l,s,u=tR(d);function d(p){var v;Ke(this,d),v=u.call(this,p),rR.call(kt(v));var w,y=Js(),T=p.excalidrawRef,_=p.viewModeEnabled,L=_!==void 0&&_,R=p.zenModeEnabled,j=R!==void 0&&R,z=p.gridModeEnabled,K=z!==void 0&&z,$=p.theme,Z=$===void 0?y.theme:$,oe=p.name,le=oe===void 0?y.name:oe;if(v.state=ft(ft(ft({},y),{},{theme:Z,isLoading:!0},v.getCanvasOffsets()),{},{viewModeEnabled:L,zenModeEnabled:j,gridSize:K?I.k:null,name:le,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1}),v.id=Vl(),T){var me,Ce="current"in T&&((me=T.current)===null||me===void 0?void 0:me.readyPromise)||function(){var Ie,Te,$e=new Promise(function(He,We){Ie=He,Te=We});return $e.resolve=Ie,$e.reject=Te,$e}(),_e={ready:!0,readyPromise:Ce,updateScene:v.updateScene,addFiles:v.addFiles,resetScene:v.resetScene,getSceneElementsIncludingDeleted:v.getSceneElementsIncludingDeleted,history:{clear:v.resetHistory},scrollToContent:v.scrollToContent,getSceneElements:v.getSceneElements,getAppState:function(){return v.state},getFiles:function(){return v.files},refresh:v.refresh,importLibrary:v.importLibraryFromUrl,setToastMessage:v.setToastMessage,id:v.id};typeof T=="function"?T(_e):T.current=_e,Ce.resolve(_e)}return v.excalidrawContainerValue={container:v.excalidrawContainerRef.current,id:v.id},v.scene=new mn,v.library=new hj(kt(v)),v.history=new mj,v.actionManager=new cj(v.syncActionResult,function(){return v.state},function(){return v.scene.getElementsIncludingDeleted()},kt(v)),v.actionManager.registerAll(Jd),v.actionManager.registerAction((w=v.history,{name:"undo",perform:function(Ie,Te){return iC(Ie,Te,function(){return w.undoOnce()})},keyTest:function(Ie){return Ie[Be.CTRL_OR_CMD]&&Ie.key.toLowerCase()===Be.Z&&!Ie.shiftKey},PanelComponent:function(Ie){var Te=Ie.updateData,$e=Ie.data;return(0,A.jsx)(tr,{type:"button",icon:uy,"aria-label":G("buttons.undo"),onClick:Te,size:($e==null?void 0:$e.size)||"medium"})},commitToHistory:function(){return!1}})),v.actionManager.registerAction(function(Ie){return{name:"redo",perform:function(Te,$e){return iC(Te,$e,function(){return Ie.redoOnce()})},keyTest:function(Te){return Te[Be.CTRL_OR_CMD]&&Te.shiftKey&&Te.key.toLowerCase()===Be.Z||E0&&Te.ctrlKey&&!Te.shiftKey&&Te.key===Be.Y},PanelComponent:function(Te){var $e=Te.updateData,He=Te.data;return(0,A.jsx)(tr,{type:"button",icon:cy,"aria-label":G("buttons.redo"),onClick:$e,size:(He==null?void 0:He.size)||"medium"})},commitToHistory:function(){return!1}}}(v.history)),v}return At(d,[{key:"renderCanvas",value:function(){var p=window.devicePixelRatio,v=this.state,w=v.width,y=v.height,T=w*p,_=y*p;return v.viewModeEnabled?(0,A.jsx)("canvas",{className:"excalidraw__canvas",style:{width:w,height:y,cursor:I.oc.GRAB},width:T,height:_,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:G("labels.drawingCanvas")}):(0,A.jsx)("canvas",{className:"excalidraw__canvas",style:{width:w,height:y},width:T,height:_,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:G("labels.drawingCanvas")})}},{key:"render",value:function(){var p,v,w=this,y=this.state,T=y.zenModeEnabled,_=y.viewModeEnabled,L=Re(this.scene.getElements(),this.state),R=this.props,j=R.onCollabButtonClick,z=R.renderTopRightUI,K=R.renderFooter,$=R.renderCustomStats;return(0,A.jsx)("div",{className:Cr("excalidraw excalidraw-container",{"excalidraw--view-mode":_,"excalidraw--mobile":this.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,A.jsx)(ZC.Provider,{value:this.excalidrawContainerValue,children:(0,A.jsxs)(XC.Provider,{value:this.isMobile,children:[(0,A.jsx)(Xj,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:j,onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onInsertElements:function(Z){return w.addElementsFromPasteOrLibrary({elements:Z,position:"center",files:null})},zenModeEnabled:T,toggleZenMode:this.toggleZenMode,langCode:ze().code,isCollaborating:this.props.isCollaborating,renderTopRightUI:z,renderCustomFooter:K,viewModeEnabled:_,showExitZenModeBtn:((p=this.props)===null||p===void 0?void 0:p.zenModeEnabled)===void 0&&T,showThemeBtn:((v=this.props)===null||v===void 0?void 0:v.theme)===void 0&&this.props.UIOptions.canvasActions.theme,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction}),(0,A.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,A.jsx)("div",{className:"excalidraw-contextMenuContainer"}),L.length===1&&this.state.showHyperlinkPopup&&(0,A.jsx)(sN,{element:L[0],appState:this.state,setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},L[0].id),this.state.showStats&&(0,A.jsx)(Zj,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats,renderCustomStats:$}),this.state.toastMessage!==null&&(0,A.jsx)(Qj,{message:this.state.toastMessage,clearToast:this.clearToast}),(0,A.jsx)("main",{children:this.renderCanvas()})]})})})}},{key:"componentDidMount",value:(s=(0,V.Z)(ie().mark(function p(){var v,w,y,T,_=this;return ie().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,I.Vi.TEST!=="production"&&I.Vi.DEVELOPMENT!=="production"||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return _.state}},setState:{configurable:!0,value:function(){return _.setState.apply(_,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),"ResizeObserver"in window&&(v=this.excalidrawContainerRef)!==null&&v!==void 0&&v.current?(this.resizeObserver=new ResizeObserver(function(){var R=_.excalidrawContainerRef.current.getBoundingClientRect(),j=R.width,z=R.height;_.isMobile=j<I.kV||z<I.Yx&&j<I.sS,_.updateDOMRect()}),(w=this.resizeObserver)===null||w===void 0||w.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(y=window.matchMedia("(max-width: ".concat(I.kV,"px), (max-height: ").concat(I.Yx,"px) and (max-width: ").concat(I.sS,"px)")),T=function(){return _.isMobile=y.matches},y.addListener(T),this.detachIsMobileMqHandler=function(){return y.removeListener(T)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene);case 9:case"end":return L.stop()}},p,this)})),function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var p;this.files={},this.imageCache.clear(),(p=this.resizeObserver)===null||p===void 0||p.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(_c),_c=0}},{key:"removeEventListeners",value:function(){var p,v,w,y;document.removeEventListener(I.Ks.POINTER_UP,this.removePointer),document.removeEventListener(I.Ks.COPY,this.onCopy),document.removeEventListener(I.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(I.Ks.CUT,this.onCut),(p=this.nearestScrollableContainer)===null||p===void 0||p.removeEventListener(I.Ks.SCROLL,this.onScroll),document.removeEventListener(I.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(I.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(I.Ks.KEYUP,this.onKeyUp),window.removeEventListener(I.Ks.RESIZE,this.onResize,!1),window.removeEventListener(I.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(I.Ks.BLUR,this.onBlur,!1),(v=this.excalidrawContainerRef.current)===null||v===void 0||v.removeEventListener(I.Ks.DRAG_OVER,this.disableEvent,!1),(w=this.excalidrawContainerRef.current)===null||w===void 0||w.removeEventListener(I.Ks.DROP,this.disableEvent,!1),document.removeEventListener(I.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(I.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(I.Ks.GESTURE_END,this.onGestureEnd,!1),(y=this.detachIsMobileMqHandler)===null||y===void 0||y.call(this)}},{key:"addEventListeners",value:function(){var p,v,w,y;this.removeEventListeners(),document.addEventListener(I.Ks.POINTER_UP,this.removePointer),document.addEventListener(I.Ks.COPY,this.onCopy),this.props.handleKeyboardGlobally&&document.addEventListener(I.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(I.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(I.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(p=document.fonts)===null||p===void 0||(v=p.addEventListener)===null||v===void 0||v.call(p,"loadingdone",this.onFontLoaded),document.addEventListener(I.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(I.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(I.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(I.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(I.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=function(T){for(var _=T.parentElement;_;){if(_===document.body)return document;var L=window.getComputedStyle(_).overflowY;if(_.scrollHeight>_.clientHeight&&(L==="auto"||L==="scroll"))return _;_=_.parentElement}return document}(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(I.Ks.SCROLL,this.onScroll)),window.addEventListener(I.Ks.RESIZE,this.onResize,!1),window.addEventListener(I.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(I.Ks.BLUR,this.onBlur,!1),(w=this.excalidrawContainerRef.current)===null||w===void 0||w.addEventListener(I.Ks.DRAG_OVER,this.disableEvent,!1),(y=this.excalidrawContainerRef.current)===null||y===void 0||y.addEventListener(I.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(p,v){var w,y=this;v.elementType==="selection"&&this.state.elementType!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),p.langCode!==this.props.langCode&&this.updateLanguage(),p.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),v.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),p.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),p.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),p.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?I.k:null}),this.props.name&&p.name!==this.props.name&&this.setState({name:this.props.name}),(w=this.excalidrawContainerRef.current)===null||w===void 0||w.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){y.actionManager.executeAction(vs)});var T=v.multiElement;v.elementType!==this.state.elementType&&T!=null&&ss(this.state)&&hi(T)&&lf(T,this.state,this.scene,sn(Ur.getPointAtIndexGlobalCoordinates(T,-1)));var _={},L={},R={},j={},z={};this.state.collaborators.forEach(function(_e,Ie){if(_e.selectedElementIds)for(var Te=0,$e=Object.keys(_e.selectedElementIds);Te<$e.length;Te++){var He=$e[Te];He in R||(R[He]=[]),R[He].push(Ie)}_e.pointer&&(_e.username&&(j[Ie]=_e.username),_e.userState&&(z[Ie]=_e.userState),L[Ie]=Ge({sceneX:_e.pointer.x,sceneY:_e.pointer.y},y.state),_[Ie]=_e.button)});var K=this.scene.getElements().filter(function(_e){return(!Yu(_e)||!y.state.pendingImageElement||_e.id!==y.state.pendingImageElement.id)&&(!y.state.editingElement||y.state.editingElement.type!=="text"||_e.id!==y.state.editingElement.id)}),$=Ik(K,this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:L,remotePointerButton:_,remoteSelectedElementIds:R,remotePointerUsernames:j,remotePointerUserStates:z,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom,theme:this.state.theme,imageCache:this.imageCache,isExporting:!1,renderScrollbars:!this.isMobile}),Z=$.atLeastOneVisibleElement,oe=$.scrollBars;oe&&(Ww=oe);var le,me,Ce=!Lr(this.state.editingElement)&&!Z&&K.length>0;this.state.scrolledOutside!==Ce&&this.setState({scrolledOutside:Ce}),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.scheduleImageRefresh(),this.state.isLoading||(le=(me=this.props).onChange)===null||le===void 0||le.call(me,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(p){var v=je({clientX:xf,clientY:kf},this.state),w=v.x,y=v.y,T=lu({x:w,y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:p,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:I.hs});this.scene.replaceAllElements([].concat(Ne(this.scene.getElementsIncludingDeleted()),[T])),this.setState({selectedElementIds:be({},T.id,!0)}),this.history.resumeRecording()}},{key:"selectShapeTool",value:function(p){var v;Cf||Jl(this.canvas,p),(v=document.activeElement)instanceof HTMLElement&&v.className.includes("ToolIcon")&&this.focusContainer(),ql(p)||this.setState({suggestedBindings:[]}),p==="image"&&this.onImageAction(),p!=="selection"?this.setState({elementType:p,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:p})}},{key:"handleTextWysiwyg",value:function(p,v){var w=this,y=v.isExistingElement,T=y!==void 0&&y,_=function(L,R,j){w.scene.replaceAllElements(Ne(w.scene.getElementsIncludingDeleted().map(function(z){return z.id===p.id&&Lr(z)?xg(z,{text:L,isDeleted:j,originalText:R}):z})))};M({id:p.id,canvas:this.canvas,getViewportCoords:function(L,R){var j=Ge({sceneX:L,sceneY:R},w.state),z=j.x,K=j.y;return[z-w.state.offsetLeft,K-w.state.offsetTop]},onChange:pn(function(L){_(L,L,!1),Ye(p)&&us(p)}),onSubmit:pn(function(L){var R=L.text,j=L.viaKeyboard,z=L.originalText,K=!R.trim();if(_(R,z,K),!K&&j){var $=p.containerId?p.containerId:p.id;w.setState(function(Z){return{selectedElementIds:ft(ft({},Z.selectedElementIds),{},be({},$,!0))}})}K&&C1(w.scene.getElements(),[p]),K&&!T||w.history.resumeRecording(),w.setState({draggingElement:null,editingElement:null}),w.state.elementLocked&&Jl(w.canvas,w.state.elementType),w.focusContainer()}),element:p,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),_(p.text,p.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(p,v){var w=this.getElementAtPosition(p,v,{includeBoundTextElement:!0});return w&&Lr(w)&&!w.isDeleted?w:null}},{key:"getElementAtPosition",value:function(p,v,w){var y=this.getElementsAtPosition(p,v,w==null?void 0:w.includeBoundTextElement);if(y.length>1){if(w!=null&&w.preferSelected){for(var T=y.length-1;T>-1;T--)if(this.state.selectedElementIds[y[T].id])return y[T]}var _=y[y.length-1];return jd(_,this.state,p,v)?y[y.length-2]:_}return y.length===1?y[0]:null}},{key:"getElementsAtPosition",value:function(p,v){var w=this,y=arguments.length>2&&arguments[2]!==void 0&&arguments[2],T=y?this.scene.getElements():this.scene.getElements().filter(function(_){return!(Lr(_)&&_.containerId)});return cw(T,function(_){return _g(_,w.state,p,v)})}},{key:"maybeCleanupAfterMissingPointerUp",value:function(p){Tc!==null&&Tc(p)}},{key:"updateGestureOnPointerDown",value:function(p){Wr.pointers.set(p.pointerId,{x:p.clientX,y:p.clientY}),Wr.pointers.size===2&&(Wr.lastCenter=uC(Wr.pointers),Wr.initialScale=this.state.zoom.value,Wr.initialDistance=cC(Array.from(Wr.pointers.values())))}},{key:"initialPointerDownState",value:function(p){var v=je(p,this.state),w=Re(this.scene.getElements(),this.state),y=W(qn(w),4),T=y[0],_=y[1],L=y[2],R=y[3];return{origin:v,withCmdOrCtrl:p[Be.CTRL_OR_CMD],originInGrid:sn(ji(v.x,v.y,this.state.gridSize)),scrollbars:Mt(Ww,p.clientX-this.state.offsetLeft,p.clientY-this.state.offsetTop),lastCoords:ft({},v),originalElements:this.scene.getElements().reduce(function(j,z){return j.set(z.id,uu(z)),j},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(L+T)/2,y:(R+_)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(v,w),hasHitElementInside:!1},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1}}}},{key:"handleDraggingScrollBar",value:function(p,v){var w=this;if(!v.scrollbars.isOverEither||this.state.multiElement)return!1;Kw=!0,v.lastCoords.x=p.clientX,v.lastCoords.y=p.clientY;var y=Zp(function(_){_.target instanceof HTMLElement&&w.handlePointerMoveOverScrollbars(_,v)}),T=pn(function(){Kw=!1,Jl(w.canvas,w.state.elementType),Tc=null,w.setState({cursorButton:"up"}),w.savePointer(p.clientX,p.clientY,"up"),window.removeEventListener(I.Ks.POINTER_MOVE,y),window.removeEventListener(I.Ks.POINTER_UP,T),y.flush()});return Tc=T,window.addEventListener(I.Ks.POINTER_MOVE,y),window.addEventListener(I.Ks.POINTER_UP,T),!0}},{key:"isASelectedElement",value:function(p){return p!=null&&this.state.selectedElementIds[p.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(p,v){if(v.length<2)return!1;var w=10/this.state.zoom.value,y=W(qn(v),4),T=y[0],_=y[1],L=y[2],R=y[3];return p.x>T-w&&p.x<L+w&&p.y>_-w&&p.y<R+w}},{key:"onKeyDownFromPointerDownHandler",value:function(p){var v=this;return pn(function(w){v.maybeHandleResize(p,w)||v.maybeDragNewGenericElement(p,w)})}},{key:"onKeyUpFromPointerDownHandler",value:function(p){var v=this;return pn(function(w){w.key===Be.ALT&&w.preventDefault(),v.maybeHandleResize(p,w)||v.maybeDragNewGenericElement(p,w)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(p){var v=this;return Zp(function(w){var y,T;if(p.drag.offset===null&&(p.drag.offset=sn(function(ot,Lt,Ft){var rr=W(qn(ot),2);return[Lt-rr[0],Ft-rr[1]]}(Re(v.scene.getElements(),v.state),p.origin.x,p.origin.y))),w.target instanceof HTMLElement&&!v.handlePointerMoveOverScrollbars(w,p)){var _=je(w,v.state),L=W(ji(_.x,_.y,v.state.gridSize),2),R=L[0],j=L[1];if(p.drag.hasOccurred||v.state.elementType!=="arrow"&&v.state.elementType!=="line"||!(Ni(_.x,_.y,p.origin.x,p.origin.y)<I.f)){if(p.resize.isResizing&&(p.lastCoords.x=_.x,p.lastCoords.y=_.y,v.maybeHandleResize(p,w)))return!0;if(v.state.editingLinearElement){var z=Ur.handlePointDragging(v.state,function(ot){return v.setState(ot)},_.x,_.y,function(ot,Lt){v.maybeSuggestBindingsForLinearElementAtCoords(ot,Lt)});if(z)return p.lastCoords.x=_.x,void(p.lastCoords.y=_.y)}var K=p.hit.allHitElements.some(function(ot){return v.isASelectedElement(ot)});if((K||p.hit.hasHitCommonBoundingBoxOfSelectedElements)&&(!v.state.editingLinearElement||!w.shiftKey)&&(!v.state.editingLinearElement||((y=v.state.editingLinearElement)===null||y===void 0?void 0:y.elementId)!==((T=p.hit.element)===null||T===void 0?void 0:T.id)||p.hit.hasHitElementInside)){p.drag.hasOccurred=!0;var $=Re(v.scene.getElements(),v.state);if($.length>0&&!p.withCmdOrCtrl){var Z=W(ji(_.x-p.drag.offset.x,_.y-p.drag.offset.y,v.state.gridSize),2),oe=Z[0],le=Z[1],me=[Math.abs(_.x-p.origin.x),Math.abs(_.y-p.origin.y)],Ce=me[0],_e=me[1],Ie=w.shiftKey;if(function(ot,Lt,Ft,rr){var zr=arguments.length>4&&arguments[4]!==void 0&&arguments[4],cn=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,Mr=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,On=arguments.length>7?arguments[7]:void 0,bi=W(qn(Lt),2),Sf=bi[0],Nl=bi[1],jl={x:Ft-Sf,y:rr-Nl};Lt.forEach(function(Gi){if(Zg(zr,cn,Mr,ot,Gi,jl),!Gi.groupIds.length||On.editingGroupId&&!wa(On,Gi)){var Oc=ei(Gi);if(Oc){var Xo=mn.getScene(Gi).getElement(Oc);Zg(zr,cn,Mr,ot,Xo,jl)}}us(Gi,{simultaneouslyUpdated:Lt})})}(p,$,oe,le,Ie,Ce,_e,v.state),v.maybeSuggestBindingForAll($),w.altKey&&!p.hit.hasBeenDuplicated){p.hit.hasBeenDuplicated=!0;var Te,$e=[],He=[],We=new Map,Ee=new Map,rt=p.hit.element,Xe=v.scene.getElementsIncludingDeleted(),qe=Re(Xe,v.state,!0).map(function(ot){return ot.id}),at=VC(Xe);try{for(at.s();!(Te=at.n()).done;){var et=Te.value;if(qe.includes(et.id)||et.id===(rt==null?void 0:rt.id)&&p.hit.wasAddedToSelection){var Le=Ld(v.state.editingGroupId,We,et),dt=W(ji(p.origin.x-p.drag.offset.x,p.origin.y-p.drag.offset.y,v.state.gridSize),2),mt=dt[0],bt=dt[1];vt(Le,{x:Le.x+(mt-oe),y:Le.y+(bt-le)}),$e.push(Le),He.push(et),Ee.set(et.id,Le.id)}else $e.push(et)}}catch(ot){at.e(ot)}finally{at.f()}var ut=[].concat($e,He);Rn($e,He,Ee),Il(ut,He,Ee,"duplicatesServeAsOld"),v.scene.replaceAllElements(ut)}return}}var Dt=v.state.draggingElement;if(Dt){if(Dt.type==="freedraw"){var lr=Dt.points,Ar=_.x-Dt.x,Qr=_.y-Dt.y,br=lr.length>0&&lr[lr.length-1];if(!(br&&br[0]===Ar&&br[1]===Qr)){var qr=Dt.simulatePressure?Dt.pressures:[].concat(Ne(Dt.pressures),[w.pressure]);vt(Dt,{points:[].concat(Ne(lr),[[Ar,Qr]]),pressures:qr})}}else if(on(Dt)){p.drag.hasOccurred=!0;var hr=Dt.points,un=R-Dt.x,Tn=j-Dt.y;if(lg(w)&&hr.length===2){var Ua=ta(v.state.elementType,un,Tn);un=Ua.width,Tn=Ua.height}hr.length===1?vt(Dt,{points:[].concat(Ne(hr),[[un,Tn]])}):hr.length>1&&vt(Dt,{points:[].concat(Ne(hr.slice(0,-1)),[[un,Tn]])}),hi(Dt)&&v.maybeSuggestBindingsForLinearElementAtCoords(Dt,[_],v.state.startBoundElement)}else p.lastCoords.x=_.x,p.lastCoords.y=_.y,v.maybeDragNewGenericElement(p,w);if(v.state.elementType==="selection"){p.boxSelection.hasOccurred=!0;var yi=v.scene.getElements();if(w.shiftKey||v.state.editingLinearElement||!Et(yi,v.state)||(p.withCmdOrCtrl&&p.hit.element?v.setState(function(ot){return Ho(ft(ft({},ot),{},{selectedElementIds:be({},p.hit.element.id,!0)}),v.scene.getElements())}):v.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),v.state.editingLinearElement)Ur.handleBoxSelection(w,v.state,v.setState.bind(v));else{var $i=function(ot,Lt){var Ft=W(wr(Lt),4),rr=Ft[0],zr=Ft[1],cn=Ft[2],Mr=Ft[3];return ot.filter(function(On){var bi=W(Zu(On),4),Sf=bi[0],Nl=bi[1],jl=bi[2],Gi=bi[3];return On.type!=="selection"&&!Pi(On)&&rr<=Sf&&zr<=Nl&&cn>=jl&&Mr>=Gi})}(yi,Dt);v.setState(function(ot){return Ho(ft(ft({},ot),{},{selectedElementIds:ft(ft(ft({},ot.selectedElementIds),$i.reduce(function(Lt,Ft){return Lt[Ft.id]=!0,Lt},{})),p.hit.element?be({},p.hit.element.id,!$i.length):null),showHyperlinkPopup:!($i.length!==1||!$i[0].link)&&"info"}),v.scene.getElements())})}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(p,v){if(v.scrollbars.isOverHorizontal){var w=p.clientX,y=w-v.lastCoords.x;return this.setState({scrollX:this.state.scrollX-y/this.state.zoom.value}),v.lastCoords.x=w,!0}if(v.scrollbars.isOverVertical){var T=p.clientY,_=T-v.lastCoords.y;return this.setState({scrollY:this.state.scrollY-_/this.state.zoom.value}),v.lastCoords.y=T,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(p){var v=this;return pn(function(w){var y,T,_=v.state,L=_.draggingElement,R=_.resizingElement,j=_.multiElement,z=_.elementType,K=_.elementLocked,$=_.isResizing,Z=_.isRotating;if(v.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:j||Lr(v.state.editingElement)?v.state.editingElement:null}),v.savePointer(w.clientX,w.clientY,"up"),v.state.editingLinearElement)if(p.boxSelection.hasOccurred||((y=p.hit)===null||y===void 0||(T=y.element)===null||T===void 0?void 0:T.id)===v.state.editingLinearElement.elementId&&p.hit.hasHitElementInside){var oe=Ur.handlePointerUp(w,v.state.editingLinearElement,v.state);oe!==v.state.editingLinearElement&&v.setState({editingLinearElement:oe,suggestedBindings:[]})}else v.actionManager.executeAction(vs);if(Tc=null,p.eventListeners.onMove&&p.eventListeners.onMove.flush(),window.removeEventListener(I.Ks.POINTER_MOVE,p.eventListeners.onMove),window.removeEventListener(I.Ks.POINTER_UP,p.eventListeners.onUp),window.removeEventListener(I.Ks.KEYDOWN,p.eventListeners.onKeyDown),window.removeEventListener(I.Ks.KEYUP,p.eventListeners.onKeyUp),v.state.pendingImageElement&&v.setState({pendingImageElement:null}),(L==null?void 0:L.type)==="freedraw"){var le=je(w,v.state),me=L.points,Ce=le.x-L.x,_e=le.y-L.y;Ce===me[0][0]&&_e===me[0][1]&&(_e+=1e-4,Ce+=1e-4);var Ie=L.simulatePressure?[]:[].concat(Ne(L.pressures),[w.pressure]);return vt(L,{points:[].concat(Ne(me),[[Ce,_e]]),pressures:Ie,lastCommittedPoint:[Ce,_e]}),void v.actionManager.executeAction(vs)}if(Yu(L)){var Te=L;try{v.initializeImageDimensions(Te),v.setState({selectedElementIds:be({},Te.id,!0)},function(){v.actionManager.executeAction(vs)})}catch(Ee){console.error(Ee),v.scene.replaceAllElements(v.scene.getElementsIncludingDeleted().filter(function(rt){return rt.id!==Te.id})),v.actionManager.executeAction(vs)}}else if(on(L)){L.points.length>1&&v.history.resumeRecording();var $e=je(w,v.state);p.drag.hasOccurred||!L||j?p.drag.hasOccurred&&!j&&(ss(v.state)&&hi(L)&&lf(L,v.state,v.scene,$e),v.setState({suggestedBindings:[],startBoundElement:null}),K?v.setState(function(Ee){return{draggingElement:null,selectedElementIds:ft(ft({},Ee.selectedElementIds),{},be({},v.state.draggingElement.id,!0))}}):(Yn(v.canvas),v.setState(function(Ee){return{draggingElement:null,elementType:"selection",selectedElementIds:ft(ft({},Ee.selectedElementIds),{},be({},v.state.draggingElement.id,!0))}}))):(vt(L,{points:[].concat(Ne(L.points),[[$e.x-L.x,$e.y-L.y]])}),v.setState({multiElement:L,editingElement:v.state.draggingElement}))}else{if(z!=="selection"&&L&&as(L))return v.scene.replaceAllElements(v.scene.getElementsIncludingDeleted().slice(0,-1)),void v.setState({draggingElement:null});L&&vt(L,Od(L)),R&&v.history.resumeRecording(),R&&as(R)&&v.scene.replaceAllElements(v.scene.getElementsIncludingDeleted().filter(function(Ee){return Ee.id!==R.id}));var He=p.hit.element;if(He&&!p.drag.hasOccurred&&!p.hit.wasAddedToSelection&&(!v.state.editingLinearElement||!p.boxSelection.hasOccurred))if(w.shiftKey&&!v.state.editingLinearElement)if(v.state.selectedElementIds[He.id])if(wa(v.state,He)){var We=He.groupIds.flatMap(function(Ee){return mi(v.scene.getElements(),Ee)}).map(function(Ee){return be({},Ee.id,!1)}).reduce(function(Ee,rt){return ft(ft({},Ee),rt)},{});v.setState(function(Ee){return{selectedGroupIds:ft(ft({},Ee.selectedElementIds),He.groupIds.map(function(rt){return be({},rt,!1)}).reduce(function(rt,Xe){return ft(ft({},rt),Xe)},{})),selectedElementIds:ft(ft({},Ee.selectedElementIds),We)}})}else v.setState(function(Ee){return Ho(ft(ft({},Ee),{},{selectedElementIds:ft(ft({},Ee.selectedElementIds),{},be({},He.id,!1))}),v.scene.getElements())});else v.setState(function(Ee){return{selectedElementIds:ft(ft({},Ee.selectedElementIds),{},be({},He.id,!0))}});else v.setState(function(Ee){return ft({},Ho(ft(ft({},Ee),{},{selectedElementIds:be({},He.id,!0)}),v.scene.getElements()))});v.state.editingLinearElement||p.drag.hasOccurred||v.state.isResizing||!(He&&jd(He,v.state,p.origin.x,p.origin.y)||!He&&p.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!K&&z!=="freedraw"&&L&&v.setState(function(Ee){return{selectedElementIds:ft(ft({},Ee.selectedElementIds),{},be({},L.id,!0))}}),(z!=="selection"||Et(v.scene.getElements(),v.state))&&v.history.resumeRecording(),(p.drag.hasOccurred||$||Z)&&(ss(v.state)?Wo:b1)(Re(v.scene.getElements(),v.state)),K||z==="freedraw"?v.setState({draggingElement:null,suggestedBindings:[]}):(Yn(v.canvas),v.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):v.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}})}},{key:"maybeSuggestBindingForAll",value:function(p){var v,w,y=(v=p,w=new Set(v.map(function(T){return T.id})),v.flatMap(function(T){return hi(T)?Kg(T).filter(function(_){return!w.has(_.id)}):k0(T)?x1(T).filter(function(_){return!w.has(_[0].id)}):[]}));this.setState({suggestedBindings:y})}},{key:"clearSelection",value:function(p){this.setState(function(v){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:v.editingGroupId&&p!=null&&iu(p,v.editingGroupId)?v.editingGroupId:null}}),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(p,v,w,y,T){var _=Ey(this.scene.getElementsIncludingDeleted().filter(function(z){return!Lr(z)}),p,v);if(_){var L=_.x+_.width/2,R=_.y+_.height/2;if(Math.hypot(p-L,v-R)<I.wZ){var j=Ge({sceneX:L,sceneY:R},w);return{viewportX:j.x,viewportY:j.y,elementCenterX:L,elementCenterY:R}}}}},{key:"getCanvasOffsets",value:function(){var p;if((p=this.excalidrawContainerRef)!==null&&p!==void 0&&p.current){var v=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:v.left,offsetTop:v.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(l=(0,V.Z)(ie().mark(function p(){var v,w=this;return ie().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v=xe.find(function(T){return T.code===w.props.langCode})||pe,y.next=3,Pe(v);case 3:this.setAppState({});case 4:case"end":return y.stop()}},p,this)})),function(){return l.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){G1=!1}}]),d}(F().Component);$w.defaultProps={UIOptions:I.cW};var rR=function(){var a=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.isMobile=!1,this.excalidrawContainerRef=F().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.contextMenuOpen=!1,this.focusContainer=function(){var l;a.props.autoFocus&&((l=a.excalidrawContainerRef.current)===null||l===void 0||l.focus())},this.getSceneElementsIncludingDeleted=function(){return a.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return a.scene.getElements()},this.syncActionResult=pn(function(l){if(a.contextMenuOpen=!1,!a.unmounted&&l!==!1){var s=null;if(l.elements&&(l.elements.forEach(function(z){var K;((K=a.state.editingElement)===null||K===void 0?void 0:K.id)===z.id&&a.state.editingElement!==z&&Ye(z)&&(s=z)}),a.scene.replaceAllElements(l.elements),l.commitToHistory&&a.history.resumeRecording()),l.files&&(a.files=l.replaceFiles?l.files:ft(ft({},a.files),l.files),a.addNewImagesToImageCache()),l.appState||s){var u,d,p,v,w,y;l.commitToHistory&&a.history.resumeRecording();var T=(l==null||(u=l.appState)===null||u===void 0?void 0:u.viewModeEnabled)||!1,_=(l==null||(d=l.appState)===null||d===void 0?void 0:d.zenModeEnabled)||!1,L=(l==null||(p=l.appState)===null||p===void 0?void 0:p.gridSize)||null,R=(l==null||(v=l.appState)===null||v===void 0?void 0:v.theme)||I.C6.LIGHT,j=(w=l==null||(y=l.appState)===null||y===void 0?void 0:y.name)!==null&&w!==void 0?w:a.state.name;a.props.viewModeEnabled!==void 0&&(T=a.props.viewModeEnabled),a.props.zenModeEnabled!==void 0&&(_=a.props.zenModeEnabled),a.props.gridModeEnabled!==void 0&&(L=a.props.gridModeEnabled?I.k:null),a.props.theme!==void 0&&(R=a.props.theme),a.props.name!==void 0&&(j=a.props.name),a.setState(function(z){var K;return Object.assign(l.appState||{},{editingElement:s||((K=l.appState)===null||K===void 0?void 0:K.editingElement)||null,viewModeEnabled:T,zenModeEnabled:_,gridSize:L,theme:R,name:j})},function(){l.syncHistory&&a.history.setCurrentState(a.state,a.scene.getElementsIncludingDeleted())})}}}),this.onBlur=pn(function(){Cf=!1,a.setState({isBindingEnabled:!0})}),this.onUnload=function(){a.onBlur()},this.disableEvent=function(l){l.preventDefault()},this.onFontLoaded=function(){a.scene.getElementsIncludingDeleted().forEach(function(l){Lr(l)&&so(l)}),a.onSceneUpdated()},this.importLibraryFromUrl=function(){var l=(0,V.Z)(ie().mark(function s(u,d){var p,v,w,y,T;return ie().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return window.location.hash.includes(I.ah.addLibrary)?((p=new URLSearchParams(window.location.hash.slice(1))).delete(I.ah.addLibrary),window.history.replaceState({},I.iC,"#".concat(p.toString()))):window.location.search.includes(I.UO.addLibrary)&&((v=new URLSearchParams(window.location.search)).delete(I.UO.addLibrary),window.history.replaceState({},I.iC,"?".concat(v.toString()))),_.prev=1,_.next=4,fetch(decodeURIComponent(u));case 4:return w=_.sent,_.next=7,w.blob();case 7:return y=_.sent,_.t0=JSON,_.next=11,y.text();case 11:if(_.t1=_.sent,T=_.t0.parse.call(_.t0,_.t1),NN(T)){_.next=15;break}throw new Error;case 15:if(d!==a.id&&!window.confirm(G("alerts.confirmAddLibrary",{numShapes:(T.libraryItems||T.library||[]).length}))){_.next=20;break}return _.next=18,a.library.importLibrary(y,"published");case 18:a.state.isLibraryOpen&&a.setState({isLibraryOpen:!1}),a.setState({isLibraryOpen:!0});case 20:_.next=26;break;case 22:_.prev=22,_.t2=_.catch(1),window.alert(G("alerts.errorLoadingLibrary")),console.error(_.t2);case 26:return _.prev=26,a.focusContainer(),_.finish(26);case 29:case"end":return _.stop()}},s,null,[[1,22,26,29]])}));return function(s,u){return l.apply(this,arguments)}}(),this.resetHistory=function(){a.history.clear()},this.resetScene=pn(function(l){a.scene.replaceAllElements([]),a.setState(function(s){return ft(ft({},Js()),{},{isLoading:(l==null||!l.resetLoadingState)&&s.isLoading,theme:a.state.theme})}),a.resetHistory()}),this.initializeScene=(0,V.Z)(ie().mark(function l(){var s,u,d,p,v;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var y=(0,V.Z)(ie().mark(function T(_){var L,R;return ie().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(_.files.length){j.next=2;break}return j.abrupt("return");case 2:return L=_.files[0],j.next=5,L.getFile();case 5:(R=j.sent).handle=L,K1(R,a.state,a.scene.getElementsIncludingDeleted()).then(function(z){a.syncActionResult(ft(ft({},z),{},{appState:ft(ft({},z.appState||a.state),{},{isLoading:!1}),commitToHistory:!0}))}).catch(function(z){a.setState({isLoading:!1,errorMessage:z.message})});case 8:case"end":return j.stop()}},T)}));return function(T){return y.apply(this,arguments)}}()),a.state.isLoading||a.setState({isLoading:!0}),u=null,w.prev=3,w.next=6,a.props.initialData;case 6:if(w.t0=w.sent,w.t0){w.next=9;break}w.t0=null;case 9:u=w.t0,(d=u)!==null&&d!==void 0&&d.libraryItems&&(a.libraryItemsFromStorage=Ew(u.libraryItems,"unpublished")),w.next=17;break;case 13:w.prev=13,w.t1=w.catch(3),console.error(w.t1),u={appState:{errorMessage:w.t1.message||"Encountered an error during importing or restoring scene data"}};case 17:if((p=U1(u,null,null)).appState=ft(ft({},p.appState),{},{elementType:p.appState.elementType==="image"?"selection":p.appState.elementType,isLoading:!1}),(s=u)!==null&&s!==void 0&&s.scrollToContent&&(p.appState=ft(ft({},p.appState),la(p.elements,ft(ft({},p.appState),{},{width:a.state.width,height:a.state.height,offsetTop:a.state.offsetTop,offsetLeft:a.state.offsetLeft})))),a.resetHistory(),a.syncActionResult(ft(ft({},p),{},{commitToHistory:!0})),!(v=new URLSearchParams(window.location.hash.slice(1)).get(I.ah.addLibrary)||new URLSearchParams(window.location.search).get(I.UO.addLibrary))){w.next=26;break}return w.next=26,a.importLibraryFromUrl(v);case 26:case"end":return w.stop()}},l,null,[[3,13]])})),this.onResize=pn(function(){a.scene.getElementsIncludingDeleted().forEach(function(l){return so(l)}),a.setState({})}),this.onScroll=tc(function(){var l=a.getCanvasOffsets(),s=l.offsetTop,u=l.offsetLeft;a.setState(function(d){return d.offsetLeft===u&&d.offsetTop===s?null:{offsetTop:s,offsetLeft:u}})},I.HM),this.onCut=pn(function(l){var s;((s=a.excalidrawContainerRef.current)===null||s===void 0?void 0:s.contains(document.activeElement))&&!Ro(l.target)&&(a.cutAll(),l.preventDefault())}),this.onCopy=pn(function(l){var s;((s=a.excalidrawContainerRef.current)===null||s===void 0?void 0:s.contains(document.activeElement))&&!Ro(l.target)&&(a.copyAll(),l.preventDefault())}),this.cutAll=function(){a.copyAll(),a.actionManager.executeAction(xr)},this.copyAll=function(){y9(a.scene.getElements(),a.state,a.files)},this.onTapStart=function(l){if(gd||l.preventDefault(),!G1)return G1=!0,clearTimeout(Uw),void(Uw=window.setTimeout($w.resetTapTwice,I.Gj));if(G1&&l.touches.length===1){var s=W(l.touches,1)[0];a.handleCanvasDoubleClick({clientX:s.clientX,clientY:s.clientY}),G1=!1,clearTimeout(Uw)}gd&&l.preventDefault(),l.touches.length===2&&a.setState({selectedElementIds:{}})},this.onTapEnd=function(l){a.resetContextMenuTimer(),l.touches.length>0?a.setState({previousSelectedElementIds:{},selectedElementIds:a.state.previousSelectedElementIds}):Wr.pointers.clear()},this.pasteFromClipboard=pn(function(){var l=(0,V.Z)(ie().mark(function s(u){var d,p,v,w,y,T,_,L,R,j,z;return ie().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(v=document.activeElement,(d=a.excalidrawContainerRef.current)===null||d===void 0?void 0:d.contains(v)){K.next=4;break}return K.abrupt("return");case 4:if(w=document.elementFromPoint(xf,kf),!u||w instanceof HTMLCanvasElement&&!Ro(v)){K.next=7;break}return K.abrupt("return");case 7:return y=u==null||(p=u.clipboardData)===null||p===void 0?void 0:p.files[0],K.next=10,WN(u);case 10:if(T=K.sent,!y&&T.text&&(_=T.text.trim()).startsWith("<svg")&&_.endsWith("</svg>")&&(y=n9(_)),!Ky(y)||T.spreadsheet){K.next=19;break}return L=je({clientX:xf,clientY:kf},a.state),R=L.x,j=L.y,z=a.createImageElement({sceneX:R,sceneY:j}),a.insertImageElement(z,y),a.initializeImageDimensions(z),a.setState({selectedElementIds:be({},z.id,!0)}),K.abrupt("return");case 19:if(!a.props.onPaste){K.next=31;break}return K.prev=20,K.next=23,a.props.onPaste(T,u);case 23:if(K.t0=K.sent,K.t0!==!1){K.next=26;break}return K.abrupt("return");case 26:K.next=31;break;case 28:K.prev=28,K.t1=K.catch(20),console.error(K.t1);case 31:T.errorMessage?a.setState({errorMessage:T.errorMessage}):T.spreadsheet?a.setState({pasteDialog:{data:T.spreadsheet,shown:!0}}):T.elements?a.addElementsFromPasteOrLibrary({elements:T.elements,files:T.files||null,position:"cursor"}):T.text&&a.addTextFromPaste(T.text),a.selectShapeTool("selection"),u==null||u.preventDefault();case 34:case"end":return K.stop()}},s,null,[[20,28]])}));return function(s){return l.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(l){var s=Uy(l.elements,null),u=W(qn(s),4),d=u[0],p=u[1],v=u[2],w=u[3],y=ga(d,v)/2,T=ga(p,w)/2,_=Zt(l.position)==="object"?l.position.clientX:l.position==="cursor"?xf:a.state.width/2+a.state.offsetLeft,L=Zt(l.position)==="object"?l.position.clientY:l.position==="cursor"?kf:a.state.height/2+a.state.offsetTop,R=je({clientX:_,clientY:L},a.state),j=R.x-y,z=R.y-T,K=new Map,$=W(ji(j,z,a.state.gridSize),2),Z=$[0],oe=$[1],le=new Map,me=s.map(function(_e){var Ie=Ld(a.state.editingGroupId,K,_e,{x:_e.x+Z-d,y:_e.y+oe-p});return le.set(_e.id,Ie.id),Ie});Rn(me,s,le);var Ce=[].concat(Ne(a.scene.getElementsIncludingDeleted()),Ne(me));Il(Ce,s,le),l.files&&(a.files=ft(ft({},a.files),l.files)),a.scene.replaceAllElements(Ce),a.history.resumeRecording(),a.setState(Ho(ft(ft({},a.state),{},{isLibraryOpen:!1,selectedElementIds:me.reduce(function(_e,Ie){return Pi(Ie)||(_e[Ie.id]=!0),_e},{}),selectedGroupIds:{}}),a.scene.getElements()),function(){l.files&&a.addNewImagesToImageCache()}),a.selectShapeTool("selection")},this.setAppState=function(l){a.setState(l)},this.removePointer=function(l){_c&&a.resetContextMenuTimer(),Wr.pointers.delete(l.pointerId)},this.toggleLock=function(){a.setState(function(l){return{elementLocked:!l.elementLocked,elementType:l.elementLocked?"selection":l.elementType}})},this.togglePenMode=function(){a.setState(function(l){return{penMode:!l.penMode}})},this.toggleZenMode=function(){a.actionManager.executeAction(jw)},this.toggleStats=function(){a.state.showStats||dh("dialog","stats"),a.actionManager.executeAction(Rw)},this.scrollToContent=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.scene.getElements();a.setState(ft({},la(Array.isArray(l)?l:[l],a.state,a.canvas)))},this.clearToast=function(){a.setState({toastMessage:null})},this.setToastMessage=function(l){a.setState({toastMessage:l})},this.restoreFileFromShare=(0,V.Z)(ie().mark(function l(){var s,u,d;return ie().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,caches.open("web-share-target");case 3:return s=p.sent,p.next=6,s.match("shared-file");case 6:if(!(u=p.sent)){p.next=15;break}return p.next=10,u.blob();case 10:return d=p.sent,a.loadFileToCanvas(d),p.next=14,s.delete("shared-file");case 14:window.history.replaceState(null,I.iC,window.location.pathname);case 15:p.next=20;break;case 17:p.prev=17,p.t0=p.catch(0),a.setState({errorMessage:p.t0.message});case 20:case"end":return p.stop()}},l,null,[[0,17]])})),this.addFiles=pn(function(l){var s=l.reduce(function(u,d){return u.set(d.id,d),u},new Map);a.files=ft(ft({},a.files),Object.fromEntries(s)),a.scene.getElements().forEach(function(u){lo(u)&&s.has(u.fileId)&&(a.imageCache.delete(u.fileId),so(u))}),a.scene.informMutation(),a.addNewImagesToImageCache()}),this.updateScene=pn(function(l){l.commitToHistory&&a.history.resumeRecording(),l.appState&&a.setState(l.appState),l.elements&&a.scene.replaceAllElements(l.elements),l.collaborators&&a.setState({collaborators:l.collaborators}),l.libraryItems&&a.library.saveLibrary(Ew(l.libraryItems,"unpublished"))}),this.onSceneUpdated=function(){a.setState({})},this.updateCurrentCursorPosition=pn(function(l){xf=l.clientX,kf=l.clientY}),this.onKeyDown=pn(function(l){var s;if("Proxy"in window&&(!l.shiftKey&&/^[A-Z]$/.test(l.key)||l.shiftKey&&/^[a-z]$/.test(l.key))&&(l=new Proxy(l,{get:function(L,R){var j=L[R];return typeof j=="function"?j.bind(L):R==="key"?l.shiftKey?L.key.toUpperCase():L.key.toLowerCase():j}})),!(Ro(l.target)&&l.key!==Be.ESCAPE||ec(l.key)&&(s=l.target,s instanceof HTMLElement&&s.dataset.type==="wysiwyg"||s instanceof HTMLBRElement||s instanceof HTMLInputElement||s instanceof HTMLTextAreaElement||s instanceof HTMLSelectElement))&&(l.key===Be.QUESTION_MARK&&a.setState({showHelpDialog:!0}),!a.actionManager.handleKeyDown(l)&&!a.state.viewModeEnabled)){if(l[Be.CTRL_OR_CMD]&&a.state.isBindingEnabled&&a.setState({isBindingEnabled:!1}),l.code===Kp&&a.setState({isLibraryOpen:!a.state.isLibraryOpen}),ec(l.key)){var u=a.state.gridSize&&(l.shiftKey?I.$e:a.state.gridSize)||(l.shiftKey?I.Iw:I.$e),d=Re(a.scene.getElements(),a.state,!0),p=0,v=0;l.key===Be.ARROW_LEFT?p=-u:l.key===Be.ARROW_RIGHT?p=u:l.key===Be.ARROW_UP?v=-u:l.key===Be.ARROW_DOWN&&(v=u),d.forEach(function(L){vt(L,{x:L.x+p,y:L.y+v}),us(L,{simultaneouslyUpdated:d})}),a.maybeSuggestBindingForAll(d),l.preventDefault()}else if(l.key===Be.ENTER){var w=Re(a.scene.getElements(),a.state);if(w.length===1&&on(w[0]))a.state.editingLinearElement&&a.state.editingLinearElement.elementId===w[0].id||(a.history.resumeRecording(),a.setState({editingLinearElement:new Ur(w[0],a.scene)}));else if(w.length===1&&!on(w[0])){var y=w[0];return a.startTextEditing({sceneX:y.x+y.width/2,sceneY:y.y+y.height/2,shouldBind:!0}),void l.preventDefault()}}else if(!l.ctrlKey&&!l.altKey&&!l.metaKey&&a.state.draggingElement===null){var T=function(L){var R=pC.find(function(j,z){return L===(z+1).toString()||j.key&&(typeof j.key=="string"?j.key===L:j.key.includes(L))});return(R==null?void 0:R.value)||null}(l.key);T?a.selectShapeTool(T):l.key===Be.Q&&a.toggleLock()}if(l.key===Be.SPACE&&Wr.pointers.size===0&&(Cf=!0,En(a.canvas,I.oc.GRABBING),l.preventDefault()),l.key===Be.G||l.key===Be.S){var _=Re(a.scene.getElements(),a.state);if(a.state.elementType==="selection"&&!_.length)return;l.key===Be.G&&(ds(a.state.elementType)||_.some(function(L){return ds(L.type)}))&&a.setState({openPopup:"backgroundColorPicker"}),l.key===Be.S&&a.setState({openPopup:"strokeColorPicker"})}}}),this.onKeyUp=pn(function(l){if(l.key===Be.SPACE&&(a.state.viewModeEnabled?En(a.canvas,I.oc.GRAB):a.state.elementType==="selection"?Yn(a.canvas):(Jl(a.canvas,a.state.elementType),a.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Cf=!1),l[Be.CTRL_OR_CMD]||a.state.isBindingEnabled||a.setState({isBindingEnabled:!0}),ec(l.key)){var s=Re(a.scene.getElements(),a.state);ss(a.state)?Wo(s):b1(s),a.setState({suggestedBindings:[]})}}),this.onGestureStart=pn(function(l){l.preventDefault(),a.setState({selectedElementIds:{}}),Wr.initialScale=a.state.zoom.value}),this.onGestureChange=pn(function(l){if(l.preventDefault(),!(Wr.pointers.size>=2)){var s=Wr.initialScale;s&&a.setState(function(u){return ft({},yc({viewportX:xf,viewportY:kf,nextZoom:hs(s*l.scale)},u))})}}),this.onGestureEnd=pn(function(l){l.preventDefault(),a.setState({previousSelectedElementIds:{},selectedElementIds:a.state.previousSelectedElementIds}),Wr.initialScale=null}),this.startTextEditing=function(l){var s,u,d,p=l.sceneX,v=l.sceneY,w=l.shouldBind,y=l.insertAtParentCenter,T=(y===void 0||y)&&a.getTextWysiwygSnappedToCenterPosition(p,v,a.state,a.canvas,window.devicePixelRatio),_=w||T?Ey(a.scene.getElements().filter(function(le){return!Lr(le)}),p,v):null,L=a.getTextElementAtPosition(p,v);if(_){var R=ei(_);R&&(L=a.scene.getElement(R))}if(!L&&_){var j={fontSize:a.state.currentItemFontSize,fontFamily:a.state.currentItemFontFamily},z=eu(hn(j)),K=(d=hn(j),F0(d)+2*I.gK),$=Math.max(_.height,K),Z=Math.max(_.width,z);vt(_,{height:$,width:Z}),p=_.x+Z/2,v=_.y+$/2,T&&(T=a.getTextWysiwygSnappedToCenterPosition(p,v,a.state,a.canvas,window.devicePixelRatio))}var oe=L||lu({x:T?T.elementCenterX:p,y:T?T.elementCenterY:v,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,strokeSharpness:a.state.currentItemStrokeSharpness,text:"",fontSize:a.state.currentItemFontSize,fontFamily:a.state.currentItemFontFamily,textAlign:T?"center":a.state.currentItemTextAlign,verticalAlign:T?"middle":I.hs,containerId:(s=_==null?void 0:_.id)!==null&&s!==void 0?s:void 0,groupIds:(u=_==null?void 0:_.groupIds)!==null&&u!==void 0?u:[]});a.setState({editingElement:oe}),L?T&&oe.textAlign==="center"||vt(oe,{verticalAlign:I.hs}):(a.scene.replaceAllElements([].concat(Ne(a.scene.getElementsIncludingDeleted()),[oe])),T||vt(oe,{y:oe.y-oe.baseline/2})),a.setState({editingElement:oe}),a.handleTextWysiwyg(oe,{isExistingElement:!!L})},this.handleCanvasDoubleClick=function(l){if(!a.state.multiElement&&a.state.elementType==="selection"){var s=Re(a.scene.getElements(),a.state);if(s.length===1&&on(s[0]))a.state.editingLinearElement&&a.state.editingLinearElement.elementId===s[0].id||(a.history.resumeRecording(),a.setState({editingLinearElement:new Ur(s[0],a.scene)}));else{Yn(a.canvas);var u=je(l,a.state),d=u.x,p=u.y;if(lc(a.state).length>0){var v=a.getElementAtPosition(d,p),w=v&&function(_,L){return _.groupIds.find(function(R){return L[R]})}(v,a.state.selectedGroupIds);if(w)return void a.setState(function(_){return Ho(ft(ft({},_),{},{editingGroupId:w,selectedElementIds:be({},v.id,!0),selectedGroupIds:{}}),a.scene.getElements())})}if(Yn(a.canvas),!l[Be.CTRL_OR_CMD]&&!a.state.viewModeEnabled){var y=Re(a.scene.getElements(),a.state);if(y.length===1){var T=y[0];md(T)&&(d=T.x+T.width/2,p=T.y+T.height/2)}a.startTextEditing({sceneX:d,sceneY:p,shouldBind:!1,insertAtParentCenter:!l.altKey})}}}},this.getElementLinkAtPosition=function(l,s){var u=a.scene.getElements().slice().reverse(),d=1/0;return u.find(function(p,v){return s&&p.id===s.id&&(d=v),p.link&&zy(p,a.state,[l.x,l.y],a.isMobile)&&v<=d})},this.redirectToLink=function(l,s){var u=Ni(a.lastPointerDown.clientX,a.lastPointerDown.clientY,a.lastPointerUp.clientX,a.lastPointerUp.clientY);if(!(!a.hitLinkElement||s&&u>I.f||!s&&u!==0)){var d=je(a.lastPointerDown,a.state),p=zy(a.hitLinkElement,a.state,[d.x,d.y],a.isMobile),v=je(a.lastPointerUp,a.state),w=zy(a.hitLinkElement,a.state,[v.x,v.y],a.isMobile);if(p&&w){var y,T,_=a.hitLinkElement.link;if(_&&(a.props.onLinkOpen&&(T=Qs(I.Ks.EXCALIDRAW_LINK,l.nativeEvent),a.props.onLinkOpen(a.hitLinkElement,T)),(y=T)===null||y===void 0||!y.defaultPrevented)){var L=Tk(_)?"_self":"_blank",R=window.open(void 0,L);R&&(R.opener=null,R.location=_k(_))}}}},this.handleCanvasPointerMove=function(l){a.savePointer(l.clientX,l.clientY,a.state.cursorButton),Wr.pointers.has(l.pointerId)&&Wr.pointers.set(l.pointerId,{x:l.clientX,y:l.clientY});var s=Wr.initialScale;if(Wr.pointers.size===2&&Wr.lastCenter&&s&&Wr.initialDistance){var u=uC(Wr.pointers),d=u.x-Wr.lastCenter.x,p=u.y-Wr.lastCenter.y;Wr.lastCenter=u;var v=cC(Array.from(Wr.pointers.values())),w=a.state.elementType==="freedraw"&&a.state.penMode?1:v/Wr.initialDistance,y=w?hs(s*w):a.state.zoom.value;a.setState(function(We){var Ee=yc({viewportX:u.x,viewportY:u.y,nextZoom:y},We);return{zoom:Ee.zoom,scrollX:Ee.scrollX+d/y,scrollY:Ee.scrollY+p/y,shouldCacheIgnoreZoom:!0}}),a.resetShouldCacheIgnoreZoomDebounced()}else Wr.lastCenter=Wr.initialDistance=Wr.initialScale=null;if(!(Cf||V1||Kw)){var T=Mt(Ww,l.clientX-a.state.offsetLeft,l.clientY-a.state.offsetTop).isOverEither;a.state.draggingElement||a.state.multiElement||(T?Yn(a.canvas):Jl(a.canvas,a.state.elementType));var _=je(l,a.state),L=_.x,R=_.y;if(a.state.editingLinearElement&&!a.state.editingLinearElement.isDragging){var j=Ur.handlePointerMove(l,L,R,a.state.editingLinearElement,a.state.gridSize);j!==a.state.editingLinearElement&&a.setState({editingLinearElement:j}),j.lastUncommittedPoint!=null?a.maybeSuggestBindingAtCursor(_):a.setState({suggestedBindings:[]})}if(rg(a.state.elementType)){var z=a.state.draggingElement;hi(z)?a.maybeSuggestBindingsForLinearElementAtCoords(z,[_],a.state.startBoundElement):a.maybeSuggestBindingAtCursor(_)}if(a.state.multiElement){var K=a.state.multiElement,$=K.x,Z=K.y,oe=K.points,le=K.lastCommittedPoint,me=oe[oe.length-1];return Jl(a.canvas,a.state.elementType),void(me===le?Ni(L-$,R-Z,me[0],me[1])>=I.qx?vt(K,{points:[].concat(Ne(oe),[[L-$,R-Z]])}):En(a.canvas,I.oc.POINTER):oe.length>2&&le&&Ni(L-$,R-Z,le[0],le[1])<I.qx?(En(a.canvas,I.oc.POINTER),vt(K,{points:oe.slice(0,-1)})):(Yl(oe,a.state.zoom.value)&&En(a.canvas,I.oc.POINTER),vt(K,{points:[].concat(Ne(oe.slice(0,-1)),[[L-$,R-Z]])})))}if(!(Boolean(l.buttons)||a.state.elementType!=="selection"&&a.state.elementType!=="text")){var Ce=a.scene.getElements(),_e=Re(Ce,a.state);if(_e.length!==1||T||a.state.editingLinearElement){if(_e.length>1&&!T){var Ie=Bd(qn(_e),L,R,a.state.zoom,l.pointerType);if(Ie)return void En(a.canvas,ls({transformHandleType:Ie}))}}else{var Te=zd(Ce,a.state,L,R,a.state.zoom,l.pointerType);if(Te&&Te.transformHandleType)return void En(a.canvas,ls(Te))}var $e=a.getElementAtPosition(_.x,_.y);if(a.hitLinkElement=a.getElementLinkAtPosition(_,$e),a.hitLinkElement&&!a.state.selectedElementIds[a.hitLinkElement.id])En(a.canvas,I.oc.POINTER),function(We,Ee){B1&&clearTimeout(B1),B1=window.setTimeout(function(){return uN(We,Ee)},I.sA)}(a.hitLinkElement,a.state);else if(B1&&clearTimeout(B1),bw&&(bw=!1,hf().classList.remove("excalidraw-tooltip--visible")),$e&&$e.link&&a.state.selectedElementIds[$e.id]&&!a.contextMenuOpen&&!a.state.showHyperlinkPopup&&a.setState({showHyperlinkPopup:"info"}),a.state.elementType==="text")En(a.canvas,Lr($e)?I.oc.TEXT:I.oc.CROSSHAIR);else if(a.state.viewModeEnabled)En(a.canvas,I.oc.GRAB);else if(T)En(a.canvas,I.oc.AUTO);else if(a.state.editingLinearElement){var He=Ur.getElement(a.state.editingLinearElement.elementId);He&&Q0(He,a.state,[_.x,_.y])?En(a.canvas,I.oc.MOVE):En(a.canvas,I.oc.AUTO)}else l[Be.CTRL_OR_CMD]||!$e&&!a.isHittingCommonBoundingBoxOfSelectedElements(_,_e)?En(a.canvas,I.oc.AUTO):En(a.canvas,I.oc.MOVE)}}},this.handleTouchMove=function(l){q1=!0},this.handleCanvasPointerDown=function(l){var s=document.getSelection();if(s!=null&&s.anchorNode&&s.removeAllRanges(),a.maybeOpenContextMenuAfterPointerDownOnTouchDevices(l),a.maybeCleanupAfterMissingPointerUp(l),a.state.penDetected||l.pointerType!=="pen"||a.setState(function(L){return{penMode:!0,penDetected:!0}}),!V1&&(a.lastPointerDown=l,a.setState({lastPointerDownWith:l.pointerType,cursorButton:"down"}),a.savePointer(l.clientX,l.clientY,"down"),!a.handleCanvasPanUsingWheelOrSpaceDrag(l)&&!(l.button!==I.Oh.MAIN&&l.button!==I.Oh.TOUCH||(a.updateGestureOnPointerDown(l),Wr.pointers.size>1)))){var u=a.initialPointerDownState(l);if(!a.handleDraggingScrollBar(l,u)&&(a.contextMenuOpen=!1,a.clearSelectionIfNotUsingSelection(),a.updateBindingEnabledOnPointerMove(l),!a.handleSelectionOnPointerDown(l,u)&&(!a.state.penMode||l.pointerType!=="touch"||a.state.elementType==="selection"||a.state.elementType==="text"||a.state.elementType==="image")))if(a.state.elementType!=="text"){if(a.state.elementType==="arrow"||a.state.elementType==="line")a.handleLinearElementOnPointerDown(l,a.state.elementType,u);else if(a.state.elementType==="image"){if(En(a.canvas,I.oc.CROSSHAIR),!a.state.pendingImageElement)return;a.setState({draggingElement:a.state.pendingImageElement,editingElement:a.state.pendingImageElement,pendingImageElement:null,multiElement:null});var d=je(l,a.state),p=d.x,v=d.y;vt(a.state.pendingImageElement,{x:p,y:v})}else a.state.elementType==="freedraw"?a.handleFreeDrawElementOnPointerDown(l,a.state.elementType,u):a.createGenericElementOnPointerDown(a.state.elementType,u);var w=a.onPointerMoveFromPointerDownHandler(u),y=a.onPointerUpFromPointerDownHandler(u),T=a.onKeyDownFromPointerDownHandler(u),_=a.onKeyUpFromPointerDownHandler(u);Tc=y,a.state.viewModeEnabled||(window.addEventListener(I.Ks.POINTER_MOVE,w),window.addEventListener(I.Ks.POINTER_UP,y),window.addEventListener(I.Ks.KEYDOWN,T),window.addEventListener(I.Ks.KEYUP,_),u.eventListeners.onMove=w,u.eventListeners.onUp=y,u.eventListeners.onKeyUp=_,u.eventListeners.onKeyDown=T)}else a.handleTextOnPointerDown(l,u)}},this.handleCanvasPointerUp=function(l){a.lastPointerUp=l;var s=["pen","touch"].includes(l.pointerType);if(s){var u=je({clientX:l.clientX,clientY:l.clientY},a.state),d=a.getElementAtPosition(u.x,u.y);a.hitLinkElement=a.getElementLinkAtPosition(u,d)}a.hitLinkElement&&!a.state.selectedElementIds[a.hitLinkElement.id]&&a.redirectToLink(l,s),a.removePointer(l)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(l){l.pointerType==="touch"&&(q1=!1,_c?q1=!0:_c=window.setTimeout(function(){_c=0,q1||a.handleCanvasContextMenu(l)},I.nM))},this.resetContextMenuTimer=function(){clearTimeout(_c),_c=0,q1=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(l){if(Wr.pointers.size!==0||!(l.button===I.Oh.WHEEL||l.button===I.Oh.MAIN&&Cf||a.state.viewModeEnabled)||Lr(a.state.editingElement))return!1;V1=!0,l.preventDefault();var s=!1,u=/Linux/.test(window.navigator.platform);En(a.canvas,I.oc.GRABBING);var d=l.clientX,p=l.clientY,v=Zp(function(y){var T=d-y.clientX,_=p-y.clientY;if(d=y.clientX,p=y.clientY,u&&!s&&(Math.abs(T)>1||Math.abs(_)>1)){s=!0;var L=function R(j){document.body.removeEventListener(I.Ks.PASTE,R),j.stopPropagation()};document.body.addEventListener(I.Ks.PASTE,L),window.addEventListener(I.Ks.POINTER_UP,function R(){setTimeout(function(){document.body.removeEventListener(I.Ks.PASTE,L),window.removeEventListener(I.Ks.POINTER_UP,R)},100)})}a.setState({scrollX:a.state.scrollX-T/a.state.zoom.value,scrollY:a.state.scrollY-_/a.state.zoom.value})}),w=pn(Tc=function(){Tc=null,V1=!1,Cf||(a.state.viewModeEnabled?En(a.canvas,I.oc.GRAB):Jl(a.canvas,a.state.elementType)),a.setState({cursorButton:"up"}),a.savePointer(l.clientX,l.clientY,"up"),window.removeEventListener(I.Ks.POINTER_MOVE,v),window.removeEventListener(I.Ks.POINTER_UP,w),window.removeEventListener(I.Ks.BLUR,w),v.flush()});return window.addEventListener(I.Ks.BLUR,w),window.addEventListener(I.Ks.POINTER_MOVE,v,{passive:!0}),window.addEventListener(I.Ks.POINTER_UP,w),!0},this.clearSelectionIfNotUsingSelection=function(){a.state.elementType!=="selection"&&a.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(l,s){if(a.state.elementType==="selection"){var u=a.scene.getElements(),d=Re(u,a.state);if(d.length!==1||a.state.editingLinearElement)d.length>1&&(s.resize.handleType=Bd(qn(d),s.origin.x,s.origin.y,a.state.zoom,l.pointerType));else{var p=zd(u,a.state,s.origin.x,s.origin.y,a.state.zoom,l.pointerType);p!=null&&(a.setState({resizingElement:p.element}),s.resize.handleType=p.transformHandleType)}if(s.resize.handleType)En(a.canvas,ls({transformHandleType:s.resize.handleType})),s.resize.isResizing=!0,s.resize.offset=sn(function($,Z,oe,le){var me=W(Z.length===1?wr(Z[0]):qn(Z),4),Ce=me[0],_e=me[1],Ie=me[2],Te=me[3],$e=(Ce+Ie)/2,He=(_e+Te)/2,We=Z.length===1?Z[0].angle:0,Ee=W(Sr(oe,le,$e,He,-We),2);switch(oe=Ee[0],le=Ee[1],$){case"n":return Sr(oe-(Ce+Ie)/2,le-_e,0,0,We);case"s":return Sr(oe-(Ce+Ie)/2,le-Te,0,0,We);case"w":return Sr(oe-Ce,le-(_e+Te)/2,0,0,We);case"e":return Sr(oe-Ie,le-(_e+Te)/2,0,0,We);case"nw":return Sr(oe-Ce,le-_e,0,0,We);case"ne":return Sr(oe-Ie,le-_e,0,0,We);case"sw":return Sr(oe-Ce,le-Te,0,0,We);case"se":return Sr(oe-Ie,le-Te,0,0,We);default:return[0,0]}}(s.resize.handleType,d,s.origin.x,s.origin.y)),d.length===1&&on(d[0])&&d[0].points.length===2&&(s.resize.arrowDirection=(_=s.resize.handleType,L=d[0],R=W(L.points,2),j=W(R[1],2),z=j[0],K=j[1],_==="nw"&&(z<0||K<0)||_==="ne"&&z>=0||_==="sw"&&z<=0||_==="se"&&(z>0||K>0)?"end":"origin"));else{var v;if(a.state.editingLinearElement){var w=Ur.handlePointerDown(l,a.state,function($){return a.setState($)},a.history,s.origin);if(w.hitElement&&(s.hit.element=w.hitElement),w.didAddPoint)return!0}if(s.hit.element=(v=s.hit.element)!==null&&v!==void 0?v:a.getElementAtPosition(s.origin.x,s.origin.y),s.hit.element){if(zy(s.hit.element,a.state,[s.origin.x,s.origin.y],a.isMobile))return!1;s.hit.hasHitElementInside=Q0(s.hit.element,a.state,[s.origin.x,s.origin.y])}s.hit.allHitElements=a.getElementsAtPosition(s.origin.x,s.origin.y);var y=s.hit.element,T=s.hit.allHitElements.some(function($){return a.isASelectedElement($)});if(y!==null&&T||l.shiftKey||s.hit.hasHitCommonBoundingBoxOfSelectedElements||a.clearSelection(y),a.state.editingLinearElement)a.setState({selectedElementIds:be({},a.state.editingLinearElement.elementId,!0)});else if(y!=null){if(l[Be.CTRL_OR_CMD])return a.state.selectedElementIds[y.id]||(s.hit.wasAddedToSelection=!0),a.setState(function($){return ft(ft({},function(Z,oe){return Dn(Dn({},Z),{},{editingGroupId:oe.groupIds.length?oe.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:be({},oe.id,!0)})}($,y)),{},{previousSelectedElementIds:a.state.selectedElementIds})}),!1;a.state.selectedElementIds[y.id]||(a.state.editingGroupId&&!iu(y,a.state.editingGroupId)&&a.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),T||s.hit.hasHitCommonBoundingBoxOfSelectedElements||(a.setState(function($){return Ho(ft(ft({},$),{},{selectedElementIds:ft(ft({},$.selectedElementIds),{},be({},y.id,!0)),showHyperlinkPopup:!!y.link&&"info"}),a.scene.getElements())}),s.hit.wasAddedToSelection=!0))}a.setState({previousSelectedElementIds:a.state.selectedElementIds})}}var _,L,R,j,z,K;return!1},this.handleTextOnPointerDown=function(l,s){if(!Lr(a.state.editingElement)){var u=s.origin.x,d=s.origin.y,p=a.getElementAtPosition(u,d,{includeBoundTextElement:!0});md(p)&&(u=p.x+p.width/2,d=p.y+p.height/2),a.startTextEditing({sceneX:u,sceneY:d,shouldBind:!1,insertAtParentCenter:!l.altKey}),Yn(a.canvas),a.state.elementLocked||a.setState({elementType:"selection"})}},this.handleFreeDrawElementOnPointerDown=function(l,s,u){var d,p=W(ji(u.origin.x,u.origin.y,null),2),v=p[0],w=p[1],y=(d={type:s,x:v,y:w,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,strokeSharpness:a.state.currentItemLinearStrokeSharpness,simulatePressure:l.pressure===.5},Uo(Uo({},ou(d.type,d)),{},{points:d.points||[],pressures:[],simulatePressure:d.simulatePressure,lastCommittedPoint:null}));a.setState(function(L){return{selectedElementIds:ft(ft({},L.selectedElementIds),{},be({},y.id,!1))}});var T=y.simulatePressure?y.pressures:[].concat(Ne(y.pressures),[l.pressure]);vt(y,{points:[[0,0]],pressures:T});var _=Ml(u.origin,a.scene);a.scene.replaceAllElements([].concat(Ne(a.scene.getElementsIncludingDeleted()),[y])),a.setState({draggingElement:y,editingElement:y,startBoundElement:_,suggestedBindings:[]})},this.createImageElement=function(l){var s,u=l.sceneX,d=l.sceneY,p=W(ji(u,d,a.state.gridSize),2),v=p[0],w=p[1];return s={type:"image",x:v,y:w,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,strokeSharpness:a.state.currentItemLinearStrokeSharpness},Uo(Uo({},ou("image",s)),{},{strokeColor:"transparent",status:"pending",fileId:null,scale:[1,1]})},this.handleLinearElementOnPointerDown=function(l,s,u){if(a.state.multiElement){var d=a.state.multiElement;if(d.type==="line"&&Yl(d.points,a.state.zoom.value))return vt(d,{lastCommittedPoint:d.points[d.points.length-1]}),void a.actionManager.executeAction(vs);var p=d.x,v=d.y,w=d.lastCommittedPoint;if(d.points.length>1&&w&&Ni(u.origin.x-p,u.origin.y-v,w[0],w[1])<I.qx)return void a.actionManager.executeAction(vs);a.setState(function(le){return{selectedElementIds:ft(ft({},le.selectedElementIds),{},be({},d.id,!0))}}),vt(d,{lastCommittedPoint:d.points[d.points.length-1]}),En(a.canvas,I.oc.POINTER)}else{var y=W(ji(u.origin.x,u.origin.y,a.state.gridSize),2),T=y[0],_=y[1],L=a.state,R=L.currentItemStartArrowhead,j=L.currentItemEndArrowhead,z=W(s==="arrow"?[R,j]:[null,null],2),K=z[0],$=z[1],Z=su({type:s,x:T,y:_,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,strokeSharpness:a.state.currentItemLinearStrokeSharpness,startArrowhead:K,endArrowhead:$});a.setState(function(le){return{selectedElementIds:ft(ft({},le.selectedElementIds),{},be({},Z.id,!1))}}),vt(Z,{points:[].concat(Ne(Z.points),[[0,0]])});var oe=Ml(u.origin,a.scene);a.scene.replaceAllElements([].concat(Ne(a.scene.getElementsIncludingDeleted()),[Z])),a.setState({draggingElement:Z,editingElement:Z,startBoundElement:oe,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(l,s){var u=W(ji(s.origin.x,s.origin.y,a.state.gridSize),2),d=u[0],p=u[1],v=Id({type:l,x:d,y:p,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,strokeSharpness:a.state.currentItemStrokeSharpness});v.type==="selection"?a.setState({selectionElement:v,draggingElement:v}):(a.scene.replaceAllElements([].concat(Ne(a.scene.getElementsIncludingDeleted()),[v])),a.setState({multiElement:null,draggingElement:v,editingElement:v}))},this.initializeImage=function(){var l=(0,V.Z)(ie().mark(function s(u){var d,p,v,w,y,T,_,L,R,j,z,K,$,Z,oe;return ie().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(w=u.imageFile,y=u.imageElement,T=u.showCursorImagePreview,_=T!==void 0&&T,Ky(w)){le.next=3;break}throw new Error(G("errors.unsupportedFileType"));case 3:if(L=w.type,En(a.canvas,"wait"),L!==I.LO.svg){le.next=23;break}return le.prev=6,le.t0=n9,le.t1=FN,le.next=11,w.text();case 11:return le.t2=le.sent,le.next=14,(0,le.t1)(le.t2);case 14:le.t3=le.sent,le.t4=w.name,w=(0,le.t0)(le.t3,le.t4),le.next=23;break;case 19:throw le.prev=19,le.t5=le.catch(6),console.warn(le.t5),new Error(G("errors.svgImageInsertError"));case 23:return le.next=25,((d=(p=a.props).generateIdForFile)===null||d===void 0?void 0:d.call(p,w))||AN(w);case 25:if(R=le.sent){le.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error(G("errors.imageInsertError"));case 29:if((j=a.files[R])!=null&&j.dataURL){le.next=42;break}return le.prev=31,le.next=34,Ow(w,{maxWidthOrHeight:I.h6});case 34:w=le.sent,le.next=40;break;case 37:le.prev=37,le.t6=le.catch(31),console.error("error trying to resing image file on insertion",le.t6);case 40:if(!(w.size>I.$n)){le.next=42;break}throw new Error(G("errors.fileTooBig",{maxSize:"".concat(Math.trunc(I.$n/1024/1024),"MB")}));case 42:if(_&&(K=(z=a.files[R])===null||z===void 0?void 0:z.dataURL,$=K&&MN(K),a.setImagePreviewCursor($||w)),le.t7=(v=a.files[R])===null||v===void 0?void 0:v.dataURL,le.t7){le.next=48;break}return le.next=47,r9(w);case 47:le.t7=le.sent;case 48:return Z=le.t7,oe=vt(y,{fileId:R},!1),le.abrupt("return",new Promise(function(){var me=(0,V.Z)(ie().mark(function Ce(_e,Ie){var Te,$e,He;return ie().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:if(We.prev=0,a.files=ft(ft({},a.files),{},be({},R,{mimeType:L,id:R,dataURL:Z,created:Date.now()})),He=a.imageCache.get(R)){We.next=7;break}return a.addNewImagesToImageCache(),We.next=7,a.updateImageCache([oe]);case 7:if(!((He==null?void 0:He.image)instanceof Promise)){We.next=10;break}return We.next=10,He.image;case 10:((Te=a.state.pendingImageElement)===null||Te===void 0?void 0:Te.id)!==oe.id&&(($e=a.state.draggingElement)===null||$e===void 0?void 0:$e.id)!==oe.id&&a.initializeImageDimensions(oe,!0),_e(oe),We.next=18;break;case 14:We.prev=14,We.t0=We.catch(0),console.error(We.t0),Ie(new Error(G("errors.imageInsertError")));case 18:return We.prev=18,_||Yn(a.canvas),We.finish(18);case 21:case"end":return We.stop()}},Ce,null,[[0,14,18,21]])}));return function(Ce,_e){return me.apply(this,arguments)}}()));case 51:case"end":return le.stop()}},s,null,[[6,19],[31,37]])}));return function(s){return l.apply(this,arguments)}}(),this.insertImageElement=function(){var l=(0,V.Z)(ie().mark(function s(u,d,p){return ie().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return a.scene.replaceAllElements([].concat(Ne(a.scene.getElementsIncludingDeleted()),[u])),v.prev=1,v.next=4,a.initializeImage({imageFile:d,imageElement:u,showCursorImagePreview:p});case 4:v.next=11;break;case 6:v.prev=6,v.t0=v.catch(1),vt(u,{isDeleted:!0}),a.actionManager.executeAction(vs),a.setState({errorMessage:v.t0.message||G("errors.imageInsertError")});case 11:case"end":return v.stop()}},s,null,[[1,6]])}));return function(s,u,d){return l.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var l=(0,V.Z)(ie().mark(function s(u){var d,p,v,w,y,T,_;return ie().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return d=96,L.next=3,Ow(u,{maxWidthOrHeight:d});case 3:return p=L.sent,L.next=6,r9(p);case 6:if(v=L.sent,u.type!==I.LO.svg){L.next=20;break}return L.next=10,s9(v);case 10:w=L.sent,y=Math.min(w.height,d),(T=y*(w.width/w.height))>d&&(y=(T=d)*(w.height/w.width)),(_=document.createElement("canvas")).height=y,_.width=T,_.getContext("2d").drawImage(w,0,0,T,y),v=_.toDataURL(I.LO.svg);case 20:a.state.pendingImageElement&&En(a.canvas,"url(".concat(v,") 4 4, auto"));case 21:case"end":return L.stop()}},s)}));return function(s){return l.apply(this,arguments)}}(),this.onImageAction=(0,V.Z)(ie().mark(function l(){var s,u,d,p,v,w,y,T,_,L=arguments;return ie().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return s=L.length>0&&L[0]!==void 0?L[0]:{insertOnCanvasDirectly:!1},u=s.insertOnCanvasDirectly,R.prev=1,d=a.state.width/2+a.state.offsetLeft,p=a.state.height/2+a.state.offsetTop,v=je({clientX:d,clientY:p},a.state),w=v.x,y=v.y,R.next=7,Sw({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:T=R.sent,_=a.createImageElement({sceneX:w,sceneY:y}),u?(a.insertImageElement(_,T),a.initializeImageDimensions(_),a.setState({selectedElementIds:be({},_.id,!0)},function(){a.actionManager.executeAction(vs)})):a.setState({pendingImageElement:_},function(){a.insertImageElement(_,T,!0)}),R.next=16;break;case 12:R.prev=12,R.t0=R.catch(1),R.t0.name!=="AbortError"?console.error(R.t0):console.warn(R.t0),a.setState({pendingImageElement:null,editingElement:null,elementType:"selection"},function(){a.actionManager.executeAction(vs)});case 16:case"end":return R.stop()}},l,null,[[1,12]])})),this.initializeImageDimensions=function(l){var s,u=arguments.length>1&&arguments[1]!==void 0&&arguments[1],d=lo(l)&&((s=a.imageCache.get(l.fileId))===null||s===void 0?void 0:s.image);if(!d||d instanceof Promise){if(l.width<I.f/a.state.zoom.value&&l.height<I.f/a.state.zoom.value){var p=100/a.state.zoom.value;vt(l,{x:l.x-p/2,y:l.y-p/2,width:p,height:p})}}else if(u||l.width<I.f/a.state.zoom.value&&l.height<I.f/a.state.zoom.value){var v=Math.max(a.state.height-120,160),w=Math.min(v,Math.floor(.5*a.state.height)/a.state.zoom.value),y=Math.min(d.naturalHeight,w),T=y*(d.naturalWidth/d.naturalHeight),_=l.x+l.width/2-T/2,L=l.y+l.height/2-y/2;vt(l,{x:_,y:L,width:T,height:y})}},this.updateImageCache=function(){var l=(0,V.Z)(ie().mark(function s(u){var d,p,v,w,y,T,_,L=arguments;return ie().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return d=L.length>1&&L[1]!==void 0?L[1]:a.files,R.next=3,u9({imageCache:a.imageCache,fileIds:u.map(function(j){return j.fileId}),files:d});case 3:if(p=R.sent,v=p.updatedFiles,w=p.erroredFiles,v.size||w.size){y=VC(u);try{for(y.s();!(T=y.n()).done;)_=T.value,v.has(_.fileId)&&so(_)}catch(j){y.e(j)}finally{y.f()}}return w.size&&a.scene.replaceAllElements(a.scene.getElementsIncludingDeleted().map(function(j){return lo(j)&&w.has(j.fileId)?tn(j,{status:"error"}):j})),R.abrupt("return",{updatedFiles:v,erroredFiles:w});case 9:case"end":return R.stop()}},s)}));return function(s){return l.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,V.Z)(ie().mark(function l(){var s,u,d,p,v=arguments;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=v.length>0&&v[0]!==void 0?v[0]:c9(a.scene.getElements()),u=v.length>1&&v[1]!==void 0?v[1]:a.files,!(d=s.filter(function(y){return!y.isDeleted&&!a.imageCache.has(y.fileId)})).length){w.next=9;break}return w.next=6,a.updateImageCache(d,u);case 6:p=w.sent,p.updatedFiles.size&&a.scene.informMutation();case 9:case"end":return w.stop()}},l)})),this.scheduleImageRefresh=eR()(function(){a.addNewImagesToImageCache()},I.LL),this.updateBindingEnabledOnPointerMove=function(l){var s=function(u){return!u[Be.CTRL_OR_CMD]}(l);a.state.isBindingEnabled!==s&&a.setState({isBindingEnabled:s})},this.maybeSuggestBindingAtCursor=function(l){var s=Ml(l,a.scene);a.setState({suggestedBindings:s!=null?[s]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(l,s,u){if(s.length){var d=s.reduce(function(p,v){var w=Ml(v,a.scene);return w==null||pc(l,u==null?void 0:u.id,w)||p.push(w),p},[]);a.setState({suggestedBindings:d})}},this.handleCanvasRef=function(l){var s,u,d;l!==null?(a.canvas=l,a.rc=Xs.canvas(a.canvas),a.canvas.addEventListener(I.Ks.WHEEL,a.handleWheel,{passive:!1}),a.canvas.addEventListener(I.Ks.TOUCH_START,a.onTapStart),a.canvas.addEventListener(I.Ks.TOUCH_END,a.onTapEnd)):((s=a.canvas)===null||s===void 0||s.removeEventListener(I.Ks.WHEEL,a.handleWheel),(u=a.canvas)===null||u===void 0||u.removeEventListener(I.Ks.TOUCH_START,a.onTapStart),(d=a.canvas)===null||d===void 0||d.removeEventListener(I.Ks.TOUCH_END,a.onTapEnd))},this.handleAppOnDrop=function(){var l=(0,V.Z)(ie().mark(function s(u){var d,p,v,w,y,T,_,L,R,j,z,K;return ie().wrap(function($){for(;;)switch($.prev=$.next){case 0:if($.prev=0,v=u.dataTransfer.files[0],!Ky(v)){$.next=33;break}if((v==null?void 0:v.type)!==I.LO.png&&(v==null?void 0:v.type)!==I.LO.svg){$.next=27;break}if($.prev=4,!Cc){$.next=16;break}return $.prev=6,w=u.dataTransfer.items[0],$.next=10,w.getAsFileSystemHandle();case 10:v.handle=$.sent,$.next=16;break;case 13:$.prev=13,$.t0=$.catch(6),console.warn($.t0.name,$.t0.message);case 16:return $.next=18,K1(v,a.state,a.scene.getElementsIncludingDeleted());case 18:return y=$.sent,a.syncActionResult(ft(ft({},y),{},{appState:ft(ft({},y.appState||a.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),$.abrupt("return");case 23:if($.prev=23,$.t1=$.catch(4),$.t1.name==="EncodingError"){$.next=27;break}throw $.t1;case 27:return T=je(u,a.state),_=T.x,L=T.y,R=a.createImageElement({sceneX:_,sceneY:L}),a.insertImageElement(R,v),a.initializeImageDimensions(R),a.setState({selectedElementIds:be({},R.id,!0)}),$.abrupt("return");case 33:$.next=38;break;case 35:return $.prev=35,$.t2=$.catch(0),$.abrupt("return",a.setState({isLoading:!1,errorMessage:$.t2.message}));case 38:if((j=u.dataTransfer.getData(I.LO.excalidrawlib))===""){$.next=42;break}return a.addElementsFromPasteOrLibrary({elements:JSON.parse(j),position:u,files:null}),$.abrupt("return");case 42:if(!(((z=(d=u.dataTransfer)===null||d===void 0?void 0:d.files[0])==null?void 0:z.type)===I.LO.excalidrawlib||z!=null&&(p=z.name)!==null&&p!==void 0&&p.endsWith(".excalidrawlib"))){$.next=47;break}a.library.importLibrary(z).then(function(){a.setState({isLibraryOpen:!1}),a.setState({isLibraryOpen:!0})}).catch(function(Z){return a.setState({isLoading:!1,errorMessage:Z.message})}),$.next=61;break;case 47:if(a.setState({isLoading:!0}),!Cc){$.next=59;break}return $.prev=49,K=u.dataTransfer.items[0],$.next=53,K.getAsFileSystemHandle();case 53:z.handle=$.sent,$.next=59;break;case 56:$.prev=56,$.t3=$.catch(49),console.warn($.t3.name,$.t3.message);case 59:return $.next=61,a.loadFileToCanvas(z);case 61:case"end":return $.stop()}},s,null,[[0,35],[4,23],[6,13],[49,56]])}));return function(s){return l.apply(this,arguments)}}(),this.loadFileToCanvas=function(l){K1(l,a.state,a.scene.getElementsIncludingDeleted()).then(function(s){a.syncActionResult(ft(ft({},s),{},{appState:ft(ft({},s.appState||a.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0}))}).catch(function(s){a.setState({isLoading:!1,errorMessage:s.message})})},this.handleCanvasContextMenu=function(l){if(l.preventDefault(),l.nativeEvent.pointerType!=="touch"&&(l.nativeEvent.pointerType!=="pen"||l.button===I.Oh.SECONDARY)||a.state.elementType==="selection"){var s=je(l,a.state),u=s.x,d=s.y,p=a.getElementAtPosition(u,d,{preferSelected:!0}),v=p?"element":"canvas",w=a.excalidrawContainerRef.current.getBoundingClientRect(),y=w.top,T=w.left,_=l.clientX-T,L=l.clientY-y;p&&!a.state.selectedElementIds[p.id]?a.setState({selectedElementIds:be({},p.id,!0)},function(){a._openContextMenu({top:L,left:_},v)}):a._openContextMenu({top:L,left:_},v)}},this.maybeDragNewGenericElement=function(l,s){var u=a.state.draggingElement,d=l.lastCoords;if(u)if(u.type==="selection")Kd(u,a.state.elementType,l.origin.x,l.origin.y,d.x,d.y,ga(l.origin.x,d.x),ga(l.origin.y,d.y),T0(s),Xp(s));else{var p,v=W(ji(d.x,d.y,a.state.gridSize),2),w=v[0],y=v[1],T=lo(u)&&((p=a.imageCache.get(u.fileId))===null||p===void 0?void 0:p.image),_=!T||T instanceof Promise?null:T.width/T.height;Kd(u,a.state.elementType,l.originInGrid.x,l.originInGrid.y,w,y,ga(l.originInGrid.x,w),ga(l.originInGrid.y,y),Yu(u)?!T0(s):T0(s),Xp(s),_),a.maybeSuggestBindingForAll([u])}},this.maybeHandleResize=function(l,s){var u=Re(a.scene.getElements(),a.state),d=l.resize.handleType;a.setState({isResizing:d&&d!=="rotation",isRotating:d==="rotation"});var p=l.lastCoords,v=W(ji(p.x-l.resize.offset.x,p.y-l.resize.offset.y,a.state.gridSize),2),w=v[0],y=v[1];return!!function(T,_,L,R,j,z,K,$,Z,oe,le){if(L.length===1){var me=W(L,1)[0];return _==="rotation"?(Gg(me,$,Z,j),us(me)):!on(me)||me.points.length!==2||_!=="nw"&&_!=="ne"&&_!=="sw"&&_!=="se"?!Lr(me)||_!=="nw"&&_!=="ne"&&_!=="sw"&&_!=="se"?_&&vi(T.originalElements.get(me.id),K,me,_,z,$,Z):(Wb(me,_,z,$,Z),us(me)):Vg(me,R,j,$,Z),!0}if(L.length>1){if(_==="rotation")return Xg(T,L,$,Z,j,oe,le),!0;if(_==="nw"||_==="ne"||_==="sw"||_==="se")return $b(L,_,$,Z),ba(L,_),!0}return!1}(l,d,u,l.resize.arrowDirection,lg(s),Xp(s),u.length===1&&Yu(u[0])?!T0(s):T0(s),w,y,l.resize.center.x,l.resize.center.y)&&(a.maybeSuggestBindingForAll(u),!0)},this._openContextMenu=function(l,s){var u=l.left,d=l.top;a.state.showHyperlinkPopup&&a.setState({showHyperlinkPopup:!1}),a.contextMenuOpen=!0;var p=N9.contextItemPredicate(a.actionManager.getElementsIncludingDeleted(),a.actionManager.getAppState()),v=j9.contextItemPredicate(a.actionManager.getElementsIncludingDeleted(),a.actionManager.getAppState()),w=W9.contextItemPredicate(a.actionManager.getElementsIncludingDeleted(),a.actionManager.getAppState()),y=$9.contextItemPredicate(a.actionManager.getElementsIncludingDeleted(),a.actionManager.getAppState()),T="separator",_=a.scene.getElements(),L=[];if(qy&&_.length>0&&L.push(Y9),Vy&&_.length>0&&L.push(q9),s==="canvas"){var R=[].concat(L,[a.props.gridModeEnabled===void 0&&Q9,a.props.zenModeEnabled===void 0&&jw,a.props.viewModeEnabled===void 0&&GC,Rw]);a.state.viewModeEnabled?Jy({options:R,top:d,left:u,actionManager:a.actionManager,appState:a.state,container:a.excalidrawContainerRef.current,elements:_}):Jy({options:[a.isMobile&&navigator.clipboard&&{name:"paste",perform:function(z,K){return a.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},a.isMobile&&navigator.clipboard&&T,qy&&_.length>0&&Y9,Vy&&_.length>0&&q9,(qy&&_.length>0||Vy&&_.length>0)&&T,sh,T,a.props.gridModeEnabled===void 0&&Q9,a.props.zenModeEnabled===void 0&&jw,a.props.viewModeEnabled===void 0&&GC,Rw],top:d,left:u,actionManager:a.actionManager,appState:a.state,container:a.excalidrawContainerRef.current,elements:_})}else if(s==="element"){var j=Re(_,a.state).some(function(z){return!md(z)});a.state.viewModeEnabled?Jy({options:[navigator.clipboard&&Nw].concat(L),top:d,left:u,actionManager:a.actionManager,appState:a.state,container:a.excalidrawContainerRef.current,elements:_}):Jy({options:[a.isMobile&&sj,a.isMobile&&navigator.clipboard&&Nw,a.isMobile&&navigator.clipboard&&{name:"paste",perform:function(z,K){return a.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},a.isMobile&&T].concat(L,[T,ZN,QN,T,p&&N9,!j&&uj,v&&j9,(p||v)&&T,rj,T,wc,mu,Ry,Fy,T,w&&W9,y&&$9,(w||y)&&T,Ok.contextItemPredicate(_,a.state)&&Ok,uh,xr]),top:d,left:u,actionManager:a.actionManager,appState:a.state,container:a.excalidrawContainerRef.current,elements:_})}},this.handleWheel=pn(function(l){if(l.preventDefault(),!V1){var s=l.deltaX,u=l.deltaY,d=a.state,p=d.selectedElementIds,v=d.previousSelectedElementIds;if(l.metaKey||l.ctrlKey){var w=Math.sign(u),y=Math.abs(u);y>10&&(y=10),y*=w,Object.keys(v).length!==0&&setTimeout(function(){a.setState({selectedElementIds:v,previousSelectedElementIds:{}})},1e3);var T=a.state.zoom.value-y/100;return T+=Math.log10(Math.max(1,a.state.zoom.value))*-w,T=Math.round(T*I.V4*100)/(100*I.V4),a.setState(function(_){return ft(ft({},yc({viewportX:xf,viewportY:kf,nextZoom:hs(T)},_)),{},{selectedElementIds:{},previousSelectedElementIds:Object.keys(p).length!==0?p:v,shouldCacheIgnoreZoom:!0})}),void a.resetShouldCacheIgnoreZoomDebounced()}l.shiftKey?a.setState(function(_){var L=_.zoom;return{scrollX:_.scrollX-(u||s)/L.value}}):a.setState(function(_){var L=_.zoom,R=_.scrollX,j=_.scrollY;return{scrollX:R-s/L.value,scrollY:j-u/L.value}})}}),this.savePointer=function(l,s,u){var d,p;if(l&&s){var v=je({clientX:l,clientY:s},a.state);isNaN(v.x)||isNaN(v.y),(d=(p=a.props).onPointerUpdate)===null||d===void 0||d.call(p,{pointer:v,button:u,pointersMap:Wr.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=tc(function(){a.unmounted||a.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(l){var s;if((s=a.excalidrawContainerRef)!==null&&s!==void 0&&s.current){var u=a.excalidrawContainerRef.current.getBoundingClientRect(),d=u.width,p=u.height,v=u.left,w=u.top,y=a.state,T=y.width,_=y.height,L=y.offsetTop,R=y.offsetLeft;if(d===T&&p===_&&v===R&&w===L)return void(l&&l());a.setState({width:d,height:p,offsetLeft:v,offsetTop:w},function(){l&&l()})}},this.refresh=function(){a.setState(ft({},a.getCanvasOffsets()))}};I.Vi.TEST!=="production"&&I.Vi.DEVELOPMENT!=="production"||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(a){return this.app.scene.replaceAllElements(a)}}}));var nR=$w,aR=(g(4285),g(3313),["initialData","UIOptions"]),iR=["initialData","UIOptions"];function QC(a,l){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);l&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),s.push.apply(s,u)}return s}function t2(a){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?QC(Object(s),!0).forEach(function(u){P()(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):QC(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}var oR=function(a){var l,s,u,d=a.onChange,p=a.initialData,v=a.excalidrawRef,w=a.onCollabButtonClick,y=a.isCollaborating,T=y!==void 0&&y,_=a.onPointerUpdate,L=a.renderTopRightUI,R=a.renderFooter,j=a.langCode,z=j===void 0?pe.code:j,K=a.viewModeEnabled,$=a.zenModeEnabled,Z=a.gridModeEnabled,oe=a.libraryReturnUrl,le=a.theme,me=a.name,Ce=a.renderCustomStats,_e=a.onPaste,Ie=a.detectScroll,Te=Ie===void 0||Ie,$e=a.handleKeyboardGlobally,He=$e!==void 0&&$e,We=a.onLibraryChange,Ee=a.autoFocus,rt=Ee!==void 0&&Ee,Xe=a.generateIdForFile,qe=a.onLinkOpen,at=(l=a.UIOptions)===null||l===void 0?void 0:l.canvasActions,et={canvasActions:t2(t2({},I.cW.canvasActions),at)};return at!=null&&at.export&&(et.canvasActions.export.saveFileToDisk=(s=(u=at.export)===null||u===void 0?void 0:u.saveFileToDisk)!==null&&s!==void 0?s:I.cW.canvasActions.export.saveFileToDisk),(0,D.useEffect)(function(){var Le=function(dt){typeof dt.scale=="number"&&dt.scale!==1&&dt.preventDefault()};return document.addEventListener("touchmove",Le,{passive:!1}),function(){document.removeEventListener("touchmove",Le)}},[]),(0,A.jsx)(Ht,{langCode:z,children:(0,A.jsx)(nR,{onChange:d,initialData:p,excalidrawRef:v,onCollabButtonClick:w,isCollaborating:T,onPointerUpdate:_,renderTopRightUI:L,renderFooter:R,langCode:z,viewModeEnabled:K,zenModeEnabled:$,gridModeEnabled:Z,libraryReturnUrl:oe,theme:le,name:me,renderCustomStats:Ce,UIOptions:et,onPaste:_e,detectScroll:Te,handleKeyboardGlobally:He,onLibraryChange:We,autoFocus:rt,generateIdForFile:Xe,onLinkOpen:qe})})},lR=function(a,l){a.initialData;var s=a.UIOptions,u=s===void 0?{}:s,d=C()(a,aR),p=(l.initialData,l.UIOptions),v=p===void 0?{}:p,w=C()(l,iR),y=Object.keys(u),T=Object.keys(v);if(y.length!==T.length)return!1;var _=y.every(function(j){return j==="canvasActions"&&Object.keys(u.canvasActions).every(function(z){var K,$,Z,oe;return z==="export"&&u!=null&&(K=u.canvasActions)!==null&&K!==void 0&&K.export&&v!=null&&($=v.canvasActions)!==null&&$!==void 0&&$.export?u.canvasActions.export.saveFileToDisk===v.canvasActions.export.saveFileToDisk:(u==null||(Z=u.canvasActions)===null||Z===void 0?void 0:Z[z])===(v==null||(oe=v.canvasActions)===null||oe===void 0?void 0:oe[z])}),!0}),L=Object.keys(a),R=Object.keys(l);return _&&L.length===R.length&&L.every(function(j){return d[j]===w[j]})},sR=(0,D.forwardRef)(function(a,l){return(0,A.jsx)(oR,t2(t2({},a),{},{excalidrawRef:l}))}),uR=F().memo(sR,lR),cR=(g(8336),uR)},9669:function(b){b.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(b){b.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(b){b.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},3147:function(b,S,g){b.exports=g.p+"excalidraw-assets/Cascadia.woff2"},3940:function(b,S,g){b.exports=g.p+"excalidraw-assets/Virgil.woff2"},9787:function(b){b.exports=r},5156:function(b){b.exports=n},8950:function(b,S,g){function O(N,P,D,F,I,q,V){try{var te=N[q](V),ne=te.value}catch(W){return void D(W)}te.done?P(ne):Promise.resolve(ne).then(F,I)}function C(N){return function(){var P=this,D=arguments;return new Promise(function(F,I){var q=N.apply(P,D);function V(ne){O(q,F,I,V,te,"next",ne)}function te(ne){O(q,F,I,V,te,"throw",ne)}V(void 0)})}}g.d(S,{Z:function(){return C}})},1463:function(b){b.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library\u2026","libraries":"Browse libraries","loadingScene":"Loading scene\u2026","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","link":{"edit":"Edit link","create":"Create link","label":"Link"}},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Save as image","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled."},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Prevent pinch-zoom and accept freedraw input only from pen","link":"Add/ Update link for a selected shape"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn't work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editSelectedShape":"Edit selected shape (text/arrow/line)","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started"},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"}}`)},4451:function(b){b.exports=JSON.parse('{"ar-SA":88,"bg-BG":61,"bn-BD":0,"ca-ES":95,"cs-CZ":24,"da-DK":16,"de-DE":99,"el-GR":87,"en":100,"es-ES":84,"eu-ES":96,"fa-IR":63,"fi-FI":98,"fr-FR":100,"he-IL":80,"hi-IN":55,"hu-HU":49,"id-ID":100,"it-IT":96,"ja-JP":98,"kab-KAB":95,"kk-KZ":23,"ko-KR":72,"lt-LT":24,"lv-LV":100,"my-MM":46,"nb-NO":100,"nl-NL":90,"nn-NO":83,"oc-FR":97,"pa-IN":87,"pl-PL":93,"pt-BR":98,"pt-PT":83,"ro-RO":100,"ru-RU":99,"si-LK":9,"sk-SK":100,"sv-SE":100,"ta-IN":99,"tr-TR":85,"uk-UA":82,"zh-CN":100,"zh-HK":28,"zh-TW":100}')}},x={};function E(b){var S=x[b];if(S!==void 0)return S.exports;var g=x[b]={id:b,loaded:!1,exports:{}};return m[b].call(g.exports,g,g.exports,E),g.loaded=!0,g.exports}return E.m=m,E.n=function(b){var S=b&&b.__esModule?function(){return b.default}:function(){return b};return E.d(S,{a:S}),S},o=Object.getPrototypeOf?function(b){return Object.getPrototypeOf(b)}:function(b){return b.__proto__},E.t=function(b,S){if(1&S&&(b=this(b)),8&S||typeof b=="object"&&b&&(4&S&&b.__esModule||16&S&&typeof b.then=="function"))return b;var g=Object.create(null);E.r(g);var O={};i=i||[null,o({}),o([]),o(o)];for(var C=2&S&&b;typeof C=="object"&&!~i.indexOf(C);C=o(C))Object.getOwnPropertyNames(C).forEach(function(N){O[N]=function(){return b[N]}});return O.default=function(){return b},E.d(g,O),g},E.d=function(b,S){for(var g in S)E.o(S,g)&&!E.o(b,g)&&Object.defineProperty(b,g,{enumerable:!0,get:S[g]})},E.f={},E.e=function(b){return Promise.all(Object.keys(E.f).reduce(function(S,g){return E.f[g](b,S),S},[]))},E.u=function(b){return"excalidraw-assets/"+{9:"i18n-zh-HK-json",43:"i18n-de-DE-json",58:"i18n-lt-LT-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",90:"i18n-si-LK-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",387:"i18n-cs-CZ-json",395:"i18n-ta-IN-json",401:"i18n-sk-SK-json",431:"i18n-eu-ES-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",499:"image",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",603:"i18n-bn-BD-json",617:"i18n-da-DK-json",649:"i18n-kk-KZ-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",899:"i18n-lv-LV-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[b]+"-"+{9:"30c36c8fd961f5d170f3",43:"ef380f64f6865954b0a8",58:"999644c6901ba293b94f",60:"8cb8265529a1b44b5b83",62:"b98625b888d1a38a1e35",90:"0168ba04309e69acf8f8",137:"d393424a3bf3d819c55c",149:"51f59b1e2263211ec93f",164:"b6e3fb72b894c32d880b",196:"ac240a29fc28abe04b68",213:"a5403d611da049fb9ac9",242:"f113e0d4e325f2ab5f9a",246:"a68ef171ead03e41a3fc",262:"46098f880b56c784c524",280:"fd72f5acaf54acdf92f4",304:"bf2622c18de40b872772",317:"2a7c2aedd8e0e11c0ffd",351:"49c237f0386f487f2b89",364:"c4a47fdc6828648bcc0b",381:"c33f3d7e5ced5fa875da",384:"e4675485be70db3d505b",387:"18e06cddb62be71241bc",395:"028cb3ff5436242bfe93",401:"689a542868cd8bf55c8f",431:"2b70c65af4801826fd81",465:"353b67282442ff113ca5",472:"d1b98e036e0c311a5f94",491:"a56030455c18e20fc460",499:"b76d879db8316c30fd0d",526:"ced6e4a724987ebc00c3",558:"d46c8f24fe4ef43f1ba6",565:"032cf6f52e5c1fde7146",583:"574637d179e2f430e9cd",603:"a74dc358f3c11e1f2eda",617:"ae94ab97dbff85f9a6a5",649:"0c61810ca218a4a849ab",661:"be46128b9fe090bd2727",698:"b487a1452d9e8cc95e99",710:"ca6c7d3370106a46c722",736:"41e5c0be76c29ad2aba4",752:"db4d695c50423ea348a2",852:"c4f01f39d882bac94426",869:"9c2f8157732f9cfd998c",899:"3d721192be0e9e91d53a",920:"6b400c9d969d9b00957f",933:"0abea31b70b913ab7137"}[b]+".js"},E.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),E.o=function(b,S){return Object.prototype.hasOwnProperty.call(b,S)},c={},f="Excalidraw:",E.l=function(b,S,g,O){if(c[b])c[b].push(S);else{var C,N;if(g!==void 0)for(var P=document.getElementsByTagName("script"),D=0;D<P.length;D++){var F=P[D];if(F.getAttribute("src")==b||F.getAttribute("data-webpack")==f+g){C=F;break}}C||(N=!0,(C=document.createElement("script")).charset="utf-8",C.timeout=120,E.nc&&C.setAttribute("nonce",E.nc),C.setAttribute("data-webpack",f+g),C.src=b),c[b]=[S];var I=function(V,te){C.onerror=C.onload=null,clearTimeout(q);var ne=c[b];if(delete c[b],C.parentNode&&C.parentNode.removeChild(C),ne&&ne.forEach(function(W){return W(te)}),V)return V(te)},q=setTimeout(I.bind(null,void 0,{type:"timeout",target:C}),12e4);C.onerror=I.bind(null,C.onerror),C.onload=I.bind(null,C.onload),N&&document.head.appendChild(C)}},E.r=function(b){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},E.nmd=function(b){return b.paths=[],b.children||(b.children=[]),b},E.p="",function(){E.b=document.baseURI||self.location.href;var b={388:0};E.f.j=function(O,C){var N=E.o(b,O)?b[O]:void 0;if(N!==0)if(N)C.push(N[2]);else{var P=new Promise(function(I,q){N=b[O]=[I,q]});C.push(N[2]=P);var D=E.p+E.u(O),F=new Error;E.l(D,function(I){if(E.o(b,O)&&((N=b[O])!==0&&(b[O]=void 0),N)){var q=I&&(I.type==="load"?"missing":I.type),V=I&&I.target&&I.target.src;F.message="Loading chunk "+O+` failed.
(`+q+": "+V+")",F.name="ChunkLoadError",F.type=q,F.request=V,N[1](F)}},"chunk-"+O,O)}};var S=function(O,C){var N,P,D=C[0],F=C[1],I=C[2],q=0;if(D.some(function(V){return b[V]!==0})){for(N in F)E.o(F,N)&&(E.m[N]=F[N]);I&&I(E)}for(O&&O(C);q<D.length;q++)P=D[q],E.o(b,P)&&b[P]&&b[P][0](),b[D[q]]=0},g=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];g.forEach(S.bind(null,0)),g.push=S.bind(null,g.push.bind(g))}(),E(7314)}()})})(MP);fk.exports=MP.exports;var t6=fk.exports,BX=function(e){var r,n=e==null||(r=e.firstElementChild)===null||r===void 0?void 0:r.firstElementChild;n&&n.tagName==="style"&&n.remove()};function HX(t){var e=t.elements;t.className,t.height,t.width;var r=t.appState,n=r===void 0?null:r,i=t.rootClassName,o=i===void 0?null:i,c=re.exports.useState(null),f=Se(c,2),m=f[0],x=f[1];return re.exports.useEffect(function(){var E=function(){var b=P8(regeneratorRuntime.mark(function S(){var g;return regeneratorRuntime.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,fk.exports.exportToSvg({appState:n,elements:e});case 2:g=C.sent,BX(g),x(g);case 5:case"end":return C.stop()}},S)}));return function(){return b.apply(this,arguments)}}();E()},[e,n]),Q("div",{className:o,dangerouslySetInnerHTML:{__html:m==null?void 0:m.outerHTML}})}function UX(t){var e=t.onSave,r=t.initialElements,n=t.isShown,i=n===void 0?!1:n,o=t.onHide,c=t.onDelete,f=re.exports.useRef(null),m=re.exports.useState(r),x=Se(m,2),E=x[0],b=x[1],S=function(){E.filter(function(P){return!P.isDeleted}).length>0?e(E):c(),o()},g=function(){E.filter(function(P){return!P.isDeleted}).length===0&&c(),o()};if(re.exports.useEffect(function(){var N;f==null||(N=f.current)===null||N===void 0||N.updateScene({elements:r})},[r]),i===!1)return null;var O=function(P){b(P)},C=t6.$$typeof!=null?t6:t6.default;return Q("div",{className:"ExcalidrawModal__modal",children:ct("div",{className:"ExcalidrawModal__row",children:[Q(C,{onChange:O,initialData:{appState:{isLoading:!1},elements:r}}),ct("div",{className:"ExcalidrawModal__actions",children:[Q("button",{className:"action-button",onClick:g,children:"Discard"}),Q("button",{className:"action-button",onClick:S,children:"Save"})]})]})})}function KX(t){var e=t.nodeKey,r=t.data,n=re.exports.useState(r==="[]"),i=Se(n,2),o=i[0],c=i[1],f=sr(),m=Se(f,1),x=m[0],E=re.exports.useRef(null),b=AP(e),S=Se(b,3),g=S[0],O=S[1],C=S[2],N=re.exports.useCallback(function(I){if(g&&Ls(Me())){var q=I;q.preventDefault(),x.update(function(){var V=qt(e);r6(V)&&V.remove(),O(!1)})}return!1},[x,g,e,O]);re.exports.useEffect(function(){return pa(x.registerCommand(q3,function(I){var q=E.current,V=I.target;return q!==null&&q.contains(V)?(I.shiftKey||C(),O(!g),I.detail>1&&c(!0),!0):!1},$n),x.registerCommand(Rv,N,$n),x.registerCommand(Op,N,$n))},[C,x,g,N,O]);var P=re.exports.useCallback(function(){return x.update(function(){var I=qt(e);r6(I)&&I.remove()})},[x,e]),D=re.exports.useCallback(function(I){return x.update(function(){var q=qt(e);r6(q)&&q.setData(I)})},[x,e]),F=re.exports.useMemo(function(){return JSON.parse(r)},[r]);return ct(dn,{children:[Q(UX,{initialElements:F,isShown:o,onDelete:P,onHide:function(){return c(!1)},onSave:function(q){D(JSON.stringify(q)),c(!1)}}),Q("button",{ref:E,className:"excalidraw-button ".concat(g?"selected":""),children:Q(HX,{className:"image",elements:F})})]})}var Ab=function(t){jr(r,t);var e=Rr(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"[]",o=arguments.length>1?arguments[1]:void 0;return ar(this,r),n=e.call(this,o),n.__data=i,n}return ir(r,[{key:"createDOM",value:function(i){var o=document.createElement("span"),c=i.theme,f=c.image;return f!==void 0&&(o.className=f),o}},{key:"updateDOM",value:function(){return!1}},{key:"setData",value:function(i){var o=this.getWritable();o.__data=i}},{key:"decorate",value:function(i){return Q(KX,{nodeKey:this.getKey(),data:this.__data})}}],[{key:"getType",value:function(){return"excalidraw"}},{key:"clone",value:function(i){return new r(i.__data,i.__key)}}]),r}(Fu);function WX(){return new Ab}function r6(t){return t instanceof Ab}var IP=er();function $X(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useEffect(function(){if(!r.hasNodes([Ab]))throw new Error("ExcalidrawPlugin: ExcalidrawNode not registered on editor");return r.registerCommand(IP,function(){var n=Me();if(De(n)){var i=WX();n.insertNodes([i])}return!0},Nt)},[r]),null}function GX(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useEffect(function(){return r.registerCommand(eD,function(n){var i=Me();if(!De(i))return!1;var o=i.focus.getNode();if(o!==null){var c=lb();i.insertParagraph(),i.focus.getNode().getTopLevelElementOrThrow().insertBefore(c)}return!0},Nt)},[r]),null}var VX="/gitnotes/assets/yellow-flower.bf6d0400.jpg";function DP(t){var e=t.initialEditor,r=t.children,n=t.initialTheme,i=re.exports.useContext($4);if(i==null)throw Error("Unexpected parent context null on a nested composer");var o=re.exports.useMemo(function(){var E=Se(i,2),b=E[0],S=E[1],g=n||S.getTheme()||void 0,O=cM(i,g);return g!==void 0&&(e._config.theme=g),e._parentEditor=b,e._nodes=b._nodes,[e,O]},[]),c=Dp(),f=c.yjsDocMap,m=f.get("main")!==void 0,x=f.has(e.getKey());return Q($4.Provider,{value:o,children:!m||x?r:null})}const qX=new Map;class YX{constructor(e){this.room=e,this.onmessage=null,x$(r=>r.key===e&&this.onmessage!==null&&this.onmessage({data:B$(r.newValue||"")}))}postMessage(e){yD.setItem(this.room,z$(P$(e)))}}const XX=typeof BroadcastChannel=="undefined"?YX:BroadcastChannel,dk=t=>zu(qX,t,()=>{const e=new Set,r=new XX(t);return r.onmessage=n=>e.forEach(i=>i(n.data,"broadcastchannel")),{bc:r,subs:e}}),ZX=(t,e)=>dk(t).subs.add(e),QX=(t,e)=>dk(t).subs.delete(e),Ah=(t,e,r=null)=>{const n=dk(t);n.bc.postMessage(e),n.subs.forEach(i=>i(e,r))},LP=0,hk=1,PP=2,z5=(t,e)=>{Vt(t,LP);const r=AG(e);ua(t,r)},NP=(t,e,r)=>{Vt(t,hk),ua(t,EG(e,r))},JX=(t,e,r)=>NP(e,r,xi(t)),jP=(t,e,r)=>{try{kG(e,xi(t),r)}catch(n){console.error("Caught error while handling a Yjs update",n)}},eZ=(t,e)=>{Vt(t,PP),ua(t,e)},tZ=jP,rZ=(t,e,r,n)=>{const i=pr(t);switch(i){case LP:JX(t,e,r);break;case hk:jP(t,r,n);break;case PP:tZ(t,r,n);break;default:throw new Error("Unknown message type")}return i},nZ=0,aZ=(t,e,r)=>{switch(pr(t)){case nZ:r(e,Jc(t))}},n6=3e4;class iZ extends cb{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const r=i0();this.getLocalState()!==null&&n6/2<=r-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const n=[];this.meta.forEach((i,o)=>{o!==this.clientID&&n6<=r-i.lastUpdated&&this.states.has(o)&&n.push(o)}),n.length>0&&pk(this,n,"timeout")},bv(n6/10)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const r=this.clientID,n=this.meta.get(r),i=n===void 0?0:n.clock+1,o=this.states.get(r);e===null?this.states.delete(r):this.states.set(r,e),this.meta.set(r,{clock:i,lastUpdated:i0()});const c=[],f=[],m=[],x=[];e===null?x.push(r):o==null?e!=null&&c.push(r):(f.push(r),Pm(o,e)||m.push(r)),(c.length>0||m.length>0||x.length>0)&&this.emit("change",[{added:c,updated:m,removed:x},"local"]),this.emit("update",[{added:c,updated:f,removed:x},"local"])}setLocalStateField(e,r){const n=this.getLocalState();n!==null&&this.setLocalState(o2(i2({},n),{[e]:r}))}getStates(){return this.states}}const pk=(t,e,r)=>{const n=[];for(let i=0;i<e.length;i++){const o=e[i];if(t.states.has(o)){if(t.states.delete(o),o===t.clientID){const c=t.meta.get(o);t.meta.set(o,{clock:c.clock+1,lastUpdated:i0()})}n.push(o)}}n.length>0&&(t.emit("change",[{added:[],updated:[],removed:n},r]),t.emit("update",[{added:[],updated:[],removed:n},r]))},zm=(t,e,r=t.states)=>{const n=e.length,i=ui();Vt(i,n);for(let o=0;o<n;o++){const c=e[o],f=r.get(c)||null,m=t.meta.get(c).clock;Vt(i,c),Vt(i,m),Hf(i,JSON.stringify(f))}return Un(i)},oZ=(t,e,r)=>{const n=p0(e),i=i0(),o=[],c=[],f=[],m=[],x=pr(n);for(let E=0;E<x;E++){const b=pr(n);let S=pr(n);const g=JSON.parse(Jc(n)),O=t.meta.get(b),C=t.states.get(b),N=O===void 0?0:O.clock;(N<S||N===S&&g===null&&t.states.has(b))&&(g===null?b===t.clientID&&t.getLocalState()!=null?S++:t.states.delete(b):t.states.set(b,g),t.meta.set(b,{clock:S,lastUpdated:i}),O===void 0&&g!==null?o.push(b):O!==void 0&&g===null?m.push(b):g!==null&&(Pm(g,C)||f.push(b),c.push(b)))}(o.length>0||f.length>0||m.length>0)&&t.emit("change",[{added:o,updated:f,removed:m},r]),(o.length>0||c.length>0||m.length>0)&&t.emit("update",[{added:o,updated:c,removed:m},r])},lZ=t=>eG(t,(e,r)=>`${encodeURIComponent(r)}=${encodeURIComponent(e)}`).join("&"),Pf=0,RP=3,tp=1,sZ=2,Xv=[];Xv[Pf]=(t,e,r,n,i)=>{Vt(t,Pf);const o=rZ(e,t,r.doc,r);n&&o===hk&&!r.synced&&(r.synced=!0)};Xv[RP]=(t,e,r,n,i)=>{Vt(t,tp),ua(t,zm(r.awareness,Array.from(r.awareness.getStates().keys())))};Xv[tp]=(t,e,r,n,i)=>{oZ(r.awareness,xi(e),r)};Xv[sZ]=(t,e,r,n,i)=>{aZ(e,r.doc,uZ)};const GT=3e4,uZ=(t,e)=>console.warn(`Permission denied to access ${t.url}.
${e}`),FP=(t,e,r)=>{const n=p0(e),i=ui(),o=pr(n),c=t.messageHandlers[o];return c?c(i,n,t,r,o):console.error("Unable to compute message"),i},zP=t=>{if(t.shouldConnect&&t.ws===null){const e=new t._WS(t.url);e.binaryType="arraybuffer",t.ws=e,t.wsconnecting=!0,t.wsconnected=!1,t.synced=!1,e.onmessage=r=>{t.wsLastMessageReceived=i0();const n=FP(t,new Uint8Array(r.data),!0);b7(n)>1&&e.send(Un(n))},e.onerror=r=>{t.emit("connection-error",[r,t])},e.onclose=r=>{t.emit("connection-close",[r,t]),t.ws=null,t.wsconnecting=!1,t.wsconnected?(t.wsconnected=!1,t.synced=!1,pk(t.awareness,Array.from(t.awareness.getStates().keys()).filter(n=>n!==t.doc.clientID),t),t.emit("status",[{status:"disconnected"}])):t.wsUnsuccessfulReconnects++,setTimeout(zP,m7(p$(2,t.wsUnsuccessfulReconnects)*100,t.maxBackoffTime),t)},e.onopen=()=>{t.wsLastMessageReceived=i0(),t.wsconnecting=!1,t.wsconnected=!0,t.wsUnsuccessfulReconnects=0,t.emit("status",[{status:"connected"}]);const r=ui();if(Vt(r,Pf),z5(r,t.doc),e.send(Un(r)),t.awareness.getLocalState()!==null){const n=ui();Vt(n,tp),ua(n,zm(t.awareness,[t.doc.clientID])),e.send(Un(n))}},t.emit("status",[{status:"connecting"}])}},a6=(t,e)=>{t.wsconnected&&t.ws.send(e),t.bcconnected&&Ah(t.bcChannel,e,t)};class cZ extends cb{constructor(e,r,n,{connect:i=!0,awareness:o=new iZ(n),params:c={},WebSocketPolyfill:f=WebSocket,resyncInterval:m=-1,maxBackoffTime:x=2500}={}){for(super();e[e.length-1]==="/";)e=e.slice(0,e.length-1);const E=lZ(c);this.maxBackoffTime=x,this.bcChannel=e+"/"+r,this.url=e+"/"+r+(E.length===0?"":"?"+E),this.roomname=r,this.doc=n,this._WS=f,this.awareness=o,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.wsUnsuccessfulReconnects=0,this.messageHandlers=Xv.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=i,this._resyncInterval=0,m>0&&(this._resyncInterval=setInterval(()=>{if(this.ws){const b=ui();Vt(b,Pf),z5(b,n),this.ws.send(Un(b))}},m)),this._bcSubscriber=(b,S)=>{if(S!==this){const g=FP(this,new Uint8Array(b),!1);b7(g)>1&&Ah(this.bcChannel,Un(g),this)}},this._updateHandler=(b,S)=>{if(S!==this){const g=ui();Vt(g,Pf),eZ(g,b),a6(this,Un(g))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:b,updated:S,removed:g},O)=>{const C=b.concat(S).concat(g),N=ui();Vt(N,tp),ua(N,zm(o,C)),a6(this,Un(N))},this._beforeUnloadHandler=()=>{pk(this.awareness,[n.clientID],"window unload")},typeof window!="undefined"?window.addEventListener("beforeunload",this._beforeUnloadHandler):typeof process!="undefined"&&process.on("exit",()=>this._beforeUnloadHandler),o.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&GT<i0()-this.wsLastMessageReceived&&this.ws.close()},GT/10),i&&this.connect()}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){this._resyncInterval!==0&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),typeof window!="undefined"?window.removeEventListener("beforeunload",this._beforeUnloadHandler):typeof process!="undefined"&&process.off("exit",()=>this._beforeUnloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){this.bcconnected||(ZX(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const e=ui();Vt(e,Pf),z5(e,this.doc),Ah(this.bcChannel,Un(e),this);const r=ui();Vt(r,Pf),NP(r,this.doc),Ah(this.bcChannel,Un(r),this);const n=ui();Vt(n,RP),Ah(this.bcChannel,Un(n),this);const i=ui();Vt(i,tp),ua(i,zm(this.awareness,[this.doc.clientID])),Ah(this.bcChannel,Un(i),this)}disconnectBc(){const e=ui();Vt(e,tp),ua(e,zm(this.awareness,[this.doc.clientID],new Map)),a6(this,Un(e)),this.bcconnected&&(QX(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.wsconnected&&this.ws===null&&(zP(this),this.connectBc())}}var fZ=new URL(window.location.href),dZ=new URLSearchParams(fZ.search),hZ="ws://localhost:1234",pZ="playground",mZ=dZ.get("collabId")||"0";function BP(t,e){var r=e.get(t);return r===void 0?(r=new Pu,e.set(t,r)):r.load(),new cZ(hZ,pZ+"/"+mZ+"/"+t,r,{connect:!1})}var E3=function(t){jr(r,t);var e=Rr(r);function r(){return ar(this,r),e.apply(this,arguments)}return ir(r,[{key:"createDOM",value:function(i){var o=Qn(Nn(r.prototype),"createDOM",this).call(this,i);return o.style.cursor="default",o.className="keyword",o}},{key:"canInsertTextBefore",value:function(){return!1}},{key:"canInsertTextAfter",value:function(){return!1}},{key:"isTextEntity",value:function(){return!0}}],[{key:"getType",value:function(){return"keyword"}},{key:"clone",value:function(i){return new r(i.__text,i.__key)}}]),r}(Io);function vZ(t){return new E3(t)}var gZ=/(^|$|[^A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------])(congrats|congratulations|gratuluju|gratuluji|gratulujeme|blahopeju|blahopeji|blahopejeme|Til lykke|Tillykke|Glckwunsch|Gratuliere|felicitaciones|enhorabuena|paljon onnea|onnittelut|Flicitations|gratula|gratullok|gratullunk|congratulazioni|complimenti|||||gratulerer|Gefeliciteerd|gratulacje|Parabns|parabns|felicitaes|felicitri| |||gratulujem|blahoelm|||tebrikler|tebrik ederim||||||baie geluk|veels geluk||estitam|estitke|estitamo||||badhai|||| |hongera|||||Chc mng| |mazel tov|mazal tov)(^|$|[^A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------])/i;function HP(){var t=sr(),e=Se(t,1),r=e[0];re.exports.useEffect(function(){if(!r.hasNodes([E3]))throw new Error("KeywordsPlugin: KeywordNode not registered on editor")},[r]);var n=re.exports.useCallback(function(o){return vZ(o.getTextContent())},[]),i=re.exports.useCallback(function(o){var c=gZ.exec(o);if(c===null)return null;var f=c[2].length,m=c.index+c[1].length,x=m+f;return{end:x,start:m}},[]);return SI(i,E3,n),null}var yZ="background-color: rgba(24, 119, 232, 0.2)",mk=function(t){jr(r,t);var e=Rr(r);function r(n,i,o){var c;return ar(this,r),c=e.call(this,i!=null?i:n,o),c.__mention=n,c}return ir(r,[{key:"createDOM",value:function(i){var o=Qn(Nn(r.prototype),"createDOM",this).call(this,i);return o.style.cssText=yZ,o.className="mention",o}},{key:"isTextEntity",value:function(){return!0}}],[{key:"getType",value:function(){return"mention"}},{key:"clone",value:function(i){return new r(i.__mention,i.__text,i.__key)}}]),r}(Io);function bZ(t){var e=new mk(t);return e.setMode("segmented").toggleDirectionless(),e}var UP=`\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'"~=<>_:;`,wZ="\\b[A-Z][^\\s"+UP+"]",KP={NAME:wZ,PUNCTUATION:UP},xZ=new RegExp("(^|[^#])((?:"+KP.NAME+"{"+1+",})$)"),WP=KP.PUNCTUATION,vk=["@","\\uff20"].join(""),$P="[^"+vk+WP+"\\s]",kZ="(?:\\.[ |$]| |["+WP+"]|)",CZ=75,SZ=new RegExp("(^|\\s|\\()(["+vk+"]((?:"+$P+kZ+"){0,"+CZ+"}))$"),EZ=50,_Z=new RegExp("(^|\\s|\\()(["+vk+"]((?:"+$P+"){0,"+EZ+"}))$"),VT=5,i6=new Map,TZ=["Aayla Secura","Adi Gallia","Admiral Dodd Rancit","Admiral Firmus Piett","Admiral Gial Ackbar","Admiral Ozzel","Admiral Raddus","Admiral Terrinald Screed","Admiral Trench","Admiral U.O. Statura","Agen Kolar","Agent Kallus","Aiolin and Morit Astarte","Aks Moe","Almec","Alton Kastle","Amee","AP-5","Armitage Hux","Artoo","Arvel Crynyd","Asajj Ventress","Aurra Sing","AZI-3","Bala-Tik","Barada","Bargwill Tomder","Baron Papanoida","Barriss Offee","Baze Malbus","Bazine Netal","BB-8","BB-9E","Ben Quadinaros","Berch Teller","Beru Lars","Bib Fortuna","Biggs Darklighter","Black Krrsantan","Bo-Katan Kryze","Boba Fett","Bobbajo","Bodhi Rook","Borvo the Hutt","Boss Nass","Bossk","Breha Antilles-Organa","Bren Derlin","Brendol Hux","BT-1","C-3PO","C1-10P","Cad Bane","Caluan Ematt","Captain Gregor","Captain Phasma","Captain Quarsh Panaka","Captain Rex","Carlist Rieekan","Casca Panzoro","Cassian Andor","Cassio Tagge","Cham Syndulla","Che Amanwe Papanoida","Chewbacca","Chi Eekway Papanoida","Chief Chirpa","Chirrut \xCEmwe","Ciena Ree","Cin Drallig","Clegg Holdfast","Cliegg Lars","Coleman Kcaj","Coleman Trebor","Colonel Kaplan","Commander Bly","Commander Cody (CC-2224)","Commander Fil (CC-3714)","Commander Fox","Commander Gree","Commander Jet","Commander Wolffe","Conan Antonio Motti","Conder Kyl","Constable Zuvio","Cord\xE9","Cpatain Typho","Crix Madine","Cut Lawquane","Dak Ralter","Dapp","Darth Bane","Darth Maul","Darth Tyranus","Daultay Dofine","Del Meeko","Delian Mors","Dengar","Depa Billaba","Derek Klivian","Dexter Jettster","Dine\xE9 Ellberger","DJ","Doctor Aphra","Doctor Evazan","Dogma","Dorm\xE9","Dr. Cylo","Droidbait","Droopy McCool","Dryden Vos","Dud Bolt","Ebe E. Endocott","Echuu Shen-Jon","Eeth Koth","Eighth Brother","Eirta\xE9","Eli Vanto","Ell\xE9","Ello Asty","Embo","Eneb Ray","Enfys Nest","EV-9D9","Evaan Verlaine","Even Piell","Ezra Bridger","Faro Argyus","Feral","Fifth Brother","Finis Valorum","Finn","Fives","FN-1824","FN-2003","Fodesinbeed Annodue","Fulcrum","FX-7","GA-97","Galen Erso","Gallius Rax",'Garazeb "Zeb" Orrelios',"Gardulla the Hutt","Garrick Versio","Garven Dreis","Gavyn Sykes","Gideon Hask","Gizor Dellso","Gonk droid","Grand Inquisitor","Greeata Jendowanian","Greedo","Greer Sonnel","Grievous","Grummgar","Gungi","Hammerhead","Han Solo","Harter Kalonia","Has Obbit","Hera Syndulla","Hevy","Hondo Ohnaka","Huyang","Iden Versio","IG-88","Ima-Gun Di","Inquisitors","Inspector Thanoth","Jabba","Jacen Syndulla","Jan Dodonna","Jango Fett","Janus Greejatus","Jar Jar Binks","Jas Emari","Jaxxon","Jek Tono Porkins","Jeremoch Colton","Jira","Jobal Naberrie","Jocasta Nu","Joclad Danva","Joh Yowza","Jom Barell","Joph Seastriker","Jova Tarkin","Jubnuk","Jyn Erso","K-2SO","Kanan Jarrus","Karbin","Karina the Great","Kes Dameron","Ketsu Onyo","Ki-Adi-Mundi","King Katuunko","Kit Fisto","Kitster Banai","Klaatu","Klik-Klak","Korr Sella","Kylo Ren","L3-37","Lama Su","Lando Calrissian","Lanever Villecham","Leia Organa","Letta Turmond","Lieutenant Kaydel Ko Connix","Lieutenant Thire","Lobot","Logray","Lok Durd","Longo Two-Guns","Lor San Tekka","Lorth Needa","Lott Dod","Luke Skywalker","Lumat","Luminara Unduli","Lux Bonteri","Lyn Me","Lyra Erso","Mace Windu","Malakili","Mama the Hutt","Mars Guo","Mas Amedda","Mawhonic","Max Rebo","Maximilian Veers","Maz Kanata","ME-8D9","Meena Tills","Mercurial Swift","Mina Bonteri","Miraj Scintel","Mister Bones","Mod Terrik","Moden Canady","Mon Mothma","Moradmin Bast","Moralo Eval","Morley","Mother Talzin","Nahdar Vebb","Nahdonnis Praji","Nien Nunb","Niima the Hutt","Nines","Norra Wexley","Nute Gunray","Nuvo Vindi","Obi-Wan Kenobi","Odd Ball","Ody Mandrell","Omi","Onaconda Farr","Oola","OOM-9","Oppo Rancisis","Orn Free Taa","Oro Dassyne","Orrimarko","Osi Sobeck","Owen Lars","Pablo-Jill","Padm\xE9 Amidala","Pagetti Rook","Paige Tico","Paploo","Petty Officer Thanisson","Pharl McQuarrie","Plo Koon","Po Nudo","Poe Dameron","Poggle the Lesser","Pong Krell","Pooja Naberrie","PZ-4CO","Quarrie","Quay Tolsite","Queen Apailana","Queen Jamillia","Queen Neeyutnee","Qui-Gon Jinn","Quiggold","Quinlan Vos","R2-D2","R2-KT","R3-S6","R4-P17","R5-D4","RA-7","Rab\xE9","Rako Hardeen","Ransolm Casterfo","Rappertunie","Ratts Tyerell","Raymus Antilles","Ree-Yees","Reeve Panzoro","Rey","Ric Oli\xE9","Riff Tamson","Riley","Rinnriyin Di","Rio Durant","Rogue Squadron","Romba","Roos Tarpals","Rose Tico","Rotta the Hutt","Rukh","Rune Haako","Rush Clovis","Ruwee Naberrie","Ryoo Naberrie","Sab\xE9","Sabine Wren","Sach\xE9","Saelt-Marae","Saesee Tiin","Salacious B. Crumb","San Hill","Sana Starros","Sarco Plank","Sarkli","Satine Kryze","Savage Opress","Sebulba","Senator Organa","Sergeant Kreel","Seventh Sister","Shaak Ti","Shara Bey","Shmi Skywalker","Shu Mai","Sidon Ithano","Sifo-Dyas","Sim Aloo","Siniir Rath Velus","Sio Bibble","Sixth Brother","Slowen Lo","Sly Moore","Snaggletooth","Snap Wexley","Snoke","Sola Naberrie","Sora Bulq","Strono Tuggs","Sy Snootles","Tallissan Lintra","Tarfful","Tasu Leech","Taun We","TC-14","Tee Watt Kaa","Teebo","Teedo","Teemto Pagalies","Temiri Blagg","Tessek","Tey How","Thane Kyrell","The Bendu","The Smuggler","Thrawn","Tiaan Jerjerrod","Tion Medon","Tobias Beckett","Tulon Voidgazer","Tup","U9-C4","Unkar Plutt","Val Beckett","Vanden Willard","Vice Admiral Amilyn Holdo","Vober Dand","WAC-47","Wag Too","Wald","Walrus Man","Warok","Wat Tambor","Watto","Wedge Antilles","Wes Janson","Wicket W. Warrick","Wilhuff Tarkin","Wollivan","Wuher","Wullf Yularen","Xamuel Lennox","Yaddle","Yarael Poof","Yoda","Zam Wesell","Zev Senesca","Ziro the Hutt","Zuckuss"],OZ={search:function(e,r){setTimeout(function(){var n=TZ.filter(function(i){return i.toLowerCase().includes(e.toLowerCase())});n.length===0?r(null):r(n)},500)}};function AZ(t){var e=re.exports.useState(null),r=Se(e,2),n=r[0],i=r[1];return re.exports.useEffect(function(){var o=i6.get(t);if(o!==null){if(o!==void 0){i(o);return}i6.set(t,null),OZ.search(t,function(c){i6.set(t,c),i(c)})}},[t]),n}function MZ(t){var e=t.index,r=t.isHovered,n=t.isSelected,i=t.onClick,o=t.onMouseEnter,c=t.onMouseLeave,f=t.result,m=re.exports.useRef(null),x="item";return n&&(x+=" selected"),r&&(x+=" hovered"),Q("li",{tabIndex:-1,className:x,ref:m,role:"option","aria-selected":n,id:"typeahead-item-"+e,onMouseEnter:o,onMouseLeave:c,onClick:i,children:f},f)}function IZ(t){var e=t.close,r=t.editor,n=t.resolution,i=re.exports.useRef(null),o=n.match,c=AZ(o.matchingString),f=re.exports.useState(null),m=Se(f,2),x=m[0],E=m[1],b=re.exports.useState(null),S=Se(b,2),g=S[0],O=S[1];re.exports.useEffect(function(){var P=i.current,D=r.getRootElement();if(c!==null&&P!==null&&D!==null){var F=n.range,I=F.getBoundingClientRect(),q=I.left,V=I.top,te=I.height;return P.style.top="".concat(V+te+2,"px"),P.style.left="".concat(q-14,"px"),P.style.display="block",D.setAttribute("aria-controls","mentions-typeahead"),function(){P.style.display="none",D.removeAttribute("aria-controls")}}},[r,n,c]);var C=re.exports.useCallback(function(){if(!(c===null||x===null)){var P=c[x];e(),zZ(r,P,o)}},[e,o,r,c,x]),N=re.exports.useCallback(function(P){var D=r.getRootElement();D!==null&&(D.setAttribute("aria-activedescendant","typeahead-item-"+P),E(P))},[r]);return re.exports.useEffect(function(){return function(){var P=r.getRootElement();P!==null&&P.removeAttribute("aria-activedescendant")}},[r]),hl(function(){c===null?E(null):x===null&&N(0)},[c,x,N]),re.exports.useEffect(function(){return pa(r.registerCommand(hv,function(P){var D=P;return c!==null&&x!==null&&(x<VT-1&&x!==c.length-1&&N(x+1),D.preventDefault(),D.stopImmediatePropagation()),!0},$n),r.registerCommand(qf,function(P){var D=P;return c!==null&&x!==null&&(x!==0&&N(x-1),D.preventDefault(),D.stopImmediatePropagation()),!0},$n),r.registerCommand(Q3,function(P){var D=P;return c===null||x===null?!1:(D.preventDefault(),D.stopImmediatePropagation(),e(),!0)},$n),r.registerCommand(J3,function(P){var D=P;return c===null||x===null?!1:(D.preventDefault(),D.stopImmediatePropagation(),C(),!0)},$n),r.registerCommand(yp,function(P){return c===null||x===null?!1:(P!==null&&(P.preventDefault(),P.stopImmediatePropagation()),C(),!0)},$n))},[C,e,r,c,x,N]),c===null?null:Q("div",{"aria-label":"Suggested mentions",id:"mentions-typeahead",ref:i,role:"listbox",children:Q("ul",{children:c.slice(0,VT).map(function(P,D){return Q(MZ,{index:D,isHovered:D===g,isSelected:D===x,onClick:function(){E(D),C()},onMouseEnter:function(){O(D)},onMouseLeave:function(){O(null)},result:P},P)})})})}function DZ(t,e){var r=xZ.exec(t);if(r!==null){var n=r[1],i=r[2];if(i!=null&&i.length>=e)return{leadOffset:r.index+n.length,matchingString:i,replaceableString:i}}return null}function LZ(t,e){var r=SZ.exec(t);if(r===null&&(r=_Z.exec(t)),r!==null){var n=r[1],i=r[3];if(i.length>=e)return{leadOffset:r.index+n.length,matchingString:i,replaceableString:r[2]}}return null}function PZ(t){var e=LZ(t,1);return e===null?DZ(t,3):e}function NZ(t){var e=t.anchor;if(e.type!=="text")return null;var r=e.getNode();if(!r.isSimpleText())return null;var n=e.offset;return r.getTextContent().slice(0,n)}function jZ(t,e){var r=window.getSelection();if(r===null||!r.isCollapsed)return!1;var n=r.anchorNode,i=t.leadOffset,o=r.anchorOffset;try{e.setStart(n,i),e.setEnd(n,o)}catch{return!1}return!0}function RZ(t){var e=null;return t.getEditorState().read(function(){var r=Me();!De(r)||(e=NZ(r))}),e}function FZ(t,e,r){for(var n=r,i=n;i<=e.length;i++)t.substr(-i)===e.substr(0,i)&&(n=i);return n}function zZ(t,e,r){t.update(function(){var n=Me();if(!(!De(n)||!n.isCollapsed())){var i=n.anchor;if(i.type==="text"){var o=i.getNode();if(!!o.isSimpleText()){var c=i.offset,f=o.getTextContent().slice(0,c),m=r.replaceableString.length,x=FZ(f,e,m),E=c-x;if(!(E<0)){var b;if(E===0){var S=o.splitText(c),g=Se(S,1);b=g[0]}else{var O=o.splitText(E,c),C=Se(O,2);b=C[1]}var N=bZ(e);b.replace(N),N.select()}}}}})}function BZ(t,e){return e!==0?!1:t.getEditorState().read(function(){var r=Me();if(De(r)){var n=r.anchor,i=n.getNode(),o=i.getPreviousSibling();return Ue(o)&&o.isTextEntity()}return!1})}function HZ(t){var e=re.exports.useState(null),r=Se(e,2),n=r[0],i=r[1];re.exports.useEffect(function(){if(!t.hasNodes([mk]))throw new Error("MentionsPlugin: MentionNode not registered on editor")},[t]),re.exports.useEffect(function(){var c=document.createRange(),f=null,m=function(){var b=c,S=RZ(t);if(!(S===f||b===null)&&(f=S,S!==null)){var g=PZ(S);if(g!==null&&!BZ(t,g.leadOffset)){var O=jZ(g,b);if(O!==null){re.exports.startTransition(function(){return i({match:g,range:b})});return}}re.exports.startTransition(function(){return i(null)})}},x=t.registerUpdateListener(m);return function(){c=null,x()}},[t]);var o=re.exports.useCallback(function(){i(null)},[]);return n===null||t===null?null:Ai.exports.createPortal(Q(IZ,{close:o,resolution:n,editor:t}),document.body)}function GP(){var t=sr(),e=Se(t,1),r=e[0];return HZ(r)}function UZ(t){var e=t.onClose,r=t.tableCellNode,n=t.setIsMenuOpen,i=t.contextRef,o=sr(),c=Se(o,1),f=c[0],m=re.exports.useRef(),x=re.exports.useState(r),E=Se(x,2),b=E[0],S=E[1],g=re.exports.useState({columns:1,rows:1}),O=Se(g,2),C=O[0],N=O[1];re.exports.useEffect(function(){return f.registerMutationListener(Hv,function(W){var de=W.get(b.getKey())==="updated";de&&f.getEditorState().read(function(){S(b.getLatest())})})},[f,b]),re.exports.useEffect(function(){f.getEditorState().read(function(){var W=Me();if(Mn(W)){var de=W.getShape();N({columns:de.toX-de.fromX+1,rows:de.toY-de.fromY+1})}})},[f]),re.exports.useEffect(function(){var W=i.current,de=m.current;if(W!=null&&de!=null){var ie=W.getBoundingClientRect();de.style.opacity="1",de.style.left="".concat(ie.left+ie.width+window.pageXOffset+5,"px"),de.style.top="".concat(ie.top+window.pageYOffset,"px")}},[i,m]),re.exports.useEffect(function(){function W(de){m.current!=null&&i.current!=null&&!m.current.contains(de.target)&&!i.current.contains(de.target)&&n(!1)}return window.addEventListener("click",W),function(){return window.removeEventListener("click",W)}},[n,i]);var P=re.exports.useCallback(function(){f.update(function(){if(b.isAttached()){var W=bo(b),de=f.getElementByKey(W.getKey());if(!de)throw new Error("Expected to find tableElement in DOM");var ie=YW(de);ie.clearHighlight(),W.markDirty(),S(b.getLatest())}Ta(null)})},[f,b]),D=re.exports.useCallback(function(W){f.update(function(){var de=Me(),ie=bo(b),ue;if(Mn(de)){var ve=de.getShape();ue=W?ve.toY:ve.fromY}else ue=u4(b);var pe=ZW(f,ie);n$(ie,ue,W,C.rows,pe),P(),e()})},[f,b,C.rows,P,e]),F=re.exports.useCallback(function(W){f.update(function(){var de=Me(),ie=bo(b),ue;if(Mn(de)){var ve=de.getShape();ue=W?ve.toX:ve.fromX}else ue=c4(b);a$(ie,ue,W,C.columns),P(),e()})},[f,b,C.columns,P,e]),I=re.exports.useCallback(function(){f.update(function(){var W=bo(b),de=u4(b);r$(W,de),P(),e()})},[f,b,P,e]),q=re.exports.useCallback(function(){f.update(function(){var W=bo(b);W.remove(),P(),e()})},[f,b,P,e]),V=re.exports.useCallback(function(){f.update(function(){var W=bo(b),de=c4(b);i$(W,de),P(),e()})},[f,b,P,e]),te=re.exports.useCallback(function(W){f.update(function(){var de=bo(b),ie=u4(b),ue=de.getChildren();if(ie>=ue.length||ie<0)throw new Error("Expected table cell to be inside of table row.");var ve=ue[ie];if(!Ps(ve))throw new Error("Expected table row");ve.getChildren().forEach(function(pe){if(!Ir(pe))throw new Error("Expected table cell");pe.toggleHeaderStyle(Sa.ROW)}),P(),e()})},[f,b,P,e]),ne=re.exports.useCallback(function(W){f.update(function(){for(var de=bo(b),ie=c4(b),ue=de.getChildren(),ve=0;ve<ue.length;ve++){var pe=ue[ve];if(!Ps(pe))throw new Error("Expected table row");var xe=pe.getChildren();if(ie>=xe.length||ie<0)throw new Error("Expected table cell to be inside of table row.");var Oe=xe[ie];if(!Ir(Oe))throw new Error("Expected table cell");Oe.toggleHeaderStyle(Sa.COLUMN)}P(),e()})},[f,b,P,e]);return Ai.exports.createPortal(ct("div",{className:"dropdown",ref:m,onClick:function(de){de.stopPropagation()},children:[Q("button",{className:"item",onClick:function(){return D(!1)},children:ct("span",{className:"text",children:["Insert"," ",C.rows===1?"row":"".concat(C.rows," rows")," ","above"]})}),Q("button",{className:"item",onClick:function(){return D(!0)},children:ct("span",{className:"text",children:["Insert"," ",C.rows===1?"row":"".concat(C.rows," rows")," ","below"]})}),Q("hr",{}),Q("button",{className:"item",onClick:function(){return F(!1)},children:ct("span",{className:"text",children:["Insert"," ",C.columns===1?"column":"".concat(C.columns," columns")," ","left"]})}),Q("button",{className:"item",onClick:function(){return F(!0)},children:ct("span",{className:"text",children:["Insert"," ",C.columns===1?"column":"".concat(C.columns," columns")," ","right"]})}),Q("hr",{}),Q("button",{className:"item",onClick:function(){return V()},children:Q("span",{className:"text",children:"Delete column"})}),Q("button",{className:"item",onClick:function(){return I()},children:Q("span",{className:"text",children:"Delete row"})}),Q("button",{className:"item",onClick:function(){return q()},children:Q("span",{className:"text",children:"Delete table"})}),Q("hr",{}),Q("button",{className:"item",onClick:function(){return te()},children:ct("span",{className:"text",children:[(b.__headerState&Sa.ROW)===Sa.ROW?"Remove":"Add"," ","row header"]})}),Q("button",{className:"item",onClick:function(){return ne()},children:ct("span",{className:"text",children:[(b.__headerState&Sa.COLUMN)===Sa.COLUMN?"Remove":"Add"," ","column header"]})})]}),document.body)}function KZ(){var t=sr(),e=Se(t,1),r=e[0],n=re.exports.useRef(null),i=re.exports.useRef(null),o=re.exports.useState(!1),c=Se(o,2),f=c[0],m=c[1],x=re.exports.useState(null),E=Se(x,2),b=E[0],S=E[1],g=re.exports.useCallback(function(){var C=n.current,N=Me(),P=window.getSelection(),D=document.activeElement;if(N==null||C==null){S(null);return}var F=r.getRootElement();if(De(N)&&F!==null&&F.contains(P.anchorNode)){var I=e$(N.anchor.getNode());if(I==null){S(null);return}var q=r.getElementByKey(I.getKey());if(q==null){S(null);return}S(I)}else D||S(null)},[r]);re.exports.useEffect(function(){return r.registerUpdateListener(function(){r.getEditorState().read(function(){g()})})}),re.exports.useEffect(function(){var C=n.current;if(C!=null&&b!=null){var N=r.getElementByKey(b.getKey());if(N!=null){var P=N.getBoundingClientRect(),D=C.getBoundingClientRect();C.style.opacity="1",C.style.left="".concat(P.left+window.pageXOffset-D.width+P.width-10,"px"),C.style.top="".concat(P.top+window.pageYOffset+5,"px")}else C.style.opacity="0"}},[n,b,r]);var O=re.exports.useRef(b);return re.exports.useEffect(function(){O.current!==b&&m(!1),O.current=b},[O,b]),Q("div",{className:"table-cell-action-button-container",ref:n,children:b!=null&&ct(dn,{children:[Q("button",{className:"table-cell-action-button chevron-down",onClick:function(N){N.stopPropagation(),m(!f)},ref:i,children:Q("i",{className:"chevron-down"})}),f&&Q(UZ,{contextRef:i,setIsMenuOpen:m,onClose:function(){return m(!1)},tableCellNode:b})]})})}function VP(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useMemo(function(){return Ai.exports.createPortal(Q(KZ,{editor:r}),document.body)},[r])}var qP=Object.freeze({"	":"\\t","\n":"\\n"}),qT=new RegExp(Object.keys(qP).join("|"),"g"),Cs=Object.freeze({ancestorHasNextSibling:"|",ancestorIsLastChild:" ",hasNextSibling:"\u251C",isLastChild:"\u2514",selectedChar:"^",selectedLine:">"});function WZ(t){var e=t.timeTravelButtonClassName,r=t.timeTravelPanelSliderClassName,n=t.timeTravelPanelButtonClassName,i=t.viewClassName,o=t.timeTravelPanelClassName,c=t.editor,f=re.exports.useState([]),m=Se(f,2),x=m[0],E=m[1],b=re.exports.useState(""),S=Se(b,2),g=S[0],O=S[1],C=re.exports.useState(!1),N=Se(C,2),P=N[0],D=N[1],F=re.exports.useRef(0),I=re.exports.useRef(null),q=re.exports.useRef(null),V=re.exports.useState(!1),te=Se(V,2),ne=te[0],W=te[1];re.exports.useEffect(function(){return O(YT(c.getEditorState())),c.registerUpdateListener(function(ie){var ue=ie.editorState,ve=c._compositionKey,pe=YT(c.getEditorState()),xe=ve!==null&&"Composition key: ".concat(ve);O([pe,xe].filter(Boolean).join(`

`)),P||E(function(Oe){return[].concat(jt(Oe),[[Date.now(),ue]])})})},[P,c]);var de=x.length;return re.exports.useEffect(function(){if(ne){var ie,ue=function ve(){var pe=F.current;if(pe===de-1){W(!1);return}var xe=x[pe][0],Oe=x[pe+1][0],Fe=Oe-xe;ie=setTimeout(function(){F.current++;var ye=F.current,Pe=q.current;Pe!==null&&(Pe.value=String(ye)),c.setEditorState(x[ye][1]),ve()},Fe)};return ue(),function(){window.clearTimeout(ie)}}},[x,ne,c,de]),re.exports.useEffect(function(){var ie=I.current;if(ie!==null)return ie.__lexicalEditor=c,function(){ie.__lexicalEditor=null}},[c]),ct("div",{className:i,children:[!P&&de>2&&Q("button",{onClick:function(){var ue=c.getRootElement();ue!==null&&(ue.contentEditable="false",F.current=de-1,D(!0))},className:e,children:"Time Travel"}),Q("pre",{ref:I,children:g}),P&&ct("div",{className:o,children:[Q("button",{className:n,onClick:function(){W(!ne)},children:ne?"Pause":"Play"}),Q("input",{className:r,ref:q,onChange:function(ue){var ve=Number(ue.target.value),pe=x[ve];pe&&(F.current=ve,c.setEditorState(pe[1]))},type:"range",min:"1",max:de-1}),Q("button",{className:n,onClick:function(){var ue=c.getRootElement();if(ue!==null){ue.contentEditable="true";var ve=x.length-1,pe=x[ve];c.setEditorState(pe[1]);var xe=q.current;xe!==null&&(xe.value=String(ve)),D(!1),W(!1)}},children:"Exit"})]})]})}function $Z(t){var e="",r=XP(t);e+=": range ".concat(r!==""?"{ ".concat(r," }"):"");var n=t.anchor,i=t.focus,o=n.offset,c=i.offset;return e+=`
  \u251C anchor { key: `.concat(n.key,", offset: ").concat(o===null?"null":o,", type: ").concat(n.type," }"),e+=`
  \u2514 focus { key: `.concat(i.key,", offset: ").concat(c===null?"null":c,", type: ").concat(i.type," }"),e}function GZ(t){return`: node
  \u2514 [`.concat(Array.from(t._nodes).join(", "),"]")}function VZ(t){return`: grid
  \u2514 { grid: `.concat(t.gridKey,", anchorCell: ").concat(t.anchorCellKey,", focusCell: ").concat(t.focusCellKey," }")}function YT(t){var e=` root
`,r=t.read(function(){var n=Me();return YP(Sn(),function(i,o){var c=i.getKey(),f="(".concat(c,")"),m=i.getType()||"",x=i.isSelected();e+="".concat(x?Cs.selectedLine:" "," ").concat(o.join(" ")," ").concat(f," ").concat(m," ").concat(YZ(i),`
`),e+=rQ({indent:o,isSelected:x,node:i,nodeKeyDisplay:f,selection:n,typeDisplay:m})}),n===null?": null":De(n)?$Z(n):Mn(n)?VZ(n):GZ(n)});return e+`
 selection`+r}function YP(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],n=t.getChildren(),i=n.length;n.forEach(function(o,c){e(o,r.concat(c===i-1?Cs.isLastChild:Cs.hasNextSibling)),Je(o)&&YP(o,e,r.concat(c===i-1?Cs.ancestorIsLastChild:Cs.ancestorHasNextSibling))})}function qZ(t){return Object.entries(qP).reduce(function(e,r){var n=Se(r,2),i=n[0],o=n[1];return e.replace(new RegExp(i,"g"),String(o))},t)}function YZ(t){if(Ue(t)){var e=t.getTextContent(!0),r=e.length===0?"(empty)":'"'.concat(qZ(e),'"'),n=JZ(t);return[r,n.length!==0?"{ ".concat(n," }"):null].filter(Boolean).join(" ").trim()}return""}var XZ=[function(t){return t.hasFormat("bold")&&"Bold"},function(t){return t.hasFormat("code")&&"Code"},function(t){return t.hasFormat("italic")&&"Italic"},function(t){return t.hasFormat("strikethrough")&&"Strikethrough"},function(t){return t.hasFormat("underline")&&"Underline"}],ZZ=[function(t){return t.isDirectionless()&&"Directionless"},function(t){return t.isUnmergeable()&&"Unmergeable"}],QZ=[function(t){return t.isToken()&&"Token"},function(t){return t.isSegmented()&&"Segmented"},function(t){return t.isInert()&&"Inert"}];function JZ(t){return[XP(t),eQ(t),tQ(t)].filter(Boolean).join(", ")}function eQ(t){var e=ZZ.map(function(r){return r(t)}).filter(Boolean).join(", ").toLocaleLowerCase();return e!==""&&(e="detail: "+e),e}function tQ(t){var e=QZ.map(function(r){return r(t)}).filter(Boolean).join(", ").toLocaleLowerCase();return e!==""&&(e="mode: "+e),e}function XP(t){var e=XZ.map(function(r){return r(t)}).filter(Boolean).join(", ").toLocaleLowerCase();return e!==""&&(e="format: "+e),e}function rQ(t){var e=t.indent,r=t.isSelected,n=t.node,i=t.nodeKeyDisplay,o=t.selection,c=t.typeDisplay;if(!Ue(n)||!De(o)||!r||Je(n))return"";var f=o.anchor,m=o.focus;if(n.getTextContent()===""||f.getNode()===o.focus.getNode()&&f.offset===m.offset)return"";var x=nQ(n,o),E=Se(x,2),b=E[0],S=E[1];if(b===S)return"";var g=e[e.length-1]===Cs.hasNextSibling?Cs.ancestorHasNextSibling:Cs.ancestorIsLastChild,O=[].concat(jt(e.slice(0,e.length-1)),[g]),C=Array(b).fill(" "),N=Array(S-b).fill(Cs.selectedChar),P=c.length+3,D=Array(i.length+P).fill(" ");return[Cs.selectedLine,O.join(" "),[].concat(jt(D),jt(C),jt(N)).join("")].join(" ")+`
`}function nQ(t,e){var r=e.anchor,n=e.focus,i=t.getTextContent(!0),o=i.length,c=-1,f=-1;if(r.type==="text"&&n.type==="text"){var m=r.getNode(),x=n.getNode();if(m===x&&t===m&&r.offset!==n.offset){var E=r.offset<n.offset?[r.offset,n.offset]:[n.offset,r.offset],b=Se(E,2);c=b[0],f=b[1]}else if(t===m){var S=m.isBefore(x)?[r.offset,o]:[0,r.offset],g=Se(S,2);c=g[0],f=g[1]}else if(t===x){var O=x.isBefore(m)?[n.offset,o]:[0,n.offset],C=Se(O,2);c=C[0],f=C[1]}else c=0,f=o}var N=(i.slice(0,c).match(qT)||[]).length,P=(i.slice(c,f).match(qT)||[]).length;return[c+N,f+N+P]}function ZP(){var t=sr(),e=Se(t,1),r=e[0];return Q(WZ,{viewClassName:"tree-view-output",timeTravelPanelClassName:"debug-timetravel-panel",timeTravelButtonClassName:"debug-timetravel-button",timeTravelPanelSliderClassName:"debug-timetravel-panel-slider",timeTravelPanelButtonClassName:"debug-timetravel-panel-button",editor:r})}function aQ(t){var e=t.ariaActiveDescendantID,r=t.ariaAutoComplete,n=t.ariaControls,i=t.ariaDescribedBy,o=t.ariaExpanded,c=t.ariaLabel,f=t.ariaLabelledBy,m=t.ariaMultiline,x=t.ariaOwneeID,E=t.ariaRequired,b=t.autoCapitalize,S=t.autoComplete,g=t.autoCorrect,O=t.className,C=t.id,N=t.role,P=N===void 0?"textbox":N,D=t.spellCheck,F=D===void 0?!0:D,I=t.style,q=t.tabIndex,V=t.testid,te=sr(),ne=Se(te,1),W=ne[0],de=re.exports.useState(!0),ie=Se(de,2),ue=ie[0],ve=ie[1],pe=re.exports.useCallback(function(xe){W.setRootElement(xe)},[W]);return hl(function(){return ve(W.isReadOnly()),W.registerReadOnlyListener(function(xe){ve(xe)})},[W]),Q("div",{"aria-activedescendant":ue?null:e,"aria-autocomplete":ue?null:r,"aria-controls":ue?null:n,"aria-describedby":i,"aria-expanded":ue?null:P==="combobox"?!!o:null,"aria-label":c,"aria-labelledby":f,"aria-multiline":m,"aria-owns":ue?null:x,"aria-required":E,autoCapitalize:b,autoComplete:S,autoCorrect:g,className:O,contentEditable:!ue,"data-testid":V,id:C,ref:pe,role:ue?null:P,spellCheck:F,style:I,tabIndex:q})}function _3(t){var e=t.className;return Q(aQ,{className:e||"ContentEditable__root"})}function gk(t){var e=t.children,r=t.className;return Q("div",{className:r||"Placeholder__root",children:e})}var XT=new Set;function iQ(t){if(!XT.has(t))throw new Promise(function(e){var r=new Image;r.src=t,r.onload=function(){XT.add(t),e()}})}function oQ(t){var e=t.altText,r=t.className,n=t.imageRef,i=t.src,o=t.width,c=t.height,f=t.maxWidth;return iQ(i),Q("img",{className:r,src:i,alt:e,ref:n,style:{height:c,maxWidth:f,width:o}})}function lQ(t){var e=t.onResizeStart,r=t.onResizeEnd,n=t.imageRef,i=t.editor,o=t.showCaption,c=t.setShowCaption,f=re.exports.useRef(null),m=re.exports.useRef({currentHeight:0,currentWidth:0,direction:0,isResizing:!1,ratio:0,startHeight:0,startWidth:0,startX:0,startY:0}),x=i.getRootElement(),E=x!==null?x.getBoundingClientRect().width-20:100,b=function(C,N){var P=n.current;if(P!==null){var D=P.getBoundingClientRect(),F=D.width,I=D.height,q=m.current;q.startWidth=F,q.startHeight=I,q.ratio=F/I,q.currentWidth="inherit",q.currentHeight="inherit",q.startX=C.clientX,q.startY=C.clientY,q.isResizing=!0,q.direction=N,e(),document.addEventListener("pointermove",S),document.addEventListener("pointerup",g)}},S=function(C){var N=n.current,P=m.current;if(N!==null&&P.isResizing)if(P.direction===3){var D=Math.floor(P.startY-C.clientY)*2,F=150*P.ratio,I=E/P.ratio,q=P.startHeight+D;q<F?q=F:q>I&&(q=I),N.style.width="inherit",N.style.height="".concat(q,"px"),P.currentHeight=q}else if(P.direction===2){var V=Math.floor(C.clientY-P.startY),te=150*P.ratio,ne=E/P.ratio,W=P.startHeight+V;W<te?W=te:W>ne&&(W=ne),N.style.width="inherit",N.style.height="".concat(W,"px"),P.currentHeight=W}else{var de=Math.floor(C.clientX-P.startX),ie=150*P.ratio,ue=E,ve=P.startWidth+de;ve<ie?ve=ie:ve>ue&&(ve=ue),N.style.width="".concat(ve,"px"),N.style.height="inherit",P.currentWidth=ve}},g=function O(C){var N=n.current,P=m.current;if(N!==null&&P.isResizing){var D=P.currentWidth,F=P.currentHeight;P.startWidth=0,P.startHeight=0,P.ratio=0,P.startX=0,P.startY=0,P.currentWidth=0,P.currentHeight=0,P.isResizing=!1,r(D,F),document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",O)}};return ct(dn,{children:[!o&&Q("button",{className:"image-caption-button",ref:f,onClick:function(){c(!o)},children:"Add Caption"}),Q("div",{className:"image-resizer-ne",onPointerDown:function(C){b(C,0)}}),Q("div",{className:"image-resizer-se",onPointerDown:function(C){b(C,1)}}),Q("div",{className:"image-resizer-sw",onPointerDown:function(C){b(C,2)}}),Q("div",{className:"image-resizer-nw",onPointerDown:function(C){b(C,3)}})]})}function sQ(t){var e=t.src,r=t.altText,n=t.nodeKey,i=t.width,o=t.height,c=t.maxWidth,f=t.resizable,m=t.showCaption,x=t.caption,E=re.exports.useRef(null),b=AP(n),S=Se(b,3),g=S[0],O=S[1],C=S[2],N=re.exports.useState(!1),P=Se(N,2),D=P[0],F=P[1],I=Dp(),q=I.yjsDocMap,V=sr(),te=Se(V,1),ne=te[0],W=q.get("main")!==void 0,de=re.exports.useState(null),ie=Se(de,2),ue=ie[0],ve=ie[1],pe=re.exports.useCallback(function(G){if(g&&Ls(Me())){var A=G;A.preventDefault(),ne.update(function(){var zt=qt(n);o6(zt)&&zt.remove(),O(!1)})}return!1},[ne,g,n,O]);re.exports.useEffect(function(){return pa(ne.registerUpdateListener(function(G){var A=G.editorState;ve(A.read(function(){return Me()}))}),ne.registerCommand(q3,function(G){var A=G;return D?!0:A.target===E.current?(A.shiftKey||C(),O(!g),!0):!1},$n),ne.registerCommand(Rv,pe,$n),ne.registerCommand(Op,pe,$n))},[C,ne,D,g,n,pe,O]);var xe=re.exports.useCallback(function(){ne.update(function(){var G=qt(n);o6(G)&&G.setShowCaption(!0)})},[ne,n]),Oe=re.exports.useCallback(function(G,A){var zt=ne.getRootElement();zt!==null&&zt.style.setProperty("cursor","default"),setTimeout(function(){F(!1)},200),ne.update(function(){var Ht=qt(n);o6(Ht)&&Ht.setWidthAndHeight(G,A)})},[ne,n]),Fe=re.exports.useCallback(function(){var G=ne.getRootElement();G!==null&&G.style.setProperty("cursor","nwse-resize","important"),F(!0)},[ne]),ye=o7(),Pe=ye.historyState,ze=nb(),Ze=ze.settings.showNestedEditorTreeView;return Q(re.exports.Suspense,{fallback:null,children:ct(dn,{children:[Q(oQ,{className:g||D?"focused":null,src:e,altText:r,imageRef:E,width:i,height:o,maxWidth:c}),m&&Q("div",{className:"image-caption-container",children:ct(DP,{initialEditor:x,children:[Q(GP,{}),Q(hD,{}),Q(VP,{}),Q(JP,{}),Q(_I,{}),Q(DL,{}),Q(EI,{}),Q(HP,{}),W?Q(SL,{id:x.getKey(),providerFactory:BP,shouldBootstrap:!0}):Q(e3,{externalHistoryState:Pe}),Q(sD,{contentEditable:Q(_3,{className:"ImageNode__contentEditable"}),placeholder:Q(gk,{className:"ImageNode__placeholder",children:"Enter a caption..."}),initialEditorState:null}),Ze&&Q(ZP,{})]})}),f&&Ls(ue)&&(g||D)&&Q(lQ,{showCaption:m,setShowCaption:xe,editor:ne,imageRef:E,onResizeStart:Fe,onResizeEnd:Oe})]})})}var Mb=function(t){jr(r,t);var e=Rr(r);function r(n,i,o,c,f,m,x,E){var b;return ar(this,r),b=e.call(this,E),b.__src=n,b.__altText=i,b.__maxWidth=o,b.__width=c||"inherit",b.__height=f||"inherit",b.__showCaption=m||!1,b.__caption=x||jv(),b}return ir(r,[{key:"setWidthAndHeight",value:function(i,o){var c=this.getWritable();c.__width=i,c.__height=o}},{key:"setShowCaption",value:function(i){var o=this.getWritable();o.__showCaption=i}},{key:"createDOM",value:function(i){var o=document.createElement("span"),c=i.theme,f=c.image;return f!==void 0&&(o.className=f),o}},{key:"updateDOM",value:function(){return!1}},{key:"decorate",value:function(){return Q(sQ,{src:this.__src,altText:this.__altText,width:this.__width,height:this.__height,maxWidth:this.__maxWidth,nodeKey:this.getKey(),showCaption:this.__showCaption,caption:this.__caption,resizable:!0})}}],[{key:"getType",value:function(){return"image"}},{key:"clone",value:function(i){return new r(i.__src,i.__altText,i.__maxWidth,i.__width,i.__height,i.__showCaption,i.__caption,i.__key)}}]),r}(Fu);function uQ(t,e,r){return new Mb(t,e,r)}function o6(t){return t instanceof Mb}var QP=er();function JP(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useEffect(function(){if(!r.hasNodes([Mb]))throw new Error("ImagesPlugin: ImageNode not registered on editor");return r.registerCommand(QP,function(){var n=Me();if(De(n)){fn(n.anchor.getNode())&&n.insertParagraph();var i=uQ(VX,"Yellow flower in tilt shift lens",500);n.insertNodes([i])}return!0},Nt)},[r]),null}function cQ(t){var e=t.getNodes();return e.length===0?new Set([t.anchor.getNode().getParentOrThrow(),t.focus.getNode().getParentOrThrow()]):new Set(e.map(function(r){return Je(r)?r:r.getParentOrThrow()}))}function fQ(t){var e=Me();if(!De(e))return!1;var r=cQ(e),n=0,i=qa(r),o;try{for(i.s();!(o=i.n()).done;){var c=o.value;if(Yr(c))n=Math.max(g5(c)+1,n);else if(Wn(c)){var f=c.getParent();if(!Yr(f))throw new Error("ListMaxIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");n=Math.max(g5(f)+1,n)}}}catch(m){i.e(m)}finally{i.f()}return n<=t}function dQ(t){var e=t.maxDepth,r=sr(),n=Se(r,1),i=n[0];return re.exports.useEffect(function(){return i.registerCommand(a0,function(){return!fQ(e!=null?e:7)},wi)},[i,e]),null}function hQ(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function B5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return{text:t,uid:hQ(),votes:[]}}function ZT(t,e,r){return{text:e,uid:t.uid,votes:r||Array.from(t.votes)}}function pQ(t){return t.reduce(function(e,r){return e+r.votes.length},0)}function mQ(t){var e=t.option,r=t.index,n=t.options,i=t.totalVotes,o=t.withPollNode,c=Dp(),f=c.clientID,m=re.exports.useRef(null),x=e.votes,E=x.indexOf(f),b=E!==-1,S=x.length,g=e.text;return ct("div",{className:"PollNode__optionContainer",children:[Q("div",{className:A5("PollNode__optionCheckboxWrapper",b&&"PollNode__optionCheckboxChecked"),children:Q("input",{ref:m,className:"PollNode__optionCheckbox",type:"checkbox",onChange:function(C){o(function(N){N.toggleVote(e,f)})},checked:b})}),ct("div",{className:"PollNode__optionInputWrapper",children:[Q("div",{className:"PollNode__optionInputVotes",style:{width:"".concat(S===0?0:S/i*100,"%")}}),Q("span",{className:"PollNode__optionInputVotesCount",children:S>0&&(S===1?"1 vote":"".concat(S," votes"))}),Q("input",{className:"PollNode__optionInput",type:"text",value:g,onChange:function(C){o(function(N){N.setOptionText(e,C.target.value)})},placeholder:"Option ".concat(r+1)})]}),Q("button",{disabled:n.length<3,className:A5("PollNode__optionDelete",n.length<3&&"PollNode__optionDeleteDisabled"),"arial-label":"Remove",onClick:function(){o(function(C){C.deleteOption(e)})}})]})}function vQ(t){var e=t.question,r=t.options,n=t.nodeKey,i=sr(),o=Se(i,1),c=o[0],f=re.exports.useMemo(function(){return pQ(r)},[r]),m=re.exports.useCallback(function(E){c.update(function(){var b=qt(n);yQ(b)&&E(b)})},[c,n]),x=re.exports.useCallback(function(){m(function(E){E.addOption(B5())})},[m]);return ct("div",{className:"PollNode__container",children:[Q("h2",{className:"PollNode__heading",children:e}),r.map(function(E,b){var S=E.uid;return Q(mQ,{withPollNode:m,option:E,index:b,options:r,totalVotes:f},S)}),Q("div",{className:"PollNode__footer",children:Q(o0,{onClick:x,small:!0,children:"Add Option"})})]})}var Ib=function(t){jr(r,t);var e=Rr(r);function r(n,i,o){var c;return ar(this,r),c=e.call(this,o),c.__question=n,c.__options=i||[B5(),B5()],c}return ir(r,[{key:"addOption",value:function(i){var o=this.getWritable(),c=Array.from(o.__options);c.push(i),o.__options=c}},{key:"deleteOption",value:function(i){var o=this.getWritable(),c=Array.from(o.__options),f=c.indexOf(i);c.splice(f,1),o.__options=c}},{key:"setOptionText",value:function(i,o){var c=this.getWritable(),f=ZT(i,o),m=Array.from(c.__options),x=m.indexOf(i);m[x]=f,c.__options=m}},{key:"toggleVote",value:function(i,o){var c=this.getWritable(),f=i.votes,m=Array.from(f),x=f.indexOf(o);x===-1?m.push(o):m.splice(x,1);var E=ZT(i,i.text,m),b=Array.from(c.__options),S=b.indexOf(i);b[S]=E,c.__options=b}},{key:"createDOM",value:function(){var i=document.createElement("span");return i.style.display="inline-block",i}},{key:"updateDOM",value:function(){return!1}},{key:"decorate",value:function(){return Q(vQ,{question:this.__question,options:this.__options,nodeKey:this.__key})}}],[{key:"getType",value:function(){return"poll"}},{key:"clone",value:function(i){return new r(i.__question,i.__options,i.__key)}}]),r}(Fu);function gQ(t){return new Ib(t)}function yQ(t){return t instanceof Ib}var eN=er();function bQ(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useEffect(function(){if(!r.hasNodes([Ib]))throw new Error("PollPlugin: PollNode not registered on editor");return r.registerCommand(eN,function(n){var i=Me();if(De(i)){var o=n,c=gQ(o);fn(i.anchor.getNode())&&i.insertParagraph(),i.insertNodes([c])}return!0},Nt)},[r]),null}var wQ=33,xQ=50;function kQ(t){var e=t.editor,r=re.exports.useRef(null),n=re.exports.useRef(null),i=re.exports.useRef(null),o=re.exports.useRef(null),c=re.exports.useState(null),f=Se(c,2),m=f[0],x=f[1],E=re.exports.useState(null),b=Se(E,2),S=b[0],g=b[1],O=re.exports.useState(!1),C=Se(O,2),N=C[0],P=C[1],D=re.exports.useState(null),F=Se(D,2),I=F[0],q=F[1];re.exports.useEffect(function(){return e.registerUpdateListener(function(ve){var pe=ve.editorState;pe.read(function(){var xe=Me(),Oe=Mn(xe);N!==Oe&&P(Oe)})})});var V=re.exports.useCallback(function(){g(null),r.current=null,q(null),o.current=null,i.current=null},[]);re.exports.useEffect(function(){var ve=function(xe){setTimeout(function(){var Oe=xe.target;if(I){x({x:xe.clientX,y:xe.clientY});return}if(!(n.current&&n.current.contains(Oe))&&r.current!==Oe){r.current=Oe;var Fe=l4(Oe);Fe&&S!==Fe?e.update(function(){var ye=ul(Fe.elem);if(!ye)throw new Error("TableCellResizer: Table cell node not found.");var Pe=bo(ye),ze=e.getElementByKey(Pe.getKey());if(!ze)throw new Error("TableCellResizer: Table element not found.");r.current=Oe,i.current=ze.getBoundingClientRect(),g(Fe)}):Fe==null&&V()}},0)};return document.addEventListener("mousemove",ve),function(){document.removeEventListener("mousemove",ve)}},[S,I,e,V]);var te=function(pe){return pe==="bottom"},ne=re.exports.useCallback(function(ve){if(!S)throw new Error("TableCellResizer: Expected active cell.");e.update(function(){var pe=ul(S.elem);if(!Ir(pe))throw new Error("TableCellResizer: Table cell node not found.");var xe=bo(pe),Oe=u4(pe),Fe=xe.getChildren();if(Oe>=Fe.length||Oe<0)throw new Error("Expected table cell to be inside of table row.");var ye=Fe[Oe];if(!Ps(ye))throw new Error("Expected table row");ye.setHeight(ve)})},[S,e]),W=re.exports.useCallback(function(ve){if(!S)throw new Error("TableCellResizer: Expected active cell.");e.update(function(){var pe=ul(S.elem);if(!Ir(pe))throw new Error("TableCellResizer: Table cell node not found.");for(var xe=bo(pe),Oe=c4(pe),Fe=xe.getChildren(),ye=0;ye<Fe.length;ye++){var Pe=Fe[ye];if(!Ps(Pe))throw new Error("Expected table row");var ze=Pe.getChildren();if(Oe>=ze.length||Oe<0)throw new Error("Expected table cell to be inside of table row.");var Ze=ze[Oe];if(!Ir(Ze))throw new Error("Expected table cell");Ze.setWidth(ve)}})},[S,e]),de=re.exports.useCallback(function(ve){return function(pe){if(pe.preventDefault(),pe.stopPropagation(),!S)throw new Error("TableCellResizer: Expected active cell.");if(I===ve&&o.current){var xe=o.current,Oe=xe.x,Fe=xe.y;if(!S)return;var ye=S.elem.getBoundingClientRect(),Pe=ye.height,ze=ye.width;if(te(ve)){var Ze=Math.abs(pe.clientY-Fe),G=ve==="bottom"&&Fe>pe.clientY;ne(Math.max(G?Pe-Ze:Ze+Pe,wQ))}else{var A=Math.abs(pe.clientX-Oe),zt=ve==="right"&&Oe>pe.clientX;W(Math.max(zt?ze-A:A+ze,xQ))}V()}else o.current={x:pe.clientX,y:pe.clientY},x(o.current),q(ve)}},[S,I,V,W,ne]),ie=re.exports.useCallback(function(){if(S){var ve=S.elem.getBoundingClientRect(),pe=ve.height,xe=ve.width,Oe=ve.top,Fe=ve.left,ye={bottom:{backgroundColor:"none",cursor:"row-resize",height:"10px",left:"".concat(window.pageXOffset+Fe,"px"),top:"".concat(window.pageYOffset+Oe+pe-10,"px"),width:"".concat(xe,"px")},right:{backgroundColor:"none",cursor:"col-resize",height:"".concat(pe,"px"),left:"".concat(window.pageXOffset+Fe+xe-10,"px"),top:"".concat(window.pageYOffset+Oe,"px"),width:"10px"}},Pe=i.current;return I&&m&&Pe&&(te(I)?(ye[I].left="".concat(window.pageXOffset+Pe.left,"px"),ye[I].top="".concat(window.pageYOffset+m.y,"px"),ye[I].height="3px",ye[I].width="".concat(Pe.width,"px")):(ye[I].top="".concat(window.pageYOffset+Pe.top,"px"),ye[I].left="".concat(window.pageXOffset+m.x,"px"),ye[I].width="3px",ye[I].height="".concat(Pe.height,"px")),ye[I].backgroundColor="#adf"),ye}return{bottom:null,left:null,right:null,top:null}},[S,I,m]),ue=ie();return Q("div",{ref:n,children:S!=null&&!N&&ct(dn,{children:[Q("div",{className:"TableCellResizer__resizer TableCellResizer__ui",style:ue.right,onMouseDown:de("right"),onMouseUp:de("right")}),Q("div",{className:"TableCellResizer__resizer TableCellResizer__ui",style:ue.bottom,onMouseDown:de("bottom"),onMouseUp:de("bottom")})]})})}function CQ(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useMemo(function(){return Ai.exports.createPortal(Q(kQ,{editor:r}),document.body)},[r])}var tN={characterLimit:"PlaygroundEditorTheme__characterLimit",code:"PlaygroundEditorTheme__code",codeHighlight:{atrule:"PlaygroundEditorTheme__tokenAttr",attr:"PlaygroundEditorTheme__tokenAttr",boolean:"PlaygroundEditorTheme__tokenProperty",builtin:"PlaygroundEditorTheme__tokenSelector",cdata:"PlaygroundEditorTheme__tokenComment",char:"PlaygroundEditorTheme__tokenSelector",class:"PlaygroundEditorTheme__tokenFunction","class-name":"PlaygroundEditorTheme__tokenFunction",comment:"PlaygroundEditorTheme__tokenComment",constant:"PlaygroundEditorTheme__tokenProperty",deleted:"PlaygroundEditorTheme__tokenProperty",doctype:"PlaygroundEditorTheme__tokenComment",entity:"PlaygroundEditorTheme__tokenOperator",function:"PlaygroundEditorTheme__tokenFunction",important:"PlaygroundEditorTheme__tokenVariable",inserted:"PlaygroundEditorTheme__tokenSelector",keyword:"PlaygroundEditorTheme__tokenAttr",namespace:"PlaygroundEditorTheme__tokenVariable",number:"PlaygroundEditorTheme__tokenProperty",operator:"PlaygroundEditorTheme__tokenOperator",prolog:"PlaygroundEditorTheme__tokenComment",property:"PlaygroundEditorTheme__tokenProperty",punctuation:"PlaygroundEditorTheme__tokenPunctuation",regex:"PlaygroundEditorTheme__tokenVariable",selector:"PlaygroundEditorTheme__tokenSelector",string:"PlaygroundEditorTheme__tokenSelector",symbol:"PlaygroundEditorTheme__tokenProperty",tag:"PlaygroundEditorTheme__tokenProperty",url:"PlaygroundEditorTheme__tokenOperator",variable:"PlaygroundEditorTheme__tokenVariable"},hashtag:"PlaygroundEditorTheme__hashtag",heading:{h1:"PlaygroundEditorTheme__h1",h2:"PlaygroundEditorTheme__h2",h3:"PlaygroundEditorTheme__h3",h4:"PlaygroundEditorTheme__h4",h5:"PlaygroundEditorTheme__h5"},image:"editor-image",link:"PlaygroundEditorTheme__link",list:{listitem:"PlaygroundEditorTheme__listItem",nested:{listitem:"PlaygroundEditorTheme__nestedListItem"},olDepth:["PlaygroundEditorTheme__ol1","PlaygroundEditorTheme__ol2","PlaygroundEditorTheme__ol3","PlaygroundEditorTheme__ol4","PlaygroundEditorTheme__ol5"],ul:"PlaygroundEditorTheme__ul"},ltr:"PlaygroundEditorTheme__ltr",paragraph:"PlaygroundEditorTheme__paragraph",quote:"PlaygroundEditorTheme__quote",rtl:"PlaygroundEditorTheme__rtl",table:"PlaygroundEditorTheme__table",tableCell:"PlaygroundEditorTheme__tableCell",tableCellHeader:"PlaygroundEditorTheme__tableCellHeader",text:{bold:"PlaygroundEditorTheme__textBold",code:"PlaygroundEditorTheme__textCode",italic:"PlaygroundEditorTheme__textItalic",strikethrough:"PlaygroundEditorTheme__textStrikethrough",underline:"PlaygroundEditorTheme__textUnderline",underlineStrikethrough:"PlaygroundEditorTheme__textUnderlineStrikethrough"}},SQ=xt(xt({},tN),{},{paragraph:"StickyEditorTheme__paragraph"});function K2(t,e){var r=t.style,n=e.rootElementRect,i=n!==null?n.left:0,o=n!==null?n.top:0;r.top=o+e.y+"px",r.left=i+e.x+"px"}function EQ(t){var e=t.x,r=t.y,n=t.nodeKey,i=t.color,o=t.caption,c=sr(),f=Se(c,1),m=f[0],x=re.exports.useRef(null),E=re.exports.useRef({isDragging:!1,offsetX:0,offsetY:0,rootElementRect:null,x:0,y:0}),b=Dp(),S=b.yjsDocMap,g=S.get("main")!==void 0;re.exports.useEffect(function(){var I=E.current;I.x=e,I.y=r;var q=x.current;q!==null&&K2(q,I)},[e,r]),hl(function(){var I=E.current,q=new ResizeObserver(function(ne){for(var W=0;W<ne.length;W++){var de=ne[W],ie=de.target;I.rootElementRect=ie.getBoundingClientRect();var ue=x.current;ue!==null&&K2(ue,I)}}),V=m.registerRootListener(function(ne,W){W!==null&&q.unobserve(W),ne!==null&&q.observe(ne)}),te=function(){var W=m.getRootElement(),de=x.current;W!==null&&de!==null&&(I.rootElementRect=W.getBoundingClientRect(),K2(de,I))};return window.addEventListener("resize",te),function(){window.removeEventListener("resize",te),V()}},[m]),re.exports.useEffect(function(){var I=x.current;I!==null&&setTimeout(function(){I.style.setProperty("transition","top 0.3s ease 0s, left 0.3s ease 0s")},500)},[]);var O=re.exports.useCallback(function(I){var q=x.current,V=E.current,te=V.rootElementRect;q!==null&&V.isDragging&&te!==null&&(V.x=I.pageX-V.offsetX-te.left,V.y=I.pageY-V.offsetY-te.top,K2(q,V))},[]),C=re.exports.useCallback(function(I){var q=x.current,V=E.current;q!==null&&(V.isDragging=!1,q.classList.remove("dragging"),m.update(function(){var te=qt(n);l6(te)&&te.setPosition(V.x,V.y)})),document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",C)},[m,O,n]),N=re.exports.useCallback(function(){m.update(function(){var I=qt(n);l6(I)&&I.remove()})},[m,n]),P=re.exports.useCallback(function(){m.update(function(){var I=qt(n);l6(I)&&I.toggleColor()})},[m,n]),D=o7(),F=D.historyState;return ct("div",{ref:x,className:"sticky-note ".concat(i),onPointerDown:function(q){if(!(q.button===2||q.target!==x.current)){var V=x.current,te=E.current;if(V!==null){var ne=V.getBoundingClientRect(),W=ne.top,de=ne.left;te.offsetX=q.clientX-de+30,te.offsetY=q.clientY-W+20,te.isDragging=!0,V.classList.add("dragging"),document.addEventListener("pointermove",O),document.addEventListener("pointerup",C),q.preventDefault()}}},children:[Q("button",{onClick:N,className:"delete",children:"X"}),Q("button",{onClick:P,className:"color",children:Q("i",{className:"bucket"})}),ct(DP,{initialEditor:o,initialTheme:SQ,children:[g?Q(SL,{id:o.getKey(),providerFactory:BP,shouldBootstrap:!0}):Q(e3,{externalHistoryState:F}),Q(lD,{contentEditable:Q(_3,{className:"StickyNode__contentEditable"}),placeholder:Q(gk,{className:"StickyNode__placeholder",children:"What's up?"}),initialEditorState:null})]})]})}var yk=function(t){jr(r,t);var e=Rr(r);function r(n,i,o,c,f){var m;return ar(this,r),m=e.call(this,f),m.__x=n,m.__y=i,m.__caption=c||jv(),m.__color=o,m}return ir(r,[{key:"createDOM",value:function(i){var o=document.createElement("div");return o.style.display="contents",o}},{key:"updateDOM",value:function(){return!1}},{key:"setPosition",value:function(i,o){var c=this.getWritable();c.__x=i,c.__y=o,Ta(null)}},{key:"toggleColor",value:function(){var i=this.getWritable();i.__color=i.__color==="pink"?"yellow":"pink"}},{key:"decorate",value:function(i){return Ai.exports.createPortal(Q(EQ,{color:this.__color,x:this.__x,y:this.__y,nodeKey:this.getKey(),caption:this.__caption}),document.body)}},{key:"isIsolated",value:function(){return!0}}],[{key:"getType",value:function(){return"sticky"}},{key:"clone",value:function(i){return new r(i.__x,i.__y,i.__color,i.__caption,i.__key)}}]),r}(Fu);function l6(t){return t instanceof yk}function _Q(t,e){return new yk(t,e,"yellow")}function H5(t){var e=t.buttonLabel,r=t.buttonAriaLabel,n=t.buttonClassName,i=t.buttonIconClassName,o=t.children,c=re.exports.useRef(null),f=re.exports.useRef(null),m=re.exports.useState(!1),x=Se(m,2),E=x[0],b=x[1];return re.exports.useEffect(function(){var S=f.current,g=c.current;if(E&&S!==null&&g!==null){var O=S.getBoundingClientRect(),C=O.top,N=O.left;g.style.top="".concat(C+40,"px"),g.style.left="".concat(Math.min(N,window.innerWidth-g.offsetWidth-20),"px")}},[c,f,E]),re.exports.useEffect(function(){var S=f.current;if(S!==null&&E){var g=function(C){var N=C.target;S.contains(N)||b(!1)};return document.addEventListener("click",g),function(){document.removeEventListener("click",g)}}},[c,f,E]),ct(dn,{children:[ct("button",{"aria-label":r||e,className:n,onClick:function(){return b(!E)},ref:f,children:[i&&Q("span",{className:i}),e&&Q("span",{className:"text dropdown-button-text",children:e}),Q("i",{className:"chevron-down"})]}),E&&Ai.exports.createPortal(Q("div",{className:"dropdown",ref:c,children:o}),document.body)]})}function Ov(t){var e=t.label,r=t.value,n=t.onChange,i=t.placeholder,o=i===void 0?"":i;return ct("div",{className:"Input__wrapper",children:[Q("label",{className:"Input__label",children:e}),Q("input",{type:"text",className:"Input__input",placeholder:o,value:r,onChange:function(f){n(f.target.value)}})]})}function TQ(t){var e=t.onConfirm,r=t.initialEquation,n=r===void 0?"":r,i=re.exports.useState(n),o=Se(i,2),c=o[0],f=o[1],m=re.exports.useState(!0),x=Se(m,2),E=x[0],b=x[1],S=re.exports.useCallback(function(){e(c,E)},[e,c,E]),g=re.exports.useCallback(function(){b(!E)},[b,E]);return ct(dn,{children:[ct("div",{className:"KatexEquationAlterer_defaultRow",children:["Inline",Q("input",{type:"checkbox",checked:E,onChange:g})]}),Q("div",{className:"KatexEquationAlterer_defaultRow",children:"Equation "}),Q("div",{className:"KatexEquationAlterer_centerRow",children:E?Q("input",{onChange:function(C){f(C.target.value)},value:c,className:"KatexEquationAlterer_textArea"}):Q("textarea",{onChange:function(C){f(C.target.value)},value:c,className:"KatexEquationAlterer_textArea"})}),Q("div",{className:"KatexEquationAlterer_defaultRow",children:"Visualization "}),Q("div",{className:"KatexEquationAlterer_centerRow",children:Q(TP,{equation:c,inline:!1,onClick:function(){}})}),Q("div",{className:"KatexEquationAlterer_dialogActions",children:Q(o0,{onClick:S,children:"Confirm"})})]})}var W2={},OQ=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/;function AQ(t){var e=W2[t];if(!t.match(OQ))return{preview:null};if(e||(e=W2[t]=fetch("/api/link-preview?url=".concat(encodeURI(t))).then(function(r){return r.json()}).then(function(r){return W2[t]=r,r}).catch(function(){W2[t]={preview:null}})),e instanceof Promise)throw e;return e}function MQ(t){var e=t.url,r=AQ(e),n=r.preview;return n===null?null:ct("div",{className:"LinkPreview__container",children:[n.img&&Q("div",{className:"LinkPreview__imageWrapper",children:Q("img",{src:n.img,alt:n.title,className:"LinkPreview__image"})}),n.domain&&Q("div",{className:"LinkPreview__domain",children:n.domain}),n.title&&Q("div",{className:"LinkPreview__title",children:n.title}),n.description&&Q("div",{className:"LinkPreview__description",children:n.description})]})}function s6(t){return Q("div",xt(xt({className:"LinkPreview__glimmer"},t),{},{style:xt({animationDelay:(t.index||0)*300},t.style||{})}))}function IQ(t){var e=t.url;return Q(re.exports.Suspense,{fallback:ct(dn,{children:[Q(s6,{style:{height:"80px"},index:0}),Q(s6,{style:{width:"60%"},index:1}),Q(s6,{style:{width:"80%"},index:2})]}),children:Q(MQ,{url:e})})}var rN="https://platform.twitter.com/widgets.js",DQ=function(){return document.querySelector('script[src="'.concat(rN,'"]'))};function LQ(t){var e=t.loadingComponent,r=t.onError,n=t.onLoad,i=t.tweetID,o=re.exports.useRef(null),c=re.exports.useRef(null),f=re.exports.useState(!1),m=Se(f,2),x=m[0],E=m[1],b=re.exports.useCallback(P8(regeneratorRuntime.mark(function S(){return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.prev=0,O.next=3,window.twttr.widgets.createTweet(i,o.current);case 3:E(!1),n&&n(),O.next=10;break;case 7:O.prev=7,O.t0=O.catch(0),r&&r(O.t0);case 10:case"end":return O.stop()}},S,null,[[0,7]])})),[r,n,i]);return re.exports.useEffect(function(){if(i!==c.current){if(E(!0),DQ())b();else{var S=document.createElement("script");S.src=rN,S.async=!0,document.body.appendChild(S),S.onload=b,S.onerror=r}c.current=i}},[b,r,i]),ct(dn,{children:[x?e:null,Q("div",{ref:o})]})}var bk=function(t){jr(r,t);var e=Rr(r);function r(n,i){var o;return ar(this,r),o=e.call(this,i),o.__id=n,o}return ir(r,[{key:"createDOM",value:function(){return document.createElement("div")}},{key:"updateDOM",value:function(){return!1}},{key:"decorate",value:function(){return Q(LQ,{loadingComponent:"Loading...",tweetID:this.__id})}}],[{key:"getType",value:function(){return"tweet"}},{key:"clone",value:function(i){return new r(i.__id,i.__key)}}]),r}(Fu);function PQ(t){return new bk(t)}var nN=er();function NQ(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useEffect(function(){if(!r.hasNodes([bk]))throw new Error("TwitterPlugin: TweetNode not registered on editor");return r.registerCommand(nN,function(n){var i=Me();if(De(i)){var o=i.focus.getNode();if(o!==null){var c=PQ(n);i.focus.getNode().getTopLevelElementOrThrow().insertAfter(c);var f=Tr();c.insertAfter(f),f.select()}}return!0},Nt)},[r]),null}function jQ(t){var e=t.onLoad,r=t.videoID,n=re.exports.useRef(null);return re.exports.useEffect(function(){r!==n.current&&(e&&e(),n.current=r)},[e,r]),Q("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/".concat(r),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"YouTube video"})}var wk=function(t){jr(r,t);var e=Rr(r);function r(n,i){var o;return ar(this,r),o=e.call(this,i),o.__id=n,o}return ir(r,[{key:"createDOM",value:function(){return document.createElement("div")}},{key:"updateDOM",value:function(){return!1}},{key:"decorate",value:function(){return Q(jQ,{videoID:this.__id})}}],[{key:"getType",value:function(){return"youtube"}},{key:"clone",value:function(i){return new r(i.__id,i.__key)}}]),r}(Fu);function RQ(t){return new wk(t)}var aN=er();function FQ(){var t=sr(),e=Se(t,1),r=e[0];return re.exports.useEffect(function(){if(!r.hasNodes([wk]))throw new Error("YouTubePlugin: YouTubeNode not registered on editor");return r.registerCommand(aN,function(n){var i=Me();if(De(i)){var o=i.focus.getNode();if(o!==null){var c=RQ(n);i.focus.getNode().getTopLevelElementOrThrow().insertAfter(c);var f=Tr();c.insertAfter(f),f.select()}}return!0},Nt)},[r]),null}var zQ=new Set(["paragraph","quote","code","h1","h2","h3","ul","ol"]),BQ={code:"Code Block",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",ol:"Numbered List",paragraph:"Normal",quote:"Quote",ul:"Bulleted List"};function iN(t){var e=t.anchor,r=t.focus,n=t.anchor.getNode(),i=t.focus.getNode();if(n===i)return n;var o=t.isBackward();return o?i3(r)?n:i:i3(e)?i:n}function QT(t,e){e===null?(t.style.opacity="0",t.style.top="-1000px",t.style.left="-1000px"):(t.style.opacity="1",t.style.top="".concat(e.top+e.height+window.pageYOffset+10,"px"),t.style.left="".concat(e.left+window.pageXOffset-t.offsetWidth/2+e.width/2,"px"))}function HQ(t){var e=t.editor,r=re.exports.useRef(null),n=re.exports.useRef(null),i=re.exports.useRef(!1),o=re.exports.useState(""),c=Se(o,2),f=c[0],m=c[1],x=re.exports.useState(!1),E=Se(x,2),b=E[0],S=E[1],g=re.exports.useState(null),O=Se(g,2),C=O[0],N=O[1],P=re.exports.useCallback(function(){var D=Me();if(De(D)){var F=iN(D),I=F.getParent();ko(I)?m(I.getURL()):ko(F)?m(F.getURL()):m("")}var q=r.current,V=window.getSelection(),te=document.activeElement;if(q!==null){var ne=e.getRootElement();if(D!==null&&!V.isCollapsed&&ne!==null&&ne.contains(V.anchorNode)){var W=V.getRangeAt(0),de;if(V.anchorNode===ne){for(var ie=ne;ie.firstElementChild!=null;)ie=ie.firstElementChild;de=ie.getBoundingClientRect()}else de=W.getBoundingClientRect();i.current||QT(q,de),N(D)}else(!te||te.className!=="link-input")&&(QT(q,null),N(null),S(!1),m(""));return!0}},[e]);return re.exports.useEffect(function(){return pa(e.registerUpdateListener(function(D){var F=D.editorState;F.read(function(){P()})}),e.registerCommand(Es,function(){return P(),!0},$n))},[e,P]),re.exports.useEffect(function(){e.getEditorState().read(function(){P()})},[e,P]),re.exports.useEffect(function(){b&&n.current&&n.current.focus()},[b]),Q("div",{ref:r,className:"link-editor",children:b?Q("input",{ref:n,className:"link-input",value:f,onChange:function(F){m(F.target.value)},onKeyDown:function(F){F.key==="Enter"?(F.preventDefault(),C!==null&&(f!==""&&e.dispatchCommand(Yf,f),S(!1))):F.key==="Escape"&&(F.preventDefault(),S(!1))}}):ct(dn,{children:[ct("div",{className:"link-input",children:[Q("a",{href:f,target:"_blank",rel:"noopener noreferrer",children:f}),Q("div",{className:"link-edit",role:"button",tabIndex:0,onMouseDown:function(F){return F.preventDefault()},onClick:function(){S(!0)}})]}),Q(IQ,{url:f})]})})}function UQ(t){var e=t.activeEditor,r=t.onClose,n=re.exports.useState("5"),i=Se(n,2),o=i[0],c=i[1],f=re.exports.useState("5"),m=Se(f,2),x=m[0],E=m[1],b=function(){e.dispatchCommand(dD,{columns:x,rows:o}),r()};return ct(dn,{children:[Q(Ov,{label:"No of rows",onChange:c,value:o}),Q(Ov,{label:"No of columns",onChange:E,value:x}),Q("div",{className:"ToolbarPlugin__dialogActions","data-test-id":"table-model-confirm-insert",children:Q(o0,{onClick:b,children:"Confirm"})})]})}function KQ(t){var e=t.activeEditor,r=t.onClose,n=re.exports.useState(""),i=Se(n,2),o=i[0],c=i[1],f=function(){e.dispatchCommand(eN,o),r()};return ct(dn,{children:[Q(Ov,{label:"Poll Question",onChange:c,value:o}),Q("div",{className:"ToolbarPlugin__dialogActions",children:Q(o0,{disabled:o.trim()==="",onClick:f,children:"Confirm"})})]})}var WQ=/twitter.com\/[0-9a-zA-Z]{1,20}\/status\/([0-9]*)/g;function $Q(t){var e=t.activeEditor,r=t.onClose,n=re.exports.useState(""),i=Se(n,2),o=i[0],c=i[1],f=function(){var E,b,S,g=(E=o.split("status/"))===null||E===void 0||(b=E[1])===null||b===void 0||(S=b.split("?"))===null||S===void 0?void 0:S[0];e.dispatchCommand(nN,g),r()},m=o===""||!o.match(WQ);return ct(dn,{children:[Q(Ov,{label:"Tweet URL",placeholder:"i.e. https://twitter.com/jack/status/20",onChange:c,value:o}),Q("div",{className:"ToolbarPlugin__dialogActions",children:Q(o0,{disabled:m,onClick:f,children:"Confirm"})})]})}var GQ=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,JT=function(e){var r=e.match(GQ);return(r==null?void 0:r[2].length)===11?r[2]:null};function VQ(t){var e=t.activeEditor,r=t.onClose,n=re.exports.useState(""),i=Se(n,2),o=i[0],c=i[1],f=function(){var E=JT(o);E&&e.dispatchCommand(aN,E),r()},m=o===""||!JT(o);return ct(dn,{children:[Q(Ov,{label:"YouTube URL",placeholder:"i.e. https://www.youtube.com/watch?v=jNQXAC9IVRw",onChange:c,value:o}),Q("div",{className:"ToolbarPlugin__dialogActions",children:Q(o0,{disabled:m,onClick:f,children:"Confirm"})})]})}function qQ(t){var e=t.activeEditor,r=t.onClose,n=re.exports.useCallback(function(i,o){e.dispatchCommand(OP,{equation:i,inline:o}),r()},[e,r]);return Q(TQ,{onConfirm:n})}function YQ(t){var e=t.editor,r=t.blockType,n=function(){r!=="paragraph"&&e.update(function(){var S=Me();De(S)&&Eh(S,function(){return Tr()})})},i=function(){r!=="h1"&&e.update(function(){var S=Me();De(S)&&Eh(S,function(){return ks("h1")})})},o=function(){r!=="h2"&&e.update(function(){var S=Me();De(S)&&Eh(S,function(){return ks("h2")})})},c=function(){r!=="h3"&&e.update(function(){var S=Me();De(S)&&Eh(S,function(){return ks("h3")})})},f=function(){r!=="ul"?e.dispatchCommand(kI):e.dispatchCommand(b5)},m=function(){r!=="ol"?e.dispatchCommand(CI):e.dispatchCommand(b5)},x=function(){r!=="quote"&&e.update(function(){var S=Me();De(S)&&Eh(S,function(){return u7()})})},E=function(){r!=="code"&&e.update(function(){var S=Me();if(De(S))if(S.isCollapsed())Eh(S,function(){return Xf()});else{var g=S.getTextContent(),O=Xf();S.removeText(),S.insertNodes([O]),S.insertRawText(g)}})};return ct(H5,{buttonClassName:"toolbar-item block-controls",buttonIconClassName:"icon block-type "+r,buttonLabel:BQ[r],buttonAriaLabel:"Formatting Options",children:[ct("button",{className:"item",onClick:n,children:[Q("span",{className:"icon paragraph"}),Q("span",{className:"text",children:"Normal"}),r==="paragraph"&&Q("span",{className:"active"})]}),ct("button",{className:"item",onClick:i,children:[Q("span",{className:"icon h1"}),Q("span",{className:"text",children:"Heading 1"}),r==="h1"&&Q("span",{className:"active"})]}),ct("button",{className:"item",onClick:o,children:[Q("span",{className:"icon h2"}),Q("span",{className:"text",children:"Heading 2"}),r==="h2"&&Q("span",{className:"active"})]}),ct("button",{className:"item",onClick:c,children:[Q("span",{className:"icon h3"}),Q("span",{className:"text",children:"Heading 3"}),r==="h3"&&Q("span",{className:"active"})]}),ct("button",{className:"item",onClick:f,children:[Q("span",{className:"icon bullet-list"}),Q("span",{className:"text",children:"Bullet List"}),r==="ul"&&Q("span",{className:"active"})]}),ct("button",{className:"item",onClick:m,children:[Q("span",{className:"icon numbered-list"}),Q("span",{className:"text",children:"Numbered List"}),r==="ol"&&Q("span",{className:"active"})]}),ct("button",{className:"item",onClick:x,children:[Q("span",{className:"icon quote"}),Q("span",{className:"text",children:"Quote"}),r==="quote"&&Q("span",{className:"active"})]}),ct("button",{className:"item",onClick:E,children:[Q("span",{className:"icon code"}),Q("span",{className:"text",children:"Code Block"}),r==="code"&&Q("span",{className:"active"})]})]})}function Th(){return Q("div",{className:"divider"})}function u6(t){var e=t.onChange,r=t.className,n=t.options,i=t.value;return ct("select",{className:r,onChange:e,value:i,children:[Q("option",{hidden:!0,value:""}),n.map(function(o){return Q("option",{value:o,children:o},o)})]})}function XQ(){var t=sr(),e=Se(t,1),r=e[0],n=re.exports.useState(r),i=Se(n,2),o=i[0],c=i[1],f=re.exports.useState("paragraph"),m=Se(f,2),x=m[0],E=m[1],b=re.exports.useState(null),S=Se(b,2),g=S[0],O=S[1],C=re.exports.useState("15px"),N=Se(C,2),P=N[0],D=N[1],F=re.exports.useState("Arial"),I=Se(F,2),q=I[0],V=I[1],te=re.exports.useState(!1),ne=Se(te,2),W=ne[0],de=ne[1],ie=re.exports.useState(!1),ue=Se(ie,2),ve=ue[0],pe=ue[1],xe=re.exports.useState(!1),Oe=Se(xe,2),Fe=Oe[0],ye=Oe[1],Pe=re.exports.useState(!1),ze=Se(Pe,2),Ze=ze[0],G=ze[1],A=re.exports.useState(!1),zt=Se(A,2),Ht=zt[0],Zt=zt[1],Ne=re.exports.useState(!1),be=Se(Ne,2),Ke=be[0],yt=be[1],At=re.exports.useState(!1),kt=Se(At,2),Kt=kt[0],yr=kt[1],Xr=re.exports.useState(!1),Jr=Se(Xr,2),mr=Jr[0],$r=Jr[1],en=EL(),oo=Se(en,2),$l=oo[0],fi=oo[1],Li=re.exports.useState(!1),Ws=Se(Li,2),Uu=Ws[0],ia=Ws[1],Fr=re.exports.useState(""),$s=Se(Fr,2),Ku=$s[0],v0=$s[1],Gs=re.exports.useCallback(function(){var Yt=Me();if(De(Yt)){var Zr=Yt.anchor.getNode(),di=Zr.getKey()==="root"?Zr:Zr.getTopLevelElementOrThrow(),$u=di.getKey(),dd=o.getElementByKey($u);pe(Yt.hasFormat("bold")),ye(Yt.hasFormat("italic")),G(Yt.hasFormat("underline")),Zt(Yt.hasFormat("strikethrough")),yt(Yt.hasFormat("code")),ia(LI(Yt));var qs=iN(Yt),wl=qs.getParent();if(ko(wl)||ko(qs)?de(!0):de(!1),dd!==null)if(O($u),Yr(di)){var y0=pI(Zr,ib),Gu=y0?y0.getTag():di.getTag();E(Gu)}else{var Ut=IK(di)?di.getTag():di.getType();if(E(Ut),r3(di)){v0(di.getLanguage()||oK());return}}D(p_(Yt,"font-size","15px")),V(p_(Yt,"font-family","Arial"))}},[o]);re.exports.useEffect(function(){return r.registerCommand(Es,function(Yt,Zr){return Gs(),c(Zr),!1},wi)},[r,Gs]),re.exports.useEffect(function(){return pa(o.registerUpdateListener(function(Yt){var Zr=Yt.editorState;Zr.read(function(){Gs()})}),o.registerCommand(eb,function(Yt){return yr(Yt),!1},wi),o.registerCommand(n7,function(Yt){return $r(Yt),!1},wi))},[o,Gs]);var Vs=re.exports.useCallback(function(Yt){o.update(function(){var Zr=Me();De(Zr)&&kK(Zr,Yt)})},[o]),bl=re.exports.useCallback(function(Yt){Vs({"font-size":Yt.target.value})},[Vs]),cd=re.exports.useCallback(function(Yt){Vs({"font-family":Yt.target.value})},[Vs]),g0=re.exports.useCallback(function(){W?r.dispatchCommand(Yf,null):r.dispatchCommand(Yf,"https://")},[r,W]),fd=re.exports.useMemo(function(){return lK()},[]),Wu=re.exports.useCallback(function(Yt){o.update(function(){if(g!==null){var Zr=qt(g);r3(Zr)&&Zr.setLanguage(Yt.target.value)}})},[o,g]);return ct("div",{className:"toolbar",children:[Q("button",{disabled:!Kt,onClick:function(){o.dispatchCommand(_p)},className:"toolbar-item spaced","aria-label":"Undo",children:Q("i",{className:"format undo"})}),Q("button",{disabled:!mr,onClick:function(){o.dispatchCommand(Tp)},className:"toolbar-item","aria-label":"Redo",children:Q("i",{className:"format redo"})}),Q(Th,{}),zQ.has(x)&&o===r&&ct(dn,{children:[Q(YQ,{blockType:x,editor:r}),Q(Th,{})]}),x==="code"?ct(dn,{children:[Q(u6,{className:"toolbar-item code-language",onChange:Wu,options:fd,value:Ku}),Q("i",{className:"chevron-down inside"})]}):ct(dn,{children:[ct(dn,{children:[Q(u6,{className:"toolbar-item font-family",onChange:cd,options:["Arial","Courier New","Georgia","Times New Roman","Trebuchet MS","Verdana"],value:q}),Q("i",{className:"chevron-down inside"})]}),ct(dn,{children:[Q(u6,{className:"toolbar-item font-size",onChange:bl,options:["10px","11px","12px","13px","14px","15px","16px","17px","18px","19px","20px"],value:P}),Q("i",{className:"chevron-down inside"})]}),Q(Th,{}),Q("button",{onClick:function(){o.dispatchCommand(Ea,"bold")},className:"toolbar-item spaced "+(ve?"active":""),"aria-label":"Format Bold",children:Q("i",{className:"format bold"})}),Q("button",{onClick:function(){o.dispatchCommand(Ea,"italic")},className:"toolbar-item spaced "+(Fe?"active":""),"aria-label":"Format Italics",children:Q("i",{className:"format italic"})}),Q("button",{onClick:function(){o.dispatchCommand(Ea,"underline")},className:"toolbar-item spaced "+(Ze?"active":""),"aria-label":"Format Underline",children:Q("i",{className:"format underline"})}),Q("button",{onClick:function(){o.dispatchCommand(Ea,"strikethrough")},className:"toolbar-item spaced "+(Ht?"active":""),"aria-label":"Format Strikethrough",children:Q("i",{className:"format strikethrough"})}),Q("button",{onClick:function(){o.dispatchCommand(Ea,"code")},className:"toolbar-item spaced "+(Ke?"active":""),"aria-label":"Insert Code",children:Q("i",{className:"format code"})}),Q("button",{onClick:g0,className:"toolbar-item spaced "+(W?"active":""),"aria-label":"Insert Link",children:Q("i",{className:"format link"})}),W&&Ai.exports.createPortal(Q(HQ,{editor:o}),document.body),Q(Th,{}),ct(H5,{buttonClassName:"toolbar-item spaced",buttonLabel:"Insert",buttonIconClassName:"icon plus",children:[ct("button",{onClick:function(){o.dispatchCommand(eD)},className:"item",children:[Q("i",{className:"icon horizontal-rule"}),Q("span",{className:"text",children:"Horizontal Rule"})]}),ct("button",{onClick:function(){o.dispatchCommand(QP)},className:"item",children:[Q("i",{className:"icon image"}),Q("span",{className:"text",children:"Image"})]}),ct("button",{onClick:function(){o.dispatchCommand(IP)},className:"item",children:[Q("i",{className:"icon diagram-2"}),Q("span",{className:"text",children:"Excalidraw"})]}),ct("button",{onClick:function(){fi("Insert Table",function(Zr){return Q(UQ,{activeEditor:o,onClose:Zr})})},className:"item",children:[Q("i",{className:"icon table"}),Q("span",{className:"text",children:"Table"})]}),ct("button",{onClick:function(){fi("Insert Poll",function(Zr){return Q(KQ,{activeEditor:o,onClose:Zr})})},className:"item",children:[Q("i",{className:"icon poll"}),Q("span",{className:"text",children:"Poll"})]}),ct("button",{onClick:function(){fi("Insert Tweet",function(Zr){return Q($Q,{activeEditor:o,onClose:Zr})})},className:"item",children:[Q("i",{className:"icon tweet"}),Q("span",{className:"text",children:"Tweet"})]}),ct("button",{onClick:function(){fi("Insert YouTube Video",function(Zr){return Q(VQ,{activeEditor:o,onClose:Zr})})},className:"item",children:[Q("i",{className:"icon youtube"}),Q("span",{className:"text",children:"YouTube Video"})]}),ct("button",{onClick:function(){fi("Insert Equation",function(Zr){return Q(qQ,{activeEditor:o,onClose:Zr})})},className:"item",children:[Q("i",{className:"icon equation"}),Q("span",{className:"text",children:"Equation"})]}),ct("button",{onClick:function(){r.update(function(){var Zr=Sn(),di=_Q(0,0);Zr.append(di)})},className:"item",children:[Q("i",{className:"icon sticky"}),Q("span",{className:"text",children:"Sticky Note"})]})]})]}),Q(Th,{}),ct(H5,{buttonLabel:"Align",buttonIconClassName:"icon left-align",buttonClassName:"toolbar-item spaced",children:[ct("button",{onClick:function(){o.dispatchCommand(vm,"left")},className:"item",children:[Q("i",{className:"icon left-align"}),Q("span",{className:"text",children:"Left Align"})]}),ct("button",{onClick:function(){o.dispatchCommand(vm,"center")},className:"item",children:[Q("i",{className:"icon center-align"}),Q("span",{className:"text",children:"Center Align"})]}),ct("button",{onClick:function(){o.dispatchCommand(vm,"right")},className:"item",children:[Q("i",{className:"icon right-align"}),Q("span",{className:"text",children:"Right Align"})]}),ct("button",{onClick:function(){o.dispatchCommand(vm,"justify")},className:"item",children:[Q("i",{className:"icon justify-align"}),Q("span",{className:"text",children:"Justify Align"})]}),Q(Th,{}),ct("button",{onClick:function(){o.dispatchCommand(zf)},className:"item",children:[Q("i",{className:"icon "+(Uu?"indent":"outdent")}),Q("span",{className:"text",children:"Outdent"})]}),ct("button",{onClick:function(){o.dispatchCommand(a0)},className:"item",children:[Q("i",{className:"icon "+(Uu?"outdent":"indent")}),Q("span",{className:"text",children:"Indent"})]})]}),$l]})}function ZQ(){var t=Sn();if(t.getFirstChild()===null){var e=ks("h1");e.append(gr("Welcome to the playground")),t.append(e);var r=u7();r.append(gr("In case you were wondering what the black box at the bottom is \u2013 it's the debug view, showing the current state of editor. You can hide it by pressing on the settings control in the bottom-right of your screen and toggling the debug view setting.")),t.append(r);var n=Tr();n.append(gr("The playground is a demo environment built with "),gr("@lexical/react").toggleFormat("code"),gr("."),gr(" Try typing in "),gr("some text").toggleFormat("bold"),gr(" with "),gr("different").toggleFormat("italic"),gr(" formats.")),t.append(n);var i=Tr();i.append(gr("Make sure to check out the various plugins in the toolbar. You can also use #hashtags or @-mentions too!")),t.append(i);var o=Tr();o.append(gr("If you'd like to find out more about Lexical, you can:")),t.append(o);var c=ml("ul");c.append(io().append(gr("Visit the "),Xh("https://lexical.dev/").append(gr("Lexical website")),gr(" for documentation and more information.")),io().append(gr("Check out the code on our "),Xh("https://github.com/facebook/lexical").append(gr("GitHub repository")),gr(".")),io().append(gr("Join our "),Xh("https://discord.com/invite/KmG4wQnnD9").append(gr("Discord Server")),gr(" and chat with the team."))),t.append(c);var f=Tr();f.append(gr("Lastly, we're constantly adding cool new features to this playground. So make sure you check back here when you next get a chance :).")),t.append(f)}}function QQ(){var t=o7(),e=t.historyState,r=nb(),n=r.settings,i=n.isCollab,o=n.isAutocomplete,c=n.isCharLimit,f=n.isCharLimitUtf8,m=n.isRichText,x=n.showTreeView,E=n.emptyEditor,b=i?"Enter some collaborative rich text...":m?"Enter some rich text...":"Enter some plain text...",S=Q(gk,{children:b}),g=re.exports.useRef(null);return ct(dn,{children:[m&&Q(XQ,{}),ct("div",{className:"editor-container ".concat(x?"tree-view":""," ").concat(m?"":"plain-text"),ref:g,children:[Q(RU,{}),Q(QU,{}),Q(GP,{}),Q(DL,{}),Q($X,{}),Q(EI,{}),Q(HP,{}),Q(GX,{}),Q(sq,{}),Q(Cq,{}),Q(Oq,{}),Q(zX,{}),Q(FU,{scrollRef:g}),Q(e3,{externalHistoryState:e}),m?ct(dn,{children:[Q(sD,{contentEditable:Q(_3,{}),placeholder:S,initialEditorState:i?null:E?void 0:ZQ}),Q(FW,{}),Q(Iq,{}),Q(iK,{}),Q(dQ,{maxDepth:7}),Q(hD,{}),Q(VP,{}),Q(CQ,{}),Q(JP,{}),Q(_I,{}),Q(bQ,{}),Q(NQ,{}),Q(FQ,{}),Q(Aq,{})]}):ct(dn,{children:[Q(lD,{contentEditable:Q(_3,{}),placeholder:S}),Q(e3,{externalHistoryState:e})]}),(c||f)&&Q(ZU,{charset:c?"UTF-16":"UTF-8"}),o&&Q(mq,{}),Q(uq,{isRichText:m})]}),x&&Q(ZP,{})]})}var JQ="/gitnotes/assets/logo.5aefee94.svg",eJ=[c7,ib,ab,BI,Zh,gv,Hv,ub,t3,vv,mv,Fv,ob,Ib,yk,Mb,mk,K7,Ab,Ob,Nm,E3,tD,bk,wk],tJ=function(e){var r=document.createElement("textarea");r.value=e||"",r.style.position="absolute",r.style.opacity="0",document.body.appendChild(r),r.focus(),r.select();try{var n=document.execCommand("copy");console.log(n)}catch(i){console.error(i)}document.body.removeChild(r)},rJ=function(e,r){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(r||"")),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},nJ=function(e){var r=function(o,c){switch(o){case"click":return"      await page.mouse.click(".concat(c.x,", ").concat(c.y,");");case"press":return"      await page.keyboard.press('".concat(c,"');");case"keydown":return"      await page.keyboard.keydown('".concat(c,"');");case"keyup":return"      await page.keyboard.keyup('".concat(c,"');");case"type":return"      await page.keyboard.type('".concat(c,"');");case"selectAll":return"      await selectAll(page);";case"snapshot":return`      await assertHTMLSnapshot(page);
      await assertSelection(page, {
        anchorPath: [`.concat(c.anchorPath.toString(),`],
        anchorOffset: `).concat(c.anchorOffset,`,
        focusPath: [`).concat(c.focusPath.toString(),`],
        focusOffset: `).concat(c.focusOffset,`,
      });
`);default:return""}},n=r(e.name,e.value);switch(e.count){case 1:return n;case 2:return[n,n].join(`
`);default:return"      await repeat(".concat(e.count,`, async () => {
  `).concat(n,`
      );`)}};function aJ(t){return t.keyCode===65&&(Fs?t.metaKey:t.ctrlKey)}function iJ(t){var e=t.anchorNode,r=t.focusNode,n=t.anchorOffset,i=t.focusOffset;return n!==0&&n--,i!==0&&i--,{anchorNode:e,anchorOffset:n,focusNode:r,focusOffset:i}}function eO(t,e){for(var r=t,n=[];r!==e;){var i,o,c,f;n.unshift(Array.from((i=(o=r)===null||o===void 0||(c=o.parentNode)===null||c===void 0?void 0:c.childNodes)!==null&&i!==void 0?i:[]).indexOf(r)),r=(f=r)===null||f===void 0?void 0:f.parentNode}return n}var tO=new Set(["Enter","Backspace","Delete","Escape","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"]);function oJ(t){var e=re.exports.useState([]),r=Se(e,2),n=r[0],i=r[1],o=re.exports.useState(!1),c=Se(o,2),f=c[0],m=c[1],x=re.exports.useState(""),E=Se(x,2),b=E[1],S=re.exports.useState(""),g=Se(S,2),O=g[0],C=g[1],N=re.exports.useRef(null),P=re.exports.useRef(!1),D=re.exports.useRef(null),F=re.exports.useCallback(function(){return t},[t]),I=re.exports.useCallback(function(){var ue=t.getRootElement(),ve=window.getSelection();return ue==null||ve==null||ve.anchorNode==null||ve.focusNode==null||!ue.contains(ve.anchorNode)||!ue.contains(ve.focusNode)?null:`
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

import {
  initializeE2E,
  assertHTMLSnapshot,
  assertSelection,
  repeat,
} from '../utils';
import {selectAll} from '../keyboardShortcuts';

describe('Test case', () => {
  initializeE2E((e2e) => {
    it('Should pass this test', async () => {
      const {page} = e2e;

      await page.focus('div[contenteditable="true"]');
`.concat(n.map(nJ).join(`
`),`
    });
});
    `)},[t,n]),q=re.exports.useCallback(function(ue,ve){i(function(pe){var xe=n.length-1,Oe=n[xe];if(Oe&&Oe.name===ue){if(ue==="type")return[].concat(jt(n.slice(0,xe)),[xt(xt({},Oe),{},{value:Oe.value+ve})]);if(Oe.value===ve)return[].concat(jt(n.slice(0,xe)),[xt(xt({},Oe),{},{count:Oe.count+1})])}return[].concat(jt(pe),[{count:1,name:ue,value:ve}])})},[n,i]);hl(function(){var ue=function(xe){if(!!f){var Oe=xe.key;aJ(xe)?q("selectAll",""):tO.has(Oe)?q("press",xe.key):jt(Oe).length>1?q("keydown",xe.key):q("type",xe.key)}},ve=function(xe){if(!!f){var Oe=xe.key;!tO.has(Oe)&&jt(Oe).length>1&&q("keyup",xe.key)}};return t.registerRootListener(function(pe,xe){xe!==null&&(xe.removeEventListener("keydown",ue),xe.removeEventListener("keyup",ve)),pe!==null&&(pe.addEventListener("keydown",ue),pe.addEventListener("keyup",ve))})},[t,f,q]),hl(function(){D.current&&D.current.scrollTo(0,D.current.scrollHeight)},[I]),re.exports.useEffect(function(){n&&(C(I()),D.current&&D.current.scrollTo(0,D.current.scrollHeight))},[I,n]),re.exports.useEffect(function(){var ue=t.registerUpdateListener(function(ve){var pe=ve.editorState,xe=ve.dirtyLeaves,Oe=ve.dirtyElements;if(!!f){var Fe=pe._selection,ye=N.current,Pe=P.current;if(ye!==Fe){if(xe.size===0&&Oe.size===0&&!Pe){var ze=window.getSelection();if(ze.anchorNode==null||ze.focusNode==null)return}N.current=Fe}P.current=!1,C(I())}});return ue},[t,I,f,q]),re.exports.useEffect(function(){if(!!f){var ue=t.registerUpdateListener(function(){var ve=t.getRootElement();ve!==null&&b(ve==null?void 0:ve.innerHTML)});return ue}},[t,f]);var V=re.exports.useCallback(function(ue){f||(ue.update(function(){var ve=Sn();ve.clear();var pe=gr();ve.append(Tr().append(pe)),pe.select()}),i([])),m(function(ve){return!ve})},[f]),te=re.exports.useCallback(function(){if(!!f){var ue=window.getSelection();if(!(ue.anchorNode==null||ue.focusNode==null)){var ve=iJ(ue),pe=ve.anchorNode,xe=ve.anchorOffset,Oe=ve.focusNode,Fe=ve.focusOffset,ye=eO(pe,F().getRootElement()),Pe=eO(Oe,F().getRootElement());q("snapshot",{anchorNode:pe,anchorOffset:xe,anchorPath:ye,focusNode:Oe,focusOffset:Fe,focusPath:Pe})}}},[q,f,F]),ne=re.exports.useCallback(function(){tJ(I())},[I]),W=re.exports.useCallback(function(){rJ("test.js",I())},[I]),de=Q("button",{id:"test-recorder-button",className:"editor-dev-button ".concat(f?"active":""),onClick:function(){return V(F())},title:f?"Disable test recorder":"Enable test recorder"}),ie=f?ct("div",{className:"test-recorder-output",children:[ct("div",{className:"test-recorder-toolbar",children:[Q("button",{className:"test-recorder-button",id:"test-recorder-button-snapshot",title:"Insert snapshot",onClick:te}),Q("button",{className:"test-recorder-button",id:"test-recorder-button-copy",title:"Copy to clipboard",onClick:ne}),Q("button",{className:"test-recorder-button",id:"test-recorder-button-download",title:"Download as a file",onClick:W})]}),Q("pre",{id:"test-recorder",ref:D,children:O})]}):null;return[de,ie]}function lJ(){var t=sr(),e=Se(t,1),r=e[0],n=oJ(r),i=Se(n,2),o=i[0],c=i[1];return ct(dn,{children:[o,c]})}var sJ=new Set(["insertText","insertCompositionText","insertFromComposition","insertLineBreak","insertParagraph","deleteCompositionText","deleteContentBackward","deleteByComposition","deleteContent","deleteContentForward","deleteWordBackward","deleteWordForward","deleteHardLineBackward","deleteSoftLineBackward","deleteHardLineForward","deleteSoftLineForward"]);function uJ(){var t=_L();return re.exports.useEffect(function(){var e=0,r=null,n=[],i=!1,o=function(){r!=null&&(clearTimeout(r),r=null),e=performance.now(),window.setTimeout(function(){if(i){i=!1;return}n.push(performance.now()-e)},0),r=setTimeout(function(){var b=n.reduce(function(g,O){return g+O},0),S="Typing Perf: "+Math.round(b/n.length*100)/100+"ms";t(S),n=[]},2e3)},c=function(b){if(!sJ.has(b.inputType)||i){i=!1;return}o()},f=function(b){var S=b.keyCode;(S===8||S===13)&&o()},m=function(){i=!0},x=function(){i=!0};return window.addEventListener("keydown",f,!0),window.addEventListener("beforeinput",c,!0),window.addEventListener("paste",m,!0),window.addEventListener("cut",x,!0),function(){window.removeEventListener("keydown",f,!0),window.removeEventListener("beforeinput",c,!0),window.removeEventListener("paste",m,!0),window.removeEventListener("cut",x,!0)}},[t]),null}function bu(t){var e=t.checked,r=t.onClick,n=t.text,i=t.id,o=re.exports.useMemo(function(){return"id_"+Math.floor(Math.random()*1e4)},[]);return ct("div",{className:"switch",id:i,children:[Q("label",{htmlFor:o,children:n}),Q("button",{role:"switch","aria-checked":e,id:o,onClick:r,children:Q("span",{})})]})}function cJ(){var t=window.location,e=nb(),r=e.setOption,n=e.settings,i=n.measureTypingPerf,o=n.isCollab,c=n.isRichText,f=n.isCharLimit,m=n.isCharLimitUtf8,x=n.isAutocomplete,E=n.showTreeView,b=n.showNestedEditorTreeView,S=re.exports.useState(!1),g=Se(S,2),O=g[0],C=g[1],N=re.exports.useMemo(function(){var I=window.parent,q=t.search,V=I&&I.location.pathname==="/split/";return[V,q]},[t]),P=Se(N,2),D=P[0],F=P[1];return ct(dn,{children:[Q("button",{id:"options-button",className:"editor-dev-button ".concat(O?"active":""),onClick:function(){return C(!O)}}),O?ct("div",{className:"switches",children:[c&&J4&&Q(bu,{onClick:function(){r("isCollab",!o),window.location.reload()},checked:o,text:"Collaboration"}),J4&&Q(bu,{onClick:function(){D?window.parent.location.href="/".concat(F):window.location.href="/split/".concat(F)},checked:D,text:"Split Screen"}),Q(bu,{onClick:function(){return r("measureTypingPerf",!i)},checked:i,text:"Measure Perf"}),Q(bu,{onClick:function(){return r("showTreeView",!E)},checked:E,text:"Debug View"}),Q(bu,{onClick:function(){return r("showNestedEditorTreeView",!b)},checked:b,text:"Nested Editors Debug View"}),Q(bu,{onClick:function(){r("isRichText",!c),r("isCollab",!1)},checked:c,text:"Rich Text"}),Q(bu,{onClick:function(){return r("isCharLimit",!f)},checked:f,text:"Char Limit"}),Q(bu,{onClick:function(){return r("isCharLimitUtf8",!m)},checked:m,text:"Char Limit (UTF-8)"}),Q(bu,{onClick:function(){return r("isAutocomplete",!x)},checked:x,text:"Autocomplete"})]}):null]})}var rO=new URLSearchParams(window.location.search);for(var c6=0,nO=Object.keys(pv);c6<nO.length;c6++){var $2=nO[c6];if(rO.has($2))try{var f6,fJ=JSON.parse((f6=rO.get($2))!==null&&f6!==void 0?f6:"true");pv[$2]=Boolean(fJ)}catch{console.warn('Unable to parse query parameter "'.concat($2,'"'))}}pv.disableBeforeInput&&delete window.InputEvent.prototype.getTargetRanges;function dJ(){var t=nb(),e=t.settings,r=e.measureTypingPerf,n={namespace:"PlaygroundEditor",nodes:jt(eJ),onError:function(o){throw o},theme:tN};return Q(hU,{initialConfig:n,children:ct(TU,{children:[Q("header",{children:Q("a",{href:"https://lexical.dev",target:"_blank",rel:"noopener",children:Q("img",{src:JQ,alt:"Lexical Logo"})})}),Q("div",{className:"editor-shell",children:Q(QQ,{})}),Q(cJ,{}),J4&&Q(lJ,{}),r&&Q(uJ,{})]})})}function hJ(){return ct(pU,{children:[Q("h1",{children:"my app "}),Q(dJ,{})]})}var oN=function(e){var r=customElements.get("vite-error-overlay");if(!!r){var n=new r(e),i=document.body;i!==null&&i.appendChild(n)}};window.addEventListener("error",oN);window.addEventListener("unhandledrejection",function(t){var e=t.reason;return oN(e)});sM(document.getElementById("root")).render(Q(HR.StrictMode,{children:Q(hJ,{})}));
