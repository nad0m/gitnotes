var tH=Object.defineProperty,rH=Object.defineProperties;var nH=Object.getOwnPropertyDescriptors;var rE=Object.getOwnPropertySymbols;var iH=Object.prototype.hasOwnProperty,aH=Object.prototype.propertyIsEnumerable;var nE=(t,e,r)=>e in t?tH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,n4=(t,e)=>{for(var r in e||(e={}))iH.call(e,r)&&nE(t,r,e[r]);if(rE)for(var r of rE(e))aH.call(e,r)&&nE(t,r,e[r]);return t},i4=(t,e)=>rH(t,nH(e));const oH=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}};oH();var iE=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ee={exports:{}},Lr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1=Symbol.for("react.element"),sH=Symbol.for("react.portal"),lH=Symbol.for("react.fragment"),uH=Symbol.for("react.strict_mode"),cH=Symbol.for("react.profiler"),fH=Symbol.for("react.provider"),dH=Symbol.for("react.context"),hH=Symbol.for("react.forward_ref"),pH=Symbol.for("react.suspense"),mH=Symbol.for("react.memo"),vH=Symbol.for("react.lazy"),aE=Symbol.iterator;function gH(t){return t===null||typeof t!="object"?null:(t=aE&&t[aE]||t["@@iterator"],typeof t=="function"?t:null)}var LI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NI=Object.assign,RI={};function nm(t,e,r){this.props=t,this.context=e,this.refs=RI,this.updater=r||LI}nm.prototype.isReactComponent={};nm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jI(){}jI.prototype=nm.prototype;function x7(t,e,r){this.props=t,this.context=e,this.refs=RI,this.updater=r||LI}var k7=x7.prototype=new jI;k7.constructor=x7;NI(k7,nm.prototype);k7.isPureReactComponent=!0;var oE=Array.isArray,FI=Object.prototype.hasOwnProperty,_7={current:null},zI={key:!0,ref:!0,__self:!0,__source:!0};function BI(t,e,r){var n,i={},o=null,u=null;if(e!=null)for(n in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(o=""+e.key),e)FI.call(e,n)&&!zI.hasOwnProperty(n)&&(i[n]=e[n]);var f=arguments.length-2;if(f===1)i.children=r;else if(1<f){for(var d=Array(f),g=0;g<f;g++)d[g]=arguments[g+2];i.children=d}if(t&&t.defaultProps)for(n in f=t.defaultProps,f)i[n]===void 0&&(i[n]=f[n]);return{$$typeof:y1,type:t,key:o,ref:u,props:i,_owner:_7.current}}function yH(t,e){return{$$typeof:y1,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function S7(t){return typeof t=="object"&&t!==null&&t.$$typeof===y1}function bH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var sE=/\/+/g;function d6(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bH(""+t.key):e.toString(36)}function W4(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case y1:case sH:u=!0}}if(u)return u=t,i=i(u),t=n===""?"."+d6(u,0):n,oE(i)?(r="",t!=null&&(r=t.replace(sE,"$&/")+"/"),W4(i,e,r,"",function(g){return g})):i!=null&&(S7(i)&&(i=yH(i,r+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(sE,"$&/")+"/")+t)),e.push(i)),1;if(u=0,n=n===""?".":n+":",oE(t))for(var f=0;f<t.length;f++){o=t[f];var d=n+d6(o,f);u+=W4(o,e,r,d,i)}else if(d=gH(t),typeof d=="function")for(t=d.call(t),f=0;!(o=t.next()).done;)o=o.value,d=n+d6(o,f++),u+=W4(o,e,r,d,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function a4(t,e,r){if(t==null)return t;var n=[],i=0;return W4(t,n,"","",function(o){return e.call(r,o,i++)}),n}function wH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ra={current:null},$4={transition:null},xH={ReactCurrentDispatcher:Ra,ReactCurrentBatchConfig:$4,ReactCurrentOwner:_7};Lr.Children={map:a4,forEach:function(t,e,r){a4(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return a4(t,function(){e++}),e},toArray:function(t){return a4(t,function(e){return e})||[]},only:function(t){if(!S7(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Lr.Component=nm;Lr.Fragment=lH;Lr.Profiler=cH;Lr.PureComponent=x7;Lr.StrictMode=uH;Lr.Suspense=pH;Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xH;Lr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=NI({},t.props),i=t.key,o=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,u=_7.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var f=t.type.defaultProps;for(d in e)FI.call(e,d)&&!zI.hasOwnProperty(d)&&(n[d]=e[d]===void 0&&f!==void 0?f[d]:e[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){f=Array(d);for(var g=0;g<d;g++)f[g]=arguments[g+2];n.children=f}return{$$typeof:y1,type:t.type,key:i,ref:o,props:n,_owner:u}};Lr.createContext=function(t){return t={$$typeof:dH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fH,_context:t},t.Consumer=t};Lr.createElement=BI;Lr.createFactory=function(t){var e=BI.bind(null,t);return e.type=t,e};Lr.createRef=function(){return{current:null}};Lr.forwardRef=function(t){return{$$typeof:hH,render:t}};Lr.isValidElement=S7;Lr.lazy=function(t){return{$$typeof:vH,_payload:{_status:-1,_result:t},_init:wH}};Lr.memo=function(t,e){return{$$typeof:mH,type:t,compare:e===void 0?null:e}};Lr.startTransition=function(t){var e=$4.transition;$4.transition={};try{t()}finally{$4.transition=e}};Lr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Lr.useCallback=function(t,e){return Ra.current.useCallback(t,e)};Lr.useContext=function(t){return Ra.current.useContext(t)};Lr.useDebugValue=function(){};Lr.useDeferredValue=function(t){return Ra.current.useDeferredValue(t)};Lr.useEffect=function(t,e){return Ra.current.useEffect(t,e)};Lr.useId=function(){return Ra.current.useId()};Lr.useImperativeHandle=function(t,e,r){return Ra.current.useImperativeHandle(t,e,r)};Lr.useInsertionEffect=function(t,e){return Ra.current.useInsertionEffect(t,e)};Lr.useLayoutEffect=function(t,e){return Ra.current.useLayoutEffect(t,e)};Lr.useMemo=function(t,e){return Ra.current.useMemo(t,e)};Lr.useReducer=function(t,e,r){return Ra.current.useReducer(t,e,r)};Lr.useRef=function(t){return Ra.current.useRef(t)};Lr.useState=function(t){return Ra.current.useState(t)};Lr.useSyncExternalStore=function(t,e,r){return Ra.current.useSyncExternalStore(t,e,r)};Lr.useTransition=function(){return Ra.current.useTransition()};Lr.version="18.0.0-fc46dba67-20220329";ee.exports=Lr;var Oo=ee.exports,ma={exports:{}},No={},HI={exports:{}},UI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ge,De){var ze=ge.length;ge.push(De);e:for(;0<ze;){var Ye=ze-1>>>1,q=ge[Ye];if(0<i(q,De))ge[Ye]=De,ge[ze]=q,ze=Ye;else break e}}function r(ge){return ge.length===0?null:ge[0]}function n(ge){if(ge.length===0)return null;var De=ge[0],ze=ge.pop();if(ze!==De){ge[0]=ze;e:for(var Ye=0,q=ge.length,A=q>>>1;Ye<A;){var zt=2*(Ye+1)-1,Ht=ge[zt],Zt=zt+1,Re=ge[Zt];if(0>i(Ht,ze))Zt<q&&0>i(Re,Ht)?(ge[Ye]=Re,ge[Zt]=ze,Ye=Zt):(ge[Ye]=Ht,ge[zt]=ze,Ye=zt);else if(Zt<q&&0>i(Re,ze))ge[Ye]=Re,ge[Zt]=ze,Ye=Zt;else break e}}return De}function i(ge,De){var ze=ge.sortIndex-De.sortIndex;return ze!==0?ze:ge.id-De.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],g=[],S=1,y=null,C=3,b=!1,O=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ge){for(var De=r(g);De!==null;){if(De.callback===null)n(g);else if(De.startTime<=ge)n(g),De.sortIndex=De.expirationTime,e(d,De);else break;De=r(g)}}function D(ge){if(_=!1,R(ge),!O)if(r(d)!==null)O=!0,Ee(G);else{var De=r(g);De!==null&&Ne(D,De.startTime-ge)}}function G(ge,De){O=!1,_&&(_=!1,P(te),te=-1),b=!0;var ze=C;try{for(R(De),y=r(d);y!==null&&(!(y.expirationTime>De)||ge&&!ie());){var Ye=y.callback;if(typeof Ye=="function"){y.callback=null,C=y.priorityLevel;var q=Ye(y.expirationTime<=De);De=t.unstable_now(),typeof q=="function"?y.callback=q:y===r(d)&&n(d),R(De)}else n(d);y=r(d)}if(y!==null)var A=!0;else{var zt=r(g);zt!==null&&Ne(D,zt.startTime-De),A=!1}return A}finally{y=null,C=ze,b=!1}}var V=!1,J=null,te=-1,W=5,ce=-1;function ie(){return!(t.unstable_now()-ce<W)}function le(){if(J!==null){var ge=t.unstable_now();ce=ge;var De=!0;try{De=J(!0,ge)}finally{De?pe():(V=!1,J=null)}}else V=!1}var pe;if(typeof M=="function")pe=function(){M(le)};else if(typeof MessageChannel!="undefined"){var he=new MessageChannel,ye=he.port2;he.port1.onmessage=le,pe=function(){ye.postMessage(null)}}else pe=function(){N(le,0)};function Ee(ge){J=ge,V||(V=!0,pe())}function Ne(ge,De){te=N(function(){ge(t.unstable_now())},De)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ge){ge.callback=null},t.unstable_continueExecution=function(){O||b||(O=!0,Ee(G))},t.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ge?Math.floor(1e3/ge):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(ge){switch(C){case 1:case 2:case 3:var De=3;break;default:De=C}var ze=C;C=De;try{return ge()}finally{C=ze}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ge,De){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var ze=C;C=ge;try{return De()}finally{C=ze}},t.unstable_scheduleCallback=function(ge,De,ze){var Ye=t.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?Ye+ze:Ye):ze=Ye,ge){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ze+q,ge={id:S++,callback:De,priorityLevel:ge,startTime:ze,expirationTime:q,sortIndex:-1},ze>Ye?(ge.sortIndex=ze,e(g,ge),r(d)===null&&ge===r(g)&&(_?(P(te),te=-1):_=!0,Ne(D,ze-Ye))):(ge.sortIndex=q,e(d,ge),O||b||(O=!0,Ee(G))),ge},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(ge){var De=C;return function(){var ze=C;C=De;try{return ge.apply(this,arguments)}finally{C=ze}}}})(UI);HI.exports=UI;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI=ee.exports,Po=HI.exports;function st(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WI=new Set,Cg={};function Dd(t,e){Lp(t,e),Lp(t+"Capture",e)}function Lp(t,e){for(Cg[t]=e,t=0;t<e.length;t++)WI.add(e[t])}var $u=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),F5=Object.prototype.hasOwnProperty,kH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lE={},uE={};function _H(t){return F5.call(uE,t)?!0:F5.call(lE,t)?!1:kH.test(t)?uE[t]=!0:(lE[t]=!0,!1)}function SH(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CH(t,e,r,n){if(e===null||typeof e=="undefined"||SH(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ja(t,e,r,n,i,o,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=u}var Zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zi[t]=new ja(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zi[e]=new ja(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zi[t]=new ja(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zi[t]=new ja(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zi[t]=new ja(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zi[t]=new ja(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zi[t]=new ja(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zi[t]=new ja(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zi[t]=new ja(t,5,!1,t.toLowerCase(),null,!1,!1)});var C7=/[\-:]([a-z])/g;function E7(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(C7,E7);Zi[e]=new ja(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(C7,E7);Zi[e]=new ja(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(C7,E7);Zi[e]=new ja(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zi[t]=new ja(t,1,!1,t.toLowerCase(),null,!1,!1)});Zi.xlinkHref=new ja("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zi[t]=new ja(t,1,!1,t.toLowerCase(),null,!0,!0)});function T7(t,e,r,n){var i=Zi.hasOwnProperty(e)?Zi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CH(e,r,i,n)&&(r=null),n||i===null?_H(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Qu=KI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o4=Symbol.for("react.element"),ip=Symbol.for("react.portal"),ap=Symbol.for("react.fragment"),O7=Symbol.for("react.strict_mode"),z5=Symbol.for("react.profiler"),$I=Symbol.for("react.provider"),qI=Symbol.for("react.context"),A7=Symbol.for("react.forward_ref"),B5=Symbol.for("react.suspense"),H5=Symbol.for("react.suspense_list"),I7=Symbol.for("react.memo"),Zc=Symbol.for("react.lazy"),VI=Symbol.for("react.offscreen"),cE=Symbol.iterator;function Nv(t){return t===null||typeof t!="object"?null:(t=cE&&t[cE]||t["@@iterator"],typeof t=="function"?t:null)}var Xn=Object.assign,h6;function Yv(t){if(h6===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);h6=e&&e[1]||""}return`
`+h6+t}var p6=!1;function m6(t,e){if(!t||p6)return"";p6=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(g){var n=g}Reflect.construct(t,[],e)}else{try{e.call()}catch(g){n=g}t.call(e.prototype)}else{try{throw Error()}catch(g){n=g}t()}}catch(g){if(g&&n&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),o=n.stack.split(`
`),u=i.length-1,f=o.length-1;1<=u&&0<=f&&i[u]!==o[f];)f--;for(;1<=u&&0<=f;u--,f--)if(i[u]!==o[f]){if(u!==1||f!==1)do if(u--,f--,0>f||i[u]!==o[f]){var d=`
`+i[u].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=u&&0<=f);break}}}finally{p6=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Yv(t):""}function EH(t){switch(t.tag){case 5:return Yv(t.type);case 16:return Yv("Lazy");case 13:return Yv("Suspense");case 19:return Yv("SuspenseList");case 0:case 2:case 15:return t=m6(t.type,!1),t;case 11:return t=m6(t.type.render,!1),t;case 1:return t=m6(t.type,!0),t;default:return""}}function U5(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ap:return"Fragment";case ip:return"Portal";case z5:return"Profiler";case O7:return"StrictMode";case B5:return"Suspense";case H5:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qI:return(t.displayName||"Context")+".Consumer";case $I:return(t._context.displayName||"Context")+".Provider";case A7:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I7:return e=t.displayName||null,e!==null?e:U5(t.type)||"Memo";case Zc:e=t._payload,t=t._init;try{return U5(t(e))}catch{}}return null}function TH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U5(e);case 8:return e===O7?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function w0(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OH(t){var e=GI(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(u){n=""+u,o.call(this,u)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function s4(t){t._valueTracker||(t._valueTracker=OH(t))}function YI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=GI(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function _b(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function K5(t,e){var r=e.checked;return Xn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:t._wrapperState.initialChecked})}function fE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=w0(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XI(t,e){e=e.checked,e!=null&&T7(t,"checked",e,!1)}function W5(t,e){XI(t,e);var r=w0(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$5(t,e.type,r):e.hasOwnProperty("defaultValue")&&$5(t,e.type,w0(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function $5(t,e,r){(e!=="number"||_b(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Xv=Array.isArray;function gp(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+w0(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function q5(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(st(91));return Xn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(st(92));if(Xv(r)){if(1<r.length)throw Error(st(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:w0(r)}}function ZI(t,e){var r=w0(e.value),n=w0(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function pE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function V5(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var l4,JI=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(l4=l4||document.createElement("div"),l4.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=l4.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ig={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AH=["Webkit","ms","Moz","O"];Object.keys(ig).forEach(function(t){AH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ig[e]=ig[t]})});function eM(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ig.hasOwnProperty(t)&&ig[t]?(""+e).trim():e+"px"}function tM(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=eM(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var IH=Xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function G5(t,e){if(e){if(IH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(st(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(st(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(st(61))}if(e.style!=null&&typeof e.style!="object")throw Error(st(62))}}function Y5(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X5=null;function M7(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Z5=null,yp=null,bp=null;function mE(t){if(t=x1(t)){if(typeof Z5!="function")throw Error(st(280));var e=t.stateNode;e&&(e=Kw(e),Z5(t.stateNode,t.type,e))}}function rM(t){yp?bp?bp.push(t):bp=[t]:yp=t}function nM(){if(yp){var t=yp,e=bp;if(bp=yp=null,mE(t),e)for(t=0;t<e.length;t++)mE(e[t])}}function iM(t,e){return t(e)}function aM(){}var v6=!1;function oM(t,e,r){if(v6)return t(e,r);v6=!0;try{return iM(t,e,r)}finally{v6=!1,(yp!==null||bp!==null)&&(aM(),nM())}}function Tg(t,e){var r=t.stateNode;if(r===null)return null;var n=Kw(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(st(231,e,typeof r));return r}var Q5=!1;if($u)try{var Rv={};Object.defineProperty(Rv,"passive",{get:function(){Q5=!0}}),window.addEventListener("test",Rv,Rv),window.removeEventListener("test",Rv,Rv)}catch{Q5=!1}function MH(t,e,r,n,i,o,u,f,d){var g=Array.prototype.slice.call(arguments,3);try{e.apply(r,g)}catch(S){this.onError(S)}}var ag=!1,Sb=null,Cb=!1,J5=null,DH={onError:function(t){ag=!0,Sb=t}};function PH(t,e,r,n,i,o,u,f,d){ag=!1,Sb=null,MH.apply(DH,arguments)}function LH(t,e,r,n,i,o,u,f,d){if(PH.apply(this,arguments),ag){if(ag){var g=Sb;ag=!1,Sb=null}else throw Error(st(198));Cb||(Cb=!0,J5=g)}}function Pd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function sM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vE(t){if(Pd(t)!==t)throw Error(st(188))}function NH(t){var e=t.alternate;if(!e){if(e=Pd(t),e===null)throw Error(st(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return vE(i),t;if(o===n)return vE(i),e;o=o.sibling}throw Error(st(188))}if(r.return!==n.return)r=i,n=o;else{for(var u=!1,f=i.child;f;){if(f===r){u=!0,r=i,n=o;break}if(f===n){u=!0,n=i,r=o;break}f=f.sibling}if(!u){for(f=o.child;f;){if(f===r){u=!0,r=o,n=i;break}if(f===n){u=!0,n=o,r=i;break}f=f.sibling}if(!u)throw Error(st(189))}}if(r.alternate!==n)throw Error(st(190))}if(r.tag!==3)throw Error(st(188));return r.stateNode.current===r?t:e}function lM(t){return t=NH(t),t!==null?uM(t):null}function uM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uM(t);if(e!==null)return e;t=t.sibling}return null}var cM=Po.unstable_scheduleCallback,gE=Po.unstable_cancelCallback,RH=Po.unstable_shouldYield,jH=Po.unstable_requestPaint,oi=Po.unstable_now,FH=Po.unstable_getCurrentPriorityLevel,D7=Po.unstable_ImmediatePriority,fM=Po.unstable_UserBlockingPriority,Eb=Po.unstable_NormalPriority,zH=Po.unstable_LowPriority,dM=Po.unstable_IdlePriority,zw=null,Rl=null;function BH(t){if(Rl&&typeof Rl.onCommitFiberRoot=="function")try{Rl.onCommitFiberRoot(zw,t,void 0,(t.current.flags&128)===128)}catch{}}var Gs=Math.clz32?Math.clz32:KH,HH=Math.log,UH=Math.LN2;function KH(t){return t>>>=0,t===0?32:31-(HH(t)/UH|0)|0}var u4=64,c4=4194304;function Zv(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,u=r&268435455;if(u!==0){var f=u&~i;f!==0?n=Zv(f):(o&=u,o!==0&&(n=Zv(o)))}else u=r&~i,u!==0?n=Zv(u):o!==0&&(n=Zv(o));if(n===0)return 0;if(e!==0&&e!==n&&(e&i)===0&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((n&4)!==0&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Gs(e),i=1<<r,n|=t[r],e&=~i;return n}function WH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $H(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var u=31-Gs(o),f=1<<u,d=i[u];d===-1?((f&r)===0||(f&n)!==0)&&(i[u]=WH(f,e)):d<=e&&(t.expiredLanes|=f),o&=~f}}function e8(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function g6(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function b1(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gs(e),t[e]=r}function qH(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Gs(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function P7(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Gs(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ln=0;function hM(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var pM,L7,mM,vM,gM,t8=!1,f4=[],d0=null,h0=null,p0=null,Og=new Map,Ag=new Map,e0=[],VH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yE(t,e){switch(t){case"focusin":case"focusout":d0=null;break;case"dragenter":case"dragleave":h0=null;break;case"mouseover":case"mouseout":p0=null;break;case"pointerover":case"pointerout":Og.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ag.delete(e.pointerId)}}function jv(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=x1(e),e!==null&&L7(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GH(t,e,r,n,i){switch(e){case"focusin":return d0=jv(d0,t,e,r,n,i),!0;case"dragenter":return h0=jv(h0,t,e,r,n,i),!0;case"mouseover":return p0=jv(p0,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Og.set(o,jv(Og.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Ag.set(o,jv(Ag.get(o)||null,t,e,r,n,i)),!0}return!1}function yM(t){var e=Qf(t.target);if(e!==null){var r=Pd(e);if(r!==null){if(e=r.tag,e===13){if(e=sM(r),e!==null){t.blockedOn=e,gM(t.priority,function(){mM(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function q4(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=r8(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);X5=n,r.target.dispatchEvent(n),X5=null}else return e=x1(r),e!==null&&L7(e),t.blockedOn=r,!1;e.shift()}return!0}function bE(t,e,r){q4(t)&&r.delete(e)}function YH(){t8=!1,d0!==null&&q4(d0)&&(d0=null),h0!==null&&q4(h0)&&(h0=null),p0!==null&&q4(p0)&&(p0=null),Og.forEach(bE),Ag.forEach(bE)}function Fv(t,e){t.blockedOn===e&&(t.blockedOn=null,t8||(t8=!0,Po.unstable_scheduleCallback(Po.unstable_NormalPriority,YH)))}function Ig(t){function e(i){return Fv(i,t)}if(0<f4.length){Fv(f4[0],t);for(var r=1;r<f4.length;r++){var n=f4[r];n.blockedOn===t&&(n.blockedOn=null)}}for(d0!==null&&Fv(d0,t),h0!==null&&Fv(h0,t),p0!==null&&Fv(p0,t),Og.forEach(e),Ag.forEach(e),r=0;r<e0.length;r++)n=e0[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<e0.length&&(r=e0[0],r.blockedOn===null);)yM(r),r.blockedOn===null&&e0.shift()}var wp=Qu.ReactCurrentBatchConfig;function XH(t,e,r,n){var i=ln,o=wp.transition;wp.transition=null;try{ln=1,N7(t,e,r,n)}finally{ln=i,wp.transition=o}}function ZH(t,e,r,n){var i=ln,o=wp.transition;wp.transition=null;try{ln=4,N7(t,e,r,n)}finally{ln=i,wp.transition=o}}function N7(t,e,r,n){var i=r8(t,e,r,n);if(i===null)T6(t,e,n,Ob,r),yE(t,n);else if(GH(i,t,e,r,n))n.stopPropagation();else if(yE(t,n),e&4&&-1<VH.indexOf(t)){for(;i!==null;){var o=x1(i);if(o!==null&&pM(o),o=r8(t,e,r,n),o===null&&T6(t,e,n,Ob,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else T6(t,e,n,null,r)}var Ob=null;function r8(t,e,r,n){if(Ob=null,t=M7(n),t=Qf(t),t!==null)if(e=Pd(t),e===null)t=null;else if(r=e.tag,r===13){if(t=sM(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ob=t,null}function bM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FH()){case D7:return 1;case fM:return 4;case Eb:case zH:return 16;case dM:return 536870912;default:return 16}default:return 16}}var s0=null,R7=null,V4=null;function wM(){if(V4)return V4;var t,e=R7,r=e.length,n,i="value"in s0?s0.value:s0.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var u=r-t;for(n=1;n<=u&&e[r-n]===i[o-n];n++);return V4=i.slice(t,1<n?1-n:void 0)}function G4(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function d4(){return!0}function wE(){return!1}function Ro(t){function e(r,n,i,o,u){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var f in t)t.hasOwnProperty(f)&&(r=t[f],this[f]=r?r(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?d4:wE,this.isPropagationStopped=wE,this}return Xn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=d4)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=d4)},persist:function(){},isPersistent:d4}),e}var im={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j7=Ro(im),w1=Xn({},im,{view:0,detail:0}),QH=Ro(w1),y6,b6,zv,Bw=Xn({},w1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F7,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zv&&(zv&&t.type==="mousemove"?(y6=t.screenX-zv.screenX,b6=t.screenY-zv.screenY):b6=y6=0,zv=t),y6)},movementY:function(t){return"movementY"in t?t.movementY:b6}}),xE=Ro(Bw),JH=Xn({},Bw,{dataTransfer:0}),eU=Ro(JH),tU=Xn({},w1,{relatedTarget:0}),w6=Ro(tU),rU=Xn({},im,{animationName:0,elapsedTime:0,pseudoElement:0}),nU=Ro(rU),iU=Xn({},im,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aU=Ro(iU),oU=Xn({},im,{data:0}),kE=Ro(oU),sU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uU[t])?!!e[t]:!1}function F7(){return cU}var fU=Xn({},w1,{key:function(t){if(t.key){var e=sU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=G4(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F7,charCode:function(t){return t.type==="keypress"?G4(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?G4(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dU=Ro(fU),hU=Xn({},Bw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_E=Ro(hU),pU=Xn({},w1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F7}),mU=Ro(pU),vU=Xn({},im,{propertyName:0,elapsedTime:0,pseudoElement:0}),gU=Ro(vU),yU=Xn({},Bw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bU=Ro(yU),wU=[9,13,27,32],z7=$u&&"CompositionEvent"in window,og=null;$u&&"documentMode"in document&&(og=document.documentMode);var xU=$u&&"TextEvent"in window&&!og,xM=$u&&(!z7||og&&8<og&&11>=og),SE=String.fromCharCode(32),CE=!1;function kM(t,e){switch(t){case"keyup":return wU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _M(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var op=!1;function kU(t,e){switch(t){case"compositionend":return _M(e);case"keypress":return e.which!==32?null:(CE=!0,SE);case"textInput":return t=e.data,t===SE&&CE?null:t;default:return null}}function _U(t,e){if(op)return t==="compositionend"||!z7&&kM(t,e)?(t=wM(),V4=R7=s0=null,op=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xM&&e.locale!=="ko"?null:e.data;default:return null}}var SU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SU[t.type]:e==="textarea"}function SM(t,e,r,n){rM(n),e=Ab(e,"onChange"),0<e.length&&(r=new j7("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var sg=null,Mg=null;function CU(t){NM(t,0)}function Hw(t){var e=up(t);if(YI(e))return t}function EU(t,e){if(t==="change")return e}var CM=!1;if($u){var x6;if($u){var k6="oninput"in document;if(!k6){var TE=document.createElement("div");TE.setAttribute("oninput","return;"),k6=typeof TE.oninput=="function"}x6=k6}else x6=!1;CM=x6&&(!document.documentMode||9<document.documentMode)}function OE(){sg&&(sg.detachEvent("onpropertychange",EM),Mg=sg=null)}function EM(t){if(t.propertyName==="value"&&Hw(Mg)){var e=[];SM(e,Mg,t,M7(t)),oM(CU,e)}}function TU(t,e,r){t==="focusin"?(OE(),sg=e,Mg=r,sg.attachEvent("onpropertychange",EM)):t==="focusout"&&OE()}function OU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hw(Mg)}function AU(t,e){if(t==="click")return Hw(e)}function IU(t,e){if(t==="input"||t==="change")return Hw(e)}function MU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ul=typeof Object.is=="function"?Object.is:MU;function Dg(t,e){if(Ul(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!F5.call(e,i)||!Ul(t[i],e[i]))return!1}return!0}function AE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IE(t,e){var r=AE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=AE(r)}}function TM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OM(){for(var t=window,e=_b();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=_b(t.document)}return e}function B7(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DU(t){var e=OM(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&TM(r.ownerDocument.documentElement,r)){if(n!==null&&B7(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=IE(r,o);var u=IE(r,n);i&&u&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PU=$u&&"documentMode"in document&&11>=document.documentMode,sp=null,n8=null,lg=null,i8=!1;function ME(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;i8||sp==null||sp!==_b(n)||(n=sp,"selectionStart"in n&&B7(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),lg&&Dg(lg,n)||(lg=n,n=Ab(n8,"onSelect"),0<n.length&&(e=new j7("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=sp)))}function h4(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var lp={animationend:h4("Animation","AnimationEnd"),animationiteration:h4("Animation","AnimationIteration"),animationstart:h4("Animation","AnimationStart"),transitionend:h4("Transition","TransitionEnd")},_6={},AM={};$u&&(AM=document.createElement("div").style,"AnimationEvent"in window||(delete lp.animationend.animation,delete lp.animationiteration.animation,delete lp.animationstart.animation),"TransitionEvent"in window||delete lp.transitionend.transition);function Uw(t){if(_6[t])return _6[t];if(!lp[t])return t;var e=lp[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in AM)return _6[t]=e[r];return t}var IM=Uw("animationend"),MM=Uw("animationiteration"),DM=Uw("animationstart"),PM=Uw("transitionend"),LM=new Map,DE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function I0(t,e){LM.set(t,e),Dd(e,[t])}for(var S6=0;S6<DE.length;S6++){var C6=DE[S6],LU=C6.toLowerCase(),NU=C6[0].toUpperCase()+C6.slice(1);I0(LU,"on"+NU)}I0(IM,"onAnimationEnd");I0(MM,"onAnimationIteration");I0(DM,"onAnimationStart");I0("dblclick","onDoubleClick");I0("focusin","onFocus");I0("focusout","onBlur");I0(PM,"onTransitionEnd");Lp("onMouseEnter",["mouseout","mouseover"]);Lp("onMouseLeave",["mouseout","mouseover"]);Lp("onPointerEnter",["pointerout","pointerover"]);Lp("onPointerLeave",["pointerout","pointerover"]);Dd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qv));function PE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,LH(n,e,void 0,t),t.currentTarget=null}function NM(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var u=n.length-1;0<=u;u--){var f=n[u],d=f.instance,g=f.currentTarget;if(f=f.listener,d!==o&&i.isPropagationStopped())break e;PE(i,f,g),o=d}else for(u=0;u<n.length;u++){if(f=n[u],d=f.instance,g=f.currentTarget,f=f.listener,d!==o&&i.isPropagationStopped())break e;PE(i,f,g),o=d}}}if(Cb)throw t=J5,Cb=!1,J5=null,t}function Dn(t,e){var r=e[l8];r===void 0&&(r=e[l8]=new Set);var n=t+"__bubble";r.has(n)||(RM(e,t,2,!1),r.add(n))}function E6(t,e,r){var n=0;e&&(n|=4),RM(r,t,n,e)}var p4="_reactListening"+Math.random().toString(36).slice(2);function Pg(t){if(!t[p4]){t[p4]=!0,WI.forEach(function(r){r!=="selectionchange"&&(RU.has(r)||E6(r,!1,t),E6(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[p4]||(e[p4]=!0,E6("selectionchange",!1,e))}}function RM(t,e,r,n){switch(bM(e)){case 1:var i=XH;break;case 4:i=ZH;break;default:i=N7}r=i.bind(null,e,r,t),i=void 0,!Q5||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function T6(t,e,r,n,i){var o=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var f=n.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(u===4)for(u=n.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;u=u.return}for(;f!==null;){if(u=Qf(f),u===null)return;if(d=u.tag,d===5||d===6){n=o=u;continue e}f=f.parentNode}}n=n.return}oM(function(){var g=o,S=M7(r),y=[];e:{var C=LM.get(t);if(C!==void 0){var b=j7,O=t;switch(t){case"keypress":if(G4(r)===0)break e;case"keydown":case"keyup":b=dU;break;case"focusin":O="focus",b=w6;break;case"focusout":O="blur",b=w6;break;case"beforeblur":case"afterblur":b=w6;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=xE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=eU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=mU;break;case IM:case MM:case DM:b=nU;break;case PM:b=gU;break;case"scroll":b=QH;break;case"wheel":b=bU;break;case"copy":case"cut":case"paste":b=aU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=_E}var _=(e&4)!==0,N=!_&&t==="scroll",P=_?C!==null?C+"Capture":null:C;_=[];for(var M=g,R;M!==null;){R=M;var D=R.stateNode;if(R.tag===5&&D!==null&&(R=D,P!==null&&(D=Tg(M,P),D!=null&&_.push(Lg(M,D,R)))),N)break;M=M.return}0<_.length&&(C=new b(C,O,null,r,S),y.push({event:C,listeners:_}))}}if((e&7)===0){e:{if(C=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",C&&r!==X5&&(O=r.relatedTarget||r.fromElement)&&(Qf(O)||O[qu]))break e;if((b||C)&&(C=S.window===S?S:(C=S.ownerDocument)?C.defaultView||C.parentWindow:window,b?(O=r.relatedTarget||r.toElement,b=g,O=O?Qf(O):null,O!==null&&(N=Pd(O),O!==N||O.tag!==5&&O.tag!==6)&&(O=null)):(b=null,O=g),b!==O)){if(_=xE,D="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_=_E,D="onPointerLeave",P="onPointerEnter",M="pointer"),N=b==null?C:up(b),R=O==null?C:up(O),C=new _(D,M+"leave",b,r,S),C.target=N,C.relatedTarget=R,D=null,Qf(S)===g&&(_=new _(P,M+"enter",O,r,S),_.target=R,_.relatedTarget=N,D=_),N=D,b&&O)t:{for(_=b,P=O,M=0,R=_;R;R=Qh(R))M++;for(R=0,D=P;D;D=Qh(D))R++;for(;0<M-R;)_=Qh(_),M--;for(;0<R-M;)P=Qh(P),R--;for(;M--;){if(_===P||P!==null&&_===P.alternate)break t;_=Qh(_),P=Qh(P)}_=null}else _=null;b!==null&&LE(y,C,b,_,!1),O!==null&&N!==null&&LE(y,N,O,_,!0)}}e:{if(C=g?up(g):window,b=C.nodeName&&C.nodeName.toLowerCase(),b==="select"||b==="input"&&C.type==="file")var G=EU;else if(EE(C))if(CM)G=IU;else{G=OU;var V=TU}else(b=C.nodeName)&&b.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(G=AU);if(G&&(G=G(t,g))){SM(y,G,r,S);break e}V&&V(t,C,g),t==="focusout"&&(V=C._wrapperState)&&V.controlled&&C.type==="number"&&$5(C,"number",C.value)}switch(V=g?up(g):window,t){case"focusin":(EE(V)||V.contentEditable==="true")&&(sp=V,n8=g,lg=null);break;case"focusout":lg=n8=sp=null;break;case"mousedown":i8=!0;break;case"contextmenu":case"mouseup":case"dragend":i8=!1,ME(y,r,S);break;case"selectionchange":if(PU)break;case"keydown":case"keyup":ME(y,r,S)}var J;if(z7)e:{switch(t){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else op?kM(t,r)&&(te="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(te="onCompositionStart");te&&(xM&&r.locale!=="ko"&&(op||te!=="onCompositionStart"?te==="onCompositionEnd"&&op&&(J=wM()):(s0=S,R7="value"in s0?s0.value:s0.textContent,op=!0)),V=Ab(g,te),0<V.length&&(te=new kE(te,t,null,r,S),y.push({event:te,listeners:V}),J?te.data=J:(J=_M(r),J!==null&&(te.data=J)))),(J=xU?kU(t,r):_U(t,r))&&(g=Ab(g,"onBeforeInput"),0<g.length&&(S=new kE("onBeforeInput","beforeinput",null,r,S),y.push({event:S,listeners:g}),S.data=J))}NM(y,e)})}function Lg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ab(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Tg(t,r),o!=null&&n.unshift(Lg(t,o,i)),o=Tg(t,e),o!=null&&n.push(Lg(t,o,i))),t=t.return}return n}function Qh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function LE(t,e,r,n,i){for(var o=e._reactName,u=[];r!==null&&r!==n;){var f=r,d=f.alternate,g=f.stateNode;if(d!==null&&d===n)break;f.tag===5&&g!==null&&(f=g,i?(d=Tg(r,o),d!=null&&u.unshift(Lg(r,d,f))):i||(d=Tg(r,o),d!=null&&u.push(Lg(r,d,f)))),r=r.return}u.length!==0&&t.push({event:e,listeners:u})}var jU=/\r\n?/g,FU=/\u0000|\uFFFD/g;function NE(t){return(typeof t=="string"?t:""+t).replace(jU,`
`).replace(FU,"")}function m4(t,e,r){if(e=NE(e),NE(t)!==e&&r)throw Error(st(425))}function Ib(){}var a8=null;function o8(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s8=typeof setTimeout=="function"?setTimeout:void 0,zU=typeof clearTimeout=="function"?clearTimeout:void 0,RE=typeof Promise=="function"?Promise:void 0,BU=typeof queueMicrotask=="function"?queueMicrotask:typeof RE!="undefined"?function(t){return RE.resolve(null).then(t).catch(HU)}:s8;function HU(t){setTimeout(function(){throw t})}function O6(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ig(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ig(e)}function Ru(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var am=Math.random().toString(36).slice(2),Ol="__reactFiber$"+am,Ng="__reactProps$"+am,qu="__reactContainer$"+am,l8="__reactEvents$"+am,UU="__reactListeners$"+am,KU="__reactHandles$"+am;function Qf(t){var e=t[Ol];if(e)return e;for(var r=t.parentNode;r;){if(e=r[qu]||r[Ol]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=jE(t);t!==null;){if(r=t[Ol])return r;t=jE(t)}return e}t=r,r=t.parentNode}return null}function x1(t){return t=t[Ol]||t[qu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function up(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(st(33))}function Kw(t){return t[Ng]||null}var u8=[],cp=-1;function M0(t){return{current:t}}function Ln(t){0>cp||(t.current=u8[cp],u8[cp]=null,cp--)}function Cn(t,e){cp++,u8[cp]=t.current,t.current=e}var x0={},va=M0(x0),ao=M0(!1),pd=x0;function Np(t,e){var r=t.type.contextTypes;if(!r)return x0;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function oo(t){return t=t.childContextTypes,t!=null}function Mb(){Ln(ao),Ln(va)}function FE(t,e,r){if(va.current!==x0)throw Error(st(168));Cn(va,e),Cn(ao,r)}function jM(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(st(108,TH(t)||"Unknown",i));return Xn({},r,n)}function Db(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||x0,pd=va.current,Cn(va,t),Cn(ao,ao.current),!0}function zE(t,e,r){var n=t.stateNode;if(!n)throw Error(st(169));r?(t=jM(t,e,pd),n.__reactInternalMemoizedMergedChildContext=t,Ln(ao),Ln(va),Cn(va,t)):Ln(ao),Cn(ao,r)}var Pu=null,Ww=!1,A6=!1;function FM(t){Pu===null?Pu=[t]:Pu.push(t)}function WU(t){Ww=!0,FM(t)}function D0(){if(!A6&&Pu!==null){A6=!0;var t=0,e=ln;try{var r=Pu;for(ln=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Pu=null,Ww=!1}catch(i){throw Pu!==null&&(Pu=Pu.slice(t+1)),cM(D7,D0),i}finally{ln=e,A6=!1}}return null}var $U=Qu.ReactCurrentBatchConfig;function Ws(t,e){if(t&&t.defaultProps){e=Xn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Pb=M0(null),Lb=null,fp=null,H7=null;function U7(){H7=fp=Lb=null}function K7(t){var e=Pb.current;Ln(Pb),t._currentValue=e}function c8(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function xp(t,e){Lb=t,H7=fp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Io=!0),t.firstContext=null)}function ys(t){var e=t._currentValue;if(H7!==t)if(t={context:t,memoizedValue:e,next:null},fp===null){if(Lb===null)throw Error(st(308));fp=t,Lb.dependencies={lanes:0,firstContext:t}}else fp=fp.next=t;return e}var Dl=null,Qc=!1;function W7(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function m0(t,e){var r=t.updateQueue;r!==null&&(r=r.shared,vi!==null&&(t.mode&1)!==0&&(jr&2)===0?(t=r.interleaved,t===null?(e.next=e,Dl===null?Dl=[r]:Dl.push(r)):(e.next=t.next,t.next=e),r.interleaved=e):(t=r.pending,t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e))}function Y4(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,P7(t,r)}}function BE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=u:o=o.next=u,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Nb(t,e,r,n){var i=t.updateQueue;Qc=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var d=f,g=d.next;d.next=null,u===null?o=g:u.next=g,u=d;var S=t.alternate;S!==null&&(S=S.updateQueue,f=S.lastBaseUpdate,f!==u&&(f===null?S.firstBaseUpdate=g:f.next=g,S.lastBaseUpdate=d))}if(o!==null){var y=i.baseState;u=0,S=g=d=null,f=o;do{var C=f.lane,b=f.eventTime;if((n&C)===C){S!==null&&(S=S.next={eventTime:b,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var O=t,_=f;switch(C=e,b=r,_.tag){case 1:if(O=_.payload,typeof O=="function"){y=O.call(b,y,C);break e}y=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=_.payload,C=typeof O=="function"?O.call(b,y,C):O,C==null)break e;y=Xn({},y,C);break e;case 2:Qc=!0}}f.callback!==null&&f.lane!==0&&(t.flags|=64,C=i.effects,C===null?i.effects=[f]:C.push(f))}else b={eventTime:b,lane:C,tag:f.tag,payload:f.payload,callback:f.callback,next:null},S===null?(g=S=b,d=y):S=S.next=b,u|=C;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;C=f,f=C.next,C.next=null,i.lastBaseUpdate=C,i.shared.pending=null}}while(1);if(S===null&&(d=y),i.baseState=d,i.firstBaseUpdate=g,i.lastBaseUpdate=S,e=i.shared.interleaved,e!==null){i=e;do u|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Bp|=u,t.lanes=u,t.memoizedState=y}}function HE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(st(191,i));i.call(n)}}}var BM=new KI.Component().refs;function f8(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Xn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $w={isMounted:function(t){return(t=t._reactInternals)?Pd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=La(),i=g0(t),o=Hu(n,i);o.payload=e,r!=null&&(o.callback=r),m0(t,o),e=ms(t,i,n),e!==null&&Y4(e,t,i)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=La(),i=g0(t),o=Hu(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),m0(t,o),e=ms(t,i,n),e!==null&&Y4(e,t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=La(),n=g0(t),i=Hu(r,n);i.tag=2,e!=null&&(i.callback=e),m0(t,i),e=ms(t,n,r),e!==null&&Y4(e,t,n)}};function UE(t,e,r,n,i,o,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,u):e.prototype&&e.prototype.isPureReactComponent?!Dg(r,n)||!Dg(i,o):!0}function HM(t,e,r){var n=!1,i=x0,o=e.contextType;return typeof o=="object"&&o!==null?o=ys(o):(i=oo(e)?pd:va.current,n=e.contextTypes,o=(n=n!=null)?Np(t,i):x0),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$w,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function KE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&$w.enqueueReplaceState(e,e.state,null)}function d8(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=BM,W7(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ys(o):(o=oo(e)?pd:va.current,i.context=Np(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(f8(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$w.enqueueReplaceState(i,i.state,null),Nb(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}var dp=[],hp=0,Rb=null,jb=0,is=[],as=0,md=null,ju=1,Fu="";function Vf(t,e){dp[hp++]=jb,dp[hp++]=Rb,Rb=t,jb=e}function UM(t,e,r){is[as++]=ju,is[as++]=Fu,is[as++]=md,md=t;var n=ju;t=Fu;var i=32-Gs(n)-1;n&=~(1<<i),r+=1;var o=32-Gs(e)+i;if(30<o){var u=i-i%5;o=(n&(1<<u)-1).toString(32),n>>=u,i-=u,ju=1<<32-Gs(e)+i|r<<i|n,Fu=o+t}else ju=1<<o|r<<i|n,Fu=t}function $7(t){t.return!==null&&(Vf(t,1),UM(t,1,0))}function q7(t){for(;t===Rb;)Rb=dp[--hp],dp[hp]=null,jb=dp[--hp],dp[hp]=null;for(;t===md;)md=is[--as],is[as]=null,Fu=is[--as],is[as]=null,ju=is[--as],is[as]=null}var Mo=null,ro=null,jn=!1,Vs=null;function KM(t,e){var r=us(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function WE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mo=t,ro=Ru(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mo=t,ro=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=md!==null?{id:ju,overflow:Fu}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=us(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Mo=t,ro=null,!0):!1;default:return!1}}function h8(t){return(t.mode&1)!==0&&(t.flags&128)===0}function p8(t){if(jn){var e=ro;if(e){var r=e;if(!WE(t,e)){if(h8(t))throw Error(st(418));e=Ru(r.nextSibling);var n=Mo;e&&WE(t,e)?KM(n,r):(t.flags=t.flags&-4097|2,jn=!1,Mo=t)}}else{if(h8(t))throw Error(st(418));t.flags=t.flags&-4097|2,jn=!1,Mo=t}}}function $E(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mo=t}function Bv(t){if(t!==Mo)return!1;if(!jn)return $E(t),jn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!o8(t.type,t.memoizedProps)),e&&(e=ro)){if(h8(t)){for(t=ro;t;)t=Ru(t.nextSibling);throw Error(st(418))}for(;e;)KM(t,e),e=Ru(e.nextSibling)}if($E(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(st(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ro=Ru(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ro=null}}else ro=Mo?Ru(t.stateNode.nextSibling):null;return!0}function Rp(){ro=Mo=null,jn=!1}function V7(t){Vs===null?Vs=[t]:Vs.push(t)}function Hv(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(st(309));var n=r.stateNode}if(!n)throw Error(st(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(u){var f=i.refs;f===BM&&(f=i.refs={}),u===null?delete f[o]:f[o]=u},e._stringRef=o,e)}if(typeof t!="string")throw Error(st(284));if(!r._owner)throw Error(st(290,t))}return t}function v4(t,e){throw t=Object.prototype.toString.call(e),Error(st(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qE(t){var e=t._init;return e(t._payload)}function WM(t){function e(P,M){if(t){var R=P.deletions;R===null?(P.deletions=[M],P.flags|=16):R.push(M)}}function r(P,M){if(!t)return null;for(;M!==null;)e(P,M),M=M.sibling;return null}function n(P,M){for(P=new Map;M!==null;)M.key!==null?P.set(M.key,M):P.set(M.index,M),M=M.sibling;return P}function i(P,M){return P=k0(P,M),P.index=0,P.sibling=null,P}function o(P,M,R){return P.index=R,t?(R=P.alternate,R!==null?(R=R.index,R<M?(P.flags|=2,M):R):(P.flags|=2,M)):(P.flags|=1048576,M)}function u(P){return t&&P.alternate===null&&(P.flags|=2),P}function f(P,M,R,D){return M===null||M.tag!==6?(M=N6(R,P.mode,D),M.return=P,M):(M=i(M,R),M.return=P,M)}function d(P,M,R,D){var G=R.type;return G===ap?S(P,M,R.props.children,D,R.key):M!==null&&(M.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Zc&&qE(G)===M.type)?(D=i(M,R.props),D.ref=Hv(P,M,R),D.return=P,D):(D=eb(R.type,R.key,R.props,null,P.mode,D),D.ref=Hv(P,M,R),D.return=P,D)}function g(P,M,R,D){return M===null||M.tag!==4||M.stateNode.containerInfo!==R.containerInfo||M.stateNode.implementation!==R.implementation?(M=R6(R,P.mode,D),M.return=P,M):(M=i(M,R.children||[]),M.return=P,M)}function S(P,M,R,D,G){return M===null||M.tag!==7?(M=sd(R,P.mode,D,G),M.return=P,M):(M=i(M,R),M.return=P,M)}function y(P,M,R){if(typeof M=="string"&&M!==""||typeof M=="number")return M=N6(""+M,P.mode,R),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case o4:return R=eb(M.type,M.key,M.props,null,P.mode,R),R.ref=Hv(P,null,M),R.return=P,R;case ip:return M=R6(M,P.mode,R),M.return=P,M;case Zc:var D=M._init;return y(P,D(M._payload),R)}if(Xv(M)||Nv(M))return M=sd(M,P.mode,R,null),M.return=P,M;v4(P,M)}return null}function C(P,M,R,D){var G=M!==null?M.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return G!==null?null:f(P,M,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case o4:return R.key===G?d(P,M,R,D):null;case ip:return R.key===G?g(P,M,R,D):null;case Zc:return G=R._init,C(P,M,G(R._payload),D)}if(Xv(R)||Nv(R))return G!==null?null:S(P,M,R,D,null);v4(P,R)}return null}function b(P,M,R,D,G){if(typeof D=="string"&&D!==""||typeof D=="number")return P=P.get(R)||null,f(M,P,""+D,G);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case o4:return P=P.get(D.key===null?R:D.key)||null,d(M,P,D,G);case ip:return P=P.get(D.key===null?R:D.key)||null,g(M,P,D,G);case Zc:var V=D._init;return b(P,M,R,V(D._payload),G)}if(Xv(D)||Nv(D))return P=P.get(R)||null,S(M,P,D,G,null);v4(M,D)}return null}function O(P,M,R,D){for(var G=null,V=null,J=M,te=M=0,W=null;J!==null&&te<R.length;te++){J.index>te?(W=J,J=null):W=J.sibling;var ce=C(P,J,R[te],D);if(ce===null){J===null&&(J=W);break}t&&J&&ce.alternate===null&&e(P,J),M=o(ce,M,te),V===null?G=ce:V.sibling=ce,V=ce,J=W}if(te===R.length)return r(P,J),jn&&Vf(P,te),G;if(J===null){for(;te<R.length;te++)J=y(P,R[te],D),J!==null&&(M=o(J,M,te),V===null?G=J:V.sibling=J,V=J);return jn&&Vf(P,te),G}for(J=n(P,J);te<R.length;te++)W=b(J,P,te,R[te],D),W!==null&&(t&&W.alternate!==null&&J.delete(W.key===null?te:W.key),M=o(W,M,te),V===null?G=W:V.sibling=W,V=W);return t&&J.forEach(function(ie){return e(P,ie)}),jn&&Vf(P,te),G}function _(P,M,R,D){var G=Nv(R);if(typeof G!="function")throw Error(st(150));if(R=G.call(R),R==null)throw Error(st(151));for(var V=G=null,J=M,te=M=0,W=null,ce=R.next();J!==null&&!ce.done;te++,ce=R.next()){J.index>te?(W=J,J=null):W=J.sibling;var ie=C(P,J,ce.value,D);if(ie===null){J===null&&(J=W);break}t&&J&&ie.alternate===null&&e(P,J),M=o(ie,M,te),V===null?G=ie:V.sibling=ie,V=ie,J=W}if(ce.done)return r(P,J),jn&&Vf(P,te),G;if(J===null){for(;!ce.done;te++,ce=R.next())ce=y(P,ce.value,D),ce!==null&&(M=o(ce,M,te),V===null?G=ce:V.sibling=ce,V=ce);return jn&&Vf(P,te),G}for(J=n(P,J);!ce.done;te++,ce=R.next())ce=b(J,P,te,ce.value,D),ce!==null&&(t&&ce.alternate!==null&&J.delete(ce.key===null?te:ce.key),M=o(ce,M,te),V===null?G=ce:V.sibling=ce,V=ce);return t&&J.forEach(function(le){return e(P,le)}),jn&&Vf(P,te),G}function N(P,M,R,D){if(typeof R=="object"&&R!==null&&R.type===ap&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case o4:e:{for(var G=R.key,V=M;V!==null;){if(V.key===G){if(G=R.type,G===ap){if(V.tag===7){r(P,V.sibling),M=i(V,R.props.children),M.return=P,P=M;break e}}else if(V.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Zc&&qE(G)===V.type){r(P,V.sibling),M=i(V,R.props),M.ref=Hv(P,V,R),M.return=P,P=M;break e}r(P,V);break}else e(P,V);V=V.sibling}R.type===ap?(M=sd(R.props.children,P.mode,D,R.key),M.return=P,P=M):(D=eb(R.type,R.key,R.props,null,P.mode,D),D.ref=Hv(P,M,R),D.return=P,P=D)}return u(P);case ip:e:{for(V=R.key;M!==null;){if(M.key===V)if(M.tag===4&&M.stateNode.containerInfo===R.containerInfo&&M.stateNode.implementation===R.implementation){r(P,M.sibling),M=i(M,R.children||[]),M.return=P,P=M;break e}else{r(P,M);break}else e(P,M);M=M.sibling}M=R6(R,P.mode,D),M.return=P,P=M}return u(P);case Zc:return V=R._init,N(P,M,V(R._payload),D)}if(Xv(R))return O(P,M,R,D);if(Nv(R))return _(P,M,R,D);v4(P,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,M!==null&&M.tag===6?(r(P,M.sibling),M=i(M,R),M.return=P,P=M):(r(P,M),M=N6(R,P.mode,D),M.return=P,P=M),u(P)):r(P,M)}return N}var jp=WM(!0),$M=WM(!1),k1={},jl=M0(k1),Rg=M0(k1),jg=M0(k1);function Jf(t){if(t===k1)throw Error(st(174));return t}function G7(t,e){switch(Cn(jg,e),Cn(Rg,t),Cn(jl,k1),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:V5(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=V5(e,t)}Ln(jl),Cn(jl,e)}function Fp(){Ln(jl),Ln(Rg),Ln(jg)}function qM(t){Jf(jg.current);var e=Jf(jl.current),r=V5(e,t.type);e!==r&&(Cn(Rg,t),Cn(jl,r))}function Y7(t){Rg.current===t&&(Ln(jl),Ln(Rg))}var qn=M0(0);function Fb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var I6=[];function X7(){for(var t=0;t<I6.length;t++)I6[t]._workInProgressVersionPrimary=null;I6.length=0}var X4=Qu.ReactCurrentDispatcher,hs=Qu.ReactCurrentBatchConfig,zp=0,ri=null,ha=null,Fi=null,zb=!1,ug=!1,Fg=0,qU=0;function ca(){throw Error(st(321))}function Z7(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ul(t[r],e[r]))return!1;return!0}function Q7(t,e,r,n,i,o){if(zp=o,ri=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,X4.current=t===null||t.memoizedState===null?XU:ZU,t=r(n,i),ug){o=0;do{if(ug=!1,Fg=0,25<=o)throw Error(st(301));o+=1,Fi=ha=null,e.updateQueue=null,X4.current=QU,t=r(n,i)}while(ug)}if(X4.current=Bb,e=ha!==null&&ha.next!==null,zp=0,Fi=ha=ri=null,zb=!1,e)throw Error(st(300));return t}function J7(){var t=Fg!==0;return Fg=0,t}function Du(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fi===null?ri.memoizedState=Fi=t:Fi=Fi.next=t,Fi}function Yl(){if(ha===null){var t=ri.alternate;t=t!==null?t.memoizedState:null}else t=ha.next;var e=Fi===null?ri.memoizedState:Fi.next;if(e!==null)Fi=e,ha=t;else{if(t===null)throw Error(st(310));ha=t,t={memoizedState:ha.memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},Fi===null?ri.memoizedState=Fi=t:Fi=Fi.next=t}return Fi}function ad(t,e){return typeof e=="function"?e(t):e}function g4(t){var e=Yl(),r=e.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=t;var n=ha,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var f=u=null,d=null,g=o;do{var S=g.lane;if((zp&S)===S)d!==null&&(d=d.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),n=g.hasEagerState?g.eagerState:t(n,g.action);else{var y={lane:S,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};d===null?(f=d=y,u=n):d=d.next=y,ri.lanes|=S,Bp|=S}g=g.next}while(g!==null&&g!==o);d===null?u=n:d.next=f,Ul(n,e.memoizedState)||(Io=!0),e.memoizedState=n,e.baseState=u,e.baseQueue=d,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,ri.lanes|=o,Bp|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function y4(t){var e=Yl(),r=e.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var u=i=i.next;do o=t(o,u.action),u=u.next;while(u!==i);Ul(o,e.memoizedState)||(Io=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function VM(){}function GM(t,e){var r=ri,n=Yl(),i=e(),o=!Ul(n.memoizedState,i);if(o&&(n.memoizedState=i,Io=!0),n=n.queue,Bg(ZM.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Fi!==null&&Fi.memoizedState.tag&1){if(r.flags|=2048,zg(9,XM.bind(null,r,n,i,e),void 0,null),vi===null)throw Error(st(349));(zp&30)!==0||YM(r,e,i)}return i}function YM(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ri.updateQueue,e===null?(e={lastEffect:null,stores:null},ri.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function XM(t,e,r,n){e.value=r,e.getSnapshot=n,QM(e)&&ms(t,1,-1)}function ZM(t,e,r){return r(function(){QM(e)&&ms(t,1,-1)})}function QM(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ul(t,r)}catch{return!0}}function M6(t){var e=Du();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ad,lastRenderedState:t},e.queue=t,t=t.dispatch=YU.bind(null,ri,t),[e.memoizedState,t]}function zg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ri.updateQueue,e===null?(e={lastEffect:null,stores:null},ri.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function JM(){return Yl().memoizedState}function Z4(t,e,r,n){var i=Du();ri.flags|=t,i.memoizedState=zg(1|e,r,void 0,n===void 0?null:n)}function qw(t,e,r,n){var i=Yl();n=n===void 0?null:n;var o=void 0;if(ha!==null){var u=ha.memoizedState;if(o=u.destroy,n!==null&&Z7(n,u.deps)){i.memoizedState=zg(e,r,o,n);return}}ri.flags|=t,i.memoizedState=zg(1|e,r,o,n)}function D6(t,e){return Z4(8390656,8,t,e)}function Bg(t,e){return qw(2048,8,t,e)}function eD(t,e){return qw(4,2,t,e)}function tD(t,e){return qw(4,4,t,e)}function rD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nD(t,e,r){return r=r!=null?r.concat([t]):null,qw(4,4,rD.bind(null,e,t),r)}function ek(){}function iD(t,e){var r=Yl();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Z7(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function aD(t,e){var r=Yl();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Z7(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function VU(t,e){var r=ln;ln=r!==0&&4>r?r:4,t(!0);var n=hs.transition;hs.transition={};try{t(!1),e()}finally{ln=r,hs.transition=n}}function oD(){return Yl().memoizedState}function GU(t,e,r){var n=g0(t);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},sD(t)?lD(e,r):(uD(t,e,r),r=La(),t=ms(t,n,r),t!==null&&cD(t,e,n))}function YU(t,e,r){var n=g0(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(sD(t))lD(e,i);else{uD(t,e,i);var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,f=o(u,r);if(i.hasEagerState=!0,i.eagerState=f,Ul(f,u))return}catch{}finally{}r=La(),t=ms(t,n,r),t!==null&&cD(t,e,n)}}function sD(t){var e=t.alternate;return t===ri||e!==null&&e===ri}function lD(t,e){ug=zb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function uD(t,e,r){vi!==null&&(t.mode&1)!==0&&(jr&2)===0?(t=e.interleaved,t===null?(r.next=r,Dl===null?Dl=[e]:Dl.push(e)):(r.next=t.next,t.next=r),e.interleaved=r):(t=e.pending,t===null?r.next=r:(r.next=t.next,t.next=r),e.pending=r)}function cD(t,e,r){if((r&4194240)!==0){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,P7(t,r)}}var Bb={readContext:ys,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useInsertionEffect:ca,useLayoutEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useDeferredValue:ca,useTransition:ca,useMutableSource:ca,useSyncExternalStore:ca,useId:ca,unstable_isNewReconciler:!1},XU={readContext:ys,useCallback:function(t,e){return Du().memoizedState=[t,e===void 0?null:e],t},useContext:ys,useEffect:D6,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Z4(4194308,4,rD.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Z4(4194308,4,t,e)},useInsertionEffect:function(t,e){return Z4(4,2,t,e)},useMemo:function(t,e){var r=Du();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Du();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=GU.bind(null,ri,t),[n.memoizedState,t]},useRef:function(t){var e=Du();return t={current:t},e.memoizedState=t},useState:M6,useDebugValue:ek,useDeferredValue:function(t){var e=M6(t),r=e[0],n=e[1];return D6(function(){var i=hs.transition;hs.transition={};try{n(t)}finally{hs.transition=i}},[t]),r},useTransition:function(){var t=M6(!1),e=t[0];return t=VU.bind(null,t[1]),Du().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ri,i=Du();if(jn){if(r===void 0)throw Error(st(407));r=r()}else{if(r=e(),vi===null)throw Error(st(349));(zp&30)!==0||YM(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,D6(ZM.bind(null,n,o,t),[t]),n.flags|=2048,zg(9,XM.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Du(),e=vi.identifierPrefix;if(jn){var r=Fu,n=ju;r=(n&~(1<<32-Gs(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Fg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=qU++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZU={readContext:ys,useCallback:iD,useContext:ys,useEffect:Bg,useImperativeHandle:nD,useInsertionEffect:eD,useLayoutEffect:tD,useMemo:aD,useReducer:g4,useRef:JM,useState:function(){return g4(ad)},useDebugValue:ek,useDeferredValue:function(t){var e=g4(ad),r=e[0],n=e[1];return Bg(function(){var i=hs.transition;hs.transition={};try{n(t)}finally{hs.transition=i}},[t]),r},useTransition:function(){var t=g4(ad)[0],e=Yl().memoizedState;return[t,e]},useMutableSource:VM,useSyncExternalStore:GM,useId:oD,unstable_isNewReconciler:!1},QU={readContext:ys,useCallback:iD,useContext:ys,useEffect:Bg,useImperativeHandle:nD,useInsertionEffect:eD,useLayoutEffect:tD,useMemo:aD,useReducer:y4,useRef:JM,useState:function(){return y4(ad)},useDebugValue:ek,useDeferredValue:function(t){var e=y4(ad),r=e[0],n=e[1];return Bg(function(){var i=hs.transition;hs.transition={};try{n(t)}finally{hs.transition=i}},[t]),r},useTransition:function(){var t=y4(ad)[0],e=Yl().memoizedState;return[t,e]},useMutableSource:VM,useSyncExternalStore:GM,useId:oD,unstable_isNewReconciler:!1};function tk(t,e){try{var r="",n=e;do r+=EH(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i}}function m8(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var JU=typeof WeakMap=="function"?WeakMap:Map;function fD(t,e,r){r=Hu(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Kb||(Kb=!0,S8=n),m8(t,e)},r}function dD(t,e,r){r=Hu(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){m8(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){m8(t,e),typeof n!="function"&&(v0===null?v0=new Set([this]):v0.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),r}function VE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new JU;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=hK.bind(null,t,e,r),e.then(t,t))}function GE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YE(t,e,r,n,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Hu(-1,1),e.tag=2,m0(r,e))),r.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var hD,v8,pD,mD;hD=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};v8=function(){};pD=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Jf(jl.current);var o=null;switch(r){case"input":i=K5(t,i),n=K5(t,n),o=[];break;case"select":i=Xn({},i,{value:void 0}),n=Xn({},n,{value:void 0}),o=[];break;case"textarea":i=q5(t,i),n=q5(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ib)}G5(r,n);var u;r=null;for(g in i)if(!n.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var f=i[g];for(u in f)f.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Cg.hasOwnProperty(g)?o||(o=[]):(o=o||[]).push(g,null));for(g in n){var d=n[g];if(f=i!=null?i[g]:void 0,n.hasOwnProperty(g)&&d!==f&&(d!=null||f!=null))if(g==="style")if(f){for(u in f)!f.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in d)d.hasOwnProperty(u)&&f[u]!==d[u]&&(r||(r={}),r[u]=d[u])}else r||(o||(o=[]),o.push(g,r)),r=d;else g==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,f=f?f.__html:void 0,d!=null&&f!==d&&(o=o||[]).push(g,d)):g==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(g,""+d):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Cg.hasOwnProperty(g)?(d!=null&&g==="onScroll"&&Dn("scroll",t),o||f===d||(o=[])):(o=o||[]).push(g,d))}r&&(o=o||[]).push("style",r);var g=o;(e.updateQueue=g)&&(e.flags|=4)}};mD=function(t,e,r,n){r!==n&&(e.flags|=4)};function Uv(t,e){if(!jn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fa(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function eK(t,e,r){var n=e.pendingProps;switch(q7(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fa(e),null;case 1:return oo(e.type)&&Mb(),fa(e),null;case 3:return n=e.stateNode,Fp(),Ln(ao),Ln(va),X7(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Bv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Vs!==null&&(T8(Vs),Vs=null))),v8(t,e),fa(e),null;case 5:Y7(e);var i=Jf(jg.current);if(r=e.type,t!==null&&e.stateNode!=null)pD(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(st(166));return fa(e),null}if(t=Jf(jl.current),Bv(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Ol]=e,n[Ng]=o,t=(e.mode&1)!==0,r){case"dialog":Dn("cancel",n),Dn("close",n);break;case"iframe":case"object":case"embed":Dn("load",n);break;case"video":case"audio":for(i=0;i<Qv.length;i++)Dn(Qv[i],n);break;case"source":Dn("error",n);break;case"img":case"image":case"link":Dn("error",n),Dn("load",n);break;case"details":Dn("toggle",n);break;case"input":fE(n,o),Dn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Dn("invalid",n);break;case"textarea":hE(n,o),Dn("invalid",n)}G5(r,o),i=null;for(var u in o)if(o.hasOwnProperty(u)){var f=o[u];u==="children"?typeof f=="string"?n.textContent!==f&&(m4(n.textContent,f,t),i=["children",f]):typeof f=="number"&&n.textContent!==""+f&&(m4(n.textContent,f,t),i=["children",""+f]):Cg.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&Dn("scroll",n)}switch(r){case"input":s4(n),dE(n,o,!0);break;case"textarea":s4(n),pE(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ib)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QI(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=u.createElement(r,{is:n.is}):(t=u.createElement(r),r==="select"&&(u=t,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):t=u.createElementNS(t,r),t[Ol]=e,t[Ng]=n,hD(t,e,!1,!1),e.stateNode=t;e:{switch(u=Y5(r,n),r){case"dialog":Dn("cancel",t),Dn("close",t),i=n;break;case"iframe":case"object":case"embed":Dn("load",t),i=n;break;case"video":case"audio":for(i=0;i<Qv.length;i++)Dn(Qv[i],t);i=n;break;case"source":Dn("error",t),i=n;break;case"img":case"image":case"link":Dn("error",t),Dn("load",t),i=n;break;case"details":Dn("toggle",t),i=n;break;case"input":fE(t,n),i=K5(t,n),Dn("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Xn({},n,{value:void 0}),Dn("invalid",t);break;case"textarea":hE(t,n),i=q5(t,n),Dn("invalid",t);break;default:i=n}G5(r,i),f=i;for(o in f)if(f.hasOwnProperty(o)){var d=f[o];o==="style"?tM(t,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&JI(t,d)):o==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Eg(t,d):typeof d=="number"&&Eg(t,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cg.hasOwnProperty(o)?d!=null&&o==="onScroll"&&Dn("scroll",t):d!=null&&T7(t,o,d,u))}switch(r){case"input":s4(t),dE(t,n,!1);break;case"textarea":s4(t),pE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+w0(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?gp(t,!!n.multiple,o,!1):n.defaultValue!=null&&gp(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ib)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fa(e),null;case 6:if(t&&e.stateNode!=null)mD(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(st(166));if(r=Jf(jg.current),Jf(jl.current),Bv(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ol]=e,(o=n.nodeValue!==r)&&(t=Mo,t!==null))switch(u=(t.mode&1)!==0,t.tag){case 3:m4(n.nodeValue,r,u);break;case 5:t.memoizedProps[void 0]!==!0&&m4(n.nodeValue,r,u)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ol]=e,e.stateNode=n}return fa(e),null;case 13:if(Ln(qn),n=e.memoizedState,jn&&ro!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(n=ro;n;)n=Ru(n.nextSibling);return Rp(),e.flags|=98560,e}if(n!==null&&n.dehydrated!==null){if(n=Bv(e),t===null){if(!n)throw Error(st(318));if(n=e.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(st(317));n[Ol]=e}else Rp(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return fa(e),null}return Vs!==null&&(T8(Vs),Vs=null),(e.flags&128)!==0?(e.lanes=r,e):(n=n!==null,r=!1,t===null?Bv(e):r=t.memoizedState!==null,n&&!r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(qn.current&1)!==0?Ii===0&&(Ii=3):sk())),e.updateQueue!==null&&(e.flags|=4),fa(e),null);case 4:return Fp(),v8(t,e),t===null&&Pg(e.stateNode.containerInfo),fa(e),null;case 10:return K7(e.type._context),fa(e),null;case 17:return oo(e.type)&&Mb(),fa(e),null;case 19:if(Ln(qn),o=e.memoizedState,o===null)return fa(e),null;if(n=(e.flags&128)!==0,u=o.rendering,u===null)if(n)Uv(o,!1);else{if(Ii!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(u=Fb(t),u!==null){for(e.flags|=128,Uv(o,!1),n=u.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,t=u.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Cn(qn,qn.current&1|2),e.child}t=t.sibling}o.tail!==null&&oi()>Hp&&(e.flags|=128,n=!0,Uv(o,!1),e.lanes=4194304)}else{if(!n)if(t=Fb(u),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Uv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!jn)return fa(e),null}else 2*oi()-o.renderingStartTime>Hp&&r!==1073741824&&(e.flags|=128,n=!0,Uv(o,!1),e.lanes=4194304);o.isBackwards?(u.sibling=e.child,e.child=u):(r=o.last,r!==null?r.sibling=u:e.child=u,o.last=u)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=oi(),e.sibling=null,r=qn.current,Cn(qn,n?r&1|2:r&1),e):(fa(e),null);case 22:case 23:return ok(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&(e.mode&1)!==0?(So&1073741824)!==0&&(fa(e),e.subtreeFlags&6&&(e.flags|=8192)):fa(e),null;case 24:return null;case 25:return null}throw Error(st(156,e.tag))}var tK=Qu.ReactCurrentOwner,Io=!1;function Aa(t,e,r,n){e.child=t===null?$M(e,null,r,n):jp(e,t.child,r,n)}function XE(t,e,r,n,i){r=r.render;var o=e.ref;return xp(e,i),n=Q7(t,e,r,n,o,i),r=J7(),t!==null&&!Io?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vu(t,e,i)):(jn&&r&&$7(e),e.flags|=1,Aa(t,e,n,i),e.child)}function ZE(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!lk(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,vD(t,e,o,n,i)):(t=eb(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var u=o.memoizedProps;if(r=r.compare,r=r!==null?r:Dg,r(u,n)&&t.ref===e.ref)return Vu(t,e,i)}return e.flags|=1,t=k0(o,n),t.ref=e.ref,t.return=e,e.child=t}function vD(t,e,r,n,i){if(t!==null&&Dg(t.memoizedProps,n)&&t.ref===e.ref)if(Io=!1,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Io=!0);else return e.lanes=t.lanes,Vu(t,e,i);return g8(t,e,r,n,i)}function gD(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null},Cn(pp,So),So|=r;else if((r&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null},n=o!==null?o.baseLanes:r,Cn(pp,So),So|=n;else return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null},e.updateQueue=null,Cn(pp,So),So|=t,null;else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Cn(pp,So),So|=n;return Aa(t,e,i,r),e.child}function yD(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function g8(t,e,r,n,i){var o=oo(r)?pd:va.current;return o=Np(e,o),xp(e,i),r=Q7(t,e,r,n,o,i),n=J7(),t!==null&&!Io?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vu(t,e,i)):(jn&&n&&$7(e),e.flags|=1,Aa(t,e,r,i),e.child)}function QE(t,e,r,n,i){if(oo(r)){var o=!0;Db(e)}else o=!1;if(xp(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),HM(e,r,n),d8(e,r,n,i),n=!0;else if(t===null){var u=e.stateNode,f=e.memoizedProps;u.props=f;var d=u.context,g=r.contextType;typeof g=="object"&&g!==null?g=ys(g):(g=oo(r)?pd:va.current,g=Np(e,g));var S=r.getDerivedStateFromProps,y=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function";y||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==n||d!==g)&&KE(e,u,n,g),Qc=!1;var C=e.memoizedState;u.state=C,Nb(e,n,u,i),d=e.memoizedState,f!==n||C!==d||ao.current||Qc?(typeof S=="function"&&(f8(e,r,S,n),d=e.memoizedState),(f=Qc||UE(e,r,f,n,C,d,g))?(y||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=d),u.props=n,u.state=d,u.context=g,n=f):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{u=e.stateNode,zM(t,e),f=e.memoizedProps,g=e.type===e.elementType?f:Ws(e.type,f),u.props=g,y=e.pendingProps,C=u.context,d=r.contextType,typeof d=="object"&&d!==null?d=ys(d):(d=oo(r)?pd:va.current,d=Np(e,d));var b=r.getDerivedStateFromProps;(S=typeof b=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==y||C!==d)&&KE(e,u,n,d),Qc=!1,C=e.memoizedState,u.state=C,Nb(e,n,u,i);var O=e.memoizedState;f!==y||C!==O||ao.current||Qc?(typeof b=="function"&&(f8(e,r,b,n),O=e.memoizedState),(g=Qc||UE(e,r,g,n,C,O,d)||!1)?(S||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,O,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,O,d)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===t.memoizedProps&&C===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===t.memoizedProps&&C===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=O),u.props=n,u.state=O,u.context=d,n=g):(typeof u.componentDidUpdate!="function"||f===t.memoizedProps&&C===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===t.memoizedProps&&C===t.memoizedState||(e.flags|=1024),n=!1)}return y8(t,e,r,n,o,i)}function y8(t,e,r,n,i,o){yD(t,e);var u=(e.flags&128)!==0;if(!n&&!u)return i&&zE(e,r,!1),Vu(t,e,o);n=e.stateNode,tK.current=e;var f=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&u?(e.child=jp(e,t.child,null,o),e.child=jp(e,null,f,o)):Aa(t,e,f,o),e.memoizedState=n.state,i&&zE(e,r,!0),e.child}function bD(t){var e=t.stateNode;e.pendingContext?FE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FE(t,e.context,!1),G7(t,e.containerInfo)}function JE(t,e,r,n,i){return Rp(),V7(i),e.flags|=256,Aa(t,e,r,n),e.child}var b4={dehydrated:null,treeContext:null,retryLane:0};function w4(t){return{baseLanes:t,cachePool:null}}function wD(t,e,r){var n=e.pendingProps,i=qn.current,o=!1,u=(e.flags&128)!==0,f;if((f=u)||(f=t!==null&&t.memoizedState===null?!1:(i&2)!==0),f?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Cn(qn,i&1),t===null)return p8(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},(n&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=i):o=qb(i,n,0,null),t=sd(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=w4(r),e.memoizedState=b4,t):b8(e,i));if(i=t.memoizedState,i!==null){if(f=i.dehydrated,f!==null){if(u)return e.flags&256?(e.flags&=-257,x4(t,e,r,Error(st(422)))):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=qb({mode:"visible",children:n.children},i,0,null),o=sd(o,i,r,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,(e.mode&1)!==0&&jp(e,t.child,null,r),e.child.memoizedState=w4(r),e.memoizedState=b4,o);if((e.mode&1)===0)e=x4(t,e,r,null);else if(f.data==="$!")e=x4(t,e,r,Error(st(419)));else if(n=(r&t.childLanes)!==0,Io||n){if(n=vi,n!==null){switch(r&-r){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}n=(o&(n.suspendedLanes|r))!==0?0:o,n!==0&&n!==i.retryLane&&(i.retryLane=n,ms(t,n,-1))}sk(),e=x4(t,e,r,Error(st(421)))}else f.data==="$?"?(e.flags|=128,e.child=t.child,e=pK.bind(null,t),f._reactRetry=e,e=null):(r=i.treeContext,ro=Ru(f.nextSibling),Mo=e,jn=!0,Vs=null,r!==null&&(is[as++]=ju,is[as++]=Fu,is[as++]=md,ju=r.id,Fu=r.overflow,md=e),e=b8(e,e.pendingProps.children),e.flags|=4096);return e}return o?(n=tT(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?w4(r):{baseLanes:i.baseLanes|r,cachePool:null},o.childLanes=t.childLanes&~r,e.memoizedState=b4,n):(r=eT(t,e,n.children,r),e.memoizedState=null,r)}return o?(n=tT(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?w4(r):{baseLanes:i.baseLanes|r,cachePool:null},o.childLanes=t.childLanes&~r,e.memoizedState=b4,n):(r=eT(t,e,n.children,r),e.memoizedState=null,r)}function b8(t,e){return e=qb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function eT(t,e,r,n){var i=t.child;return t=i.sibling,r=k0(i,{mode:"visible",children:r}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r}function tT(t,e,r,n,i){var o=e.mode;t=t.child;var u=t.sibling,f={mode:"hidden",children:r};return(o&1)===0&&e.child!==t?(r=e.child,r.childLanes=0,r.pendingProps=f,e.deletions=null):(r=k0(t,f),r.subtreeFlags=t.subtreeFlags&14680064),u!==null?n=k0(u,n):(n=sd(n,o,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function x4(t,e,r,n){return n!==null&&V7(n),jp(e,t.child,null,r),t=b8(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rT(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),c8(t.return,e,r)}function P6(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function xD(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Aa(t,e,n.children,r),n=qn.current,(n&2)!==0)n=n&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rT(t,r,e);else if(t.tag===19)rT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Cn(qn,n),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Fb(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),P6(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fb(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}P6(e,!0,r,null,o);break;case"together":P6(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vu(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Bp|=e.lanes,(r&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(st(153));if(e.child!==null){for(t=e.child,r=k0(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=k0(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function rK(t,e,r){switch(e.tag){case 3:bD(e),Rp();break;case 5:qM(e);break;case 1:oo(e.type)&&Db(e);break;case 4:G7(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Cn(Pb,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Cn(qn,qn.current&1),e.flags|=128,null):(r&e.child.childLanes)!==0?wD(t,e,r):(Cn(qn,qn.current&1),t=Vu(t,e,r),t!==null?t.sibling:null);Cn(qn,qn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,(t.flags&128)!==0){if(n)return xD(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Cn(qn,qn.current),n)break;return null;case 22:case 23:return e.lanes=0,gD(t,e,r)}return Vu(t,e,r)}function nK(t,e){switch(q7(e),e.tag){case 1:return oo(e.type)&&Mb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fp(),Ln(ao),Ln(va),X7(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Y7(e),null;case 13:if(Ln(qn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(st(340));Rp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ln(qn),null;case 4:return Fp(),null;case 10:return K7(e.type._context),null;case 22:case 23:return ok(),null;case 24:return null;default:return null}}var k4=!1,ed=!1,iK=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Hb(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){no(t,e,n)}else r.current=null}function w8(t,e,r){try{r()}catch(n){no(t,e,n)}}var nT=!1;function aK(t,e){if(t=OM(),B7(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var u=0,f=-1,d=-1,g=0,S=0,y=t,C=null;t:for(;;){for(var b;y!==r||i!==0&&y.nodeType!==3||(f=u+i),y!==o||n!==0&&y.nodeType!==3||(d=u+n),y.nodeType===3&&(u+=y.nodeValue.length),(b=y.firstChild)!==null;)C=y,y=b;for(;;){if(y===t)break t;if(C===r&&++g===i&&(f=u),C===o&&++S===n&&(d=u),(b=y.nextSibling)!==null)break;y=C,C=y.parentNode}y=b}r=f===-1||d===-1?null:{start:f,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(a8={focusedElem:t,selectionRange:r},wt=e;wt!==null;)if(e=wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,wt=t;else for(;wt!==null;){e=wt;try{var O=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var _=O.memoizedProps,N=O.memoizedState,P=e.stateNode,M=P.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ws(e.type,_),N);P.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var R=e.stateNode.containerInfo;if(R.nodeType===1)R.textContent="";else if(R.nodeType===9){var D=R.body;D!=null&&(D.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(G){no(e,e.return,G)}if(t=e.sibling,t!==null){t.return=e.return,wt=t;break}wt=e.return}return O=nT,nT=!1,O}function Hg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&w8(e,r,o)}i=i.next}while(i!==n)}}function Vw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function x8(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function iT(t,e,r){if(Rl&&typeof Rl.onCommitFiberUnmount=="function")try{Rl.onCommitFiberUnmount(zw,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&((i&2)!==0||(i&4)!==0)&&w8(e,r,o),n=n.next}while(n!==t)}break;case 1:if(Hb(e,r),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(u){no(e,r,u)}break;case 5:Hb(e,r);break;case 4:SD(t,e,r)}}function kD(t){var e=t.alternate;e!==null&&(t.alternate=null,kD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ol],delete e[Ng],delete e[l8],delete e[UU],delete e[KU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _D(t){return t.tag===5||t.tag===3||t.tag===4}function aT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_D(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oT(t){e:{for(var e=t.return;e!==null;){if(_D(e))break e;e=e.return}throw Error(st(160))}var r=e;switch(r.tag){case 5:e=r.stateNode,r.flags&32&&(Eg(e,""),r.flags&=-33),r=aT(t),_8(t,r,e);break;case 3:case 4:e=r.stateNode.containerInfo,r=aT(t),k8(t,r,e);break;default:throw Error(st(161))}}function k8(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ib));else if(n!==4&&(t=t.child,t!==null))for(k8(t,e,r),t=t.sibling;t!==null;)k8(t,e,r),t=t.sibling}function _8(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(_8(t,e,r),t=t.sibling;t!==null;)_8(t,e,r),t=t.sibling}function SD(t,e,r){for(var n=e,i=!1,o,u;;){if(!i){i=n.return;e:for(;;){if(i===null)throw Error(st(160));switch(o=i.stateNode,i.tag){case 5:u=!1;break e;case 3:o=o.containerInfo,u=!0;break e;case 4:o=o.containerInfo,u=!0;break e}i=i.return}i=!0}if(n.tag===5||n.tag===6){e:for(var f=t,d=n,g=r,S=d;;)if(iT(f,S,g),S.child!==null&&S.tag!==4)S.child.return=S,S=S.child;else{if(S===d)break e;for(;S.sibling===null;){if(S.return===null||S.return===d)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}u?(f=o,d=n.stateNode,f.nodeType===8?f.parentNode.removeChild(d):f.removeChild(d)):o.removeChild(n.stateNode)}else if(n.tag===18)u?(f=o,d=n.stateNode,f.nodeType===8?O6(f.parentNode,d):f.nodeType===1&&O6(f,d),Ig(f)):O6(o,n.stateNode);else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,u=!0,n.child.return=n,n=n.child;continue}}else if(iT(t,n,r),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(i=!1)}n.sibling.return=n.return,n=n.sibling}}function L6(t,e){switch(e.tag){case 0:case 11:case 14:case 15:Hg(3,e,e.return),Vw(3,e),Hg(5,e,e.return);return;case 1:return;case 5:var r=e.stateNode;if(r!=null){var n=e.memoizedProps,i=t!==null?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(t==="input"&&n.type==="radio"&&n.name!=null&&XI(r,n),Y5(t,i),e=Y5(t,n),i=0;i<o.length;i+=2){var u=o[i],f=o[i+1];u==="style"?tM(r,f):u==="dangerouslySetInnerHTML"?JI(r,f):u==="children"?Eg(r,f):T7(r,u,f,e)}switch(t){case"input":W5(r,n);break;case"textarea":ZI(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?gp(r,!!n.multiple,o,!1):t!==!!n.multiple&&(n.defaultValue!=null?gp(r,!!n.multiple,n.defaultValue,!0):gp(r,!!n.multiple,n.multiple?[]:"",!1))}r[Ng]=n}}return;case 6:if(e.stateNode===null)throw Error(st(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t!==null&&t.memoizedState.isDehydrated&&Ig(e.stateNode.containerInfo);return;case 12:return;case 13:sT(e);return;case 19:sT(e);return;case 17:return}throw Error(st(163))}function sT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new iK),e.forEach(function(n){var i=mK.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function oK(t,e){for(wt=e;wt!==null;){e=wt;var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{SD(t,i,e);var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(te){no(i,e,te)}}if(r=e.child,(e.subtreeFlags&12854)!==0&&r!==null)r.return=e,wt=r;else for(;wt!==null;){e=wt;try{var u=e.flags;if(u&32&&Eg(e.stateNode,""),u&512){var f=e.alternate;if(f!==null){var d=f.ref;d!==null&&(typeof d=="function"?d(null):d.current=null)}}if(u&8192)switch(e.tag){case 13:if(e.memoizedState!==null){var g=e.alternate;(g===null||g.memoizedState===null)&&(ik=oi())}break;case 22:var S=e.memoizedState!==null,y=e.alternate,C=y!==null&&y.memoizedState!==null;r=e;e:{n=r,i=S;for(var b=null,O=n;;){if(O.tag===5){if(b===null){b=O;var _=O.stateNode;if(i){var N=_.style;typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"}else{var P=O.stateNode,M=O.memoizedProps.style,R=M!=null&&M.hasOwnProperty("display")?M.display:null;P.style.display=eM("display",R)}}}else if(O.tag===6)b===null&&(O.stateNode.nodeValue=i?"":O.memoizedProps);else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===n)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===n)break;for(;O.sibling===null;){if(O.return===null||O.return===n)break e;b===O&&(b=null),O=O.return}b===O&&(b=null),O.sibling.return=O.return,O=O.sibling}}if(S&&!C&&(r.mode&1)!==0){wt=r;for(var D=r.child;D!==null;){for(r=wt=D;wt!==null;){n=wt;var G=n.child;switch(n.tag){case 0:case 11:case 14:case 15:Hg(4,n,n.return);break;case 1:Hb(n,n.return);var V=n.stateNode;if(typeof V.componentWillUnmount=="function"){var J=n.return;try{V.props=n.memoizedProps,V.state=n.memoizedState,V.componentWillUnmount()}catch(te){no(n,J,te)}}break;case 5:Hb(n,n.return);break;case 22:if(n.memoizedState!==null){uT(r);continue}}G!==null?(G.return=n,wt=G):uT(r)}D=D.sibling}}}switch(u&4102){case 2:oT(e),e.flags&=-3;break;case 6:oT(e),e.flags&=-3,L6(e.alternate,e);break;case 4096:e.flags&=-4097;break;case 4100:e.flags&=-4097,L6(e.alternate,e);break;case 4:L6(e.alternate,e)}}catch(te){no(e,e.return,te)}if(r=e.sibling,r!==null){r.return=e.return,wt=r;break}wt=e.return}}}function sK(t,e,r){wt=t,CD(t)}function CD(t,e,r){for(var n=(t.mode&1)!==0;wt!==null;){var i=wt,o=i.child;if(i.tag===22&&n){var u=i.memoizedState!==null||k4;if(!u){var f=i.alternate,d=f!==null&&f.memoizedState!==null||ed;f=k4;var g=ed;if(k4=u,(ed=d)&&!g)for(wt=i;wt!==null;)u=wt,d=u.child,u.tag===22&&u.memoizedState!==null?cT(i):d!==null?(d.return=u,wt=d):cT(i);for(;o!==null;)wt=o,CD(o),o=o.sibling;wt=i,k4=f,ed=g}lT(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,wt=o):lT(t)}}function lT(t){for(;wt!==null;){var e=wt;if((e.flags&8772)!==0){var r=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:ed||Vw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ed)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ws(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&HE(e,o,n);break;case 3:var u=e.updateQueue;if(u!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}HE(e,u,r)}break;case 5:var f=e.stateNode;if(r===null&&e.flags&4){r=f;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var g=e.alternate;if(g!==null){var S=g.memoizedState;if(S!==null){var y=S.dehydrated;y!==null&&Ig(y)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(st(163))}ed||e.flags&512&&x8(e)}catch(C){no(e,e.return,C)}}if(e===t){wt=null;break}if(r=e.sibling,r!==null){r.return=e.return,wt=r;break}wt=e.return}}function uT(t){for(;wt!==null;){var e=wt;if(e===t){wt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,wt=r;break}wt=e.return}}function cT(t){for(;wt!==null;){var e=wt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Vw(4,e)}catch(d){no(e,r,d)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(d){no(e,i,d)}}var o=e.return;try{x8(e)}catch(d){no(e,o,d)}break;case 5:var u=e.return;try{x8(e)}catch(d){no(e,u,d)}}}catch(d){no(e,e.return,d)}if(e===t){wt=null;break}var f=e.sibling;if(f!==null){f.return=e.return,wt=f;break}wt=e.return}}var lK=Math.ceil,Ub=Qu.ReactCurrentDispatcher,rk=Qu.ReactCurrentOwner,ps=Qu.ReactCurrentBatchConfig,jr=0,vi=null,hi=null,Yi=0,So=0,pp=M0(0),Ii=0,Ug=null,Bp=0,Gw=0,nk=0,cg=null,to=null,ik=0,Hp=1/0,Kb=!1,S8=null,v0=null,_4=!1,l0=null,Wb=0,fg=0,C8=null,Q4=-1,J4=0;function La(){return(jr&6)!==0?oi():Q4!==-1?Q4:Q4=oi()}function g0(t){return(t.mode&1)===0?1:(jr&2)!==0&&Yi!==0?Yi&-Yi:$U.transition!==null?(J4===0&&(t=u4,u4<<=1,(u4&4194240)===0&&(u4=64),J4=t),J4):(t=ln,t!==0||(t=window.event,t=t===void 0?16:bM(t.type)),t)}function ms(t,e,r){if(50<fg)throw fg=0,C8=null,Error(st(185));var n=Yw(t,e);return n===null?null:(b1(n,e,r),((jr&2)===0||n!==vi)&&(n===vi&&((jr&2)===0&&(Gw|=e),Ii===4&&t0(n,Yi)),so(n,r),e===1&&jr===0&&(t.mode&1)===0&&(Hp=oi()+500,Ww&&D0())),n)}function Yw(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function so(t,e){var r=t.callbackNode;$H(t,e);var n=Tb(t,t===vi?Yi:0);if(n===0)r!==null&&gE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&gE(r),e===1)t.tag===0?WU(fT.bind(null,t)):FM(fT.bind(null,t)),BU(function(){jr===0&&D0()}),r=null;else{switch(hM(n)){case 1:r=D7;break;case 4:r=fM;break;case 16:r=Eb;break;case 536870912:r=dM;break;default:r=Eb}r=PD(r,ED.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ED(t,e){if(Q4=-1,J4=0,(jr&6)!==0)throw Error(st(327));var r=t.callbackNode;if(kp()&&t.callbackNode!==r)return null;var n=Tb(t,t===vi?Yi:0);if(n===0)return null;if((n&30)!==0||(n&t.expiredLanes)!==0||e)e=$b(t,n);else{e=n;var i=jr;jr|=2;var o=OD();(vi!==t||Yi!==e)&&(Hp=oi()+500,od(t,e));do try{fK();break}catch(f){TD(t,f)}while(1);U7(),Ub.current=o,jr=i,hi!==null?e=0:(vi=null,Yi=0,e=Ii)}if(e!==0){if(e===2&&(i=e8(t),i!==0&&(n=i,e=E8(t,i))),e===1)throw r=Ug,od(t,0),t0(t,n),so(t,oi()),r;if(e===6)t0(t,n);else{if(i=t.current.alternate,(n&30)===0&&!uK(i)&&(e=$b(t,n),e===2&&(o=e8(t),o!==0&&(n=o,e=E8(t,o))),e===1))throw r=Ug,od(t,0),t0(t,n),so(t,oi()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(st(345));case 2:Gf(t,to);break;case 3:if(t0(t,n),(n&130023424)===n&&(e=ik+500-oi(),10<e)){if(Tb(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){La(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=s8(Gf.bind(null,t,to),e);break}Gf(t,to);break;case 4:if(t0(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var u=31-Gs(n);o=1<<u,u=e[u],u>i&&(i=u),n&=~o}if(n=i,n=oi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lK(n/1960))-n,10<n){t.timeoutHandle=s8(Gf.bind(null,t,to),n);break}Gf(t,to);break;case 5:Gf(t,to);break;default:throw Error(st(329))}}}return so(t,oi()),t.callbackNode===r?ED.bind(null,t):null}function E8(t,e){var r=cg;return t.current.memoizedState.isDehydrated&&(od(t,e).flags|=256),t=$b(t,e),t!==2&&(e=to,to=r,e!==null&&T8(e)),t}function T8(t){to===null?to=t:to.push.apply(to,t)}function uK(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Ul(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function t0(t,e){for(e&=~nk,e&=~Gw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Gs(e),n=1<<r;t[r]=-1,e&=~n}}function fT(t){if((jr&6)!==0)throw Error(st(327));kp();var e=Tb(t,0);if((e&1)===0)return so(t,oi()),null;var r=$b(t,e);if(t.tag!==0&&r===2){var n=e8(t);n!==0&&(e=n,r=E8(t,n))}if(r===1)throw r=Ug,od(t,0),t0(t,e),so(t,oi()),r;if(r===6)throw Error(st(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gf(t,to),so(t,oi()),null}function ak(t,e){var r=jr;jr|=1;try{return t(e)}finally{jr=r,jr===0&&(Hp=oi()+500,Ww&&D0())}}function vd(t){l0!==null&&l0.tag===0&&(jr&6)===0&&kp();var e=jr;jr|=1;var r=ps.transition,n=ln;try{if(ps.transition=null,ln=1,t)return t()}finally{ln=n,ps.transition=r,jr=e,(jr&6)===0&&D0()}}function ok(){So=pp.current,Ln(pp)}function od(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,zU(r)),hi!==null)for(r=hi.return;r!==null;){var n=r;switch(q7(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mb();break;case 3:Fp(),Ln(ao),Ln(va),X7();break;case 5:Y7(n);break;case 4:Fp();break;case 13:Ln(qn);break;case 19:Ln(qn);break;case 10:K7(n.type._context);break;case 22:case 23:ok()}r=r.return}if(vi=t,hi=t=k0(t.current,null),Yi=So=e,Ii=0,Ug=null,nk=Gw=Bp=0,to=cg=null,Dl!==null){for(e=0;e<Dl.length;e++)if(r=Dl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var u=o.next;o.next=i,n.next=u}r.pending=n}Dl=null}return t}function TD(t,e){do{var r=hi;try{if(U7(),X4.current=Bb,zb){for(var n=ri.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zb=!1}if(zp=0,Fi=ha=ri=null,ug=!1,Fg=0,rk.current=null,r===null||r.return===null){Ii=1,Ug=e,hi=null;break}e:{var o=t,u=r.return,f=r,d=e;if(e=Yi,f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var g=d,S=f,y=S.tag;if((S.mode&1)===0&&(y===0||y===11||y===15)){var C=S.alternate;C?(S.updateQueue=C.updateQueue,S.memoizedState=C.memoizedState,S.lanes=C.lanes):(S.updateQueue=null,S.memoizedState=null)}var b=GE(u);if(b!==null){b.flags&=-257,YE(b,u,f,o,e),b.mode&1&&VE(o,g,e),e=b,d=g;var O=e.updateQueue;if(O===null){var _=new Set;_.add(d),e.updateQueue=_}else O.add(d);break e}else{if((e&1)===0){VE(o,g,e),sk();break e}d=Error(st(426))}}else if(jn&&f.mode&1){var N=GE(u);if(N!==null){(N.flags&65536)===0&&(N.flags|=256),YE(N,u,f,o,e),V7(d);break e}}o=d,Ii!==4&&(Ii=2),cg===null?cg=[o]:cg.push(o),d=tk(d,f),f=u;do{switch(f.tag){case 3:f.flags|=65536,e&=-e,f.lanes|=e;var P=fD(f,d,e);BE(f,P);break e;case 1:o=d;var M=f.type,R=f.stateNode;if((f.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(v0===null||!v0.has(R)))){f.flags|=65536,e&=-e,f.lanes|=e;var D=dD(f,o,e);BE(f,D);break e}}f=f.return}while(f!==null)}ID(r)}catch(G){e=G,hi===r&&r!==null&&(hi=r=r.return);continue}break}while(1)}function OD(){var t=Ub.current;return Ub.current=Bb,t===null?Bb:t}function sk(){(Ii===0||Ii===3||Ii===2)&&(Ii=4),vi===null||(Bp&268435455)===0&&(Gw&268435455)===0||t0(vi,Yi)}function $b(t,e){var r=jr;jr|=2;var n=OD();vi===t&&Yi===e||od(t,e);do try{cK();break}catch(i){TD(t,i)}while(1);if(U7(),jr=r,Ub.current=n,hi!==null)throw Error(st(261));return vi=null,Yi=0,Ii}function cK(){for(;hi!==null;)AD(hi)}function fK(){for(;hi!==null&&!RH();)AD(hi)}function AD(t){var e=DD(t.alternate,t,So);t.memoizedProps=t.pendingProps,e===null?ID(t):hi=e,rk.current=null}function ID(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&32768)===0){if(r=eK(r,e,So),r!==null){hi=r;return}}else{if(r=nK(r,e),r!==null){r.flags&=32767,hi=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ii=6,hi=null;return}}if(e=e.sibling,e!==null){hi=e;return}hi=e=t}while(e!==null);Ii===0&&(Ii=5)}function Gf(t,e){var r=ln,n=ps.transition;try{ps.transition=null,ln=1,dK(t,e,r)}finally{ps.transition=n,ln=r}return null}function dK(t,e,r){do kp();while(l0!==null);if((jr&6)!==0)throw Error(st(327));var n=t.finishedWork,i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(st(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(qH(t,o),t===vi&&(hi=vi=null,Yi=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||_4||(_4=!0,PD(Eb,function(){return kp(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=ps.transition,ps.transition=null;var u=ln;ln=1;var f=jr;jr|=4,rk.current=null,aK(t,n),oK(t,n),DU(a8),a8=null,t.current=n,sK(n),jH(),jr=f,ln=u,ps.transition=o}else t.current=n;if(_4&&(_4=!1,l0=t,Wb=i),o=t.pendingLanes,o===0&&(v0=null),BH(n.stateNode),so(t,oi()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(Kb)throw Kb=!1,t=S8,S8=null,t;return(Wb&1)!==0&&t.tag!==0&&kp(),o=t.pendingLanes,(o&1)!==0?t===C8?fg++:(fg=0,C8=t):fg=0,D0(),null}function kp(){if(l0!==null){var t=hM(Wb),e=ps.transition,r=ln;try{if(ps.transition=null,ln=16>t?16:t,l0===null)var n=!1;else{if(t=l0,l0=null,Wb=0,(jr&6)!==0)throw Error(st(331));var i=jr;for(jr|=4,wt=t.current;wt!==null;){var o=wt,u=o.child;if((wt.flags&16)!==0){var f=o.deletions;if(f!==null){for(var d=0;d<f.length;d++){var g=f[d];for(wt=g;wt!==null;){var S=wt;switch(S.tag){case 0:case 11:case 15:Hg(8,S,o)}var y=S.child;if(y!==null)y.return=S,wt=y;else for(;wt!==null;){S=wt;var C=S.sibling,b=S.return;if(kD(S),S===g){wt=null;break}if(C!==null){C.return=b,wt=C;break}wt=b}}}var O=o.alternate;if(O!==null){var _=O.child;if(_!==null){O.child=null;do{var N=_.sibling;_.sibling=null,_=N}while(_!==null)}}wt=o}}if((o.subtreeFlags&2064)!==0&&u!==null)u.return=o,wt=u;else e:for(;wt!==null;){if(o=wt,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Hg(9,o,o.return)}var P=o.sibling;if(P!==null){P.return=o.return,wt=P;break e}wt=o.return}}var M=t.current;for(wt=M;wt!==null;){u=wt;var R=u.child;if((u.subtreeFlags&2064)!==0&&R!==null)R.return=u,wt=R;else e:for(u=M;wt!==null;){if(f=wt,(f.flags&2048)!==0)try{switch(f.tag){case 0:case 11:case 15:Vw(9,f)}}catch(G){no(f,f.return,G)}if(f===u){wt=null;break e}var D=f.sibling;if(D!==null){D.return=f.return,wt=D;break e}wt=f.return}}if(jr=i,D0(),Rl&&typeof Rl.onPostCommitFiberRoot=="function")try{Rl.onPostCommitFiberRoot(zw,t)}catch{}n=!0}return n}finally{ln=r,ps.transition=e}}return!1}function dT(t,e,r){e=tk(r,e),e=fD(t,e,1),m0(t,e),e=La(),t=Yw(t,1),t!==null&&(b1(t,1,e),so(t,e))}function no(t,e,r){if(t.tag===3)dT(t,t,r);else for(;e!==null;){if(e.tag===3){dT(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(v0===null||!v0.has(n))){t=tk(r,t),t=dD(e,t,1),m0(e,t),t=La(),e=Yw(e,1),e!==null&&(b1(e,1,t),so(e,t));break}}e=e.return}}function hK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=La(),t.pingedLanes|=t.suspendedLanes&r,vi===t&&(Yi&r)===r&&(Ii===4||Ii===3&&(Yi&130023424)===Yi&&500>oi()-ik?od(t,0):nk|=r),so(t,e)}function MD(t,e){e===0&&((t.mode&1)===0?e=1:(e=c4,c4<<=1,(c4&130023424)===0&&(c4=4194304)));var r=La();t=Yw(t,e),t!==null&&(b1(t,e,r),so(t,r))}function pK(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),MD(t,r)}function mK(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(st(314))}n!==null&&n.delete(e),MD(t,r)}var DD;DD=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ao.current)Io=!0;else{if((t.lanes&r)===0&&(e.flags&128)===0)return Io=!1,rK(t,e,r);Io=(t.flags&131072)!==0}else Io=!1,jn&&(e.flags&1048576)!==0&&UM(e,jb,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var i=Np(e,va.current);xp(e,r),i=Q7(null,e,n,t,i,r);var o=J7();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,oo(n)?(o=!0,Db(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,W7(e),i.updater=$w,e.stateNode=i,i._reactInternals=e,d8(e,n,t,r),e=y8(null,e,n,!0,o,r)):(e.tag=0,jn&&o&&$7(e),Aa(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=gK(n),t=Ws(n,t),i){case 0:e=g8(null,e,n,t,r);break e;case 1:e=QE(null,e,n,t,r);break e;case 11:e=XE(null,e,n,t,r);break e;case 14:e=ZE(null,e,n,Ws(n.type,t),r);break e}throw Error(st(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ws(n,i),g8(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ws(n,i),QE(t,e,n,i,r);case 3:e:{if(bD(e),t===null)throw Error(st(387));n=e.pendingProps,o=e.memoizedState,i=o.element,zM(t,e),Nb(e,n,null,r);var u=e.memoizedState;if(n=u.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:u.cache,transitions:u.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Error(st(423)),e=JE(t,e,n,r,i);break e}else if(n!==i){i=Error(st(424)),e=JE(t,e,n,r,i);break e}else for(ro=Ru(e.stateNode.containerInfo.firstChild),Mo=e,jn=!0,Vs=null,r=$M(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rp(),n===i){e=Vu(t,e,r);break e}Aa(t,e,n,r)}e=e.child}return e;case 5:return qM(e),t===null&&p8(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,u=i.children,o8(n,i)?u=null:o!==null&&o8(n,o)&&(e.flags|=32),yD(t,e),Aa(t,e,u,r),e.child;case 6:return t===null&&p8(e),null;case 13:return wD(t,e,r);case 4:return G7(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=jp(e,null,n,r):Aa(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ws(n,i),XE(t,e,n,i,r);case 7:return Aa(t,e,e.pendingProps,r),e.child;case 8:return Aa(t,e,e.pendingProps.children,r),e.child;case 12:return Aa(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,u=i.value,Cn(Pb,n._currentValue),n._currentValue=u,o!==null)if(Ul(o.value,u)){if(o.children===i.children&&!ao.current){e=Vu(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var f=o.dependencies;if(f!==null){u=o.child;for(var d=f.firstContext;d!==null;){if(d.context===n){if(o.tag===1){d=Hu(-1,r&-r),d.tag=2;var g=o.updateQueue;if(g!==null){g=g.shared;var S=g.pending;S===null?d.next=d:(d.next=S.next,S.next=d),g.pending=d}}o.lanes|=r,d=o.alternate,d!==null&&(d.lanes|=r),c8(o.return,r,e),f.lanes|=r;break}d=d.next}}else if(o.tag===10)u=o.type===e.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(st(341));u.lanes|=r,f=u.alternate,f!==null&&(f.lanes|=r),c8(u,r,e),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===e){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}Aa(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,xp(e,r),i=ys(i),n=n(i),e.flags|=1,Aa(t,e,n,r),e.child;case 14:return n=e.type,i=Ws(n,e.pendingProps),i=Ws(n.type,i),ZE(t,e,n,i,r);case 15:return vD(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ws(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,oo(n)?(t=!0,Db(e)):t=!1,xp(e,r),HM(e,n,i),d8(e,n,i,r),y8(null,e,n,!0,t,r);case 19:return xD(t,e,r);case 22:return gD(t,e,r)}throw Error(st(156,e.tag))};function PD(t,e){return cM(t,e)}function vK(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(t,e,r,n){return new vK(t,e,r,n)}function lk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gK(t){if(typeof t=="function")return lk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===A7)return 11;if(t===I7)return 14}return 2}function k0(t,e){var r=t.alternate;return r===null?(r=us(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function eb(t,e,r,n,i,o){var u=2;if(n=t,typeof t=="function")lk(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case ap:return sd(r.children,i,o,e);case O7:u=8,i|=8;break;case z5:return t=us(12,r,e,i|2),t.elementType=z5,t.lanes=o,t;case B5:return t=us(13,r,e,i),t.elementType=B5,t.lanes=o,t;case H5:return t=us(19,r,e,i),t.elementType=H5,t.lanes=o,t;case VI:return qb(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $I:u=10;break e;case qI:u=9;break e;case A7:u=11;break e;case I7:u=14;break e;case Zc:u=16,n=null;break e}throw Error(st(130,t==null?t:typeof t,""))}return e=us(u,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function sd(t,e,r,n){return t=us(7,t,n,e),t.lanes=r,t}function qb(t,e,r,n){return t=us(22,t,n,e),t.elementType=VI,t.lanes=r,t.stateNode={},t}function N6(t,e,r){return t=us(6,t,null,e),t.lanes=r,t}function R6(t,e,r){return e=us(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yK(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g6(0),this.expirationTimes=g6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g6(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uk(t,e,r,n,i,o,u,f,d){return t=new yK(t,e,r,f,d),e===1?(e=1,o===!0&&(e|=8)):e=0,o=us(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null},W7(o),t}function bK(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ip,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function LD(t){if(!t)return x0;t=t._reactInternals;e:{if(Pd(t)!==t||t.tag!==1)throw Error(st(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(oo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(st(171))}if(t.tag===1){var r=t.type;if(oo(r))return jM(t,r,e)}return e}function ND(t,e,r,n,i,o,u,f,d){return t=uk(r,n,!0,t,i,o,u,f,d),t.context=LD(null),r=t.current,n=La(),i=g0(r),o=Hu(n,i),o.callback=e!=null?e:null,m0(r,o),t.current.lanes=i,b1(t,i,n),so(t,n),t}function Xw(t,e,r,n){var i=e.current,o=La(),u=g0(i);return r=LD(r),e.context===null?e.context=r:e.pendingContext=r,e=Hu(o,u),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),m0(i,e),t=ms(i,u,o),t!==null&&Y4(t,i,u),u}function Vb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ck(t,e){hT(t,e),(t=t.alternate)&&hT(t,e)}function wK(){return null}var RD=typeof reportError=="function"?reportError:function(t){console.error(t)};function fk(t){this._internalRoot=t}Zw.prototype.render=fk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(st(409));Xw(t,e,null,null)};Zw.prototype.unmount=fk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vd(function(){Xw(null,t,null,null)}),e[qu]=null}};function Zw(t){this._internalRoot=t}Zw.prototype.unstable_scheduleHydration=function(t){if(t){var e=vM();t={blockedOn:null,target:t,priority:e};for(var r=0;r<e0.length&&e!==0&&e<e0[r].priority;r++);e0.splice(r,0,t),r===0&&yM(t)}};function dk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pT(){}function xK(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var g=Vb(u);o.call(g)}}var u=ND(e,n,t,0,null,!1,!1,"",pT);return t._reactRootContainer=u,t[qu]=u.current,Pg(t.nodeType===8?t.parentNode:t),vd(),u}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var f=n;n=function(){var g=Vb(d);f.call(g)}}var d=uk(t,0,!1,null,null,!1,!1,"",pT);return t._reactRootContainer=d,t[qu]=d.current,Pg(t.nodeType===8?t.parentNode:t),vd(function(){Xw(e,d,r,n)}),d}function Jw(t,e,r,n,i){var o=r._reactRootContainer;if(o){var u=o;if(typeof i=="function"){var f=i;i=function(){var d=Vb(u);f.call(d)}}Xw(e,u,t,i)}else u=xK(r,e,t,i,n);return Vb(u)}pM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Zv(e.pendingLanes);r!==0&&(P7(e,r|1),so(e,oi()),(jr&6)===0&&(Hp=oi()+500,D0()))}break;case 13:var n=La();vd(function(){return ms(t,1,n)}),ck(t,1)}};L7=function(t){if(t.tag===13){var e=La();ms(t,134217728,e),ck(t,134217728)}};mM=function(t){if(t.tag===13){var e=La(),r=g0(t);ms(t,r,e),ck(t,r)}};vM=function(){return ln};gM=function(t,e){var r=ln;try{return ln=t,e()}finally{ln=r}};Z5=function(t,e,r){switch(e){case"input":if(W5(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Kw(n);if(!i)throw Error(st(90));YI(n),W5(n,i)}}}break;case"textarea":ZI(t,r);break;case"select":e=r.value,e!=null&&gp(t,!!r.multiple,e,!1)}};iM=ak;aM=vd;var kK={usingClientEntryPoint:!1,Events:[x1,up,Kw,rM,nM,ak]},Kv={findFiberByHostInstance:Qf,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},_K={bundleType:Kv.bundleType,version:Kv.version,rendererPackageName:Kv.rendererPackageName,rendererConfig:Kv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lM(t),t===null?null:t.stateNode},findFiberByHostInstance:Kv.findFiberByHostInstance||wK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var S4=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S4.isDisabled&&S4.supportsFiber)try{zw=S4.inject(_K),Rl=S4}catch{}}No.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kK;No.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dk(e))throw Error(st(200));return bK(t,e,null,r)};No.createRoot=function(t,e){if(!dk(t))throw Error(st(299));var r=!1,n="",i=RD;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=uk(t,1,!1,null,null,r,!1,n,i),t[qu]=e.current,Pg(t.nodeType===8?t.parentNode:t),new fk(e)};No.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(st(188)):(t=Object.keys(t).join(","),Error(st(268,t)));return t=lM(e),t=t===null?null:t.stateNode,t};No.flushSync=function(t){return vd(t)};No.hydrate=function(t,e,r){if(!Qw(e))throw Error(st(200));return Jw(null,t,e,!0,r)};No.hydrateRoot=function(t,e,r){if(!dk(t))throw Error(st(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",u=RD;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),e=ND(e,null,t,1,r!=null?r:null,i,!1,o,u),t[qu]=e.current,Pg(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Zw(e)};No.render=function(t,e,r){if(!Qw(e))throw Error(st(200));return Jw(null,t,e,!1,r)};No.unmountComponentAtNode=function(t){if(!Qw(t))throw Error(st(40));return t._reactRootContainer?(vd(function(){Jw(null,null,t,!1,function(){t._reactRootContainer=null,t[qu]=null})}),!0):!1};No.unstable_batchedUpdates=ak;No.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Qw(r))throw Error(st(200));if(t==null||t._reactInternals===void 0)throw Error(st(38));return Jw(t,e,r,!1,n)};No.version="18.0.0-fc46dba67-20220329";function jD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jD)}catch(t){console.error(t)}}jD(),ma.exports=No;var SK=ma.exports,FD,CK=ma.exports;FD=CK.createRoot;function O8(t,e){return O8=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},O8(t,e)}function _1(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,O8(t,e)}var S1=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(n){var i=this,o=n||function(){};return this.listeners.push(o),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(u){return u!==o}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function Or(){return Or=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Or.apply(this,arguments)}var zD=typeof window=="undefined";function da(){}function EK(t,e){return typeof t=="function"?t(e):t}function TK(t){return typeof t=="number"&&t>=0&&t!==1/0}function Gb(t){return Array.isArray(t)?t:[t]}function OK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function j6(t,e,r){return C1(t)?typeof e=="function"?Or({},r,{queryKey:t,queryFn:e}):Or({},e,{queryKey:t}):t}function AK(t,e,r){return C1(t)?typeof e=="function"?Or({},r,{mutationKey:t,mutationFn:e}):Or({},e,{mutationKey:t}):typeof t=="function"?Or({},e,{mutationFn:t}):Or({},t)}function Jc(t,e,r){return C1(t)?[Or({},e,{queryKey:t}),r]:[t||{},e]}function IK(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var r=t!=null?t:!e;return r?"active":"inactive"}function mT(t,e){var r=t.active,n=t.exact,i=t.fetching,o=t.inactive,u=t.predicate,f=t.queryKey,d=t.stale;if(C1(f)){if(n){if(e.queryHash!==hk(f,e.options))return!1}else if(!Yb(e.queryKey,f))return!1}var g=IK(r,o);if(g==="none")return!1;if(g!=="all"){var S=e.isActive();if(g==="active"&&!S||g==="inactive"&&S)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||typeof i=="boolean"&&e.isFetching()!==i||u&&!u(e))}function vT(t,e){var r=t.exact,n=t.fetching,i=t.predicate,o=t.mutationKey;if(C1(o)){if(!e.options.mutationKey)return!1;if(r){if(td(e.options.mutationKey)!==td(o))return!1}else if(!Yb(e.options.mutationKey,o))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function hk(t,e){var r=(e==null?void 0:e.queryKeyHashFn)||td;return r(t)}function td(t){var e=Gb(t);return MK(e)}function MK(t){return JSON.stringify(t,function(e,r){return A8(r)?Object.keys(r).sort().reduce(function(n,i){return n[i]=r[i],n},{}):r})}function Yb(t,e){return BD(Gb(t),Gb(e))}function BD(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(r){return!BD(t[r],e[r])}):!1}function HD(t,e){if(t===e)return t;var r=Array.isArray(t)&&Array.isArray(e);if(r||A8(t)&&A8(e)){for(var n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),o=i.length,u=r?[]:{},f=0,d=0;d<o;d++){var g=r?d:i[d];u[g]=HD(t[g],e[g]),u[g]===t[g]&&f++}return n===o&&f===n?t:u}return e}function A8(t){if(!gT(t))return!1;var e=t.constructor;if(typeof e=="undefined")return!0;var r=e.prototype;return!(!gT(r)||!r.hasOwnProperty("isPrototypeOf"))}function gT(t){return Object.prototype.toString.call(t)==="[object Object]"}function C1(t){return typeof t=="string"||Array.isArray(t)}function DK(t){return new Promise(function(e){setTimeout(e,t)})}function yT(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function UD(){if(typeof AbortController=="function")return new AbortController}var PK=function(t){_1(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(i){var o;if(!zD&&((o=window)==null?void 0:o.addEventListener)){var u=function(){return i()};return window.addEventListener("visibilitychange",u,!1),window.addEventListener("focus",u,!1),function(){window.removeEventListener("visibilitychange",u),window.removeEventListener("focus",u)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var o,u=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(f){typeof f=="boolean"?u.setFocused(f):u.onFocus()})},r.setFocused=function(i){this.focused=i,i&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(i){i()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(S1),tb=new PK,LK=function(t){_1(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(i){var o;if(!zD&&((o=window)==null?void 0:o.addEventListener)){var u=function(){return i()};return window.addEventListener("online",u,!1),window.addEventListener("offline",u,!1),function(){window.removeEventListener("online",u),window.removeEventListener("offline",u)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var o,u=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(f){typeof f=="boolean"?u.setOnline(f):u.onOnline()})},r.setOnline=function(i){this.online=i,i&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(i){i()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine},e}(S1),rb=new LK;function NK(t){return Math.min(1e3*Math.pow(2,t),3e4)}function Xb(t){return typeof(t==null?void 0:t.cancel)=="function"}var KD=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function F6(t){return t instanceof KD}var WD=function(e){var r=this,n=!1,i,o,u,f;this.abort=e.abort,this.cancel=function(C){return i==null?void 0:i(C)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return o==null?void 0:o()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(C,b){u=C,f=b});var d=function(b){r.isResolved||(r.isResolved=!0,e.onSuccess==null||e.onSuccess(b),o==null||o(),u(b))},g=function(b){r.isResolved||(r.isResolved=!0,e.onError==null||e.onError(b),o==null||o(),f(b))},S=function(){return new Promise(function(b){o=b,r.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){o=void 0,r.isPaused=!1,e.onContinue==null||e.onContinue()})},y=function C(){if(!r.isResolved){var b;try{b=e.fn()}catch(O){b=Promise.reject(O)}i=function(_){if(!r.isResolved&&(g(new KD(_)),r.abort==null||r.abort(),Xb(b)))try{b.cancel()}catch{}},r.isTransportCancelable=Xb(b),Promise.resolve(b).then(d).catch(function(O){var _,N;if(!r.isResolved){var P=(_=e.retry)!=null?_:3,M=(N=e.retryDelay)!=null?N:NK,R=typeof M=="function"?M(r.failureCount,O):M,D=P===!0||typeof P=="number"&&r.failureCount<P||typeof P=="function"&&P(r.failureCount,O);if(n||!D){g(O);return}r.failureCount++,e.onFail==null||e.onFail(r.failureCount,O),DK(R).then(function(){if(!tb.isFocused()||!rb.isOnline())return S()}).then(function(){n?g(O):C()})}})}};y()},RK=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var e=t.prototype;return e.batch=function(n){var i;this.transactions++;try{i=n()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(n){var i=this;this.transactions?this.queue.push(n):yT(function(){i.notifyFn(n)})},e.batchCalls=function(n){var i=this;return function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];i.schedule(function(){n.apply(void 0,u)})}},e.flush=function(){var n=this,i=this.queue;this.queue=[],i.length&&yT(function(){n.batchNotifyFn(function(){i.forEach(function(o){n.notifyFn(o)})})})},e.setNotifyFunction=function(n){this.notifyFn=n},e.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},t}(),Ti=new RK,$D=console;function qD(){return $D}function jK(t){$D=t}var FK=function(){function t(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(n){var i;this.options=Or({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(n){this.defaultOptions=n},e.scheduleGc=function(){var n=this;this.clearGcTimeout(),TK(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){clearTimeout(this.gcTimeout),this.gcTimeout=void 0},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(n,i){var o,u,f=this.state.data,d=EK(n,f);return(o=(u=this.options).isDataEqual)!=null&&o.call(u,f,d)?d=f:this.options.structuralSharing!==!1&&(d=HD(f,d)),this.dispatch({data:d,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),d},e.setState=function(n,i){this.dispatch({type:"setState",state:n,setStateOptions:i})},e.cancel=function(n){var i,o=this.promise;return(i=this.retryer)==null||i.cancel(n),o?o.then(da).catch(da):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},e.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!OK(this.state.dataUpdatedAt,n)},e.onFocus=function(){var n,i=this.observers.find(function(o){return o.shouldFetchOnWindowFocus()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},e.onOnline=function(){var n,i=this.observers.find(function(o){return o.shouldFetchOnReconnect()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},e.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},e.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(i){return i!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(n,i){var o=this,u,f,d;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i==null?void 0:i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var g;return(g=this.retryer)==null||g.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var S=this.observers.find(function(M){return M.options.queryFn});S&&this.setOptions(S.options)}var y=Gb(this.queryKey),C=UD(),b={queryKey:y,pageParam:void 0,meta:this.meta};Object.defineProperty(b,"signal",{enumerable:!0,get:function(){if(C)return o.abortSignalConsumed=!0,C.signal}});var O=function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(b)):Promise.reject("Missing queryFn")},_={fetchOptions:i,options:this.options,queryKey:y,state:this.state,fetchFn:O,meta:this.meta};if((u=this.options.behavior)!=null&&u.onFetch){var N;(N=this.options.behavior)==null||N.onFetch(_)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((f=_.fetchOptions)==null?void 0:f.meta)){var P;this.dispatch({type:"fetch",meta:(P=_.fetchOptions)==null?void 0:P.meta})}return this.retryer=new WD({fn:_.fetchFn,abort:C==null||(d=C.abort)==null?void 0:d.bind(C),onSuccess:function(R){o.setData(R),o.cache.config.onSuccess==null||o.cache.config.onSuccess(R,o),o.cacheTime===0&&o.optionalRemove()},onError:function(R){F6(R)&&R.silent||o.dispatch({type:"error",error:R}),F6(R)||(o.cache.config.onError==null||o.cache.config.onError(R,o),qD().error(R)),o.cacheTime===0&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:_.options.retry,retryDelay:_.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(n){var i=this;this.state=this.reducer(this.state,n),Ti.batch(function(){i.observers.forEach(function(o){o.onQueryUpdate(n)}),i.cache.notify({query:i,type:"queryUpdated",action:n})})},e.getDefaultState=function(n){var i=typeof n.initialData=="function"?n.initialData():n.initialData,o=typeof n.initialData!="undefined",u=o?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,f=typeof i!="undefined";return{data:i,dataUpdateCount:0,dataUpdatedAt:f?u!=null?u:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:f?"success":"idle"}},e.reducer=function(n,i){var o,u;switch(i.type){case"failed":return Or({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return Or({},n,{isPaused:!0});case"continue":return Or({},n,{isPaused:!1});case"fetch":return Or({},n,{fetchFailureCount:0,fetchMeta:(o=i.meta)!=null?o:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Or({},n,{data:i.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(u=i.dataUpdatedAt)!=null?u:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var f=i.error;return F6(f)&&f.revert&&this.revertState?Or({},this.revertState):Or({},n,{error:f,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Or({},n,{isInvalidated:!0});case"setState":return Or({},n,i.state);default:return n}},t}(),zK=function(t){_1(e,t);function e(n){var i;return i=t.call(this)||this,i.config=n||{},i.queries=[],i.queriesMap={},i}var r=e.prototype;return r.build=function(i,o,u){var f,d=o.queryKey,g=(f=o.queryHash)!=null?f:hk(d,o),S=this.get(g);return S||(S=new FK({cache:this,queryKey:d,queryHash:g,options:i.defaultQueryOptions(o),state:u,defaultOptions:i.getQueryDefaults(d),meta:o.meta}),this.add(S)),S},r.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},r.remove=function(i){var o=this.queriesMap[i.queryHash];o&&(i.destroy(),this.queries=this.queries.filter(function(u){return u!==i}),o===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},r.clear=function(){var i=this;Ti.batch(function(){i.queries.forEach(function(o){i.remove(o)})})},r.get=function(i){return this.queriesMap[i]},r.getAll=function(){return this.queries},r.find=function(i,o){var u=Jc(i,o),f=u[0];return typeof f.exact=="undefined"&&(f.exact=!0),this.queries.find(function(d){return mT(f,d)})},r.findAll=function(i,o){var u=Jc(i,o),f=u[0];return Object.keys(f).length>0?this.queries.filter(function(d){return mT(f,d)}):this.queries},r.notify=function(i){var o=this;Ti.batch(function(){o.listeners.forEach(function(u){u(i)})})},r.onFocus=function(){var i=this;Ti.batch(function(){i.queries.forEach(function(o){o.onFocus()})})},r.onOnline=function(){var i=this;Ti.batch(function(){i.queries.forEach(function(o){o.onOnline()})})},e}(S1),BK=function(){function t(r){this.options=Or({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||VD(),this.meta=r.meta}var e=t.prototype;return e.setState=function(n){this.dispatch({type:"setState",state:n})},e.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},e.removeObserver=function(n){this.observers=this.observers.filter(function(i){return i!==n})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(da).catch(da)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var n=this,i,o=this.state.status==="loading",u=Promise.resolve();return o||(this.dispatch({type:"loading",variables:this.options.variables}),u=u.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(f){f!==n.state.context&&n.dispatch({type:"loading",context:f,variables:n.state.variables})})),u.then(function(){return n.executeMutation()}).then(function(f){i=f,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(i,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(i,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(i,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:i}),i}).catch(function(f){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(f,n.state.variables,n.state.context,n),qD().error(f),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(f,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,f,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:f}),f})})},e.executeMutation=function(){var n=this,i;return this.retryer=new WD({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(n){var i=this;this.state=HK(this.state,n),Ti.batch(function(){i.observers.forEach(function(o){o.onMutationUpdate(n)}),i.mutationCache.notify(i)})},t}();function VD(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function HK(t,e){switch(e.type){case"failed":return Or({},t,{failureCount:t.failureCount+1});case"pause":return Or({},t,{isPaused:!0});case"continue":return Or({},t,{isPaused:!1});case"loading":return Or({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Or({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Or({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Or({},t,e.state);default:return t}}var UK=function(t){_1(e,t);function e(n){var i;return i=t.call(this)||this,i.config=n||{},i.mutations=[],i.mutationId=0,i}var r=e.prototype;return r.build=function(i,o,u){var f=new BK({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(o),state:u,defaultOptions:o.mutationKey?i.getMutationDefaults(o.mutationKey):void 0,meta:o.meta});return this.add(f),f},r.add=function(i){this.mutations.push(i),this.notify(i)},r.remove=function(i){this.mutations=this.mutations.filter(function(o){return o!==i}),i.cancel(),this.notify(i)},r.clear=function(){var i=this;Ti.batch(function(){i.mutations.forEach(function(o){i.remove(o)})})},r.getAll=function(){return this.mutations},r.find=function(i){return typeof i.exact=="undefined"&&(i.exact=!0),this.mutations.find(function(o){return vT(i,o)})},r.findAll=function(i){return this.mutations.filter(function(o){return vT(i,o)})},r.notify=function(i){var o=this;Ti.batch(function(){o.listeners.forEach(function(u){u(i)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var i=this.mutations.filter(function(o){return o.state.isPaused});return Ti.batch(function(){return i.reduce(function(o,u){return o.then(function(){return u.continue().catch(da)})},Promise.resolve())})},e}(S1);function KK(){return{onFetch:function(e){e.fetchFn=function(){var r,n,i,o,u,f,d=(r=e.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,g=(i=e.fetchOptions)==null||(o=i.meta)==null?void 0:o.fetchMore,S=g==null?void 0:g.pageParam,y=(g==null?void 0:g.direction)==="forward",C=(g==null?void 0:g.direction)==="backward",b=((u=e.state.data)==null?void 0:u.pages)||[],O=((f=e.state.data)==null?void 0:f.pageParams)||[],_=UD(),N=_==null?void 0:_.signal,P=O,M=!1,R=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},D=function(he,ye,Ee,Ne){return P=Ne?[ye].concat(P):[].concat(P,[ye]),Ne?[Ee].concat(he):[].concat(he,[Ee])},G=function(he,ye,Ee,Ne){if(M)return Promise.reject("Cancelled");if(typeof Ee=="undefined"&&!ye&&he.length)return Promise.resolve(he);var ge={queryKey:e.queryKey,signal:N,pageParam:Ee,meta:e.meta},De=R(ge),ze=Promise.resolve(De).then(function(q){return D(he,Ee,q,Ne)});if(Xb(De)){var Ye=ze;Ye.cancel=De.cancel}return ze},V;if(!b.length)V=G([]);else if(y){var J=typeof S!="undefined",te=J?S:bT(e.options,b);V=G(b,J,te)}else if(C){var W=typeof S!="undefined",ce=W?S:WK(e.options,b);V=G(b,W,ce,!0)}else(function(){P=[];var pe=typeof e.options.getNextPageParam=="undefined",he=d&&b[0]?d(b[0],0,b):!0;V=he?G([],pe,O[0]):Promise.resolve(D([],O[0],b[0]));for(var ye=function(ge){V=V.then(function(De){var ze=d&&b[ge]?d(b[ge],ge,b):!0;if(ze){var Ye=pe?O[ge]:bT(e.options,De);return G(De,pe,Ye)}return Promise.resolve(D(De,O[ge],b[ge]))})},Ee=1;Ee<b.length;Ee++)ye(Ee)})();var ie=V.then(function(pe){return{pages:pe,pageParams:P}}),le=ie;return le.cancel=function(){M=!0,_==null||_.abort(),Xb(V)&&V.cancel()},ie}}}}function bT(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function WK(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var $K=function(){function t(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new zK,this.mutationCache=r.mutationCache||new UK,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var n=this;this.unsubscribeFocus=tb.subscribe(function(){tb.isFocused()&&rb.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=rb.subscribe(function(){tb.isFocused()&&rb.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},e.unmount=function(){var n,i;(n=this.unsubscribeFocus)==null||n.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(n,i){var o=Jc(n,i),u=o[0];return u.fetching=!0,this.queryCache.findAll(u).length},e.isMutating=function(n){return this.mutationCache.findAll(Or({},n,{fetching:!0})).length},e.getQueryData=function(n,i){var o;return(o=this.queryCache.find(n,i))==null?void 0:o.state.data},e.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(i){var o=i.queryKey,u=i.state,f=u.data;return[o,f]})},e.setQueryData=function(n,i,o){var u=j6(n),f=this.defaultQueryOptions(u);return this.queryCache.build(this,f).setData(i,o)},e.setQueriesData=function(n,i,o){var u=this;return Ti.batch(function(){return u.getQueryCache().findAll(n).map(function(f){var d=f.queryKey;return[d,u.setQueryData(d,i,o)]})})},e.getQueryState=function(n,i){var o;return(o=this.queryCache.find(n,i))==null?void 0:o.state},e.removeQueries=function(n,i){var o=Jc(n,i),u=o[0],f=this.queryCache;Ti.batch(function(){f.findAll(u).forEach(function(d){f.remove(d)})})},e.resetQueries=function(n,i,o){var u=this,f=Jc(n,i,o),d=f[0],g=f[1],S=this.queryCache,y=Or({},d,{active:!0});return Ti.batch(function(){return S.findAll(d).forEach(function(C){C.reset()}),u.refetchQueries(y,g)})},e.cancelQueries=function(n,i,o){var u=this,f=Jc(n,i,o),d=f[0],g=f[1],S=g===void 0?{}:g;typeof S.revert=="undefined"&&(S.revert=!0);var y=Ti.batch(function(){return u.queryCache.findAll(d).map(function(C){return C.cancel(S)})});return Promise.all(y).then(da).catch(da)},e.invalidateQueries=function(n,i,o){var u,f,d,g=this,S=Jc(n,i,o),y=S[0],C=S[1],b=Or({},y,{active:(u=(f=y.refetchActive)!=null?f:y.active)!=null?u:!0,inactive:(d=y.refetchInactive)!=null?d:!1});return Ti.batch(function(){return g.queryCache.findAll(y).forEach(function(O){O.invalidate()}),g.refetchQueries(b,C)})},e.refetchQueries=function(n,i,o){var u=this,f=Jc(n,i,o),d=f[0],g=f[1],S=Ti.batch(function(){return u.queryCache.findAll(d).map(function(C){return C.fetch(void 0,Or({},g,{meta:{refetchPage:d==null?void 0:d.refetchPage}}))})}),y=Promise.all(S).then(da);return g!=null&&g.throwOnError||(y=y.catch(da)),y},e.fetchQuery=function(n,i,o){var u=j6(n,i,o),f=this.defaultQueryOptions(u);typeof f.retry=="undefined"&&(f.retry=!1);var d=this.queryCache.build(this,f);return d.isStaleByTime(f.staleTime)?d.fetch(f):Promise.resolve(d.state.data)},e.prefetchQuery=function(n,i,o){return this.fetchQuery(n,i,o).then(da).catch(da)},e.fetchInfiniteQuery=function(n,i,o){var u=j6(n,i,o);return u.behavior=KK(),this.fetchQuery(u)},e.prefetchInfiniteQuery=function(n,i,o){return this.fetchInfiniteQuery(n,i,o).then(da).catch(da)},e.cancelMutations=function(){var n=this,i=Ti.batch(function(){return n.mutationCache.getAll().map(function(o){return o.cancel()})});return Promise.all(i).then(da).catch(da)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(n){this.defaultOptions=n},e.setQueryDefaults=function(n,i){var o=this.queryDefaults.find(function(u){return td(n)===td(u.queryKey)});o?o.defaultOptions=i:this.queryDefaults.push({queryKey:n,defaultOptions:i})},e.getQueryDefaults=function(n){var i;return n?(i=this.queryDefaults.find(function(o){return Yb(n,o.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(n,i){var o=this.mutationDefaults.find(function(u){return td(n)===td(u.mutationKey)});o?o.defaultOptions=i:this.mutationDefaults.push({mutationKey:n,defaultOptions:i})},e.getMutationDefaults=function(n){var i;return n?(i=this.mutationDefaults.find(function(o){return Yb(n,o.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var i=Or({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=hk(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},e.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:Or({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),qK=function(t){_1(e,t);function e(n,i){var o;return o=t.call(this)||this,o.client=n,o.setOptions(i),o.bindMethods(),o.updateResult(),o}var r=e.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},r.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},r.onMutationUpdate=function(i){this.updateResult();var o={listeners:!0};i.type==="success"?o.onSuccess=!0:i.type==="error"&&(o.onError=!0),this.notify(o)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(i,o){return this.mutateOptions=o,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Or({},this.options,{variables:typeof i!="undefined"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:VD(),o=Or({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=o},r.notify=function(i){var o=this;Ti.batch(function(){o.mutateOptions&&(i.onSuccess?(o.mutateOptions.onSuccess==null||o.mutateOptions.onSuccess(o.currentResult.data,o.currentResult.variables,o.currentResult.context),o.mutateOptions.onSettled==null||o.mutateOptions.onSettled(o.currentResult.data,null,o.currentResult.variables,o.currentResult.context)):i.onError&&(o.mutateOptions.onError==null||o.mutateOptions.onError(o.currentResult.error,o.currentResult.variables,o.currentResult.context),o.mutateOptions.onSettled==null||o.mutateOptions.onSettled(void 0,o.currentResult.error,o.currentResult.variables,o.currentResult.context))),i.listeners&&o.listeners.forEach(function(u){u(o.currentResult)})})},e}(S1),VK=SK.unstable_batchedUpdates;Ti.setBatchNotifyFunction(VK);var GK=console;jK(GK);var wT=Oo.createContext(void 0),GD=Oo.createContext(!1);function YD(t){return t&&typeof window!="undefined"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=wT),window.ReactQueryClientContext):wT}var YK=function(){var e=Oo.useContext(YD(Oo.useContext(GD)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},XK=function(e){var r=e.client,n=e.contextSharing,i=n===void 0?!1:n,o=e.children;Oo.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var u=YD(i);return Oo.createElement(GD.Provider,{value:i},Oo.createElement(u.Provider,{value:r},o))};function ZK(t,e,r){return typeof e=="function"?e(r):typeof e=="boolean"?e:!!t}function QK(t,e,r){var n=Oo.useRef(!1),i=Oo.useState(0),o=i[1],u=AK(t,e,r),f=YK(),d=Oo.useRef();d.current?d.current.setOptions(u):d.current=new qK(f,u);var g=d.current.getCurrentResult();Oo.useEffect(function(){n.current=!0;var y=d.current.subscribe(Ti.batchCalls(function(){n.current&&o(function(C){return C+1})}));return function(){n.current=!1,y()}},[]);var S=Oo.useCallback(function(y,C){d.current.mutate(y,C).catch(da)},[]);if(g.error&&ZK(void 0,d.current.options.useErrorBoundary,g.error))throw g.error;return Or({},g,{mutate:S,mutateAsync:g.mutate})}var rd;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rd||(rd={}));var xT=function(t){return t},kT="beforeunload",JK="popstate";function eW(t){t===void 0&&(t={});var e=t,r=e.window,n=r===void 0?document.defaultView:r,i=n.history;function o(){var J=n.location,te=J.pathname,W=J.search,ce=J.hash,ie=i.state||{};return[ie.idx,xT({pathname:te,search:W,hash:ce,state:ie.usr||null,key:ie.key||"default"})]}var u=null;function f(){if(u)b.call(u),u=null;else{var J=rd.Pop,te=o(),W=te[0],ce=te[1];if(b.length){if(W!=null){var ie=S-W;ie&&(u={action:J,location:ce,retry:function(){G(ie*-1)}},G(ie))}}else M(J)}}n.addEventListener(JK,f);var d=rd.Pop,g=o(),S=g[0],y=g[1],C=ST(),b=ST();S==null&&(S=0,i.replaceState(Or({},i.state,{idx:S}),""));function O(J){return typeof J=="string"?J:rW(J)}function _(J,te){return te===void 0&&(te=null),xT(Or({pathname:y.pathname,hash:"",search:""},typeof J=="string"?om(J):J,{state:te,key:tW()}))}function N(J,te){return[{usr:J.state,key:J.key,idx:te},O(J)]}function P(J,te,W){return!b.length||(b.call({action:J,location:te,retry:W}),!1)}function M(J){d=J;var te=o();S=te[0],y=te[1],C.call({action:d,location:y})}function R(J,te){var W=rd.Push,ce=_(J,te);function ie(){R(J,te)}if(P(W,ce,ie)){var le=N(ce,S+1),pe=le[0],he=le[1];try{i.pushState(pe,"",he)}catch{n.location.assign(he)}M(W)}}function D(J,te){var W=rd.Replace,ce=_(J,te);function ie(){D(J,te)}if(P(W,ce,ie)){var le=N(ce,S),pe=le[0],he=le[1];i.replaceState(pe,"",he),M(W)}}function G(J){i.go(J)}var V={get action(){return d},get location(){return y},createHref:O,push:R,replace:D,go:G,back:function(){G(-1)},forward:function(){G(1)},listen:function(te){return C.push(te)},block:function(te){var W=b.push(te);return b.length===1&&n.addEventListener(kT,_T),function(){W(),b.length||n.removeEventListener(kT,_T)}}};return V}function _T(t){t.preventDefault(),t.returnValue=""}function ST(){var t=[];return{get length(){return t.length},push:function(r){return t.push(r),function(){t=t.filter(function(n){return n!==r})}},call:function(r){t.forEach(function(n){return n&&n(r)})}}}function tW(){return Math.random().toString(36).substr(2,8)}function rW(t){var e=t.pathname,r=e===void 0?"/":e,n=t.search,i=n===void 0?"":n,o=t.hash,u=o===void 0?"":o;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),u&&u!=="#"&&(r+=u.charAt(0)==="#"?u:"#"+u),r}function om(t){var e={};if(t){var r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));var n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const XD=ee.exports.createContext(null),pk=ee.exports.createContext(null),mk=ee.exports.createContext({outlet:null,matches:[]});function Kl(t,e){if(!t)throw new Error(e)}function nW(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?om(e):e,i=QD(n.pathname||"/",r);if(i==null)return null;let o=ZD(t);iW(o);let u=null;for(let f=0;u==null&&f<o.length;++f)u=hW(o[f],i);return u}function ZD(t,e,r,n){return e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n=""),t.forEach((i,o)=>{let u={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(u.relativePath.startsWith(n)||Kl(!1),u.relativePath=u.relativePath.slice(n.length));let f=ld([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(i.index===!0&&Kl(!1),ZD(i.children,e,d,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:fW(f,i.index),routesMeta:d})}),e}function iW(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:dW(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aW=/^:\w+$/,oW=3,sW=2,lW=1,uW=10,cW=-2,CT=t=>t==="*";function fW(t,e){let r=t.split("/"),n=r.length;return r.some(CT)&&(n+=cW),e&&(n+=sW),r.filter(i=>!CT(i)).reduce((i,o)=>i+(aW.test(o)?oW:o===""?lW:uW),n)}function dW(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function hW(t,e){let{routesMeta:r}=t,n={},i="/",o=[];for(let u=0;u<r.length;++u){let f=r[u],d=u===r.length-1,g=i==="/"?e:e.slice(i.length)||"/",S=pW({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g);if(!S)return null;Object.assign(n,S.params);let y=f.route;o.push({params:n,pathname:ld([i,S.pathname]),pathnameBase:JD(ld([i,S.pathnameBase])),route:y}),S.pathnameBase!=="/"&&(i=ld([i,S.pathnameBase]))}return o}function pW(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=mW(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((g,S,y)=>{if(S==="*"){let C=f[y]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}return g[S]=vW(f[y]||""),g},{}),pathname:o,pathnameBase:u,pattern:t}}function mW(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(u,f)=>(n.push(f),"([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=r?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),n]}function vW(t,e){try{return decodeURIComponent(t)}catch{return t}}function gW(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?om(t):t;return{pathname:r?r.startsWith("/")?r:yW(r,e):e,search:wW(n),hash:xW(i)}}function yW(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function bW(t,e,r){let n=typeof t=="string"?om(t):t,i=t===""||n.pathname===""?"/":n.pathname,o;if(i==null)o=r;else{let f=e.length-1;if(i.startsWith("..")){let d=i.split("/");for(;d[0]==="..";)d.shift(),f-=1;n.pathname=d.join("/")}o=f>=0?e[f]:"/"}let u=gW(n,o);return i&&i!=="/"&&i.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function QD(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=t.charAt(e.length);return r&&r!=="/"?null:t.slice(e.length)||"/"}const ld=t=>t.join("/").replace(/\/\/+/g,"/"),JD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function E1(){return ee.exports.useContext(pk)!=null}function eP(){return E1()||Kl(!1),ee.exports.useContext(pk).location}function tP(){E1()||Kl(!1);let{basename:t,navigator:e}=ee.exports.useContext(XD),{matches:r}=ee.exports.useContext(mk),{pathname:n}=eP(),i=JSON.stringify(r.map(f=>f.pathnameBase)),o=ee.exports.useRef(!1);return ee.exports.useEffect(()=>{o.current=!0}),ee.exports.useCallback(function(f,d){if(d===void 0&&(d={}),!o.current)return;if(typeof f=="number"){e.go(f);return}let g=bW(f,JSON.parse(i),n);t!=="/"&&(g.pathname=ld([t,g.pathname])),(d.replace?e.replace:e.push)(g,d.state)},[t,e,i,n])}function kW(t,e){E1()||Kl(!1);let{matches:r}=ee.exports.useContext(mk),n=r[r.length-1],i=n?n.params:{};n&&n.pathname;let o=n?n.pathnameBase:"/";n&&n.route;let u=eP(),f;if(e){var d;let C=typeof e=="string"?om(e):e;o==="/"||((d=C.pathname)==null?void 0:d.startsWith(o))||Kl(!1),f=C}else f=u;let g=f.pathname||"/",S=o==="/"?g:g.slice(o.length)||"/",y=nW(t,{pathname:S});return _W(y&&y.map(C=>Object.assign({},C,{params:Object.assign({},i,C.params),pathname:ld([o,C.pathname]),pathnameBase:C.pathnameBase==="/"?o:ld([o,C.pathnameBase])})),r)}function _W(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((r,n,i)=>ee.exports.createElement(mk.Provider,{children:n.route.element!==void 0?n.route.element:r,value:{outlet:r,matches:e.concat(t.slice(0,i+1))}}),null)}function vk(t){let{to:e,replace:r,state:n}=t;E1()||Kl(!1);let i=tP();return ee.exports.useEffect(()=>{i(e,{replace:r,state:n})}),null}function rP(t){Kl(!1)}function SW(t){let{basename:e="/",children:r=null,location:n,navigationType:i=rd.Pop,navigator:o,static:u=!1}=t;E1()&&Kl(!1);let f=JD(e),d=ee.exports.useMemo(()=>({basename:f,navigator:o,static:u}),[f,o,u]);typeof n=="string"&&(n=om(n));let{pathname:g="/",search:S="",hash:y="",state:C=null,key:b="default"}=n,O=ee.exports.useMemo(()=>{let _=QD(g,f);return _==null?null:{pathname:_,search:S,hash:y,state:C,key:b}},[f,g,S,y,C,b]);return O==null?null:ee.exports.createElement(XD.Provider,{value:d},ee.exports.createElement(pk.Provider,{children:r,value:{location:O,navigationType:i}}))}function CW(t){let{children:e,location:r}=t;return kW(I8(e),r)}function I8(t){let e=[];return ee.exports.Children.forEach(t,r=>{if(!ee.exports.isValidElement(r))return;if(r.type===ee.exports.Fragment){e.push.apply(e,I8(r.props.children));return}r.type!==rP&&Kl(!1);let n={caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path};r.props.children&&(n.children=I8(r.props.children)),e.push(n)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function EW(t){let{basename:e,children:r,window:n}=t,i=ee.exports.useRef();i.current==null&&(i.current=eW({window:n}));let o=i.current,[u,f]=ee.exports.useState({action:o.action,location:o.location});return ee.exports.useLayoutEffect(()=>o.listen(f),[o]),ee.exports.createElement(SW,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:o})}var ex={exports:{}},tx={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TW=ee.exports,OW=Symbol.for("react.element"),AW=Symbol.for("react.fragment"),IW=Object.prototype.hasOwnProperty,MW=TW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DW={key:!0,ref:!0,__self:!0,__source:!0};function nP(t,e,r){var n,i={},o=null,u=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(u=e.ref);for(n in e)IW.call(e,n)&&!DW.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:OW,type:t,key:o,ref:u,props:i,_owner:MW.current}}tx.Fragment=AW;tx.jsx=nP;tx.jsxs=nP;ex.exports=tx;const Q=ex.exports.jsx,ut=ex.exports.jsxs,Qr=ex.exports.Fragment,iP={auth:{credential:null,token:"",user:null,username:null},setAuth:()=>{}},PW=ee.exports.createContext(iP),LW=({children:t})=>{const[e,r]=ee.exports.useState(iP.auth),n={auth:e,setAuth:r};return Q(PW.Provider,{value:n,children:t})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},NW=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],u=t[r++],f=t[r++],d=((i&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const o=t[r++],u=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},oP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],u=i+1<t.length,f=u?t[i+1]:0,d=i+2<t.length,g=d?t[i+2]:0,S=o>>2,y=(o&3)<<4|f>>4;let C=(f&15)<<2|g>>6,b=g&63;d||(b=64,u||(C=64)),n.push(r[S],r[y],r[C],r[b])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],f=i<t.length?r[t.charAt(i)]:0;++i;const g=i<t.length?r[t.charAt(i)]:64;++i;const y=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||f==null||g==null||y==null)throw Error();const C=o<<2|f>>4;if(n.push(C),g!==64){const b=f<<4&240|g>>2;if(n.push(b),y!==64){const O=g<<6&192|y;n.push(O)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},RW=function(t){const e=aP(t);return oP.encodeByteArray(e,!0)},sP=function(t){return RW(t).replace(/\./g,"")},jW=function(t){try{return oP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zW(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ga())}function BW(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UW(){const t=ga();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KW(){return typeof indexedDB=="object"}function WW(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W="FirebaseError";class sm extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=$W,Object.setPrototypeOf(this,sm.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T1.prototype.create)}}class T1{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?qW(o,n):"Error",f=`${this.serviceName}: ${u} (${i}).`;return new sm(i,f,n)}}function qW(t,e){return t.replace(VW,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const VW=/\{\$([^}]+)}/g;function GW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zb(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],u=e[i];if(ET(o)&&ET(u)){if(!Zb(o,u))return!1}else if(o!==u)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function ET(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function YW(t,e){const r=new XW(t,e);return r.subscribe.bind(r)}class XW{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");ZW(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=z6),i.error===void 0&&(i.error=z6),i.complete===void 0&&(i.complete=z6);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console!="undefined"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZW(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function z6(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t,e){return new Promise((r,n)=>{t.onsuccess=i=>{r(i.target.result)},t.onerror=i=>{var o;n(`${e}: ${(o=i.target.error)===null||o===void 0?void 0:o.message}`)}})}class TT{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,r="readonly"){return new lP(this._db.transaction.call(this._db,e,r))}createObjectStore(e,r){return new uP(this._db.createObjectStore(e,r))}close(){this._db.close()}}class lP{constructor(e){this._transaction=e,this.complete=new Promise((r,n)=>{this._transaction.oncomplete=function(){r()},this._transaction.onerror=()=>{n(this._transaction.error)},this._transaction.onabort=()=>{n(this._transaction.error)}})}objectStore(e){return new uP(this._transaction.objectStore(e))}}class uP{constructor(e){this._store=e}index(e){return new OT(this._store.index(e))}createIndex(e,r,n){return new OT(this._store.createIndex(e,r,n))}get(e){const r=this._store.get(e);return Jv(r,"Error reading from IndexedDB")}put(e,r){const n=this._store.put(e,r);return Jv(n,"Error writing to IndexedDB")}delete(e){const r=this._store.delete(e);return Jv(r,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return Jv(e,"Error clearing IndexedDB object store")}}class OT{constructor(e){this._index=e}get(e){const r=this._index.get(e);return Jv(r,"Error reading from IndexedDB")}}function QW(t,e,r){return new Promise((n,i)=>{try{const o=indexedDB.open(t,e);o.onsuccess=u=>{n(new TT(u.target.result))},o.onerror=u=>{var f;i(`Error opening indexedDB: ${(f=u.target.error)===null||f===void 0?void 0:f.message}`)},o.onupgradeneeded=u=>{r(new TT(o.result),u.oldVersion,u.newVersion,new lP(o.transaction))}}catch(o){i(`Error opening indexedDB: ${o.message}`)}})}class Up{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new FW;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t$(e))try{this.getOrInitializeService({instanceIdentifier:Yf})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Yf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yf){return this.instances.has(e)}getOptions(e=Yf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);n===f&&u.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(!!n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Yf){return this.component?this.component.multipleInstances?e:Yf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e$(t){return t===Yf?void 0:t}function t$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new JW(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Sn||(Sn={}));const n$={debug:Sn.DEBUG,verbose:Sn.VERBOSE,info:Sn.INFO,warn:Sn.WARN,error:Sn.ERROR,silent:Sn.SILENT},i$=Sn.INFO,a$={[Sn.DEBUG]:"log",[Sn.VERBOSE]:"log",[Sn.INFO]:"info",[Sn.WARN]:"warn",[Sn.ERROR]:"error"},o$=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=a$[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cP{constructor(e){this.name=e,this._logLevel=i$,this._logHandler=o$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Sn.DEBUG,...e),this._logHandler(this,Sn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Sn.VERBOSE,...e),this._logHandler(this,Sn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Sn.INFO,...e),this._logHandler(this,Sn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Sn.WARN,...e),this._logHandler(this,Sn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Sn.ERROR,...e),this._logHandler(this,Sn.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(l$(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function l$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M8="@firebase/app",AT="0.7.21";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new cP("@firebase/app"),u$="@firebase/app-compat",c$="@firebase/analytics-compat",f$="@firebase/analytics",d$="@firebase/app-check-compat",h$="@firebase/app-check",p$="@firebase/auth",m$="@firebase/auth-compat",v$="@firebase/database",g$="@firebase/database-compat",y$="@firebase/functions",b$="@firebase/functions-compat",w$="@firebase/installations",x$="@firebase/installations-compat",k$="@firebase/messaging",_$="@firebase/messaging-compat",S$="@firebase/performance",C$="@firebase/performance-compat",E$="@firebase/remote-config",T$="@firebase/remote-config-compat",O$="@firebase/storage",A$="@firebase/storage-compat",I$="@firebase/firestore",M$="@firebase/firestore-compat",D$="firebase",P$="9.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="[DEFAULT]",L$={[M8]:"fire-core",[u$]:"fire-core-compat",[f$]:"fire-analytics",[c$]:"fire-analytics-compat",[h$]:"fire-app-check",[d$]:"fire-app-check-compat",[p$]:"fire-auth",[m$]:"fire-auth-compat",[v$]:"fire-rtdb",[g$]:"fire-rtdb-compat",[y$]:"fire-fn",[b$]:"fire-fn-compat",[w$]:"fire-iid",[x$]:"fire-iid-compat",[k$]:"fire-fcm",[_$]:"fire-fcm-compat",[S$]:"fire-perf",[C$]:"fire-perf-compat",[E$]:"fire-rc",[T$]:"fire-rc-compat",[O$]:"fire-gcs",[A$]:"fire-gcs-compat",[I$]:"fire-fst",[M$]:"fire-fst-compat","fire-js":"fire-js",[D$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Map,D8=new Map;function N$(t,e){try{t.container.addComponent(e)}catch(r){gk.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Kg(t){const e=t.name;if(D8.has(e))return gk.debug(`There were multiple attempts to register component ${e}.`),!1;D8.set(e,t);for(const r of Qb.values())N$(r,t);return!0}function dP(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},gd=new T1("app","Firebase",R$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Up("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=P$;function F$(t,e={}){typeof e!="object"&&(e={name:e});const r=Object.assign({name:fP,automaticDataCollectionEnabled:!1},e),n=r.name;if(typeof n!="string"||!n)throw gd.create("bad-app-name",{appName:String(n)});const i=Qb.get(n);if(i){if(Zb(t,i.options)&&Zb(r,i.config))return i;throw gd.create("duplicate-app",{appName:n})}const o=new r$(n);for(const f of D8.values())o.addComponent(f);const u=new j$(t,r,o);return Qb.set(n,u),u}function z$(t=fP){const e=Qb.get(t);if(!e)throw gd.create("no-app",{appName:t});return e}function _p(t,e,r){var n;let i=(n=L$[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${i}" with version "${e}":`];o&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gk.warn(f.join(" "));return}Kg(new Up(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="firebase-heartbeat-database",H$=1,Wg="firebase-heartbeat-store";let B6=null;function hP(){return B6||(B6=QW(B$,H$,(t,e)=>{switch(e){case 0:t.createObjectStore(Wg)}}).catch(t=>{throw gd.create("storage-open",{originalErrorMessage:t.message})})),B6}async function U$(t){try{return(await hP()).transaction(Wg).objectStore(Wg).get(pP(t))}catch(e){throw gd.create("storage-get",{originalErrorMessage:e.message})}}async function IT(t,e){try{const n=(await hP()).transaction(Wg,"readwrite");return await n.objectStore(Wg).put(e,pP(t)),n.complete}catch(r){throw gd.create("storage-set",{originalErrorMessage:r.message})}}function pP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=1024,W$=30*24*60*60*1e3;class $${constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new V$(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=MT();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=W$}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=MT(),{heartbeatsToSend:r,unsentEntries:n}=q$(this._heartbeatsCache.heartbeats),i=sP(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function MT(){return new Date().toISOString().substring(0,10)}function q$(t,e=K$){const r=[];let n=t.slice();for(const i of t){const o=r.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),DT(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),DT(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class V${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KW()?WW().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await U$(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return IT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return IT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function DT(t){return sP(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t){Kg(new Up("platform-logger",e=>new s$(e),"PRIVATE")),Kg(new Up("heartbeat",e=>new $$(e),"PRIVATE")),_p(M8,AT,t),_p(M8,AT,"esm2017"),_p("fire-js","")}G$("");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function yk(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function mP(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y$=mP,vP=new T1("auth","Firebase",mP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new cP("@firebase/auth");function nb(t,...e){PT.logLevel<=Sn.ERROR&&PT.error(`Auth (${rx}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t,...e){throw bk(t,...e)}function Fl(t,...e){return bk(t,...e)}function gP(t,e,r){const n=Object.assign(Object.assign({},Y$()),{[e]:r});return new T1("auth","Firebase",n).create(e,{appName:t.name})}function X$(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Wl(t,"argument-error"),gP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bk(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return vP.create(t,...e)}function yr(t,e,...r){if(!t)throw bk(e,...r)}function zu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nb(e),new Error(e)}function Gu(t,e){t||zu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;function Bu(t){Gu(t instanceof Function,"Expected a class definition");let e=LT.get(t);return e?(Gu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LT.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t,e){const r=dP(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(Zb(o,e!=null?e:{}))return i;Wl(i,"already-initialized")}return r.initialize({options:e})}function Q$(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Bu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function J$(){return NT()==="http:"||NT()==="https:"}function NT(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J$()||BW()||"connection"in navigator)?navigator.onLine:!0}function tq(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,r){this.shortDelay=e,this.longDelay=r,Gu(r>e,"Short delay should be less than long delay!"),this.isMobile=zW()||HW()}get(){return eq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t,e){Gu(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;zu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;zu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;zu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=new A1(3e4,6e4);function iq(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function nx(t,e,r,n,i={}){return bP(t,i,async()=>{let o={},u={};n&&(e==="GET"?u=n:o={body:JSON.stringify(n)});const f=O1(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),yP.fetch()(wP(t,t.config.apiHost,r,f),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},o))})}async function bP(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},rq),e);try{const i=new oq(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw H6(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[d,g]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw H6(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw H6(t,"email-already-in-use",u);const S=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw gP(t,S,g);Wl(t,S)}}catch(i){if(i instanceof sm)throw i;Wl(t,"network-request-failed")}}async function aq(t,e,r,n,i={}){const o=await nx(t,e,r,n,i);return"mfaPendingCredential"in o&&Wl(t,"multi-factor-auth-required",{_serverResponse:o}),o}function wP(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?wk(t.config,i):`${t.config.apiScheme}://${i}`}class oq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Fl(this.auth,"network-request-failed")),nq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function H6(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Fl(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sq(t,e){return nx(t,"POST","/v1/accounts:delete",e)}async function lq(t,e){return nx(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uq(t,e=!1){const r=lm(t),n=await r.getIdToken(e),i=xk(n);yr(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:dg(U6(i.auth_time)),issuedAtTime:dg(U6(i.iat)),expirationTime:dg(U6(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function U6(t){return Number(t)*1e3}function xk(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return nb("JWT malformed, contained fewer than 3 sections"),null;try{const i=jW(r);return i?JSON.parse(i):(nb("Failed to decode base64 JWT payload"),null)}catch(i){return nb("Caught error parsing JWT payload as JSON",i),null}}function cq(t){const e=xk(t);return yr(e,"internal-error"),yr(typeof e.exp!="undefined","internal-error"),yr(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $g(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof sm&&fq(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function fq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=dg(this.lastLoginAt),this.creationTime=dg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(t){var e;const r=t.auth,n=await t.getIdToken(),i=await $g(t,lq(r,{idToken:n}));yr(i==null?void 0:i.users.length,r,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mq(o.providerUserInfo):[],f=pq(t.providerData,u),d=t.isAnonymous,g=!(t.email&&o.passwordHash)&&!(f!=null&&f.length),S=d?g:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new xP(o.createdAt,o.lastLoginAt),isAnonymous:S};Object.assign(t,y)}async function hq(t){const e=lm(t);await Jb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pq(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function mq(t){return t.map(e=>{var{providerId:r}=e,n=yk(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vq(t,e){const r=await bP(t,{},async()=>{const n=O1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,u=wP(t,i,"/v1/token",`key=${o}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",yP.fetch()(u,{method:"POST",headers:f,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yr(e.idToken,"internal-error"),yr(typeof e.idToken!="undefined","internal-error"),yr(typeof e.refreshToken!="undefined","internal-error");const r="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):cq(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}async getToken(e,r=!1){return yr(!this.accessToken||this.refreshToken,e,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await vq(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,u=new qg;return n&&(yr(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),i&&(yr(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(yr(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qg,this.toJSON())}_performRefresh(){return zu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t,e){yr(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class ud{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,o=yk(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xP(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await $g(this,this.stsTokenManager.getToken(this.auth,e));return yr(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return uq(this,e)}reload(){return hq(this)}_assign(e){this!==e&&(yr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ud(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){yr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Jb(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await $g(this,sq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,o,u,f,d,g,S;const y=(n=r.displayName)!==null&&n!==void 0?n:void 0,C=(i=r.email)!==null&&i!==void 0?i:void 0,b=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,O=(u=r.photoURL)!==null&&u!==void 0?u:void 0,_=(f=r.tenantId)!==null&&f!==void 0?f:void 0,N=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,P=(g=r.createdAt)!==null&&g!==void 0?g:void 0,M=(S=r.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:R,emailVerified:D,isAnonymous:G,providerData:V,stsTokenManager:J}=r;yr(R&&J,e,"internal-error");const te=qg.fromJSON(this.name,J);yr(typeof R=="string",e,"internal-error"),Vc(y,e.name),Vc(C,e.name),yr(typeof D=="boolean",e,"internal-error"),yr(typeof G=="boolean",e,"internal-error"),Vc(b,e.name),Vc(O,e.name),Vc(_,e.name),Vc(N,e.name),Vc(P,e.name),Vc(M,e.name);const W=new ud({uid:R,auth:e,email:C,emailVerified:D,displayName:y,isAnonymous:G,photoURL:O,phoneNumber:b,tenantId:_,stsTokenManager:te,createdAt:P,lastLoginAt:M});return V&&Array.isArray(V)&&(W.providerData=V.map(ce=>Object.assign({},ce))),N&&(W._redirectEventId=N),W}static async _fromIdTokenResponse(e,r,n=!1){const i=new qg;i.updateFromServerResponse(r);const o=new ud({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Jb(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}kP.type="NONE";const RT=kP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t,e,r){return`firebase:${t}:${e}:${r}`}class Sp{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=ib(this.userKey,i.apiKey,o),this.fullPersistenceKey=ib("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ud._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Sp(Bu(RT),e,n);const i=(await Promise.all(r.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=i[0]||Bu(RT);const u=ib(n,e.config.apiKey,e.name);let f=null;for(const g of r)try{const S=await g._get(u);if(S){const y=ud._fromJSON(e,S);g!==o&&(f=y),o=g;break}}catch{}const d=i.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Sp(o,e,n):(o=d[0],f&&await o._set(u,f.toJSON()),await Promise.all(r.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new Sp(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_P(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TP(e))return"Blackberry";if(OP(e))return"Webos";if(kk(e))return"Safari";if((e.includes("chrome/")||SP(e))&&!e.includes("edge/"))return"Chrome";if(EP(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function _P(t=ga()){return/firefox\//i.test(t)}function kk(t=ga()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SP(t=ga()){return/crios\//i.test(t)}function CP(t=ga()){return/iemobile/i.test(t)}function EP(t=ga()){return/android/i.test(t)}function TP(t=ga()){return/blackberry/i.test(t)}function OP(t=ga()){return/webos/i.test(t)}function ix(t=ga()){return/iphone|ipad|ipod/i.test(t)}function gq(t=ga()){var e;return ix(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yq(){return UW()&&document.documentMode===10}function AP(t=ga()){return ix(t)||EP(t)||OP(t)||TP(t)||/windows phone/i.test(t)||CP(t)}function bq(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t,e=[]){let r;switch(t){case"Browser":r=jT(ga());break;case"Worker":r=`${jT(ga())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${rx}/${n}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,r,n){this.app=e,this.heartbeatServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FT(this),this.idTokenSubscription=new FT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Bu(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Sp.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e)}}async initializeCurrentUser(e){var r;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=n==null?void 0:n._redirectEventId,u=await this.tryRedirectSignIn(e);(!i||i===o)&&(u==null?void 0:u.user)&&(n=u.user)}return n?n._redirectEventId?(yr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Jb(e)}catch(r){if(r.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const r=e?lm(e):null;return r&&yr(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&yr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Bu(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new T1("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Bu(e)||this._popupRedirectResolver;yr(r,this,"argument-error"),this.redirectPersistenceManager=await Sp.create(this,[Bu(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r),u=this._isInitialized?Promise.resolve():this._initializationPromise;return yr(u,this,"internal-error"),u.then(()=>o(this.currentUser)),typeof r=="function"?e.addObserver(r,n,i):e.addObserver(r)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return n&&(r["X-Firebase-Client"]=n),r}}function _k(t){return lm(t)}class FT{constructor(e){this.auth=e,this.observer=null,this.addObserver=YW(r=>this.observer=r)}get next(){return yr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return zu("not implemented")}_getIdTokenResponse(e){return zu("not implemented")}_linkToIdToken(e,r){return zu("not implemented")}_getReauthenticationResolver(e){return zu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cp(t,e){return aq(t,"POST","/v1/accounts:signInWithIdp",iq(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq="http://localhost";class yd extends MP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new yd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Wl("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,o=yk(r,["providerId","signInMethod"]);if(!n||!i)return null;const u=new yd(n,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const r=this.buildRequest();return Cp(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Cp(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Cp(e,r)}buildRequest(){const e={requestUri:xq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=O1(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends Sk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0 extends I1{constructor(){super("facebook.com")}static credential(e){return yd._fromParams({providerId:r0.PROVIDER_ID,signInMethod:r0.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return r0.credentialFromTaggedObject(e)}static credentialFromError(e){return r0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return r0.credential(e.oauthAccessToken)}catch{return null}}}r0.FACEBOOK_SIGN_IN_METHOD="facebook.com";r0.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends I1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return yd._fromParams({providerId:n0.PROVIDER_ID,signInMethod:n0.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return n0.credentialFromTaggedObject(e)}static credentialFromError(e){return n0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return n0.credential(r,n)}catch{return null}}}n0.GOOGLE_SIGN_IN_METHOD="google.com";n0.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends I1{constructor(){super("github.com")}static credential(e){return yd._fromParams({providerId:Al.PROVIDER_ID,signInMethod:Al.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Al.credentialFromTaggedObject(e)}static credentialFromError(e){return Al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Al.credential(e.oauthAccessToken)}catch{return null}}}Al.GITHUB_SIGN_IN_METHOD="github.com";Al.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends I1{constructor(){super("twitter.com")}static credential(e,r){return yd._fromParams({providerId:i0.PROVIDER_ID,signInMethod:i0.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return i0.credentialFromTaggedObject(e)}static credentialFromError(e){return i0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return i0.credential(r,n)}catch{return null}}}i0.TWITTER_SIGN_IN_METHOD="twitter.com";i0.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await ud._fromIdTokenResponse(e,n,i),u=zT(n);return new Kp({user:o,providerId:u,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=zT(n);return new Kp({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function zT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends sm{constructor(e,r,n,i){var o;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,ew.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new ew(e,r,n,i)}}function DP(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ew._fromErrorAndOperation(t,o,e,n):o})}async function kq(t,e,r=!1){const n=await $g(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Kp._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _q(t,e,r=!1){const{auth:n}=t,i="reauthenticate";try{const o=await $g(t,DP(n,i,e,t),r);yr(o.idToken,n,"internal-error");const u=xk(o.idToken);yr(u,n,"internal-error");const{sub:f}=u;return yr(t.uid===f,n,"user-mismatch"),Kp._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Wl(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sq(t,e,r=!1){const n="signIn",i=await DP(t,n,e),o=await Kp._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}function Cq(t,e,r,n){return lm(t).onAuthStateChanged(e,r,n)}function Eq(t){return lm(t).signOut()}const tw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(tw,"1"),this.storage.removeItem(tw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(){const t=ga();return kk(t)||ix(t)}const Oq=1e3,Aq=10;class LP extends PP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Tq()&&bq(),this.fallbackToPolling=AP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const n=e.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(n);if(e.newValue!==u)e.newValue!==null?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!r)return}const i=()=>{const u=this.storage.getItem(n);!r&&this.localCache[n]===u||this.notifyListeners(n,u)},o=this.storage.getItem(n);yq()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Aq):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Oq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}LP.type="LOCAL";const Iq=LP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP extends PP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}NP.type="SESSION";const RP=NP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t){return Promise.all(t.map(async e=>{try{const r=await e;return{fulfilled:!0,value:r}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new ax(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const f=Array.from(u).map(async g=>g(r.origin,o)),d=await Mq(f);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ax.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((f,d)=>{const g=Ck("",20);i.port1.start();const S=setTimeout(()=>{d(new Error("unsupported_event"))},n);u={messageChannel:i,onMessage(y){const C=y;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(S),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(C.data.response);break;default:clearTimeout(S),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:r},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(){return window}function Pq(t){zl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(){return typeof zl().WorkerGlobalScope!="undefined"&&typeof zl().importScripts=="function"}async function Lq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Rq(){return jP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="firebaseLocalStorageDb",jq=1,rw="firebaseLocalStorage",zP="fbase_key";class M1{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ox(t,e){return t.transaction([rw],e?"readwrite":"readonly").objectStore(rw)}function Fq(){const t=indexedDB.deleteDatabase(FP);return new M1(t).toPromise()}function L8(){const t=indexedDB.open(FP,jq);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(rw,{keyPath:zP})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(rw)?e(n):(n.close(),await Fq(),e(await L8()))})})}async function BT(t,e,r){const n=ox(t,!0).put({[zP]:e,value:r});return new M1(n).toPromise()}async function zq(t,e){const r=ox(t,!1).get(e),n=await new M1(r).toPromise();return n===void 0?null:n.value}function HT(t,e){const r=ox(t,!0).delete(e);return new M1(r).toPromise()}const Bq=800,Hq=3;class BP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await L8(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Hq)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ax._getInstance(Rq()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Lq(),!this.activeServiceWorker)return;this.sender=new Dq(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);!n||((e=n[0])===null||e===void 0?void 0:e.fulfilled)&&((r=n[0])===null||r===void 0?void 0:r.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Nq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await L8();return await BT(e,tw,"1"),await HT(e,tw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>BT(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>zq(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>HT(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ox(i,!1).getAll();return new M1(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BP.type="LOCAL";const Uq=BP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Wq(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=Fl("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",Kq().appendChild(n)})}function $q(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new A1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t,e){return e?Bu(e):(yr(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek extends MP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cp(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Cp(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Cp(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function qq(t){return Sq(t.auth,new Ek(t),t.bypassAuthState)}function Vq(t){const{auth:e,user:r}=t;return yr(r,e,"internal-error"),_q(r,new Ek(t),t.bypassAuthState)}async function Gq(t){const{auth:e,user:r}=t;return yr(r,e,"internal-error"),kq(r,new Ek(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qq;case"linkViaPopup":case"linkViaRedirect":return Gq;case"reauthViaPopup":case"reauthViaRedirect":return Vq;default:Wl(this.auth,"internal-error")}}resolve(e){Gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=new A1(2e3,1e4);async function Xq(t,e,r){const n=_k(t);X$(t,e,Sk);const i=HP(n,r);return new nd(n,"signInViaPopup",e,i).executeNotNull()}class nd extends UP{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,nd.currentPopupAction&&nd.currentPopupAction.cancel(),nd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yr(e,this.auth,"internal-error"),e}async onExecution(){Gu(this.filter.length===1,"Popup operations only handle one event");const e=Ck();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Fl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fl(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,Yq.get())};e()}}nd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq="pendingRedirect",K6=new Map;class Qq extends UP{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=K6.get(this.auth._key());if(!e){try{const n=await Jq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}K6.set(this.auth._key(),e)}return this.bypassAuthState||K6.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jq(t,e){const r=tV(e),n=eV(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function eV(t){return Bu(t._redirectPersistence)}function tV(t){return ib(Zq,t.config.apiKey,t.name)}async function rV(t,e,r=!1){const n=_k(t),i=HP(n,e),u=await new Qq(n,i,r).execute();return u&&!r&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=10*60*1e3;class iV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aV(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!KP(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Fl(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nV&&this.cachedEventUids.clear(),this.cachedEventUids.has(UT(e))}saveEventToCache(e){this.cachedEventUids.add(UT(e)),this.lastProcessedEventTime=Date.now()}}function UT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(t,e={}){return nx(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lV=/^https?/;async function uV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oV(t);for(const r of e)try{if(cV(r))return}catch{}Wl(t,"unauthorized-domain")}function cV(t){const e=P8(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&u.hostname===n}if(!lV.test(r))return!1;if(sV.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=new A1(3e4,6e4);function KT(){const t=zl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function dV(t){return new Promise((e,r)=>{var n,i,o;function u(){KT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KT(),r(Fl(t,"network-request-failed"))},timeout:fV.get()})}if(!((i=(n=zl().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=zl().gapi)===null||o===void 0)&&o.load)u();else{const f=$q("iframefcb");return zl()[f]=()=>{gapi.load?u():r(Fl(t,"network-request-failed"))},Wq(`https://apis.google.com/js/api.js?onload=${f}`).catch(d=>r(d))}}).catch(e=>{throw ab=null,e})}let ab=null;function hV(t){return ab=ab||dV(t),ab}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=new A1(5e3,15e3),mV="__/auth/iframe",vV="emulator/auth/iframe",gV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bV(t){const e=t.config;yr(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?wk(e,vV):`https://${t.config.authDomain}/${mV}`,n={apiKey:e.apiKey,appName:t.name,v:rx},i=yV.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${O1(n).slice(1)}`}async function wV(t){const e=await hV(t),r=zl().gapi;return yr(r,t,"internal-error"),e.open({where:document.body,url:bV(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gV,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const u=Fl(t,"network-request-failed"),f=zl().setTimeout(()=>{o(u)},pV.get());function d(){zl().clearTimeout(f),i(n)}n.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kV=500,_V=600,SV="_blank",CV="http://localhost";class WT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EV(t,e,r,n=kV,i=_V){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let f="";const d=Object.assign(Object.assign({},xV),{width:n.toString(),height:i.toString(),top:o,left:u}),g=ga().toLowerCase();r&&(f=SP(g)?SV:r),_P(g)&&(e=e||CV,d.scrollbars="yes");const S=Object.entries(d).reduce((C,[b,O])=>`${C}${b}=${O},`,"");if(gq(g)&&f!=="_self")return TV(e||"",f),new WT(null);const y=window.open(e||"",f,S);yr(y,t,"popup-blocked");try{y.focus()}catch{}return new WT(y)}function TV(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="__/auth/handler",AV="emulator/auth/handler";function $T(t,e,r,n,i,o){yr(t.config.authDomain,t,"auth-domain-config-required"),yr(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:rx,eventId:i};if(e instanceof Sk){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",GW(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries(o||{}))u[d]=g}if(e instanceof I1){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(u.scopes=d.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const d of Object.keys(f))f[d]===void 0&&delete f[d];return`${IV(t)}?${O1(f).slice(1)}`}function IV({config:t}){return t.emulator?wk(t,AV):`https://${t.authDomain}/${OV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6="webStorageSupport";class MV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RP,this._completeRedirectFn=rV}async _openPopup(e,r,n,i){var o;Gu((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=$T(e,r,n,P8(),i);return EV(e,u,Ck())}async _openRedirect(e,r,n,i){return await this._originValidation(e),Pq($T(e,r,n,P8(),i)),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(Gu(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await wV(e),n=new iV(e);return r.register("authEvent",i=>(yr(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(W6,{type:W6},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[W6];u!==void 0&&r(!!u),Wl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=uV(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return AP()||kk()||ix()}}const DV=MV;var qT="@firebase/auth",VT="0.19.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{var i;e(((i=n)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);!r||(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){yr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function NV(t){Kg(new Up("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:u}=n.options;return((f,d)=>{yr(o&&!o.includes(":"),"invalid-api-key",{appName:f.name}),yr(!(u!=null&&u.includes(":")),"argument-error",{appName:f.name});const g={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IP(t)},S=new wq(f,d,g);return Q$(S,r),S})(n,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Kg(new Up("auth-internal",e=>{const r=_k(e.getProvider("auth").getImmediate());return(n=>new PV(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),_p(qT,VT,LV(t)),_p(qT,VT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t=z$()){const e=dP(t,"auth");return e.isInitialized()?e.getImmediate():Z$(t,{popupRedirectResolver:DV,persistence:[Uq,Iq,RP]})}NV("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function RV(t,e,r,n){function i(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function f(S){try{g(n.next(S))}catch(y){u(y)}}function d(S){try{g(n.throw(S))}catch(y){u(y)}}function g(S){S.done?o(S.value):i(S.value).then(f,d)}g((n=n.apply(t,e||[])).next())})}function jV(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(g){return function(S){return d([g,S])}}function d(g){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=g[0]&2?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){r.label=g[1];break}if(g[0]===6&&r.label<o[1]){r.label=o[1],o=g;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(g);break}o[2]&&r.ops.pop(),r.trys.pop();continue}g=e.call(t,r)}catch(S){g=[6,S],i=0}finally{n=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mp=function(){return mp=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},mp.apply(this,arguments)},WP=function(t){return{loading:t==null,value:t}},FV=function(){return function(t,e){switch(e.type){case"error":return mp(mp({},t),{error:e.error,loading:!1,value:void 0});case"reset":return WP(e.defaultValue);case"value":return mp(mp({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},zV=function(t){var e=t?t():void 0,r=ee.exports.useReducer(FV(),WP(e)),n=r[0],i=r[1],o=function(){var d=t?t():void 0;i({type:"reset",defaultValue:d})},u=function(d){i({type:"error",error:d})},f=function(d){i({type:"value",value:d})};return ee.exports.useMemo(function(){return{error:n.error,loading:n.loading,reset:o,setError:u,setValue:f,value:n.value}},[n.error,n.loading,o,u,f,n.value])},Tk=function(t,e){var r=zV(function(){return t.currentUser}),n=r.error,i=r.loading,o=r.setError,u=r.setValue,f=r.value;ee.exports.useEffect(function(){var g=Cq(t,function(S){return RV(void 0,void 0,void 0,function(){var y;return jV(this,function(C){switch(C.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];C.label=1;case 1:return C.trys.push([1,3,,4]),[4,e.onUserChanged(S)];case 2:return C.sent(),[3,4];case 3:return y=C.sent(),o(y),[3,4];case 4:return u(S),[2]}})})},o);return function(){g()}},[t]);var d=[f,i,n];return ee.exports.useMemo(function(){return d},d)};function GT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(r),!0).forEach(function(n){hg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vg(t){return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function YT(t,e,r,n,i,o,u){try{var f=t[o](u),d=f.value}catch(g){r(g);return}f.done?e(d):Promise.resolve(d).then(n,i)}function Ok(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function u(d){YT(o,n,i,u,f,"next",d)}function f(d){YT(o,n,i,u,f,"throw",d)}u(void 0)})}}function ir(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ar(t,e,r){return e&&XT(t.prototype,e),r&&XT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N8(t,e)}function Fn(t){return Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Fn(t)}function N8(t,e){return N8=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},N8(t,e)}function BV(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $P(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HV(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $P(t)}function zr(t){var e=BV();return function(){var n=Fn(t),i;if(e){var o=Fn(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return HV(this,i)}}function UV(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Fn(t),t!==null););return t}function ti(){return typeof Reflect!="undefined"&&Reflect.get?ti=Reflect.get:ti=function(e,r,n){var i=UV(e,r);if(!!i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ti.apply(this,arguments)}function Se(t,e){return WV(t)||qV(t,e)||Ak(t,e)||GV()}function Rt(t){return KV(t)||$V(t)||Ak(t)||VV()}function KV(t){if(Array.isArray(t))return R8(t)}function WV(t){if(Array.isArray(t))return t}function $V(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qV(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,u,f;try{for(r=r.call(t);!(i=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));i=!0);}catch(d){o=!0,f=d}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw f}}return n}}function Ak(t,e){if(!!t){if(typeof t=="string")return R8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R8(t,e)}}function R8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qi(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ak(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,u=!1,f;return{s:function(){r=r.call(t)},n:function(){var d=r.next();return o=d.done,d},e:function(d){u=!0,f=d},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw f}}}}var nw=ee.exports.createContext(null);function qP(t,e){var r=null;t!=null&&(r=t[1]);function n(){return e!=null?e:r!=null?r.getTheme():null}return{getTheme:n}}function lr(){var t=ee.exports.useContext(nw);if(t==null)throw Error("LexicalComposerContext.useLexicalComposerContext: cannot find a LexicalComposerContext");return t}var Xs=function(){return window.getSelection()},YV=1,Wp=3,bd=0,VP=1,$p=2,XV=0,GP=1,YP=2,XP=3,ZP=1,QP=1<<1,j8=1<<2,F8=1<<3,JP=1<<4,ZV=1<<5,QV=1<<6,ZT=1,QT=1<<1,eL=1,tL=2,rL=3,nL=4,Ik="\u200B",iL="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",aL="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",JV=new RegExp("^[^"+aL+"]*["+iL+"]"),eG=new RegExp("^[^"+iL+"]*["+aL+"]"),qp={bold:ZP,code:JP,italic:QP,strikethrough:j8,subscript:ZV,superscript:QV,underline:F8},JT={center:tL,justify:nL,left:eL,right:rL},tG={inert:XP,normal:XV,segmented:YP,token:GP},P0=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",rG=P0&&"documentMode"in document?document.documentMode:null,Xl=P0&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),z8=P0&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),nG=P0&&"InputEvent"in window&&!rG?"getTargetRanges"in new window.InputEvent("input"):!1,iG=P0&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),aG=P0&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,oG=0;function oL(){return""+oG++}function sG(t,e){var r=t._nodes.get(e);if(r===void 0)throw Error("registeredNode: Type ".concat(e," not found"));return r}var lG=typeof queueMicrotask=="function"?queueMicrotask:function(t){Promise.resolve().then(t)};function uG(t){var e=document.activeElement,r=e!==null?e.nodeName:null;return!pi(vs(t))||r!=="INPUT"&&r!=="TEXTAREA"}function sL(t,e,r){var n=t.getRootElement();try{return n!==null&&n.contains(e)&&n.contains(r)&&e!==null&&uG(e)&&lL(e)===t}catch{return!1}}function lL(t){for(var e=t;e!=null;){var r=e.__lexicalEditor;if(r!=null&&!r.isReadOnly())return r;e=e.parentNode}return null}function cG(t){return JV.test(t)?"rtl":eG.test(t)?"ltr":null}function Lu(t){return t.isToken()||t.isInert()}function iw(t){for(var e=t;e!=null;){if(e.nodeType===Wp)return e;e=e.firstChild}return null}function uL(t,e,r){var n=qp[e],i=t&n;return i&&(r===null||(r&n)===0)?t^n:r===null||r&n?t|n:t}function D1(t){return Ue(t)||Pi(t)||pi(t)}function fG(t,e){if(e!=null){t.__key=e;return}sn(),AL();var r=zi(),n=Zl(),i=oL();n._nodeMap.set(i,t),Je(t)?r._dirtyElements.set(i,!0):r._dirtyLeaves.add(i),r._cloneNotNeeded.add(i),r._dirtyType=VP,t.__key=i}function dG(t,e,r){for(var n=t;n!==null;){if(r.has(n))return;var i=e.get(n);if(i===void 0)break;r.set(n,!1),n=i.__parent}}function ob(t){var e=t.getParent();if(e!==null){var r=e.getWritable(),n=r.__children,i=n.indexOf(t.__key);if(i===-1)throw Error("Node is not a child of its parent");Ep(t),n.splice(i,1)}}function Vp(t){AL();var e=t.getLatest(),r=e.__parent,n=Zl(),i=zi(),o=n._nodeMap,u=i._dirtyElements;r!==null&&dG(r,o,u);var f=e.__key;i._dirtyType=VP,Je(t)?u.set(f,!0):i._dirtyLeaves.add(f)}function Ep(t){var e=t.getPreviousSibling(),r=t.getNextSibling();e!==null&&Vp(e),r!==null&&Vp(r)}function Ia(t){sn();var e=zi(),r=e._compositionKey;if(e._compositionKey=t,r!==null){var n=Gt(r);n!==null&&n.getWritable()}if(t!==null){var i=Gt(t);i!==null&&i.getWritable()}}function y0(){var t=zi();return t._compositionKey}function Gt(t,e){var r=e||Zl(),n=r._nodeMap.get(t);return n===void 0?null:n}function cL(t,e){var r=zi(),n=t["__lexicalKey_"+r._key];return n!==void 0?Gt(n,e):null}function vs(t,e){for(var r=t;r!=null;){var n=cL(r,e);if(n!==null)return n;r=r.parentNode}return null}function fL(t){var e=t._decorators,r=Object.assign({},e);return t._pendingDecorators=r,r}function eO(t){return t.read(function(e){return Tn().getTextContent()})}function hG(t,e){gs(t,function(){var r=Zl();if(!r.isEmpty()){if(e==="root"){Tn().markDirty();return}var n=r._nodeMap,i=Qi(n),o;try{for(i.s();!(o=i.n()).done;){var u=Se(o.value,2),f=u[1];f.markDirty()}}catch(d){i.e(d)}finally{i.f()}}},t._pendingEditorState===null?{tag:"history-merge"}:void 0)}function Tn(){return dL(Zl())}function dL(t){return t._nodeMap.get("root")}function Mi(t){var e=Zl();t!==null&&Object.isFrozen(t)&&console.warn("$setSelection called on frozen selection object. Ensure selection is cloned before passing in."),e._selection=t}function pG(){sn();var t=zi();LL(t)}function C4(t){var e=zi(),r=mG(t,e);if(r===null){var n=e.getRootElement();return t===n?Gt("root"):null}return Gt(r)}function tO(t,e){return e?t.getTextContentSize():0}function mG(t,e){for(var r=t;r!=null;){var n=r["__lexicalKey_"+e._key];if(n!==void 0)return n;r=r.parentNode}return null}function vG(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function Mk(t){for(var e=[],r=t;r!==null;)e.push(r),r=r._parentEditor;return e}function gG(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function hL(t,e){var r=Xs();if(r!==null){var n=r.anchorNode,i=r.anchorOffset,o=r.focusOffset;if(n!==null&&n.nodeType===Wp){var u=vs(n);if(Ue(u)){var f=n.nodeValue,d=e!==null&&e.data;if(f===Ik&&d){var g=d.length;f=d,i=g,o=g}Dk(u,f,i,o,e!==null)}}}}function Dk(t,e,r,n,i){var o=t;if(o.isAttached()&&(i||!o.isDirty())){var u=o.isComposing(),f=e;(u||i)&&e[e.length-1]===Ik&&(f=e.slice(0,-1));var d=o.getTextContent();if(i||f!==d){if(f===""){if(Ia(null),!iG&&!aG){var g=zi();setTimeout(function(){g.update(function(){o.remove()})},20)}else o.remove();return}var S=o.getParent(),y=FL();if(Lu(o)||y0()!==null&&!u||S!==null&&Pe(y)&&!S.canInsertTextBefore()&&y.anchor.offset===0){o.markDirty();return}var C=Ie();if(!Pe(C)||r===null||n===null){o.setTextContent(f);return}if(C.setTextNodeRange(o,r,o,n),o.isSegmented()){var b=o.getTextContent(),O=gr(b);o.replace(O),o=O}o.setTextContent(f)}}}function yG(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;var r=t.anchor.offset,n=e.getParentOrThrow(),i=e.isToken(),o=r===0&&(!e.canInsertTextBefore()||!n.canInsertTextBefore()||i),u=e.getTextContentSize()===r&&(!e.canInsertTextBefore()||!n.canInsertTextBefore()||i);return o||u}function pL(t,e,r){var n=t.anchor,i=t.focus,o=n.getNode(),u=Xs(),f=u!==null?u.anchorNode:null,d=n.key,g=zi().getElementByKey(d);return d!==i.key||!Ue(o)||n.offset!==i.offset&&!o.isComposing()||(r||o.isDirty())&&e.length>1||g!==null&&!o.isComposing()&&f!==iw(g)||o.getFormat()!==t.format||yG(t,o)}function bG(t,e,r,n){return t===9&&!e&&!r&&!n}function wG(t,e,r,n){return t===66&&!e&&lx(r,n)}function xG(t,e,r,n){return t===73&&!e&&lx(r,n)}function kG(t,e,r,n){return t===85&&!e&&lx(r,n)}function _G(t,e){return mL(t)&&!e}function SG(t,e){return mL(t)&&e}function CG(t,e){return Xl&&e&&t===79}function EG(t,e,r){return Gg(t)&&(Xl?e:r)}function TG(t,e,r){return Yg(t)&&(Xl?e:r)}function OG(t,e){return Xl&&e&&Gg(t)}function AG(t,e){return Xl&&e&&Yg(t)}function IG(t,e,r,n){return Xl?e||r?!1:Gg(t)||t===72&&n:n||e||r?!1:Gg(t)}function MG(t,e,r,n,i){return Xl?r||n||i?!1:Yg(t)||t===68&&e:e||n||i?!1:Yg(t)}function DG(t,e,r,n){return t===90&&!e&&lx(r,n)}function PG(t,e,r,n){return Xl?t===90&&r&&e:t===89&&n||t===90&&n&&e}function LG(t){return t===37}function NG(t){return t===39}function RG(t){return t===38}function jG(t){return t===40}function FG(t,e,r,n,i){return LG(t)&&!e&&!i&&!n}function zG(t,e,r,n,i){return NG(t)&&!e&&!i&&!n}function BG(t,e,r,n,i){return RG(t)&&!e&&!i}function HG(t,e,r,n,i){return jG(t)&&!e&&!i}function lx(t,e){return Xl?t:e}function mL(t){return t===13}function Gg(t){return t===8}function UG(t){return t===27}function Yg(t){return t===46}function sb(t,e){var r=t[e];if(typeof r=="string"){var n=r.split(" ");return t[e]=n,n}return r}function Pk(t,e,r,n,i){if(r.size!==0){var o=n.__type,u=n.__key,f=e.get(o);if(f===void 0)throw Error("Type ".concat(o," not in registeredNodes"));var d=f.klass,g=t.get(d);g===void 0&&(g=new Map,t.set(d,g)),g.has(u)||g.set(u,i)}}function rO(t,e,r){var n=t.getParent(),i=r,o=t;return n!==null&&(e&&r===0?(i=o.getIndexWithinParent(),o=n):!e&&r===o.getChildrenSize()&&(i=o.getIndexWithinParent()+1,o=n)),o.getChildAtIndex(e?i-1:i)}function vL(t,e){var r=t.offset;if(t.type==="element"){var n=t.getNode();return rO(n,e,r)}else{var i=t.getNode();if(e&&r===0||!e&&r===i.getTextContentSize()){var o=e?i.getPreviousSibling():i.getNextSibling();return o===null?rO(i.getParentOrThrow(),e,i.getIndexWithinParent()+(e?0:1)):o}}return null}function gL(){var t=window.event,e=t&&t.inputType;return e==="insertFromPaste"||e==="insertFromPasteAsQuotation"}function Bt(t,e,r){return ML(t,e,r)}function KG(t,e){var r=t._decorators,n=t._pendingDecorators,i=n||r,o=e._nodeMap,u;for(u in i)o.has(u)||(i===r&&(i=fL(t)),delete i[u])}function yL(t,e,r,n,i){for(var o=t.__children,u=o.length,f=0;f<u;f++){var d=o[f],g=n.get(d);g!==void 0&&g.__parent===e&&(Je(g)&&yL(g,d,r,n,i),r.has(d)||i.delete(d),n.delete(d))}}function WG(t,e,r,n){var i=t._nodeMap,o=e._nodeMap,u=Qi(r),f;try{for(u.s();!(f=u.n()).done;){var d=f.value,g=o.get(d);g!==void 0&&!g.isAttached()&&(i.has(d)||r.delete(d),o.delete(d))}}catch(_){u.e(_)}finally{u.f()}var S=Qi(n),y;try{for(S.s();!(y=S.n()).done;){var C=Se(y.value,1),b=C[0],O=o.get(b);O!==void 0&&(O.isAttached()||(Je(O)&&yL(O,b,i,o,n),i.has(b)||n.delete(b),o.delete(b)))}}catch(_){S.e(_)}finally{S.f()}}function nO(t,e){var r=t.__mode,n=t.__format,i=t.__style,o=e.__mode,u=e.__format,f=e.__style;return(r===null||r===o)&&(n===null||n===u)&&(i===null||i===f)}function iO(t,e){var r=t.mergeWithSibling(e),n=zi()._normalizedNodes;return n.add(t.__key),n.add(e.__key),r}function bL(t){var e=t;if(e.__text===""&&e.isSimpleText()&&!e.isUnmergeable()){e.remove();return}for(var r;(r=e.getPreviousSibling())!==null&&Ue(r)&&r.isSimpleText()&&!r.isUnmergeable();)if(r.__text==="")r.remove();else if(nO(r,e)){e=iO(r,e);break}else break;for(var n;(n=e.getNextSibling())!==null&&Ue(n)&&n.isSimpleText()&&!n.isUnmergeable();)if(n.__text==="")n.remove();else if(nO(e,n)){e=iO(e,n);break}else break}function $G(t,e){sn();var r=zi();return Lk(t,e,r,null)}function Lk(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{originalSelection:null},o=t.__type,u=r._nodes.get(o);if(u===void 0)throw Error('createNodeFromParse: type "'.concat(o,'" + not found'));for(var f in t){var d=t[f];if(d!=null&&Vg(d)==="object"){var g=d.editorState;if(g!=null){var S=L1();S._nodes=r._nodes,S._parentEditor=r._parentEditor,S._pendingEditorState=IL(g,S),t[f]=S}}}var y=u.klass,C=t.__key;t.__key=void 0;var b=y.clone(t);t.__key=C;var O=b.__key;if(pn(b)){var _=Zl();_._nodeMap.set("root",b)}if(b.__parent=n,Je(b)){for(var N=t.__children,P=0;P<N.length;P++){var M=N[P],R=e.get(M);if(R!==void 0){var D=Lk(R,e,r,O,i),G=D.__key;b.__children.push(G)}}b.__indent=t.__indent,b.__format=t.__format,b.__dir=t.__dir}else Ue(b)&&(b.__format=t.__format,b.__style=t.__style,b.__mode=t.__mode,b.__detail=t.__detail);var V=i!=null?i.originalSelection:void 0;if(V!=null){var J=i.remappedSelection;if(V.type==="range"){var te=V.anchor,W=V.focus;J==null&&(C===te.key||C===W.key)&&(i.remappedSelection=J={anchor:xt({},te),focus:xt({},W),type:"range"}),J!=null&&J.type==="range"&&(C===te.key&&(J.anchor.key=O),C===W.key&&(J.focus.key=O))}else if(V.type==="node"){var ce=V.nodes,ie=ce.indexOf(C);ie!==-1&&(J==null&&(i.remappedSelection=J={nodes:Rt(ce),type:"node"}),J.type==="node"&&J.nodes.splice(ie,1,O))}else if(V.type==="grid"){var le=V.gridKey,pe=V.anchorCellKey,he=V.focusCellKey;J==null&&(le===C||le===pe||le===he)&&(i.remappedSelection=J=xt(xt({},V),{},{type:"grid"})),J!=null&&J.type==="grid"&&(le===C&&(J.gridKey=O),pe===C&&(J.anchorCellKey=O),he===C&&(J.focusCellKey=O))}}return b}var Xf=Object.freeze({}),B8=30,aw=[["keydown",JG],["compositionstart",ZG],["compositionend",QG],["input",XG],["click",qG],["cut",Xf],["copy",Xf],["dragstart",Xf],["paste",Xf],["focus",Xf],["blur",Xf]];nG?aw.push(["beforeinput",YG]):aw.push(["drop",Xf]);var ux=0,pg=0,H8=!1;function aO(t,e,r){if(H8){H8=!1;var n=t.anchorNode,i=t.focusNode;if(n!==null&&i!==null&&n.nodeType===Wp&&i.nodeType===Wp)return}gs(e,function(){if(!r){Mi(null);return}var o=Ie();if(Pe(o)&&o.isCollapsed()){t.type==="Range"&&(o.dirty=!0);var u=o.anchor;if(u.type==="text"){var f=u.getNode();o.format=f.getFormat()}else u.type==="element"&&(o.format=0)}Bt(e,Pl)})}function qG(t,e){gs(e,function(){var r=Ie();if(Pe(r)){var n=r.anchor;if(n.type==="element"&&n.offset===0&&r.isCollapsed()&&Tn().getChildrenSize()===1&&n.getNode().getTopLevelElementOrThrow().isEmpty()){var i=e.getEditorState()._selection;i!==null&&r.is(i)&&(Xs().removeAllRanges(),r.dirty=!0)}}Bt(e,px,t)})}function VG(t,e){if(e.getTargetRanges){var r=e.getTargetRanges()[0];r&&t.applyDOMRange(r)}}function GG(t,e){return t!==e||Je(t)||Je(e)||!Lu(t)||!Lu(e)}function YG(t,e){var r=t.inputType;if(!(r==="deleteCompositionText"||z8&&gL())){if(r==="insertCompositionText"){var n=t.data;n&&gs(e,function(){var i=Ie();if(Pe(i)){var o=i.anchor,u=o.getNode(),f=u.getPreviousSibling();if(o.offset===0&&Ue(u)&&Ue(f)&&u.getTextContent()===" "&&f.getFormat()!==i.format){var d=f.getTextContent();if(n.indexOf(d)===0){var g=n.slice(d.length);Bt(e,Ll,g),setTimeout(function(){gs(e,function(){u.select()})},B8)}}}});return}gs(e,function(){var i=Ie();if(!!Pe(i)){if(r==="deleteContentBackward"){Ia(null),t.preventDefault(),ux=0,Bt(e,cs,!0),setTimeout(function(){e.update(function(){Ia(null)})},B8);return}var o=t.data;!i.dirty&&i.isCollapsed()&&!pn(i.anchor.getNode())&&VG(i,t);var u=i.anchor,f=i.focus,d=u.getNode(),g=f.getNode();if(r==="insertText"){if(o===`
`)t.preventDefault(),Bt(e,xd);else if(o===`

`)t.preventDefault(),Bt(e,Yp);else if(o==null&&t.dataTransfer){var S=t.dataTransfer.getData("text/plain");t.preventDefault(),i.insertRawText(S)}else o!=null&&pL(i,o,!0)&&(t.preventDefault(),Bt(e,Ll,o));return}switch(t.preventDefault(),r){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":{Bt(e,Ll,t);break}case"insertFromComposition":{Ia(null),Bt(e,Ll,t);break}case"insertLineBreak":{Ia(null),Bt(e,xd);break}case"insertParagraph":{Ia(null),Bt(e,Yp);break}case"insertFromPaste":case"insertFromPasteAsQuotation":{Bt(e,mx,t);break}case"deleteByComposition":{GG(d,g)&&Bt(e,cw);break}case"deleteByDrag":case"deleteByCut":{Bt(e,cw);break}case"deleteContent":{Bt(e,cs,!1);break}case"deleteWordBackward":{Bt(e,Xp,!0);break}case"deleteWordForward":{Bt(e,Xp,!1);break}case"deleteHardLineBackward":case"deleteSoftLineBackward":{Bt(e,Zp,!0);break}case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":{Bt(e,Zp,!1);break}case"formatStrikeThrough":{Bt(e,Ai,"strikethrough");break}case"formatBold":{Bt(e,Ai,"bold");break}case"formatItalic":{Bt(e,Ai,"italic");break}case"formatUnderline":{Bt(e,Ai,"underline");break}case"historyUndo":{Bt(e,um);break}case"historyRedo":{Bt(e,cm);break}}}})}}function XG(t,e){t.stopPropagation(),gs(e,function(){var r=Ie(),n=t.data;n!=null&&Pe(r)&&pL(r,n,!1)?(Bt(e,Ll,n),e._compositionKey!==null&&(ux=0,Ia(null))):hL(e,null),pG()})}function ZG(t,e){gs(e,function(){var r=Ie();if(Pe(r)&&!e.isComposing()){var n=r.anchor;Ia(n.key),(t.timeStamp<ux+B8||n.type==="element"||!r.isCollapsed()||r.anchor.getNode().getFormat()!==r.format)&&Bt(e,Ll," ")}})}function QG(t,e){gs(e,function(){var r=e._compositionKey;Ia(null);var n=t.data;if(r!==null&&n!=null){if(n===""){var i=Gt(r),o=iw(e.getElementByKey(r));o!==null&&Ue(i)&&Dk(i,o.nodeValue,null,null,!0);return}else if(n[n.length-1]===`
`){var u=Ie();if(Pe(u)){var f=u.focus;u.anchor.set(f.key,f.offset,f.type),Bt(e,Qp,null);return}}}hL(e,t)})}function JG(t,e){if(ux=t.timeStamp,!e.isComposing()){var r=t.keyCode,n=t.shiftKey,i=t.ctrlKey,o=t.metaKey,u=t.altKey;zG(r,i,n,u,o)?Bt(e,vx,t):FG(r,i,n,u,o)?Bt(e,gx,t):BG(r,i,n,u,o)?Bt(e,kd,t):HG(r,i,n,u,o)?Bt(e,r1,t):SG(r,n)?Bt(e,Qp,t):CG(r,i)?(t.preventDefault(),Bt(e,xd,!0)):_G(r,n)?Bt(e,Qp,t):IG(r,u,o,i)?Gg(r)?Bt(e,fm,t):(t.preventDefault(),Bt(e,cs,!0)):UG(r)?Bt(e,yx,t):MG(r,i,n,u,o)?Yg(r)?Bt(e,N1,t):(t.preventDefault(),Bt(e,cs,!1)):EG(r,u,i)?(t.preventDefault(),Bt(e,Xp,!0)):TG(r,u,i)?(t.preventDefault(),Bt(e,Xp,!1)):OG(r,o)?(t.preventDefault(),Bt(e,Zp,!0)):AG(r,o)?(t.preventDefault(),Bt(e,Zp,!1)):wG(r,u,o,i)?(t.preventDefault(),Bt(e,Ai,"bold")):kG(r,u,o,i)?(t.preventDefault(),Bt(e,Ai,"underline")):xG(r,u,o,i)?(t.preventDefault(),Bt(e,Ai,"italic")):bG(r,u,i,o)?Bt(e,bx,t):DG(r,n,o,i)?(t.preventDefault(),Bt(e,um)):PG(r,n,o,i)&&(t.preventDefault(),Bt(e,cm))}}function wL(t){var e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}var Tp=new Map;function xL(t){var e=Xs(),r=lL(e.anchorNode);if(r!==null){var n=Mk(r),i=n[n.length-1],o=i._key,u=Tp.get(o),f=u||i;f!==r&&aO(e,f,!1),aO(e,r,!0),r!==i?Tp.set(o,r):u&&Tp.delete(o)}}function eY(t,e){if(pg===0){var r=t.ownerDocument;r.addEventListener("selectionchange",xL)}pg++,t.__lexicalEditor=e;for(var n=wL(t),i=function(f){var d=Se(aw[f],2),g=d[0],S=d[1],y=typeof S=="function"?function(C){e.isReadOnly()||S(C,e)}:function(C){if(!e.isReadOnly())switch(g){case"cut":return Bt(e,Yk,C);case"copy":return Bt(e,Gk,C);case"paste":return Bt(e,mx,C);case"dragstart":return Bt(e,Vk,C);case"focus":return Bt(e,Qk,C);case"blur":return Bt(e,VL,C);case"drop":return Bt(e,qk,C)}};t.addEventListener(g,y),n.push(function(){t.removeEventListener(g,y)})},o=0;o<aw.length;o++)i(o)}function tY(t){if(pg!==0&&(pg--,pg===0)){var e=t.ownerDocument;e.removeEventListener("selectionchange",xL)}var r=t.__lexicalEditor;r!=null&&(rY(r),t.__lexicalEditor=null);for(var n=wL(t),i=0;i<n.length;i++)n[i]();t.__lexicalEventHandles=[]}function rY(t){if(t._parentEditor!==null){var e=Mk(t),r=e[e.length-1],n=r._key;Tp.get(n)===t&&Tp.delete(n)}else Tp.delete(t._key)}function nY(){H8=!0}var Ma="",Da="",Zf="",Xg,lo,Zg,kL=!1,Nk=!1,cx,lb=null,U8,K8,Qg,Gp,W8,Jg;function fx(t,e){var r=Qg.get(t);if(e!==null){var n=Fk(t);e.removeChild(n)}if(Gp.has(t)||lo._keyToDOMMap.delete(t),Je(r)){var i=r.__children;Rk(i,0,i.length-1,null)}r!==void 0&&Pk(Jg,Zg,cx,r,"destroyed")}function Rk(t,e,r,n){for(var i=e;i<=r;++i){var o=t[i];o!==void 0&&fx(o,n)}}function Wv(t,e){t.setProperty("text-align",e)}function _L(t,e){t.style.setProperty("padding-inline-start",e===0?"":e*40+"px")}function SL(t,e){var r=t.style;e===0?Wv(r,""):e===eL?Wv(r,"left"):e===tL?Wv(r,"center"):e===rL?Wv(r,"right"):e===nL&&Wv(r,"justify")}function dx(t,e,r){var n=Gp.get(t);if(n===void 0)throw Error("createNode: node does not exist in nodeMap");var i=n.createDOM(Xg,lo);if(hY(t,i,lo),Ue(n)?i.setAttribute("data-lexical-text","true"):pi(n)&&i.setAttribute("data-lexical-decorator","true"),Je(n)){var o=n.__indent;o!==0&&_L(i,o);var u=n.__children,f=u.length;if(f!==0){var d=f-1;iY(u,d,n,i)}var g=n.__format;g!==0&&SL(i,g),CL(null,u,i)}else{var S=n.getTextContent();if(pi(n)){var y=n.decorate(lo);y!==null&&TL(t,y),i.contentEditable="false"}else if(Ue(n)&&(n.isDirectionless()||(Da+=S),n.isInert())){var C=i.style;C.pointerEvents="none",C.userSelect="none",i.contentEditable="false",C.setProperty("-webkit-user-select","none")}Ma+=S,Zf+=S}if(e!==null)if(r!=null)e.insertBefore(i,r);else{var b=e.__lexicalLineBreak;b!=null?e.insertBefore(i,b):e.appendChild(i)}return Object.freeze(n),Pk(Jg,Zg,cx,n,"created"),i}function iY(t,e,r,n){var i=Da;Da="",jk(t,0,e,n,null),EL(r,n),Da=i}function jk(t,e,r,n,i){var o=Ma;Ma="";for(var u=e;u<=r;++u)dx(t[u],n,i);n.__lexicalTextContent=Ma,Ma=o+Ma}function oO(t,e){var r=t[t.length-1],n=e.get(r);return Pi(n)||pi(n)}function CL(t,e,r){var n=t!==null&&(t.length===0||oO(t,Qg)),i=e!==null&&(e.length===0||oO(e,Gp));if(n){if(!i){var o=r.__lexicalLineBreak;o!=null&&r.removeChild(o),r.__lexicalLineBreak=null}}else if(i){var u=document.createElement("br");r.__lexicalLineBreak=u,r.appendChild(u)}}function EL(t,e){var r=e.__lexicalDirTextContent,n=e.__lexicalDir;if(r!==Da||n!==lb){var i=Da==="",o=i?lb:cG(Da);if(o!==n){var u=e.classList,f=Xg.theme,d=n!==null?f[n]:void 0,g=o!==null?f[o]:void 0;if(d!==void 0){if(typeof d=="string"){var S=d.split(" ");d=f[n]=S}u.remove.apply(u,Rt(d))}if(o===null||i&&o==="ltr")e.removeAttribute("dir");else{if(g!==void 0){if(typeof g=="string"){var y=g.split(" ");g=f[o]=y}u.add.apply(u,Rt(g))}e.dir=o}if(!Nk){var C=t.getWritable();C.__dir=o}}lb=o,e.__lexicalDirTextContent=Da,e.__lexicalDir=o}}function aY(t,e,r,n){var i=Da;Da="",oY(t,e,n),EL(r,n),Da=i}function oY(t,e,r){var n=Ma;Ma="";var i=t.length,o=e.length;if(i===1&&o===1){var u=t[0],f=e[0];if(u===f)mg(u,r);else{var d=Fk(u),g=dx(f,null,null);r.replaceChild(g,d),fx(u,null)}}else if(i===0)o!==0&&jk(e,0,o-1,r,null);else if(o===0){if(i!==0){var S=r.__lexicalLineBreak,y=S==null;Rk(t,0,i-1,y?null:r),y&&(r.textContent="")}}else lY(t,e,i,o,r);r.__lexicalTextContent=Ma,Ma=n+Ma}function mg(t,e){var r=Qg.get(t),n=Gp.get(t);if(r===void 0||n===void 0)throw Error("reconcileNode: prevNode or nextNode does not exist in nodeMap");var i=kL||K8.has(t)||U8.has(t),o=ow(lo,t);if(r===n&&!i){if(Je(r)){var u=o.__lexicalTextContent;u!==void 0&&(Ma+=u,Zf+=u);var f=o.__lexicalDirTextContent;f!==void 0&&(Da+=f)}else{var d=r.getTextContent();Ue(r)&&!r.isDirectionless()&&(Da+=d),Zf+=d,Ma+=d}return o}if(r!==n&&i&&Pk(Jg,Zg,cx,n,"updated"),n.updateDOM(r,o,Xg)){var g=dx(t,null,null);if(e===null)throw Error("reconcileNode: parentDOM is null");return e.replaceChild(g,o),fx(t,null),g}if(Je(r)&&Je(n)){var S=n.__indent;S!==r.__indent&&_L(o,S);var y=n.__format;y!==r.__format&&SL(o,y);var C=r.__children,b=n.__children,O=C!==b;(O||i)&&(aY(C,b,n,o),pn(n)||CL(C,b,o))}else{var _=n.getTextContent();if(pi(n)){var N=n.decorate(lo);N!==null&&TL(t,N)}else Ue(n)&&!n.isDirectionless()&&(Da+=_);Ma+=_,Zf+=_}return!Nk&&pn(n)&&n.__cachedText!==Zf&&(n=n.getWritable(),n.__cachedText=Zf),Object.freeze(n),o}function TL(t,e){var r=lo._pendingDecorators,n=lo._decorators;if(r===null){if(n[t]===e)return;r=fL(lo)}r[t]=e}function sY(t){return t.firstChild}function $6(t){return t.nextSibling}function lY(t,e,r,n,i){for(var o=r-1,u=n-1,f,d,g=sY(i),S=0,y=0;S<=o&&y<=u;){var C=t[S],b=e[y];if(C===b)g=$6(mg(b,i)),S++,y++;else{f===void 0&&(f=new Set(t)),d===void 0&&(d=new Set(e));var O=d.has(C),_=f.has(b);if(!O)g=$6(Fk(C)),fx(C,i),S++;else if(!_)dx(b,i,g),y++;else{var N=ow(lo,b);N===g?g=$6(mg(b,i)):(g!=null?i.insertBefore(N,g):i.appendChild(N),mg(b,i)),S++,y++}}}var P=S>o,M=y>u;if(P&&!M){var R=e[u+1],D=R===void 0?null:lo.getElementByKey(R);jk(e,y,u,i,D)}else M&&!P&&Rk(t,S,o,i)}function uY(t,e,r,n,i,o){Ma="",Zf="",Da="",kL=n===$p,lb=null,lo=r,Xg=r._config,Zg=r._nodes,cx=lo._listeners.mutation,U8=i,K8=o,Qg=t._nodeMap,Gp=e._nodeMap,Nk=e._readOnly,W8=new Map(r._keyToDOMMap);var u=new Map;return Jg=u,mg("root",null),lo=void 0,Zg=void 0,U8=void 0,K8=void 0,Qg=void 0,Gp=void 0,Xg=void 0,W8=void 0,Jg=void 0,u}function cY(t,e,r,n,i,o,u){var f=u._observer,d=null;if(o&&f!==null){var g=u._dirtyType,S=u._dirtyElements,y=u._dirtyLeaves;f.disconnect();try{d=uY(e,r,u,g,S,y)}finally{f.observe(t,{characterData:!0,childList:!0,subtree:!0})}}var C=Xs();return C!==null&&(o||i===null||i.dirty)&&dY(n,i,u,C),d}function fY(t,e,r){var n=e.nodeType===Wp?e.parentNode:e;if(n!==null){var i=n.getBoundingClientRect();if(i.bottom>window.innerHeight)n.scrollIntoView(!1);else if(i.top<0)n.scrollIntoView();else if(r){var o=r.getBoundingClientRect();i.bottom>o.bottom?n.scrollIntoView(!1):i.top<o.top&&n.scrollIntoView()}t._updateTags.add("scroll-into-view")}}function dY(t,e,r,n){var i=n.anchorNode,o=n.focusNode,u=n.anchorOffset,f=n.focusOffset,d=document.activeElement,g=r._rootElement;if(!(r._updateTags.has("collaboration")&&d!==g)){if(!Pe(e)){t!==null&&sL(r,i,o)&&n.removeAllRanges();return}var S=e.anchor,y=e.focus;Object.freeze(S),Object.freeze(y),Object.freeze(e);var C=S.key,b=y.key,O=ow(r,C),_=ow(r,b),N=S.offset,P=y.offset,M=O,R=_;if(S.type==="text"&&(M=iw(O)),y.type==="text"&&(R=iw(_)),!(M===null||R===null)){if(u===N&&f===P&&i===M&&o===R&&!(n.type==="Range"&&e.isCollapsed())){g!==null&&(d===null||!g.contains(d))&&g.focus({preventScroll:!0});return}try{n.setBaseAndExtent(M,N,R,P),e.isCollapsed()&&g===d&&fY(r,M,g),nY()}catch{}}}}function hY(t,e,r){var n=r._keyToDOMMap;e["__lexicalKey_"+r._key]=t,n.set(t,e)}function Fk(t){var e=W8.get(t);if(e===void 0)throw Error('Reconciliation: could not find DOM element for node key "${key}"');return e}function ow(t,e){var r=t._keyToDOMMap.get(e);if(r===void 0)throw Error('Reconciliation: could not find DOM element for node key "${key}"');return r}var uo=null,Na=null,co=!1,q6=!1,sw=0;function OL(){return co}function sn(){if(co)throw Error("Cannot use method in read-only mode.")}function AL(){if(sw>99)throw Error("One or more transforms are endlessly triggering additional transforms. May have encountered infinite recursion caused by transforms that have their preconditions too lose and/or conflict with each other.")}function Zl(){if(uo===null)throw Error("Unable to find an active editor state. State helpers or node methods can only be used synchronously during the callback of editor.update() or editorState.read().");return uo}function zi(){if(Na===null)throw Error("Unable to find an active editor. This method can only be used synchronously during the callback of editor.update().");return Na}function sO(t,e,r){var n=e.__type,i=sG(t,n),o=r.get(n);o===void 0&&(o=Array.from(i.transforms),r.set(n,o));for(var u=o.length,f=0;f<u&&(o[f](e),!!e.isAttached());f++);}function lO(t,e){return t!==void 0&&t.__key!==e&&t.isAttached()}function pY(t,e){var r=e._dirtyLeaves,n=t._nodeMap,i=Qi(r),o;try{for(i.s();!(o=i.n()).done;){var u=o.value,f=n.get(u);Ue(f)&&f.isSimpleText()&&!f.isUnmergeable()&&bL(f)}}catch(d){i.e(d)}finally{i.f()}}function mY(t,e){for(var r=e._dirtyLeaves,n=e._dirtyElements,i=t._nodeMap,o=y0(),u=new Map,f=r,d=f.size,g=n,S=g.size;d>0||S>0;){if(d>0){e._dirtyLeaves=new Set;var y=Qi(f),C;try{for(y.s();!(C=y.n()).done;){var b=C.value,O=i.get(b);Ue(O)&&O.isSimpleText()&&!O.isUnmergeable()&&bL(O),O!==void 0&&lO(O,o)&&sO(e,O,u),r.add(b)}}catch(G){y.e(G)}finally{y.f()}if(f=e._dirtyLeaves,d=f.size,d>0){sw++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;var _=Qi(g),N;try{for(_.s();!(N=_.n()).done;){var P=N.value,M=P[0],R=P[1];if(!(M==="root"||!R)){var D=i.get(M);D!==void 0&&lO(D,o)&&sO(e,D,u),n.set(M,R)}}}catch(G){_.e(G)}finally{_.f()}f=e._dirtyLeaves,d=f.size,g=e._dirtyElements,S=g.size,sw++}e._dirtyLeaves=r,e._dirtyElements=n}function IL(t,e){var r=new Map,n=new Kk(r),i={originalSelection:t._selection},o=uo,u=co,f=Na;uo=n,co=!1,Na=e;try{var d=new Map(t._nodeMap),g=d.get("root");Lk(g,d,e,null,i)}finally{uo=o,co=u,Na=f}return n._selection=jY(i.remappedSelection||i.originalSelection),n}function vY(t,e){var r=uo,n=co,i=Na;uo=t,co=!0,Na=null;try{return e()}finally{uo=r,co=n,Na=i}}function gY(t){var e=t._nodeMap;e.set=function(){throw new Error("Cannot call set() on a frozen Lexical node map")},e.clear=function(){throw new Error("Cannot call clear() on a frozen Lexical node map")},e.delete=function(){throw new Error("Cannot call delete() on a frozen Lexical node map")}}function cd(t){var e=t._pendingEditorState,r=t._rootElement;if(!(r===null||e===null)){var n=t._editorState,i=n._selection,o=e._selection,u=t._dirtyType!==bd;t._pendingEditorState=null,t._editorState=e;var f=uo,d=co,g=Na,S=t._updating;Na=t,uo=e,co=!1,t._updating=!0;try{var y=cY(r,n,e,i,o,u,t);y!==null&&bY(t,n,e,y)}catch(P){t._onError(P),q6||(UL(t,null,r,e),NL(t),t._dirtyType=$p,q6=!0,cd(t),q6=!1);return}finally{t._updating=S,uo=f,co=d,Na=g}e._readOnly=!0,gY(e);var C=t._dirtyLeaves,b=t._dirtyElements,O=t._normalizedNodes,_=t._updateTags;u&&(t._dirtyType=bd,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),KG(t,e);var N=t._pendingDecorators;N!==null&&(t._decorators=N,t._pendingDecorators=null,e1("decorator",t,!0,N)),yY(t,n,e),e1("update",t,!0,{dirtyElements:b,dirtyLeaves:C,editorState:e,normalizedNodes:O,prevEditorState:n,tags:_}),xY(t),wY(t)}}function yY(t,e,r){var n=eO(e),i=eO(r);n!==i&&e1("textcontent",t,!0,i)}function bY(t,e,r,n){var i=t._listeners.mutation;i.forEach(function(o,u){var f=n.get(o);f!==void 0&&u(f)})}function e1(t,e,r){var n=e._updating;e._updating=r;try{for(var i=Array.from(e._listeners[t]),o=arguments.length,u=new Array(o>3?o-3:0),f=3;f<o;f++)u[f-3]=arguments[f];for(var d=0;d<i.length;d++)i[d].apply(i,u)}finally{e._updating=n}}function ML(t,e,r){if(t._updating===!1||Na!==t){var n=!1;return t.update(function(){n=ML(t,e,r)}),n}for(var i=Mk(t),o=4;o>=0;o--)for(var u=0;u<i.length;u++){var f=i[u],d=f._commands,g=d.get(e);if(g!==void 0){var S=g[o];if(S!==void 0){var y=Qi(S),C;try{for(y.s();!(C=y.n()).done;){var b=C.value;if(b(r,t)===!0)return!0}}catch(O){y.e(O)}finally{y.f()}}}}return!1}function wY(t){var e=t._updates;if(e.length!==0){var r=e.shift(),n=Se(r,2),i=n[0],o=n[1];DL(t,i,o)}}function xY(t){var e=t._deferred;if(t._deferred=[],e.length!==0){var r=t._updating;t._updating=!0;try{for(var n=0;n<e.length;n++)e[n]()}finally{t._updating=r}}}function uO(t){for(var e=t._updates,r=!1;e.length!==0;){var n=e.shift(),i=Se(n,2),o=i[0],u=i[1],f=void 0,d=void 0;u!==void 0&&(f=u.onUpdate,d=u.tag,u.skipTransforms&&(r=!0),f&&t._deferred.push(f),d&&t._updateTags.add(d)),o()}return r}function DL(t,e,r){var n=t._updateTags,i,o,u=!1;r!==void 0&&(i=r.onUpdate,o=r.tag,o!=null&&n.add(o),u=r.skipTransforms),i&&t._deferred.push(i);var f=t._editorState,d=t._pendingEditorState,g=!1;d===null&&(d=t._pendingEditorState=UY(f),g=!0);var S=uo,y=co,C=Na,b=t._updating;uo=d,co=!1,t._updating=!0,Na=t;try{g&&(d._selection=NY(t));var O=t._compositionKey;e(),u=uO(t),FY(d,t),t._dirtyType!==bd&&(u?pY(d,t):mY(d,t),uO(t),WG(f,d,t._dirtyLeaves,t._dirtyElements));var _=t._compositionKey;O!==_&&(d._flushSync=!0);var N=d._selection;if(Pe(N)){var P=d._nodeMap,M=N.anchor.key,R=N.focus.key;if(P.get(M)===void 0||P.get(R)===void 0)throw Error("updateEditor: selection has been lost because the previously selected nodes have been removed and selection wasn't moved to another node. Ensure selection changes after removing/replacing a selected node.")}else $l(N)&&N._nodes.size===0&&(d._selection=null)}catch(G){t._onError(G),t._pendingEditorState=f,t._dirtyType=$p,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),cd(t);return}finally{uo=S,co=y,Na=C,t._updating=b,sw=0}var D=t._dirtyType!==bd||HY(d,t);D?d._flushSync?(d._flushSync=!1,cd(t)):g&&lG(function(){cd(t)}):(d._flushSync=!1,g&&(n.clear(),t._deferred=[],t._pendingEditorState=null))}function gs(t,e,r){t._updating?t._updates.push([e,r]):DL(t,e,r)}var kY=100,$8=!1,zk=0;function _Y(){return $8}function SY(t){zk=t.timeStamp}function CY(){zk===0&&window.addEventListener("textInput",SY,!0)}function V6(t,e,r){return e.__lexicalLineBreak===t||t["__lexicalKey_"+r._key]!==void 0}function EY(t){return t.getEditorState().read(function(){var e=Ie();return e!==null?e.clone():null})}function TY(t,e,r){var n=Xs(),i=null,o=null;n!==null&&n.anchorNode===t&&(i=n.anchorOffset,o=n.focusOffset);var u=t.nodeValue;Dk(e,u,i,o,!1)}function PL(t,e,r){$8=!0;var n=performance.now()-zk>kY;try{gs(t,function(){for(var i=new Map,o=t.getRootElement(),u=t._editorState,f=!1,d="",g=0;g<e.length;g++){var S=e[g],y=S.type,C=S.target,b=vs(C,u);if(!pi(b)){if(y==="characterData")n&&C.nodeType===Wp&&Ue(b)&&b.isAttached()&&TY(C,b,t);else if(y==="childList"){f=!0;for(var O=S.addedNodes,_=0;_<O.length;_++){var N=O[_],P=cL(N),M=N.parentNode;if(M!=null&&P===null&&(N.nodeName!=="BR"||!V6(N,M,t))){if(z8){var R=N.innerText||N.nodeValue;R&&(d+=R)}M.removeChild(N)}}var D=S.removedNodes,G=D.length;if(G>0){for(var V=0,J=0;J<G;J++){var te=D[J];te.nodeName==="BR"&&V6(te,C,t)&&(C.appendChild(te),V++)}G!==V&&(C===o&&(b=dL(u)),i.set(C,b))}}}}if(i.size>0){var W=Qi(i),ce;try{for(W.s();!(ce=W.n()).done;){var ie=Se(ce.value,2),le=ie[0],pe=ie[1];if(Je(pe))for(var he=pe.__children,ye=le.firstChild,Ee=0;Ee<he.length;Ee++){var Ne=he[Ee],ge=t.getElementByKey(Ne);ge!==null&&(ye==null?(le.appendChild(ge),ye=ge):ye!==ge&&le.replaceChild(ge,ye),ye=ye.nextSibling)}else Ue(pe)&&pe.markDirty()}}catch(we){W.e(we)}finally{W.f()}}var De=r.takeRecords();if(De.length>0){for(var ze=0;ze<De.length;ze++)for(var Ye=De[ze],q=Ye.addedNodes,A=Ye.target,zt=0;zt<q.length;zt++){var Ht=q[zt],Zt=Ht.parentNode;Zt!=null&&Ht.nodeName==="BR"&&!V6(Ht,A,t)&&Zt.removeChild(Ht)}r.takeRecords()}var Re=Ie()||EY(t);Re!==null&&(f&&(Re.dirty=!0,Mi(Re)),z8&&gL()&&Re.insertRawText(d))})}finally{$8=!1}}function LL(t){var e=t._observer;if(e!==null){var r=e.takeRecords();PL(t,r,e)}}function NL(t){CY(),t._observer=new MutationObserver(function(e,r){PL(t,e,r)})}var OY=function(){function t(e,r,n){ir(this,t),this.key=e,this.offset=r,this.type=n}return ar(t,[{key:"is",value:function(r){return this.key===r.key&&this.offset===r.offset&&this.type===r.type}},{key:"isBefore",value:function(r){var n=this.getNode(),i=r.getNode(),o=this.offset,u=r.offset;return Je(n)&&(n=n.getDescendantByIndex(o)),Je(i)&&(i=i.getDescendantByIndex(u)),n===i?o<u:n.isBefore(i)}},{key:"getCharacterOffset",value:function(){return this.type==="text"?this.offset:0}},{key:"getNode",value:function(){var r=this.key,n=Gt(r);if(n===null)throw Error("Point.getNode: node not found");return n}},{key:"set",value:function(r,n,i){var o=Ie(),u=this.key;this.key=r,this.offset=n,this.type=i,OL()||(y0()===u&&Ia(r),o!==null&&(o.anchor===this||o.focus===this)&&(o.dirty=!0))}}]),t}();function bs(t,e,r){return new OY(t,e,r)}function G6(t,e){var r=e.__key,n=t.offset,i="element";if(Ue(e)){i="text";var o=e.getTextContentSize();n>o&&(n=o)}t.set(r,n,i)}function cO(t,e){if(Je(e)){var r=e.getLastDescendant();Je(r)||Ue(r)?G6(t,r):G6(t,e)}else Ue(e)&&G6(t,e)}function fO(t,e,r){var n=t.getNode(),i=n.getChildAtIndex(t.offset),o=gr(),u=pn(n)?Ar().append(o):o;o.setFormat(r),i===null?n.append(u):i.insertBefore(u),t.is(e)&&e.set(o.__key,0,"text"),t.set(o.__key,0,"text")}function u0(t,e,r,n){t.key=e,t.offset=r,t.type=n}var Bk=function(){function t(e){ir(this,t),this.dirty=!1,this._nodes=e}return ar(t,[{key:"is",value:function(r){if(!$l(r))return!1;var n=this._nodes,i=r._nodes;return n.size===i.size&&Array.from(n).every(function(o){return i.has(o)})}},{key:"add",value:function(r){this.dirty=!0,this._nodes.add(r)}},{key:"delete",value:function(r){this.dirty=!0,this._nodes.delete(r)}},{key:"clear",value:function(){this.dirty=!0,this._nodes.clear()}},{key:"has",value:function(r){return this._nodes.has(r)}},{key:"clone",value:function(){return new t(new Set(this._nodes))}},{key:"extract",value:function(){return this.getNodes()}},{key:"insertRawText",value:function(r){}},{key:"insertText",value:function(){}},{key:"getNodes",value:function(){var r=this._nodes,n=[],i=Qi(r),o;try{for(i.s();!(o=i.n()).done;){var u=o.value,f=Gt(u);f!==null&&n.push(f)}}catch(d){i.e(d)}finally{i.f()}return n}},{key:"getTextContent",value:function(){for(var r=this.getNodes(),n="",i=0;i<r.length;i++)n+=r[i].getTextContent();return n}}]),t}();function Pe(t){return t instanceof P1}var Hk=function(){function t(e,r,n){ir(this,t),this.gridKey=e,this.anchorCellKey=r,this.anchor=bs(r,0,"element"),this.focusCellKey=n,this.focus=bs(n,0,"element"),this.dirty=!1}return ar(t,[{key:"is",value:function(r){return Pn(r)?this.gridKey===r.gridKey&&this.anchorCellKey===r.anchorCellKey&&this.focusCellKey===r.focusCellKey:!1}},{key:"set",value:function(r,n,i){this.dirty=!0,this.gridKey=r,this.anchorCellKey=n,this.focusCellKey=i}},{key:"clone",value:function(){return new t(this.gridKey,this.anchorCellKey,this.focusCellKey)}},{key:"isCollapsed",value:function(){return!1}},{key:"isBackward",value:function(){return this.focus.isBefore(this.anchor)}},{key:"extract",value:function(){return this.getNodes()}},{key:"insertRawText",value:function(r){}},{key:"insertText",value:function(){}},{key:"getShape",value:function(){var r=Gt(this.anchorCellKey);if(!r)throw Error("getNodes: expected to find AnchorNode");var n=r.getIndexWithinParent(),i=r.getParentOrThrow().getIndexWithinParent(),o=Gt(this.focusCellKey);if(!o)throw Error("getNodes: expected to find FocusNode");var u=o.getIndexWithinParent(),f=o.getParentOrThrow().getIndexWithinParent(),d=Math.min(n,u),g=Math.max(n,u),S=Math.min(i,f),y=Math.max(i,f);return{fromX:Math.min(d,g),fromY:Math.min(S,y),toX:Math.max(d,g),toY:Math.max(S,y)}}},{key:"getNodes",value:function(){var r=new Set,n=this.getShape(),i=n.fromX,o=n.fromY,u=n.toX,f=n.toY,d=Gt(this.gridKey);if(!eX(d))throw Error("getNodes: expected to find GridNode");r.add(d);for(var g=d.getChildren(),S=o;S<=f;S++){var y=g[S];if(r.add(y),!tX(y))throw Error("getNodes: expected to find GridRowNode");for(var C=y.getChildren(),b=i;b<=u;b++){var O=C[b];if(!JY(O))throw Error("getNodes: expected to find GridCellNode");r.add(O);for(var _=O.getChildren();_.length>0;){var N=_.shift();r.add(N),Je(N)&&_.unshift.apply(_,Rt(N.getChildren()))}}}return Array.from(r)}},{key:"getTextContent",value:function(){for(var r=this.getNodes(),n="",i=0;i<r.length;i++)n+=r[i].getTextContent();return n}}]),t}();function Pn(t){return t instanceof Hk}var P1=function(){function t(e,r,n){ir(this,t),this.anchor=e,this.focus=r,this.dirty=!1,this.format=n}return ar(t,[{key:"is",value:function(r){return Pe(r)?this.anchor.is(r.anchor)&&this.focus.is(r.focus)&&this.format===r.format:!1}},{key:"isBackward",value:function(){return this.focus.isBefore(this.anchor)}},{key:"isCollapsed",value:function(){return this.anchor.is(this.focus)}},{key:"getNodes",value:function(){var r=this.anchor,n=this.focus,i=r.getNode(),o=n.getNode();return Je(i)&&(i=i.getDescendantByIndex(r.offset)),Je(o)&&(o=o.getDescendantByIndex(n.offset)),i.is(o)?Je(i)?[]:[i]:i.getNodesBetween(o)}},{key:"setTextNodeRange",value:function(r,n,i,o){u0(this.anchor,r.__key,n,"text"),u0(this.focus,i.__key,o,"text"),this.dirty=!0}},{key:"getTextContent",value:function(){var r=this.getNodes();if(r.length===0)return"";for(var n=r[0],i=r[r.length-1],o=this.anchor,u=this.focus,f=o.isBefore(u),d=o.getCharacterOffset(),g=u.getCharacterOffset(),S="",y=!0,C=0;C<r.length;C++){var b=r[C];if(Je(b)&&!b.isInline())y||(S+=`
`),b.isEmpty()?y=!1:y=!0;else if(y=!1,Ue(b)){var O=b.getTextContent();b===n?b===i?O=d<g?O.slice(d,g):O.slice(g,d):O=f?O.slice(d):O.slice(g):b===i&&(O=f?O.slice(0,g):O.slice(0,d)),S+=O}else(pi(b)||Pi(b))&&(b!==i||!this.isCollapsed())&&(S+=b.getTextContent())}return S}},{key:"applyDOMRange",value:function(r){var n=zi(),i=n.getEditorState(),o=i._selection,u=RL(r.startContainer,r.startOffset,r.endContainer,r.endOffset,n,o);if(u!==null){var f=Se(u,2),d=f[0],g=f[1];u0(this.anchor,d.key,d.offset,d.type),u0(this.focus,g.key,g.offset,g.type)}}},{key:"clone",value:function(){var r=this.anchor,n=this.focus;return new t(bs(r.key,r.offset,r.type),bs(n.key,n.offset,n.type),this.format)}},{key:"toggleFormat",value:function(r){this.format=uL(this.format,r,null),this.dirty=!0}},{key:"hasFormat",value:function(r){var n=qp[r];return(this.format&n)!==0}},{key:"insertRawText",value:function(r){var n=r.split(/\r?\n/);if(n.length===1)this.insertText(r);else{for(var i=[],o=n.length,u=0;u<o;u++){var f=n[u];f!==""&&i.push(gr(f)),u!==o-1&&i.push(_0())}this.insertNodes(i)}}},{key:"insertText",value:function(r){var n=this.anchor,i=this.focus,o=this.isCollapsed()||n.isBefore(i),u=this.format;o&&n.type==="element"?fO(n,i,u):!o&&i.type==="element"&&fO(i,n,u);var f=this.getNodes(),d=f.length,g=o?n:i,S=o?i:n,y=g.offset,C=S.offset,b=f[0];if(!Ue(b))throw Error("insertText: first node is not a text node");var O=b.getTextContent(),_=O.length,N=b.getParentOrThrow();if(this.isCollapsed()&&y===_&&(b.isSegmented()||b.isToken()||!b.canInsertTextAfter()||!N.canInsertTextAfter())){var P=b.getNextSibling();if((!Ue(P)||Lu(P)||P.isSegmented())&&(P=gr(),N.canInsertTextAfter()?b.insertAfter(P):N.insertAfter(P)),P.select(0,0),b=P,r!==""){this.insertText(r);return}}else if(this.isCollapsed()&&y===0&&(b.isSegmented()||b.isToken()||!b.canInsertTextBefore()||!N.canInsertTextBefore())){var M=b.getPreviousSibling();if((!Ue(M)||Lu(M)||M.isSegmented())&&(M=gr(),N.canInsertTextBefore()?b.insertBefore(M):N.insertBefore(M)),M.select(),b=M,r!==""){this.insertText(r);return}}else if(b.isSegmented()&&y!==_){var R=gr(b.getTextContent());b.replace(R),b=R}if(d===1){if(Lu(b)){var D=gr(r);D.select(),b.replace(D);return}var G=b.getFormat();if(y===C&&G!==u)if(b.getTextContent()==="")b.setFormat(u);else{var V=gr(r);if(V.setFormat(u),V.select(),y===0)b.insertBefore(V);else{var J=b.splitText(y),te=Se(J,1),W=te[0];W.insertAfter(V)}V.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=r.length);return}var ce=C-y;b=b.spliceText(y,ce,r,!0),b.getTextContent()===""?b.remove():b.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=r.length)}else{var ie=d-1,le=f[ie],pe=new Set([].concat(Rt(b.getParentKeys()),Rt(le.getParentKeys()))),he=Je(b)?b:b.getParentOrThrow(),ye=Je(le)?le:le.getParentOrThrow();if(S.type==="text"&&(C!==0||le.getTextContent()==="")||S.type==="element"&&le.getIndexWithinParent()<C)if(Ue(le)&&!Lu(le)&&C!==le.getTextContentSize()){if(le.isSegmented()){var Ee=gr(le.getTextContent());le.replace(Ee),le=Ee}le=le.spliceText(0,C,""),pe.add(le.__key)}else le.remove();else pe.add(le.__key);var Ne=ye.getChildren(),ge=new Set(f),De=he.is(ye);if(!ye.canBeEmpty()&&he!==ye)he.append(ye);else{for(var ze=Ne.length-1;ze>=0;ze--){var Ye=Ne[ze];if(Ye.is(b)||Je(Ye)&&Ye.isParentOf(b))break;Ye.isAttached()&&(!ge.has(Ye)||Ye.is(le)?De||b.insertAfter(Ye):Ye.remove())}if(!De)for(var q=ye,A=null;q!==null;){var zt=q.getChildren(),Ht=zt.length;(Ht===0||zt[Ht-1].is(A))&&(pe.delete(q.__key),A=q),q=q.getParent()}}if(!Lu(b))b=b.spliceText(y,_-y,r,!0),b.getTextContent()===""?b.remove():b.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=r.length);else if(y===_)b.select();else{var Zt=gr(r);Zt.select(),b.replace(Zt)}for(var Re=1;Re<d;Re++){var we=f[Re],Ke=we.__key;pe.has(Ke)||we.remove()}}}},{key:"removeText",value:function(){this.insertText("")}},{key:"formatText",value:function(r){var n=this.getNodes(),i=n.length,o=i-1,u=n[0],f=n[o];if(this.isCollapsed()){this.toggleFormat(r),Ia(null);return}for(var d=this.anchor,g=this.focus,S=u.getTextContent(),y=S.length,C=g.offset,b=0,O=0;O<n.length;O++){var _=n[O];if(Ue(_)){b=_.getFormatFlags(r,null);break}}var N=d.offset,P,M,R=d.isBefore(g);if(P=R?N:C,M=R?C:N,P===u.getTextContentSize()){var D=u.getNextSibling();Ue(D)&&(N=0,P=0,u=D,b=u.getFormatFlags(r,null))}if(u.is(f)){if(Ue(u)){if(d.type==="element"&&g.type==="element"){u.setFormat(b),u.select(P,M),this.format=b;return}if(P=N>C?C:N,M=N>C?N:C,P===M)return;if(P===0&&M===y)u.setFormat(b),u.select(P,M);else{var G=u.splitText(P,M),V=P===0?G[0]:G[1];V.setFormat(b),V.select(0,M-P)}this.format=b}}else{if(Ue(u)){if(P!==0){var J=u.splitText(P),te=Se(J,2);u=te[1],P=0}u.setFormat(b)}var W=b;if(Ue(f)){W=f.getFormatFlags(r,b);var ce=f.getTextContent(),ie=ce.length;if(M!==0){if(M!==ie){var le=f.splitText(M),pe=Se(le,1);f=pe[0]}f.setFormat(W)}}for(var he=1;he<o;he++){var ye=n[he],Ee=ye.__key;if(Ue(ye)&&Ee!==u.__key&&Ee!==f.__key&&!ye.isToken()){var Ne=ye.getFormatFlags(r,W);ye.setFormat(Ne)}}}}},{key:"insertNodes",value:function(r,n){this.isCollapsed()||this.removeText();var i=this.anchor,o=i.offset,u=i.getNode(),f=u;if(i.type==="element"){var d=i.getNode(),g=d.getChildAtIndex(o-1);g===null?f=d:f=g}var S=[],y=u.getNextSiblings(),C=pn(u)?null:u.getTopLevelElementOrThrow();if(Ue(u)){var b=u.getTextContent(),O=b.length;if(o===0&&O!==0){var _=u.getPreviousSibling();_!==null?f=_:f=u.getParentOrThrow(),S.push(u)}else if(o===O)f=u;else{if(Lu(u))return!1;var N,P=u.splitText(o),M=Se(P,2);f=M[0],N=M[1],S.push(N)}}var R=f;S.push.apply(S,Rt(y));for(var D=r[0],G=!1,V=null,J=0;J<r.length;J++){var te=r[J];if(Je(te)){if(te.is(D)){if(Je(f)&&f.isEmpty()&&f.canReplaceWith(te)){f.replace(te),f=te,G=!0;continue}var W=te.getFirstDescendant();if(D1(W)){for(var ce=W.getParentOrThrow();ce.isInline();)ce=ce.getParentOrThrow();var ie=ce.getChildren(),le=ie.length;if(Je(f))for(var pe=0;pe<le;pe++)V=ie[pe],f.append(V);else{for(var he=le-1;he>=0;he--)V=ie[he],f.insertAfter(V);f=f.getParentOrThrow()}if(ce.remove(),G=!0,ce.is(te))continue}}if(Ue(f)){if(C===null)throw Error("insertNode: topLevelElement is root node");f=C}}else if(G&&!pi(te)&&pn(f.getParent()))throw Error("insertNodes: cannot insert a non-element into a root node");if(G=!1,Je(f))if(V=te,pi(te)&&te.isTopLevel())f=f.insertAfter(te);else if(Je(te)){if(!te.canBeEmpty()&&te.isEmpty())continue;if(pn(f)){var Ee=f.getChildAtIndex(o);Ee!==null?Ee.insertBefore(te):f.append(te),f=te}else f=f.insertAfter(te)}else{var ye=f.getFirstChild();ye!==null?ye.insertBefore(te):f.append(te),f=te}else if(!Je(te)||pi(f)&&f.isTopLevel())V=te,f=f.insertAfter(te);else{f=te.getParentOrThrow(),J--;continue}}if(n)if(Ue(R))R.select();else{var Ne=f.getPreviousSibling();if(Ue(Ne))Ne.select();else{var ge=f.getIndexWithinParent();f.getParentOrThrow().select(ge,ge)}}if(Je(f)){var De=Ue(V)?V:f.getLastDescendant();if(n||(De===null?f.select():Ue(De)?De.select():De.selectNext()),S.length!==0)for(var ze=S.length-1;ze>=0;ze--){var Ye=S[ze],q=Ye.getParentOrThrow();if(Je(f)&&!Je(Ye))f.append(Ye),f=Ye;else if(!Je(f)&&!Je(Ye))f.insertBefore(Ye),f=Ye;else if(Je(Ye)&&!Ye.canInsertAfter(f)){var A=q.constructor.clone(q);if(!Je(A))throw Error("insertNodes: cloned parent clone is not an element");A.append(Ye),f.insertAfter(A)}else f.insertAfter(Ye);q.isEmpty()&&!q.canBeEmpty()&&q.remove()}}else if(!n)if(Ue(f))f.select();else{var zt=f.getParentOrThrow(),Ht=f.getIndexWithinParent()+1;zt.select(Ht,Ht)}return!0}},{key:"insertParagraph",value:function(){this.isCollapsed()||this.removeText();var r=this.anchor,n=r.offset,i,o=[],u=[];if(r.type==="text"){var f=r.getNode();i=f.getParentOrThrow();var d=i.isInline(),g=d?i.getTextContentSize():f.getTextContentSize();if(n===0)o.push(f);else if(d&&(u=i.getNextSiblings()),n!==g&&(o=f.getNextSiblings().reverse(),!d||n!==f.getTextContentSize())){var S=f.splitText(n),y=Se(S,2),C=y[1];o.push(C)}}else{if(i=r.getNode(),pn(i)){var b=Ar(),O=i.getChildAtIndex(n);b.select(),O!==null?O.insertBefore(b):i.append(b);return}o=i.getChildren().slice(n).reverse()}var _=o.length;if(n===0&&_>0&&i.isInline()){i.getParentOrThrow().insertBefore(Ar());return}var N=i.insertNewAfter(this);if(N===null)this.insertLineBreak();else if(Je(N)){var P=i.getFirstChild(),M=n===0&&(i.is(r.getNode())||P&&P.is(r.getNode()));if(M&&_>0){i.insertBefore(N);return}var R=null,D=u.length,G=N.getParentOrThrow();if(D>0)for(var V=0;V<D;V++){var J=u[V];G.append(J)}if(_!==0)for(var te=0;te<_;te++){var W=o[te];R===null?N.append(W):R.insertBefore(W),R=W}!N.canBeEmpty()&&N.getChildrenSize()===0?(N.selectPrevious(),N.remove()):N.selectStart()}}},{key:"insertLineBreak",value:function(r){var n=_0(),i=this.anchor;if(i.type==="element"){var o=i.getNode();pn(o)&&this.insertParagraph()}r?this.insertNodes([n],!0):this.insertNodes([n])&&n.selectNext(0,0)}},{key:"extract",value:function(){var r=this.getNodes(),n=r.length,i=n-1,o=this.anchor,u=this.focus,f=r[0],d=r[i],g=o.getCharacterOffset(),S=u.getCharacterOffset();if(n===0)return[];if(n===1){if(Ue(f)){var y=g>S?S:g,C=g>S?g:S,b=f.splitText(y,C),O=y===0?b[0]:b[1];return O!=null?[O]:[]}return[f]}var _=o.isBefore(u);if(Ue(f)){var N=_?g:S;if(N===f.getTextContentSize())r.shift();else if(N!==0){var P=f.splitText(N),M=Se(P,2);f=M[1],r[0]=f}}if(Ue(d)){var R=d.getTextContent(),D=R.length,G=_?S:g;if(G===0)r.pop();else if(G!==D){var V=d.splitText(G),J=Se(V,1);d=J[0],r[i]=d}}return r}},{key:"modify",value:function(r,n,i){var o=this.focus,u=this.anchor,f=r==="move",d=vL(o,n);if(pi(d)&&!d.isIsolated()){var g=n?d.getPreviousSibling():d.getNextSibling();if(!Ue(g)){var S=d.getParentOrThrow(),y,C;Je(g)?(C=g.__key,y=n?g.getChildrenSize():0):(y=d.getIndexWithinParent(),C=S.__key,n||y++),o.set(C,y,"element"),f&&u.set(C,y,"element");return}}var b=Xs();if(IY(b,r,n?"backward":"forward",i),b.rangeCount>0){var O=b.getRangeAt(0);this.applyDOMRange(O),!f&&(b.anchorNode!==O.startContainer||b.anchorOffset!==O.startOffset)&&AY(this)}}},{key:"deleteCharacter",value:function(r){if(this.isCollapsed()){var n=this.anchor,i=this.focus,o=n.getNode();if(!r&&(n.type==="element"&&n.offset===o.getChildrenSize()||n.type==="text"&&n.offset===o.getTextContentSize())){var u=o.getNextSibling()||o.getParentOrThrow().getNextSibling();if(Je(u)&&!u.canExtractContents())return}if(this.modify("extend",r,"character"),this.isCollapsed()){if(r&&n.offset===0){var C=n.type==="element"?n.getNode():n.getNode().getParentOrThrow();if(C.collapseAtStart(this))return}}else{var f=i.type==="text"?i.getNode():null;if(o=n.type==="text"?n.getNode():null,f!==null&&f.isSegmented()){var d=i.offset,g=f.getTextContentSize();if(f.is(o)||r&&d!==g||!r&&d!==0){dO(f,r,d);return}}else if(o!==null&&o.isSegmented()){var S=n.offset,y=o.getTextContentSize();if(o.is(f)||r&&S!==0||!r&&S!==y){dO(o,r,S);return}}MY(this,r)}}this.removeText()}},{key:"deleteLine",value:function(r){this.isCollapsed()&&this.modify("extend",r,"lineboundary"),this.removeText()}},{key:"deleteWord",value:function(r){this.isCollapsed()&&this.modify("extend",r,"word"),this.removeText()}}]),t}();function $l(t){return t instanceof Bk}function AY(t){var e=t.focus,r=t.anchor,n=r.key,i=r.offset,o=r.type;u0(r,e.key,e.offset,e.type),u0(e,n,i,o)}function IY(t,e,r,n){t.modify(e,r,n)}function MY(t,e){var r=t.anchor,n=t.focus,i=r.getNode(),o=n.getNode();if(i===o&&r.type==="text"&&n.type==="text"){var u=r.offset,f=n.offset,d=u<f,g=d?u:f,S=d?f:u,y=S-1;if(g!==y){var C=i.getTextContent().slice(g,S);vG(C)||(e?n.offset=y:r.offset=y)}}}function dO(t,e,r){for(var n=t,i=n.getTextContent(),o=i.split(/\s/g),u=o.length,f=0,d=0,g=0;g<u;g++){var S=o[g],y=g===u-1;if(d=f,f+=S.length,e&&f===r||f>r||y){o.splice(g,1),y&&(d=void 0);break}}var C=o.join(" ");C===""?n.remove():(n.setTextContent(C),n.select(d,d))}function DY(t,e,r){var n=t.getParent();return r===null||n===null||!n.canBeEmpty()||n!==r.getNode()}function hO(t,e,r){var n=e,i;if(t.nodeType===YV){var o=!1,u=t.childNodes,f=u.length;n===f&&(o=!0,n=f-1);var d=u[n];if(i=C4(d),Ue(i))n=tO(i,o);else{var g=C4(t);if(g===null)return null;if(Je(g)){var S=g.getChildAtIndex(n);if(Je(S)&&DY(S,n,r)){var y=o?S.getLastDescendant():S.getFirstDescendant();y===null?(g=S,n=0):(S=y,g=S.getParentOrThrow())}Ue(S)?(i=S,g=null,n=tO(i,o)):S!==g&&o&&n++}else{var C=g.getIndexWithinParent();e===0&&pi(g)&&C4(t)===g?n=C:n=C+1,g=g.getParentOrThrow()}if(Je(g))return bs(g.__key,n,"element")}}else i=C4(t);return Ue(i)?bs(i.__key,n,"text"):null}function RL(t,e,r,n,i,o){if(t===null||r===null||!sL(i,t,r))return null;var u=hO(t,e,Pe(o)?o.anchor:null);if(u===null)return null;var f=hO(r,n,Pe(o)?o.focus:null);if(f===null)return null;if(u.type==="text"&&f.type==="text"){var d=u.getNode(),g=f.getNode(),S=d.getTextContentSize(),y=u.offset,C=f.offset;if(d===g&&y===C){if(e===0){var b=d.getPreviousSibling();if(Ue(b)&&!b.isInert()){var O=b.getTextContentSize(),_=b.__key;u.key=_,f.key=_,u.offset=O,f.offset=O}}}else if(y===S){var N=d.getNextSibling();Ue(N)&&!N.isInert()&&(u.key=N.__key,u.offset=0)}if(i.isComposing()&&i._compositionKey!==u.key&&Pe(o)){var P=o.anchor,M=o.focus;u0(u,P.key,P.offset,P.type),u0(f,M.key,M.offset,M.type)}}return[u,f]}function jL(t,e,r,n,i,o){var u=Zl(),f=new P1(bs(t,e,i),bs(r,n,o),0);return f.dirty=!0,u._selection=f,f}function t1(){var t=bs("root",0,"element"),e=bs("root",0,"element");return new P1(t,e,0)}function PY(){return new Bk(new Set)}function pO(){return new Hk("root","root","root")}function LY(){var t=window.event;return t&&t.type}function NY(t){var e=t.getEditorState(),r=e._selection,n=Xs();return $l(r)||Pn(r)?r.clone():RY(r,n,t)}function RY(t,e,r){var n=LY(),i=n==="selectionchange",o=!_Y()&&(i||n==="beforeinput"||n==="compositionstart"||n==="compositionend"||n==="click"&&window.event.detail===3||n===void 0),u,f,d,g;if(!Pe(t)||o){if(e===null)return null;u=e.anchorNode,f=e.focusNode,d=e.anchorOffset,g=e.focusOffset}else return t.clone();var S=RL(u,d,f,g,r,t);if(S===null)return null;var y=Se(S,2),C=y[0],b=y[1];return new P1(C,b,Pe(t)?t.format:0)}function Ie(){var t=Zl();return t._selection}function FL(){var t=zi();return t._editorState._selection}function jY(t){if(t!==null){if(t.type==="range")return new P1(bs(t.anchor.key,t.anchor.offset,t.anchor.type),bs(t.focus.key,t.focus.offset,t.focus.type),0);if(t.type==="node")return new Bk(new Set(t.nodes));if(t.type==="grid")return new Hk(t.gridKey,t.anchorCellKey,t.focusCellKey)}return null}function lw(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,i=t.anchor,o=t.focus,u=i.getNode(),f=o.getNode();if(!(!e.is(u)&&!e.is(f))){var d=e.__key;if(t.isCollapsed()){var g=i.offset;if(r<=g){var S=Math.max(0,g+n);i.set(d,S,"element"),o.set(d,S,"element"),mO(t)}return}var y=t.isBackward(),C=y?o:i,b=C.getNode(),O=y?i:o,_=O.getNode();if(e.is(b)){var N=C.offset;r<=N&&C.set(d,Math.max(0,N+n),"element")}if(e.is(_)){var P=O.offset;r<=P&&O.set(d,Math.max(0,P+n),"element")}mO(t)}}function mO(t){var e=t.anchor,r=e.offset,n=t.focus,i=n.offset,o=e.getNode(),u=n.getNode();if(t.isCollapsed()){if(!Je(o))return;var f=o.getChildrenSize(),d=r>=f,g=d?o.getChildAtIndex(f-1):o.getChildAtIndex(r);if(Ue(g)){var S=0;d&&(S=g.getTextContentSize()),e.set(g.__key,S,"text"),n.set(g.__key,S,"text")}return}if(Je(o)){var y=o.getChildrenSize(),C=r>=y,b=C?o.getChildAtIndex(y-1):o.getChildAtIndex(r);if(Ue(b)){var O=0;C&&(O=b.getTextContentSize()),e.set(b.__key,O,"text")}}if(Je(u)){var _=u.getChildrenSize(),N=i>=_,P=N?u.getChildAtIndex(_-1):u.getChildAtIndex(i);if(Ue(P)){var M=0;N&&(M=P.getTextContentSize()),n.set(P.__key,M,"text")}}}function FY(t,e){var r=e.getEditorState(),n=r._selection,i=t._selection;if(Pe(i)){var o=i.anchor,u=i.focus,f;if(o.type==="text"&&(f=o.getNode(),f.selectionTransform(n,i)),u.type==="text"){var d=u.getNode();f!==d&&d.selectionTransform(n,i)}}}function uw(t,e,r,n,i){var o=null,u=0,f=null;n!==null?(o=n.__key,Ue(n)?(u=n.getTextContentSize(),f="text"):Je(n)&&(u=n.getChildrenSize(),f="element")):i!==null&&(o=i.__key,Ue(i)?f="text":Je(i)&&(f="element")),o!==null&&f!==null?t.set(o,u,f):(u=e.getIndexWithinParent(),u===-1&&(u=r.getChildrenSize()),t.set(r.__key,u,"element"))}function vO(t,e,r,n,i){t.type==="text"?(t.key=r,e||(t.offset+=i)):t.offset>n.getIndexWithinParent()&&(t.offset-=1)}function q8(t,e){sn();var r=t.__key,n=t.getParent();if(n!==null){var i=Ie(),o=!1;if(Pe(i)&&e){var u=i.anchor,f=i.focus;u.key===r&&(uw(u,t,n,t.getPreviousSibling(),t.getNextSibling()),o=!0),f.key===r&&(uw(f,t,n,t.getPreviousSibling(),t.getNextSibling()),o=!0)}var d=n.getWritable(),g=d.__children,S=g.indexOf(r);if(S===-1)throw Error("Node is not a child of its parent");Ep(t),g.splice(S,1);var y=t.getWritable();y.__parent=null,Pe(i)&&e&&!o&&lw(i,n,S,-1),n!==null&&!pn(n)&&!n.canBeEmpty()&&n.isEmpty()&&q8(n,e),n!==null&&pn(n)&&n.isEmpty()&&n.selectEnd()}}function gO(t){var e=Gt(t);if(e===null)throw Error("Expected node with key ".concat(t," to exist but it's not in the nodeMap."));return e}var hx=function(){function t(e){var r=this;ir(this,t),this.__type=this.constructor.getType(),this.__parent=null,fG(this,e);{var n=Object.getPrototypeOf(this);["getType","clone"].forEach(function(i){n.constructor.hasOwnProperty(i)||console.warn("".concat(r.constructor.name,' must implement static "').concat(i,'" method'))}),this.__type!=="root"&&(sn(),zY(this.__type,this.constructor))}}return ar(t,[{key:"getType",value:function(){return this.__type}},{key:"isAttached",value:function(){for(var r=this.__key;r!==null;){if(r==="root")return!0;var n=Gt(r);if(n===null)break;r=n.__parent}return!1}},{key:"isSelected",value:function(){var r=Ie();if(r==null)return!1;var n=new Set(r.getNodes().map(function(o){return o.__key})),i=n.has(this.__key);return Ue(this)?i:Pe(r)&&r.anchor.type==="element"&&r.focus.type==="element"&&r.anchor.key===r.focus.key&&r.anchor.offset===r.focus.offset?!1:i}},{key:"getKey",value:function(){return this.__key}},{key:"getIndexWithinParent",value:function(){var r=this.getParent();if(r===null)return-1;var n=r.__children;return n.indexOf(this.__key)}},{key:"getParent",value:function(){var r=this.getLatest().__parent;return r===null?null:Gt(r)}},{key:"getParentOrThrow",value:function(){var r=this.getParent();if(r===null)throw Error("Expected node ".concat(this.__key," to have a parent."));return r}},{key:"getTopLevelElement",value:function(){for(var r=this;r!==null;){var n=r.getParent();if(pn(n)&&Je(r))return r;r=n}return null}},{key:"getTopLevelElementOrThrow",value:function(){var r=this.getTopLevelElement();if(r===null)throw Error("Expected node ".concat(this.__key," to have a top parent element."));return r}},{key:"getParents",value:function(){for(var r=[],n=this.getParent();n!==null;)r.push(n),n=n.getParent();return r}},{key:"getParentKeys",value:function(){for(var r=[],n=this.getParent();n!==null;)r.push(n.__key),n=n.getParent();return r}},{key:"getPreviousSibling",value:function(){var r=this.getParent();if(r===null)return null;var n=r.__children,i=n.indexOf(this.__key);return i<=0?null:Gt(n[i-1])}},{key:"getPreviousSiblings",value:function(){var r=this.getParent();if(r===null)return[];var n=r.__children,i=n.indexOf(this.__key);return n.slice(0,i).map(function(o){return gO(o)})}},{key:"getNextSibling",value:function(){var r=this.getParent();if(r===null)return null;var n=r.__children,i=n.length,o=n.indexOf(this.__key);return o>=i-1?null:Gt(n[o+1])}},{key:"getNextSiblings",value:function(){var r=this.getParent();if(r===null)return[];var n=r.__children,i=n.indexOf(this.__key);return n.slice(i+1).map(function(o){return gO(o)})}},{key:"getCommonAncestor",value:function(r){var n=this.getParents(),i=r.getParents();Je(this)&&n.unshift(this),Je(r)&&i.unshift(r);var o=n.length,u=i.length;if(o===0||u===0||n[o-1]!==i[u-1])return null;for(var f=new Set(i),d=0;d<o;d++){var g=n[d];if(f.has(g))return g}return null}},{key:"is",value:function(r){return r==null?!1:this.__key===r.__key}},{key:"isBefore",value:function(r){if(r.isParentOf(this))return!0;if(this.isParentOf(r))return!1;for(var n=this.getCommonAncestor(r),i=0,o=0,u=this;;){var f=u.getParentOrThrow();if(f===n){i=f.__children.indexOf(u.__key);break}u=f}for(u=r;;){var d=u.getParentOrThrow();if(d===n){o=d.__children.indexOf(u.__key);break}u=d}return i<o}},{key:"isParentOf",value:function(r){var n=this.__key;if(n===r.__key)return!1;for(var i=r;i!==null;){if(i.__key===n)return!0;i=i.getParent()}return!1}},{key:"getNodesBetween",value:function(r){for(var n=this.isBefore(r),i=[],o=new Set,u=this,f=null;;){var d=u.__key;if(o.has(d)||(o.add(d),i.push(u)),u===r)break;var g=Je(u)?n?u.getFirstChild():u.getLastChild():null;if(g!==null){f===null&&(f=u),u=g;continue}var S=n?u.getNextSibling():u.getPreviousSibling();if(S!==null){u=S;continue}var y=u.getParentOrThrow();if(o.has(y.__key)||i.push(y),y===r)break;var C=null,b=y;y.is(f)&&(f=null);do{if(b===null)throw Error("getNodesBetween: ancestor is null");C=n?b.getNextSibling():b.getPreviousSibling(),b=b.getParent(),b!==null&&(b.is(f)&&(f=null),C===null&&!o.has(b.__key)&&i.push(b))}while(C===null);u=C}return n||i.reverse(),i}},{key:"isDirty",value:function(){var r=zi(),n=r._dirtyLeaves;return n!==null&&n.has(this.__key)}},{key:"isComposing",value:function(){return this.__key===y0()}},{key:"getLatest",value:function(){var r=Gt(this.__key);if(r===null)throw Error("getLatest: node not found");return r}},{key:"getWritable",value:function(){sn();var r=Zl(),n=zi(),i=r._nodeMap,o=this.__key,u=this.getLatest(),f=u.__parent,d=n._cloneNotNeeded;if(d.has(o))return Vp(u),u;var g=u.constructor,S=g.clone(u);return S.__parent=f,Je(u)&&Je(S)?(S.__children=Array.from(u.__children),S.__indent=u.__indent,S.__format=u.__format,S.__dir=u.__dir):Ue(u)&&Ue(S)&&(S.__format=u.__format,S.__style=u.__style,S.__mode=u.__mode,S.__detail=u.__detail),d.add(o),S.__key=o,Vp(S),i.set(o,S),S}},{key:"getTextContent",value:function(r,n){return""}},{key:"getTextContentSize",value:function(r,n){return this.getTextContent(r,n).length}},{key:"createDOM",value:function(r,n){throw Error("createDOM: base method not extended")}},{key:"updateDOM",value:function(r,n,i){throw Error("updateDOM: base method not extended")}},{key:"exportDOM",value:function(r){if(pi(this)){var n=r.getElementByKey(this.getKey());return{element:n?n.cloneNode():null}}var i=this.createDOM(r._config,r);return{element:i}}},{key:"remove",value:function(){sn(),q8(this,!0)}},{key:"replace",value:function(r){sn();var n=this.__key,i=r.getWritable();ob(i);var o=this.getParentOrThrow(),u=o.getWritable(),f=u.__children,d=f.indexOf(this.__key),g=i.__key;if(d===-1)throw Error("Node is not a child of its parent");f.splice(d,0,g),i.__parent=o.__key,q8(this,!1),Ep(i);var S=Ie();if(Pe(S)){var y=S.anchor,C=S.focus;y.key===n&&cO(y,i),C.key===n&&cO(C,i)}return y0()===n&&Ia(g),i}},{key:"insertAfter",value:function(r){sn();var n=this.getWritable(),i=r.getWritable(),o=i.getParent(),u=Ie(),f=r.getIndexWithinParent(),d=!1,g=!1;if(o!==null&&(ob(i),Pe(u))){var S=o.__key,y=u.anchor,C=u.focus;d=y.type==="element"&&y.key===S&&y.offset===f+1,g=C.type==="element"&&C.key===S&&C.offset===f+1}var b=this.getParentOrThrow().getWritable(),O=i.__key;i.__parent=n.__parent;var _=b.__children,N=_.indexOf(n.__key);if(N===-1)throw Error("Node is not a child of its parent");if(_.splice(N+1,0,O),Ep(i),Pe(u)){lw(u,b,N+1);var P=b.__key;d&&u.anchor.set(P,N+2,"element"),g&&u.focus.set(P,N+2,"element")}return r}},{key:"insertBefore",value:function(r){sn();var n=this.getWritable(),i=r.getWritable();ob(i);var o=this.getParentOrThrow().getWritable(),u=i.__key;i.__parent=n.__parent;var f=o.__children,d=f.indexOf(n.__key);if(d===-1)throw Error("Node is not a child of its parent");f.splice(d,0,u),Ep(i);var g=Ie();return Pe(g)&&lw(g,o,d),r}},{key:"selectPrevious",value:function(r,n){sn();var i=this.getPreviousSibling(),o=this.getParentOrThrow();if(i===null)return o.select(0,0);if(Je(i))return i.select();if(!Ue(i)){var u=i.getIndexWithinParent()+1;return o.select(u,u)}return i.select(r,n)}},{key:"selectNext",value:function(r,n){sn();var i=this.getNextSibling(),o=this.getParentOrThrow();if(i===null)return o.select();if(Je(i))return i.select(0,0);if(!Ue(i)){var u=i.getIndexWithinParent();return o.select(u,u)}return i.select(r,n)}},{key:"markDirty",value:function(){this.getWritable()}}],[{key:"getType",value:function(){throw Error("LexicalNode: Node ".concat(this.name," does not implement .getType()."))}},{key:"clone",value:function(r){throw Error("LexicalNode: Node ".concat(this.name," does not implement .clone()."))}},{key:"importDOM",value:function(){return null}}]),t}();function zY(t,e){var r=zi()._nodes.get(t);if(r===void 0)throw Error("Create node: Attempted to create node ".concat(e.name," that was not previously registered on the editor. You can use register your custom nodes."));var n=r.klass;if(n!==e)throw Error("Create node: Type ".concat(t," in node ").concat(e.name," does not match registered node ").concat(n.name," with the same type"))}var Ju=function(t){Fr(r,t);var e=zr(r);function r(n){var i;ir(this,r),i=e.call(this,n);{var o=Object.getPrototypeOf($P(i));["decorate"].forEach(function(u){o.hasOwnProperty(u)||console.warn("".concat(i.constructor.name,' must implement "').concat(u,'" method'))})}return i}return ar(r,[{key:"decorate",value:function(i){throw Error("decorate: base method not extended")}},{key:"isIsolated",value:function(){return!1}},{key:"isTopLevel",value:function(){return!1}}]),r}(hx);function pi(t){return t instanceof Ju}var jo=function(t){Fr(r,t);var e=zr(r);function r(n){var i;return ir(this,r),i=e.call(this,n),i.__children=[],i.__format=0,i.__indent=0,i.__dir=null,i}return ar(r,[{key:"getFormat",value:function(){var i=this.getLatest();return i.__format}},{key:"getIndent",value:function(){var i=this.getLatest();return i.__indent}},{key:"getChildren",value:function(){for(var i=this.getLatest(),o=i.__children,u=[],f=0;f<o.length;f++){var d=Gt(o[f]);d!==null&&u.push(d)}return u}},{key:"getChildrenKeys",value:function(){return this.getLatest().__children}},{key:"getChildrenSize",value:function(){var i=this.getLatest();return i.__children.length}},{key:"isEmpty",value:function(){return this.getChildrenSize()===0}},{key:"isDirty",value:function(){var i=zi(),o=i._dirtyElements;return o!==null&&o.has(this.__key)}},{key:"getAllTextNodes",value:function(i){for(var o=[],u=this.getLatest(),f=u.__children,d=0;d<f.length;d++){var g=Gt(f[d]);if(Ue(g)&&(i||!g.isInert()))o.push(g);else if(Je(g)){var S=g.getAllTextNodes(i);o.push.apply(o,Rt(S))}}return o}},{key:"getFirstDescendant",value:function(){for(var i=this.getFirstChild();i!==null;){if(Je(i)){var o=i.getFirstChild();if(o!==null){i=o;continue}}break}return i}},{key:"getLastDescendant",value:function(){for(var i=this.getLastChild();i!==null;){if(Je(i)){var o=i.getLastChild();if(o!==null){i=o;continue}}break}return i}},{key:"getDescendantByIndex",value:function(i){var o=this.getChildren(),u=o.length;if(u===0)return this;if(i>=u){var f=o[u-1];return Je(f)&&f.getLastDescendant()||f}var d=o[i];return Je(d)&&d.getFirstDescendant()||d}},{key:"getFirstChild",value:function(){var i=this.getLatest(),o=i.__children,u=o.length;return u===0?null:Gt(o[0])}},{key:"getFirstChildOrThrow",value:function(){var i=this.getFirstChild();if(i===null)throw Error("Expected node ".concat(this.__key," to have a first child."));return i}},{key:"getLastChild",value:function(){var i=this.getLatest(),o=i.__children,u=o.length;return u===0?null:Gt(o[u-1])}},{key:"getChildAtIndex",value:function(i){var o=this.getLatest(),u=o.__children,f=u[i];return f===void 0?null:Gt(f)}},{key:"getTextContent",value:function(i,o){for(var u="",f=this.getChildren(),d=f.length,g=0;g<d;g++){var S=f[g];u+=S.getTextContent(i,o),Je(S)&&g!==d-1&&!S.isInline()&&(u+=`

`)}return u}},{key:"getDirection",value:function(){var i=this.getLatest();return i.__dir}},{key:"hasFormat",value:function(i){var o=JT[i];return(this.getFormat()&o)!==0}},{key:"select",value:function(i,o){sn();var u=Ie(),f=i,d=o,g=this.getChildrenSize();f===void 0&&(f=g),d===void 0&&(d=g);var S=this.__key;if(Pe(u))u.anchor.set(S,f,"element"),u.focus.set(S,d,"element"),u.dirty=!0;else return jL(S,f,S,d,"element","element");return u}},{key:"selectStart",value:function(){var i=this.getFirstDescendant();return Je(i)||Ue(i)?i.select(0,0):i!==null?i.selectPrevious():this.select(0,0)}},{key:"selectEnd",value:function(){var i=this.getLastDescendant();return Je(i)||Ue(i)?i.select():i!==null?i.selectNext():this.select()}},{key:"clear",value:function(){sn();var i=this.getWritable(),o=this.getChildren();return o.forEach(function(u){return u.remove()}),i}},{key:"append",value:function(){sn();for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return this.splice(this.getChildrenSize(),0,o)}},{key:"setDirection",value:function(i){sn();var o=this.getWritable();return o.__dir=i,o}},{key:"setFormat",value:function(i){sn();var o=this.getWritable();return o.__format=JT[i],this}},{key:"setIndent",value:function(i){sn();var o=this.getWritable();return o.__indent=i,this}},{key:"splice",value:function(i,o,u){sn();for(var f=this.getWritable(),d=f.__key,g=f.__children,S=u.length,y=[],C=0;C<S;C++){var b=u[C],O=b.getWritable();if(b.__key===d)throw Error("append: attemtping to append self");ob(O),O.__parent=d;var _=O.__key;y.push(_)}var N=this.getChildAtIndex(i-1);N&&Vp(N);var P=this.getChildAtIndex(i+o);P&&Vp(P);var M;if(i===g.length?(g.push.apply(g,y),M=[]):M=g.splice.apply(g,[i,o].concat(y)),M.length){var R=Ie();if(Pe(R)){var D=new Set(M),G=new Set(y),V=function(he){for(var ye=he.getNode();ye;){var Ee=ye.__key;if(D.has(Ee)&&!G.has(Ee))return!0;ye=ye.getParent()}return!1},J=R.anchor,te=R.focus;V(J)&&uw(J,J.getNode(),this,N,P),V(te)&&uw(te,te.getNode(),this,N,P);for(var W=M.length,ce=0;ce<W;ce++){var ie=Gt(M[ce]);if(ie!=null){var le=ie.getWritable();le.__parent=null}}g.length===0&&!this.canBeEmpty()&&!pn(this)&&this.remove()}}return f}},{key:"insertNewAfter",value:function(i){return null}},{key:"canInsertTab",value:function(){return!1}},{key:"collapseAtStart",value:function(i){return!1}},{key:"excludeFromCopy",value:function(){return!1}},{key:"canExtractContents",value:function(){return!0}},{key:"canReplaceWith",value:function(i){return!0}},{key:"canInsertAfter",value:function(i){return!0}},{key:"canBeEmpty",value:function(){return!0}},{key:"canInsertTextBefore",value:function(){return!0}},{key:"canInsertTextAfter",value:function(){return!0}},{key:"isInline",value:function(){return!1}},{key:"canMergeWith",value:function(i){return!1}}]),r}(hx);function Je(t){return t instanceof jo}var Uk=function(t){Fr(r,t);var e=zr(r);function r(){var n;return ir(this,r),n=e.call(this,"root"),n.__cachedText=null,n}return ar(r,[{key:"getTopLevelElementOrThrow",value:function(){throw Error("getTopLevelElementOrThrow: root nodes are not top level elements")}},{key:"getTextContent",value:function(i,o){var u=this.__cachedText;return(OL()||zi()._dirtyType===bd)&&u!==null&&(!i||o!==!1)?u:ti(Fn(r.prototype),"getTextContent",this).call(this,i,o)}},{key:"remove",value:function(){throw Error("remove: cannot be called on root nodes")}},{key:"replace",value:function(i){throw Error("replace: cannot be called on root nodes")}},{key:"insertBefore",value:function(i){throw Error("insertBefore: cannot be called on root nodes")}},{key:"insertAfter",value:function(i){throw Error("insertAfter: cannot be called on root nodes")}},{key:"updateDOM",value:function(i,o){return!1}},{key:"append",value:function(){for(var i,o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];for(var d=0;d<u.length;d++){var g=u[d];if(!Je(g)&&!pi(g))throw Error("rootNode.append: Only element or decorator nodes can be appended to the root node")}return(i=ti(Fn(r.prototype),"append",this)).call.apply(i,[this].concat(u))}},{key:"toJSON",value:function(){return{__children:this.__children,__dir:this.__dir,__format:this.__format,__indent:this.__indent,__key:"root",__parent:null,__type:"root"}}}],[{key:"getType",value:function(){return"root"}},{key:"clone",value:function(){return new r}}]),r}(jo);function BY(){return new Uk}function pn(t){return t instanceof Uk}function HY(t,e){var r=e.getEditorState()._selection,n=t._selection;if(n!==null){if(n.dirty||!n.is(r))return!0}else if(r!==null)return!0;return!1}function UY(t){return new Kk(new Map(t._nodeMap))}function zL(){return new Kk(new Map([["root",BY()]]))}var Kk=function(){function t(e,r){ir(this,t),this._nodeMap=e,this._selection=r||null,this._flushSync=!1,this._readOnly=!1}return ar(t,[{key:"isEmpty",value:function(){return this._nodeMap.size===1&&this._selection===null}},{key:"read",value:function(r){return vY(this,r)}},{key:"clone",value:function(r){var n=new t(this._nodeMap,r===void 0?this._selection:r);return n._readOnly=!0,n}},{key:"toJSON",value:function(r){var n=this._selection;return{_nodeMap:Array.from(this._nodeMap.entries()),_selection:Pe(n)?{anchor:{key:n.anchor.key,offset:n.anchor.offset,type:n.anchor.type},focus:{key:n.focus.key,offset:n.focus.offset,type:n.focus.type},type:"range"}:$l(n)?{nodes:Array.from(n._nodes),type:"node"}:Pn(n)?{anchorCellKey:n.anchorCellKey,focusCellKey:n.focusCellKey,gridKey:n.gridKey,type:"grid"}:null}}}]),t}(),Wk=function(t){Fr(r,t);var e=zr(r);function r(n){return ir(this,r),e.call(this,n)}return ar(r,[{key:"getTextContent",value:function(){return`
`}},{key:"createDOM",value:function(){return document.createElement("br")}},{key:"updateDOM",value:function(){return!1}}],[{key:"getType",value:function(){return"linebreak"}},{key:"clone",value:function(i){return new r(i.__key)}},{key:"importDOM",value:function(){return{br:function(o){return{conversion:KY,priority:0}}}}}]),r}(hx);function KY(t){return{node:_0()}}function _0(){return new Wk}function Pi(t){return t instanceof Wk}function Y6(t,e){return e&JP?"code":null}function X6(t,e){return e&ZP?"strong":e&QP?"em":"span"}function BL(t,e,r,n,i){var o=n.classList,u=sb(i,"base");u!==void 0&&o.add.apply(o,Rt(u)),u=sb(i,"underlineStrikethrough");var f=!1,d=e&F8&&e&j8,g=r&F8&&r&j8;u!==void 0&&(g?(f=!0,d||o.add.apply(o,Rt(u))):d&&o.remove.apply(o,Rt(u)));for(var S in qp){var y=S,C=qp[y];if(u=sb(i,S),u!==void 0)if(r&C){if(f&&(S==="underline"||S==="strikethrough")){e&C&&o.remove.apply(o,Rt(u));continue}((e&C)===0||d&&S==="underline"||S==="strikethrough")&&o.add.apply(o,Rt(u))}else e&C&&o.remove.apply(o,Rt(u))}}function WY(t,e){for(var r=t.length,n=e.length,i=0,o=0;i<r&&i<n&&t[i]===e[i];)i++;for(;o+i<r&&o+i<n&&t[r-o-1]===e[n-o-1];)o++;return[i,r-i-o,e.slice(i,n-o)]}function HL(t,e,r){var n=e.firstChild,i=r.isComposing(),o=i?Ik:"",u=t+o;if(n==null)e.textContent=u;else{var f=n.nodeValue;if(f!==u)if(i){var d=WY(f,u),g=Se(d,3),S=g[0],y=g[1],C=g[2];y!==0&&n.deleteData(S,y),n.insertData(S,C)}else n.nodeValue=u}}function yO(t,e,r,n,i,o){HL(i,t,e);var u=o.theme,f=u.text;f!==void 0&&BL(r,0,n,t,f)}var Fo=function(t){Fr(r,t);var e=zr(r);function r(n,i){var o;return ir(this,r),o=e.call(this,i),o.__text=n,o.__format=0,o.__style="",o.__mode=0,o.__detail=0,o}return ar(r,[{key:"getFormat",value:function(){var i=this.getLatest();return i.__format}},{key:"getStyle",value:function(){var i=this.getLatest();return i.__style}},{key:"isToken",value:function(){var i=this.getLatest();return i.__mode===GP}},{key:"isSegmented",value:function(){var i=this.getLatest();return i.__mode===YP}},{key:"isInert",value:function(){var i=this.getLatest();return i.__mode===XP}},{key:"isDirectionless",value:function(){var i=this.getLatest();return(i.__detail&ZT)!==0}},{key:"isUnmergeable",value:function(){var i=this.getLatest();return(i.__detail&QT)!==0}},{key:"hasFormat",value:function(i){var o=qp[i];return(this.getFormat()&o)!==0}},{key:"isSimpleText",value:function(){return this.__type==="text"&&this.__mode===0}},{key:"getTextContent",value:function(i,o){if(!i&&this.isInert()||o===!1&&this.isDirectionless())return"";var u=this.getLatest();return u.__text}},{key:"getFormatFlags",value:function(i,o){var u=this.getLatest(),f=u.__format;return uL(f,i,o)}},{key:"createDOM",value:function(i){var o=this.__format,u=Y6(this,o),f=X6(this,o),d=u===null?f:u,g=document.createElement(d),S=g;u!==null&&(S=document.createElement(f),g.appendChild(S));var y=this.__text;yO(S,this,f,o,y,i);var C=this.__style;return C!==""&&(g.style.cssText=C),g}},{key:"updateDOM",value:function(i,o,u){var f=this.__text,d=i.__format,g=this.__format,S=Y6(this,d),y=Y6(this,g),C=X6(this,d),b=X6(this,g),O=S===null?C:S,_=y===null?b:y;if(O!==_)return!0;if(S===y&&C!==b){var N=o.firstChild;if(N==null)throw Error("updateDOM: prevInnerDOM is null or undefined");var P=document.createElement(b);return yO(P,this,b,g,f,u),o.replaceChild(P,N),!1}var M=o;if(y!==null&&S!==null&&(M=o.firstChild,M==null))throw Error("updateDOM: innerDOM is null or undefined");HL(f,M,this);var R=u.theme,D=R.text;D!==void 0&&d!==g&&BL(b,d,g,M,D);var G=i.__style,V=this.__style;return G!==V&&(o.style.cssText=V),!1}},{key:"selectionTransform",value:function(i,o){}},{key:"setFormat",value:function(i){sn();var o=this.getWritable();return o.__format=i,o}},{key:"setStyle",value:function(i){sn();var o=this.getWritable();return o.__style=i,o}},{key:"toggleFormat",value:function(i){var o=qp[i];return this.setFormat(this.getFormat()^o)}},{key:"toggleDirectionless",value:function(){sn();var i=this.getWritable();return i.__detail^=ZT,i}},{key:"toggleUnmergeable",value:function(){sn();var i=this.getWritable();return i.__detail^=QT,i}},{key:"setMode",value:function(i){sn();var o=tG[i],u=this.getWritable();return u.__mode=o,u}},{key:"setTextContent",value:function(i){sn();var o=this.getWritable();return o.__text=i,o}},{key:"select",value:function(i,o){sn();var u=i,f=o,d=Ie(),g=this.getTextContent(),S=this.__key;if(typeof g=="string"){var y=g.length;u===void 0&&(u=y),f===void 0&&(f=y)}else u=0,f=0;if(Pe(d)){var C=y0();(C===d.anchor.key||C===d.focus.key)&&Ia(S),d.setTextNodeRange(this,u,this,f)}else return jL(S,u,S,f,"text","text");return d}},{key:"spliceText",value:function(i,o,u,f){sn();var d=this.getWritable(),g=d.__text,S=u.length,y=i;y<0&&(y=S+y,y<0&&(y=0));var C=Ie();if(f&&Pe(C)){var b=i+S;C.setTextNodeRange(d,b,d,b)}var O=g.slice(0,y)+u+g.slice(y+o);return d.setTextContent(O)}},{key:"canInsertTextBefore",value:function(){return!0}},{key:"canInsertTextAfter",value:function(){return!0}},{key:"splitText",value:function(){sn();for(var i=this.getLatest(),o=i.getTextContent(),u=i.__key,f=y0(),d=arguments.length,g=new Array(d),S=0;S<d;S++)g[S]=arguments[S];for(var y=new Set(g),C=[],b=o.length,O="",_=0;_<b;_++)O!==""&&y.has(_)&&(C.push(O),O=""),O+=o[_];O!==""&&C.push(O);var N=C.length;if(N===0)return[];if(C[0]===o)return[i];var P=C[0],M=i.getParentOrThrow(),R=M.__key,D,G=i.getFormat(),V=i.getStyle(),J=i.__detail,te=!1;i.isSegmented()?(D=gr(P),D.__parent=R,D.__format=G,D.__style=V,D.__detail=J,te=!0):(D=i.getWritable(),D.__text=P);for(var W=Ie(),ce=[D],ie=P.length,le=1;le<N;le++){var pe=C[le],he=pe.length,ye=gr(pe).getWritable();ye.__format=G,ye.__style=V,ye.__detail=J;var Ee=ye.__key,Ne=ie+he;if(Pe(W)){var ge=W.anchor,De=W.focus;ge.key===u&&ge.type==="text"&&ge.offset>ie&&ge.offset<=Ne&&(ge.key=Ee,ge.offset-=ie,W.dirty=!0),De.key===u&&De.type==="text"&&De.offset>ie&&De.offset<=Ne&&(De.key=Ee,De.offset-=ie,W.dirty=!0)}f===u&&Ia(Ee),ie=Ne,ye.__parent=R,ce.push(ye)}Ep(this);var ze=M.getWritable(),Ye=ze.__children,q=Ye.indexOf(u),A=ce.map(function(zt){return zt.__key});return te?(Ye.splice.apply(Ye,[q,0].concat(Rt(A))),this.remove()):Ye.splice.apply(Ye,[q,1].concat(Rt(A))),Pe(W)&&lw(W,M,q,N-1),ce}},{key:"mergeWithSibling",value:function(i){var o=i===this.getPreviousSibling();if(!o&&i!==this.getNextSibling())throw Error("mergeWithSibling: sibling must be a previous or next sibling");var u=this.__key,f=i.__key,d=this.__text,g=d.length,S=y0();S===f&&Ia(u);var y=Ie();if(Pe(y)){var C=y.anchor,b=y.focus;C!==null&&C.key===f&&(vO(C,o,u,i,g),y.dirty=!0),b!==null&&b.key===f&&(vO(b,o,u,i,g),y.dirty=!0)}var O=o?i.__text+d:d+i.__text;return this.setTextContent(O),i.remove(),this.getLatest()}},{key:"isTextEntity",value:function(){return!1}}],[{key:"getType",value:function(){return"text"}},{key:"clone",value:function(i){return new r(i.__text,i.__key)}},{key:"importDOM",value:function(){return{"#text":function(o){return{conversion:VY,priority:0}},b:function(o){return{conversion:qY,priority:0}},em:function(o){return{conversion:E4,priority:0}},i:function(o){return{conversion:E4,priority:0}},span:function(o){return{conversion:$Y,priority:0}},strong:function(o){return{conversion:E4,priority:0}},u:function(o){return{conversion:E4,priority:0}}}}}]),r}(hx);function $Y(t){var e=t,r=e.style.fontWeight==="700";return{forChild:function(i){return Ue(i)&&r&&i.toggleFormat("bold"),i},node:null}}function qY(t){var e=t,r=e.style.fontWeight==="normal";return{forChild:function(i){return Ue(i)&&!r&&i.toggleFormat("bold"),i},node:null}}function VY(t){return{node:gr(t.textContent)}}var GY={em:"italic",i:"italic",strong:"bold",u:"underline"};function E4(t){var e=GY[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:function(n){return Ue(n)&&n.toggleFormat(e),n},node:null}}function gr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return new Fo(t)}function Ue(t){return t instanceof Fo}var $k=function(t){Fr(r,t);var e=zr(r);function r(){return ir(this,r),e.apply(this,arguments)}return ar(r,[{key:"createDOM",value:function(i){var o=document.createElement("p"),u=sb(i.theme,"paragraph");if(u!==void 0){var f=o.classList;f.add.apply(f,Rt(u))}return o}},{key:"updateDOM",value:function(i,o){return!1}},{key:"exportDOM",value:function(i){var o=ti(Fn(r.prototype),"exportDOM",this).call(this,i),u=o.element;return u&&this.getTextContentSize()===0&&u.append(document.createElement("br")),{element:u}}},{key:"insertNewAfter",value:function(){var i=Ar(),o=this.getDirection();return i.setDirection(o),this.insertAfter(i),i}},{key:"collapseAtStart",value:function(){var i=this.getChildren();if(i.length===0||Ue(i[0])&&i[0].getTextContent().trim()===""){var o=this.getNextSibling();if(o!==null)return this.selectNext(),this.remove(),!0;var u=this.getPreviousSibling();if(u!==null)return this.selectPrevious(),this.remove(),!0}return!1}}],[{key:"getType",value:function(){return"paragraph"}},{key:"clone",value:function(i){return new r(i.__key)}},{key:"importDOM",value:function(){return{p:function(o){return{conversion:YY,priority:0}}}}}]),r}(jo);function YY(){return{node:Ar()}}function Ar(){return new $k}function wd(t){return t instanceof $k}var Nt=0,Gn=1,bO=3,Ta=4;function UL(t,e,r,n){var i=t._keyToDOMMap;i.clear(),t._editorState=zL(),t._pendingEditorState=n,t._compositionKey=null,t._dirtyType=bd,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[];var o=t._observer;o!==null&&(o.disconnect(),t._observer=null),e!==null&&(e.textContent=""),r!==null&&(r.textContent="",i.set("root",r))}function XY(t){var e=new Map,r=new Set;return t.forEach(function(n){var i=n.klass.importDOM;if(!r.has(i)){r.add(i);var o=i();o!==null&&Object.keys(o).forEach(function(u){var f=e.get(u);f===void 0&&(f=[],e.set(u,f)),f.push(o[u])})}}),e}function L1(t){for(var e=t||{},r=e.namespace||gG(),n=e.theme||{},i=e.context||{},o=e.parentEditor||null,u=e.disableEvents||!1,f=zL(),d=e.editorState,g=[Uk,Fo,Wk,$k].concat(Rt(e.nodes||[])),S=e.onError,y=e.readOnly||!1,C=new Map,b=0;b<g.length;b++){var O=g[b],_=O.getType();C.set(_,{klass:O,transforms:new Set})}var N=new ZY(f,o,C,{context:i,disableEvents:u,namespace:r,theme:n},S,XY(C),y);return d!==void 0&&(N._pendingEditorState=d,N._dirtyType=$p),N}var ZY=function(){function t(e,r,n,i,o,u,f){ir(this,t),this._parentEditor=r,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,mutation:new Map,readonly:new Set,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=bd,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=oL(),this._onError=o,this._htmlConversions=u,this._readOnly=!1}return ar(t,[{key:"isComposing",value:function(){return this._compositionKey!=null}},{key:"registerUpdateListener",value:function(r){var n=this._listeners.update;return n.add(r),function(){n.delete(r)}}},{key:"registerReadOnlyListener",value:function(r){var n=this._listeners.readonly;return n.add(r),function(){n.delete(r)}}},{key:"registerDecoratorListener",value:function(r){var n=this._listeners.decorator;return n.add(r),function(){n.delete(r)}}},{key:"registerTextContentListener",value:function(r){var n=this._listeners.textcontent;return n.add(r),function(){n.delete(r)}}},{key:"registerRootListener",value:function(r){var n=this,i=this._listeners.root;return r(this._rootElement,null),i.add(r),function(){r(null,n._rootElement),i.delete(r)}}},{key:"registerCommand",value:function(r,n,i){if(i===void 0)throw Error('Listener for type "command" requires a "priority".');var o=this._commands;o.has(r)||o.set(r,[new Set,new Set,new Set,new Set,new Set]);var u=o.get(r);if(u===void 0)throw Error("registerCommand: Command ".concat(r," not found in command map"));var f=u[i];return f.add(n),function(){f.delete(n),u.every(function(d){return d.size===0})&&o.delete(r)}}},{key:"registerMutationListener",value:function(r,n){var i=this._nodes.get(r.getType());if(i===void 0)throw Error("Node ".concat(r.name," has not been registered. Ensure node has been passed to createEditor."));var o=this._listeners.mutation;return o.set(n,r),function(){o.delete(n)}}},{key:"registerNodeTransform",value:function(r,n){var i=r.getType(),o=this._nodes.get(i);if(o===void 0)throw Error("Node ".concat(r.name," has not been registered. Ensure node has been passed to createEditor."));var u=o.transforms;return u.add(n),hG(this,i),function(){u.delete(n)}}},{key:"hasNodes",value:function(r){for(var n=0;n<r.length;n++){var i=r[n],o=i.getType();if(!this._nodes.has(o))return!1}return!0}},{key:"dispatchCommand",value:function(r,n){return Bt(this,r,n)}},{key:"getDecorators",value:function(){return this._decorators}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getKey",value:function(){return this._key}},{key:"setRootElement",value:function(r){var n=this._rootElement;if(r!==n){var i=this._pendingEditorState||this._editorState;if(this._rootElement=r,UL(this,n,r,i),n!==null&&(this._config.disableEvents||tY(n)),r!==null){var o=r.style;o.userSelect="text",o.whiteSpace="pre-wrap",o.wordBreak="break-word",r.setAttribute("data-lexical-editor","true"),this._dirtyType=$p,NL(this),this._updateTags.add("history-merge"),cd(this),this._config.disableEvents||eY(r,this)}e1("root",this,!1,r,n)}}},{key:"getElementByKey",value:function(r){return this._keyToDOMMap.get(r)||null}},{key:"getEditorState",value:function(){return this._editorState}},{key:"setEditorState",value:function(r,n){if(r.isEmpty())throw Error("setEditorState: the editor state is empty. Ensure the editor state's root node never becomes empty.");LL(this);var i=this._pendingEditorState,o=this._updateTags,u=n!==void 0?n.tag:null;i!==null&&!i.isEmpty()&&(u!=null&&o.add(u),cd(this)),this._pendingEditorState=r,this._dirtyType=$p,this._compositionKey=null,u!=null&&o.add(u),cd(this)}},{key:"parseEditorState",value:function(r){var n=JSON.parse(r);return IL(n,this)}},{key:"update",value:function(r,n){gs(this,r,n)}},{key:"focus",value:function(r){var n=this._rootElement;n!==null&&(n.setAttribute("autocapitalize","off"),gs(this,function(){var i=Ie(),o=Tn();i!==null?i.dirty=!0:o.getChildrenSize()!==0&&o.selectEnd()},{onUpdate:function(){n.removeAttribute("autocapitalize"),r&&r()}}))}},{key:"blur",value:function(){var r=this._rootElement;r!==null&&r.blur();var n=Xs();n!==null&&n.removeAllRanges()}},{key:"isReadOnly",value:function(){return this._readOnly}},{key:"setReadOnly",value:function(r){this._readOnly=r,e1("readonly",this,!0,r)}},{key:"toJSON",value:function(){return{editorState:this._editorState}}}]),t}(),QY="0.2.1",KL=function(t){Fr(r,t);var e=zr(r);function r(n,i){return ir(this,r),e.call(this,i)}return ar(r)}(jo);function JY(t){return t instanceof KL}var WL=function(t){Fr(r,t);var e=zr(r);function r(){return ir(this,r),e.apply(this,arguments)}return ar(r)}(jo);function eX(t){return t instanceof WL}var $L=function(t){Fr(r,t);var e=zr(r);function r(){return ir(this,r),e.apply(this,arguments)}return ar(r)}(jo);function tX(t){return t instanceof $L}function er(){return{}}var Pl=er(),px=er(),cs=er(),xd=er(),Yp=er(),Ll=er(),mx=er(),cw=er(),Xp=er(),Zp=er(),Ai=er(),um=er(),cm=er(),vx=er(),gx=er(),kd=er(),r1=er(),Qp=er(),fm=er(),yx=er(),N1=er(),bx=er(),S0=er(),fd=er(),qk=er(),eg=er(),Vk=er(),Gk=er(),Yk=er(),Xk=er(),qL=er(),Zk=er(),wx=er(),Qk=er(),VL=er(),ws=P0?ee.exports.useLayoutEffect:ee.exports.useEffect;function rX(t){var e=t.initialConfig,r=t.children,n=ee.exports.useMemo(function(){var i=e.theme,o=e.namespace,u=e.editor__DEPRECATED,f=e.nodes,d=e.onError,g=qP(null,i),S=u||null;if(S===null){var y=L1({context:g,namespace:o,nodes:f,onError:function(b){return d(b,y)},readOnly:!0,theme:i});S=y}return[S,g]},[]);return ws(function(){var i=e.readOnly,o=Se(n,1),u=o[0];u.setReadOnly(i||!1)},[]),Q(nw.Provider,{value:n,children:r})}var wO=window.location.hostname,fw=wO!=="playground.lexical.dev"&&wO!=="lexical-playground.vercel.app",n1={disableBeforeInput:!1,emptyEditor:fw,isAutocomplete:!1,isCharLimit:!1,isCharLimitUtf8:!1,isCollab:!1,isRichText:!0,measureTypingPerf:!1,showNestedEditorTreeView:!1,showTreeView:!0},GL=ee.exports.createContext({setOption:function(e,r){},settings:{}}),nX=function(e){var r=e.children,n=ee.exports.useState(n1),i=Se(n,2),o=i[0],u=i[1],f=ee.exports.useCallback(function(g,S){u(function(y){return xt(xt({},y),{},hg({},g,S))}),n1[g]===S?xO(g,null):xO(g,S)},[]),d=ee.exports.useMemo(function(){return{setOption:f,settings:o}},[f,o]);return Q(GL.Provider,{value:d,children:r})},xx=function(){return ee.exports.useContext(GL)};function xO(t,e){var r=new URL(window.location.href),n=new URLSearchParams(r.search);e!==null?n.has(t)?n.set(t,String(e)):n.append(t,String(e)):n.has(t)&&n.delete(t),r.search=n.toString(),window.history.pushState(null,"",r.toString())}function xs(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach(function(i){if(i!=null&&typeof i=="string"){var o;(o=t.classList).add.apply(o,Rt(i.split(" ")))}})}function Jk(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach(function(i){var o;(o=t.classList).remove.apply(o,Rt(i.split(" ")))})}function iX(t,e){for(var r=[],n=(t||Tn()).getLatest(),i=e||(Je(n)?n.getLastDescendant():n),o=n,u=aX(o);o!==null&&!o.is(i);)if(r.push({depth:u,node:o}),Je(o)&&o.getChildrenSize()>0)o=o.getFirstChild(),u++;else for(var f=null;f===null&&o!==null;)f=o.getNextSibling(),f===null?(o=o.getParent(),u--):o=f;return o!==null&&o.is(i)&&r.push({depth:u,node:o}),r}function aX(t){for(var e=t,r=0;(e=e.getParent())!==null;)r++;return r}function YL(t,e){for(var r=t;r!=null;){if(r instanceof e)return r;r=r.getParent()}return r}function T4(t){var e=Vi(t,function(r){return Je(r)&&!r.isInline()});if(!Je(e))throw Error("Expected node ".concat(t.__key," to have closest block element node."));return e}function Vi(t,e){for(var r=t;r!==Tn()&&r!=null;){if(e(r))return r;r=r.getParent()}return null}function gi(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(){e.forEach(function(n){return n()})}}var Z6=0,V8=1,G8=2,$s=0,oX=1,kO=2,sX=3,lX=4;function uX(t,e,r){var n=t._nodeMap,i=[],o=Qi(e),u;try{for(o.s();!(u=o.n()).done;){var f=u.value,d=n.get(f);d!==void 0&&i.push(d)}}catch(_){o.e(_)}finally{o.f()}var g=Qi(r),S;try{for(g.s();!(S=g.n()).done;){var y=Se(S.value,2),C=y[0],b=y[1];if(!!b){var O=n.get(C);O!==void 0&&!pn(O)&&i.push(O)}}}catch(_){g.e(_)}finally{g.f()}return i}function cX(t,e,r,n,i){if(t===null||r.size===0&&n.size===0)return $s;var o=e._selection,u=t._selection;if(i)return oX;if(!Pe(o)||!Pe(u)||!u.isCollapsed()||!o.isCollapsed())return $s;var f=uX(e,r,n);if(f.length===0)return $s;if(f.length>1){var d=e._nodeMap,g=d.get(o.anchor.key),S=d.get(u.anchor.key);return g&&S&&!t._nodeMap.has(g.__key)&&Ue(g)&&g.__text.length===1&&o.anchor.offset===1?kO:$s}var y=f[0],C=t._nodeMap.get(y.__key);if(!Ue(C)||!Ue(y)||C.__mode!==y.__mode)return $s;var b=C.__text,O=y.__text;if(b===O)return $s;var _=o.anchor,N=u.anchor;if(_.key!==N.key||_.type!=="text")return $s;var P=_.offset,M=N.offset,R=O.length-b.length;return R===1&&M===P-1?kO:R===-1&&M===P+1?sX:R===-1&&M===P?lX:$s}function fX(t,e){var r=Date.now(),n=$s;return function(i,o,u,f,d,g){var S=Date.now();if(g.has("historic"))return n=$s,r=S,G8;var y=cX(i,o,f,d,t.isComposing()),C=function(){var b=g.has("history-push"),O=!b&&g.has("history-merge");if(O)return Z6;if(i===null)return V8;var _=o._selection,N=i._selection,P=f.size>0||d.size>0;if(!P)return N===null&&_!==null?Z6:G8;var M=u===null||u.editor===t;return b===!1&&y!==$s&&y===n&&S<r+e&&M?Z6:V8}();return r=S,n=y,C}}function dX(t,e){var r=e.redoStack,n=e.undoStack;if(r.length!==0){var i=e.current;i!==null&&(n.push(i),t.dispatchCommand(wx,!0));var o=r.pop();r.length===0&&t.dispatchCommand(Zk,!1),e.current=o,o.editor.setEditorState(o.editorState,{tag:"historic"})}}function hX(t,e){var r=e.redoStack,n=e.undoStack,i=n.length;if(i!==0){var o=e.current,u=n.pop();o!==null&&(r.push(o),t.dispatchCommand(Zk,!0)),n.length===0&&t.dispatchCommand(wx,!1),e.current=u,u.editor.setEditorState(u.editorState.clone(u.undoSelection),{tag:"historic"})}}function _O(t){t.undoStack=[],t.redoStack=[],t.current=null}function pX(t,e,r){var n=fX(t,r),i=function(d){var g=d.editorState,S=d.prevEditorState,y=d.dirtyLeaves,C=d.dirtyElements,b=d.tags,O=e.current,_=e.redoStack,N=e.undoStack,P=O===null?null:O.editorState;if(!(O!==null&&g===P)){var M=n(S,g,O,y,C,b);if(M===V8)_.length!==0&&(e.redoStack=[]),O!==null&&(N.push(xt(xt({},O),{},{undoSelection:S.read(Ie)})),t.dispatchCommand(wx,!0));else if(M===G8)return;e.current={editor:t,editorState:g}}},o=gi(t.registerCommand(um,function(){return hX(t,e),!0},Nt),t.registerCommand(cm,function(){return dX(t,e),!0},Nt),t.registerCommand(Xk,function(){return _O(e),!1},Nt),t.registerCommand(qL,function(){return _O(e),!0},Nt),t.registerUpdateListener(i)),u=t.registerUpdateListener(i);return function(){o(),u()}}function XL(){return{current:null,redoStack:[],undoStack:[]}}function mX(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,n=ee.exports.useMemo(function(){return e||XL()},[e]);ee.exports.useEffect(function(){return pX(t,n,r)},[r,t,n])}function dw(t){var e=t.externalHistoryState,r=lr(),n=Se(r,1),i=n[0];return mX(i,e),null}var ZL=ee.exports.createContext({historyState:{current:null,redoStack:[],undoStack:[]}}),vX=function(e){var r=e.children,n=ee.exports.useMemo(function(){return{historyState:XL()}},[]);return Q(ZL.Provider,{value:n,children:r})},e9=function(){return ee.exports.useContext(ZL)},R1=function(t){Fr(r,t);var e=zr(r);function r(n,i){var o;return ir(this,r),o=e.call(this,i),o.__url=n,o}return ar(r,[{key:"createDOM",value:function(i){var o=document.createElement("a");return o.href=this.__url,xs(o,i.theme.link),o}},{key:"updateDOM",value:function(i,o,u){var f=o,d=this.__url;return d!==i.__url&&(f.href=d),!1}},{key:"getURL",value:function(){return this.getLatest().__url}},{key:"setURL",value:function(i){var o=this.getWritable();o.__url=i}},{key:"insertNewAfter",value:function(i){var o=this.getParentOrThrow().insertNewAfter(i);if(Je(o)){var u=Op(this.__url);return o.append(u),u}return null}},{key:"canInsertTextBefore",value:function(){return!1}},{key:"canInsertTextAfter",value:function(){return!1}},{key:"canBeEmpty",value:function(){return!1}},{key:"isInline",value:function(){return!0}}],[{key:"getType",value:function(){return"link"}},{key:"clone",value:function(i){return new r(i.__url,i.__key)}},{key:"importDOM",value:function(){return{a:function(o){return{conversion:gX,priority:1}}}}}]),r}(jo);function gX(t){var e=null;return t instanceof HTMLAnchorElement&&(e=Op(t.href)),{node:e}}function Op(t){return new R1(t)}function Ao(t){return t instanceof R1}var i1=function(t){Fr(r,t);var e=zr(r);function r(){return ir(this,r),e.apply(this,arguments)}return ar(r,[{key:"insertNewAfter",value:function(i){var o=this.getParentOrThrow().insertNewAfter(i);if(Je(o)){var u=QL(this.__url);return o.append(u),u}return null}}],[{key:"getType",value:function(){return"autolink"}},{key:"clone",value:function(i){return new r(i.__url,i.__key)}}]),r}(R1);function QL(t){return new i1(t)}function Y8(t){return t instanceof i1}var _d=er();function X8(t){for(var e=1,r=t.getParent();r!=null;){if(Vn(r)){var n=r.getParent();if(Zr(n)){e++,r=n.getParent();continue}throw Error("A ListItemNode must have a ListNode for a parent.")}return e}return e}function Z8(t){var e=t.getParent();if(!Zr(e))throw Error("A ListItemNode must have a ListNode for a parent.");for(var r=e;r!==null;)r=r.getParent(),Zr(r)&&(e=r);return e}function JL(t){for(var e=[],r=t.getChildren().filter(Vn),n=0;n<r.length;n++){var i=r[n],o=i.getFirstChild();Zr(o)?e=e.concat(JL(o)):e.push(i)}return e}function rp(t){return Vn(t)&&Zr(t.getFirstChild())}function yX(t){for(var e=t;e!==null;){if(Vn(e))return e;e=e.getParent()}return null}function bX(t){for(var e=new Set,r=0;r<t.length;r++){var n=t[r];Vn(n)&&e.add(n)}return Array.from(e)}function wX(t){for(var e=t;e.getNextSibling()==null&&e.getPreviousSibling()==null;){var r=e.getParent();if(r==null||!(Vn(e)||Zr(e)))break;e=r}e.remove()}function SO(t,e){t.update(function(){var r=Ie();if(Pe(r)){var n=r.getNodes(),i=r.anchor,o=i.getNode(),u=o.getParent();if(n.length===0){var f=ks(e);if(pn(u)){o.replace(f);var d=fo();f.append(d)}else if(Vn(o)){var g=o.getParentOrThrow();f.append.apply(f,Rt(g.getChildren())),g.replace(f)}return}else for(var S=new Set,y=0;y<n.length;y++){var C=n[y];if(Je(C)&&C.isEmpty()&&!S.has(C.getKey())){CO(C,e);continue}if(D1(C))for(var b=C.getParent();b!=null;){var O=b.getKey();if(Zr(b)){if(!S.has(O)){var _=ks(e);_.append.apply(_,Rt(b.getChildren())),b.replace(_),S.add(O)}break}else{var N=b.getParent();if(pn(N)&&!S.has(O)){S.add(O),CO(b,e);break}b=N}}}}})}function CO(t,e){if(Zr(t))return t;var r=t.getPreviousSibling(),n=t.getNextSibling(),i=fo();if(Zr(r)&&e===r.getTag())return i.append(t),r.append(i),Zr(n)&&e===n.getTag()&&(r.append.apply(r,Rt(n.getChildren())),n.remove()),r;if(Zr(n)&&e===n.getTag())return i.append(t),n.getFirstChildOrThrow().insertBefore(i),n;var o=ks(e);return o.append(i),t.replace(o),i.append(t),o}function xX(t){t.update(function(){var e=Ie();if(Pe(e)){var r=new Set,n=e.getNodes(),i=e.anchor.getNode();if(n.length===0&&Vn(i))r.add(Z8(i));else for(var o=0;o<n.length;o++){var u=n[o];if(D1(u)){var f=YL(u,kx);f!=null&&r.add(Z8(f))}}r.forEach(function(d){var g=d,S=JL(d);S.forEach(function(y){if(y!=null){var C=Ar();C.append.apply(C,Rt(y.getChildren())),g.insertAfter(C),g=C,y.remove()}}),d.remove()})}})}function eN(t){t.forEach(function(e){if(!rp(e)){var r=e.getParent(),n=e.getNextSibling(),i=e.getPreviousSibling();if(rp(n)&&rp(i)){var o=i.getFirstChild();if(Zr(o)){o.append(e);var u=n.getFirstChild();if(Zr(u)){var f=u.getChildren();o.append.apply(o,Rt(f)),u.remove()}o.getChildren().forEach(function(b){return b.markDirty()})}}else if(rp(n)){var d=n.getFirstChild();if(Zr(d)){var g=d.getFirstChild();g!==null&&g.insertBefore(e),d.getChildren().forEach(function(b){return b.markDirty()})}}else if(rp(i)){var S=i.getFirstChild();Zr(S)&&(S.append(e),S.getChildren().forEach(function(b){return b.markDirty()}))}else if(Zr(r)){var y=fo(),C=ks(r.getTag());y.append(C),C.append(e),i?i.insertAfter(y):n?n.insertBefore(y):r.append(y)}Zr(r)&&r.getChildren().forEach(function(b){return b.markDirty()})}})}function tN(t){t.forEach(function(e){if(!rp(e)){var r=e.getParent(),n=r?r.getParent():void 0,i=n?n.getParent():void 0;if(Zr(i)&&Vn(n)&&Zr(r)){var o=r?r.getFirstChild():void 0,u=r?r.getLastChild():void 0;if(e.is(o))n.insertBefore(e),r.isEmpty()&&n.remove();else if(e.is(u))n.insertAfter(e),r.isEmpty()&&n.remove();else{var f=r.getTag(),d=fo(),g=ks(f);d.append(g),e.getPreviousSiblings().forEach(function(C){return g.append(C)});var S=fo(),y=ks(f);S.append(y),y.append.apply(y,Rt(e.getNextSiblings())),n.insertBefore(d),n.insertAfter(S),n.replace(e)}r.getChildren().forEach(function(C){return C.markDirty()}),i.getChildren().forEach(function(C){return C.markDirty()})}}})}function rN(t){var e=Ie();if(!Pe(e))return!1;var r=e.getNodes(),n=[];if(r.length===0&&r.push(e.anchor.getNode()),r.length===1){var i=yX(r[0]);i!==null&&(n=[i])}else n=bX(r);return n.length>0?(t==="indent"?eN(n):tN(n),!0):!1}function kX(){return rN("indent")}function _X(){return rN("outdent")}function SX(){var t=Ie();if(!Pe(t)||!t.isCollapsed())return!1;var e=t.anchor.getNode();if(!Vn(e)||e.getTextContent()!=="")return!1;var r=Z8(e),n=e.getParent();if(!Zr(n))throw Error("A ListItemNode must have a ListNode for a parent.");var i=n.getParent(),o;if(pn(i))o=Ar(),r.insertAfter(o);else if(Vn(i))o=fo(),i.insertAfter(o);else return!1;o.select();var u=e.getNextSiblings();if(u.length>0){var f=ks(n.getTag());if(wd(o))o.insertAfter(f);else{var d=fo();d.append(f),o.insertAfter(d)}u.forEach(function(g){g.remove(),f.append(g)})}return wX(e),!0}var kx=function(t){Fr(r,t);var e=zr(r);function r(n){return ir(this,r),e.call(this,n)}return ar(r,[{key:"createDOM",value:function(i){var o=document.createElement("li");return o.value=EO(this),TO(o,i.theme,this),o}},{key:"updateDOM",value:function(i,o,u){return o.value=EO(this),TO(o,u.theme,this),!1}},{key:"append",value:function(){for(var i=0;i<arguments.length;i++){var o=i<0||arguments.length<=i?void 0:arguments[i];if(Je(o)&&this.canMergeWith(o)){var u=o.getChildren();this.append.apply(this,Rt(u)),o.remove()}else ti(Fn(r.prototype),"append",this).call(this,o)}return this}},{key:"replace",value:function(i){if(Vn(i))return ti(Fn(r.prototype),"replace",this).call(this,i);var o=this.getParentOrThrow();if(Zr(o)){var u=o.__children,f=u.length,d=u.indexOf(this.__key);if(d===0)o.insertBefore(i);else if(d===f-1)o.insertAfter(i);else{for(var g=ks(o.getTag()),S=o.getChildren(),y=d+1;y<f;y++){var C=S[y];g.append(C)}o.insertAfter(i),i.insertAfter(g)}this.remove(),f===1&&o.remove()}return i}},{key:"insertAfter",value:function(i){var o=this.getNextSiblings();if(Vn(i))return o.forEach(function(y){return y.markDirty()}),ti(Fn(r.prototype),"insertAfter",this).call(this,i);var u=this.getParentOrThrow();if(!Zr(u))throw Error("insertAfter: list node is not parent of list item node");if(Zr(i)&&i.getTag()===u.getTag()){for(var f=i,d=i.getChildren(),g=d.length-1;g>=0;g--)f=d[g],this.insertAfter(f);return f}if(u.insertAfter(i),o.length!==0){var S=ks(u.getTag());o.forEach(function(y){return S.append(y)}),i.insertAfter(S)}return i}},{key:"insertNewAfter",value:function(){var i=fo();return this.insertAfter(i),i}},{key:"collapseAtStart",value:function(i){var o=Ar(),u=this.getChildren();u.forEach(function(b){return o.append(b)});var f=this.getParentOrThrow(),d=f.getParentOrThrow(),g=Vn(d);if(f.getChildrenSize()===1)if(g)f.remove(),d.select();else{f.replace(o);var S=i.anchor,y=i.focus,C=o.getKey();S.type==="element"&&S.getNode().is(this)&&S.set(C,S.offset,"element"),y.type==="element"&&y.getNode().is(this)&&y.set(C,y.offset,"element")}else f.insertBefore(o),this.remove();return!0}},{key:"getIndent",value:function(){for(var i=this.getParentOrThrow().getParentOrThrow(),o=0;Vn(i);)i=i.getParentOrThrow().getParentOrThrow(),o++;return o}},{key:"setIndent",value:function(i){for(var o=this.getIndent();o!==i;)o<i?(eN([this]),o++):(tN([this]),o--);return this}},{key:"insertBefore",value:function(i){var o=this.getNextSiblings();return Vn(i)&&o.forEach(function(u){return u.markDirty()}),ti(Fn(r.prototype),"insertBefore",this).call(this,i)}},{key:"canInsertAfter",value:function(i){return Vn(i)}},{key:"canReplaceWith",value:function(i){return Vn(i)}},{key:"canMergeWith",value:function(i){return wd(i)||Vn(i)}}],[{key:"getType",value:function(){return"listitem"}},{key:"clone",value:function(i){return new r(i.__key)}},{key:"importDOM",value:function(){return{li:function(o){return{conversion:CX,priority:0}}}}}]),r}(jo);function EO(t){var e=t.getParent(),r=1;if(e!=null)if(Zr(e))r=e.getStart();else throw Error("getListItemValue: list node is not parent of list item node");for(var n=t.getPreviousSiblings(),i=0;i<n.length;i++){var o=n[i];Vn(o)&&!Zr(o.getFirstChild())&&r++}return r}function TO(t,e,r){var n=[],i=[],o=e.list,u=o?o.listitem:void 0,f;if(o&&o.nested&&(f=o.nested.listitem),u!==void 0){var d=u.split(" ");n.push.apply(n,Rt(d))}if(f!==void 0){var g=f.split(" ");r.getChildren().some(function(S){return Zr(S)})?n.push.apply(n,Rt(g)):i.push.apply(i,Rt(g))}n.length>0&&xs.apply(void 0,[t].concat(n)),i.length>0&&Jk.apply(void 0,[t].concat(i))}function CX(t){return{node:fo()}}function fo(){return new kx}function Vn(t){return t instanceof kx}var _x=function(t){Fr(r,t);var e=zr(r);function r(n,i,o){var u;return ir(this,r),u=e.call(this,o),u.__tag=n,u.__start=i,u}return ar(r,[{key:"getTag",value:function(){return this.__tag}},{key:"getStart",value:function(){return this.__start}},{key:"createDOM",value:function(i){var o=this.__tag,u=document.createElement(o);return this.__start!==1&&u.setAttribute("start",String(this.__start)),OO(u,i.theme,this),u}},{key:"updateDOM",value:function(i,o,u){return i.__tag!==this.__tag?!0:(OO(o,u.theme,this),!1)}},{key:"canBeEmpty",value:function(){return!1}},{key:"append",value:function(){for(var i=0;i<arguments.length;i++){var o=i<0||arguments.length<=i?void 0:arguments[i];if(Vn(o))ti(Fn(r.prototype),"append",this).call(this,o);else{var u=fo();if(Zr(o))u.append(o);else{var f=gr(o.getTextContent());u.append(f)}ti(Fn(r.prototype),"append",this).call(this,u)}}return this}}],[{key:"getType",value:function(){return"list"}},{key:"clone",value:function(i){return new r(i.__tag,i.__start,i.__key)}},{key:"importDOM",value:function(){return{ol:function(o){return{conversion:AO,priority:0}},ul:function(o){return{conversion:AO,priority:0}}}}}]),r}(jo);function OO(t,e,r){var n=[],i=[],o=e.list;if(o!==void 0){var u=o[r.__tag+"Depth"]||[],f=X8(r)-1,d=f%u.length,g=u[d],S=o[r.__tag],y,C=o.nested;if(C!==void 0&&C.list&&(y=C.list),S!==void 0&&n.push(S),g!==void 0){var b=g.split(" ");n.push.apply(n,Rt(b));for(var O=0;O<u.length;O++)O!==d&&i.push(r.__tag+O)}if(y!==void 0){var _=y.split(" ");f>1?n.push.apply(n,Rt(_)):i.push.apply(i,Rt(_))}}n.length>0&&xs.apply(void 0,[t].concat(n)),i.length>0&&Jk.apply(void 0,[t].concat(i))}function AO(t){var e=t.nodeName.toLowerCase(),r=null;return(e==="ol"||e==="ul")&&(r=ks(e)),{node:r}}function ks(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return new _x(t,e)}function Zr(t){return t instanceof _x}var nN=er(),iN=er(),Q8=er();function EX(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useEffect(function(){r.focus()},[r]),null}function TX(t){var e=t.scrollRef,r=lr(),n=Se(r,1),i=n[0];return ws(function(){return i.registerUpdateListener(function(o){var u=o.tags,f=o.editorState,d=e.current;if(!(d===null||!u.has("scroll-into-view"))){var g=f.read(function(){return Ie()});if(!(!Pe(g)||!g.isCollapsed())){var S=i.getElementByKey(g.anchor.key);if(S!==null){var y=d.getBoundingClientRect(),C=S.getBoundingClientRect();C.bottom>y.bottom?S.scrollIntoView(!1):C.top<y.top&&S.scrollIntoView()}}}})},[i,e]),null}var Sx=function(t){Fr(r,t);var e=zr(r);function r(n){var i;return ir(this,r),i=e.call(this,n),i.__type="overflow",i}return ar(r,[{key:"createDOM",value:function(i){var o=document.createElement("span"),u=i.theme.characterLimit;return typeof u=="string"&&(o.className=u),o}},{key:"updateDOM",value:function(i,o){return!1}},{key:"insertNewAfter",value:function(i){var o=this.getParentOrThrow();return o.insertNewAfter(i)}},{key:"excludeFromCopy",value:function(){return!0}}],[{key:"getType",value:function(){return"overflow"}},{key:"clone",value:function(i){return new r(i.__key)}}]),r}(jo);function OX(){return new Sx}function J8(t){return t instanceof Sx}function AX(t,e,r){for(var n="",i=t.getChildren(),o=i.length,u=0;u<o;++u){var f=i[u];if(Ue(f)){var d=f.getTextContent();if(f.is(r.node)){if(r.offset>d.length)throw Error("Node ".concat(f.__key," and selection point do not match."));n+=f.getTextContent().substr(0,r.offset);break}else n+=d}else n+=e}return n}function IO(t,e,r,n){for(var i=n.getChildren(),o=i.length,u=0,f=!1,d=0;d<o&&!(u>e);++d){var g=i[d],S=Ue(g),y=S?g.getTextContent().length:r,C=u+y,b=f===!1&&u===t||u===0&&u===t||u<t&&t<=C;if(b&&Ue(g))return{node:g,offset:t-u};u=C,f=S}return null}function IX(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t)return!1;var r=t9();return e&&(r=r.trim()),r===""}function t9(){var t=Tn();return t.getTextContent()}function MX(t){if(!IX(t,!1))return!1;var e=Tn(),r=e.getChildren(),n=r.length;if(n>1)return!1;for(var i=0;i<n;i++){var o=r[i];if(Je(o)){if(o.__type!=="paragraph"||o.__indent!==0)return!1;for(var u=o.getChildren(),f=u.length,d=0;d<f;d++){var g=u[i];if(!Ue(g))return!1}}}return!0}function MO(t){return function(){return MX(t)}}function DX(t,e,r,n){var i=function(C){return C instanceof r},o=function(C){var b=gr(C.getTextContent());b.setFormat(C.getFormat()),C.replace(b)},u=function(C){return C.getLatest().__mode},f=function(C){if(!!C.isSimpleText()){var b=C.getPreviousSibling(),O=C.getTextContent(),_=C,N;if(Ue(b)){var P=b.getTextContent(),M=P+O,R=e(M);if(i(b))if(R===null||u(b)!==0){o(b);return}else{var D=R.end-P.length;if(D>0){var G=O.slice(0,D),V=P+G;if(b.select(),b.setTextContent(V),D===O.length)C.remove();else{var J=O.slice(D);C.setTextContent(J)}return}}else if(R===null||R.start<P.length)return}for(;;){N=e(O);var te=N===null?"":O.slice(N.end);if(O=te,te===""){var W=_.getNextSibling();if(Ue(W)){te=_.getTextContent()+W.getTextContent();var ce=e(te);if(ce===null){i(W)?o(W):W.markDirty();return}else if(ce.start!==0)return}}else{var ie=e(te);if(ie!==null&&ie.start===0)return}if(N===null)return;if(!(N.start===0&&Ue(b)&&b.isTextEntity())){var le=void 0;if(N.start===0){var pe=_.splitText(N.end),he=Se(pe,2);le=he[0],_=he[1]}else{var ye=_.splitText(N.start,N.end),Ee=Se(ye,3);le=Ee[1],_=Ee[2]}var Ne=n(le);if(le.replace(Ne),_==null)return}}}},d=function(C){var b=C.getTextContent(),O=e(b);if(O===null||O.start!==0){o(C);return}if(b.length>O.end){C.splitText(O.end);return}var _=C.getPreviousSibling();Ue(_)&&_.isTextEntity()&&(o(_),o(C));var N=C.getNextSibling();Ue(N)&&N.isTextEntity()&&(o(N),i(C)&&o(C))},g=t.registerNodeTransform(Fo,f),S=t.registerNodeTransform(r,d);return[g,S]}function PX(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.freeze({}),n=r.strlen,i=n===void 0?function(f){return f.length}:n,o=r.remainingCharacters,u=o===void 0?function(f){}:o;ee.exports.useEffect(function(){if(!t.hasNodes([Sx]))throw Error("useCharacterLimit: OverflowNode not registered on editor")},[t]),ee.exports.useEffect(function(){var f=t.getEditorState().read(t9),d=0;return gi(t.registerTextContentListener(function(g){f=g}),t.registerUpdateListener(function(g){var S=g.dirtyLeaves,y=t.isComposing(),C=S.size>0;if(!(y||!C)){var b=i(f),O=b>e||d!==null&&d>e,_=e-b;if(u(_),d===null||O){var N=LX(f,e,i);t.update(function(){NX(N)},{tag:"history-merge"})}d=b}}))},[t,e,u,i])}function LX(t,e,r){var n=Intl.Segmenter,i=0,o=0;if(typeof n=="function"){var u=new n,f=u.segment(t),d=Qi(f),g;try{for(d.s();!(g=d.n()).done;){var S=g.value.segment,y=o+r(S);if(y>e)break;o=y,i+=S.length}}catch(P){d.e(P)}finally{d.f()}}else for(var C=Array.from(t),b=C.length,O=0;O<b;O++){var _=C[O],N=o+r(_);if(N>e)break;o=N,i+=_.length}return i}function NX(t){for(var e=iX(),r=e.length,n=0,i=0;i<r;i+=1){var o=e[i].node;if(J8(o)){var u=n,f=n+o.getTextContentSize();if(f<=t){var d=o.getParent(),g=o.getPreviousSibling(),S=o.getNextSibling();PO(o);var y=Ie();Pe(y)&&(!y.anchor.getNode().isAttached()||!y.focus.getNode().isAttached())&&(Ue(g)?g.select():Ue(S)?S.select():d!==null&&d.select())}else if(u<t){var C=o.getFirstDescendant(),b=C!==null?C.getTextContentSize():0,O=u+b,_=Ue(C)&&C.isSimpleText(),N=O<=t;(_||N)&&PO(o)}}else if(D1(o)){var P=n;if(n+=o.getTextContentSize(),n>t&&!J8(o.getParent())){var M=Ie(),R=void 0;if(P<t&&Ue(o)&&o.isSimpleText()){var D=o.splitText(t-P),G=Se(D,2),V=G[1];R=DO(V)}else R=DO(o);M!==null&&Mi(M),RX(R)}}}}function DO(t){var e=OX();return t.insertBefore(e),e.append(t),e}function PO(t){for(var e=t.getChildren(),r=e.length,n=0;n<r;n++)t.insertBefore(e[n]);return t.remove(),r>0?e[r-1]:null}function RX(t){var e=t.getPreviousSibling();if(!!J8(e)){var r=t.getFirstChild(),n=e.getChildren(),i=n.length;if(r===null)t.append.apply(t,Rt(n));else for(var o=0;o<i;o++)r.insertBefore(n[o]);var u=Ie();if(Pe(u)){var f=u.anchor,d=f.getNode(),g=u.focus,S=f.getNode();d.is(e)?f.set(t.getKey(),f.offset,"element"):d.is(t)&&f.set(t.getKey(),i+f.offset,"element"),S.is(e)?g.set(t.getKey(),g.offset,"element"):S.is(t)&&g.set(t.getKey(),i+g.offset,"element")}e.remove()}}var jX=5,Q6=null;function FX(){return window.TextEncoder===void 0?null:(Q6===null&&(Q6=new window.TextEncoder),Q6)}function zX(t){var e=FX();if(e===null){var r=encodeURIComponent(t).match(/%[89ABab]/g);return t.length+(r?r.length:0)}return e.encode(t).length}function BX(t){var e=t.charset,r=e===void 0?"UTF-16":e,n=lr(),i=Se(n,1),o=i[0],u=ee.exports.useState(0),f=Se(u,2),d=f[0],g=f[1],S=ee.exports.useMemo(function(){return{remainingCharacters:g,strlen:function(C){if(r==="UTF-8")return zX(C);if(r==="UTF-16")return C.length;throw new Error("Unrecognized charset")}}},[r]);return PX(o,jX,S),Q("span",{className:"characters-limit ".concat(d<0?"characters-limit-exceeded":""),children:d})}function HX(t){var e=t.onClear,r=lr(),n=Se(r,1),i=n[0];return ws(function(){return i.registerCommand(Xk,function(o){return i.update(function(){if(e==null){var u=Tn(),f=Ie(),d=Ar();u.clear(),u.append(d),f!==null&&d.select()}else e()}),!0},Nt)},[i,e]),null}var hw=function(t){Fr(r,t);var e=zr(r);function r(n,i){return ir(this,r),e.call(this,n,i)}return ar(r,[{key:"createDOM",value:function(i){var o=ti(Fn(r.prototype),"createDOM",this).call(this,i);return xs(o,i.theme.hashtag),o}},{key:"canInsertTextBefore",value:function(){return!1}},{key:"isTextEntity",value:function(){return!0}}],[{key:"getType",value:function(){return"hashtag"}},{key:"clone",value:function(i){return new r(i.__text,i.__key)}}]),r}(Fo);function UX(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return new hw(t)}function aN(t,e,r){var n=lr(),i=Se(n,1),o=i[0];ee.exports.useEffect(function(){return gi.apply(void 0,Rt(DX(o,t,e,r)))},[r,o,t,e])}function KX(){var t="\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253-\u0254\u0256-\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF",e="\u0400-\u04FF\u0500-\u0527\u2DE0-\u2DFF\uA640-\uA69F\u0591-\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F4\uFB12-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFB4F\u0610-\u061A\u0620-\u065F\u066E-\u06D3\u06D5-\u06DC\u06DE-\u06E8\u06EA-\u06EF\u06FA-\u06FC\u06FF\u0750-\u077F\u08A0\u08A2-\u08AC\u08E4-\u08FE\uFB50-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\u200C-\u200C\u0E01-\u0E3A\u0E40-\u0E4E\u1100-\u11FF\u3130-\u3185\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\uFFA1-\uFFDC",r=String.fromCharCode,n="\u30A1-\u30FA\u30FC-\u30FE\uFF66-\uFF9F\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\u3041-\u3096\u3099-\u309E\u3400-\u4DBF\u4E00-\u9FFF"+r(173824)+"-"+r(177983)+r(177984)+"-"+r(178207)+r(194560)+"-"+r(195103)+"\u3003\u3005\u303B",i=t+e+n,o="A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u037A\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0640-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u076D\u0780-\u07A5\u07B1\u0904-\u0939\u093D\u0950\u0958-\u0961\u097D\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDD\u0F00\u0F40-\u0F47\u0F49-\u0F6A\u0F88-\u0F8B\u1000-\u1021\u1023-\u1027\u1029-\u102A\u1050-\u1055\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19A9\u19C1-\u19C7\u1A00-\u1A16\u1D00-\u1DBF\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u2094\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2C00-\u2C2E\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3006\u3031-\u3035\u303B-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FBB\uA000-\uA48C\uA800-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",u="\u0300-\u036F\u0483-\u0486\u0591-\u05B9\u05BB-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u0615\u064B-\u065E\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u0901-\u0903\u093C\u093E-\u094D\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7-\u09C8\u09CB-\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A70-\u0A71\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B43\u0B47-\u0B48\u0B4B-\u0B4D\u0B56-\u0B57\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C82-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D82-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2-\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F3E-\u0F3F\u0F71-\u0F84\u0F86-\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102C-\u1032\u1036-\u1039\u1056-\u1059\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8-\u19C9\u1A17-\u1A1B\u1DC0-\u1DC3\u20D0-\u20DC\u20E1\u20E5-\u20EB\u302A-\u302F\u3099-\u309A\uA802\uA806\uA80B\uA823-\uA827\uFB1E\uFE00-\uFE0F\uFE20-\uFE23",f="0-9\u0660-\u0669\u06F0-\u06F9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\uFF10-\uFF19",d=o+u+i,g=f+"_",S=d+g,y="#\\uFF03";return{alpha:d,alphanumeric:S,hashChars:y}}function WX(){var t=KX(),e=t.alpha,r=t.alphanumeric,n=t.hashChars,i="["+e+"]",o="["+r+"]",u="^|$|[^&/"+r+"]",f="["+n+"]",d="("+u+")("+f+")("+o+"*"+i+o+"*)";return d}var $X=new RegExp(WX(),"i");function oN(){var t=lr(),e=Se(t,1),r=e[0];ee.exports.useEffect(function(){if(!r.hasNodes([hw]))throw new Error("HashtagPlugin: HashtagNode not registered on editor")},[r]);var n=ee.exports.useCallback(function(o){return UX(o.getTextContent())},[]),i=ee.exports.useCallback(function(o){var u=$X.exec(o);if(u===null)return null;var f=u[3].length+1,d=u.index+u[1].length,g=d+f;return{end:g,start:d}},[]);return aN(i,hw,n),null}function qX(t){var e=Ie();e!==null&&Mi(e);var r=Ie();if(r!==null){var n=r.extract();if(t===null)n.forEach(function(d){var g=d.getParent();if(Ao(g)){for(var S=g.getChildren(),y=0;y<S.length;y++)g.insertBefore(S[y]);g.remove()}});else{if(n.length===1){var i=n[0];if(Ao(i)){i.setURL(t);return}else{var o=i.getParent();if(Ao(o)){o.setURL(t);return}}}var u=null,f=null;n.forEach(function(d){var g=d.getParent();if(!(g===f||g===null||Je(d)&&!d.isInline())){if(g.is(u)||(u=g,f=Op(t),Ao(g)?d.getPreviousSibling()===null?g.insertBefore(f):g.insertAfter(f):d.insertBefore(f)),Ao(d)){if(f!==null)for(var S=d.getChildren(),y=0;y<S.length;y++)f.append(S[y]);d.remove();return}f!==null&&f.append(d)}})}}}function sN(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useEffect(function(){if(!r.hasNodes([R1]))throw new Error("LinkPlugin: LinkNode not registered on editor")},[r]),ee.exports.useEffect(function(){return r.registerCommand(_d,function(n){var i=n;return qX(i),!0},Nt)},[r]),null}function VX(t){ee.exports.useEffect(function(){return gi(t.registerCommand(S0,function(){var e=kX();return!!e},Gn),t.registerCommand(fd,function(){var e=_X();return!!e},Gn),t.registerCommand(iN,function(){return SO(t,"ol"),!0},Gn),t.registerCommand(nN,function(){return SO(t,"ul"),!0},Gn),t.registerCommand(Q8,function(){return xX(t),!0},Gn),t.registerCommand(Yp,function(){var e=SX();return!!e},Gn))},[t])}function GX(){var t=lr(),e=Se(t,1),r=e[0];return VX(r),null}var lN={exports:{}};(function(t){var e=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(n){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,u={},f={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function M(R){return R instanceof d?new d(R.type,M(R.content),R.alias):Array.isArray(R)?R.map(M):R.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(M){return Object.prototype.toString.call(M).slice(8,-1)},objId:function(M){return M.__id||Object.defineProperty(M,"__id",{value:++o}),M.__id},clone:function M(R,D){D=D||{};var G,V;switch(f.util.type(R)){case"Object":if(V=f.util.objId(R),D[V])return D[V];G={},D[V]=G;for(var J in R)R.hasOwnProperty(J)&&(G[J]=M(R[J],D));return G;case"Array":return V=f.util.objId(R),D[V]?D[V]:(G=[],D[V]=G,R.forEach(function(te,W){G[W]=M(te,D)}),G);default:return R}},getLanguage:function(M){for(;M;){var R=i.exec(M.className);if(R)return R[1].toLowerCase();M=M.parentElement}return"none"},setLanguage:function(M,R){M.className=M.className.replace(RegExp(i,"gi"),""),M.classList.add("language-"+R)},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(G){var M=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(G.stack)||[])[1];if(M){var R=document.getElementsByTagName("script");for(var D in R)if(R[D].src==M)return R[D]}return null}},isActive:function(M,R,D){for(var G="no-"+R;M;){var V=M.classList;if(V.contains(R))return!0;if(V.contains(G))return!1;M=M.parentElement}return!!D}},languages:{plain:u,plaintext:u,text:u,txt:u,extend:function(M,R){var D=f.util.clone(f.languages[M]);for(var G in R)D[G]=R[G];return D},insertBefore:function(M,R,D,G){G=G||f.languages;var V=G[M],J={};for(var te in V)if(V.hasOwnProperty(te)){if(te==R)for(var W in D)D.hasOwnProperty(W)&&(J[W]=D[W]);D.hasOwnProperty(te)||(J[te]=V[te])}var ce=G[M];return G[M]=J,f.languages.DFS(f.languages,function(ie,le){le===ce&&ie!=M&&(this[ie]=J)}),J},DFS:function M(R,D,G,V){V=V||{};var J=f.util.objId;for(var te in R)if(R.hasOwnProperty(te)){D.call(R,te,R[te],G||te);var W=R[te],ce=f.util.type(W);ce==="Object"&&!V[J(W)]?(V[J(W)]=!0,M(W,D,null,V)):ce==="Array"&&!V[J(W)]&&(V[J(W)]=!0,M(W,D,te,V))}}},plugins:{},highlightAll:function(M,R){f.highlightAllUnder(document,M,R)},highlightAllUnder:function(M,R,D){var G={callback:D,container:M,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};f.hooks.run("before-highlightall",G),G.elements=Array.prototype.slice.apply(G.container.querySelectorAll(G.selector)),f.hooks.run("before-all-elements-highlight",G);for(var V=0,J;J=G.elements[V++];)f.highlightElement(J,R===!0,G.callback)},highlightElement:function(M,R,D){var G=f.util.getLanguage(M),V=f.languages[G];f.util.setLanguage(M,G);var J=M.parentElement;J&&J.nodeName.toLowerCase()==="pre"&&f.util.setLanguage(J,G);var te=M.textContent,W={element:M,language:G,grammar:V,code:te};function ce(le){W.highlightedCode=le,f.hooks.run("before-insert",W),W.element.innerHTML=W.highlightedCode,f.hooks.run("after-highlight",W),f.hooks.run("complete",W),D&&D.call(W.element)}if(f.hooks.run("before-sanity-check",W),J=W.element.parentElement,J&&J.nodeName.toLowerCase()==="pre"&&!J.hasAttribute("tabindex")&&J.setAttribute("tabindex","0"),!W.code){f.hooks.run("complete",W),D&&D.call(W.element);return}if(f.hooks.run("before-highlight",W),!W.grammar){ce(f.util.encode(W.code));return}if(R&&n.Worker){var ie=new Worker(f.filename);ie.onmessage=function(le){ce(le.data)},ie.postMessage(JSON.stringify({language:W.language,code:W.code,immediateClose:!0}))}else ce(f.highlight(W.code,W.grammar,W.language))},highlight:function(M,R,D){var G={code:M,grammar:R,language:D};if(f.hooks.run("before-tokenize",G),!G.grammar)throw new Error('The language "'+G.language+'" has no grammar.');return G.tokens=f.tokenize(G.code,G.grammar),f.hooks.run("after-tokenize",G),d.stringify(f.util.encode(G.tokens),G.language)},tokenize:function(M,R){var D=R.rest;if(D){for(var G in D)R[G]=D[G];delete R.rest}var V=new y;return C(V,V.head,M),S(M,V,R,V.head,0),O(V)},hooks:{all:{},add:function(M,R){var D=f.hooks.all;D[M]=D[M]||[],D[M].push(R)},run:function(M,R){var D=f.hooks.all[M];if(!(!D||!D.length))for(var G=0,V;V=D[G++];)V(R)}},Token:d};n.Prism=f;function d(M,R,D,G){this.type=M,this.content=R,this.alias=D,this.length=(G||"").length|0}d.stringify=function M(R,D){if(typeof R=="string")return R;if(Array.isArray(R)){var G="";return R.forEach(function(ce){G+=M(ce,D)}),G}var V={type:R.type,content:M(R.content,D),tag:"span",classes:["token",R.type],attributes:{},language:D},J=R.alias;J&&(Array.isArray(J)?Array.prototype.push.apply(V.classes,J):V.classes.push(J)),f.hooks.run("wrap",V);var te="";for(var W in V.attributes)te+=" "+W+'="'+(V.attributes[W]||"").replace(/"/g,"&quot;")+'"';return"<"+V.tag+' class="'+V.classes.join(" ")+'"'+te+">"+V.content+"</"+V.tag+">"};function g(M,R,D,G){M.lastIndex=R;var V=M.exec(D);if(V&&G&&V[1]){var J=V[1].length;V.index+=J,V[0]=V[0].slice(J)}return V}function S(M,R,D,G,V,J){for(var te in D)if(!(!D.hasOwnProperty(te)||!D[te])){var W=D[te];W=Array.isArray(W)?W:[W];for(var ce=0;ce<W.length;++ce){if(J&&J.cause==te+","+ce)return;var ie=W[ce],le=ie.inside,pe=!!ie.lookbehind,he=!!ie.greedy,ye=ie.alias;if(he&&!ie.pattern.global){var Ee=ie.pattern.toString().match(/[imsuy]*$/)[0];ie.pattern=RegExp(ie.pattern.source,Ee+"g")}for(var Ne=ie.pattern||ie,ge=G.next,De=V;ge!==R.tail&&!(J&&De>=J.reach);De+=ge.value.length,ge=ge.next){var ze=ge.value;if(R.length>M.length)return;if(!(ze instanceof d)){var Ye=1,q;if(he){if(q=g(Ne,De,M,pe),!q||q.index>=M.length)break;var Zt=q.index,A=q.index+q[0].length,zt=De;for(zt+=ge.value.length;Zt>=zt;)ge=ge.next,zt+=ge.value.length;if(zt-=ge.value.length,De=zt,ge.value instanceof d)continue;for(var Ht=ge;Ht!==R.tail&&(zt<A||typeof Ht.value=="string");Ht=Ht.next)Ye++,zt+=Ht.value.length;Ye--,ze=M.slice(De,zt),q.index-=De}else if(q=g(Ne,0,ze,pe),!q)continue;var Zt=q.index,Re=q[0],we=ze.slice(0,Zt),Ke=ze.slice(Zt+Re.length),yt=De+ze.length;J&&yt>J.reach&&(J.reach=yt);var At=ge.prev;we&&(At=C(R,At,we),De+=we.length),b(R,At,Ye);var kt=new d(te,le?f.tokenize(Re,le):Re,ye,Re);if(ge=C(R,At,kt),Ke&&C(R,ge,Ke),Ye>1){var Kt={cause:te+","+ce,reach:yt};S(M,R,D,ge.prev,De,Kt),J&&Kt.reach>J.reach&&(J.reach=Kt.reach)}}}}}}function y(){var M={value:null,prev:null,next:null},R={value:null,prev:M,next:null};M.next=R,this.head=M,this.tail=R,this.length=0}function C(M,R,D){var G=R.next,V={value:D,prev:R,next:G};return R.next=V,G.prev=V,M.length++,V}function b(M,R,D){for(var G=R.next,V=0;V<D&&G!==M.tail;V++)G=G.next;R.next=G,G.prev=R,M.length-=V}function O(M){for(var R=[],D=M.head.next;D!==M.tail;)R.push(D.value),D=D.next;return R}if(!n.document)return n.addEventListener&&(f.disableWorkerMessageHandler||n.addEventListener("message",function(M){var R=JSON.parse(M.data),D=R.language,G=R.code,V=R.immediateClose;n.postMessage(f.highlight(G,f.languages[D],D)),V&&n.close()},!1)),f;var _=f.util.currentScript();_&&(f.filename=_.src,_.hasAttribute("data-manual")&&(f.manual=!0));function N(){f.manual||f.highlightAll()}if(!f.manual){var P=document.readyState;P==="loading"||P==="interactive"&&_&&_.defer?document.addEventListener("DOMContentLoaded",N):window.requestAnimationFrame?window.requestAnimationFrame(N):window.setTimeout(N,16)}return f}(e);t.exports&&(t.exports=r),typeof iE!="undefined"&&(iE.Prism=r)})(lN);var vg=lN.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,r){var n={};n["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[r]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};i["language-"+r]={pattern:/[\s\S]+/,inside:Prism.languages[r]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(t,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(S){return S=S.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+S+")")}var n=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return n}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(n),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(n),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(S){["url","bold","italic","strike","code-snippet"].forEach(function(y){S!==y&&(t.languages.markdown[S].inside.content.inside[y]=t.languages.markdown[y])})}),t.hooks.add("after-tokenize",function(S){if(S.language!=="markdown"&&S.language!=="md")return;function y(C){if(!(!C||typeof C=="string"))for(var b=0,O=C.length;b<O;b++){var _=C[b];if(_.type!=="code"){y(_.content);continue}var N=_.content[1],P=_.content[3];if(N&&P&&N.type==="code-language"&&P.type==="code-block"&&typeof N.content=="string"){var M=N.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");M=(/[a-z][\w-]*/i.exec(M)||[""])[0].toLowerCase();var R="language-"+M;P.alias?typeof P.alias=="string"?P.alias=[P.alias,R]:P.alias.push(R):P.alias=[R]}}}y(S.tokens)}),t.hooks.add("wrap",function(S){if(S.type==="code-block"){for(var y="",C=0,b=S.classes.length;C<b;C++){var O=S.classes[C],_=/language-(.+)/.exec(O);if(_){y=_[1];break}}var N=t.languages[y];if(N)S.content=t.highlight(g(S.content),N,y);else if(y&&y!=="none"&&t.plugins.autoloader){var P="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);S.attributes.id=P,t.plugins.autoloader.loadLanguages(y,function(){var M=document.getElementById(P);M&&(M.innerHTML=t.highlight(M.textContent,t.languages[y],y))})}}});var u=RegExp(t.languages.markup.tag.pattern.source,"gi"),f={amp:"&",lt:"<",gt:">",quot:'"'},d=String.fromCodePoint||String.fromCharCode;function g(S){var y=S.replace(u,"");return y=y.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(C,b){if(b=b.toLowerCase(),b[0]==="#"){var O;return b[1]==="x"?O=parseInt(b.slice(2),16):O=Number(b.slice(1)),d(O)}else{var _=f[b];return _||C}}),y}t.languages.md=t.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(t){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=Prism.languages.swift});var e7="javascript",YX=function(){return e7},XX=function(){return Object.keys(vg.languages).filter(function(e){return typeof vg.languages[e]!="function"}).sort()},a1=function(t){Fr(r,t);var e=zr(r);function r(n,i,o){var u;return ir(this,r),u=e.call(this,n,o),u.__highlightType=i,u}return ar(r,[{key:"createDOM",value:function(i){var o=ti(Fn(r.prototype),"createDOM",this).call(this,i),u=J6(i.theme,this.__highlightType);return xs(o,u),o}},{key:"updateDOM",value:function(i,o,u){var f=ti(Fn(r.prototype),"updateDOM",this).call(this,i,o,u),d=J6(u.theme,i.__highlightType),g=J6(u.theme,this.__highlightType);return d!==g&&(d&&Jk(o,d),g&&xs(o,g)),f}},{key:"setFormat",value:function(i){return this.getWritable()}}],[{key:"getType",value:function(){return"code-highlight"}},{key:"clone",value:function(i){return new r(i.__text,i.__highlightType||void 0,i.__key)}}]),r}(Fo);function J6(t,e){return e&&t&&t.codeHighlight&&t.codeHighlight[e]}function gg(t,e){return new a1(t,e)}function Ys(t){return t instanceof a1}var e5="data-highlight-language",Ap=function(t){Fr(r,t);var e=zr(r);function r(n,i){var o;return ir(this,r),o=e.call(this,i),o.__language=n,o}return ar(r,[{key:"createDOM",value:function(i){var o=document.createElement("code");xs(o,i.theme.code),o.setAttribute("spellcheck","false");var u=this.getLanguage();return u&&o.setAttribute(e5,u),o}},{key:"updateDOM",value:function(i,o){var u=this.__language,f=i.__language;return u?u!==f&&o.setAttribute(e5,u):f&&o.removeAttribute(e5),!1}},{key:"insertNewAfter",value:function(i){var o=this.getChildren(),u=o.length;if(u>=2&&o[u-1].getTextContent()===`
`&&o[u-2].getTextContent()===`
`&&i.isCollapsed()&&i.anchor.key===this.__key&&i.anchor.offset===u){o[u-1].remove(),o[u-2].remove();var f=Ar();return this.insertAfter(f),f}var d=i.anchor.getNode(),g=mw(d);if(g!=null){for(var S=0,y=g.getTextContent();S<y.length&&/[\t ]/.test(y[S]);)S+=1;if(S>0){var C=y.substring(0,S),b=gg(C);return d.insertAfter(b),i.insertNodes([_0()]),b.select(),b}}return null}},{key:"canInsertTab",value:function(){return!0}},{key:"collapseAtStart",value:function(){var i=Ar(),o=this.getChildren();return o.forEach(function(u){return i.append(u)}),this.replace(i),!0}},{key:"setLanguage",value:function(i){var o=this.getWritable();o.__language=i}},{key:"getLanguage",value:function(){return this.getLatest().__language}}],[{key:"getType",value:function(){return"code"}},{key:"clone",value:function(i){return new r(i.__language,i.__key)}},{key:"importDOM",value:function(){return{div:function(o){return{conversion:QX,priority:1}},pre:function(o){return{conversion:ZX,priority:0}},table:function(o){var u=o;return t5(u)?{conversion:JX,priority:4}:null},td:function(o){var u=o,f=u.closest("table");return rZ(u)?{conversion:eZ,priority:4}:f&&t5(f)?{conversion:NO,priority:4}:null},tr:function(o){var u=o,f=u.closest("table");return f&&t5(f)?{conversion:NO,priority:4}:null}}}}]),r}(jo);function Sd(t){return new Ap(t)}function pw(t){return t instanceof Ap}function mw(t){var e=null,r=t.getPreviousSiblings();for(r.push(t);r.length>0;){var n=r.pop();if(Ys(n)&&(e=n),Pi(n))break}return e}function LO(t){var e=null,r=t.getNextSiblings();for(r.unshift(t);r.length>0;){var n=r.shift();if(Ys(n)&&(e=n),Pi(n))break}return e}function ZX(t){return{node:Sd()}}function QX(t){var e=t;return{after:function(n){var i=t.parentNode;return i!=null&&t!==i.lastChild&&n.push(_0()),n},node:tZ(e)?Sd():null}}function JX(){return{node:Sd()}}function NO(){return{node:null}}function eZ(t){var e=t;return{after:function(n){return e.parentNode&&e.parentNode.nextSibling&&n.push(_0()),n},node:null}}function tZ(t){return t.style.fontFamily.match("monospace")!==null}function rZ(t){return t.classList.contains("js-file-line")}function t5(t){return t.classList.contains("js-file-line-container")}function RO(t,e){var r=t.getParent();pw(r)?uN(r,e):Ys(t)&&t.replace(gr(t.__text))}function nZ(t,e){var r=e.getElementByKey(t.getKey());if(r!==null){var n=t.getChildren(),i=n.length;if(i!==r.__cachedChildrenLength){r.__cachedChildrenLength=i;for(var o="1",u=1,f=0;f<i;f++)Pi(n[f])&&(o+=`
`+ ++u);r.setAttribute("data-gutter",o)}}}var r5=!1;function uN(t,e){r5||(r5=!0,t.getLanguage()===void 0&&t.setLanguage(e7),e.update(function(){iZ(t,function(){var r=t.getTextContent(),n=vg.tokenize(r,vg.languages[t.getLanguage()||""]||vg.languages[e7]),i=cN(n),o=aZ(t.getChildren(),i),u=o.from,f=o.to,d=o.nodesForReplacement;return u!==f||d.length?(t.splice(u,f-u,d),!0):!1})},{onUpdate:function(){r5=!1},skipTransforms:!0}))}function cN(t){var e=[];return t.forEach(function(r){if(typeof r=="string")for(var n=r.split(`
`),i=0;i<n.length;i++){var o=n[i];o.length&&e.push(gg(o)),i<n.length-1&&e.push(_0())}else{var u=r.content;typeof u=="string"?e.push(gg(u,r.type)):u.length===1&&typeof u[0]=="string"?e.push(gg(u[0],r.type)):e.push.apply(e,Rt(cN(u)))}}),e}function iZ(t,e){var r=Ie();if(!(!Pe(r)||!r.anchor)){var n=r.anchor,i=n.offset,o=n.type==="element"&&Pi(t.getChildAtIndex(n.offset-1)),u=0;if(!o){var f=n.getNode();u=i+f.getPreviousSiblings().reduce(function(g,S){return g+(Pi(S)?0:S.getTextContentSize())},0)}var d=e();if(!!d){if(o){n.getNode().select(i,i);return}t.getChildren().some(function(g){if(Ue(g)){var S=g.getTextContentSize();if(S>=u)return g.select(u,u),!0;u-=S}return!1})}}}function aZ(t,e){for(var r=0;r<t.length&&jO(t[r],e[r]);)r++;for(var n=t.length,i=e.length,o=Math.min(n,i)-r,u=0;u<o;)if(u++,!jO(t[n-u],e[i-u])){u--;break}var f=r,d=n-u,g=e.slice(r,i-u);return{from:f,nodesForReplacement:g,to:d}}function jO(t,e){return Ys(t)&&Ys(e)?t.__text===e.__text&&t.__highlightType===e.__highlightType:!!(Pi(t)&&Pi(e))}function FO(t){var e=Ie();if(!Pe(e)||e.isCollapsed())return!1;for(var r=e.getNodes(),n=0;n<r.length;n++){var i=r[n];if(!Ys(i)&&!Pi(i))return!1}var o=mw(r[0]);o!=null&&zO(o,t);for(var u=1;u<r.length;u++){var f=r[u];Pi(r[u-1])&&Ys(f)&&zO(f,t)}return!0}function zO(t,e){var r=t.getTextContent();if(e===S0)if(r.length>0&&/\s/.test(r[0]))t.setTextContent("	"+r);else{var n=gg("	");t.insertBefore(n)}else r.indexOf("	")===0&&(r.length===1?t.remove():t.setTextContent(r.substring(1)))}function BO(t,e){var r=Ie();if(!Pe(r))return!1;var n=r.anchor,i=r.focus,o=n.offset,u=i.offset,f=n.getNode(),d=i.getNode(),g=t===kd;if(!Ys(f)||!Ys(d))return!1;if(!e.altKey){if(r.isCollapsed()){var S=f.getParentOrThrow();if(g&&o===0&&f.getPreviousSibling()===null){var y=S.getPreviousSibling();if(y===null)return S.selectPrevious(),e.preventDefault(),!0}else if(!g&&o===f.getTextContentSize()&&f.getNextSibling()===null){var C=S.getNextSibling();if(C===null)return S.selectNext(),e.preventDefault(),!0}}return!1}var b=mw(f),O=LO(d);if(b==null||O==null)return!1;for(var _=b.getNodesBetween(O),N=0;N<_.length;N++){var P=_[N];if(!Ys(P)&&!Pi(P))return!1}e.preventDefault(),e.stopPropagation();var M=g?b.getPreviousSibling():O.getNextSibling();if(!Pi(M))return!0;var R=g?M.getPreviousSibling():M.getNextSibling();if(R==null)return!0;var D=g?mw(R):LO(R),G=D!=null?D:R;return M.remove(),_.forEach(function(V){return V.remove()}),t===kd?(_.forEach(function(V){return G.insertBefore(V)}),G.insertBefore(M)):(G.insertAfter(M),G=M,_.forEach(function(V){G.insertAfter(V),G=V})),r.setTextNodeRange(f,o,d,u),!0}function oZ(t){if(!t.hasNodes([Ap,a1]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return gi(t.registerMutationListener(Ap,function(e){t.update(function(){var r=Qi(e),n;try{for(r.s();!(n=r.n()).done;){var i=Se(n.value,2),o=i[0],u=i[1];if(u!=="destroyed"){var f=Gt(o);f!==null&&nZ(f,t)}}}catch(d){r.e(d)}finally{r.f()}})}),t.registerNodeTransform(Ap,function(e){return uN(e,t)}),t.registerNodeTransform(Fo,function(e){return RO(e,t)}),t.registerNodeTransform(a1,function(e){return RO(e,t)}),t.registerCommand(S0,function(e){return FO(S0)},Gn),t.registerCommand(fd,function(e){return FO(fd)},Gn),t.registerCommand(kd,function(e){return BO(kd,e)},Gn),t.registerCommand(r1,function(e){return BO(r1,e)},Gn))}var fN=new Map;function ub(t){var e=t.getLatest(),r=e.constructor,n=r.clone(e);return n.__parent=e.__parent,Je(e)&&Je(n)?(n.__children=Array.from(e.__children),n.__format=e.__format,n.__indent=e.__indent,n.__dir=e.__dir):Ue(e)&&Ue(n)&&(n.__format=e.__format,n.__style=e.__style,n.__mode=e.__mode,n.__detail=e.__detail),n}function sZ(t,e,r){var n=r.get(e.getKey());return Je(n)?n.__children.indexOf(t.getKey()):t.getIndexWithinParent()}function lZ(t){for(var e=t.getParent();e!==null&&e.excludeFromCopy();)e=e.getParent();return e}function HO(t,e,r,n,i){for(var o=t,u=e;o!==null;){var f=lZ(o);if(f===null)break;if(!Je(o)||!o.excludeFromCopy()){var d=o.getKey(),g=i.get(d),S=g===void 0;if(S&&(g=ub(o),i.set(d,g)),Ue(g)&&!g.isSegmented()&&!g.isToken()?g.__text=g.__text.slice(r?u:0,r?void 0:u):Je(g)&&(g.__children=g.__children.slice(r?u:0,r?void 0:u+1)),pn(f)){S&&n.push(d);break}}u=sZ(o,f,i),o=f}}function UO(){throw Error("getLatest() on clone node")}function dN(t){for(var e=uZ(t),r=e.nodeMap,n=0;n<r.length;n++){var i=r[n][1];i.getLatest!==UO&&Object.setPrototypeOf(i,Object.create(Object.getPrototypeOf(i),{getLatest:{configurable:!0,enumerable:!0,value:UO,writable:!0}}))}return e}function uZ(t){if(Pe(t)){var e=t.anchor,r=t.focus,n=e.getCharacterOffset(),i=r.getCharacterOffset(),o=e.getNode(),u=r.getNode(),f=o.getParentOrThrow();if(o===u&&Ue(o)&&(f.canBeEmpty()||f.getChildrenSize()>1)){var d=ub(o),g=i>n,S=g?n:i,y=g?i:n;d.__text=d.__text.slice(S,y);var C=d.getKey();return{nodeMap:[[C,d]],range:[C]}}var b=t.getNodes();if(b.length===0)return{nodeMap:[],range:[]};var O=b.length,_=b[0],N=_.getParent();if(N!==null&&(!N.canBeEmpty()||pn(N))){var P=N.__children,M=P.length;if(M===O){for(var R=!0,D=0;D<P.length;D++)if(P[D]!==b[D].__key){R=!1;break}R&&(O++,b.push(N))}}var G=b[O-1],V=e.isBefore(r),J=new Map,te=[];HO(_,V?n:i,!0,te,J);for(var W=0;W<O;W++){var ce=b[W],ie=ce.getKey();if(!J.has(ie)&&(!Je(ce)||!ce.excludeFromCopy())){var le=ub(ce);pn(ce.getParent())&&te.push(ce.getKey()),J.set(ie,le)}}return HO(G,V?i:n,!1,te,J),{nodeMap:Array.from(J.entries()),range:te}}else if(Pn(t)){var pe=t.getNodes().map(function(he){var ye=he.getKey(),Ee=ub(he);return[ye,Ee]});return{nodeMap:pe,range:[t.gridKey]}}throw Error("TODO")}function hN(t){return fN.get(t)||null}function cZ(t){var e="";for(var r in t)r&&(e+="".concat(r,": ").concat(t[r],";"));return e}function $v(t,e){var r=hN(t.getStyle()),n=r?xt(xt({},r),e):e,i=cZ(n);t.setStyle(i),fN.set(i,n)}function fZ(t,e){var r=t.getNodes(),n=r.length,i=n-1,o=r[0],u=r[i];if(!t.isCollapsed()){var f=t.anchor,d=t.focus,g=o.getTextContent(),S=g.length,y=d.offset,C=f.offset,b,O,_=f.isBefore(d);if(b=_?C:y,O=_?y:C,b===o.getTextContentSize()){var N=o.getNextSibling();Ue(N)&&(C=0,b=0,o=N)}if(o.is(u)){if(Ue(o)){if(b=C>y?y:C,O=C>y?C:y,b===O)return;if(b===0&&O===S)$v(o,e),o.select(b,O);else{var P=o.splitText(b,O),M=b===0?P[0]:P[1];$v(M,e),M.select(0,O-b)}}}else{if(Ue(o)){if(b!==0){var R=o.splitText(b),D=Se(R,2);o=D[1],b=0}$v(o,e)}if(Ue(u)){var G=u.getTextContent(),V=G.length;if(O!==V){var J=u.splitText(O),te=Se(J,1);u=te[0]}O!==0&&$v(u,e)}for(var W=1;W<i;W++){var ce=r[W],ie=ce.getKey();Ue(ce)&&ie!==o.getKey()&&ie!==u.getKey()&&!ce.isToken()&&$v(ce,e)}}}}function KO(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",n=null,i=t.getNodes(),o=t.anchor,u=t.focus,f=t.isBackward(),d=f?u.offset:o.offset,g=f?u.getNode():o.getNode(),S=0;S<i.length;S++){var y=i[S];if(!(S!==0&&d===0&&y.is(g))&&Ue(y)){var C=dZ(y,e,r);if(n===null)n=C;else if(n!==C){n="";break}}}return n===null?r:n}function dZ(t,e,r){var n=t.getStyle(),i=hN(n);return i!==null&&i[e]||r}function hZ(t,e,r,n){t.modify(e?"extend":"move",r,n)}function pN(t){var e=t.anchor.getNode(),r=pn(e)?e:e.getParentOrThrow();return r.getDirection()==="rtl"}function vw(t,e,r){var n=pN(t);hZ(t,e,r?!n:n,"character")}function pZ(t){for(var e=t;e!==null&&!pn(e);){var r=e.getLatest(),n=e.getParent();r.__children.length===0&&e.remove(),e=n}}function Jh(t,e,r){var n=t.getNodes(),i=n.length;if(i===0){var o=t.anchor,u=o.type==="text"?o.getNode().getParentOrThrow():o.getNode(),f=u.getChildren(),d=e();f.forEach(function(Ne){return d.append(Ne)}),r&&(d=r.append(d)),u.replace(d);return}var g=n[0],S=new Map,y=[],C=Je(g)?g:g.getParentOrThrow();for(C.isInline()&&(C=C.getParentOrThrow());C!==null;){var b=C.getPreviousSibling();if(b!==null){C=b;break}if(C=C.getParentOrThrow(),pn(C))break}for(var O=new Set,_=0;_<i;_++){var N=n[_];Je(N)&&N.getChildrenSize()===0&&O.add(N.getKey())}for(var P=new Set,M=0;M<i;M++){var R=n[M],D=R.getParent();if(D!==null&&D.isInline()&&(D=D.getParent()),D!==null&&D1(R)&&!P.has(R.getKey())){var G=D.getKey();S.get(G)===void 0&&function(){var Ne=e();y.push(Ne),S.set(G,Ne),D.getChildren().forEach(function(ge){Ne.append(ge),P.add(ge.getKey())}),pZ(D)}()}else O.has(R.getKey())&&(y.push(e()),R.remove())}if(r)for(var V=0;V<y.length;V++){var J=y[V];r.append(J)}if(pn(C)){var te=C.getFirstChild();if(Je(te)&&(C=te),te===null)if(r)C.append(r);else for(var W=0;W<y.length;W++){var ce=y[W];C.append(ce)}else if(r)te.insertBefore(r);else for(var ie=0;ie<y.length;ie++){var le=y[ie];te.insertBefore(le)}}else if(r)C.insertAfter(r);else for(var pe=y.length-1;pe>=0;pe--){var he=y[pe];C.insertAfter(he)}var ye=FL();if(Pe(ye)&&WO(ye.anchor)&&WO(ye.focus)){var Ee=ye.clone();Ee.dirty=!0,Mi(Ee)}else t.dirty=!0}function WO(t){return t.getNode().isAttached()}function gw(t){return t.type==="text"?t.offset===t.getNode().getTextContentSize():t.offset===t.getNode().getChildrenSize()}function yw(t,e){var r=vL(t.focus,e);return pi(r)&&!r.isIsolated()}var mN=new Set(["STYLE"]);function vN(t){var e=Ie();if(e==null)throw new Error("Expected valid LexicalSelection");if(Pe(e)&&e.isCollapsed()||e.getNodes().length===0)return null;var r=dN(e);return mZ(t,e,r)}function gN(t,e,r){var n=r;if(Pe(e)||Pn(e)){var i=e.anchor.getNode(),o=e.focus.getNode(),u=r.is(i),f=r.is(o);if(Ue(r)&&(u||f)){var d=e.anchor.getCharacterOffset(),g=e.focus.getCharacterOffset(),S=e.isBackward(),y=i.is(o),C=r.is(S?o:i),b=r.getTextContent(),O=b.length;if(y){var _=d>g?g:d,N=d>g?d:g,P=r.splitText(_,N);n=_===0?P[0]:P[1]}else{var M;if(C?M=S?g:d:M=S?d:g,!S&&M===0)return null;M!==O&&(n=r.splitText(M)[C&&M!==0?1:0])}}}var R=n.exportDOM(t),D=R.element,G=R.after;if(!D)return null;for(var V=Je(n)?n.getChildren():[],J=0;J<V.length;J++){var te=V[J];if(te.isSelected()){var W=gN(t,e,te);W&&D.append(W)}}return G?G.call(n,D):D}function mZ(t,e,r){for(var n=document.createElement("div"),i=0;i<r.range.length;i++){var o=r.range[i],u=Gt(o);if(u&&u.isSelected()){var f=gN(t,e,u);f&&n.append(f)}}return n.innerHTML}function vZ(t){var e=Ie();if(e!==null){var r=t._config.namespace,n=dN(e);return JSON.stringify({namespace:r,state:n})}return null}function r9(t,e){var r=t.getData("text/plain");r!=null&&e.insertRawText(r)}function yN(t,e,r){var n=t.getData("application/x-lexical-editor");if(n){var i=r._config.namespace;try{var o=JSON.parse(n);if(o.namespace===i){var u=o.state,f=gZ(u);e.insertNodes(f);return}}catch{}}var d="text/html",g=t.getData(d);if(g){for(var S=new DOMParser,y=S.parseFromString(g,d),C=bZ(y,r),b=[],O=null,_=0;_<C.length;_++){var N=C[_];!Je(N)||N.isInline()?(O===null&&(O=Ar(),b.push(O)),O!==null&&O.append(N)):(b.push(N),O=null)}e.insertNodes(b);return}r9(t,e)}function gZ(t){for(var e=t.range,r=t.nodeMap,n=new Map(r),i=[],o=0;o<e.length;o++){var u=e[o],f=n.get(u);if(f!==void 0){var d=$G(f,n);i.push(d)}}return i}function yZ(t,e){var r=t.nodeName,n=e._htmlConversions.get(r.toLowerCase()),i=null;return n!==void 0&&n.forEach(function(o){var u=o(t);u!==null&&(i===null||i.priority<u.priority)&&(i=u)}),i!==null?i.conversion:null}function bN(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Map,n=arguments.length>3?arguments[3]:void 0,i=[];if(mN.has(t.nodeName))return i;var o=null,u=yZ(t,e),f=u?u(t):null,d=null;if(f!==null){if(d=f.after,o=f.node,o!==null){var g=Qi(r),S;try{for(g.s();!(S=g.n()).done;){var y=Se(S.value,2),C=y[1];if(o=C(o,n),!o)break}}catch(M){g.e(M)}finally{g.f()}o&&i.push(o)}f.forChild!=null&&r.set(t.nodeName,f.forChild)}for(var b=t.childNodes,O=[],_=0;_<b.length;_++){var N;(N=O).push.apply(N,Rt(bN(b[_],e,r,o)))}if(d!=null&&(O=d(O)),o==null)i=i.concat(O);else if(Je(o)){var P;(P=o).append.apply(P,Rt(O))}return i}function bZ(t,e){for(var r=[],n=t.body?Array.from(t.body.childNodes):[],i=n.length,o=0;o<i;o++){var u=n[o];if(!mN.has(u.nodeName)){var f=bN(u,e);f!==null&&(r=r.concat(f))}}return r}var wN={tag:"history-merge"},$O=wN,qO=wN,xN=function(t){Fr(r,t);var e=zr(r);function r(n){return ir(this,r),e.call(this,n)}return ar(r,[{key:"createDOM",value:function(i){var o=document.createElement("blockquote");return xs(o,i.theme.quote),o}},{key:"updateDOM",value:function(i,o){return!1}},{key:"insertNewAfter",value:function(){var i=Ar(),o=this.getDirection();return i.setDirection(o),this.insertAfter(i),i}},{key:"collapseAtStart",value:function(){var i=Ar(),o=this.getChildren();return o.forEach(function(u){return i.append(u)}),this.replace(i),!0}}],[{key:"getType",value:function(){return"quote"}},{key:"clone",value:function(i){return new r(i.__key)}}]),r}(jo);function n9(){return new xN}var i9=function(t){Fr(r,t);var e=zr(r);function r(n,i){var o;return ir(this,r),o=e.call(this,i),o.__tag=n,o}return ar(r,[{key:"getTag",value:function(){return this.__tag}},{key:"createDOM",value:function(i){var o=this.__tag,u=document.createElement(o),f=i.theme,d=f.heading;if(d!==void 0){var g=d[o];xs(u,g)}return u}},{key:"updateDOM",value:function(i,o){return!1}},{key:"insertNewAfter",value:function(){var i=Ar(),o=this.getDirection();return i.setDirection(o),this.insertAfter(i),i}},{key:"collapseAtStart",value:function(){var i=Ar(),o=this.getChildren();return o.forEach(function(u){return i.append(u)}),this.replace(i),!0}}],[{key:"getType",value:function(){return"heading"}},{key:"clone",value:function(i){return new r(i.__tag,i.__key)}},{key:"importDOM",value:function(){return{h1:function(o){return{conversion:qv,priority:0}},h2:function(o){return{conversion:qv,priority:0}},h3:function(o){return{conversion:qv,priority:0}},h4:function(o){return{conversion:qv,priority:0}},h5:function(o){return{conversion:qv,priority:0}}}}}]),r}(jo);function qv(t){var e=t.nodeName.toLowerCase(),r=null;return(e==="h1"||e==="h2"||e==="h3"||e==="h4"||e==="h5")&&(r=Il(e)),{node:r}}function Il(t){return new i9(t)}function wZ(t){return t instanceof i9}function xZ(t,e){if(e!==null){if(e===void 0)t.update(function(){var n=Tn(),i=n.getFirstChild();if(i===null){var o=Ar();n.append(o);var u=document.activeElement;(Ie()!==null||u!==null&&u===t.getRootElement())&&o.select()}},qO);else if(e!==null)switch(Vg(e)){case"string":{var r=t.parseEditorState(e);t.setEditorState(r,$O);break}case"object":{t.setEditorState(e,$O);break}case"function":{t.update(e,qO);break}}}}function kZ(t,e){t.preventDefault(),e.update(function(){var r=Ie(),n=t.clipboardData;n!=null&&Pe(r)&&yN(n,r,e)})}function kN(t,e){t.preventDefault(),e.update(function(){var r=t.clipboardData,n=Ie();if(n!==null&&r!=null){var i=vN(e),o=vZ(e);i!==null&&r.setData("text/html",i),o!==null&&r.setData("application/x-lexical-editor",o),r.setData("text/plain",n.getTextContent())}})}function _Z(t,e){kN(t,e),e.update(function(){var r=Ie();Pe(r)&&r.removeText()})}function SZ(t,e){var r=gi(t.registerCommand(px,function(n){var i=Ie();return $l(i)?(i.clear(),!0):!1},0),t.registerCommand(cs,function(n){var i=Ie();if(!Pe(i))return!1;var o=n;return i.deleteCharacter(o),!0},Nt),t.registerCommand(Xp,function(n){var i=Ie();if(!Pe(i))return!1;var o=n;return i.deleteWord(o),!0},Nt),t.registerCommand(Zp,function(n){var i=Ie();if(!Pe(i))return!1;var o=n;return i.deleteLine(o),!0},Nt),t.registerCommand(Ll,function(n){var i=Ie();if(!Pe(i))return!1;var o=n;if(typeof o=="string")i.insertText(o);else{var u=o.dataTransfer;if(u!=null)yN(u,i,t);else{var f=o.data;return f&&i.insertText(f),!0}}return!0},Nt),t.registerCommand(cw,function(n){var i=Ie();return Pe(i)?(i.removeText(),!0):!1},Nt),t.registerCommand(Ai,function(n){var i=Ie();if(!Pe(i))return!1;var o=n;return i.formatText(o),!0},Nt),t.registerCommand(eg,function(n){var i=Ie();if(!Pe(i))return!1;var o=i.getNodes(),u=Qi(o),f;try{for(u.s();!(f=u.n()).done;){var d=f.value,g=T4(d);g.setFormat(n)}}catch(S){u.e(S)}finally{u.f()}return!0},Nt),t.registerCommand(xd,function(n){var i=Ie();if(!Pe(i))return!1;var o=n;return i.insertLineBreak(o),!0},Nt),t.registerCommand(Yp,function(n){var i=Ie();return Pe(i)?(i.insertParagraph(),!0):!1},Nt),t.registerCommand(S0,function(n){var i=Ie();if(!Pe(i))return!1;var o=i.anchor,u=T4(o.getNode());return u.canInsertTab()?t.dispatchCommand(Ll,"	"):u.getIndent()!==10&&u.setIndent(u.getIndent()+1),!0},Nt),t.registerCommand(fd,function(n){var i=Ie();if(!Pe(i))return!1;var o=i.anchor,u=o.getNode(),f=T4(o.getNode());if(f.canInsertTab()){var d=u.getTextContent(),g=d[o.offset-1];g==="	"&&t.dispatchCommand(cs,!0)}else f.getIndent()!==0&&f.setIndent(f.getIndent()-1);return!0},Nt),t.registerCommand(gx,function(n){var i=Ie();if(!Pe(i))return!1;var o=n,u=o.shiftKey;return yw(i,!0)?(o.preventDefault(),vw(i,u,!0),!0):!1},Nt),t.registerCommand(vx,function(n){var i=Ie();if(!Pe(i))return!1;var o=n,u=o.shiftKey;return yw(i,!1)?(o.preventDefault(),vw(i,u,!1),!0):!1},Nt),t.registerCommand(fm,function(n){var i=Ie();if(!Pe(i))return!1;var o=n;o.preventDefault();var u=i.anchor;if(i.isCollapsed()&&u.offset===0){var f=T4(u.getNode());if(f.getIndent()>0)return t.dispatchCommand(fd)}return t.dispatchCommand(cs,!0)},Nt),t.registerCommand(N1,function(n){var i=Ie();if(!Pe(i))return!1;var o=n;return o.preventDefault(),t.dispatchCommand(cs,!1)},Nt),t.registerCommand(Qp,function(n){var i=Ie();return Pe(i)?n!==null&&(n.preventDefault(),n.shiftKey)?t.dispatchCommand(xd):t.dispatchCommand(Yp):!1},Nt),t.registerCommand(bx,function(n){var i=Ie();if(!Pe(i))return!1;var o=n;return o.preventDefault(),t.dispatchCommand(o.shiftKey?fd:S0)},Nt),t.registerCommand(yx,function(n){var i=Ie();return Pe(i)?(t.blur(),!0):!1},Nt),t.registerCommand(qk,function(n){var i=Ie();return Pe(i)?(n.preventDefault(),!0):!1},Nt),t.registerCommand(Vk,function(n){var i=Ie();if(!Pe(i))return!1;var o=n;return o.preventDefault(),!0},Nt),t.registerCommand(Gk,function(n){var i=Ie();if(Pe(i)||Pn(i)){var o=n;return kN(o,t),!0}return!1},Nt),t.registerCommand(Yk,function(n){var i=Ie();if(Pe(i)||Pn(i)){var o=n;return _Z(o,t),!0}return!1},Nt),t.registerCommand(mx,function(n){var i=Ie();return Pe(i)||Pn(i)?(kZ(n,t),!0):!1},Nt));return xZ(t,e),r}var _N="",VO=_N.length,CZ={triggerKind:"space_trigger",triggerString:" "},SN=[CZ],zo={markdownFormatKind:null,regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:!1},Cs=xt(xt({},zo),{},{requiresParagraphStart:!0}),EZ=xt(xt({},Cs),{},{markdownFormatKind:"paragraphH1",regEx:/^(?:# )/,regExForAutoFormatting:/^(?:# )/}),TZ=xt(xt({},Cs),{},{markdownFormatKind:"paragraphH2",regEx:/^(?:## )/,regExForAutoFormatting:/^(?:## )/}),OZ=xt(xt({},Cs),{},{markdownFormatKind:"paragraphH3",regEx:/^(?:### )/,regExForAutoFormatting:/^(?:### )/}),AZ=xt(xt({},Cs),{},{markdownFormatKind:"paragraphH4",regEx:/^(?:#### )/,regExForAutoFormatting:/^(?:#### )/}),IZ=xt(xt({},Cs),{},{markdownFormatKind:"paragraphH5",regEx:/^(?:##### )/,regExForAutoFormatting:/^(?:##### )/}),MZ=xt(xt({},Cs),{},{markdownFormatKind:"paragraphBlockQuote",regEx:/^(?:> )/,regExForAutoFormatting:/^(?:> )/}),DZ=xt(xt({},Cs),{},{markdownFormatKind:"paragraphUnorderedList",regEx:/^(\s{0,10})(?:- )/,regExForAutoFormatting:/^(\s{0,10})(?:- )/}),PZ=xt(xt({},Cs),{},{markdownFormatKind:"paragraphUnorderedList",regEx:/^(\s{0,10})(?:\* )/,regExForAutoFormatting:/^(\s{0,10})(?:\* )/}),CN=xt(xt({},Cs),{},{markdownFormatKind:"paragraphCodeBlock",regEx:/^(```)$/,regExForAutoFormatting:/^(```)([a-z]*)( )/}),LZ=xt(xt({},Cs),{},{markdownFormatKind:"paragraphOrderedList",regEx:/^(\s{0,10})(\d+)\.\s/,regExForAutoFormatting:/^(\s{0,10})(\d+)\.\s/}),NZ=xt(xt({},Cs),{},{markdownFormatKind:"horizontalRule",regEx:/^(?:\*\*\*)$/,regExForAutoFormatting:/^(?:\*\*\* )/}),RZ=xt(xt({},Cs),{},{markdownFormatKind:"horizontalRule",regEx:/^(?:---)$/,regExForAutoFormatting:/^(?:--- )/}),jZ=xt(xt({},zo),{},{markdownFormatKind:"code",regEx:/(`)([^`]*)(`)/,regExForAutoFormatting:/(`)(\s*\b)([^`]*)(\b\s*)(`)(\s)$/}),FZ=xt(xt({},zo),{},{markdownFormatKind:"bold",regEx:/(\*\*)(\s*)([^\*\*]*)(\s*)(\*\*)()/,regExForAutoFormatting:/(\*\*)(\s*\b)([^\*\*]*)(\b\s*)(\*\*)(\s)$/}),zZ=xt(xt({},zo),{},{markdownFormatKind:"italic",regEx:/(\*)(\s*)([^\*]*)(\s*)(\*)()/,regExForAutoFormatting:/(\*)(\s*\b)([^\*]*)(\b\s*)(\*)(\s)$/}),BZ=xt(xt({},zo),{},{markdownFormatKind:"bold",regEx:/(__)(\s*)([^__]*)(\s*)(__)()/,regExForAutoFormatting:/(__)(\s*)([^__]*)(\s*)(__)(\s)$/}),HZ=xt(xt({},zo),{},{markdownFormatKind:"italic",regEx:/(_)()([^_]*)()(_)()/,regExForAutoFormatting:/(_)()([^_]*)()(_)(\s)$/}),UZ=xt(xt({},zo),{},{markdownFormatKind:"underline",regEx:/(\<u\>)(\s*)([^\<]*)(\s*)(\<\/u\>)()/,regExForAutoFormatting:/(\<u\>)(\s*\b)([^\<]*)(\b\s*)(\<\/u\>)(\s)$/}),KZ=xt(xt({},zo),{},{markdownFormatKind:"strikethrough",regEx:/(~~)(\s*)([^~~]*)(\s*)(~~)()/,regExForAutoFormatting:/(~~)(\s*\b)([^~~]*)(\b\s*)(~~)(\s)$/}),WZ=xt(xt({},zo),{},{markdownFormatKind:"strikethrough_italic_bold",regEx:/(~~_\*\*)(\s*\b)([^~~_\*\*][^\*\*_~~]*)(\b\s*)(\*\*_~~)()/,regExForAutoFormatting:/(~~_\*\*)(\s*\b)([^~~_\*\*][^\*\*_~~]*)(\b\s*)(\*\*_~~)(\s)$/}),$Z=xt(xt({},zo),{},{markdownFormatKind:"italic_bold",regEx:/(_\*\*)(\s*\b)([^_\*\*][^\*\*_]*)(\b\s*)(\*\*_)/,regExForAutoFormatting:/(_\*\*)(\s*\b)([^_\*\*][^\*\*_]*)(\b\s*)(\*\*_)(\s)$/}),qZ=xt(xt({},zo),{},{markdownFormatKind:"strikethrough_italic",regEx:/(~~_)(\s*)([^~~_][^_~~]*)(\s*)(_~~)/,regExForAutoFormatting:/(~~_)(\s*)([^~~_][^_~~]*)(\s*)(_~~)(\s)$/}),VZ=xt(xt({},zo),{},{markdownFormatKind:"strikethrough_bold",regEx:/(~~\*\*)(\s*\b)([^~~\*\*][^\*\*~~]*)(\b\s*)(\*\*~~)/,regExForAutoFormatting:/(~~\*\*)(\s*\b)([^~~\*\*][^\*\*~~]*)(\b\s*)(\*\*~~)(\s)$/}),GZ=xt(xt({},zo),{},{markdownFormatKind:"link",regEx:/(\[)([^\]]*)(\]\()([^)]*)(\)*)()/,regExForAutoFormatting:/(\[)([^\]]*)(\]\()([^)]*)(\)*)(\s)$/}),EN=[WZ,$Z,qZ,VZ,jZ,FZ,zZ,BZ,HZ,UZ,KZ,GZ],TN=[EZ,TZ,OZ,AZ,IZ,MZ,DZ,PZ,LZ,CN,NZ,RZ],YZ=[].concat(TN,EN);function XZ(){return SN}function ZZ(){return TN}function ON(){return EN}function QZ(){return YZ}function AN(t,e,r,n){return{currentElementNode:null,editor:t,isAutoFormatting:e,isWithinCodeBlock:!1,joinedText:null,markdownCriteria:{markdownFormatKind:"noTransformation",regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:null},patternMatchResults:{regExCaptureGroups:[]},textNodeWithOffset:r,triggerState:n}}function bw(t){return t.joinedText=null,t.markdownCriteria={markdownFormatKind:"noTransformation",regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:null},t.patternMatchResults={regExCaptureGroups:[]},t.triggerState=null,t.textNodeWithOffset=null,t}function IN(){return CN}function a9(t,e,r){return t.requiresParagraphStart===!0?eQ(t,e):tQ(t,e,r)}function JZ(t,e){var r=IN();return o9(e,!0,!1,t.isAutoFormatting?r.regExForAutoFormatting:r.regEx)}function o9(t,e,r,n){var i={regExCaptureGroups:[]},o=t.match(n);if(o!==null&&o.length>0&&(e===!1||o.index===0)&&(r===!1||o.index+o[0].length===t.length)){for(var u=o.length,f=o.index,d=0;d<u;d++){var g=o[d];i.regExCaptureGroups.push({offsetInParent:f,text:g}),d>0&&(f+=g.length)}return i}return null}function MN(t){return t.patternMatchResults.regExCaptureGroups.length>0}function j1(t){var e=t.textNodeWithOffset;if(e==null)throw Error("Expect to have a text node with offset.");return e}function eQ(t,e){var r=j1(e);if(r.node.getPreviousSibling()===null){var n=r.node.getTextContent();return o9(n,!0,!1,e.isAutoFormatting?t.regExForAutoFormatting:t.regEx)}return null}function tQ(t,e,r){if(e.joinedText==null)if(Je(r))e.joinedText==null&&(e.joinedText=AX(r,_N,j1(e)));else throw Error("Expected node ".concat(r.__key," to to be a ElementNode."));var n=t.regExForAutoFormatting===!0;return o9(e.joinedText,!1,n,e.isAutoFormatting?t.regExForAutoFormatting:t.regEx)}function rQ(t,e,r){var n=null,i=!1,o=e.getChildren(),u=t.markdownCriteria,f=t.patternMatchResults;if(u.markdownFormatKind!=null)switch(u.markdownFormatKind){case"paragraphH1":{var d;return n=Il("h1"),(d=n).append.apply(d,Rt(o)),{newNode:n,shouldDelete:i}}case"paragraphH2":{var g;return n=Il("h2"),(g=n).append.apply(g,Rt(o)),{newNode:n,shouldDelete:i}}case"paragraphH3":{var S;return n=Il("h3"),(S=n).append.apply(S,Rt(o)),{newNode:n,shouldDelete:i}}case"paragraphH4":{var y;return n=Il("h4"),(y=n).append.apply(y,Rt(o)),{newNode:n,shouldDelete:i}}case"paragraphH5":{var C;return n=Il("h5"),(C=n).append.apply(C,Rt(o)),{newNode:n,shouldDelete:i}}case"paragraphBlockQuote":{var b;return n=n9(),(b=n).append.apply(b,Rt(o)),{newNode:n,shouldDelete:i}}case"paragraphUnorderedList":return GO(e,o,f,"ul"),{newNode:null,shouldDelete:!1};case"paragraphOrderedList":{var O=f.regExCaptureGroups.length>1?f.regExCaptureGroups[f.regExCaptureGroups.length-1].text:"1",_=t.isAutoFormatting?parseInt(O,10):void 0;return GO(e,o,f,"ol",_),{newNode:null,shouldDelete:!1}}case"paragraphCodeBlock":{var N;if(t.isAutoFormatting===!1){var P=MN(t);if(P)return t.isWithinCodeBlock=t.isWithinCodeBlock!==!0,t.currentElementNode=null,{newNode:null,shouldDelete:!0};if(t.isWithinCodeBlock){if(t.currentElementNode==null){var M=Sd();return M.append.apply(M,Rt(o)),t.currentElementNode=M,{newNode:M,shouldDelete:!1}}if(t.currentElementNode!=null){var R=t.currentElementNode,D=_0();R.append(D),o.length&&R.append(D),R.append.apply(R,Rt(o))}}return{newNode:null,shouldDelete:!0}}if(t.triggerState!=null&&t.triggerState.isCodeBlock)n=Ar();else{n=Sd();var G=f.regExCaptureGroups.length>=3?f.regExCaptureGroups[2].text:null;G!=null&&G.length>0&&n.setLanguage(G)}return(N=n).append.apply(N,Rt(o)),{newNode:n,shouldDelete:i}}case"horizontalRule":{if(r!=null){var V=r();e.insertBefore(V)}break}}return{newNode:n,shouldDelete:i}}function GO(t,e,r,n,i){var o=fo(),u=r.regExCaptureGroups[0].text.match(/^\s*/),f=u?Math.floor(u[0].length/4):0;o.append.apply(o,Rt(e));var d=t.getPreviousSibling();if(Zr(d)&&d.getTag()===n)d.append(o),t.remove();else{var g=ks(n,i);g.append(o),t.replace(g)}f&&o.setIndent(f)}function ww(t,e,r){t.markdownCriteria.requiresParagraphStart===!0?nQ(e,t,r):iQ(t,e)}function nQ(t,e,r){if(e.textNodeWithOffset!=null){var n=j1(e);if(MN(e)){var i=e.patternMatchResults.regExCaptureGroups[0].text,o=n.node.spliceText(0,i.length,"",!0);o.getTextContent()===""&&(o.selectPrevious(),o.remove())}}var u=rQ(e,t,r),f=u.newNode,d=u.shouldDelete;d?t.remove():f!==null&&t.replace(f)}function iQ(t,e){var r=t.markdownCriteria;if(r.markdownFormatKind!=null){var n=lQ(r.markdownFormatKind);if(n!=null){aQ(n,t,e);return}r.markdownFormatKind==="link"&&oQ(t,e)}}function aQ(t,e,r){var n=e.patternMatchResults,i=n.regExCaptureGroups.length;i===7&&(t7(5,5,e,r),t7(1,1,e,r),cQ(t,3,e,r),PN(e,r))}function oQ(t,e){var r=t.patternMatchResults,n=r.regExCaptureGroups,i=n.length;if(i===7){var o=n[2].text,u=n[4].text;if(!(o.length===0||u.length===0)){t7(1,5,t,e),uQ(1,o,t,e);var f=F1(1,1,!1,!0,t,e);f!=null&&(Mi(f),t.editor.dispatchCommand(_d,u),PN(t,e))}}}function DN(t){return j1(t).node.getParentOrThrow()}function sQ(t){var e=t.regExCaptureGroups.length;if(e<2)return 0;var r=e-1;return t.regExCaptureGroups[r].offsetInParent+t.regExCaptureGroups[r].text.length}function lQ(t){switch(t){case"italic":case"bold":case"underline":case"strikethrough":case"code":return[t];case"strikethrough_italic_bold":return["strikethrough","italic","bold"];case"italic_bold":return["italic","bold"];case"strikethrough_italic":return["strikethrough","italic"];case"strikethrough_bold":return["strikethrough","bold"]}return null}function F1(t,e,r,n,i,o){var u=i.patternMatchResults,f=u.regExCaptureGroups,d=f.length;if(t>=d||e>=d)return null;var g=sQ(u),S=f[t],y=f[e],C=r?S.offsetInParent+S.text.length:S.offsetInParent,b=n?y.offsetInParent+y.text.length:y.offsetInParent,O=IO(C,g,VO,o),_=IO(b,g,VO,o);if(O==null&&_==null&&o.getChildren().length===0){var N=t1();return N.anchor.set(o.getKey(),0,"element"),N.focus.set(o.getKey(),0,"element"),N}if(O==null||_==null)return null;var P=t1();return P.anchor.set(O.node.getKey(),O.offset,"text"),P.focus.set(_.node.getKey(),_.offset,"text"),P}function t7(t,e,r,n){var i=r.patternMatchResults,o=i.regExCaptureGroups,u=F1(t,e,!1,!0,r,n);if(u!=null){Mi(u);var f=Ie();if(f!=null&&Pe(f)&&f.isCollapsed()===!1){f.removeText();for(var d=0,g=o.length,S=t;S<g;S++){var y=o[S];S>t&&(y.offsetInParent-=d),S<=e&&(d+=y.text.length,y.text="")}}}}function uQ(t,e,r,n){var i=r.patternMatchResults,o=i.regExCaptureGroups,u=o.length;if(!(t>=u)){var f=o[t],d={offsetInParent:f.offsetInParent,text:e},g=F1(t,t,!1,!1,r,n);if(g!=null){Mi(g);var S=Ie();if(S!=null&&Pe(S)&&S.isCollapsed()){S.insertText(d.text),o.splice(t,0,d);for(var y=d.text.length,C=o.length,b=t+1;b<C;b++){var O=o[b];O.offsetInParent+=y}}}}}function cQ(t,e,r,n){var i=r.patternMatchResults,o=i.regExCaptureGroups,u=o.length;if(!(e<u))throw Error("The capture group count in the RegEx does match the actual capture group count.");var f=o[e];if(f.text.length!==0){var d=F1(e,e,!1,!0,r,n);if(d!=null){Mi(d);var g=Ie();if(Pe(g))for(var S=0;S<t.length;S++)g.formatText(t[S])}}}function PN(t,e){var r=t.patternMatchResults,n=r.regExCaptureGroups.length;if(!(n<2)){var i=n-1,o=F1(i,i,!0,!0,t,e);o!=null&&Mi(o)}}function fQ(t){if(!Pe(t))return null;var e=t.anchor.getNode();return Ue(e)?{node:e,offset:t.anchor.offset}:null}function dQ(t,e,r){t.update(function(){var n=j1(e).node.getParentOrThrow();ww(e,n,r)},{tag:"history-push"})}function hQ(t,e){for(var r=e.triggerState,n=t.length,i=0;i<n;i++){var o=t[i];if(r!=null&&r.isCodeBlock===!1||o.markdownFormatKind==="paragraphCodeBlock"){var u=a9(o,e,DN(e));if(u!=null)return{markdownCriteria:o,patternMatchResults:u}}}return{markdownCriteria:null,patternMatchResults:null}}function pQ(t,e){var r=null;return t.getEditorState().read(function(){var n=fQ(Ie());if(n!==null){var i=AN(t,!0,n,e),o=hQ(e.isParentAListItemNode===!1?QZ():ON(),i);o.markdownCriteria===null||o.patternMatchResults===null||(r=i,r.markdownCriteria=o.markdownCriteria,r.patternMatchResults=o.patternMatchResults)}}),r}function mQ(t){var e=null;return t.read(function(){var r=Ie();if(!(!Pe(r)||!r.isCollapsed())){var n=r.anchor.getNode(),i=n.getParent(),o=Vn(i),u=i!==null;e={anchorOffset:r.anchor.offset,hasParentNode:u,isCodeBlock:pw(n),isParentAListItemNode:o,isSelectionCollapsed:!0,isSimpleText:Ue(n)&&n.isSimpleText(),nodeKey:n.getKey(),textContent:n.getTextContent()}}}),e}function vQ(t,e,r){if(e==null||r==null)return null;for(var n=XZ(),i=SN.length,o=0;o<i;o++){var u=n[o].triggerString,f=u.length,d=e.textContent.length,g=e.anchorOffset-f;if((e.hasParentNode===!0&&e.isSimpleText&&e.isSelectionCollapsed&&e.anchorOffset!==r.anchorOffset&&g>=0&&g+f<=d&&e.textContent.substr(g,f)===u&&e.textContent!==r.textContent)===!1)return null}return pQ(t,e)}function gQ(t,e){if(!t.length)return null;for(var r=[],n=t.split(`
`),i=n.length,o=0;o<i;o++)n[o].length>0?r.push(Ar().append(gr(n[o]))):r.push(Ar());if(r.length){var u=Tn();return u.clear(),u.append.apply(u,r),u}return null}function yQ(t,e){for(var r=AN(t,!1,null,null),n=Tn(),i=!1,o=0;!i;){i=!0;for(var u=n.getChildren(),f=u.length,d=o;d<f;d++){var g=u[d];if(Je(g)&&bQ(r,g,e),bw(r),n.getChildren().length!==f){o=d,i=!1;break}}}for(i=!1,o=0;!i;){i=!0;for(var S=n.getChildren(),y=S.length,C=o;C<y;C++){var b=S[C];Je(b)&&LN(r,b,e),bw(r)}}}function bQ(t,e,r){var n=e.getTextContent();if(wd(e)){var i=e,o=i.getFirstChild(),u=Ue(o);if(t.isWithinCodeBlock===!0){if(o!=null&&u){t.textNodeWithOffset={node:o,offset:0};var f=JZ(t,n);f!=null&&(t.patternMatchResults=f)}t.markdownCriteria=IN(),ww(t,e,r);return}if(e.getChildren().length){var d=ZZ(),g=d.length;if(t.joinedText=i.getTextContent(),!(o!=null&&u))throw Error("Expect paragraph containing only text nodes.");t.textNodeWithOffset={node:o,offset:0};for(var S=0;S<g;S++){var y=d[S];if(y.requiresParagraphStart===!1)return;var C=a9(y,t,DN(t));if(C!=null){t.markdownCriteria=y,t.patternMatchResults=C,ww(t,e,r);return}}}}}function LN(t,e,r){var n=e.getFirstChild();if(Ue(n)){wQ(t,e,r);return}for(var i=e.getChildren(),o=i.length,u=0;u<o;u++){var f=i[u];Je(f)&&LN(t,f,r)}}function wQ(t,e,r){bw(t);for(var n=ON(),i=n.length,o=e.getTextContent(),u=o.length===0,f=0;!u;){u=!0;for(var d=f;d<i;d++){var g=n[d];if(t.textNodeWithOffset==null){var S=xQ(e);if(S==null)return;t.textNodeWithOffset={node:S,offset:S.getTextContent().length}}var y=a9(g,t,e);if(y!=null){t.markdownCriteria=g,t.patternMatchResults=y,ww(t,e,r),bw(t);var C=e.getTextContent();if(C.length===0)return;if(C===o)continue;o=C,f=d,u=!1;break}}}}function xQ(t){for(var e=t.getChildren(),r=e.length,n=r-1;n>=0;n--)if(Ue(e[n]))return e[n];return null}function kQ(t,e){var r=null;return t.registerUpdateListener(function(n){var i=n.tags;if(i.has("historic")===!1){var o=mQ(t.getEditorState()),u=o==null?null:vQ(t,o,r);u!=null&&dQ(t,u,e),r=o}else r=null})}function _Q(t,e,r){gQ(t)!=null&&yQ(e,r)}var NN=er();function SQ(){return Q("hr",{})}var RN=function(t){Fr(r,t);var e=zr(r);function r(){return ir(this,r),e.apply(this,arguments)}return ar(r,[{key:"exportDOM",value:function(){return{element:document.createElement("hr")}}},{key:"createDOM",value:function(){var i=document.createElement("div");return i.style.display="contents",i}},{key:"getTextContent",value:function(){return`
`}},{key:"isTopLevel",value:function(){return!0}},{key:"updateDOM",value:function(){return!1}},{key:"decorate",value:function(){return Q(SQ,{})}}],[{key:"getType",value:function(){return"horizontalrule"}},{key:"clone",value:function(i){return new r(i.__key)}},{key:"importDOM",value:function(){return{hr:function(o){return{conversion:CQ,priority:0}}}}}]),r}(Ju);function CQ(){return{node:Cx()}}function Cx(){return new RN}function EQ(t){ee.exports.useEffect(function(){return kQ(t,Cx)},[t])}function TQ(){var t=lr(),e=Se(t,1),r=e[0];return EQ(r),null}function jN(t){var e=ee.exports.useState(t.getEditorState().read(MO(t.isComposing()))),r=Se(e,2),n=r[0],i=r[1];return ws(function(){return t.registerUpdateListener(function(o){var u=o.editorState,f=t.isComposing(),d=u.read(MO(f));i(d)})},[t]),n}function FN(t){var e=ee.exports.useState(function(){return t.getDecorators()}),r=Se(e,2),n=r[0],i=r[1];return ws(function(){return t.registerDecoratorListener(function(o){ma.exports.flushSync(function(){i(o)})})},[t]),ee.exports.useMemo(function(){for(var o=[],u=Object.keys(n),f=0;f<u.length;f++){var d=u[f],g=n[d],S=t.getElementByKey(d);S!==null&&o.push(ma.exports.createPortal(g,S))}return o},[n,t])}function zN(t){var e=function(n){var i=t.getRootElement();if(document.activeElement===i){var o=n.data;if(typeof o=="string"){var u;try{u=JSON.parse(o)}catch{return}if(u&&u.protocol==="nuanria_messaging"&&u.type==="request"){var f=u.payload;if(f&&f.functionId==="makeChanges"){var d=f.args;if(d){var g=Se(d,6),S=g[0],y=g[1],C=g[2],b=g[3],O=g[4];g[5],t.update(function(){var _=Ie();if(Pe(_)){var N=_.anchor,P=N.getNode(),M=0,R=0;if(Ue(P)&&S>=0&&y>=0&&(M=S,R=S+y,_.setTextNodeRange(P,M,P,R)),(M!==R||C!=="")&&(_.insertRawText(C),P=N.getNode()),Ue(P)){M=b,R=b+O;var D=P.getTextContentSize();M=M>D?D:M,R=R>D?D:R,_.setTextNodeRange(P,M,P,R)}n.stopImmediatePropagation()}})}}}}}};return window.addEventListener("message",e,!0),function(){window.removeEventListener("message",e,!0)}}var BN={tag:"history-merge"},YO=BN,XO=BN;function HN(t,e){t.preventDefault(),e.update(function(){var r=t.clipboardData,n=Ie();if(n!==null&&r!=null){var i=vN(e);i!==null&&r.setData("text/html",i),r.setData("text/plain",n.getTextContent())}})}function OQ(t,e){t.preventDefault(),e.update(function(){var r=Ie(),n=t.clipboardData;n!=null&&Pe(r)&&r9(n,r)})}function AQ(t,e){HN(t,e),e.update(function(){var r=Ie();Pe(r)&&r.removeText()})}function IQ(t,e){if(e!==null){if(e===void 0)t.update(function(){var n=Tn(),i=n.getFirstChild();if(i===null){var o=Ar();n.append(o);var u=document.activeElement;(Ie()!==null||u!==null&&u===t.getRootElement())&&o.select()}},XO);else if(e!==null)switch(Vg(e)){case"string":{var r=t.parseEditorState(e);t.setEditorState(r,YO);break}case"object":{t.setEditorState(e,YO);break}case"function":{t.update(e,XO);break}}}}function MQ(t,e){var r=gi(t.registerCommand(cs,function(n){var i=Ie();return Pe(i)?(i.deleteCharacter(n),!0):!1},Nt),t.registerCommand(Xp,function(n){var i=Ie();return Pe(i)?(i.deleteWord(n),!0):!1},Nt),t.registerCommand(Zp,function(n){var i=Ie();return Pe(i)?(i.deleteLine(n),!0):!1},Nt),t.registerCommand(Ll,function(n){var i=Ie();if(!Pe(i))return!1;if(typeof n=="string")i.insertText(n);else{var o=n.dataTransfer;if(o!=null)r9(o,i);else{var u=n.data;u&&i.insertText(u)}}return!0},Nt),t.registerCommand(cw,function(n){var i=Ie();return Pe(i)?(i.removeText(),!0):!1},Nt),t.registerCommand(xd,function(n){var i=Ie();return Pe(i)?(i.insertLineBreak(n),!0):!1},Nt),t.registerCommand(Yp,function(n){var i=Ie();return Pe(i)?(i.insertLineBreak(),!0):!1},Nt),t.registerCommand(gx,function(n){var i=Ie();if(!Pe(i))return!1;var o=n,u=o.shiftKey;return yw(i,!0)?(o.preventDefault(),vw(i,u,!0),!0):!1},Nt),t.registerCommand(vx,function(n){var i=Ie();if(!Pe(i))return!1;var o=n,u=o.shiftKey;return yw(i,!1)?(o.preventDefault(),vw(i,u,!1),!0):!1},Nt),t.registerCommand(fm,function(n){var i=Ie();return Pe(i)?(n.preventDefault(),t.dispatchCommand(cs,!0)):!1},Nt),t.registerCommand(N1,function(n){var i=Ie();return Pe(i)?(n.preventDefault(),t.dispatchCommand(cs,!1)):!1},Nt),t.registerCommand(Qp,function(n){var i=Ie();return Pe(i)?(n!==null&&n.preventDefault(),t.dispatchCommand(xd)):!1},Nt),t.registerCommand(Gk,function(n){var i=Ie();return Pe(i)?(HN(n,t),!0):!1},Nt),t.registerCommand(Yk,function(n){var i=Ie();return Pe(i)?(AQ(n,t),!0):!1},Nt),t.registerCommand(mx,function(n){var i=Ie();return Pe(i)?(OQ(n,t),!0):!1},Nt),t.registerCommand(qk,function(n){var i=Ie();return Pe(i)?(n.preventDefault(),!0):!1},Nt),t.registerCommand(Vk,function(n){var i=Ie();return Pe(i)?(n.preventDefault(),!0):!1},Nt));return IQ(t,e),r}function DQ(t,e){ws(function(){return gi(MQ(t,e),zN(t))},[t])}function UN(t){var e=t.contentEditable,r=t.placeholder,n=t.initialEditorState,i=lr(),o=Se(i,1),u=o[0],f=jN(u);DQ(u,n);var d=FN(u);return ut(Qr,{children:[e,f&&r,d]})}function PQ(t,e){ws(function(){return gi(SZ(t,e),zN(t))},[t])}function KN(t){var e=t.contentEditable,r=t.placeholder,n=t.initialEditorState,i=lr(),o=Se(i,1),u=o[0],f=jN(u);PQ(u,n);var d=FN(u);return ut(Qr,{children:[e,f&&r,d]})}var Oi={NO_STATUS:0,ROW:1,COLUMN:2,BOTH:3},z1=function(t){Fr(r,t);var e=zr(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oi.NO_STATUS,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,u=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0;return ir(this,r),n=e.call(this,o,f),n.__headerState=i,n.__width=u,n}return ar(r,[{key:"createDOM",value:function(i){var o=document.createElement(this.getTag());return this.__width&&(o.style.width="".concat(this.__width,"px")),xs(o,i.theme.tableCell,this.hasHeader()&&i.theme.tableCellHeader),o}},{key:"exportDOM",value:function(i){var o=ti(Fn(r.prototype),"exportDOM",this).call(this,i),u=o.element;if(u){var f=700,d=this.getParentOrThrow().getChildrenSize();u.style.border="1px solid black",u.style.width="".concat(this.getWidth()||Math.max(90,f/d),"px"),u.style.verticalAlign="top",u.style.textAlign="start",this.hasHeader()&&(u.style.backgroundColor="#f2f3f5")}return{element:u}}},{key:"getTag",value:function(){return this.hasHeader()?"th":"td"}},{key:"setHeaderStyles",value:function(i){var o=this.getWritable();return o.__headerState=i,this.__headerState}},{key:"getHeaderStyles",value:function(){return this.getLatest().__headerState}},{key:"setWidth",value:function(i){var o=this.getWritable();return o.__width=i,this.__width}},{key:"getWidth",value:function(){return this.getLatest().__width}},{key:"toggleHeaderStyle",value:function(i){var o=this.getWritable();return(o.__headerState&i)===i?o.__headerState-=i:o.__headerState+=i,o.__headerState=o.__headerState,o}},{key:"hasHeaderState",value:function(i){return(this.getHeaderStyles()&i)===i}},{key:"hasHeader",value:function(){return this.getLatest().__headerState!==Oi.NO_STATUS}},{key:"updateDOM",value:function(i){return i.__headerState!==this.__headerState||i.__width!==this.__width}},{key:"collapseAtStart",value:function(){return!0}},{key:"canBeEmpty",value:function(){return!1}}],[{key:"getType",value:function(){return"tablecell"}},{key:"clone",value:function(i){return new r(i.__headerState,i.__colSpan,i.__width,i.__key)}},{key:"importDOM",value:function(){return{td:function(o){return{conversion:ZO,priority:0}},th:function(o){return{conversion:ZO,priority:0}}}}}]),r}(KL);function ZO(t){var e=t.nodeName.toLowerCase(),r=Ex(e==="th"?Oi.ROW:Oi.NO_STATUS);return{node:r,forChild:function(i,o){if(Pr(o)&&!Je(i)){var u=Ar();return Pi(i)&&i.getTextContent()===`
`?null:(u.append(i),u)}return i}}}function Ex(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;return new z1(t,e,r)}function Pr(t){return t instanceof z1}var Tx=function(t){Fr(r,t);var e=zr(r);function r(n,i){var o;return ir(this,r),o=e.call(this,i),o.__height=n,o}return ar(r,[{key:"createDOM",value:function(i){var o=document.createElement("tr");return this.__height&&(o.style.height="".concat(this.__height,"px")),xs(o,i.theme.tableRow),o}},{key:"setHeight",value:function(i){var o=this.getWritable();return o.__height=i,this.__height}},{key:"getHeight",value:function(){return this.getLatest().__height}},{key:"updateDOM",value:function(i){return i.__height!==this.__height}},{key:"canBeEmpty",value:function(){return!1}}],[{key:"getType",value:function(){return"tablerow"}},{key:"clone",value:function(i){return new r(i.__height,i.__key)}},{key:"importDOM",value:function(){return{tr:function(o){return{conversion:LQ,priority:0}}}}}]),r}($L);function LQ(t){return{node:s9()}}function s9(t){return new Tx(t)}function ql(t){return t instanceof Tx}if(P0){var QO=document.createElement("style");QO.innerHTML=`
    table.disable-selection {
      -webkit-touch-callout: none;
      -webkit-user-select: none; 
      -khtml-user-select: none; 
      -moz-user-select: none; 
      -ms-user-select: none; 
      user-select: none;
    }
  
    .disable-selection span::selection{
      background-color: transparent;
    }
    .disable-selection br::selection{
      background-color: transparent;
    }
  `,document.body&&document.body.append(QO)}var NQ=function(){function t(e,r){ir(this,t),this.isHighlightingCells=!1,this.startX=-1,this.startY=-1,this.currentX=-1,this.currentY=-1,this.listenersToRemove=new Set,this.tableNodeKey=r,this.editor=e,this.grid={cells:[],columns:0,rows:0},this.gridSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.trackTableGrid()}return ar(t,[{key:"getGrid",value:function(){return this.grid}},{key:"removeListeners",value:function(){Array.from(this.listenersToRemove).forEach(function(r){return r()})}},{key:"trackTableGrid",value:function(){var r=this,n=new MutationObserver(function(i){r.editor.update(function(){for(var o=!1,u=0;u<i.length;u++){var f=i[u],d=f.target,g=d.nodeName;if(g==="TABLE"||g==="TR"){o=!0;break}}if(!!o){var S=r.editor.getElementByKey(r.tableNodeKey);if(!S)throw new Error("Expected to find TableElement in DOM");r.grid=fb(S)}})});this.editor.update(function(){var i=r.editor.getElementByKey(r.tableNodeKey);if(!i)throw new Error("Expected to find TableElement in DOM");r.grid=fb(i),n.observe(i,{childList:!0,subtree:!0})})}},{key:"clearHighlight",value:function(){var r=this;this.editor.update(function(){var n=Gt(r.tableNodeKey);if(!yg(n))throw new Error("Expected TableNode.");var i=r.editor.getElementByKey(r.tableNodeKey);if(!i)throw new Error("Expected to find TableElement in DOM");var o=fb(i);r.isHighlightingCells=!1,r.startX=-1,r.startY=-1,r.currentX=-1,r.currentY=-1,r.gridSelection=null,r.anchorCellNodeKey=null,r.focusCellNodeKey=null,r.anchorCell=null,r.focusCell=null,r.hasHijackedSelectionStyles=!1,n5(o,null),Mi(null),r.editor.dispatchCommand(Pl),r.enableHighlightStyle()})}},{key:"enableHighlightStyle",value:function(){var r=this;this.editor.update(function(){var n=r.editor.getElementByKey(r.tableNodeKey);if(!n)throw new Error("Expected to find TableElement in DOM");n.classList.remove("disable-selection"),r.hasHijackedSelectionStyles=!1})}},{key:"disableHighlightStyle",value:function(){var r=this;this.editor.update(function(){var n=r.editor.getElementByKey(r.tableNodeKey);if(!n)throw new Error("Expected to find TableElement in DOM");n.classList.add("disable-selection"),r.hasHijackedSelectionStyles=!0})}},{key:"adjustFocusCellForSelection",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.editor.update(function(){var o=Gt(n.tableNodeKey);if(!yg(o))throw new Error("Expected TableNode.");var u=n.editor.getElementByKey(n.tableNodeKey);if(!u)throw new Error("Expected to find TableElement in DOM");var f=r.x,d=r.y;n.focusCell=r;var g=Xs();if(n.anchorCell!==null&&g.setBaseAndExtent(n.anchorCell.elem,0,r.elem,0),!n.isHighlightingCells&&(n.startX!==f||n.startY!==d||i))n.isHighlightingCells=!0,n.disableHighlightStyle();else if(f===n.currentX&&d===n.currentY)return;if(n.currentX=f,n.currentY=d,n.isHighlightingCells){var S=vs(r.elem);if(n.gridSelection!=null&&n.anchorCellNodeKey!=null&&Pr(S)){var y=S.getKey();n.gridSelection=pO(),n.focusCellNodeKey=y,n.gridSelection.set(n.tableNodeKey,n.anchorCellNodeKey,n.focusCellNodeKey),Mi(n.gridSelection),n.editor.dispatchCommand(Pl),n5(n.grid,n.gridSelection)}}})}},{key:"setAnchorCellForSelection",value:function(r){var n=this;this.editor.update(function(){n.anchorCell=r,n.startX=r.x,n.startY=r.y;var i=Xs();i.setBaseAndExtent(r.elem,0,r.elem,0);var o=vs(r.elem);if(Pr(o)){var u=o.getKey();n.gridSelection=pO(),n.anchorCellNodeKey=u}})}},{key:"formatCells",value:function(r){var n=this;this.editor.update(function(){var i=Ie();if(!Pn(i))throw Error("Expected grid selection");var o=t1(),u=o.anchor,f=o.focus;i.getNodes().forEach(function(d){Pr(d)&&d.getTextContentSize()!==0&&(u.set(d.getKey(),0,"element"),f.set(d.getKey(),d.getChildrenSize(),"element"),o.formatText(r))}),Mi(i),n.editor.dispatchCommand(Pl)})}},{key:"clearText",value:function(){var r=this;this.editor.update(function(){var n=Gt(r.tableNodeKey);if(!yg(n))throw new Error("Expected TableNode.");var i=Ie();if(!Pn(i))throw Error("Expected grid selection");var o=i.getNodes().filter(Pr);if(o.length===r.grid.columns*r.grid.rows){n.selectPrevious(),n.remove(),r.clearHighlight();return}o.forEach(function(u){if(Je(u)){var f=Ar(),d=gr();f.append(d),u.append(f),u.getChildren().forEach(function(g){g!==f&&g.remove()})}}),n5(r.grid,null),Mi(null),r.editor.dispatchCommand(Pl)})}}]),t}(),WN="__lexicalTableSelection";function RQ(t,e,r){var n=r.getRootElement();if(n===null)throw new Error("No root element.");var i=new NQ(r,t.getKey());jQ(e,i);var o=!1,u=!1;e.addEventListener("dblclick",function(g){var S=cb(g.target);S!==null&&(g.preventDefault(),g.stopImmediatePropagation(),g.stopPropagation(),i.setAnchorCellForSelection(S),i.adjustFocusCellForSelection(S,!0),o=!1)}),e.addEventListener("mousedown",function(g){setTimeout(function(){if(g.button===0){var S=cb(g.target);S!==null&&(i.setAnchorCellForSelection(S),document.addEventListener("mouseup",function(){o=!1},{capture:!0,once:!0}))}},0)}),e.addEventListener("mousemove",function(g){if(u&&(g.preventDefault(),g.stopPropagation(),g.stopImmediatePropagation()),o){var S=cb(g.target);if(S!==null){var y=S.x,C=S.y;o&&(i.startX!==y||i.startY!==C||i.isHighlightingCells)&&(g.preventDefault(),o=!0,i.adjustFocusCellForSelection(S))}}}),e.addEventListener("mouseup",function(g){o&&(o=!1)}),e.addEventListener("mouseleave",function(g){});var f=function(S){o=!0,S.button===0&&r.update(function(){var y=Ie();if(Pn(y)&&y.gridKey===i.tableNodeKey&&n.contains(S.target))return i.clearHighlight()})};window.addEventListener("mousedown",f),i.listenersToRemove.add(function(){return window.removeEventListener("mousedown",f)});var d=function(S){o=!1};return window.addEventListener("mouseup",d),i.listenersToRemove.add(function(){return window.removeEventListener("mouseup",d)}),i.listenersToRemove.add(r.registerCommand(r1,function(g){var S=Ie();if(!Ou(S,t))return!1;var y=g,C="down";if(Pe(S)){if(S.isCollapsed()){var b=Vi(S.anchor.getNode(),function(D){return Pr(D)});if(!Pr(b))return!1;var O=t.getCordsFromCellNode(b,i.grid),_=Vi(S.anchor.getNode(),function(D){return Je(D)});if(_==null)throw new Error("Expected BlockNode Parent");var N=b.getLastChild(),P=N&&_.isParentOf(N)||_===N;if(P||y.shiftKey)return y.preventDefault(),y.stopImmediatePropagation(),y.stopPropagation(),y.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(O.x,O.y,i.grid)),Gc(i,t,O.x,O.y,C)):Vv(i,t,O.x,O.y,C)}}else if(Pn(S)&&y.shiftKey){var M=S.focus.getNode();if(!Pr(M))return!1;var R=t.getCordsFromCellNode(M,i.grid);return y.preventDefault(),y.stopImmediatePropagation(),y.stopPropagation(),Gc(i,t,R.x,R.y,C)}return!1},Ta)),i.listenersToRemove.add(r.registerCommand(kd,function(g){var S=Ie();if(!Ou(S,t))return!1;var y=g,C="up";if(Pe(S)){if(S.isCollapsed()){var b=Vi(S.anchor.getNode(),function(D){return Pr(D)});if(!Pr(b))return!1;var O=t.getCordsFromCellNode(b,i.grid),_=Vi(S.anchor.getNode(),function(D){return Je(D)});if(_==null)throw new Error("Expected BlockNode Parent");var N=b.getLastChild(),P=N&&_.isParentOf(N)||_===N;if(P||y.shiftKey)return y.preventDefault(),y.stopImmediatePropagation(),y.stopPropagation(),y.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(O.x,O.y,i.grid)),Gc(i,t,O.x,O.y,C)):Vv(i,t,O.x,O.y,C)}}else if(Pn(S)&&y.shiftKey){var M=S.focus.getNode();if(!Pr(M))return!1;var R=t.getCordsFromCellNode(M,i.grid);return y.preventDefault(),y.stopImmediatePropagation(),y.stopPropagation(),Gc(i,t,R.x,R.y,C)}return!1},Ta)),i.listenersToRemove.add(r.registerCommand(gx,function(g){var S=Ie();if(!Ou(S,t))return!1;var y=g,C="backward";if(Pe(S)){if(S.isCollapsed()){var b=Vi(S.anchor.getNode(),function(M){return Pr(M)});if(!Pr(b))return!1;var O=t.getCordsFromCellNode(b,i.grid),_=Vi(S.anchor.getNode(),function(M){return Je(M)});if(_==null)throw new Error("Expected BlockNode Parent");if(S.anchor.offset===0||y.shiftKey)return y.preventDefault(),y.stopImmediatePropagation(),y.stopPropagation(),y.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(O.x,O.y,i.grid)),Gc(i,t,O.x,O.y,C)):Vv(i,t,O.x,O.y,C)}}else if(Pn(S)&&y.shiftKey){var N=S.focus.getNode();if(!Pr(N))return!1;var P=t.getCordsFromCellNode(N,i.grid);return y.preventDefault(),y.stopImmediatePropagation(),y.stopPropagation(),Gc(i,t,P.x,P.y,C)}return!1},Ta)),i.listenersToRemove.add(r.registerCommand(vx,function(g){var S=Ie();if(!Ou(S,t))return!1;var y=g,C="forward";if(Pe(S)){if(S.isCollapsed()){var b=Vi(S.anchor.getNode(),function(M){return Pr(M)});if(!Pr(b))return!1;var O=t.getCordsFromCellNode(b,i.grid),_=Vi(S.anchor.getNode(),function(M){return Je(M)});if(_==null)throw new Error("Expected BlockNode Parent");if(S.anchor.offset===S.anchor.getNode().getTextContentSize()||y.shiftKey)return y.preventDefault(),y.stopImmediatePropagation(),y.stopPropagation(),y.shiftKey?(i.setAnchorCellForSelection(t.getCellFromCordsOrThrow(O.x,O.y,i.grid)),Gc(i,t,O.x,O.y,C)):Vv(i,t,O.x,O.y,C)}}else if(Pn(S)&&y.shiftKey){var N=S.focus.getNode();if(!Pr(N))return!1;var P=t.getCordsFromCellNode(N,i.grid);return y.preventDefault(),y.stopImmediatePropagation(),y.stopPropagation(),Gc(i,t,P.x,P.y,C)}return!1},Ta)),i.listenersToRemove.add(r.registerCommand(cs,function(){var g=Ie();if(!Ou(g,t))return!1;if(Pn(g))return i.clearText(),!0;if(Pe(g)){var S=Vi(g.anchor.getNode(),function(y){return Pr(y)});if(!Pr(S))return!1;if(g.isCollapsed()&&g.anchor.offset===0&&g.anchor.getNode().getPreviousSiblings().length===0)return!0}return!1},Ta)),i.listenersToRemove.add(r.registerCommand(fm,function(g){var S=Ie();if(!Ou(S,t))return!1;if(Pn(S)){var y=g;return y.preventDefault(),y.stopPropagation(),i.clearText(),!0}else if(Pe(S)){var C=Vi(S.anchor.getNode(),function(b){return Pr(b)});if(!Pr(C))return!1}return!1},Ta)),i.listenersToRemove.add(r.registerCommand(Ai,function(g){var S=Ie();if(!Ou(S,t))return!1;if(Pn(S))return i.formatCells(g),!0;if(Pe(S)){var y=Vi(S.anchor.getNode(),function(C){return Pr(C)});if(!Pr(y))return!1}return!1},Ta)),i.listenersToRemove.add(r.registerCommand(Ll,function(g){var S=Ie();if(!Ou(S,t))return!1;if(Pn(S))return i.clearHighlight(),!1;if(Pe(S)){var y=Vi(S.anchor.getNode(),function(C){return Pr(C)});if(!Pr(y))return!1}return!1},Ta)),i.listenersToRemove.add(r.registerCommand(bx,function(g){var S=Ie();if(!Ou(S,t))return!1;if(Pe(S)){var y=Vi(S.anchor.getNode(),function(O){return Pr(O)});if(!Pr(y))return!1;var C=g;if(S.isCollapsed()){var b=t.getCordsFromCellNode(y,i.grid);return C.preventDefault(),Vv(i,t,b.x,b.y,C.shiftKey?"backward":"forward"),!0}}return!1},Ta)),i.listenersToRemove.add(r.registerCommand(Qk,function(g){return t.isSelected()},Ta)),i.listenersToRemove.add(r.registerCommand(Pl,function(g){var S=Ie();if(S&&Pe(S)&&!S.isCollapsed()){var y=S.anchor.getNode(),C=S.focus.getNode(),b=t.isParentOf(y),O=t.isParentOf(C),_=b&&!O||O&&!b;if(_){var N=S.isBackward(),P=t1(),M=t.getIndexWithinParent(),R=t.getParentOrThrow().getKey();return P.anchor.set(S.anchor.key,S.anchor.offset,S.anchor.type),P.focus.set(R,N?M-1:M+1,"element"),u=!0,Mi(P),JO(i),!0}}return i.hasHijackedSelectionStyles&&!t.isSelected()?(zQ(i),u=!1):!i.hasHijackedSelectionStyles&&t.isSelected()&&JO(i),!1},Ta)),i}function jQ(t,e){t[WN]=e}function FQ(t){return t[WN]}function cb(t){for(var e=t;e!=null;){var r=e.nodeName;if(r==="TD"||r==="TH"){var n=e._cell;return n===void 0?null:n}e=e.parentNode}return null}function fb(t){var e=[],r={cells:e,columns:0,rows:0},n=t.firstChild,i=0,o=0;for(e.length=0;n!=null;){var u=n.nodeName;if(u==="TD"||u==="TH"){var f=n,d={elem:f,highlighted:!1,x:i,y:o};n._cell=d,e[o]===void 0&&(e[o]=[]),e[o][i]=d}else{var g=n.firstChild;if(g!=null){n=g;continue}}var S=n.nextSibling;if(S!=null){i++,n=S;continue}var y=n.parentNode;if(y!=null){var C=y.nextSibling;if(C==null)break;o++,i=0,n=C}}return r.columns=i+1,r.rows=o+1,r}function n5(t,e){var r=[],n=new Set(e?e.getNodes():[]);return l9(t,function(i,o){var u=i.elem;n.has(o)?(i.highlighted=!0,u.style.setProperty("background-color","rgb(172, 206, 247)"),u.style.setProperty("caret-color","transparent"),r.push(i)):(i.highlighted=!1,u.style.removeProperty("background-color"),u.style.removeProperty("caret-color"),u.getAttribute("style")||u.removeAttribute("style"))}),r}function l9(t,e){for(var r=t.cells,n=0;n<r.length;n++)for(var i=r[n],o=0;o<i.length;o++){var u=i[o],f=vs(u.elem);f!==null&&e(u,f,{x:o,y:n})}}function JO(t){t.disableHighlightStyle(),l9(t.grid,function(e){var r=e.elem;e.highlighted=!0,r.style.setProperty("background-color","rgb(172, 206, 247)"),r.style.setProperty("caret-color","transparent")})}function zQ(t){t.enableHighlightStyle(),l9(t.grid,function(e){var r=e.elem;e.highlighted=!1,r.style.removeProperty("background-color"),r.style.removeProperty("caret-color"),r.getAttribute("style")||r.removeAttribute("style")})}var Vv=function(e,r,n,i,o){switch(o){case"backward":case"forward":{var u=o==="forward";return n!==(u?e.grid.columns-1:0)?O4(r.getCellNodeFromCordsOrThrow(n+(u?1:-1),i,e.grid)):i!==(u?e.grid.rows-1:0)?O4(r.getCellNodeFromCordsOrThrow(u?0:e.grid.columns-1,i+(u?1:-1),e.grid)):u?r.selectNext():r.selectPrevious(),!0}case"up":return i!==0?O4(r.getCellNodeFromCordsOrThrow(n,i-1,e.grid)):r.selectPrevious(),!0;case"down":return i!==e.grid.rows-1?O4(r.getCellNodeFromCordsOrThrow(n,i+1,e.grid)):r.selectNext(),!0}return!1},Gc=function(e,r,n,i,o){switch(o){case"backward":case"forward":{var u=o==="forward";return n!==(u?e.grid.columns-1:0)&&e.adjustFocusCellForSelection(r.getCellFromCordsOrThrow(n+(u?1:-1),i,e.grid)),!0}case"up":return i!==0?(e.adjustFocusCellForSelection(r.getCellFromCordsOrThrow(n,i-1,e.grid)),!0):!1;case"down":return i!==e.grid.rows-1?(e.adjustFocusCellForSelection(r.getCellFromCordsOrThrow(n,i+1,e.grid)),!0):!1}return!1};function Ou(t,e){if(Pe(t)||Pn(t)){var r=e.isParentOf(t.anchor.getNode()),n=e.isParentOf(t.focus.getNode());return r&&n}return!1}function O4(t){var e=t.getChildren().find(function(r){return wd(r)});wd(e)?e.selectEnd():t.selectEnd()}var o1=function(t){Fr(r,t);var e=zr(r);function r(n){return ir(this,r),e.call(this,n)}return ar(r,[{key:"createDOM",value:function(i,o){var u=document.createElement("table");return xs(u,i.theme.table),u}},{key:"updateDOM",value:function(){return!1}},{key:"exportDOM",value:function(i){var o=this;return xt(xt({},ti(Fn(r.prototype),"exportDOM",this).call(this,i)),{},{after:function(f){if(f){var d=f.cloneNode(),g=document.createElement("colgroup"),S=document.createElement("tbody");S.append.apply(S,Rt(f.children));var y=o.getFirstChildOrThrow();if(!ql(y))throw new Error("Expected to find row node.");for(var C=y.getChildrenSize(),b=0;b<C;b++){var O=document.createElement("col");g.append(O)}return d.replaceChildren(g,S),d}}})}},{key:"canExtractContents",value:function(){return!1}},{key:"canBeEmpty",value:function(){return!1}},{key:"getCordsFromCellNode",value:function(i,o){if(!o)throw Error("Grid not found.");for(var u=o.rows,f=o.cells,d=0;d<u;d++){var g=f[d];if(g==null)throw new Error("Row not found at y:".concat(d));var S=g.findIndex(function(y){var C=y.elem,b=vs(C);return b===i});if(S!==-1)return{x:S,y:d}}throw new Error("Cell not found in table.")}},{key:"getCellFromCords",value:function(i,o,u){if(!u)throw Error("Grid not found.");var f=u.cells,d=f[o];if(d==null)return null;var g=d[i];return g==null?null:g}},{key:"getCellFromCordsOrThrow",value:function(i,o,u){var f=this.getCellFromCords(i,o,u);if(!f)throw new Error("Cell not found at cords.");return f}},{key:"getCellNodeFromCords",value:function(i,o,u){var f=this.getCellFromCords(i,o,u);if(f==null)return null;var d=vs(f.elem);return Pr(d)?d:null}},{key:"getCellNodeFromCordsOrThrow",value:function(i,o,u){var f=this.getCellNodeFromCords(i,o,u);if(!f)throw new Error("Node at cords not TableCellNode.");return f}},{key:"canSelectBefore",value:function(){return!0}}],[{key:"getType",value:function(){return"table"}},{key:"clone",value:function(i){return new r(i.__key)}},{key:"importDOM",value:function(){return{table:function(o){return{conversion:HQ,priority:0}}}}}]),r}(WL);function BQ(t,e){var r=t.getElementByKey(e.getKey());if(r==null)throw new Error("Table Element Not Found");return fb(r)}function HQ(t){return{node:$N()}}function $N(){return new o1}function yg(t){return t instanceof o1}function UQ(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=$N(),i=0;i<t;i++){for(var o=s9(),u=0;u<e;u++){var f=Oi.NO_STATUS;r&&(i===0&&(f|=Oi.ROW),u===0&&(f|=Oi.COLUMN));var d=Ex(f),g=Ar();g.append(gr()),d.append(g),o.append(d)}n.append(o)}return n}function KQ(t){var e=Vi(t,function(r){return Pr(r)});return Pr(e)?e:null}function qN(t){var e=Vi(t,function(r){return ql(r)});if(ql(e))return e;throw new Error("Expected table cell to be inside of table row.")}function Co(t){var e=Vi(t,function(r){return yg(r)});if(yg(e))return e;throw new Error("Expected table cell to be inside of table.")}function db(t){var e=qN(t),r=Co(e);return r.getChildren().findIndex(function(n){return n.is(e)})}function hb(t){var e=qN(t);return e.getChildren().findIndex(function(r){return r.is(t)})}function WQ(t,e){var r=Co(t),n=r.getCordsFromCellNode(t,e),i=n.x,o=n.y;return{above:r.getCellNodeFromCords(i,o-1,e),below:r.getCellNodeFromCords(i,o+1,e),left:r.getCellNodeFromCords(i-1,o,e),right:r.getCellNodeFromCords(i+1,o,e)}}function $Q(t,e){var r=t.getChildren();if(e>=r.length||e<0)throw new Error("Expected table cell to be inside of table row.");var n=r[e];return n.remove(),t}function qQ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=t.getChildren();if(e>=o.length||e<0)throw new Error("Table row target index out of range");var u=o[e];if(ql(u))for(var f=0;f<n;f++){for(var d=u.getChildren(),g=d.length,S=s9(),y=0;y<g;y++){var C=d[y];if(!Pr(C))throw Error("Expected table cell");var b=WQ(C,i),O=b.above,_=b.below,N=Oi.NO_STATUS,P=O&&O.getWidth()||_&&_.getWidth()||null;(O&&O.hasHeaderState(Oi.COLUMN)||_&&_.hasHeaderState(Oi.COLUMN))&&(N|=Oi.COLUMN);var M=Ex(N,1,P);M.append(Ar()),S.append(M)}r?u.insertAfter(S):u.insertBefore(S)}else throw new Error("Row before insertion index does not exist.");return t}function VQ(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=arguments.length>3?arguments[3]:void 0,i=t.getChildren(),o=0;o<i.length;o++){var u=i[o];if(ql(u))for(var f=0;f<n;f++){var d=Oi.NO_STATUS;o===0&&(d|=Oi.ROW);var g=Ex(d);g.append(Ar());var S=u.getChildren();if(e>=S.length||e<0)throw new Error("Table column target index out of range");var y=S[e];r?y.insertAfter(g):y.insertBefore(g)}}return t}function GQ(t,e){for(var r=t.getChildren(),n=0;n<r.length;n++){var i=r[n];if(ql(i)){var o=i.getChildren();if(e>=o.length||e<0)throw new Error("Table column target index out of range");o[e].remove()}}return t}var VN=er();function GN(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useEffect(function(){if(!r.hasNodes([o1,z1,Tx]))throw Error("TablePlugin: TableNode, TableCellNode or TableRowNode not registered on editor");return r.registerCommand(VN,function(n){var i=n.columns,o=n.rows,u=Ie();if(!Pe(u))return!0;var f=u.focus,d=f.getNode();if(d!==null){var g=UQ(Number(o),Number(i));if(pn(d)){var S=d.getChildAtIndex(f.offset);S!==null?S.insertBefore(g):d.append(g),g.insertBefore(Ar())}else{var y=d.getTopLevelElementOrThrow();y.insertAfter(g)}g.insertAfter(Ar());var C=g.getFirstChildOrThrow().getFirstChildOrThrow();C.select()}return!0},Nt)},[r]),ee.exports.useEffect(function(){var n=new Map;return r.registerMutationListener(o1,function(i){var o=Qi(i),u;try{var f=function(){var g=Se(u.value,2),S=g[0],y=g[1];if(y==="created")r.update(function(){var b=r.getElementByKey(S),O=Gt(S);if(b&&O){var _=RQ(O,b,r);n.set(S,_)}});else if(y==="destroyed"){var C=n.get(S);C&&(C.removeListeners(),n.delete(S))}};for(o.s();!(u=o.n()).done;)f()}catch(d){o.e(d)}finally{o.f()}})},[r]),null}function YQ(t){XQ(function(e){var r=JSON.parse(e),n=t.parseEditorState(JSON.stringify(r.editorState));t.setEditorState(n),t.dispatchCommand(qL)})}function XQ(t){var e=document.createElement("input");e.type="file",e.accept=".lexical",e.addEventListener("change",function(r){var n=r.target.files[0],i=new FileReader;i.readAsText(n,"UTF-8"),i.onload=function(o){var u=o.target.result;t(u)}}),e.click()}function ZQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.freeze({}),r=new Date,n=t.getEditorState(),i={editorState:n,lastSaved:r.getTime(),source:e.source||"Lexical",version:QY},o=e.fileName||r.toISOString();QQ(i,"".concat(o,".lexical"))}function QQ(t,e){var r=document.createElement("a"),n=document.body;if(n!==null){n.appendChild(r),r.style.display="none";var i=JSON.stringify(t),o=new Blob([i],{type:"octet/stream"}),u=window.URL.createObjectURL(o);r.href=u,r.download=e,r.click(),window.URL.revokeObjectURL(u),r.remove()}}const Bl=()=>new Map,xw=t=>{const e=Bl();return t.forEach((r,n)=>{e.set(n,r)}),e},ec=(t,e,r)=>{let n=t.get(e);return n===void 0&&t.set(e,n=r()),n},JQ=(t,e)=>{const r=[];for(const[n,i]of t)r.push(e(i,n));return r},eJ=(t,e)=>{for(const[r,n]of t)if(e(n,r))return!0;return!1},s1=()=>new Set,i5=t=>t[t.length-1],tJ=(t,e)=>{for(let r=0;r<e.length;r++)t.push(e[r])},YN=Array.from,rJ=Array.isArray;class Ox{constructor(){this._observers=Bl()}on(e,r){ec(this._observers,e,s1).add(r)}once(e,r){const n=(...i)=>{this.off(e,n),r(...i)};this.on(e,n)}off(e,r){const n=this._observers.get(e);n!==void 0&&(n.delete(r),n.size===0&&this._observers.delete(e))}emit(e,r){return YN((this._observers.get(e)||Bl()).values()).forEach(n=>n(...r))}destroy(){this._observers=Bl()}}const l1=Math.floor,pb=Math.abs,u9=(t,e)=>t<e?t:e,Ld=(t,e)=>t>e?t:e,nJ=Math.pow,XN=t=>t!==0?t<0:1/t<0,iJ=String.fromCharCode,aJ=t=>t.toLowerCase(),oJ=/^\s*/g,sJ=t=>t.replace(oJ,""),lJ=/([A-Z])/g,eA=(t,e)=>sJ(t.replace(lJ,r=>`${e}${aJ(r)}`));typeof TextEncoder!="undefined"&&new TextEncoder;let a5=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});a5&&a5.decode(new Uint8Array).length===1&&(a5=null);const tA=t=>t===void 0?null:t;class uJ{constructor(){this.map=new Map}setItem(e,r){this.map.set(e,r)}getItem(e){return this.map.get(e)}}let ZN=new uJ,QN=!0;try{typeof localStorage!="undefined"&&(ZN=localStorage,QN=!1)}catch{}const JN=ZN,cJ=t=>QN||addEventListener("storage",t),Ax=typeof process!="undefined"&&process.release&&/node|io\.js/.test(process.release.name),eR=typeof window!="undefined"&&!Ax;typeof navigator!="undefined"&&/Mac/.test(navigator.platform);let El;const fJ=()=>{if(El===void 0)if(Ax){El=Bl();const t=process.argv;let e=null;for(let r=0;r<t.length;r++){const n=t[r];n[0]==="-"?(e!==null&&El.set(e,""),e=n):e!==null&&(El.set(e,n),e=null)}e!==null&&El.set(e,"")}else typeof location=="object"?(El=Bl(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,r]=t.split("=");El.set(`--${eA(e,"-")}`,r),El.set(`-${eA(e,"-")}`,r)}})):El=Bl();return El},dJ=t=>fJ().has(t),hJ=t=>tA(Ax?process.env[t.toUpperCase()]:JN.getItem(t)),pJ=t=>dJ("--"+t)||hJ(t)!==null;pJ("production");const rA=1,nA=2,o5=4,s5=8,u1=32,Uu=64,Do=128,Ix=31,r7=63,dd=127,mJ=2147483647;class Mx{constructor(e){this.arr=e,this.pos=0}}const L0=t=>new Mx(t),vJ=t=>t.pos!==t.arr.length,gJ=(t,e)=>{const r=d9(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,r},Oa=t=>gJ(t,pr(t)),Jp=t=>t.arr[t.pos++],pr=t=>{let e=0,r=0;for(;;){const n=t.arr[t.pos++];if(e=e|(n&dd)<<r,r+=7,n<Do)return e>>>0;if(r>53)throw new Error("Integer out of range!")}},c9=t=>{let e=t.arr[t.pos++],r=e&r7,n=6;const i=(e&Uu)>0?-1:1;if((e&Do)===0)return i*r;for(;;){if(e=t.arr[t.pos++],r=r|(e&dd)<<n,n+=7,e<Do)return i*(r>>>0);if(n>53)throw new Error("Integer out of range!")}},b0=t=>{let e=pr(t);if(e===0)return"";{let r=String.fromCodePoint(Jp(t));if(--e<100)for(;e--;)r+=String.fromCodePoint(Jp(t));else for(;e>0;){const n=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+n);t.pos+=n,r+=String.fromCodePoint.apply(null,i),e-=n}return decodeURIComponent(escape(r))}},f9=(t,e)=>{const r=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,r},yJ=t=>f9(t,4).getFloat32(0,!1),bJ=t=>f9(t,8).getFloat64(0,!1),wJ=t=>f9(t,8).getBigInt64(0,!1),xJ=[t=>{},t=>null,c9,yJ,bJ,wJ,t=>!1,t=>!0,b0,t=>{const e=pr(t),r={};for(let n=0;n<e;n++){const i=b0(t);r[i]=c1(t)}return r},t=>{const e=pr(t),r=[];for(let n=0;n<e;n++)r.push(c1(t));return r},Oa],c1=t=>xJ[127-Jp(t)](t);class iA extends Mx{constructor(e,r){super(e),this.reader=r,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),vJ(this)?this.count=pr(this)+1:this.count=-1),this.count--,this.s}}class mb extends Mx{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=c9(this);const e=XN(this.s);this.count=1,e&&(this.s=-this.s,this.count=pr(this)+2)}return this.count--,this.s}}class l5 extends Mx{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=c9(this),r=e&1;this.diff=e>>1,this.count=1,r&&(this.count=pr(this)+2)}return this.s+=this.diff,this.count--,this.s}}class kJ{constructor(e){this.decoder=new mb(e),this.str=b0(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),r=this.str.slice(this.spos,e);return this.spos=e,r}}const tR=t=>new Uint8Array(t),d9=(t,e,r)=>new Uint8Array(t,e,r),_J=t=>new Uint8Array(t),SJ=t=>{let e="";for(let r=0;r<t.byteLength;r++)e+=iJ(t[r]);return btoa(e)},CJ=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),EJ=t=>{const e=atob(t),r=tR(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},TJ=t=>{const e=Buffer.from(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},OJ=eR?SJ:CJ,AJ=eR?EJ:TJ,IJ=t=>{const e=tR(t.byteLength);return e.set(t),e},MJ=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&l1(t)===t);class B1{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const pa=()=>new B1,h9=t=>{let e=t.cpos;for(let r=0;r<t.bufs.length;r++)e+=t.bufs[r].length;return e},$n=t=>{const e=new Uint8Array(h9(t));let r=0;for(let n=0;n<t.bufs.length;n++){const i=t.bufs[n];e.set(i,r),r+=i.length}return e.set(d9(t.cbuf.buffer,0,t.cpos),r),e},DJ=(t,e)=>{const r=t.cbuf.length;r-t.cpos<e&&(t.bufs.push(d9(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Ld(r,e)*2),t.cpos=0)},Gi=(t,e)=>{const r=t.cbuf.length;t.cpos===r&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(r*2),t.cpos=0),t.cbuf[t.cpos++]=e},n7=Gi,Vt=(t,e)=>{for(;e>dd;)Gi(t,Do|dd&e),e>>>=7;Gi(t,dd&e)},p9=(t,e)=>{const r=XN(e);for(r&&(e=-e),Gi(t,(e>r7?Do:0)|(r?Uu:0)|r7&e),e>>>=6;e>0;)Gi(t,(e>dd?Do:0)|dd&e),e>>>=7},hd=(t,e)=>{const r=unescape(encodeURIComponent(e)),n=r.length;Vt(t,n);for(let i=0;i<n;i++)Gi(t,r.codePointAt(i))},Dx=(t,e)=>{const r=t.cbuf.length,n=t.cpos,i=u9(r-n,e.length),o=e.length-i;t.cbuf.set(e.subarray(0,i),n),t.cpos+=i,o>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ld(r*2,o)),t.cbuf.set(e.subarray(i)),t.cpos=o)},di=(t,e)=>{Vt(t,e.byteLength),Dx(t,e)},m9=(t,e)=>{DJ(t,e);const r=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,r},PJ=(t,e)=>m9(t,4).setFloat32(0,e,!1),LJ=(t,e)=>m9(t,8).setFloat64(0,e,!1),NJ=(t,e)=>m9(t,8).setBigInt64(0,e,!1),aA=new DataView(new ArrayBuffer(4)),RJ=t=>(aA.setFloat32(0,t),aA.getFloat32(0)===t),f1=(t,e)=>{switch(typeof e){case"string":Gi(t,119),hd(t,e);break;case"number":MJ(e)&&pb(e)<=mJ?(Gi(t,125),p9(t,e)):RJ(e)?(Gi(t,124),PJ(t,e)):(Gi(t,123),LJ(t,e));break;case"bigint":Gi(t,122),NJ(t,e);break;case"object":if(e===null)Gi(t,126);else if(e instanceof Array){Gi(t,117),Vt(t,e.length);for(let r=0;r<e.length;r++)f1(t,e[r])}else if(e instanceof Uint8Array)Gi(t,116),di(t,e);else{Gi(t,118);const r=Object.keys(e);Vt(t,r.length);for(let n=0;n<r.length;n++){const i=r[n];hd(t,i),f1(t,e[i])}}break;case"boolean":Gi(t,e?120:121);break;default:Gi(t,127)}};class oA extends B1{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Vt(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const sA=t=>{t.count>0&&(p9(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Vt(t.encoder,t.count-2))};class vb{constructor(){this.encoder=new B1,this.s=0,this.count=0}write(e){this.s===e?this.count++:(sA(this),this.count=1,this.s=e)}toUint8Array(){return sA(this),$n(this.encoder)}}const lA=t=>{if(t.count>0){const e=t.diff<<1|(t.count===1?0:1);p9(t.encoder,e),t.count>1&&Vt(t.encoder,t.count-2)}};class u5{constructor(){this.encoder=new B1,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(lA(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return lA(this),$n(this.encoder)}}class jJ{constructor(){this.sarr=[],this.s="",this.lensE=new vb}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new B1;return this.sarr.push(this.s),this.s="",hd(e,this.sarr.join("")),Dx(e,this.lensE.toUint8Array()),$n(e)}}const uA=typeof crypto=="undefined"?null:crypto,FJ=uA!==null?t=>{const e=new ArrayBuffer(t),r=new Uint8Array(e);return uA.getRandomValues(r),e}:t=>{const e=new ArrayBuffer(t),r=new Uint8Array(e);for(let n=0;n<t;n++)r[n]=Math.ceil(Math.random()*4294967295>>>0);return e},rR=()=>new Uint32Array(FJ(4))[0],zJ=[1e7]+-1e3+-4e3+-8e3+-1e11,BJ=()=>zJ.replace(/[018]/g,t=>(t^rR()&15>>t/4).toString(16)),C0=Date.now,HJ=t=>new Promise(t),Px=t=>new Error(t),Hl=()=>{throw Px("Method unimplemented")},Zs=()=>{throw Px("Unexpected case")},UJ=Object.keys,KJ=(t,e)=>{const r=[];for(const n in t)r.push(e(t[n],n));return r},kw=t=>UJ(t).length,WJ=(t,e)=>{for(const r in t)if(!e(t[r],r))return!1;return!0},nR=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),$J=(t,e)=>t===e||kw(t)===kw(e)&&WJ(t,(r,n)=>(r!==void 0||nR(e,n))&&e[n]===r),v9=(t,e,r=0)=>{try{for(;r<t.length;r++)t[r](...e)}finally{r<t.length&&v9(t,e,r+1)}},qJ=(t,e)=>t===e,bg=(t,e)=>{if(t==null||e==null)return qJ(t,e);if(t.constructor!==e.constructor)return!1;if(t===e)return!0;switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;break}case Set:{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;break}case Map:{if(t.size!==e.size)return!1;for(const r of t.keys())if(!e.has(r)||!bg(t.get(r),e.get(r)))return!1;break}case Object:if(kw(t)!==kw(e))return!1;for(const r in t)if(!nR(t,r)||!bg(t[r],e[r]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!bg(t[r],e[r]))return!1;break;default:return!1}return!0},tc=Symbol;class VJ{constructor(e,r){this.left=e,this.right=r}}const Au=(t,e)=>new VJ(t,e),Nd=typeof document!="undefined"?document:{};typeof DOMParser!="undefined"&&new DOMParser;const GJ=t=>JQ(t,(e,r)=>`${r}:${e};`).join("");Nd.ELEMENT_NODE;Nd.TEXT_NODE;Nd.CDATA_SECTION_NODE;Nd.COMMENT_NODE;Nd.DOCUMENT_NODE;Nd.DOCUMENT_TYPE_NODE;Nd.DOCUMENT_FRAGMENT_NODE;const g9=tc(),y9=tc(),iR=tc(),aR=tc(),oR=tc(),b9=tc(),sR=tc(),w9=tc(),lR=tc(),YJ={[g9]:Au("font-weight","bold"),[y9]:Au("font-weight","normal"),[iR]:Au("color","blue"),[oR]:Au("color","green"),[aR]:Au("color","grey"),[b9]:Au("color","red"),[sR]:Au("color","purple"),[w9]:Au("color","orange"),[lR]:Au("color","black")},XJ={[g9]:"\x1B[1m",[y9]:"\x1B[2m",[iR]:"\x1B[34m",[oR]:"\x1B[32m",[aR]:"\x1B[37m",[b9]:"\x1B[31m",[sR]:"\x1B[35m",[w9]:"\x1B[38;5;208m",[lR]:"\x1B[0m"},ZJ=t=>{const e=[],r=[],n=Bl();let i=[],o=0;for(;o<t.length;o++){const u=t[o],f=YJ[u];if(f!==void 0)n.set(f.left,f.right);else if(u.constructor===String||u.constructor===Number){const d=GJ(n);o>0||d.length>0?(e.push("%c"+u),r.push(d)):e.push(u)}else break}for(o>0&&(i=r,i.unshift(e.join("")));o<t.length;o++){const u=t[o];u instanceof Symbol||i.push(u)}return i},QJ=t=>{const e=[],r=[];let n=0;for(;n<t.length;n++){const i=t[n],o=XJ[i];if(o!==void 0)e.push(o);else if(i.constructor===String||i.constructor===Number)e.push(i);else break}for(n>0&&(e.push("\x1B[0m"),r.push(e.join("")));n<t.length;n++){const i=t[n];i instanceof Symbol||r.push(i)}return r},JJ=Ax?QJ:ZJ,eee=(...t)=>{console.log(...JJ(t)),tee.forEach(e=>e.print(t))},tee=new Set,uR=t=>({[Symbol.iterator](){return this},next:t}),ree=(t,e)=>uR(()=>{let r;do r=t.next();while(!r.done&&!e(r.value));return r}),c5=(t,e)=>uR(()=>{const{done:r,value:n}=t.next();return{done:r,value:r?void 0:e(n)}});class x9{constructor(e,r){this.clock=e,this.len=r}}class dm{constructor(){this.clients=new Map}}const Cd=(t,e,r)=>e.clients.forEach((n,i)=>{const o=t.doc.store.clients.get(i);for(let u=0;u<n.length;u++){const f=n[u];_R(t,o,f.clock,f.len,r)}}),nee=(t,e)=>{let r=0,n=t.length-1;for(;r<=n;){const i=l1((r+n)/2),o=t[i],u=o.clock;if(u<=e){if(e<u+o.len)return i;r=i+1}else n=i-1}return null},Lx=(t,e)=>{const r=t.clients.get(e.client);return r!==void 0&&nee(r,e.clock)!==null},k9=t=>{t.clients.forEach(e=>{e.sort((i,o)=>i.clock-o.clock);let r,n;for(r=1,n=1;r<e.length;r++){const i=e[n-1],o=e[r];i.clock+i.len>=o.clock?i.len=Ld(i.len,o.clock+o.len-i.clock):(n<r&&(e[n]=o),n++)}e.length=n})},i7=t=>{const e=new dm;for(let r=0;r<t.length;r++)t[r].clients.forEach((n,i)=>{if(!e.clients.has(i)){const o=n.slice();for(let u=r+1;u<t.length;u++)tJ(o,t[u].clients.get(i)||[]);e.clients.set(i,o)}});return k9(e),e},d1=(t,e,r,n)=>{ec(t.clients,e,()=>[]).push(new x9(r,n))},cR=()=>new dm,iee=t=>{const e=cR();return t.clients.forEach((r,n)=>{const i=[];for(let o=0;o<r.length;o++){const u=r[o];if(u.deleted){const f=u.id.clock;let d=u.length;if(o+1<r.length)for(let g=r[o+1];o+1<r.length&&g.deleted;g=r[++o+1])d+=g.length;i.push(new x9(f,d))}}i.length>0&&e.clients.set(n,i)}),e},hm=(t,e)=>{Vt(t.restEncoder,e.clients.size),e.clients.forEach((r,n)=>{t.resetDsCurVal(),Vt(t.restEncoder,n);const i=r.length;Vt(t.restEncoder,i);for(let o=0;o<i;o++){const u=r[o];t.writeDsClock(u.clock),t.writeDsLen(u.len)}})},_9=t=>{const e=new dm,r=pr(t.restDecoder);for(let n=0;n<r;n++){t.resetDsCurVal();const i=pr(t.restDecoder),o=pr(t.restDecoder);if(o>0){const u=ec(e.clients,i,()=>[]);for(let f=0;f<o;f++)u.push(new x9(t.readDsClock(),t.readDsLen()))}}return e},cA=(t,e,r)=>{const n=new dm,i=pr(t.restDecoder);for(let o=0;o<i;o++){t.resetDsCurVal();const u=pr(t.restDecoder),f=pr(t.restDecoder),d=r.clients.get(u)||[],g=si(r,u);for(let S=0;S<f;S++){const y=t.readDsClock(),C=y+t.readDsLen();if(y<g){g<C&&d1(n,u,g,C-g);let b=Vl(d,y),O=d[b];for(!O.deleted&&O.id.clock<y&&(d.splice(b+1,0,Aw(e,O,y-O.id.clock)),b++);b<d.length&&(O=d[b++],O.id.clock<C);)O.deleted||(C<O.id.clock+O.length&&d.splice(b,0,Aw(e,O,C-O.id.clock)),O.delete(e))}else d1(n,u,y,C-y)}}if(n.clients.size>0){const o=new Ed;return Vt(o.restEncoder,0),hm(o,n),o.toUint8Array()}return null},fR=rR;class Yu extends Ox{constructor({guid:e=BJ(),collectionid:r=null,gc:n=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:u=!1,shouldLoad:f=!0}={}){super(),this.gc=n,this.gcFilter=i,this.clientID=fR(),this.guid=e,this.collectionid=r,this.share=new Map,this.store=new xR,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=f,this.autoLoad=u,this.meta=o,this.isLoaded=!1,this.whenLoaded=HJ(d=>{this.on("load",()=>{this.isLoaded=!0,d(this)})})}load(){const e=this._item;e!==null&&!this.shouldLoad&&bn(e.parent.doc,r=>{r.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(e=>e.guid))}transact(e,r=null){bn(this,e,r)}get(e,r=Xi){const n=ec(this.share,e,()=>{const o=new r;return o._integrate(this,null),o}),i=n.constructor;if(r!==Xi&&i!==r)if(i===Xi){const o=new r;o._map=n._map,n._map.forEach(u=>{for(;u!==null;u=u.left)u.parent=o}),o._start=n._start;for(let u=o._start;u!==null;u=u.right)u.parent=o;return o._length=n._length,this.share.set(e,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return n}getArray(e=""){return this.get(e,Mp)}getText(e=""){return this.get(e,tm)}getMap(e=""){return this.get(e,Lo)}getXmlFragment(e=""){return this.get(e,Td)}toJSON(){const e={};return this.share.forEach((r,n)=>{e[n]=r.toJSON()}),e}destroy(){YN(this.subdocs).forEach(r=>r.destroy());const e=this._item;if(e!==null){this._item=null;const r=e.content;r.doc=new Yu(i4(n4({guid:this.guid},r.opts),{shouldLoad:!1})),r.doc._item=e,bn(e.parent.doc,n=>{const i=r.doc;e.deleted||n.subdocsAdded.add(i),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,r){super.on(e,r)}off(e,r){super.off(e,r)}}class dR{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return pr(this.restDecoder)}readDsLen(){return pr(this.restDecoder)}}class hR extends dR{readLeftID(){return Tr(pr(this.restDecoder),pr(this.restDecoder))}readRightID(){return Tr(pr(this.restDecoder),pr(this.restDecoder))}readClient(){return pr(this.restDecoder)}readInfo(){return Jp(this.restDecoder)}readString(){return b0(this.restDecoder)}readParentInfo(){return pr(this.restDecoder)===1}readTypeRef(){return pr(this.restDecoder)}readLen(){return pr(this.restDecoder)}readAny(){return c1(this.restDecoder)}readBuf(){return IJ(Oa(this.restDecoder))}readJSON(){return JSON.parse(b0(this.restDecoder))}readKey(){return b0(this.restDecoder)}}class aee{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=pr(this.restDecoder),this.dsCurrVal}readDsLen(){const e=pr(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class em extends aee{constructor(e){super(e),this.keys=[],pr(e),this.keyClockDecoder=new l5(Oa(e)),this.clientDecoder=new mb(Oa(e)),this.leftClockDecoder=new l5(Oa(e)),this.rightClockDecoder=new l5(Oa(e)),this.infoDecoder=new iA(Oa(e),Jp),this.stringDecoder=new kJ(Oa(e)),this.parentInfoDecoder=new iA(Oa(e),Jp),this.typeRefDecoder=new mb(Oa(e)),this.lenDecoder=new mb(Oa(e))}readLeftID(){return new Ip(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Ip(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return c1(this.restDecoder)}readBuf(){return Oa(this.restDecoder)}readJSON(){return c1(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const r=this.stringDecoder.read();return this.keys.push(r),r}}}class pR{constructor(){this.restEncoder=pa()}toUint8Array(){return $n(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Vt(this.restEncoder,e)}writeDsLen(e){Vt(this.restEncoder,e)}}class H1 extends pR{writeLeftID(e){Vt(this.restEncoder,e.client),Vt(this.restEncoder,e.clock)}writeRightID(e){Vt(this.restEncoder,e.client),Vt(this.restEncoder,e.clock)}writeClient(e){Vt(this.restEncoder,e)}writeInfo(e){n7(this.restEncoder,e)}writeString(e){hd(this.restEncoder,e)}writeParentInfo(e){Vt(this.restEncoder,e?1:0)}writeTypeRef(e){Vt(this.restEncoder,e)}writeLen(e){Vt(this.restEncoder,e)}writeAny(e){f1(this.restEncoder,e)}writeBuf(e){di(this.restEncoder,e)}writeJSON(e){hd(this.restEncoder,JSON.stringify(e))}writeKey(e){hd(this.restEncoder,e)}}class mR{constructor(){this.restEncoder=pa(),this.dsCurrVal=0}toUint8Array(){return $n(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const r=e-this.dsCurrVal;this.dsCurrVal=e,Vt(this.restEncoder,r)}writeDsLen(e){e===0&&Zs(),Vt(this.restEncoder,e-1),this.dsCurrVal+=e}}class Ed extends mR{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new u5,this.clientEncoder=new vb,this.leftClockEncoder=new u5,this.rightClockEncoder=new u5,this.infoEncoder=new oA(n7),this.stringEncoder=new jJ,this.parentInfoEncoder=new oA(n7),this.typeRefEncoder=new vb,this.lenEncoder=new vb}toUint8Array(){const e=pa();return Vt(e,0),di(e,this.keyClockEncoder.toUint8Array()),di(e,this.clientEncoder.toUint8Array()),di(e,this.leftClockEncoder.toUint8Array()),di(e,this.rightClockEncoder.toUint8Array()),di(e,$n(this.infoEncoder)),di(e,this.stringEncoder.toUint8Array()),di(e,$n(this.parentInfoEncoder)),di(e,this.typeRefEncoder.toUint8Array()),di(e,this.lenEncoder.toUint8Array()),Dx(e,$n(this.restEncoder)),$n(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){f1(this.restEncoder,e)}writeBuf(e){di(this.restEncoder,e)}writeJSON(e){f1(this.restEncoder,e)}writeKey(e){const r=this.keyMap.get(e);r===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(r)}}const oee=(t,e,r,n)=>{n=Ld(n,e[0].id.clock);const i=Vl(e,n);Vt(t.restEncoder,e.length-i),t.writeClient(r),Vt(t.restEncoder,n);const o=e[i];o.write(t,n-o.id.clock);for(let u=i+1;u<e.length;u++)e[u].write(t,0)},S9=(t,e,r)=>{const n=new Map;r.forEach((i,o)=>{si(e,o)>i&&n.set(o,i)}),Nx(e).forEach((i,o)=>{r.has(o)||n.set(o,0)}),Vt(t.restEncoder,n.size),Array.from(n.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{oee(t,e.clients.get(i),i,o)})},see=(t,e)=>{const r=Bl(),n=pr(t.restDecoder);for(let i=0;i<n;i++){const o=pr(t.restDecoder),u=new Array(o),f=t.readClient();let d=pr(t.restDecoder);r.set(f,{i:0,refs:u});for(let g=0;g<o;g++){const S=t.readInfo();switch(Ix&S){case 0:{const y=t.readLen();u[g]=new os(Tr(f,d),y),d+=y;break}case 10:{const y=pr(t.restDecoder);u[g]=new ss(Tr(f,d),y),d+=y;break}default:{const y=(S&(Uu|Do))===0,C=new wn(Tr(f,d),null,(S&Do)===Do?t.readLeftID():null,null,(S&Uu)===Uu?t.readRightID():null,y?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,y&&(S&u1)===u1?t.readString():null,qR(t,S));u[g]=C,d+=C.length}}}}return r},lee=(t,e,r)=>{const n=[];let i=Array.from(r.keys()).sort((b,O)=>b-O);if(i.length===0)return null;const o=()=>{if(i.length===0)return null;let b=r.get(i[i.length-1]);for(;b.refs.length===b.i;)if(i.pop(),i.length>0)b=r.get(i[i.length-1]);else return null;return b};let u=o();if(u===null&&n.length===0)return null;const f=new xR,d=new Map,g=(b,O)=>{const _=d.get(b);(_==null||_>O)&&d.set(b,O)};let S=u.refs[u.i++];const y=new Map,C=()=>{for(const b of n){const O=b.id.client,_=r.get(O);_?(_.i--,f.clients.set(O,_.refs.slice(_.i)),r.delete(O),_.i=0,_.refs=[]):f.clients.set(O,[b]),i=i.filter(N=>N!==O)}n.length=0};for(;;){if(S.constructor!==ss){const O=ec(y,S.id.client,()=>si(e,S.id.client))-S.id.clock;if(O<0)n.push(S),g(S.id.client,S.id.clock-1),C();else{const _=S.getMissing(t,e);if(_!==null){n.push(S);const N=r.get(_)||{refs:[],i:0};if(N.refs.length===N.i)g(_,si(e,_)),C();else{S=N.refs[N.i++];continue}}else(O===0||O<S.length)&&(S.integrate(t,O),y.set(S.id.client,S.id.clock+S.length))}}if(n.length>0)S=n.pop();else if(u!==null&&u.i<u.refs.length)S=u.refs[u.i++];else{if(u=o(),u===null)break;S=u.refs[u.i++]}}if(f.clients.size>0){const b=new Ed;return S9(b,f,new Map),Vt(b.restEncoder,0),{missing:d,update:b.toUint8Array()}}return null},uee=(t,e)=>S9(t,e.doc.store,e.beforeState),cee=(t,e,r,n=new em(t))=>bn(e,i=>{i.local=!1;let o=!1;const u=i.doc,f=u.store,d=see(n,u),g=lee(i,f,d),S=f.pendingStructs;if(S){for(const[C,b]of S.missing)if(b<si(f,C)){o=!0;break}if(g){for(const[C,b]of g.missing){const O=S.missing.get(C);(O==null||O>b)&&S.missing.set(C,b)}S.update=Sw([S.update,g.update])}}else f.pendingStructs=g;const y=cA(n,i,f);if(f.pendingDs){const C=new em(L0(f.pendingDs));pr(C.restDecoder);const b=cA(C,i,f);y&&b?f.pendingDs=Sw([y,b]):f.pendingDs=y||b}else f.pendingDs=y;if(o){const C=f.pendingStructs.update;f.pendingStructs=null,vR(i.doc,C)}},r,!1),vR=(t,e,r,n=em)=>{const i=L0(e);cee(i,t,r,new n(i))},fee=(t,e,r)=>vR(t,e,r,hR),dee=(t,e,r=new Map)=>{S9(t,e.store,r),hm(t,iee(e.store))},hee=(t,e=new Uint8Array([0]),r=new Ed)=>{const n=gR(e);dee(r,t,n);const i=[r.toUint8Array()];if(t.store.pendingDs&&i.push(t.store.pendingDs),t.store.pendingStructs&&i.push(Fee(t.store.pendingStructs.update,e)),i.length>1){if(r.constructor===H1)return Ree(i.map((o,u)=>u===0?o:Bee(o)));if(r.constructor===Ed)return Sw(i)}return i[0]},pee=(t,e)=>hee(t,e,new H1),mee=t=>{const e=new Map,r=pr(t.restDecoder);for(let n=0;n<r;n++){const i=pr(t.restDecoder),o=pr(t.restDecoder);e.set(i,o)}return e},gR=t=>mee(new dR(L0(t))),yR=(t,e)=>(Vt(t.restEncoder,e.size),Array.from(e.entries()).sort((r,n)=>n[0]-r[0]).forEach(([r,n])=>{Vt(t.restEncoder,r),Vt(t.restEncoder,n)}),t),vee=(t,e)=>yR(t,Nx(e.store)),gee=(t,e=new mR)=>(t instanceof Map?yR(e,t):vee(e,t),e.toUint8Array()),yee=t=>gee(t,new pR);class bee{constructor(){this.l=[]}}const fA=()=>new bee,dA=(t,e)=>t.l.push(e),hA=(t,e)=>{const r=t.l,n=r.length;t.l=r.filter(i=>e!==i),n===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},bR=(t,e,r)=>v9(t.l,[e,r]);class Ip{constructor(e,r){this.client=e,this.clock=r}}const vp=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,Tr=(t,e)=>new Ip(t,e),wR=t=>{for(const[e,r]of t.doc.share.entries())if(r===t)return e;throw Zs()},_w=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class wee{constructor(e,r,n,i=0){this.type=e,this.tname=r,this.item=n,this.assoc=i}}class xee{constructor(e,r,n=0){this.type=e,this.index=r,this.assoc=n}}const kee=(t,e,r=0)=>new xee(t,e,r),A4=(t,e,r)=>{let n=null,i=null;return t._item===null?i=wR(t):n=Tr(t._item.id.client,t._item.id.clock),new wee(n,i,e,r)},_ee=(t,e,r=0)=>{let n=t._start;if(r<0){if(e===0)return A4(t,null,r);e--}for(;n!==null;){if(!n.deleted&&n.countable){if(n.length>e)return A4(t,Tr(n.id.client,n.id.clock+e),r);e-=n.length}if(n.right===null&&r<0)return A4(t,n.lastId,r);n=n.right}return A4(t,null,r)},See=(t,e)=>{const r=e.store,n=t.item,i=t.type,o=t.tname,u=t.assoc;let f=null,d=0;if(n!==null){if(si(r,n.client)<=n.clock)return null;const g=s7(r,n),S=g.item;if(!(S instanceof wn))return null;if(f=S.parent,f._item===null||!f._item.deleted){d=S.deleted||!S.countable?0:g.diff+(u>=0?0:1);let y=S.left;for(;y!==null;)!y.deleted&&y.countable&&(d+=y.length),y=y.left}}else{if(o!==null)f=e.get(o);else if(i!==null){if(si(r,i.client)<=i.clock)return null;const{item:g}=s7(r,i);if(g instanceof wn&&g.content instanceof Ql)f=g.content.type;else return null}else throw Zs();u>=0?d=f._length:d=0}return kee(f,d,t.assoc)},Cee=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&vp(t.item,e.item)&&vp(t.type,e.type)&&t.assoc===e.assoc;class Eee{constructor(e,r){this.ds=e,this.sv=r}}const Tee=(t,e)=>new Eee(t,e);Tee(cR(),new Map);const Gv=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Lx(e.ds,t.id),gb=(t,e)=>{const r=ec(t.meta,gb,s1),n=t.doc.store;r.has(e)||(e.sv.forEach((i,o)=>{i<si(n,o)&&io(t,Tr(o,i))}),Cd(t,e.ds,i=>{}),r.add(e))};class xR{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Nx=t=>{const e=new Map;return t.clients.forEach((r,n)=>{const i=r[r.length-1];e.set(n,i.id.clock+i.length)}),e},si=(t,e)=>{const r=t.clients.get(e);if(r===void 0)return 0;const n=r[r.length-1];return n.id.clock+n.length},kR=(t,e)=>{let r=t.clients.get(e.id.client);if(r===void 0)r=[],t.clients.set(e.id.client,r);else{const n=r[r.length-1];if(n.id.clock+n.length!==e.id.clock)throw Zs()}r.push(e)},Vl=(t,e)=>{let r=0,n=t.length-1,i=t[n],o=i.id.clock;if(o===e)return n;let u=l1(e/(o+i.length-1)*n);for(;r<=n;){if(i=t[u],o=i.id.clock,o<=e){if(e<o+i.length)return u;r=u+1}else n=u-1;u=l1((r+n)/2)}throw Zs()},Oee=(t,e)=>{const r=t.clients.get(e.client);return r[Vl(r,e.clock)]},yb=Oee,a7=(t,e,r)=>{const n=Vl(e,r),i=e[n];return i.id.clock<r&&i instanceof wn?(e.splice(n+1,0,Aw(t,i,r-i.id.clock)),n+1):n},io=(t,e)=>{const r=t.doc.store.clients.get(e.client);return r[a7(t,r,e.clock)]},pA=(t,e,r)=>{const n=e.clients.get(r.client),i=Vl(n,r.clock),o=n[i];return r.clock!==o.id.clock+o.length-1&&o.constructor!==os&&n.splice(i+1,0,Aw(t,o,r.clock-o.id.clock+1)),o},Aee=(t,e,r)=>{const n=t.clients.get(e.id.client);n[Vl(n,e.id.clock)]=r},_R=(t,e,r,n,i)=>{if(n===0)return;const o=r+n;let u=a7(t,e,r),f;do f=e[u++],o<f.id.clock+f.length&&a7(t,e,o),i(f);while(u<e.length&&e[u].id.clock<o)};class Iee{constructor(e,r,n){this.doc=e,this.deleteSet=new dm,this.beforeState=Nx(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=r,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const mA=(t,e)=>e.deleteSet.clients.size===0&&!eJ(e.afterState,(r,n)=>e.beforeState.get(n)!==r)?!1:(k9(e.deleteSet),uee(t,e),hm(t,e.deleteSet),!0),vA=(t,e,r)=>{const n=e._item;(n===null||n.id.clock<(t.beforeState.get(n.id.client)||0)&&!n.deleted)&&ec(t.changed,e,s1).add(r)},bb=(t,e)=>{const r=t[e-1],n=t[e];r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)&&(t.splice(e,1),n instanceof wn&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r))},Mee=(t,e,r)=>{for(const[n,i]of t.clients.entries()){const o=e.clients.get(n);for(let u=i.length-1;u>=0;u--){const f=i[u],d=f.clock+f.len;for(let g=Vl(o,f.clock),S=o[g];g<o.length&&S.id.clock<d;S=o[++g]){const y=o[g];if(f.clock+f.len<=y.id.clock)break;y instanceof wn&&y.deleted&&!y.keep&&r(y)&&y.gc(e,!1)}}}},Dee=(t,e)=>{t.clients.forEach((r,n)=>{const i=e.clients.get(n);for(let o=r.length-1;o>=0;o--){const u=r[o],f=u9(i.length-1,1+Vl(i,u.clock+u.len-1));for(let d=f,g=i[d];d>0&&g.id.clock>=u.clock;g=i[--d])bb(i,d)}})},SR=(t,e)=>{if(e<t.length){const r=t[e],n=r.doc,i=n.store,o=r.deleteSet,u=r._mergeStructs;try{k9(o),r.afterState=Nx(r.doc.store),n._transaction=null,n.emit("beforeObserverCalls",[r,n]);const f=[];r.changed.forEach((d,g)=>f.push(()=>{(g._item===null||!g._item.deleted)&&g._callObserver(r,d)})),f.push(()=>{r.changedParentTypes.forEach((d,g)=>f.push(()=>{(g._item===null||!g._item.deleted)&&(d=d.filter(S=>S.target._item===null||!S.target._item.deleted),d.forEach(S=>{S.currentTarget=g}),d.sort((S,y)=>S.path.length-y.path.length),bR(g._dEH,d,r))})),f.push(()=>n.emit("afterTransaction",[r,n]))}),v9(f,[])}finally{n.gc&&Mee(o,i,n.gcFilter),Dee(o,i),r.afterState.forEach((S,y)=>{const C=r.beforeState.get(y)||0;if(C!==S){const b=i.clients.get(y),O=Ld(Vl(b,C),1);for(let _=b.length-1;_>=O;_--)bb(b,_)}});for(let S=0;S<u.length;S++){const{client:y,clock:C}=u[S].id,b=i.clients.get(y),O=Vl(b,C);O+1<b.length&&bb(b,O+1),O>0&&bb(b,O)}if(!r.local&&r.afterState.get(n.clientID)!==r.beforeState.get(n.clientID)&&(eee(w9,g9,"[yjs] ",y9,b9,"Changed the client-id because another client seems to be using it."),n.clientID=fR()),n.emit("afterTransactionCleanup",[r,n]),n._observers.has("update")){const S=new H1;mA(S,r)&&n.emit("update",[S.toUint8Array(),r.origin,n,r])}if(n._observers.has("updateV2")){const S=new Ed;mA(S,r)&&n.emit("updateV2",[S.toUint8Array(),r.origin,n,r])}const{subdocsAdded:f,subdocsLoaded:d,subdocsRemoved:g}=r;(f.size>0||g.size>0||d.size>0)&&(f.forEach(S=>{S.clientID=n.clientID,S.collectionid==null&&(S.collectionid=n.collectionid),n.subdocs.add(S)}),g.forEach(S=>n.subdocs.delete(S)),n.emit("subdocs",[{loaded:d,added:f,removed:g},n,r]),g.forEach(S=>S.destroy())),t.length<=e+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,t])):SR(t,e+1)}}},bn=(t,e,r=null,n=!0)=>{const i=t._transactionCleanups;let o=!1;t._transaction===null&&(o=!0,t._transaction=new Iee(t,r,n),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{e(t._transaction)}finally{o&&i[0]===t._transaction&&SR(i,0)}};class Pee{constructor(e,r){this.insertions=r,this.deletions=e,this.meta=new Map}}const gA=(t,e,r)=>{Cd(t,r.deletions,n=>{n instanceof wn&&e.scope.some(i=>_w(i,n))&&D9(n,!1)})},yA=(t,e,r)=>{let n=null,i=null;const o=t.doc,u=t.scope;if(bn(o,f=>{for(;e.length>0&&n===null;){const d=o.store,g=e.pop(),S=new Set,y=[];let C=!1;Cd(f,g.insertions,b=>{if(b instanceof wn){if(b.redone!==null){let{item:O,diff:_}=s7(d,b.id);_>0&&(O=io(f,Tr(O.id.client,O.id.clock+_))),b=O}!b.deleted&&u.some(O=>_w(O,b))&&y.push(b)}}),Cd(f,g.deletions,b=>{b instanceof wn&&u.some(O=>_w(O,b))&&!Lx(g.insertions,b.id)&&S.add(b)}),S.forEach(b=>{C=$R(f,b,S,g.insertions,t.ignoreRemoteMapChanges)!==null||C});for(let b=y.length-1;b>=0;b--){const O=y[b];t.deleteFilter(O)&&(O.delete(f),C=!0)}n=C?g:null}f.changed.forEach((d,g)=>{d.has(null)&&g._searchMarker&&(g._searchMarker.length=0)}),i=f},t),n!=null){const f=i.changedParentTypes;t.emit("stack-item-popped",[{stackItem:n,type:r,changedParentTypes:f},t])}return n};class Lee extends Ox{constructor(e,{captureTimeout:r=500,deleteFilter:n=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:o=!1}={}){super(),this.scope=[],this.addToScope(e),this.deleteFilter=n,i.add(this),this.trackedOrigins=i,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.doc=this.scope[0].doc,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.afterTransactionHandler=u=>{if(!this.scope.some(O=>u.changedParentTypes.has(O))||!this.trackedOrigins.has(u.origin)&&(!u.origin||!this.trackedOrigins.has(u.origin.constructor)))return;const f=this.undoing,d=this.redoing,g=f?this.redoStack:this.undoStack;f?this.stopCapturing():d||this.clear(!1,!0);const S=new dm;u.afterState.forEach((O,_)=>{const N=u.beforeState.get(_)||0,P=O-N;P>0&&d1(S,_,N,P)});const y=C0();let C=!1;if(y-this.lastChange<r&&g.length>0&&!f&&!d){const O=g[g.length-1];O.deletions=i7([O.deletions,u.deleteSet]),O.insertions=i7([O.insertions,S])}else g.push(new Pee(u.deleteSet,S)),C=!0;!f&&!d&&(this.lastChange=y),Cd(u,u.deleteSet,O=>{O instanceof wn&&this.scope.some(_=>_w(_,O))&&D9(O,!0)});const b=[{stackItem:g[g.length-1],origin:u.origin,type:f?"redo":"undo",changedParentTypes:u.changedParentTypes},this];C?this.emit("stack-item-added",b):this.emit("stack-item-updated",b)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=rJ(e)?e:[e],e.forEach(r=>{this.scope.every(n=>n!==r)&&this.scope.push(r)})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,r=!0){(e&&this.canUndo()||r&&this.canRedo())&&this.doc.transact(n=>{e&&(this.undoStack.forEach(i=>gA(n,this,i)),this.undoStack=[]),r&&(this.redoStack.forEach(i=>gA(n,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:r}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=yA(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=yA(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*Nee(t){const e=pr(t.restDecoder);for(let r=0;r<e;r++){const n=pr(t.restDecoder),i=t.readClient();let o=pr(t.restDecoder);for(let u=0;u<n;u++){const f=t.readInfo();if(f===10){const d=pr(t.restDecoder);yield new ss(Tr(i,o),d),o+=d}else if((Ix&f)!==0){const d=(f&(Uu|Do))===0,g=new wn(Tr(i,o),null,(f&Do)===Do?t.readLeftID():null,null,(f&Uu)===Uu?t.readRightID():null,d?t.readParentInfo()?t.readString():t.readLeftID():null,d&&(f&u1)===u1?t.readString():null,qR(t,f));yield g,o+=g.length}else{const d=t.readLen();yield new os(Tr(i,o),d),o+=d}}}}class C9{constructor(e,r){this.gen=Nee(e),this.curr=null,this.done=!1,this.filterSkips=r,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===ss);return this.curr}}class E9{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const Ree=t=>Sw(t,hR,H1),jee=(t,e)=>{if(t.constructor===os){const{client:r,clock:n}=t.id;return new os(Tr(r,n+e),t.length-e)}else if(t.constructor===ss){const{client:r,clock:n}=t.id;return new ss(Tr(r,n+e),t.length-e)}else{const r=t,{client:n,clock:i}=r.id;return new wn(Tr(n,i+e),null,Tr(n,i+e-1),null,r.rightOrigin,r.parent,r.parentSub,r.content.splice(e))}},Sw=(t,e=em,r=Ed)=>{if(t.length===1)return t[0];const n=t.map(S=>new e(L0(S)));let i=n.map(S=>new C9(S,!0)),o=null;const u=new r,f=new E9(u);for(;i=i.filter(C=>C.curr!==null),i.sort((C,b)=>{if(C.curr.id.client===b.curr.id.client){const O=C.curr.id.clock-b.curr.id.clock;return O===0?C.curr.constructor===b.curr.constructor?0:C.curr.constructor===ss?1:-1:O}else return b.curr.id.client-C.curr.id.client}),i.length!==0;){const S=i[0],y=S.curr.id.client;if(o!==null){let C=S.curr,b=!1;for(;C!==null&&C.id.clock+C.length<=o.struct.id.clock+o.struct.length&&C.id.client>=o.struct.id.client;)C=S.next(),b=!0;if(C===null||C.id.client!==y||b&&C.id.clock>o.struct.id.clock+o.struct.length)continue;if(y!==o.struct.id.client)a0(f,o.struct,o.offset),o={struct:C,offset:0},S.next();else if(o.struct.id.clock+o.struct.length<C.id.clock)if(o.struct.constructor===ss)o.struct.length=C.id.clock+C.length-o.struct.id.clock;else{a0(f,o.struct,o.offset);const O=C.id.clock-o.struct.id.clock-o.struct.length;o={struct:new ss(Tr(y,o.struct.id.clock+o.struct.length),O),offset:0}}else{const O=o.struct.id.clock+o.struct.length-C.id.clock;O>0&&(o.struct.constructor===ss?o.struct.length-=O:C=jee(C,O)),o.struct.mergeWith(C)||(a0(f,o.struct,o.offset),o={struct:C,offset:0},S.next())}}else o={struct:S.curr,offset:0},S.next();for(let C=S.curr;C!==null&&C.id.client===y&&C.id.clock===o.struct.id.clock+o.struct.length&&C.constructor!==ss;C=S.next())a0(f,o.struct,o.offset),o={struct:C,offset:0}}o!==null&&(a0(f,o.struct,o.offset),o=null),T9(f);const d=n.map(S=>_9(S)),g=i7(d);return hm(u,g),u.toUint8Array()},Fee=(t,e,r=em,n=Ed)=>{const i=gR(e),o=new n,u=new E9(o),f=new r(L0(t)),d=new C9(f,!1);for(;d.curr;){const S=d.curr,y=S.id.client,C=i.get(y)||0;if(d.curr.constructor===ss){d.next();continue}if(S.id.clock+S.length>C)for(a0(u,S,Ld(C-S.id.clock,0)),d.next();d.curr&&d.curr.id.client===y;)a0(u,d.curr,0),d.next();else for(;d.curr&&d.curr.id.client===y&&d.curr.id.clock+d.curr.length<=C;)d.next()}T9(u);const g=_9(f);return hm(o,g),o.toUint8Array()},CR=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:$n(t.encoder.restEncoder)}),t.encoder.restEncoder=pa(),t.written=0)},a0=(t,e,r)=>{t.written>0&&t.currClient!==e.id.client&&CR(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),Vt(t.encoder.restEncoder,e.id.clock+r)),e.write(t.encoder,r),t.written++},T9=t=>{CR(t);const e=t.encoder.restEncoder;Vt(e,t.clientStructs.length);for(let r=0;r<t.clientStructs.length;r++){const n=t.clientStructs[r];Vt(e,n.written),Dx(e,n.restEncoder)}},zee=(t,e,r)=>{const n=new e(L0(t)),i=new C9(n,!1),o=new r,u=new E9(o);for(let d=i.curr;d!==null;d=i.next())a0(u,d,0);T9(u);const f=_9(n);return hm(o,f),o.toUint8Array()},Bee=t=>zee(t,em,H1);class Rx{constructor(e,r){this.target=e,this.currentTarget=e,this.transaction=r,this._changes=null,this._keys=null,this._delta=null}get path(){return Hee(this.currentTarget,this.target)}deletes(e){return Lx(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){const e=new Map,r=this.target;this.transaction.changed.get(r).forEach(i=>{if(i!==null){const o=r._map.get(i);let u,f;if(this.adds(o)){let d=o.left;for(;d!==null&&this.adds(d);)d=d.left;if(this.deletes(o))if(d!==null&&this.deletes(d))u="delete",f=i5(d.content.getContent());else return;else d!==null&&this.deletes(d)?(u="update",f=i5(d.content.getContent())):(u="add",f=void 0)}else if(this.deletes(o))u="delete",f=i5(o.content.getContent());else return;e.set(i,{action:u,oldValue:f})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){const r=this.target,n=s1(),i=s1(),o=[];if(e={added:n,deleted:i,delta:o,keys:this.keys},this.transaction.changed.get(r).has(null)){let f=null;const d=()=>{f&&o.push(f)};for(let g=r._start;g!==null;g=g.right)g.deleted?this.deletes(g)&&!this.adds(g)&&((f===null||f.delete===void 0)&&(d(),f={delete:0}),f.delete+=g.length,i.add(g)):this.adds(g)?((f===null||f.insert===void 0)&&(d(),f={insert:[]}),f.insert=f.insert.concat(g.content.getContent()),n.add(g)):((f===null||f.retain===void 0)&&(d(),f={retain:0}),f.retain+=g.length);f!==null&&f.retain===void 0&&d()}this._changes=e}return e}}const Hee=(t,e)=>{const r=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)r.unshift(e._item.parentSub);else{let n=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)i.deleted||n++,i=i.right;r.unshift(n)}e=e._item.parent}return r},ER=80;let O9=0;class Uee{constructor(e,r){e.marker=!0,this.p=e,this.index=r,this.timestamp=O9++}}const Kee=t=>{t.timestamp=O9++},TR=(t,e,r)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=r,t.timestamp=O9++},Wee=(t,e,r)=>{if(t.length>=ER){const n=t.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return TR(n,e,r),n}else{const n=new Uee(e,r);return t.push(n),n}},jx=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const r=t._searchMarker.length===0?null:t._searchMarker.reduce((o,u)=>pb(e-o.index)<pb(e-u.index)?o:u);let n=t._start,i=0;for(r!==null&&(n=r.p,i=r.index,Kee(r));n.right!==null&&i<e;){if(!n.deleted&&n.countable){if(e<i+n.length)break;i+=n.length}n=n.right}for(;n.left!==null&&i>e;)n=n.left,!n.deleted&&n.countable&&(i-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(i-=n.length);return r!==null&&pb(r.index-i)<n.parent.length/ER?(TR(r,n,i),r):Wee(t._searchMarker,n,i)},h1=(t,e,r)=>{for(let n=t.length-1;n>=0;n--){const i=t[n];if(r>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){t.splice(n,1);continue}i.p=o,o.marker=!0}(e<i.index||r>0&&e===i.index)&&(i.index=Ld(e,i.index+r))}},Fx=(t,e,r)=>{const n=t,i=e.changedParentTypes;for(;ec(i,t,()=>[]).push(r),t._item!==null;)t=t._item.parent;bR(n._eH,r,e)};class Xi{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=fA(),this._dEH=fA(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,r){this.doc=e,this._item=r}_copy(){throw Hl()}clone(){throw Hl()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,r){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){dA(this._eH,e)}observeDeep(e){dA(this._dEH,e)}unobserve(e){hA(this._eH,e)}unobserveDeep(e){hA(this._dEH,e)}toJSON(){}}const OR=(t,e,r)=>{e<0&&(e=t._length+e),r<0&&(r=t._length+r);let n=r-e;const i=[];let o=t._start;for(;o!==null&&n>0;){if(o.countable&&!o.deleted){const u=o.content.getContent();if(u.length<=e)e-=u.length;else{for(let f=e;f<u.length&&n>0;f++)i.push(u[f]),n--;e=0}}o=o.right}return i},AR=t=>{const e=[];let r=t._start;for(;r!==null;){if(r.countable&&!r.deleted){const n=r.content.getContent();for(let i=0;i<n.length;i++)e.push(n[i])}r=r.right}return e},zx=(t,e)=>{let r=0,n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const i=n.content.getContent();for(let o=0;o<i.length;o++)e(i[o],r++,t)}n=n.right}},IR=(t,e)=>{const r=[];return zx(t,(n,i)=>{r.push(e(n,i,t))}),r},$ee=t=>{let e=t._start,r=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(r===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};r=e.content.getContent(),n=0,e=e.right}const i=r[n++];return r.length<=n&&(r=null),{done:!1,value:i}}}},MR=(t,e)=>{const r=jx(t,e);let n=t._start;for(r!==null&&(n=r.p,e-=r.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},Cw=(t,e,r,n)=>{let i=r;const o=t.doc,u=o.clientID,f=o.store,d=r===null?e._start:r.right;let g=[];const S=()=>{g.length>0&&(i=new wn(Tr(u,si(f,u)),i,i&&i.lastId,d,d&&d.id,e,null,new Id(g)),i.integrate(t,0),g=[])};n.forEach(y=>{if(y===null)g.push(y);else switch(y.constructor){case Number:case Object:case Boolean:case Array:case String:g.push(y);break;default:switch(S(),y.constructor){case Uint8Array:case ArrayBuffer:i=new wn(Tr(u,si(f,u)),i,i&&i.lastId,d,d&&d.id,e,null,new U1(new Uint8Array(y))),i.integrate(t,0);break;case Yu:i=new wn(Tr(u,si(f,u)),i,i&&i.lastId,d,d&&d.id,e,null,new K1(y)),i.integrate(t,0);break;default:if(y instanceof Xi)i=new wn(Tr(u,si(f,u)),i,i&&i.lastId,d,d&&d.id,e,null,new Ql(y)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),S()},DR=Px("Length exceeded!"),PR=(t,e,r,n)=>{if(r>e._length)throw DR;if(r===0)return e._searchMarker&&h1(e._searchMarker,r,n.length),Cw(t,e,null,n);const i=r,o=jx(e,r);let u=e._start;for(o!==null&&(u=o.p,r-=o.index,r===0&&(u=u.prev,r+=u&&u.countable&&!u.deleted?u.length:0));u!==null;u=u.right)if(!u.deleted&&u.countable){if(r<=u.length){r<u.length&&io(t,Tr(u.id.client,u.id.clock+r));break}r-=u.length}return e._searchMarker&&h1(e._searchMarker,i,n.length),Cw(t,e,u,n)},qee=(t,e,r)=>{let i=(e._searchMarker||[]).reduce((o,u)=>u.index>o.index?u:o,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return Cw(t,e,i,r)},LR=(t,e,r,n)=>{if(n===0)return;const i=r,o=n,u=jx(e,r);let f=e._start;for(u!==null&&(f=u.p,r-=u.index);f!==null&&r>0;f=f.right)!f.deleted&&f.countable&&(r<f.length&&io(t,Tr(f.id.client,f.id.clock+r)),r-=f.length);for(;n>0&&f!==null;)f.deleted||(n<f.length&&io(t,Tr(f.id.client,f.id.clock+n)),f.delete(t),n-=f.length),f=f.right;if(n>0)throw DR;e._searchMarker&&h1(e._searchMarker,i,-o+n)},Ew=(t,e,r)=>{const n=e._map.get(r);n!==void 0&&n.delete(t)},A9=(t,e,r,n)=>{const i=e._map.get(r)||null,o=t.doc,u=o.clientID;let f;if(n==null)f=new Id([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:f=new Id([n]);break;case Uint8Array:f=new U1(n);break;case Yu:f=new K1(n);break;default:if(n instanceof Xi)f=new Ql(n);else throw new Error("Unexpected content type")}new wn(Tr(u,si(o.store,u)),i,i&&i.lastId,null,null,e,r,f).integrate(t,0)},I9=(t,e)=>{const r=t._map.get(e);return r!==void 0&&!r.deleted?r.content.getContent()[r.length-1]:void 0},NR=t=>{const e={};return t._map.forEach((r,n)=>{r.deleted||(e[n]=r.content.getContent()[r.length-1])}),e},RR=(t,e)=>{const r=t._map.get(e);return r!==void 0&&!r.deleted},I4=t=>ree(t.entries(),e=>!e[1].deleted);class Vee extends Rx{constructor(e,r){super(e,r),this._transaction=r}}class Mp extends Xi{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const r=new Mp;return r.push(e),r}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Mp}clone(){const e=new Mp;return e.insert(0,this.toArray().map(r=>r instanceof Xi?r.clone():r)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,r){super._callObserver(e,r),Fx(this,e,new Vee(this,e))}insert(e,r){this.doc!==null?bn(this.doc,n=>{PR(n,this,e,r)}):this._prelimContent.splice(e,0,...r)}push(e){this.doc!==null?bn(this.doc,r=>{qee(r,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,r=1){this.doc!==null?bn(this.doc,n=>{LR(n,this,e,r)}):this._prelimContent.splice(e,r)}get(e){return MR(this,e)}toArray(){return AR(this)}slice(e=0,r=this.length){return OR(this,e,r)}toJSON(){return this.map(e=>e instanceof Xi?e.toJSON():e)}map(e){return IR(this,e)}forEach(e){zx(this,e)}[Symbol.iterator](){return $ee(this)}_write(e){e.writeTypeRef(hte)}}const Gee=t=>new Mp;class jR extends Rx{constructor(e,r,n){super(e,r),this.keysChanged=n}}class Lo extends Xi{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,r){super._integrate(e,r),this._prelimContent.forEach((n,i)=>{this.set(i,n)}),this._prelimContent=null}_copy(){return new Lo}clone(){const e=new Lo;return this.forEach((r,n)=>{e.set(n,r instanceof Xi?r.clone():r)}),e}_callObserver(e,r){Fx(this,e,new jR(this,e,r))}toJSON(){const e={};return this._map.forEach((r,n)=>{if(!r.deleted){const i=r.content.getContent()[r.length-1];e[n]=i instanceof Xi?i.toJSON():i}}),e}get size(){return[...I4(this._map)].length}keys(){return c5(I4(this._map),e=>e[0])}values(){return c5(I4(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return c5(I4(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){const r={};return this._map.forEach((n,i)=>{n.deleted||e(n.content.getContent()[n.length-1],i,this)}),r}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?bn(this.doc,r=>{Ew(r,this,e)}):this._prelimContent.delete(e)}set(e,r){return this.doc!==null?bn(this.doc,n=>{A9(n,this,e,r)}):this._prelimContent.set(e,r),r}get(e){return I9(this,e)}has(e){return RR(this,e)}clear(){this.doc!==null?bn(this.doc,e=>{this.forEach(function(r,n,i){Ew(e,i,n)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(pte)}}const Yee=t=>new Lo,c0=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&$J(t,e);class o7{constructor(e,r,n,i){this.left=e,this.right=r,this.index=n,this.currentAttributes=i}forward(){switch(this.right===null&&Zs(),this.right.content.constructor){case Di:this.right.deleted||pm(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const bA=(t,e,r)=>{for(;e.right!==null&&r>0;){switch(e.right.content.constructor){case Di:e.right.deleted||pm(e.currentAttributes,e.right.content);break;default:e.right.deleted||(r<e.right.length&&io(t,Tr(e.right.id.client,e.right.id.clock+r)),e.index+=e.right.length,r-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},M4=(t,e,r)=>{const n=new Map,i=jx(e,r);if(i){const o=new o7(i.p.left,i.p,i.index,n);return bA(t,o,r-i.index)}else{const o=new o7(null,e._start,0,n);return bA(t,o,r)}},FR=(t,e,r,n)=>{for(;r.right!==null&&(r.right.deleted===!0||r.right.content.constructor===Di&&c0(n.get(r.right.content.key),r.right.content.value));)r.right.deleted||n.delete(r.right.content.key),r.forward();const i=t.doc,o=i.clientID;n.forEach((u,f)=>{const d=r.left,g=r.right,S=new wn(Tr(o,si(i.store,o)),d,d&&d.lastId,g,g&&g.id,e,null,new Di(f,u));S.integrate(t,0),r.right=S,r.forward()})},pm=(t,e)=>{const{key:r,value:n}=e;n===null?t.delete(r):t.set(r,n)},zR=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Di&&c0(e[t.right.content.key]||null,t.right.content.value)))break;t.forward()}},BR=(t,e,r,n)=>{const i=t.doc,o=i.clientID,u=new Map;for(const f in n){const d=n[f],g=r.currentAttributes.get(f)||null;if(!c0(g,d)){u.set(f,g);const{left:S,right:y}=r;r.right=new wn(Tr(o,si(i.store,o)),S,S&&S.lastId,y,y&&y.id,e,null,new Di(f,d)),r.right.integrate(t,0),r.forward()}}return u},f5=(t,e,r,n,i)=>{r.currentAttributes.forEach((C,b)=>{i[b]===void 0&&(i[b]=null)});const o=t.doc,u=o.clientID;zR(r,i);const f=BR(t,e,r,i),d=n.constructor===String?new Gl(n):n instanceof Xi?new Ql(n):new Rd(n);let{left:g,right:S,index:y}=r;e._searchMarker&&h1(e._searchMarker,r.index,d.getLength()),S=new wn(Tr(u,si(o.store,u)),g,g&&g.lastId,S,S&&S.id,e,null,d),S.integrate(t,0),r.right=S,r.index=y,r.forward(),FR(t,e,r,f)},wA=(t,e,r,n,i)=>{const o=t.doc,u=o.clientID;zR(r,i);const f=BR(t,e,r,i);for(;r.right!==null&&(n>0||r.right.content.constructor===Di);){if(!r.right.deleted)switch(r.right.content.constructor){case Di:{const{key:d,value:g}=r.right.content,S=i[d];S!==void 0&&(c0(S,g)?f.delete(d):f.set(d,g),r.right.delete(t));break}default:n<r.right.length&&io(t,Tr(r.right.id.client,r.right.id.clock+n)),n-=r.right.length;break}r.forward()}if(n>0){let d="";for(;n>0;n--)d+=`
`;r.right=new wn(Tr(u,si(o.store,u)),r.left,r.left&&r.left.lastId,r.right,r.right&&r.right.id,e,null,new Gl(d)),r.right.integrate(t,0),r.forward()}FR(t,e,r,f)},HR=(t,e,r,n,i)=>{let o=r;const u=xw(i);for(;o&&(!o.countable||o.deleted);)!o.deleted&&o.content.constructor===Di&&pm(u,o.content),o=o.right;let f=0,d=!1;for(;e!==o;){if(r===e&&(d=!0),!e.deleted){const g=e.content;switch(g.constructor){case Di:{const{key:S,value:y}=g;((u.get(S)||null)!==y||(n.get(S)||null)===y)&&(e.delete(t),f++,!d&&(i.get(S)||null)===y&&(n.get(S)||null)!==y&&i.delete(S));break}}}e=e.right}return f},Xee=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const r=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Di){const n=e.content.key;r.has(n)?e.delete(t):r.add(n)}e=e.left}},Zee=t=>{let e=0;return bn(t.doc,r=>{let n=t._start,i=t._start,o=Bl();const u=xw(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case Di:pm(u,i.content);break;default:e+=HR(r,n,i,o,u),o=xw(u),n=i;break}i=i.right}}),e},xA=(t,e,r)=>{const n=r,i=xw(e.currentAttributes),o=e.right;for(;r>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Ql:case Rd:case Gl:r<e.right.length&&io(t,Tr(e.right.id.client,e.right.id.clock+r)),r-=e.right.length,e.right.delete(t);break}e.forward()}o&&HR(t,o,e.right,i,e.currentAttributes);const u=(e.left||e.right).parent;return u._searchMarker&&h1(u._searchMarker,e.index,-n+r),e};class UR extends Rx{constructor(e,r,n){super(e,r),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,r=[];bn(e,n=>{const i=new Map,o=new Map;let u=this.target._start,f=null;const d={};let g="",S=0,y=0;const C=()=>{if(f!==null){let b;switch(f){case"delete":b={delete:y},y=0;break;case"insert":b={insert:g},i.size>0&&(b.attributes={},i.forEach((O,_)=>{O!==null&&(b.attributes[_]=O)})),g="";break;case"retain":if(b={retain:S},Object.keys(d).length>0){b.attributes={};for(const O in d)b.attributes[O]=d[O]}S=0;break}r.push(b),f=null}};for(;u!==null;){switch(u.content.constructor){case Ql:case Rd:this.adds(u)?this.deletes(u)||(C(),f="insert",g=u.content.getContent()[0],C()):this.deletes(u)?(f!=="delete"&&(C(),f="delete"),y+=1):u.deleted||(f!=="retain"&&(C(),f="retain"),S+=1);break;case Gl:this.adds(u)?this.deletes(u)||(f!=="insert"&&(C(),f="insert"),g+=u.content.str):this.deletes(u)?(f!=="delete"&&(C(),f="delete"),y+=u.length):u.deleted||(f!=="retain"&&(C(),f="retain"),S+=u.length);break;case Di:{const{key:b,value:O}=u.content;if(this.adds(u)){if(!this.deletes(u)){const _=i.get(b)||null;c0(_,O)?O!==null&&u.delete(n):(f==="retain"&&C(),c0(O,o.get(b)||null)?delete d[b]:d[b]=O)}}else if(this.deletes(u)){o.set(b,O);const _=i.get(b)||null;c0(_,O)||(f==="retain"&&C(),d[b]=_)}else if(!u.deleted){o.set(b,O);const _=d[b];_!==void 0&&(c0(_,O)?_!==null&&u.delete(n):(f==="retain"&&C(),O===null?delete d[b]:d[b]=O))}u.deleted||(f==="insert"&&C(),pm(i,u.content));break}}u=u.right}for(C();r.length>0;){const b=r[r.length-1];if(b.retain!==void 0&&b.attributes===void 0)r.pop();else break}}),this._delta=r}return this._delta}}class tm extends Xi{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(e,r){super._integrate(e,r);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new tm}clone(){const e=new tm;return e.applyDelta(this.toDelta()),e}_callObserver(e,r){super._callObserver(e,r);const n=new UR(this,e,r),i=e.doc;if(Fx(this,e,n),!e.local){let o=!1;for(const[u,f]of e.afterState.entries()){const d=e.beforeState.get(u)||0;if(f!==d&&(_R(e,i.store.clients.get(u),d,f,g=>{!g.deleted&&g.content.constructor===Di&&(o=!0)}),o))break}o||Cd(e,e.deleteSet,u=>{u instanceof os||o||u.parent===this&&u.content.constructor===Di&&(o=!0)}),bn(i,u=>{o?Zee(this):Cd(u,u.deleteSet,f=>{f instanceof os||f.parent===this&&Xee(u,f)})})}}toString(){let e="",r=this._start;for(;r!==null;)!r.deleted&&r.countable&&r.content.constructor===Gl&&(e+=r.content.str),r=r.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:r=!0}={}){this.doc!==null?bn(this.doc,n=>{const i=new o7(null,this._start,0,new Map);for(let o=0;o<e.length;o++){const u=e[o];if(u.insert!==void 0){const f=!r&&typeof u.insert=="string"&&o===e.length-1&&i.right===null&&u.insert.slice(-1)===`
`?u.insert.slice(0,-1):u.insert;(typeof f!="string"||f.length>0)&&f5(n,this,i,f,u.attributes||{})}else u.retain!==void 0?wA(n,this,i,u.retain,u.attributes||{}):u.delete!==void 0&&xA(n,i,u.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,r,n){const i=[],o=new Map,u=this.doc;let f="",d=this._start;function g(){if(f.length>0){const S={};let y=!1;o.forEach((b,O)=>{y=!0,S[O]=b});const C={insert:f};y&&(C.attributes=S),i.push(C),f=""}}return bn(u,S=>{for(e&&gb(S,e),r&&gb(S,r);d!==null;){if(Gv(d,e)||r!==void 0&&Gv(d,r))switch(d.content.constructor){case Gl:{const y=o.get("ychange");e!==void 0&&!Gv(d,e)?(y===void 0||y.user!==d.id.client||y.state!=="removed")&&(g(),o.set("ychange",n?n("removed",d.id):{type:"removed"})):r!==void 0&&!Gv(d,r)?(y===void 0||y.user!==d.id.client||y.state!=="added")&&(g(),o.set("ychange",n?n("added",d.id):{type:"added"})):y!==void 0&&(g(),o.delete("ychange")),f+=d.content.str;break}case Ql:case Rd:{g();const y={insert:d.content.getContent()[0]};if(o.size>0){const C={};y.attributes=C,o.forEach((b,O)=>{C[O]=b})}i.push(y);break}case Di:Gv(d,e)&&(g(),pm(o,d.content));break}d=d.right}g()},gb),i}insert(e,r,n){if(r.length<=0)return;const i=this.doc;i!==null?bn(i,o=>{const u=M4(o,this,e);n||(n={},u.currentAttributes.forEach((f,d)=>{n[d]=f})),f5(o,this,u,r,n)}):this._pending.push(()=>this.insert(e,r,n))}insertEmbed(e,r,n={}){const i=this.doc;i!==null?bn(i,o=>{const u=M4(o,this,e);f5(o,this,u,r,n)}):this._pending.push(()=>this.insertEmbed(e,r,n))}delete(e,r){if(r===0)return;const n=this.doc;n!==null?bn(n,i=>{xA(i,M4(i,this,e),r)}):this._pending.push(()=>this.delete(e,r))}format(e,r,n){if(r===0)return;const i=this.doc;i!==null?bn(i,o=>{const u=M4(o,this,e);u.right!==null&&wA(o,this,u,r,n)}):this._pending.push(()=>this.format(e,r,n))}removeAttribute(e){this.doc!==null?bn(this.doc,r=>{Ew(r,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,r){this.doc!==null?bn(this.doc,n=>{A9(n,this,e,r)}):this._pending.push(()=>this.setAttribute(e,r))}getAttribute(e){return I9(this,e)}getAttributes(e){return NR(this)}_write(e){e.writeTypeRef(mte)}}const Qee=t=>new tm;class d5{constructor(e,r=()=>!0){this._filter=r,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,r=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(r)))do if(r=e.content.type,!e.deleted&&(r.constructor===Od||r.constructor===Td)&&r._start!==null)e=r._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Td extends Xi{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Td}clone(){const e=new Td;return e.insert(0,this.toArray().map(r=>r instanceof Xi?r.clone():r)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new d5(this,e)}querySelector(e){e=e.toUpperCase();const n=new d5(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return n.done?null:n.value}querySelectorAll(e){return e=e.toUpperCase(),Array.from(new d5(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e))}_callObserver(e,r){Fx(this,e,new KR(this,r,e))}toString(){return IR(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,r={},n){const i=e.createDocumentFragment();return n!==void 0&&n._createAssociation(i,this),zx(this,o=>{i.insertBefore(o.toDOM(e,r,n),null)}),i}insert(e,r){this.doc!==null?bn(this.doc,n=>{PR(n,this,e,r)}):this._prelimContent.splice(e,0,...r)}insertAfter(e,r){if(this.doc!==null)bn(this.doc,n=>{const i=e&&e instanceof Xi?e._item:e;Cw(n,this,i,r)});else{const n=this._prelimContent,i=e===null?0:n.findIndex(o=>o===e)+1;if(i===0&&e!==null)throw Px("Reference item not found");n.splice(i,0,...r)}}delete(e,r=1){this.doc!==null?bn(this.doc,n=>{LR(n,this,e,r)}):this._prelimContent.splice(e,r)}toArray(){return AR(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return MR(this,e)}slice(e=0,r=this.length){return OR(this,e,r)}_write(e){e.writeTypeRef(gte)}}const Jee=t=>new Td;class Od extends Td{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,r){super._integrate(e,r),this._prelimAttrs.forEach((n,i)=>{this.setAttribute(i,n)}),this._prelimAttrs=null}_copy(){return new Od(this.nodeName)}clone(){const e=new Od(this.nodeName),r=this.getAttributes();for(const n in r)e.setAttribute(n,r[n]);return e.insert(0,this.toArray().map(n=>n instanceof Xi?n.clone():n)),e}toString(){const e=this.getAttributes(),r=[],n=[];for(const f in e)n.push(f);n.sort();const i=n.length;for(let f=0;f<i;f++){const d=n[f];r.push(d+'="'+e[d]+'"')}const o=this.nodeName.toLocaleLowerCase(),u=r.length>0?" "+r.join(" "):"";return`<${o}${u}>${super.toString()}</${o}>`}removeAttribute(e){this.doc!==null?bn(this.doc,r=>{Ew(r,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,r){this.doc!==null?bn(this.doc,n=>{A9(n,this,e,r)}):this._prelimAttrs.set(e,r)}getAttribute(e){return I9(this,e)}hasAttribute(e){return RR(this,e)}getAttributes(e){return NR(this)}toDOM(e=document,r={},n){const i=e.createElement(this.nodeName),o=this.getAttributes();for(const u in o)i.setAttribute(u,o[u]);return zx(this,u=>{i.appendChild(u.toDOM(e,r,n))}),n!==void 0&&n._createAssociation(i,this),i}_write(e){e.writeTypeRef(vte),e.writeKey(this.nodeName)}}const ete=t=>new Od(t.readKey());class KR extends Rx{constructor(e,r,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class Tw extends Lo{constructor(e){super(),this.hookName=e}_copy(){return new Tw(this.hookName)}clone(){const e=new Tw(this.hookName);return this.forEach((r,n)=>{e.set(n,r)}),e}toDOM(e=document,r={},n){const i=r[this.hookName];let o;return i!==void 0?o=i.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(o,this),o}_write(e){e.writeTypeRef(yte),e.writeKey(this.hookName)}}const tte=t=>new Tw(t.readKey());class Ad extends tm{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Ad}clone(){const e=new Ad;return e.applyDelta(this.toDelta()),e}toDOM(e=document,r,n){const i=e.createTextNode(this.toString());return n!==void 0&&n._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const r=[];for(const i in e.attributes){const o=[];for(const u in e.attributes[i])o.push({key:u,value:e.attributes[i][u]});o.sort((u,f)=>u.key<f.key?-1:1),r.push({nodeName:i,attrs:o})}r.sort((i,o)=>i.nodeName<o.nodeName?-1:1);let n="";for(let i=0;i<r.length;i++){const o=r[i];n+=`<${o.nodeName}`;for(let u=0;u<o.attrs.length;u++){const f=o.attrs[u];n+=` ${f.key}="${f.value}"`}n+=">"}n+=e.insert;for(let i=r.length-1;i>=0;i--)n+=`</${r[i].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(bte)}}const rte=t=>new Ad;class M9{constructor(e,r){this.id=e,this.length=r}get deleted(){throw Hl()}mergeWith(e){return!1}write(e,r,n){throw Hl()}integrate(e,r){throw Hl()}}const nte=0;class os extends M9{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){r>0&&(this.id.clock+=r,this.length-=r),kR(e.doc.store,this)}write(e,r){e.writeInfo(nte),e.writeLen(this.length-r)}getMissing(e,r){return null}}class U1{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new U1(this.content)}splice(e){throw Hl()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeBuf(this.content)}getRef(){return 3}}const ite=t=>new U1(t.readBuf());class p1{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new p1(this.len)}splice(e){const r=new p1(this.len-e);return this.len=e,r}mergeWith(e){return this.len+=e.len,!0}integrate(e,r){d1(e.deleteSet,r.id.client,r.id.clock,this.len),r.markDeleted()}delete(e){}gc(e){}write(e,r){e.writeLen(this.len-r)}getRef(){return 1}}const ate=t=>new p1(t.readLen()),WR=(t,e)=>new Yu(i4(n4({guid:t},e),{shouldLoad:e.shouldLoad||e.autoLoad||!1}));class K1{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const r={};this.opts=r,e.gc||(r.gc=!1),e.autoLoad&&(r.autoLoad=!0),e.meta!==null&&(r.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new K1(WR(this.doc.guid,this.opts))}splice(e){throw Hl()}mergeWith(e){return!1}integrate(e,r){this.doc._item=r,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,r){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const ote=t=>new K1(WR(t.readString(),t.readAny()));class Rd{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Rd(this.embed)}splice(e){throw Hl()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeJSON(this.embed)}getRef(){return 5}}const ste=t=>new Rd(t.readJSON());class Di{constructor(e,r){this.key=e,this.value=r}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Di(this.key,this.value)}splice(e){throw Hl()}mergeWith(e){return!1}integrate(e,r){r.parent._searchMarker=null}delete(e){}gc(e){}write(e,r){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const lte=t=>new Di(t.readKey(),t.readJSON());class Ow{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ow(this.arr)}splice(e){const r=new Ow(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){const n=this.arr.length;e.writeLen(n-r);for(let i=r;i<n;i++){const o=this.arr[i];e.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}}const ute=t=>{const e=t.readLen(),r=[];for(let n=0;n<e;n++){const i=t.readString();i==="undefined"?r.push(void 0):r.push(JSON.parse(i))}return new Ow(r)};class Id{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Id(this.arr)}splice(e){const r=new Id(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){const n=this.arr.length;e.writeLen(n-r);for(let i=r;i<n;i++){const o=this.arr[i];e.writeAny(o)}}getRef(){return 8}}const cte=t=>{const e=t.readLen(),r=[];for(let n=0;n<e;n++)r.push(t.readAny());return new Id(r)};class Gl{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Gl(this.str)}splice(e){const r=new Gl(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",r.str="\uFFFD"+r.str.slice(1)),r}mergeWith(e){return this.str+=e.str,!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeString(r===0?this.str:this.str.slice(r))}getRef(){return 4}}const fte=t=>new Gl(t.readString()),dte=[Gee,Yee,Qee,ete,Jee,tte,rte],hte=0,pte=1,mte=2,vte=3,gte=4,yte=5,bte=6;class Ql{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Ql(this.type._copy())}splice(e){throw Hl()}mergeWith(e){return!1}integrate(e,r){this.type._integrate(e.doc,r)}delete(e){let r=this.type._start;for(;r!==null;)r.deleted?e._mergeStructs.push(r):r.delete(e),r=r.right;this.type._map.forEach(n=>{n.deleted?e._mergeStructs.push(n):n.delete(e)}),e.changed.delete(this.type)}gc(e){let r=this.type._start;for(;r!==null;)r.gc(e,!0),r=r.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(e,!0),n=n.left}),this.type._map=new Map}write(e,r){this.type._write(e)}getRef(){return 7}}const wte=t=>new Ql(dte[t.readTypeRef()](t)),s7=(t,e)=>{let r=e,n=0,i;do n>0&&(r=Tr(r.client,r.clock+n)),i=yb(t,r),n=r.clock-i.id.clock,r=i.redone;while(r!==null&&i instanceof wn);return{item:i,diff:n}},D9=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},Aw=(t,e,r)=>{const{client:n,clock:i}=e.id,o=new wn(Tr(n,i+r),e,Tr(n,i+r-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(r));return e.deleted&&o.markDeleted(),e.keep&&(o.keep=!0),e.redone!==null&&(o.redone=Tr(e.redone.client,e.redone.clock+r)),e.right=o,o.right!==null&&(o.right.left=o),t._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),e.length=r,o},$R=(t,e,r,n,i)=>{const o=t.doc,u=o.store,f=o.clientID,d=e.redone;if(d!==null)return io(t,d);let g=e.parent._item,S=null,y;if(g!==null&&g.deleted===!0){if(g.redone===null&&(!r.has(g)||$R(t,g,r,n,i)===null))return null;for(;g.redone!==null;)g=io(t,g.redone)}const C=g===null?e.parent:g.content.type;if(e.parentSub===null){for(S=e.left,y=e;S!==null;){let N=S;for(;N!==null&&N.parent._item!==g;)N=N.redone===null?null:io(t,N.redone);if(N!==null&&N.parent._item===g){S=N;break}S=S.left}for(;y!==null;){let N=y;for(;N!==null&&N.parent._item!==g;)N=N.redone===null?null:io(t,N.redone);if(N!==null&&N.parent._item===g){y=N;break}y=y.right}}else if(y=null,e.right&&!i){for(S=e;S!==null&&S.right!==null&&Lx(n,S.right.id);)S=S.right;for(;S!==null&&S.redone!==null;)S=io(t,S.redone);if(S===null||S.parent._item!==g||S&&S.right!==null)return null}else S=C._map.get(e.parentSub)||null;const b=si(u,f),O=Tr(f,b),_=new wn(O,S,S&&S.lastId,y,y&&y.id,C,e.parentSub,e.content.copy());return e.redone=O,D9(_,!0),_.integrate(t,0),_};class wn extends M9{constructor(e,r,n,i,o,u,f,d){super(e,d.getLength()),this.origin=n,this.left=r,this.right=i,this.rightOrigin=o,this.parent=u,this.parentSub=f,this.redone=null,this.content=d,this.info=this.content.isCountable()?nA:0}set marker(e){(this.info&s5)>0!==e&&(this.info^=s5)}get marker(){return(this.info&s5)>0}get keep(){return(this.info&rA)>0}set keep(e){this.keep!==e&&(this.info^=rA)}get countable(){return(this.info&nA)>0}get deleted(){return(this.info&o5)>0}set deleted(e){this.deleted!==e&&(this.info^=o5)}markDeleted(){this.info|=o5}getMissing(e,r){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=si(r,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=si(r,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Ip&&this.id.client!==this.parent.client&&this.parent.clock>=si(r,this.parent.client))return this.parent.client;if(this.origin&&(this.left=pA(e,r,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=io(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===os||this.right&&this.right.constructor===os)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===wn&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===wn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Ip){const n=yb(r,this.parent);n.constructor===os?this.parent=null:this.parent=n.content.type}return null}integrate(e,r){if(r>0&&(this.id.clock+=r,this.left=pA(e,e.doc.store,Tr(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(r),this.length-=r),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,i;if(n!==null)i=n.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const o=new Set,u=new Set;for(;i!==null&&i!==this.right;){if(u.add(i),o.add(i),vp(this.origin,i.origin)){if(i.id.client<this.id.client)n=i,o.clear();else if(vp(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&u.has(yb(e.doc.store,i.origin)))o.has(yb(e.doc.store,i.origin))||(n=i,o.clear());else break;i=i.right}this.left=n}if(this.left!==null){const n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),kR(e.doc.store,this),this.content.integrate(e,this),vA(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new os(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:Tr(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&vp(e.origin,this.lastId)&&this.right===e&&vp(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const r=this.parent._searchMarker;return r&&r.forEach(n=>{n.p===e&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const r=this.parent;this.countable&&this.parentSub===null&&(r._length-=this.length),this.markDeleted(),d1(e.deleteSet,this.id.client,this.id.clock,this.length),vA(e,r,this.parentSub),this.content.delete(e)}}gc(e,r){if(!this.deleted)throw Zs();this.content.gc(e),r?Aee(e,this,new os(this.id,this.length)):this.content=new p1(this.length)}write(e,r){const n=r>0?Tr(this.id.client,this.id.clock+r-1):this.origin,i=this.rightOrigin,o=this.parentSub,u=this.content.getRef()&Ix|(n===null?0:Do)|(i===null?0:Uu)|(o===null?0:u1);if(e.writeInfo(u),n!==null&&e.writeLeftID(n),i!==null&&e.writeRightID(i),n===null&&i===null){const f=this.parent;if(f._item!==void 0){const d=f._item;if(d===null){const g=wR(f);e.writeParentInfo(!0),e.writeString(g)}else e.writeParentInfo(!1),e.writeLeftID(d.id)}else f.constructor===String?(e.writeParentInfo(!0),e.writeString(f)):f.constructor===Ip?(e.writeParentInfo(!1),e.writeLeftID(f)):Zs();o!==null&&e.writeString(o)}this.content.write(e,r)}}const qR=(t,e)=>xte[e&Ix](t),xte=[()=>{Zs()},ate,ute,ite,fte,ste,lte,wte,cte,ote,()=>{Zs()}],kte=10;class ss extends M9{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){Zs()}write(e,r){e.writeInfo(kte),Vt(e.restEncoder,this.length-r)}getMissing(e,r){return null}}const VR=typeof window!="undefined"?window:typeof global!="undefined"?global:{},GR="__ $YJS$ __";VR[GR]===!0&&console.warn("Yjs was already imported. Importing different versions of Yjs often leads to issues.");VR[GR]=!0;var tg=function(){function t(e,r){ir(this,t),this._key="",this._map=e,this._parent=r,this._type="linebreak"}return ar(t,[{key:"getNode",value:function(){var r=Gt(this._key);return Pi(r)?r:null}},{key:"getKey",value:function(){return this._key}},{key:"getSharedType",value:function(){return this._map}},{key:"getType",value:function(){return this._type}},{key:"getSize",value:function(){return 1}},{key:"getOffset",value:function(){var r=this._parent;return r.getChildOffset(this)}},{key:"destroy",value:function(r){var n=r.collabNodeMap;n.delete(this._key)}}]),t}();function YR(t,e){var r=new tg(t,e);return t._collabNode=r,r}function _te(t,e,r){for(var n=t.length,i=e.length,o=0,u=0;o<n&&o<i&&t[o]===e[o]&&o<r;)o++;for(;u+o<n&&u+o<i&&t[n-u-1]===e[i-u-1];)u++;for(;u+o<n&&u+o<i&&t[o]===e[o];)o++;return{index:o,insert:e.slice(o,i-u),remove:n-o-u}}function Ste(t,e,r,n){var i=Ie(),o=n.length;if(Pe(i)&&i.isCollapsed()){var u=i.anchor;u.key===e&&(o=u.offset)}var f=_te(r,n,o);t.spliceText(f.index,f.remove,f.insert)}var Eo=function(){function t(e,r,n,i){ir(this,t),this._key="",this._map=e,this._parent=n,this._text=r,this._type=i,this._normalized=!1}return ar(t,[{key:"getPrevNode",value:function(r){if(r===null)return null;var n=r.get(this._key);return Ue(n)?n:null}},{key:"getNode",value:function(){var r=Gt(this._key);return Ue(r)?r:null}},{key:"getSharedType",value:function(){return this._map}},{key:"getType",value:function(){return this._type}},{key:"getKey",value:function(){return this._key}},{key:"getSize",value:function(){return this._text.length+(this._normalized?0:1)}},{key:"getOffset",value:function(){var r=this._parent;return r.getChildOffset(this)}},{key:"spliceText",value:function(r,n,i){var o=this._parent,u=o._xmlText,f=this.getOffset()+1+r;n!==0&&u.delete(f,n),i!==""&&u.insert(f,i)}},{key:"syncPropertiesAndTextFromLexical",value:function(r,n,i){var o=this.getPrevNode(i),u=n.__text;if(N9(r,this._map,o,n),o!==null){var f=o.__text;if(f!==u){var d=n.__key;Ste(this,d,f,u),this._text=u}}}},{key:"syncPropertiesAndTextFromYjs",value:function(r,n){var i=this.getNode();if(i===null)throw new Error("Should never happen");L9(r,this._map,i,n);var o=this._text;if(i.__text!==o){var u=i.getWritable();u.__text=o}}},{key:"destroy",value:function(r){var n=r.collabNodeMap;n.delete(this._key)}}]),t}();function XR(t,e,r,n){var i=new Eo(t,e,r,n);return t._collabNode=i,i}var ZR=new Set(["__key","__children","__parent","__cachedText","__text"]);function D4(t){var e=Gt(t);if(e===null)throw new Error("Should never happen");return e}function kA(t,e,r){var n=e.__type,i;if(Je(e)){var o=new Ad;i=R9(o,r,n),i.syncPropertiesFromLexical(t,e,null),i.syncChildrenFromLexical(t,e,null,null,null)}else if(Ue(e)){var u=new Lo;i=XR(u,e.__text,r,n),i.syncPropertiesAndTextFromLexical(t,e,null)}else if(Pi(e)){var f=new Lo;f.set("__type","linebreak"),i=YR(f,r)}else if(pi(e)){var d=new Od;i=QR(d,r,n),i.syncPropertiesFromLexical(t,e,null)}else throw new Error("Should never happen");return i._key=e.__key,i}function Cte(t){var e=t instanceof Lo?t.get("__type"):t.getAttribute("__type");if(e==null)throw new Error("Should never happen");return e}function P9(t,e,r){var n=e._collabNode;if(n===void 0){var i=t.editor._nodes,o=Cte(e),u=i.get(o);if(u===void 0)throw new Error("Should never happen");var f=e.parent,d=r===void 0&&f!==null?P9(t,f):r||null;if(!(d instanceof W1))throw new Error("Should never happen");if(e instanceof Ad)return R9(e,d,o);if(e instanceof Lo){if(d===null)throw new Error("Should never happen");return o==="linebreak"?YR(e,d):XR(e,"",d,o)}else if(e instanceof Od)return QR(e,d,o)}return n}function Ete(t,e,r){var n=e.getType(),i=t.editor._nodes,o=i.get(n);if(o===void 0)throw new Error("createLexicalNode failed");var u=new o.klass;if(u.__parent=r,e._key=u.__key,e instanceof W1){var f=e._xmlText;e.syncPropertiesFromYjs(t,null),e.applyChildrenYjsDelta(t,f.toDelta()),e.syncChildrenFromYjs(t)}else e instanceof Eo?e.syncPropertiesAndTextFromYjs(t,null):e instanceof o0&&e.syncPropertiesFromYjs(t,null);return t.collabNodeMap.set(u.__key,e),u}function L9(t,e,r,n){for(var i=n===null?e instanceof Lo?Array.from(e.keys()):Object.keys(e.getAttributes()):Array.from(n),o,u=0;u<i.length;u++){var f=i[u];if(!ZR.has(f)){var d=r[f],g=e instanceof Lo?e.get(f):e.getAttribute(f);if(d!==g){if(g instanceof Yu){var S=t.docMap;d instanceof Yu&&S.delete(d.guid);var y=L1(),C=g.guid;y._key=C,S.set(C,g),g=y}o===void 0&&(o=r.getWritable()),o[f]=g}}}}function N9(t,e,r,n){var i=n.__type,o=t.nodeProperties,u=o.get(i);u===void 0&&(u=Object.keys(n).filter(function(P){return!ZR.has(P)}),o.set(i,u));for(var f=t.editor.constructor,d=0;d<u.length;d++){var g=u[d],S=r===null?void 0:r[g],y=n[g];if(S!==y){if(y instanceof f){var C=t.docMap,b=void 0;if(S instanceof f){var O=S._key;b=C.get(O),C.delete(O)}var _=b||new Yu,N=_.guid;y._key=N,C.set(N,_),y=_,t.editor.update(function(){n.markDirty()})}e instanceof Lo?e.set(g,y):e.setAttribute(g,y)}}}function _A(t,e,r,n){return t.slice(0,e)+n+t.slice(e+r)}function wb(t,e,r){for(var n=0,i=0,o=t._children,u=o.length;i<u;i++){var f=o[i],d=n,g=f.getSize();n+=g;var S=r?n>=e:n>e;if(S&&f instanceof Eo){var y=e-d-1;y<0&&(y=0);var C=g-y;return{length:C,node:f,nodeIndex:i,offset:y}}if(n>e)return{length:0,node:f,nodeIndex:i,offset:d};if(i===u-1)return{length:0,node:null,nodeIndex:i+1,offset:d+1}}return{length:0,node:null,nodeIndex:0,offset:0}}function SA(t){var e=t.anchor,r=t.focus,n=!1;try{var i=e.getNode(),o=r.getNode();(!i.isAttached()||!o.isAttached()||Ue(i)&&e.offset>i.getTextContentSize()||Ue(o)&&r.offset>o.getTextContentSize())&&(n=!0)}catch{n=!0}return n}function Tte(t,e){t.doc.transact(e,t)}var o0=function(){function t(e,r,n){ir(this,t),this._key="",this._xmlElem=e,this._parent=r,this._type=n,this._unobservers=new Set}return ar(t,[{key:"getPrevNode",value:function(r){if(r===null)return null;var n=r.get(this._key);return pi(n)?n:null}},{key:"getNode",value:function(){var r=Gt(this._key);return pi(r)?r:null}},{key:"getSharedType",value:function(){return this._xmlElem}},{key:"getType",value:function(){return this._type}},{key:"getKey",value:function(){return this._key}},{key:"getSize",value:function(){return 1}},{key:"getOffset",value:function(){var r=this._parent;return r.getChildOffset(this)}},{key:"syncPropertiesFromLexical",value:function(r,n,i){var o=this.getPrevNode(i),u=this._xmlElem;N9(r,u,o,n)}},{key:"syncPropertiesFromYjs",value:function(r,n){var i=this.getNode();if(i===null)throw new Error("Should never happen");var o=this._xmlElem;L9(r,o,i,n)}},{key:"destroy",value:function(r){var n=r.collabNodeMap;n.delete(this._key),this._unobservers.forEach(function(i){return i()}),this._unobservers.clear()}}]),t}();function QR(t,e,r){var n=new o0(t,e,r);return t._collabNode=n,n}var W1=function(){function t(e,r,n){ir(this,t),this._key="",this._children=[],this._xmlText=e,this._type=n,this._parent=r}return ar(t,[{key:"getPrevNode",value:function(r){if(r===null)return null;var n=r.get(this._key);return Je(n)?n:null}},{key:"getNode",value:function(){var r=Gt(this._key);return Je(r)?r:null}},{key:"getSharedType",value:function(){return this._xmlText}},{key:"getType",value:function(){return this._type}},{key:"getKey",value:function(){return this._key}},{key:"isEmpty",value:function(){return this._children.length===0}},{key:"getSize",value:function(){return 1}},{key:"getOffset",value:function(){var r=this._parent;if(r===null)throw new Error("Should never happen");return r.getChildOffset(this)}},{key:"syncPropertiesFromYjs",value:function(r,n){var i=this.getNode();if(i===null)throw this.getNode(),new Error("Should never happen");L9(r,this._xmlText,i,n)}},{key:"applyChildrenYjsDelta",value:function(r,n){for(var i=this._children,o=0,u=0;u<n.length;u++){var f=n[u],d=f.insert,g=f.delete;if(f.retain!=null)o+=f.retain;else if(typeof g=="number")for(var S=g;S>0;){var y=wb(this,o,!1),C=y.node,b=y.nodeIndex,O=y.offset,_=y.length;if(C instanceof t||C instanceof tg||C instanceof o0)i.splice(b,1),S-=1;else if(C instanceof Eo){var N=Math.min(S,_),P=b!==0?i[b-1]:null,M=C.getSize();O===0&&N===1&&b>0&&P instanceof Eo&&_===M&&Array.from(C._map.keys()).length===0?(P._text+=C._text,i.splice(b,1)):O===0&&N===M?i.splice(b,1):C._text=_A(C._text,O,N,""),S-=N}else break}else if(d!=null)if(typeof d=="string"){var R=wb(this,o,!0),D=R.node,G=R.offset;D instanceof Eo?D._text=_A(D._text,G,0,d):this._xmlText.delete(G,d.length),o+=d.length}else{var V=d,J=wb(this,o,!1),te=J.nodeIndex,W=P9(r,V,this);i.splice(te,0,W),o+=1}else throw new Error("Unexpected delta format")}}},{key:"syncChildrenFromYjs",value:function(r){var n=this.getNode();if(n===null)throw this.getNode(),new Error("Should never happen");var i=n.__key,o=n.__children,u=[],f=o.length,d=this._children,g=d.length,S=r.collabNodeMap,y=new Set,C,b;g!==f&&(b=CA(n,b,u));for(var O=0,_=0;_<g;_++){var N=o[O],P=d[_],M=P.getNode(),R=P._key;if(M!==null&&N===R){var D=Ue(M);if(y.add(N),D){if(P._key=N,P instanceof t){var G=P._xmlText;P.syncPropertiesFromYjs(r,null),P.applyChildrenYjsDelta(r,G.toDelta()),P.syncChildrenFromYjs(r)}else if(P instanceof Eo)P.syncPropertiesAndTextFromYjs(r,null);else if(P instanceof o0)P.syncPropertiesFromYjs(r,null);else if(!(P instanceof tg))throw new Error("Should never happen")}u[_]=N,O++}else{if(C===void 0){C=new Set;for(var V=0;V<g;V++){var J=d[V],te=J._key;te!==""&&C.add(te)}}if(M!==null&&N!==void 0&&!C.has(N)){_--,O++;continue}b=CA(n,b,u);var W=Ete(r,P,i),ce=W.__key;S.set(ce,P),u[_]=ce}}for(var ie=0;ie<f;ie++){var le=o[ie];if(!y.has(le)){var pe=D4(le).getWritable(),he=r.collabNodeMap.get(le);he!==void 0&&he.destroy(r),pe.__parent=null}}}},{key:"syncPropertiesFromLexical",value:function(r,n,i){N9(r,this._xmlText,this.getPrevNode(i),n)}},{key:"_syncChildFromLexical",value:function(r,n,i,o,u,f){var d=this._children[n],g=D4(i);d instanceof t&&Je(g)?(d.syncPropertiesFromLexical(r,g,o),d.syncChildrenFromLexical(r,g,o,u,f)):d instanceof Eo&&Ue(g)?d.syncPropertiesAndTextFromLexical(r,g,o):d instanceof o0&&pi(g)&&d.syncPropertiesFromLexical(r,g,o)}},{key:"syncChildrenFromLexical",value:function(r,n,i,o,u){for(var f=this.getPrevNode(i),d=f===null?[]:f.__children,g=n.__children,S=d.length-1,y=g.length-1,C=r.collabNodeMap,b,O,_=0,N=0;_<=S&&N<=y;){var P=d[_],M=g[N];if(P===M)this._syncChildFromLexical(r,N,M,i,o,u),_++,N++;else{b===void 0&&(b=new Set(d)),O===void 0&&(O=new Set(g));var R=O.has(P),D=b.has(M);if(!R)this.splice(r,N,1),_++;else{var G=D4(M),V=kA(r,G,this);C.set(M,V),D?(this.splice(r,N,1,V),_++,N++):(this.splice(r,N,0,V),N++)}}}var J=_>S,te=N>y;if(J&&!te)for(;N<=y;++N){var W=g[N],ce=D4(W),ie=kA(r,ce,this);this.append(ie),C.set(W,ie)}else if(te&&!J)for(var le=this._children.length-1;le>=N;le--)this.splice(r,le,1)}},{key:"append",value:function(r){var n=this._xmlText,i=this._children,o=i[i.length-1],u=o!==void 0?o.getOffset()+o.getSize():0;if(r instanceof t)n.insertEmbed(u,r._xmlText);else if(r instanceof Eo){var f=r._map;f.parent===null&&n.insertEmbed(u,f),n.insert(u+1,r._text)}else r instanceof tg?n.insertEmbed(u,r._map):r instanceof o0&&n.insertEmbed(u,r._xmlElem);this._children.push(r)}},{key:"splice",value:function(r,n,i,o){var u=this._children,f=u[n];if(f===void 0){if(o!==void 0)this.append(o);else throw new Error("Should never happen");return}var d=f.getOffset();if(d===-1)throw new Error("Should never happen");var g=this._xmlText;if(i!==0&&g.delete(d,f.getSize()),o instanceof t)g.insertEmbed(d,o._xmlText);else if(o instanceof Eo){var S=o._map;S.parent===null&&g.insertEmbed(d,S),g.insert(d+1,o._text)}else o instanceof tg?g.insertEmbed(d,o._map):o instanceof o0&&g.insertEmbed(d,o._xmlElem);if(i!==0)for(var y=u.slice(n,n+i),C=0;C<y.length;C++)y[C].destroy(r);o!==void 0?u.splice(n,i,o):u.splice(n,i)}},{key:"getChildOffset",value:function(r){for(var n=0,i=this._children,o=0;o<i.length;o++){var u=i[o];if(u===r)return n;n+=u.getSize()}return-1}},{key:"destroy",value:function(r){for(var n=r.collabNodeMap,i=this._children,o=0;o<i.length;o++)i[o].destroy(r);n.delete(this._key)}}]),t}();function CA(t,e,r){if(e===void 0){var n=t.getWritable();return n.__children=r,n}return e}function R9(t,e,r){var n=new W1(t,e,r);return t._collabNode=n,n}function Ote(t,e,r,n,i){if(n==null)throw new Error("Should never happen");var o=n.get("root",Ad),u=R9(o,null,"root");return u._key="root",{clientID:n.clientID,collabNodeMap:new Map,cursors:new Map,cursorsContainer:null,doc:n,docMap:i,editor:t,id:r,nodeProperties:new Map,root:u}}function EA(t,e){var r=e.collabNodeMap,n=r.get(t.key);if(n===void 0)return null;var i=t.offset,o=n.getSharedType();if(n instanceof Eo){o=n._parent._xmlText;var u=n.getOffset();if(u===-1)return null;i=u+1+i}return _ee(o,i)}function Iw(t,e){return See(t,e.doc)}function TA(t,e){if(t==null){if(e!=null)return!0}else if(e==null||!Cee(t,e))return!0;return!1}function Ate(t,e){return{color:e,name:t,selection:null}}function JR(t,e){var r=t.cursorsContainer;if(r!==null)for(var n=e.selections,i=n.length,o=0;o<i;o++)r.removeChild(n[o])}function Ite(t,e){var r=e.selection;r!==null&&JR(t,r)}function OA(t){for(var e=t;e!=null;){if(e.nodeType===3)return e;e=e.firstChild}return null}function Mte(t,e,r,n,i){var o=t.color,u=document.createElement("span");u.style.cssText="position:absolute;top:0;bottom:0;right:-1px;width:1px;background-color:rgb(".concat(o,");z-index:10;");var f=document.createElement("span");return f.textContent=t.name,f.style.cssText="position:absolute;left:-2px;top:-16px;background-color:rgb(".concat(o,");color:#fff;line-height:12px;height:12px;font-size:12px;padding:2px;font-family:Arial;font-weight:bold;white-space:nowrap;"),u.appendChild(f),{anchor:{key:e,offset:r},caret:u,color:o,focus:{key:n,offset:i},name:f,range:document.createRange(),selections:[]}}function AA(t){var e=t.parentNode;if(e==null)throw new Error("Should never happen");return[e,Array.from(e.childNodes).indexOf(t)]}function Dte(t,e,r,n){var i=t.editor,o=i.getRootElement(),u=t.cursorsContainer;if(!(u===null||o===null)){var f=e.selection;if(r===null){if(f===null)return;e.selection=null,JR(t,f);return}else e.selection=r;var d=r.range,g=r.caret,S=r.color,y=r.selections,C=r.anchor,b=r.focus,O=C.key,_=b.key,N=n.get(O),P=n.get(_),M=i.getElementByKey(O),R=i.getElementByKey(_),D=C.offset,G=b.offset;if(Ue(N)&&(M=OA(M)),Ue(P)&&(R=OA(R)),!(N===void 0||P===void 0||M===null||R===null)){if(M.nodeName==="BR"){var V=AA(M),J=Se(V,2);M=J[0],D=J[1]}if(R.nodeName==="BR"){var te=AA(R),W=Se(te,2);R=W[0],G=W[1]}var ce=M.firstChild;M===R&&ce!=null&&ce.nodeName==="BR"&&D===0&&G===0&&(G=1);try{d.setStart(M,D),d.setEnd(R,G)}catch{return}d.collapsed&&(D!==G||O!==_)&&(d.setStart(R,G),d.setEnd(M,D));for(var ie=o.getBoundingClientRect(),le=getComputedStyle(o),pe=parseFloat(le.paddingLeft)+parseFloat(le.paddingRight),he=Array.from(d.getClientRects()),ye=he.length,Ee=y.length,Ne=0;Ne<ye;Ne++){var ge=he[Ne];if(ge.width+pe===ie.width){he.splice(Ne--,1),ye--;continue}var De=y[Ne];De===void 0&&(De=document.createElement("span"),y[Ne]=De,u.appendChild(De));var ze="position:absolute;top:".concat(ge.top,"px;left:").concat(ge.left,"px;height:").concat(ge.height,"px;width:").concat(ge.width,"px;background-color:rgba(").concat(S,", 0.3);pointer-events:none;z-index:10;");De.style.cssText=ze,Ne===ye-1&&g.parentNode!==De&&De.appendChild(g)}for(var Ye=Ee-1;Ye>=ye;Ye--){var q=y[Ye];u.removeChild(q),y.pop()}}}}function IA(t,e){var r=e.awareness,n=r.getLocalState();if(n!==null){var i=n.anchorPos,o=n.focusPos;if(i!==null&&o!==null){var u=Iw(i,t),f=Iw(o,t);if(u!==null&&f!==null){var d=Mw(u.type,u.index),g=Se(d,2),S=g[0],y=g[1],C=Mw(f.type,f.index),b=Se(C,2),O=b[0],_=b[1];if(S!==null&&O!==null){var N=S.getKey(),P=O.getKey(),M=Ie();if(!Pe(M))return;var R=M.anchor,D=M.focus;if(R.key!==N||R.offset!==y){var G=Gt(N);M.anchor.set(N,y,Je(G)?"element":"text")}if(D.key!==P||D.offset!==_){var V=Gt(P);M.focus.set(P,_,Je(V)?"element":"text")}}}}}}function Mw(t,e){var r=t._collabNode;if(r===void 0)return[null,0];if(r instanceof W1){var n=wb(r,e,!0),i=n.node,o=n.offset;return i===null?[r,0]:[i,o]}return[null,0]}function ej(t,e){for(var r=Array.from(e.awareness.getStates()),n=t.clientID,i=t.cursors,o=t.editor,u=o._editorState._nodeMap,f=new Set,d=0;d<r.length;d++){var g=r[d],S=Se(g,2),y=S[0],C=S[1];if(y!==n){f.add(y);var b=C.anchorPos,O=C.focusPos,_=C.name,N=C.color,P=C.focusing,M=null,R=i.get(y);if(R===void 0&&(R=Ate(_,N),i.set(y,R)),b!==null&&O!==null&&P){var D=Iw(b,t),G=Iw(O,t);if(D!==null&&G!==null){var V=Mw(D.type,D.index),J=Se(V,2),te=J[0],W=J[1],ce=Mw(G.type,G.index),ie=Se(ce,2),le=ie[0],pe=ie[1];if(te!==null&&le!==null){var he=te.getKey(),ye=le.getKey();if(M=R.selection,M===null)M=Mte(R,he,W,ye,pe);else{var Ee=M.anchor,Ne=M.focus;Ee.key=he,Ee.offset=W,Ne.key=ye,Ne.offset=pe}}}}Dte(t,R,M,u)}}for(var ge=Array.from(i.keys()),De=0;De<ge.length;De++){var ze=ge[De];if(!f.has(ze)){var Ye=i.get(ze);Ye!==void 0&&(Ite(t,Ye),i.delete(ze))}}}function tj(t,e,r,n){var i=e.awareness,o=i.getLocalState();if(o!==null){var u=o.anchorPos,f=o.focusPos,d=o.name,g=o.color,S=o.focusing,y=null,C=null;(n===null||u!==null&&!n.is(r))&&r===null||(Pe(n)&&(y=EA(n.anchor,t),C=EA(n.focus,t)),(TA(u,y)||TA(f,C))&&i.setLocalState({anchorPos:y,color:g,focusPos:C,focusing:S,name:d}))}}var Pte=function(){function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;ir(this,t),this._offsetMap=e,this._firstNode=r,this._blockOffsetSize=n}return ar(t,[{key:"createSelectionFromOffsets",value:function(r,n,i){var o=this._firstNode;if(o===null)return null;var u=r,f=n,d=rg(o,u,this._blockOffsetSize),g=rg(o,f,this._blockOffsetSize);if(i!==void 0&&(u=MA(u,d,i,this,this._blockOffsetSize),d=rg(o,u,this._blockOffsetSize),f=MA(f,g,i,this,this._blockOffsetSize),g=rg(o,f,this._blockOffsetSize)),d===null||g===null)return null;var S=d.key,y=g.key,C=Gt(S),b=Gt(y);if(C===null||b===null)return null;var O=0,_=0,N="element",P="element";if(d.type==="text"){O=u-d.start,N="text";var M=C.getNextSibling();u!==f&&O===C.getTextContentSize()&&Ue(M)&&(O=0,S=M.__key)}else d.type==="inline"&&(S=C.getParentOrThrow().getKey(),O=f>d.start?d.end:d.start);g.type==="text"?(_=f-g.start,P="text"):g.type==="inline"&&(y=b.getParentOrThrow().getKey(),_=f>g.start?g.end:g.start);var R=t1();return R===null?null:(R.anchor.set(S,O,N),R.focus.set(y,_,P),R)}},{key:"getOffsetsFromSelection",value:function(r){var n=r.anchor,i=r.focus,o=this._offsetMap,u=n.offset,f=i.offset,d=-1,g=-1;if(n.type==="text"){var S=o.get(n.key);S!==void 0&&(d=S.start+u)}else{var y=n.getNode().getDescendantByIndex(u),C=o.get(y.getKey());if(C!==void 0){var b=y.getIndexWithinParent()!==u;d=b?C.end:C.start}}if(i.type==="text"){var O=o.get(i.key);O!==void 0&&(g=O.start+i.offset)}else{var _=i.getNode().getDescendantByIndex(f),N=o.get(_.getKey());if(N!==void 0){var P=_.getIndexWithinParent()!==f;g=P?N.end:N.start}}return[d,g]}}]),t}();function MA(t,e,r,n,i){for(var o=r._offsetMap,u=n._offsetMap,f=new Set,d=t,g=e;g!==null;){var S=g.key,y=o.get(S),C=g.end-g.start;if(f.add(S),y===void 0)d+=C;else{var b=y.end-y.start;b!==C&&(d+=C-b)}var O=g.prev;if(O!==null){g=O;continue}for(var _=g.parent;_!==null;){var N=_.prev;if(N!==null){var P=N.key,M=o.get(P),R=N.end-N.start;if(f.add(P),M===void 0)d+=R;else{var D=M.end-M.start;D!==R&&(d+=R-D)}N=N.prev}_=_.parent}break}var G=r._firstNode;if(G!==null){g=rg(G,t,i);for(var V=!1;g!==null;){if(!f.has(g.key)){V=!0;break}g=g.parent}if(!V)for(;g!==null;){var J=g.key;if(!f.has(J)){var te=u.get(J),W=g.end-g.start;if(te===void 0)d-=W;else{var ce=te.end-te.start;W!==ce&&(d+=ce-W)}}g=g.prev}}return d}function rg(t,e,r){for(var n=t;n!==null;){var i=n.end+(n.type!=="element"||r===0?1:0);if(e<i){var o=n.child;if(o!==null){n=o;continue}return n}var u=n.next;if(u===null)break;n=u}return null}function DA(t,e,r,n,i,o){return{child:t,end:n,key:i,next:null,parent:o,prev:null,start:r,type:e}}function Lte(t,e,r,n,i,o){var u=n.get(e);if(u===void 0)throw Error("createOffsetModel: could not find node by key");var f=t.offset;if(Je(u)){var d=u.__children,g=d.length===0,S=g?null:rj(t,d,null,n,i,o);(!t.prevIsBlock||g)&&(t.prevIsBlock=!0,t.offset+=o);var y=DA(S,"element",f,f,e,r);S!==null&&(S.parent=y);var C=t.offset;return y.end=C,i.set(e,y),y}t.prevIsBlock=!1;var b=Ue(u),O=b?u.__text.length:1,_=t.offset+=O,N=DA(null,b?"text":"inline",f,_,e,r);return i.set(e,N),N}function rj(t,e,r,n,i,o){for(var u=null,f=null,d=e.length,g=0;g<d;g++){var S=e[g],y=Lte(t,S,r,n,i,o);f===null?u=y:(y.prev=f,f.next=y),f=y}return u}function PA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,n=r||t._pendingEditorState||t._editorState,i=n._nodeMap,o=i.get("root"),u=new Map,f={offset:0,prevIsBlock:!1},d=rj(f,o.__children,null,i,u,e);return new Pte(u,d,e)}function Nte(t,e){var r=e.target,n=P9(t,r);if(n instanceof W1&&e instanceof UR){var i=e.keysChanged,o=e.childListChanged,u=e.delta;i.size>0&&n.syncPropertiesFromYjs(t,i),o&&(n.applyChildrenYjsDelta(t,u),n.syncChildrenFromYjs(t))}else if(n instanceof Eo&&e instanceof jR){var f=e.keysChanged;f.size>0&&n.syncPropertiesAndTextFromYjs(t,f)}else if(n instanceof o0&&e instanceof KR){var d=e.attributesChanged;d.size>0&&n.syncPropertiesFromYjs(t,d)}else throw new Error("Should never happen")}function Rte(t,e,r){var n=t.editor,i=n._editorState;n.update(function(){for(var o=n._pendingEditorState,u=0;u<r.length;u++){var f=r[u];Nte(t,f)}var d=Ie();if(Pe(d))if(SA(d)){var g=i._selection;if(Pe(g)){var S=PA(n,0,i),y=PA(n,0,o),C=S.getOffsetsFromSelection(g),b=Se(C,2),O=b[0],_=b[1],N=y.createSelectionFromOffsets(O,_,S);if(N!==null)Mi(N);else if(IA(t,e),SA(d)){var P=Tn();P.getChildrenSize()===0&&P.append(Ar()),Tn().selectEnd()}}tj(t,e,g,Ie())}else IA(t,e)},{onUpdate:function(){ej(t,e)},skipTransforms:!0,tag:"collaboration"})}function jte(t,e){for(var r=Array.from(e),n=t.collabNodeMap,i=[],o=0;o<r.length;o++){var u=r[o],f=Gt(u),d=n.get(u);if(d instanceof Eo)if(Ue(f))i.push([d,f.__text]);else{var g=d.getOffset();if(g===-1)continue;var S=d._parent;d._normalized=!0,S._xmlText.delete(g,1),n.delete(u);var y=S._children,C=y.indexOf(d);y.splice(C,1)}}for(var b=0;b<i.length;b++){var O=Se(i[b],2),_=O[0],N=O[1];_._text=N}}function Fte(t,e,r,n,i,o,u,f){Tte(t,function(){n.read(function(){if(f.has("collaboration")){u.size>0&&jte(t,u);return}if(i.has("root")){var d=r._nodeMap,g=Tn(),S=t.root;S.syncPropertiesFromLexical(t,g,d),S.syncChildrenFromLexical(t,g,d,i,o)}var y=Ie(),C=r._selection;tj(t,e,C,y)})})}var nj=er(),ij=er();function zte(t,e){return new Lee(e,{trackedOrigins:new Set([t,null])})}function Bte(t,e,r,n){t.awareness.setLocalState({anchorPos:null,color:r,focusPos:null,focusing:n,name:e})}function LA(t,e,r,n){var i=t.awareness,o=i.getLocalState();o===null&&(o={anchorPos:null,color:r,focusPos:null,focusing:n,name:e}),o.focusing=n,i.setLocalState(o)}function Hte(t,e,r,n,i,o,u){var f=ee.exports.useRef(!1),d=ee.exports.useState(n.get(e)),g=Se(d,2),S=g[0],y=g[1],C=ee.exports.useMemo(function(){return Ote(t,r,e,S,n)},[t,r,e,n,S]),b=ee.exports.useCallback(function(){r.connect()},[r]),O=ee.exports.useCallback(function(){try{r.disconnect()}catch{}},[r]);ee.exports.useEffect(function(){var N=C.root,P=r.awareness,M=function(W){var ce=W.status;t.dispatchCommand(nj,ce==="connected")},R=function(W){u&&W&&N.isEmpty()&&N._xmlText._length===0&&f.current===!1&&Wte(t),f.current=!1},D=function(){ej(C,r)},G=function(W,ce){ce.origin!==C&&Rte(C,r,W)};Bte(r,i,o,document.activeElement===t.getRootElement());var V=function(W){$te(t,C),y(W),n.set(e,W),f.current=!0};r.on("reload",V),r.on("status",M),r.on("sync",R),P.on("update",D),N.getSharedType().observeDeep(G);var J=t.registerUpdateListener(function(te){var W=te.prevEditorState,ce=te.editorState,ie=te.dirtyLeaves,le=te.dirtyElements,pe=te.normalizedNodes,he=te.tags;he.has("skip-collab")===!1&&Fte(C,r,W,ce,le,ie,pe,he)});return b(),function(){f.current===!1&&O(),r.off("sync",R),r.off("status",M),r.off("reload",V),P.off("update",D),N.getSharedType().unobserveDeep(G),J()}},[C,o,b,O,n,t,e,i,r,u]);var _=ee.exports.useMemo(function(){var N=function(M){C.cursorsContainer=M};return ma.exports.createPortal(Q("div",{ref:N}),document.body)},[C]);return ee.exports.useEffect(function(){return t.registerCommand(ij,function(N){if(b!==void 0&&O!==void 0){var P=N;P?(console.log("Collaboration connected!"),b()):(console.log("Collaboration disconnected!"),O())}return!0},Nt)},[b,O,t]),[_,C]}function Ute(t,e,r,n){ee.exports.useEffect(function(){return gi(t.registerCommand(Qk,function(i){return LA(e,r,n,!0),!0},Nt),t.registerCommand(VL,function(i){return LA(e,r,n,!1),!0},Nt))},[n,t,r,e])}function Kte(t,e){var r=ee.exports.useMemo(function(){return zte(e,e.root.getSharedType())},[e]);ee.exports.useEffect(function(){var i=function(){r.undo()},o=function(){r.redo()};return gi(t.registerCommand(um,function(){return i(),!0},Nt),t.registerCommand(cm,function(){return o(),!0},Nt))});var n=ee.exports.useCallback(function(){r.clear()},[r]);return n}function Wte(t){t.update(function(){var e=Tn(),r=e.getFirstChild();if(r===null){var n=Ar();e.append(n);var i=document.activeElement;(Ie()!==null||i!==null&&i===t.getRootElement())&&n.select()}},{tag:"history-merge"})}function $te(t,e){if(t.update(function(){var g=Tn();g.clear(),g.select()},{tag:"skip-collab"}),e.cursors!=null){var r=e.cursorsContainer;if(r!=null)for(var n=Array.from(e.cursors.values()),i=0;i<n.length;i++){var o=n[i],u=o.selection;if(u&&u.selections!=null)for(var f=u.selections,d=0;d<f.length;d++)r.removeChild(f[i])}}}var NA=[["Cat","255,165,0"],["Dog","0,200,55"],["Rabbit","160,0,200"],["Frog","0,172,200"],["Fox","197,200,0"],["Hedgehog","31,200,0"],["Pigeon","200,0,0"],["Squirrel","200,0,148"],["Bear","255,235,0"],["Tiger","86,255,0"],["Leopard","0,255,208"],["Zebra","0,243,255"],["Wolf","0,102,255"],["Owl","147,0,255"],["Gull","255,0,153"],["Squid","0,220,255"]],RA=NA[Math.floor(Math.random()*NA.length)];function aj(t){var e=t.id,r=t.providerFactory,n=t.shouldBootstrap,i=t.username,o=mm(i),u=o.yjsDocMap,f=o.name,d=o.color,g=lr(),S=Se(g,1),y=S[0],C=ee.exports.useMemo(function(){return r(e,u)},[e,r,u]),b=Hte(y,e,C,u,f,d,n),O=Se(b,2),_=O[0],N=O[1];return o.clientID=N.clientID,Kte(y,N),Ute(y,C,f,d),_}var qte=ee.exports.createContext({clientID:0,color:RA[1],name:RA[0],yjsDocMap:new Map});function mm(t){var e=ee.exports.useContext(qte);return t!=null&&(e.name=t),e}function Vte(t){var e=t.onClose,r=t.children,n=t.title,i=ee.exports.useRef(null);return ee.exports.useEffect(function(){i.current!==null&&i.current.focus()},[]),ee.exports.useEffect(function(){var o=function(f){f.keyCode===27&&e()};return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}},[e]),Q("div",{className:"Modal__overlay",role:"dialog",children:ut("div",{className:"Modal__modal",tabIndex:-1,ref:i,children:[Q("h2",{className:"Modal__title",children:n}),Q("button",{className:"Modal__closeButton","aria-label":"Close modal",onClick:e,children:"X"}),Q("div",{className:"Modal__content",children:r})]})})}function Gte(t){var e=t.onClose,r=t.children,n=t.title;return ma.exports.createPortal(Q(Vte,{onClose:e,title:n,children:r}),document.body)}function oj(){var t=ee.exports.useState(null),e=Se(t,2),r=e[0],n=e[1],i=ee.exports.useCallback(function(){n(null)},[]),o=ee.exports.useMemo(function(){if(r===null)return null;var f=r.title,d=r.content;return Q(Gte,{onClose:i,title:f,children:d})},[r,i]),u=ee.exports.useCallback(function(f,d){n({content:d(i),title:f})},[i]);return[o,u]}function l7(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.filter(Boolean).join(" ")}function E0(t){var e=t.children,r=t.onClick,n=t.disabled,i=t.small;return Q("button",{disabled:n,className:l7("Button__root",n&&"Button__disabled",i&&"Button__small"),onClick:r,children:e})}var jA=function(){var e=document.getElementById("report-container");return e===null&&(e=document.createElement("div"),e.id="report-container",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.fontSize="32px",e.style.transform="translate(-50%, -50px)",e.style.padding="20px",e.style.background="rgba(240, 240, 240, 0.4)",e.style.borderRadius="20px",document.body&&document.body.appendChild(e)),e};function sj(){var t=ee.exports.useRef(null),e=ee.exports.useCallback(function(){clearTimeout(t.current),document.body&&document.body.removeChild(jA())},[]);return ee.exports.useEffect(function(){return e},[e]),ee.exports.useCallback(function(r){console.log(r);var n=jA();return clearTimeout(t.current),n.innerHTML=r,t.current=setTimeout(e,1e3),t.current},[e])}var lj=er(),Yte={"\n":function(e){var r=e.selection;r.insertParagraph()},redo:function(e){var r=e.editor;r.dispatchCommand(cm)},undo:function(e){var r=e.editor;r.dispatchCommand(um)}},uj="SpeechRecognition"in window||"webkitSpeechRecognition"in window;function Xte(){var t=lr(),e=Se(t,1),r=e[0],n=ee.exports.useState(!1),i=Se(n,2),o=i[0],u=i[1],f=ee.exports.useRef(null),d=sj();return ee.exports.useEffect(function(){if(o&&f.current===null){var g=window.SpeechRecognition||window.webkitSpeechRecognition;f.current=new g,f.current.continuous=!0,f.current.interimResults=!0,f.current.addEventListener("result",function(S){var y=S.results.item(S.resultIndex),C=y.item(0),b=C.transcript;d(b),y.isFinal&&r.update(function(){var O=Ie();if(Pe(O)){var _=Yte[b.toLowerCase().trim()];_?_({editor:r,selection:O}):b.match(/\s*\n\s*/)?O.insertParagraph():O.insertText(b)}})})}return f.current&&(o?f.current.start():f.current.stop()),function(){f.current!==null&&f.current.stop()}},[r,o,d]),ee.exports.useEffect(function(){return r.registerCommand(lj,function(g){return u(g),!0},Nt)},[r]),null}var Zte=uj?Xte:function(){return null};function Qte(t){t.isRichText;var e=lr(),r=Se(e,1),n=r[0],i=ee.exports.useState(function(){return n.isReadOnly()}),o=Se(i,2),u=o[0],f=o[1],d=ee.exports.useState(!1),g=Se(d,2),S=g[0],y=g[1],C=ee.exports.useState(!1),b=Se(C,2),O=b[0],_=b[1],N=ee.exports.useState(!0),P=Se(N,2),M=P[0],R=P[1],D=oj(),G=Se(D,2),V=G[0],J=G[1],te=mm(),W=te.yjsDocMap,ce=W.get("main")!==void 0;ee.exports.useEffect(function(){return gi(n.registerReadOnlyListener(function(le){f(le)}),n.registerCommand(nj,function(le){var pe=le;return _(pe),!1},Nt))},[n]),ee.exports.useEffect(function(){return n.registerUpdateListener(function(){n.getEditorState().read(function(){var le=Tn(),pe=le.getChildren();if(pe.length>1)R(!1);else if(wd(pe[0])){var he=pe[0].getChildren();R(he.length===0)}else R(!1)})})},[n]);var ie=ee.exports.useCallback(function(){n.update(function(){for(var le=Tn(),pe=le.getChildren(),he=pe.length,ye="",Ee=0;Ee<he;Ee++){var Ne=pe[Ee];if(wd(Ne)){ye.length&&(ye+=`
`);var ge=Ne.getTextContent();ge.length&&(ye+=ge)}}_Q(ye,n,Cx),le.selectEnd()})},[n]);return ut("div",{className:"actions",children:[uj&&Q("button",{onClick:function(){n.dispatchCommand(lj,!S),y(!S)},className:"action-button action-button-mic "+(S?"active":""),title:"Mic","aria-label":"Mic",children:Q("i",{className:"mic"})}),Q("button",{className:"action-button import",onClick:function(){return YQ(n)},title:"Import","aria-label":"Import",children:Q("i",{className:"import"})}),Q("button",{className:"action-button export",onClick:function(){return ZQ(n,{fileName:"Playground ".concat(new Date().toISOString()),source:"Playground"})},title:"Export","aria-label":"Export",children:Q("i",{className:"export"})}),Q("button",{className:"action-button clear",disabled:M,onClick:function(){J("Clear editor",function(pe){return Q(Jte,{editor:n,onClose:pe})})},title:"Clear","aria-label":"Clear",children:Q("i",{className:"clear"})}),Q("button",{className:"action-button ".concat(u?"unlock":"lock"),onClick:function(){n.setReadOnly(!n.isReadOnly())},title:u?"Unlock":"Lock","aria-label":u?"Unlock":"Lock",children:Q("i",{className:u?"unlock":"lock"})}),Q("button",{className:"action-button",onClick:ie,title:"Markdown","aria-label":"Markdown",children:Q("i",{className:"markdown"})}),ce&&Q("button",{className:"action-button connect",onClick:function(){n.dispatchCommand(ij,!O)},title:O?"Disconnect":"Connect","aria-label":O?"Disconnect":"Connect",children:Q("i",{className:O?"disconnect":"connect"})}),V]})}function Jte(t){var e=t.editor,r=t.onClose;return ut(Qr,{children:["Are you sure you want to clear the editor?",ut("div",{className:"Modal__content",children:[Q(E0,{onClick:function(){e.dispatchCommand(Xk),e.focus(),r()},children:"Clear"})," ",Q(E0,{onClick:function(){e.focus(),r()},children:"Cancel"})]})]})}var wg=function(t){Fr(r,t);var e=zr(r);function r(){return ir(this,r),e.apply(this,arguments)}return ar(r,[{key:"createDOM",value:function(i){var o=ti(Fn(r.prototype),"createDOM",this).call(this,i);return o.style.cssText="color: #ccc;",o}}],[{key:"clone",value:function(i){return new r(i.__text,i.__key)}},{key:"getType",value:function(){return"typeahead"}}]),r}(Fo);function ere(t){return new wg(t).setMode("inert")}function tre(t){var e=ee.exports.useRef(null),r=ee.exports.useState(t.getEditorState().read(t9)),n=Se(r,2),i=n[0],o=n[1],u=ee.exports.useState(!1),f=Se(u,2),d=f[0],g=f[1],S=ee.exports.useMemo(function(){return new nre},[]),y=rre(i,S.query),C=ee.exports.useCallback(function(){if(e.current===null)return null;var O=Gt(e.current);return Ue(O)?O:null},[]);ee.exports.useEffect(function(){if(!t.hasNodes([wg]))throw new Error("AutocompletePlugin: TypeaheadNode not registered on editor");return t.registerTextContentListener(function(O){o(O)})},[t]);var b=ee.exports.useCallback(function(){t.update(function(){var O=C();function _(){if(O!==null){var V=Ie();if(Pe(V)){var J=V.anchor,te=V.focus;if(J.type==="text"&&te.type==="text"){var W=J.getNode(),ce=J.offset;W.getKey()===O.getKey()&&(W=W.getPreviousSibling(),Ue(W)&&(ce=W.getTextContent().length));var ie=te.getNode(),le=te.offset;ie.getKey()===O.getKey()&&(ie=ie.getPreviousSibling(),Ue(ie)&&(le=ie.getTextContent().length)),Ue(ie)&&Ue(W)&&V.setTextNodeRange(W,ce,ie,le)}}O.remove()}e.current=null}function N(){if(O!==null){O.getTextContent(!0)!==y&&O.setTextContent(y!=null?y:"");return}var V=Tn().getLastChild();if(Je(V)){var J=V.getLastChild();if(Ue(J)){var te=ere(y!=null?y:"");J.insertAfter(te),e.current=te.getKey()}}}var P=Ie(),M=!1;if(Pe(P)){var R=P==null?void 0:P.anchor.getNode(),D=P==null?void 0:P.anchor.offset,G=R==null?void 0:R.getTextContentSize();M=G!=null&&D===G}y===null||!d||!M?_():N()},{tag:"history-merge"})},[t,C,d,y]);ee.exports.useEffect(function(){b()},[b,y]),ee.exports.useEffect(function(){return t.registerUpdateListener(function(O){var _=O.editorState;_.read(function(){var N=Tn().getAllTextNodes(!0).find(function(P){return P instanceof wg});N instanceof wg&&(e.current=N.getKey())})})},[t]),ee.exports.useEffect(function(){var O=t.getRootElement();if(O!=null){var _=function(P){(P.key==="Tab"||P.key==="ArrowRight")&&t.update(function(){var M=C(),R=M==null?void 0:M.getPreviousSibling();M!==null&&Ue(R)&&(P.preventDefault(),R.setTextContent(R.getTextContent()+M.getTextContent(!0)),R.select()),M==null||M.remove(),e.current=null})};return O.addEventListener("keydown",_),function(){O.removeEventListener("keydown",_)}}},[t,C]),ee.exports.useEffect(function(){var O=function(){var N=window.getSelection();g(N.isCollapsed)};return document.addEventListener("selectionchange",O),function(){document.removeEventListener("selectionchange",O)}},[])}function rre(t,e){var r=ee.exports.useRef(function(){}),n=ee.exports.useRef(0),i=ee.exports.useState(null),o=Se(i,2),u=o[0],f=o[1];return ee.exports.useEffect(function(){f(null),r.current(),Ok(regeneratorRuntime.mark(function d(){var g,S;return regeneratorRuntime.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return g=Date.now(),n.current=g,C.prev=2,C.next=5,e(t);case 5:return S=C.sent,r.current=S.cancel,C.t0=f,C.next=10,S.promise();case 10:C.t1=C.sent,(0,C.t0)(C.t1),C.next=16;break;case 14:C.prev=14,C.t2=C.catch(2);case 16:case"end":return C.stop()}},d,null,[[2,14]])}))()},[e,t]),u}var nre=ar(function t(){var e=this;ir(this,t),hg(this,"DATABASE",{"Happy ":"birthday","Happy b":"irthday","Happy bi":"rthday",He:"llo",Hel:"lo",Hell:"o","Hello ":"world","Hello w":"orld","Hello wo":"rld","Hello wor":"ld","happy ":"birthday","happy b":"irthday","happy bi":"rthday",he:"llo",hel:"lo",hell:"o","hello ":"world","hello w":"orld","hello wo":"rld","hello wor":"ld"}),hg(this,"LATENCY",200),hg(this,"query",function(r){var n=!1,i=function(){return new Promise(function(f,d){setTimeout(function(){var g,S=(g=e.DATABASE[r])!==null&&g!==void 0?g:null;n?d("Cancelled network request"):f(S)},e.LATENCY)})},o=function(){n=!0};return{cancel:o,promise:i}})});function ire(){var t=lr(),e=Se(t,1),r=e[0];return tre(r),null}function cj(t,e){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}function fj(t){var e=t.getPreviousSibling();return Je(e)&&(e=e.getLastDescendant()),e===null||Pi(e)||Ue(e)&&e.getTextContent().endsWith(" ")}function dj(t){var e=t.getNextSibling();return Je(e)&&(e=e.getFirstDescendant()),e===null||Pi(e)||Ue(e)&&e.getTextContent().startsWith(" ")}function are(t,e,r){for(var n=t.getTextContent(),i=n.length,o=n,u=0,f=t,d;(d=cj(o,e))&&d!==null;){var g=d.index,S=u+g,y=d.length,C=void 0;S>0?C=n[S-1]===" ":C=fj(t);var b=void 0;if(S+y<i?b=n[S+y]===" ":b=dj(t),C&&b){var O=void 0;if(g===0){var _=f.splitText(y),N=Se(_,2);O=N[0],f=N[1]}else{var P=f.splitText(g,g+y),M=Se(P,3);O=M[1],f=M[2]}var R=QL(d.url);R.append(gr(d.text)),O.replace(R),r(d.url,null)}var D=g+y;o=o.substring(D),u+=D}}function FA(t,e,r){for(var n=t.getChildren(),i=n.length,o=0;o<i;o++){var u=n[o];if(!Ue(u)||!u.isSimpleText()){xg(t),r(null,t.getURL());return}}var f=t.getTextContent(),d=cj(f,e);if(d===null||d.text!==f){xg(t),r(null,t.getURL());return}if(!fj(t)||!dj(t)){xg(t),r(null,t.getURL());return}var g=t.getURL();d!==null&&g!==d.url&&(t.setURL(d.url),r(d.url,g))}function ore(t,e){var r=t.getPreviousSibling(),n=t.getNextSibling(),i=t.getTextContent();Y8(r)&&!i.startsWith(" ")&&(xg(r),e(null,r.getURL())),Y8(n)&&!i.endsWith(" ")&&(xg(n),e(null,n.getURL()))}function xg(t){for(var e=t.getChildren(),r=e.length,n=r-1;n>=0;n--)t.insertAfter(e[n]);return t.remove(),e.map(function(i){return i.getLatest()})}function sre(t,e,r){ee.exports.useEffect(function(){if(!t.hasNodes([i1]))throw Error("LexicalAutoLinkPlugin: AutoLinkNode, TableCellNode or TableRowNode not registered on editor");var n=function(){r&&r.apply(void 0,arguments)};return gi(t.registerNodeTransform(Fo,function(i){var o=i.getParentOrThrow();Y8(o)?FA(o,e,n):Ao(o)||(i.isSimpleText()&&are(i,e,n),ore(i,n))}),t.registerNodeTransform(i1,function(i){FA(i,e,n)}))},[t,e,r])}function lre(t){var e=t.matchers,r=t.onChange,n=lr(),i=Se(n,1),o=i[0];return sre(o,e,r),null}var ure=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,cre=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,fre=[function(t){var e=ure.exec(t);return e&&{index:e.index,length:e[0].length,text:e[0],url:e[0]}},function(t){var e=cre.exec(t);return e&&{index:e.index,length:e[0].length,text:e[0],url:"mailto:".concat(e[0])}}];function dre(){return Q(lre,{matchers:fre})}function hre(t,e){e===null?(t.style.opacity="0",t.style.top="-1000px",t.style.left="-1000px"):(t.style.opacity="1",t.style.top="".concat(e.top-8+window.pageYOffset,"px"),t.style.left="".concat(e.left+230+window.pageXOffset-t.offsetWidth+e.width/2,"px"))}function pre(t){var e=t.editor,r=t.isLink,n=t.isBold,i=t.isItalic,o=t.isUnderline,u=t.isCode,f=t.isStrikethrough,d=ee.exports.useRef(null),g=ee.exports.useRef(!1),S=ee.exports.useCallback(function(){r?e.dispatchCommand(_d,null):e.dispatchCommand(_d,"https://")},[e,r]),y=ee.exports.useCallback(function(){var C=Ie(),b=d.current,O=window.getSelection();if(b!==null){var _=e.getRootElement();if(C!==null&&!O.isCollapsed&&_!==null&&_.contains(O.anchorNode)){var N=O.getRangeAt(0),P;if(O.anchorNode===_){for(var M=_;M.firstElementChild!=null;)M=M.firstElementChild;P=M.getBoundingClientRect()}else P=N.getBoundingClientRect();g.current||hre(b,P)}}},[e]);return ee.exports.useEffect(function(){return gi(e.registerUpdateListener(function(C){var b=C.editorState;b.read(function(){y()})}),e.registerCommand(Pl,function(){return y(),!1},Gn))},[e,y]),ut("div",{ref:d,className:"character-style-popup",children:[Q("button",{onClick:function(){e.dispatchCommand(Ai,"bold")},className:"popup-item spaced "+(n?"active":""),"aria-label":"Format Bold",children:Q("i",{className:"format bold"})}),Q("button",{onClick:function(){e.dispatchCommand(Ai,"italic")},className:"popup-item spaced "+(i?"active":""),"aria-label":"Format Italics",children:Q("i",{className:"format italic"})}),Q("button",{onClick:function(){e.dispatchCommand(Ai,"underline")},className:"popup-item spaced "+(o?"active":""),"aria-label":"Format Underline",children:Q("i",{className:"format underline"})}),Q("button",{onClick:function(){e.dispatchCommand(Ai,"strikethrough")},className:"popup-item spaced "+(f?"active":""),"aria-label":"Format Strikethrough",children:Q("i",{className:"format strikethrough"})}),Q("button",{onClick:function(){e.dispatchCommand(Ai,"code")},className:"popup-item spaced "+(u?"active":""),"aria-label":"Insert Code",children:Q("i",{className:"format code"})}),Q("button",{onClick:S,className:"popup-item spaced "+(r?"active":""),"aria-label":"Insert Link",children:Q("i",{className:"format link"})})]})}function mre(t){var e=t.anchor,r=t.focus,n=t.anchor.getNode(),i=t.focus.getNode();if(n===i)return n;var o=t.isBackward();return o?gw(r)?n:i:gw(e)?i:n}function vre(t){var e=ee.exports.useState(!1),r=Se(e,2),n=r[0],i=r[1],o=ee.exports.useState(!1),u=Se(o,2),f=u[0],d=u[1],g=ee.exports.useState(!1),S=Se(g,2),y=S[0],C=S[1],b=ee.exports.useState(!1),O=Se(b,2),_=O[0],N=O[1],P=ee.exports.useState(!1),M=Se(P,2),R=M[0],D=M[1],G=ee.exports.useState(!1),V=Se(G,2),J=V[0],te=V[1],W=ee.exports.useState(!1),ce=Se(W,2),ie=ce[0],le=ce[1];return ee.exports.useEffect(function(){return t.registerUpdateListener(function(pe){var he=pe.editorState;he.read(function(){var ye=Ie();if(!!Pe(ye)){var Ee=mre(ye);C(ye.hasFormat("bold")),N(ye.hasFormat("italic")),D(ye.hasFormat("underline")),te(ye.hasFormat("strikethrough")),le(ye.hasFormat("code"));var Ne=Ee.getParent();Ao(Ne)||Ao(Ee)?d(!0):d(!1),!Ys(ye.anchor.getNode())&&ye.getTextContent()!==""?i(Ue(Ee)):i(!1)}})})},[t]),!n||!f?null:ma.exports.createPortal(Q(pre,{editor:t,isLink:f,isBold:y,isItalic:_,isStrikethrough:J,isUnderline:R,isCode:ie}),document.body)}function gre(){var t=lr(),e=Se(t,1),r=e[0];return vre(r)}function yre(t){var e=t.filter,r=t.newTab,n=r===void 0?!0:r,i=lr(),o=Se(i,1),u=o[0],f=ee.exports.useRef(!1);return ee.exports.useEffect(function(){var d,g;function S(b){d=b.offsetX,g=b.offsetY}function y(b){f.current=b.offsetX!==d||b.offsetY!==g}function C(b){var O=f.current;f.current=!1;var _=b,N=bre(_,u);if(N!==null){var P=N.getAttribute("href");if(!(N.getAttribute("contenteditable")==="false"||P===void 0)){var M=null;u.update(function(){var R=vs(N);Ao(R)&&(M=R)}),!(M===null||e!==void 0&&!e(_,M))&&(O||window.open(P,n||_.metaKey||_.ctrlKey?"_blank":"_self"))}}}return u.registerRootListener(function(b,O){O!==null&&(O.removeEventListener("pointerdown",S),O.removeEventListener("pointerup",y),O.removeEventListener("click",C)),b!==null&&(b.addEventListener("click",C),b.addEventListener("pointerdown",S),b.addEventListener("pointerup",y))})},[u,e,n]),null}function zA(t){return t.nodeName.toLowerCase()==="a"}function bre(t,e){return e.getEditorState().read(function(){var r=t.target;return zA(r)?r:r.parentNode&&zA(r.parentNode)?r.parentNode:null})}function wre(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useEffect(function(){return oZ(r)},[r]),null}var j9=function(t){Fr(r,t);var e=zr(r);function r(n,i,o){var u;return ir(this,r),u=e.call(this,i,o),u.__className=n,u}return ar(r,[{key:"createDOM",value:function(i){var o=document.createElement("span"),u=ti(Fn(r.prototype),"createDOM",this).call(this,i);return o.className=this.__className,u.className="emoji-inner",o.appendChild(u),o}},{key:"updateDOM",value:function(i,o,u){var f=o.firstChild;return f===null?!0:(ti(Fn(r.prototype),"updateDOM",this).call(this,i,f,u),!1)}}],[{key:"getType",value:function(){return"emoji"}},{key:"clone",value:function(i){return new r(i.__className,i.__text,i.__key)}}]),r}(Fo);function xre(t,e){return new j9(t,e).setMode("token")}var BA=new Map([[":)",["emoji happysmile","\u{1F642}"]],[":D",["emoji veryhappysmile","\u{1F600}"]],[":(",["emoji unhappysmile","\u{1F641}"]],["<3",["emoji heart","\u2764"]],["\u{1F642}",["emoji happysmile","\u{1F642}"]],["\u{1F600}",["emoji veryhappysmile","\u{1F600}"]],["\u{1F641}",["emoji unhappysmile","\u{1F641}"]],["\u2764",["emoji heart","\u2764"]]]);function kre(t){for(var e=t.getTextContent(),r=0;r<e.length;r++){var n=BA.get(e[r])||BA.get(e.slice(r,r+2));if(n!==void 0){var i=Se(n,2),o=i[0],u=i[1],f=void 0;if(r===0){var d=t.splitText(r+2),g=Se(d,1);f=g[0]}else{var S=t.splitText(r,r+2),y=Se(S,2);f=y[1]}var C=xre(o,u);return f.replace(C),C}}return null}function _re(t){for(var e=t;e!==null;){if(!e.isSimpleText())return;e=kre(e)}}function Sre(t){ee.exports.useEffect(function(){if(!t.hasNodes([j9]))throw new Error("EmojisPlugin: EmojiNode not registered on editor");return t.registerNodeTransform(Fo,_re)},[t])}function hj(){var t=lr(),e=Se(t,1),r=e[0];return Sre(r),null}function Cre(t){var e=t.equation,r=t.setEquation,n=t.inline,i=t.inputRef,o=ee.exports.useCallback(function(f){r(f.target.value)},[r]),u={equation:e,inputRef:i,onChange:o};return n?Q(Ere,xt({},u)):Q(Tre,xt({},u))}function Ere(t){var e=t.equation,r=t.onChange,n=t.inputRef;return ut("span",{className:"EquationEditor_inputBackground",children:[Q("span",{className:"EquationEditor_dollarSign",children:"$"}),Q("input",{className:"EquationEditor_inlineEditor",value:e,onChange:r,autoFocus:!0,ref:n}),Q("span",{className:"EquationEditor_dollarSign",children:"$"})]})}function Tre(t){var e=t.equation,r=t.onChange,n=t.inputRef;return ut("div",{className:"EquationEditor_inputBackground",children:[Q("span",{className:"EquationEditor_dollarSign",children:`$$
`}),Q("textarea",{className:"EquationEditor_blockEditor",value:e,onChange:r,ref:n}),Q("span",{className:"EquationEditor_dollarSign",children:`
$$`})]})}class To{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new To(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class fs{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new fs(r,To.range(this,e))}}class lt{constructor(e,r){this.position=void 0;var n="KaTeX parse error: "+e,i,o=r&&r.loc;if(o&&o.start<=o.end){var u=o.lexer.input;i=o.start;var f=o.end;i===u.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var d=u.slice(i,f).replace(/[^]/g,"$&\u0332"),g;i>15?g="\u2026"+u.slice(i-15,i):g=u.slice(0,i);var S;f+15<u.length?S=u.slice(f,f+15)+"\u2026":S=u.slice(f),n+=g+d+S}var y=new Error(n);return y.name="ParseError",y.__proto__=lt.prototype,y.position=i,y}}lt.prototype.__proto__=Error.prototype;var Ore=function(e,r){return e.indexOf(r)!==-1},Are=function(e,r){return e===void 0?r:e},Ire=/([A-Z])/g,Mre=function(e){return e.replace(Ire,"-$1").toLowerCase()},Dre={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Pre=/[&><"']/g;function Lre(t){return String(t).replace(Pre,e=>Dre[e])}var pj=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},Nre=function(e){var r=pj(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},Rre=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},jre=function(e){var r=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return r!=null?r[1]:"_relative"},nr={contains:Ore,deflt:Are,escape:Lre,hyphenate:Mre,getBaseElem:pj,isCharacterBox:Nre,protocolFromUrl:jre},xb={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Fre(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class F9{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in xb)if(xb.hasOwnProperty(r)){var n=xb[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:Fre(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new lt("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=nr.protocolFromUrl(e.url));var r=typeof this.trust=="function"?this.trust(e):this.trust;return Boolean(r)}}class Yc{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return Tl[zre[this.id]]}sub(){return Tl[Bre[this.id]]}fracNum(){return Tl[Hre[this.id]]}fracDen(){return Tl[Ure[this.id]]}cramp(){return Tl[Kre[this.id]]}text(){return Tl[Wre[this.id]]}isTight(){return this.size>=2}}var z9=0,Dw=1,Dp=2,Ku=3,m1=4,ds=5,rm=6,Pa=7,Tl=[new Yc(z9,0,!1),new Yc(Dw,0,!0),new Yc(Dp,1,!1),new Yc(Ku,1,!0),new Yc(m1,2,!1),new Yc(ds,2,!0),new Yc(rm,3,!1),new Yc(Pa,3,!0)],zre=[m1,ds,m1,ds,rm,Pa,rm,Pa],Bre=[ds,ds,ds,ds,Pa,Pa,Pa,Pa],Hre=[Dp,Ku,m1,ds,rm,Pa,rm,Pa],Ure=[Ku,Ku,ds,ds,Pa,Pa,Pa,Pa],Kre=[Dw,Dw,Ku,Ku,ds,ds,Pa,Pa],Wre=[z9,Dw,Dp,Ku,Dp,Ku,Dp,Ku],Xt={DISPLAY:Tl[z9],TEXT:Tl[Dp],SCRIPT:Tl[m1],SCRIPTSCRIPT:Tl[rm]},u7=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function $re(t){for(var e=0;e<u7.length;e++)for(var r=u7[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var kb=[];u7.forEach(t=>t.blocks.forEach(e=>kb.push(...e)));function mj(t){for(var e=0;e<kb.length;e+=2)if(t>=kb[e]&&t<=kb[e+1])return!0;return!1}var ep=80,qre=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Vre=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Gre=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Yre=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},Xre=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},Zre=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},Qre=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},Jre=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=qre(r,ep);break;case"sqrtSize1":i=Vre(r,ep);break;case"sqrtSize2":i=Gre(r,ep);break;case"sqrtSize3":i=Yre(r,ep);break;case"sqrtSize4":i=Xre(r,ep);break;case"sqrtTall":i=Qre(r,ep,n)}return i},ene=function(e,r){switch(e){case"\u239C":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"\u2223":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"\u2225":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"\u239F":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"\u23A2":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"\u23A5":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"\u23AA":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"\u23D0":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"\u2016":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},HA={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};class $1{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return nr.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var Nl={"AMS-Regular":{"32":[0,0,0,0,.25],"65":[0,.68889,0,0,.72222],"66":[0,.68889,0,0,.66667],"67":[0,.68889,0,0,.72222],"68":[0,.68889,0,0,.72222],"69":[0,.68889,0,0,.66667],"70":[0,.68889,0,0,.61111],"71":[0,.68889,0,0,.77778],"72":[0,.68889,0,0,.77778],"73":[0,.68889,0,0,.38889],"74":[.16667,.68889,0,0,.5],"75":[0,.68889,0,0,.77778],"76":[0,.68889,0,0,.66667],"77":[0,.68889,0,0,.94445],"78":[0,.68889,0,0,.72222],"79":[.16667,.68889,0,0,.77778],"80":[0,.68889,0,0,.61111],"81":[.16667,.68889,0,0,.77778],"82":[0,.68889,0,0,.72222],"83":[0,.68889,0,0,.55556],"84":[0,.68889,0,0,.66667],"85":[0,.68889,0,0,.72222],"86":[0,.68889,0,0,.72222],"87":[0,.68889,0,0,1],"88":[0,.68889,0,0,.72222],"89":[0,.68889,0,0,.72222],"90":[0,.68889,0,0,.66667],"107":[0,.68889,0,0,.55556],"160":[0,0,0,0,.25],"165":[0,.675,.025,0,.75],"174":[.15559,.69224,0,0,.94666],"240":[0,.68889,0,0,.55556],"295":[0,.68889,0,0,.54028],"710":[0,.825,0,0,2.33334],"732":[0,.9,0,0,2.33334],"770":[0,.825,0,0,2.33334],"771":[0,.9,0,0,2.33334],"989":[.08167,.58167,0,0,.77778],"1008":[0,.43056,.04028,0,.66667],"8245":[0,.54986,0,0,.275],"8463":[0,.68889,0,0,.54028],"8487":[0,.68889,0,0,.72222],"8498":[0,.68889,0,0,.55556],"8502":[0,.68889,0,0,.66667],"8503":[0,.68889,0,0,.44445],"8504":[0,.68889,0,0,.66667],"8513":[0,.68889,0,0,.63889],"8592":[-.03598,.46402,0,0,.5],"8594":[-.03598,.46402,0,0,.5],"8602":[-.13313,.36687,0,0,1],"8603":[-.13313,.36687,0,0,1],"8606":[.01354,.52239,0,0,1],"8608":[.01354,.52239,0,0,1],"8610":[.01354,.52239,0,0,1.11111],"8611":[.01354,.52239,0,0,1.11111],"8619":[0,.54986,0,0,1],"8620":[0,.54986,0,0,1],"8621":[-.13313,.37788,0,0,1.38889],"8622":[-.13313,.36687,0,0,1],"8624":[0,.69224,0,0,.5],"8625":[0,.69224,0,0,.5],"8630":[0,.43056,0,0,1],"8631":[0,.43056,0,0,1],"8634":[.08198,.58198,0,0,.77778],"8635":[.08198,.58198,0,0,.77778],"8638":[.19444,.69224,0,0,.41667],"8639":[.19444,.69224,0,0,.41667],"8642":[.19444,.69224,0,0,.41667],"8643":[.19444,.69224,0,0,.41667],"8644":[.1808,.675,0,0,1],"8646":[.1808,.675,0,0,1],"8647":[.1808,.675,0,0,1],"8648":[.19444,.69224,0,0,.83334],"8649":[.1808,.675,0,0,1],"8650":[.19444,.69224,0,0,.83334],"8651":[.01354,.52239,0,0,1],"8652":[.01354,.52239,0,0,1],"8653":[-.13313,.36687,0,0,1],"8654":[-.13313,.36687,0,0,1],"8655":[-.13313,.36687,0,0,1],"8666":[.13667,.63667,0,0,1],"8667":[.13667,.63667,0,0,1],"8669":[-.13313,.37788,0,0,1],"8672":[-.064,.437,0,0,1.334],"8674":[-.064,.437,0,0,1.334],"8705":[0,.825,0,0,.5],"8708":[0,.68889,0,0,.55556],"8709":[.08167,.58167,0,0,.77778],"8717":[0,.43056,0,0,.42917],"8722":[-.03598,.46402,0,0,.5],"8724":[.08198,.69224,0,0,.77778],"8726":[.08167,.58167,0,0,.77778],"8733":[0,.69224,0,0,.77778],"8736":[0,.69224,0,0,.72222],"8737":[0,.69224,0,0,.72222],"8738":[.03517,.52239,0,0,.72222],"8739":[.08167,.58167,0,0,.22222],"8740":[.25142,.74111,0,0,.27778],"8741":[.08167,.58167,0,0,.38889],"8742":[.25142,.74111,0,0,.5],"8756":[0,.69224,0,0,.66667],"8757":[0,.69224,0,0,.66667],"8764":[-.13313,.36687,0,0,.77778],"8765":[-.13313,.37788,0,0,.77778],"8769":[-.13313,.36687,0,0,.77778],"8770":[-.03625,.46375,0,0,.77778],"8774":[.30274,.79383,0,0,.77778],"8776":[-.01688,.48312,0,0,.77778],"8778":[.08167,.58167,0,0,.77778],"8782":[.06062,.54986,0,0,.77778],"8783":[.06062,.54986,0,0,.77778],"8785":[.08198,.58198,0,0,.77778],"8786":[.08198,.58198,0,0,.77778],"8787":[.08198,.58198,0,0,.77778],"8790":[0,.69224,0,0,.77778],"8791":[.22958,.72958,0,0,.77778],"8796":[.08198,.91667,0,0,.77778],"8806":[.25583,.75583,0,0,.77778],"8807":[.25583,.75583,0,0,.77778],"8808":[.25142,.75726,0,0,.77778],"8809":[.25142,.75726,0,0,.77778],"8812":[.25583,.75583,0,0,.5],"8814":[.20576,.70576,0,0,.77778],"8815":[.20576,.70576,0,0,.77778],"8816":[.30274,.79383,0,0,.77778],"8817":[.30274,.79383,0,0,.77778],"8818":[.22958,.72958,0,0,.77778],"8819":[.22958,.72958,0,0,.77778],"8822":[.1808,.675,0,0,.77778],"8823":[.1808,.675,0,0,.77778],"8828":[.13667,.63667,0,0,.77778],"8829":[.13667,.63667,0,0,.77778],"8830":[.22958,.72958,0,0,.77778],"8831":[.22958,.72958,0,0,.77778],"8832":[.20576,.70576,0,0,.77778],"8833":[.20576,.70576,0,0,.77778],"8840":[.30274,.79383,0,0,.77778],"8841":[.30274,.79383,0,0,.77778],"8842":[.13597,.63597,0,0,.77778],"8843":[.13597,.63597,0,0,.77778],"8847":[.03517,.54986,0,0,.77778],"8848":[.03517,.54986,0,0,.77778],"8858":[.08198,.58198,0,0,.77778],"8859":[.08198,.58198,0,0,.77778],"8861":[.08198,.58198,0,0,.77778],"8862":[0,.675,0,0,.77778],"8863":[0,.675,0,0,.77778],"8864":[0,.675,0,0,.77778],"8865":[0,.675,0,0,.77778],"8872":[0,.69224,0,0,.61111],"8873":[0,.69224,0,0,.72222],"8874":[0,.69224,0,0,.88889],"8876":[0,.68889,0,0,.61111],"8877":[0,.68889,0,0,.61111],"8878":[0,.68889,0,0,.72222],"8879":[0,.68889,0,0,.72222],"8882":[.03517,.54986,0,0,.77778],"8883":[.03517,.54986,0,0,.77778],"8884":[.13667,.63667,0,0,.77778],"8885":[.13667,.63667,0,0,.77778],"8888":[0,.54986,0,0,1.11111],"8890":[.19444,.43056,0,0,.55556],"8891":[.19444,.69224,0,0,.61111],"8892":[.19444,.69224,0,0,.61111],"8901":[0,.54986,0,0,.27778],"8903":[.08167,.58167,0,0,.77778],"8905":[.08167,.58167,0,0,.77778],"8906":[.08167,.58167,0,0,.77778],"8907":[0,.69224,0,0,.77778],"8908":[0,.69224,0,0,.77778],"8909":[-.03598,.46402,0,0,.77778],"8910":[0,.54986,0,0,.76042],"8911":[0,.54986,0,0,.76042],"8912":[.03517,.54986,0,0,.77778],"8913":[.03517,.54986,0,0,.77778],"8914":[0,.54986,0,0,.66667],"8915":[0,.54986,0,0,.66667],"8916":[0,.69224,0,0,.66667],"8918":[.0391,.5391,0,0,.77778],"8919":[.0391,.5391,0,0,.77778],"8920":[.03517,.54986,0,0,1.33334],"8921":[.03517,.54986,0,0,1.33334],"8922":[.38569,.88569,0,0,.77778],"8923":[.38569,.88569,0,0,.77778],"8926":[.13667,.63667,0,0,.77778],"8927":[.13667,.63667,0,0,.77778],"8928":[.30274,.79383,0,0,.77778],"8929":[.30274,.79383,0,0,.77778],"8934":[.23222,.74111,0,0,.77778],"8935":[.23222,.74111,0,0,.77778],"8936":[.23222,.74111,0,0,.77778],"8937":[.23222,.74111,0,0,.77778],"8938":[.20576,.70576,0,0,.77778],"8939":[.20576,.70576,0,0,.77778],"8940":[.30274,.79383,0,0,.77778],"8941":[.30274,.79383,0,0,.77778],"8994":[.19444,.69224,0,0,.77778],"8995":[.19444,.69224,0,0,.77778],"9416":[.15559,.69224,0,0,.90222],"9484":[0,.69224,0,0,.5],"9488":[0,.69224,0,0,.5],"9492":[0,.37788,0,0,.5],"9496":[0,.37788,0,0,.5],"9585":[.19444,.68889,0,0,.88889],"9586":[.19444,.74111,0,0,.88889],"9632":[0,.675,0,0,.77778],"9633":[0,.675,0,0,.77778],"9650":[0,.54986,0,0,.72222],"9651":[0,.54986,0,0,.72222],"9654":[.03517,.54986,0,0,.77778],"9660":[0,.54986,0,0,.72222],"9661":[0,.54986,0,0,.72222],"9664":[.03517,.54986,0,0,.77778],"9674":[.11111,.69224,0,0,.66667],"9733":[.19444,.69224,0,0,.94445],"10003":[0,.69224,0,0,.83334],"10016":[0,.69224,0,0,.83334],"10731":[.11111,.69224,0,0,.66667],"10846":[.19444,.75583,0,0,.61111],"10877":[.13667,.63667,0,0,.77778],"10878":[.13667,.63667,0,0,.77778],"10885":[.25583,.75583,0,0,.77778],"10886":[.25583,.75583,0,0,.77778],"10887":[.13597,.63597,0,0,.77778],"10888":[.13597,.63597,0,0,.77778],"10889":[.26167,.75726,0,0,.77778],"10890":[.26167,.75726,0,0,.77778],"10891":[.48256,.98256,0,0,.77778],"10892":[.48256,.98256,0,0,.77778],"10901":[.13667,.63667,0,0,.77778],"10902":[.13667,.63667,0,0,.77778],"10933":[.25142,.75726,0,0,.77778],"10934":[.25142,.75726,0,0,.77778],"10935":[.26167,.75726,0,0,.77778],"10936":[.26167,.75726,0,0,.77778],"10937":[.26167,.75726,0,0,.77778],"10938":[.26167,.75726,0,0,.77778],"10949":[.25583,.75583,0,0,.77778],"10950":[.25583,.75583,0,0,.77778],"10955":[.28481,.79383,0,0,.77778],"10956":[.28481,.79383,0,0,.77778],"57350":[.08167,.58167,0,0,.22222],"57351":[.08167,.58167,0,0,.38889],"57352":[.08167,.58167,0,0,.77778],"57353":[0,.43056,.04028,0,.66667],"57356":[.25142,.75726,0,0,.77778],"57357":[.25142,.75726,0,0,.77778],"57358":[.41951,.91951,0,0,.77778],"57359":[.30274,.79383,0,0,.77778],"57360":[.30274,.79383,0,0,.77778],"57361":[.41951,.91951,0,0,.77778],"57366":[.25142,.75726,0,0,.77778],"57367":[.25142,.75726,0,0,.77778],"57368":[.25142,.75726,0,0,.77778],"57369":[.25142,.75726,0,0,.77778],"57370":[.13597,.63597,0,0,.77778],"57371":[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{"32":[0,0,0,0,.25],"65":[0,.68333,0,.19445,.79847],"66":[0,.68333,.03041,.13889,.65681],"67":[0,.68333,.05834,.13889,.52653],"68":[0,.68333,.02778,.08334,.77139],"69":[0,.68333,.08944,.11111,.52778],"70":[0,.68333,.09931,.11111,.71875],"71":[.09722,.68333,.0593,.11111,.59487],"72":[0,.68333,.00965,.11111,.84452],"73":[0,.68333,.07382,0,.54452],"74":[.09722,.68333,.18472,.16667,.67778],"75":[0,.68333,.01445,.05556,.76195],"76":[0,.68333,0,.13889,.68972],"77":[0,.68333,0,.13889,1.2009],"78":[0,.68333,.14736,.08334,.82049],"79":[0,.68333,.02778,.11111,.79611],"80":[0,.68333,.08222,.08334,.69556],"81":[.09722,.68333,0,.11111,.81667],"82":[0,.68333,0,.08334,.8475],"83":[0,.68333,.075,.13889,.60556],"84":[0,.68333,.25417,0,.54464],"85":[0,.68333,.09931,.08334,.62583],"86":[0,.68333,.08222,0,.61278],"87":[0,.68333,.08222,.08334,.98778],"88":[0,.68333,.14643,.13889,.7133],"89":[.09722,.68333,.08222,.08334,.66834],"90":[0,.68333,.07944,.13889,.72473],"160":[0,0,0,0,.25]},"Fraktur-Regular":{"32":[0,0,0,0,.25],"33":[0,.69141,0,0,.29574],"34":[0,.69141,0,0,.21471],"38":[0,.69141,0,0,.73786],"39":[0,.69141,0,0,.21201],"40":[.24982,.74947,0,0,.38865],"41":[.24982,.74947,0,0,.38865],"42":[0,.62119,0,0,.27764],"43":[.08319,.58283,0,0,.75623],"44":[0,.10803,0,0,.27764],"45":[.08319,.58283,0,0,.75623],"46":[0,.10803,0,0,.27764],"47":[.24982,.74947,0,0,.50181],"48":[0,.47534,0,0,.50181],"49":[0,.47534,0,0,.50181],"50":[0,.47534,0,0,.50181],"51":[.18906,.47534,0,0,.50181],"52":[.18906,.47534,0,0,.50181],"53":[.18906,.47534,0,0,.50181],"54":[0,.69141,0,0,.50181],"55":[.18906,.47534,0,0,.50181],"56":[0,.69141,0,0,.50181],"57":[.18906,.47534,0,0,.50181],"58":[0,.47534,0,0,.21606],"59":[.12604,.47534,0,0,.21606],"61":[-.13099,.36866,0,0,.75623],"63":[0,.69141,0,0,.36245],"65":[0,.69141,0,0,.7176],"66":[0,.69141,0,0,.88397],"67":[0,.69141,0,0,.61254],"68":[0,.69141,0,0,.83158],"69":[0,.69141,0,0,.66278],"70":[.12604,.69141,0,0,.61119],"71":[0,.69141,0,0,.78539],"72":[.06302,.69141,0,0,.7203],"73":[0,.69141,0,0,.55448],"74":[.12604,.69141,0,0,.55231],"75":[0,.69141,0,0,.66845],"76":[0,.69141,0,0,.66602],"77":[0,.69141,0,0,1.04953],"78":[0,.69141,0,0,.83212],"79":[0,.69141,0,0,.82699],"80":[.18906,.69141,0,0,.82753],"81":[.03781,.69141,0,0,.82699],"82":[0,.69141,0,0,.82807],"83":[0,.69141,0,0,.82861],"84":[0,.69141,0,0,.66899],"85":[0,.69141,0,0,.64576],"86":[0,.69141,0,0,.83131],"87":[0,.69141,0,0,1.04602],"88":[0,.69141,0,0,.71922],"89":[.18906,.69141,0,0,.83293],"90":[.12604,.69141,0,0,.60201],"91":[.24982,.74947,0,0,.27764],"93":[.24982,.74947,0,0,.27764],"94":[0,.69141,0,0,.49965],"97":[0,.47534,0,0,.50046],"98":[0,.69141,0,0,.51315],"99":[0,.47534,0,0,.38946],"100":[0,.62119,0,0,.49857],"101":[0,.47534,0,0,.40053],"102":[.18906,.69141,0,0,.32626],"103":[.18906,.47534,0,0,.5037],"104":[.18906,.69141,0,0,.52126],"105":[0,.69141,0,0,.27899],"106":[0,.69141,0,0,.28088],"107":[0,.69141,0,0,.38946],"108":[0,.69141,0,0,.27953],"109":[0,.47534,0,0,.76676],"110":[0,.47534,0,0,.52666],"111":[0,.47534,0,0,.48885],"112":[.18906,.52396,0,0,.50046],"113":[.18906,.47534,0,0,.48912],"114":[0,.47534,0,0,.38919],"115":[0,.47534,0,0,.44266],"116":[0,.62119,0,0,.33301],"117":[0,.47534,0,0,.5172],"118":[0,.52396,0,0,.5118],"119":[0,.52396,0,0,.77351],"120":[.18906,.47534,0,0,.38865],"121":[.18906,.47534,0,0,.49884],"122":[.18906,.47534,0,0,.39054],"160":[0,0,0,0,.25],"8216":[0,.69141,0,0,.21471],"8217":[0,.69141,0,0,.21471],"58112":[0,.62119,0,0,.49749],"58113":[0,.62119,0,0,.4983],"58114":[.18906,.69141,0,0,.33328],"58115":[.18906,.69141,0,0,.32923],"58116":[.18906,.47534,0,0,.50343],"58117":[0,.69141,0,0,.33301],"58118":[0,.62119,0,0,.33409],"58119":[0,.47534,0,0,.50073]},"Main-Bold":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.35],"34":[0,.69444,0,0,.60278],"35":[.19444,.69444,0,0,.95833],"36":[.05556,.75,0,0,.575],"37":[.05556,.75,0,0,.95833],"38":[0,.69444,0,0,.89444],"39":[0,.69444,0,0,.31944],"40":[.25,.75,0,0,.44722],"41":[.25,.75,0,0,.44722],"42":[0,.75,0,0,.575],"43":[.13333,.63333,0,0,.89444],"44":[.19444,.15556,0,0,.31944],"45":[0,.44444,0,0,.38333],"46":[0,.15556,0,0,.31944],"47":[.25,.75,0,0,.575],"48":[0,.64444,0,0,.575],"49":[0,.64444,0,0,.575],"50":[0,.64444,0,0,.575],"51":[0,.64444,0,0,.575],"52":[0,.64444,0,0,.575],"53":[0,.64444,0,0,.575],"54":[0,.64444,0,0,.575],"55":[0,.64444,0,0,.575],"56":[0,.64444,0,0,.575],"57":[0,.64444,0,0,.575],"58":[0,.44444,0,0,.31944],"59":[.19444,.44444,0,0,.31944],"60":[.08556,.58556,0,0,.89444],"61":[-.10889,.39111,0,0,.89444],"62":[.08556,.58556,0,0,.89444],"63":[0,.69444,0,0,.54305],"64":[0,.69444,0,0,.89444],"65":[0,.68611,0,0,.86944],"66":[0,.68611,0,0,.81805],"67":[0,.68611,0,0,.83055],"68":[0,.68611,0,0,.88194],"69":[0,.68611,0,0,.75555],"70":[0,.68611,0,0,.72361],"71":[0,.68611,0,0,.90416],"72":[0,.68611,0,0,.9],"73":[0,.68611,0,0,.43611],"74":[0,.68611,0,0,.59444],"75":[0,.68611,0,0,.90138],"76":[0,.68611,0,0,.69166],"77":[0,.68611,0,0,1.09166],"78":[0,.68611,0,0,.9],"79":[0,.68611,0,0,.86388],"80":[0,.68611,0,0,.78611],"81":[.19444,.68611,0,0,.86388],"82":[0,.68611,0,0,.8625],"83":[0,.68611,0,0,.63889],"84":[0,.68611,0,0,.8],"85":[0,.68611,0,0,.88472],"86":[0,.68611,.01597,0,.86944],"87":[0,.68611,.01597,0,1.18888],"88":[0,.68611,0,0,.86944],"89":[0,.68611,.02875,0,.86944],"90":[0,.68611,0,0,.70277],"91":[.25,.75,0,0,.31944],"92":[.25,.75,0,0,.575],"93":[.25,.75,0,0,.31944],"94":[0,.69444,0,0,.575],"95":[.31,.13444,.03194,0,.575],"97":[0,.44444,0,0,.55902],"98":[0,.69444,0,0,.63889],"99":[0,.44444,0,0,.51111],"100":[0,.69444,0,0,.63889],"101":[0,.44444,0,0,.52708],"102":[0,.69444,.10903,0,.35139],"103":[.19444,.44444,.01597,0,.575],"104":[0,.69444,0,0,.63889],"105":[0,.69444,0,0,.31944],"106":[.19444,.69444,0,0,.35139],"107":[0,.69444,0,0,.60694],"108":[0,.69444,0,0,.31944],"109":[0,.44444,0,0,.95833],"110":[0,.44444,0,0,.63889],"111":[0,.44444,0,0,.575],"112":[.19444,.44444,0,0,.63889],"113":[.19444,.44444,0,0,.60694],"114":[0,.44444,0,0,.47361],"115":[0,.44444,0,0,.45361],"116":[0,.63492,0,0,.44722],"117":[0,.44444,0,0,.63889],"118":[0,.44444,.01597,0,.60694],"119":[0,.44444,.01597,0,.83055],"120":[0,.44444,0,0,.60694],"121":[.19444,.44444,.01597,0,.60694],"122":[0,.44444,0,0,.51111],"123":[.25,.75,0,0,.575],"124":[.25,.75,0,0,.31944],"125":[.25,.75,0,0,.575],"126":[.35,.34444,0,0,.575],"160":[0,0,0,0,.25],"163":[0,.69444,0,0,.86853],"168":[0,.69444,0,0,.575],"172":[0,.44444,0,0,.76666],"176":[0,.69444,0,0,.86944],"177":[.13333,.63333,0,0,.89444],"184":[.17014,0,0,0,.51111],"198":[0,.68611,0,0,1.04166],"215":[.13333,.63333,0,0,.89444],"216":[.04861,.73472,0,0,.89444],"223":[0,.69444,0,0,.59722],"230":[0,.44444,0,0,.83055],"247":[.13333,.63333,0,0,.89444],"248":[.09722,.54167,0,0,.575],"305":[0,.44444,0,0,.31944],"338":[0,.68611,0,0,1.16944],"339":[0,.44444,0,0,.89444],"567":[.19444,.44444,0,0,.35139],"710":[0,.69444,0,0,.575],"711":[0,.63194,0,0,.575],"713":[0,.59611,0,0,.575],"714":[0,.69444,0,0,.575],"715":[0,.69444,0,0,.575],"728":[0,.69444,0,0,.575],"729":[0,.69444,0,0,.31944],"730":[0,.69444,0,0,.86944],"732":[0,.69444,0,0,.575],"733":[0,.69444,0,0,.575],"915":[0,.68611,0,0,.69166],"916":[0,.68611,0,0,.95833],"920":[0,.68611,0,0,.89444],"923":[0,.68611,0,0,.80555],"926":[0,.68611,0,0,.76666],"928":[0,.68611,0,0,.9],"931":[0,.68611,0,0,.83055],"933":[0,.68611,0,0,.89444],"934":[0,.68611,0,0,.83055],"936":[0,.68611,0,0,.89444],"937":[0,.68611,0,0,.83055],"8211":[0,.44444,.03194,0,.575],"8212":[0,.44444,.03194,0,1.14999],"8216":[0,.69444,0,0,.31944],"8217":[0,.69444,0,0,.31944],"8220":[0,.69444,0,0,.60278],"8221":[0,.69444,0,0,.60278],"8224":[.19444,.69444,0,0,.51111],"8225":[.19444,.69444,0,0,.51111],"8242":[0,.55556,0,0,.34444],"8407":[0,.72444,.15486,0,.575],"8463":[0,.69444,0,0,.66759],"8465":[0,.69444,0,0,.83055],"8467":[0,.69444,0,0,.47361],"8472":[.19444,.44444,0,0,.74027],"8476":[0,.69444,0,0,.83055],"8501":[0,.69444,0,0,.70277],"8592":[-.10889,.39111,0,0,1.14999],"8593":[.19444,.69444,0,0,.575],"8594":[-.10889,.39111,0,0,1.14999],"8595":[.19444,.69444,0,0,.575],"8596":[-.10889,.39111,0,0,1.14999],"8597":[.25,.75,0,0,.575],"8598":[.19444,.69444,0,0,1.14999],"8599":[.19444,.69444,0,0,1.14999],"8600":[.19444,.69444,0,0,1.14999],"8601":[.19444,.69444,0,0,1.14999],"8636":[-.10889,.39111,0,0,1.14999],"8637":[-.10889,.39111,0,0,1.14999],"8640":[-.10889,.39111,0,0,1.14999],"8641":[-.10889,.39111,0,0,1.14999],"8656":[-.10889,.39111,0,0,1.14999],"8657":[.19444,.69444,0,0,.70277],"8658":[-.10889,.39111,0,0,1.14999],"8659":[.19444,.69444,0,0,.70277],"8660":[-.10889,.39111,0,0,1.14999],"8661":[.25,.75,0,0,.70277],"8704":[0,.69444,0,0,.63889],"8706":[0,.69444,.06389,0,.62847],"8707":[0,.69444,0,0,.63889],"8709":[.05556,.75,0,0,.575],"8711":[0,.68611,0,0,.95833],"8712":[.08556,.58556,0,0,.76666],"8715":[.08556,.58556,0,0,.76666],"8722":[.13333,.63333,0,0,.89444],"8723":[.13333,.63333,0,0,.89444],"8725":[.25,.75,0,0,.575],"8726":[.25,.75,0,0,.575],"8727":[-.02778,.47222,0,0,.575],"8728":[-.02639,.47361,0,0,.575],"8729":[-.02639,.47361,0,0,.575],"8730":[.18,.82,0,0,.95833],"8733":[0,.44444,0,0,.89444],"8734":[0,.44444,0,0,1.14999],"8736":[0,.69224,0,0,.72222],"8739":[.25,.75,0,0,.31944],"8741":[.25,.75,0,0,.575],"8743":[0,.55556,0,0,.76666],"8744":[0,.55556,0,0,.76666],"8745":[0,.55556,0,0,.76666],"8746":[0,.55556,0,0,.76666],"8747":[.19444,.69444,.12778,0,.56875],"8764":[-.10889,.39111,0,0,.89444],"8768":[.19444,.69444,0,0,.31944],"8771":[.00222,.50222,0,0,.89444],"8773":[.027,.638,0,0,.894],"8776":[.02444,.52444,0,0,.89444],"8781":[.00222,.50222,0,0,.89444],"8801":[.00222,.50222,0,0,.89444],"8804":[.19667,.69667,0,0,.89444],"8805":[.19667,.69667,0,0,.89444],"8810":[.08556,.58556,0,0,1.14999],"8811":[.08556,.58556,0,0,1.14999],"8826":[.08556,.58556,0,0,.89444],"8827":[.08556,.58556,0,0,.89444],"8834":[.08556,.58556,0,0,.89444],"8835":[.08556,.58556,0,0,.89444],"8838":[.19667,.69667,0,0,.89444],"8839":[.19667,.69667,0,0,.89444],"8846":[0,.55556,0,0,.76666],"8849":[.19667,.69667,0,0,.89444],"8850":[.19667,.69667,0,0,.89444],"8851":[0,.55556,0,0,.76666],"8852":[0,.55556,0,0,.76666],"8853":[.13333,.63333,0,0,.89444],"8854":[.13333,.63333,0,0,.89444],"8855":[.13333,.63333,0,0,.89444],"8856":[.13333,.63333,0,0,.89444],"8857":[.13333,.63333,0,0,.89444],"8866":[0,.69444,0,0,.70277],"8867":[0,.69444,0,0,.70277],"8868":[0,.69444,0,0,.89444],"8869":[0,.69444,0,0,.89444],"8900":[-.02639,.47361,0,0,.575],"8901":[-.02639,.47361,0,0,.31944],"8902":[-.02778,.47222,0,0,.575],"8968":[.25,.75,0,0,.51111],"8969":[.25,.75,0,0,.51111],"8970":[.25,.75,0,0,.51111],"8971":[.25,.75,0,0,.51111],"8994":[-.13889,.36111,0,0,1.14999],"8995":[-.13889,.36111,0,0,1.14999],"9651":[.19444,.69444,0,0,1.02222],"9657":[-.02778,.47222,0,0,.575],"9661":[.19444,.69444,0,0,1.02222],"9667":[-.02778,.47222,0,0,.575],"9711":[.19444,.69444,0,0,1.14999],"9824":[.12963,.69444,0,0,.89444],"9825":[.12963,.69444,0,0,.89444],"9826":[.12963,.69444,0,0,.89444],"9827":[.12963,.69444,0,0,.89444],"9837":[0,.75,0,0,.44722],"9838":[.19444,.69444,0,0,.44722],"9839":[.19444,.69444,0,0,.44722],"10216":[.25,.75,0,0,.44722],"10217":[.25,.75,0,0,.44722],"10815":[0,.68611,0,0,.9],"10927":[.19667,.69667,0,0,.89444],"10928":[.19667,.69667,0,0,.89444],"57376":[.19444,.69444,0,0,0]},"Main-BoldItalic":{"32":[0,0,0,0,.25],"33":[0,.69444,.11417,0,.38611],"34":[0,.69444,.07939,0,.62055],"35":[.19444,.69444,.06833,0,.94444],"37":[.05556,.75,.12861,0,.94444],"38":[0,.69444,.08528,0,.88555],"39":[0,.69444,.12945,0,.35555],"40":[.25,.75,.15806,0,.47333],"41":[.25,.75,.03306,0,.47333],"42":[0,.75,.14333,0,.59111],"43":[.10333,.60333,.03306,0,.88555],"44":[.19444,.14722,0,0,.35555],"45":[0,.44444,.02611,0,.41444],"46":[0,.14722,0,0,.35555],"47":[.25,.75,.15806,0,.59111],"48":[0,.64444,.13167,0,.59111],"49":[0,.64444,.13167,0,.59111],"50":[0,.64444,.13167,0,.59111],"51":[0,.64444,.13167,0,.59111],"52":[.19444,.64444,.13167,0,.59111],"53":[0,.64444,.13167,0,.59111],"54":[0,.64444,.13167,0,.59111],"55":[.19444,.64444,.13167,0,.59111],"56":[0,.64444,.13167,0,.59111],"57":[0,.64444,.13167,0,.59111],"58":[0,.44444,.06695,0,.35555],"59":[.19444,.44444,.06695,0,.35555],"61":[-.10889,.39111,.06833,0,.88555],"63":[0,.69444,.11472,0,.59111],"64":[0,.69444,.09208,0,.88555],"65":[0,.68611,0,0,.86555],"66":[0,.68611,.0992,0,.81666],"67":[0,.68611,.14208,0,.82666],"68":[0,.68611,.09062,0,.87555],"69":[0,.68611,.11431,0,.75666],"70":[0,.68611,.12903,0,.72722],"71":[0,.68611,.07347,0,.89527],"72":[0,.68611,.17208,0,.8961],"73":[0,.68611,.15681,0,.47166],"74":[0,.68611,.145,0,.61055],"75":[0,.68611,.14208,0,.89499],"76":[0,.68611,0,0,.69777],"77":[0,.68611,.17208,0,1.07277],"78":[0,.68611,.17208,0,.8961],"79":[0,.68611,.09062,0,.85499],"80":[0,.68611,.0992,0,.78721],"81":[.19444,.68611,.09062,0,.85499],"82":[0,.68611,.02559,0,.85944],"83":[0,.68611,.11264,0,.64999],"84":[0,.68611,.12903,0,.7961],"85":[0,.68611,.17208,0,.88083],"86":[0,.68611,.18625,0,.86555],"87":[0,.68611,.18625,0,1.15999],"88":[0,.68611,.15681,0,.86555],"89":[0,.68611,.19803,0,.86555],"90":[0,.68611,.14208,0,.70888],"91":[.25,.75,.1875,0,.35611],"93":[.25,.75,.09972,0,.35611],"94":[0,.69444,.06709,0,.59111],"95":[.31,.13444,.09811,0,.59111],"97":[0,.44444,.09426,0,.59111],"98":[0,.69444,.07861,0,.53222],"99":[0,.44444,.05222,0,.53222],"100":[0,.69444,.10861,0,.59111],"101":[0,.44444,.085,0,.53222],"102":[.19444,.69444,.21778,0,.4],"103":[.19444,.44444,.105,0,.53222],"104":[0,.69444,.09426,0,.59111],"105":[0,.69326,.11387,0,.35555],"106":[.19444,.69326,.1672,0,.35555],"107":[0,.69444,.11111,0,.53222],"108":[0,.69444,.10861,0,.29666],"109":[0,.44444,.09426,0,.94444],"110":[0,.44444,.09426,0,.64999],"111":[0,.44444,.07861,0,.59111],"112":[.19444,.44444,.07861,0,.59111],"113":[.19444,.44444,.105,0,.53222],"114":[0,.44444,.11111,0,.50167],"115":[0,.44444,.08167,0,.48694],"116":[0,.63492,.09639,0,.385],"117":[0,.44444,.09426,0,.62055],"118":[0,.44444,.11111,0,.53222],"119":[0,.44444,.11111,0,.76777],"120":[0,.44444,.12583,0,.56055],"121":[.19444,.44444,.105,0,.56166],"122":[0,.44444,.13889,0,.49055],"126":[.35,.34444,.11472,0,.59111],"160":[0,0,0,0,.25],"168":[0,.69444,.11473,0,.59111],"176":[0,.69444,0,0,.94888],"184":[.17014,0,0,0,.53222],"198":[0,.68611,.11431,0,1.02277],"216":[.04861,.73472,.09062,0,.88555],"223":[.19444,.69444,.09736,0,.665],"230":[0,.44444,.085,0,.82666],"248":[.09722,.54167,.09458,0,.59111],"305":[0,.44444,.09426,0,.35555],"338":[0,.68611,.11431,0,1.14054],"339":[0,.44444,.085,0,.82666],"567":[.19444,.44444,.04611,0,.385],"710":[0,.69444,.06709,0,.59111],"711":[0,.63194,.08271,0,.59111],"713":[0,.59444,.10444,0,.59111],"714":[0,.69444,.08528,0,.59111],"715":[0,.69444,0,0,.59111],"728":[0,.69444,.10333,0,.59111],"729":[0,.69444,.12945,0,.35555],"730":[0,.69444,0,0,.94888],"732":[0,.69444,.11472,0,.59111],"733":[0,.69444,.11472,0,.59111],"915":[0,.68611,.12903,0,.69777],"916":[0,.68611,0,0,.94444],"920":[0,.68611,.09062,0,.88555],"923":[0,.68611,0,0,.80666],"926":[0,.68611,.15092,0,.76777],"928":[0,.68611,.17208,0,.8961],"931":[0,.68611,.11431,0,.82666],"933":[0,.68611,.10778,0,.88555],"934":[0,.68611,.05632,0,.82666],"936":[0,.68611,.10778,0,.88555],"937":[0,.68611,.0992,0,.82666],"8211":[0,.44444,.09811,0,.59111],"8212":[0,.44444,.09811,0,1.18221],"8216":[0,.69444,.12945,0,.35555],"8217":[0,.69444,.12945,0,.35555],"8220":[0,.69444,.16772,0,.62055],"8221":[0,.69444,.07939,0,.62055]},"Main-Italic":{"32":[0,0,0,0,.25],"33":[0,.69444,.12417,0,.30667],"34":[0,.69444,.06961,0,.51444],"35":[.19444,.69444,.06616,0,.81777],"37":[.05556,.75,.13639,0,.81777],"38":[0,.69444,.09694,0,.76666],"39":[0,.69444,.12417,0,.30667],"40":[.25,.75,.16194,0,.40889],"41":[.25,.75,.03694,0,.40889],"42":[0,.75,.14917,0,.51111],"43":[.05667,.56167,.03694,0,.76666],"44":[.19444,.10556,0,0,.30667],"45":[0,.43056,.02826,0,.35778],"46":[0,.10556,0,0,.30667],"47":[.25,.75,.16194,0,.51111],"48":[0,.64444,.13556,0,.51111],"49":[0,.64444,.13556,0,.51111],"50":[0,.64444,.13556,0,.51111],"51":[0,.64444,.13556,0,.51111],"52":[.19444,.64444,.13556,0,.51111],"53":[0,.64444,.13556,0,.51111],"54":[0,.64444,.13556,0,.51111],"55":[.19444,.64444,.13556,0,.51111],"56":[0,.64444,.13556,0,.51111],"57":[0,.64444,.13556,0,.51111],"58":[0,.43056,.0582,0,.30667],"59":[.19444,.43056,.0582,0,.30667],"61":[-.13313,.36687,.06616,0,.76666],"63":[0,.69444,.1225,0,.51111],"64":[0,.69444,.09597,0,.76666],"65":[0,.68333,0,0,.74333],"66":[0,.68333,.10257,0,.70389],"67":[0,.68333,.14528,0,.71555],"68":[0,.68333,.09403,0,.755],"69":[0,.68333,.12028,0,.67833],"70":[0,.68333,.13305,0,.65277],"71":[0,.68333,.08722,0,.77361],"72":[0,.68333,.16389,0,.74333],"73":[0,.68333,.15806,0,.38555],"74":[0,.68333,.14028,0,.525],"75":[0,.68333,.14528,0,.76888],"76":[0,.68333,0,0,.62722],"77":[0,.68333,.16389,0,.89666],"78":[0,.68333,.16389,0,.74333],"79":[0,.68333,.09403,0,.76666],"80":[0,.68333,.10257,0,.67833],"81":[.19444,.68333,.09403,0,.76666],"82":[0,.68333,.03868,0,.72944],"83":[0,.68333,.11972,0,.56222],"84":[0,.68333,.13305,0,.71555],"85":[0,.68333,.16389,0,.74333],"86":[0,.68333,.18361,0,.74333],"87":[0,.68333,.18361,0,.99888],"88":[0,.68333,.15806,0,.74333],"89":[0,.68333,.19383,0,.74333],"90":[0,.68333,.14528,0,.61333],"91":[.25,.75,.1875,0,.30667],"93":[.25,.75,.10528,0,.30667],"94":[0,.69444,.06646,0,.51111],"95":[.31,.12056,.09208,0,.51111],"97":[0,.43056,.07671,0,.51111],"98":[0,.69444,.06312,0,.46],"99":[0,.43056,.05653,0,.46],"100":[0,.69444,.10333,0,.51111],"101":[0,.43056,.07514,0,.46],"102":[.19444,.69444,.21194,0,.30667],"103":[.19444,.43056,.08847,0,.46],"104":[0,.69444,.07671,0,.51111],"105":[0,.65536,.1019,0,.30667],"106":[.19444,.65536,.14467,0,.30667],"107":[0,.69444,.10764,0,.46],"108":[0,.69444,.10333,0,.25555],"109":[0,.43056,.07671,0,.81777],"110":[0,.43056,.07671,0,.56222],"111":[0,.43056,.06312,0,.51111],"112":[.19444,.43056,.06312,0,.51111],"113":[.19444,.43056,.08847,0,.46],"114":[0,.43056,.10764,0,.42166],"115":[0,.43056,.08208,0,.40889],"116":[0,.61508,.09486,0,.33222],"117":[0,.43056,.07671,0,.53666],"118":[0,.43056,.10764,0,.46],"119":[0,.43056,.10764,0,.66444],"120":[0,.43056,.12042,0,.46389],"121":[.19444,.43056,.08847,0,.48555],"122":[0,.43056,.12292,0,.40889],"126":[.35,.31786,.11585,0,.51111],"160":[0,0,0,0,.25],"168":[0,.66786,.10474,0,.51111],"176":[0,.69444,0,0,.83129],"184":[.17014,0,0,0,.46],"198":[0,.68333,.12028,0,.88277],"216":[.04861,.73194,.09403,0,.76666],"223":[.19444,.69444,.10514,0,.53666],"230":[0,.43056,.07514,0,.71555],"248":[.09722,.52778,.09194,0,.51111],"338":[0,.68333,.12028,0,.98499],"339":[0,.43056,.07514,0,.71555],"710":[0,.69444,.06646,0,.51111],"711":[0,.62847,.08295,0,.51111],"713":[0,.56167,.10333,0,.51111],"714":[0,.69444,.09694,0,.51111],"715":[0,.69444,0,0,.51111],"728":[0,.69444,.10806,0,.51111],"729":[0,.66786,.11752,0,.30667],"730":[0,.69444,0,0,.83129],"732":[0,.66786,.11585,0,.51111],"733":[0,.69444,.1225,0,.51111],"915":[0,.68333,.13305,0,.62722],"916":[0,.68333,0,0,.81777],"920":[0,.68333,.09403,0,.76666],"923":[0,.68333,0,0,.69222],"926":[0,.68333,.15294,0,.66444],"928":[0,.68333,.16389,0,.74333],"931":[0,.68333,.12028,0,.71555],"933":[0,.68333,.11111,0,.76666],"934":[0,.68333,.05986,0,.71555],"936":[0,.68333,.11111,0,.76666],"937":[0,.68333,.10257,0,.71555],"8211":[0,.43056,.09208,0,.51111],"8212":[0,.43056,.09208,0,1.02222],"8216":[0,.69444,.12417,0,.30667],"8217":[0,.69444,.12417,0,.30667],"8220":[0,.69444,.1685,0,.51444],"8221":[0,.69444,.06961,0,.51444],"8463":[0,.68889,0,0,.54028]},"Main-Regular":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.27778],"34":[0,.69444,0,0,.5],"35":[.19444,.69444,0,0,.83334],"36":[.05556,.75,0,0,.5],"37":[.05556,.75,0,0,.83334],"38":[0,.69444,0,0,.77778],"39":[0,.69444,0,0,.27778],"40":[.25,.75,0,0,.38889],"41":[.25,.75,0,0,.38889],"42":[0,.75,0,0,.5],"43":[.08333,.58333,0,0,.77778],"44":[.19444,.10556,0,0,.27778],"45":[0,.43056,0,0,.33333],"46":[0,.10556,0,0,.27778],"47":[.25,.75,0,0,.5],"48":[0,.64444,0,0,.5],"49":[0,.64444,0,0,.5],"50":[0,.64444,0,0,.5],"51":[0,.64444,0,0,.5],"52":[0,.64444,0,0,.5],"53":[0,.64444,0,0,.5],"54":[0,.64444,0,0,.5],"55":[0,.64444,0,0,.5],"56":[0,.64444,0,0,.5],"57":[0,.64444,0,0,.5],"58":[0,.43056,0,0,.27778],"59":[.19444,.43056,0,0,.27778],"60":[.0391,.5391,0,0,.77778],"61":[-.13313,.36687,0,0,.77778],"62":[.0391,.5391,0,0,.77778],"63":[0,.69444,0,0,.47222],"64":[0,.69444,0,0,.77778],"65":[0,.68333,0,0,.75],"66":[0,.68333,0,0,.70834],"67":[0,.68333,0,0,.72222],"68":[0,.68333,0,0,.76389],"69":[0,.68333,0,0,.68056],"70":[0,.68333,0,0,.65278],"71":[0,.68333,0,0,.78472],"72":[0,.68333,0,0,.75],"73":[0,.68333,0,0,.36111],"74":[0,.68333,0,0,.51389],"75":[0,.68333,0,0,.77778],"76":[0,.68333,0,0,.625],"77":[0,.68333,0,0,.91667],"78":[0,.68333,0,0,.75],"79":[0,.68333,0,0,.77778],"80":[0,.68333,0,0,.68056],"81":[.19444,.68333,0,0,.77778],"82":[0,.68333,0,0,.73611],"83":[0,.68333,0,0,.55556],"84":[0,.68333,0,0,.72222],"85":[0,.68333,0,0,.75],"86":[0,.68333,.01389,0,.75],"87":[0,.68333,.01389,0,1.02778],"88":[0,.68333,0,0,.75],"89":[0,.68333,.025,0,.75],"90":[0,.68333,0,0,.61111],"91":[.25,.75,0,0,.27778],"92":[.25,.75,0,0,.5],"93":[.25,.75,0,0,.27778],"94":[0,.69444,0,0,.5],"95":[.31,.12056,.02778,0,.5],"97":[0,.43056,0,0,.5],"98":[0,.69444,0,0,.55556],"99":[0,.43056,0,0,.44445],"100":[0,.69444,0,0,.55556],"101":[0,.43056,0,0,.44445],"102":[0,.69444,.07778,0,.30556],"103":[.19444,.43056,.01389,0,.5],"104":[0,.69444,0,0,.55556],"105":[0,.66786,0,0,.27778],"106":[.19444,.66786,0,0,.30556],"107":[0,.69444,0,0,.52778],"108":[0,.69444,0,0,.27778],"109":[0,.43056,0,0,.83334],"110":[0,.43056,0,0,.55556],"111":[0,.43056,0,0,.5],"112":[.19444,.43056,0,0,.55556],"113":[.19444,.43056,0,0,.52778],"114":[0,.43056,0,0,.39167],"115":[0,.43056,0,0,.39445],"116":[0,.61508,0,0,.38889],"117":[0,.43056,0,0,.55556],"118":[0,.43056,.01389,0,.52778],"119":[0,.43056,.01389,0,.72222],"120":[0,.43056,0,0,.52778],"121":[.19444,.43056,.01389,0,.52778],"122":[0,.43056,0,0,.44445],"123":[.25,.75,0,0,.5],"124":[.25,.75,0,0,.27778],"125":[.25,.75,0,0,.5],"126":[.35,.31786,0,0,.5],"160":[0,0,0,0,.25],"163":[0,.69444,0,0,.76909],"167":[.19444,.69444,0,0,.44445],"168":[0,.66786,0,0,.5],"172":[0,.43056,0,0,.66667],"176":[0,.69444,0,0,.75],"177":[.08333,.58333,0,0,.77778],"182":[.19444,.69444,0,0,.61111],"184":[.17014,0,0,0,.44445],"198":[0,.68333,0,0,.90278],"215":[.08333,.58333,0,0,.77778],"216":[.04861,.73194,0,0,.77778],"223":[0,.69444,0,0,.5],"230":[0,.43056,0,0,.72222],"247":[.08333,.58333,0,0,.77778],"248":[.09722,.52778,0,0,.5],"305":[0,.43056,0,0,.27778],"338":[0,.68333,0,0,1.01389],"339":[0,.43056,0,0,.77778],"567":[.19444,.43056,0,0,.30556],"710":[0,.69444,0,0,.5],"711":[0,.62847,0,0,.5],"713":[0,.56778,0,0,.5],"714":[0,.69444,0,0,.5],"715":[0,.69444,0,0,.5],"728":[0,.69444,0,0,.5],"729":[0,.66786,0,0,.27778],"730":[0,.69444,0,0,.75],"732":[0,.66786,0,0,.5],"733":[0,.69444,0,0,.5],"915":[0,.68333,0,0,.625],"916":[0,.68333,0,0,.83334],"920":[0,.68333,0,0,.77778],"923":[0,.68333,0,0,.69445],"926":[0,.68333,0,0,.66667],"928":[0,.68333,0,0,.75],"931":[0,.68333,0,0,.72222],"933":[0,.68333,0,0,.77778],"934":[0,.68333,0,0,.72222],"936":[0,.68333,0,0,.77778],"937":[0,.68333,0,0,.72222],"8211":[0,.43056,.02778,0,.5],"8212":[0,.43056,.02778,0,1],"8216":[0,.69444,0,0,.27778],"8217":[0,.69444,0,0,.27778],"8220":[0,.69444,0,0,.5],"8221":[0,.69444,0,0,.5],"8224":[.19444,.69444,0,0,.44445],"8225":[.19444,.69444,0,0,.44445],"8230":[0,.123,0,0,1.172],"8242":[0,.55556,0,0,.275],"8407":[0,.71444,.15382,0,.5],"8463":[0,.68889,0,0,.54028],"8465":[0,.69444,0,0,.72222],"8467":[0,.69444,0,.11111,.41667],"8472":[.19444,.43056,0,.11111,.63646],"8476":[0,.69444,0,0,.72222],"8501":[0,.69444,0,0,.61111],"8592":[-.13313,.36687,0,0,1],"8593":[.19444,.69444,0,0,.5],"8594":[-.13313,.36687,0,0,1],"8595":[.19444,.69444,0,0,.5],"8596":[-.13313,.36687,0,0,1],"8597":[.25,.75,0,0,.5],"8598":[.19444,.69444,0,0,1],"8599":[.19444,.69444,0,0,1],"8600":[.19444,.69444,0,0,1],"8601":[.19444,.69444,0,0,1],"8614":[.011,.511,0,0,1],"8617":[.011,.511,0,0,1.126],"8618":[.011,.511,0,0,1.126],"8636":[-.13313,.36687,0,0,1],"8637":[-.13313,.36687,0,0,1],"8640":[-.13313,.36687,0,0,1],"8641":[-.13313,.36687,0,0,1],"8652":[.011,.671,0,0,1],"8656":[-.13313,.36687,0,0,1],"8657":[.19444,.69444,0,0,.61111],"8658":[-.13313,.36687,0,0,1],"8659":[.19444,.69444,0,0,.61111],"8660":[-.13313,.36687,0,0,1],"8661":[.25,.75,0,0,.61111],"8704":[0,.69444,0,0,.55556],"8706":[0,.69444,.05556,.08334,.5309],"8707":[0,.69444,0,0,.55556],"8709":[.05556,.75,0,0,.5],"8711":[0,.68333,0,0,.83334],"8712":[.0391,.5391,0,0,.66667],"8715":[.0391,.5391,0,0,.66667],"8722":[.08333,.58333,0,0,.77778],"8723":[.08333,.58333,0,0,.77778],"8725":[.25,.75,0,0,.5],"8726":[.25,.75,0,0,.5],"8727":[-.03472,.46528,0,0,.5],"8728":[-.05555,.44445,0,0,.5],"8729":[-.05555,.44445,0,0,.5],"8730":[.2,.8,0,0,.83334],"8733":[0,.43056,0,0,.77778],"8734":[0,.43056,0,0,1],"8736":[0,.69224,0,0,.72222],"8739":[.25,.75,0,0,.27778],"8741":[.25,.75,0,0,.5],"8743":[0,.55556,0,0,.66667],"8744":[0,.55556,0,0,.66667],"8745":[0,.55556,0,0,.66667],"8746":[0,.55556,0,0,.66667],"8747":[.19444,.69444,.11111,0,.41667],"8764":[-.13313,.36687,0,0,.77778],"8768":[.19444,.69444,0,0,.27778],"8771":[-.03625,.46375,0,0,.77778],"8773":[-.022,.589,0,0,.778],"8776":[-.01688,.48312,0,0,.77778],"8781":[-.03625,.46375,0,0,.77778],"8784":[-.133,.673,0,0,.778],"8801":[-.03625,.46375,0,0,.77778],"8804":[.13597,.63597,0,0,.77778],"8805":[.13597,.63597,0,0,.77778],"8810":[.0391,.5391,0,0,1],"8811":[.0391,.5391,0,0,1],"8826":[.0391,.5391,0,0,.77778],"8827":[.0391,.5391,0,0,.77778],"8834":[.0391,.5391,0,0,.77778],"8835":[.0391,.5391,0,0,.77778],"8838":[.13597,.63597,0,0,.77778],"8839":[.13597,.63597,0,0,.77778],"8846":[0,.55556,0,0,.66667],"8849":[.13597,.63597,0,0,.77778],"8850":[.13597,.63597,0,0,.77778],"8851":[0,.55556,0,0,.66667],"8852":[0,.55556,0,0,.66667],"8853":[.08333,.58333,0,0,.77778],"8854":[.08333,.58333,0,0,.77778],"8855":[.08333,.58333,0,0,.77778],"8856":[.08333,.58333,0,0,.77778],"8857":[.08333,.58333,0,0,.77778],"8866":[0,.69444,0,0,.61111],"8867":[0,.69444,0,0,.61111],"8868":[0,.69444,0,0,.77778],"8869":[0,.69444,0,0,.77778],"8872":[.249,.75,0,0,.867],"8900":[-.05555,.44445,0,0,.5],"8901":[-.05555,.44445,0,0,.27778],"8902":[-.03472,.46528,0,0,.5],"8904":[.005,.505,0,0,.9],"8942":[.03,.903,0,0,.278],"8943":[-.19,.313,0,0,1.172],"8945":[-.1,.823,0,0,1.282],"8968":[.25,.75,0,0,.44445],"8969":[.25,.75,0,0,.44445],"8970":[.25,.75,0,0,.44445],"8971":[.25,.75,0,0,.44445],"8994":[-.14236,.35764,0,0,1],"8995":[-.14236,.35764,0,0,1],"9136":[.244,.744,0,0,.412],"9137":[.244,.745,0,0,.412],"9651":[.19444,.69444,0,0,.88889],"9657":[-.03472,.46528,0,0,.5],"9661":[.19444,.69444,0,0,.88889],"9667":[-.03472,.46528,0,0,.5],"9711":[.19444,.69444,0,0,1],"9824":[.12963,.69444,0,0,.77778],"9825":[.12963,.69444,0,0,.77778],"9826":[.12963,.69444,0,0,.77778],"9827":[.12963,.69444,0,0,.77778],"9837":[0,.75,0,0,.38889],"9838":[.19444,.69444,0,0,.38889],"9839":[.19444,.69444,0,0,.38889],"10216":[.25,.75,0,0,.38889],"10217":[.25,.75,0,0,.38889],"10222":[.244,.744,0,0,.412],"10223":[.244,.745,0,0,.412],"10229":[.011,.511,0,0,1.609],"10230":[.011,.511,0,0,1.638],"10231":[.011,.511,0,0,1.859],"10232":[.024,.525,0,0,1.609],"10233":[.024,.525,0,0,1.638],"10234":[.024,.525,0,0,1.858],"10236":[.011,.511,0,0,1.638],"10815":[0,.68333,0,0,.75],"10927":[.13597,.63597,0,0,.77778],"10928":[.13597,.63597,0,0,.77778],"57376":[.19444,.69444,0,0,0]},"Math-BoldItalic":{"32":[0,0,0,0,.25],"48":[0,.44444,0,0,.575],"49":[0,.44444,0,0,.575],"50":[0,.44444,0,0,.575],"51":[.19444,.44444,0,0,.575],"52":[.19444,.44444,0,0,.575],"53":[.19444,.44444,0,0,.575],"54":[0,.64444,0,0,.575],"55":[.19444,.44444,0,0,.575],"56":[0,.64444,0,0,.575],"57":[.19444,.44444,0,0,.575],"65":[0,.68611,0,0,.86944],"66":[0,.68611,.04835,0,.8664],"67":[0,.68611,.06979,0,.81694],"68":[0,.68611,.03194,0,.93812],"69":[0,.68611,.05451,0,.81007],"70":[0,.68611,.15972,0,.68889],"71":[0,.68611,0,0,.88673],"72":[0,.68611,.08229,0,.98229],"73":[0,.68611,.07778,0,.51111],"74":[0,.68611,.10069,0,.63125],"75":[0,.68611,.06979,0,.97118],"76":[0,.68611,0,0,.75555],"77":[0,.68611,.11424,0,1.14201],"78":[0,.68611,.11424,0,.95034],"79":[0,.68611,.03194,0,.83666],"80":[0,.68611,.15972,0,.72309],"81":[.19444,.68611,0,0,.86861],"82":[0,.68611,.00421,0,.87235],"83":[0,.68611,.05382,0,.69271],"84":[0,.68611,.15972,0,.63663],"85":[0,.68611,.11424,0,.80027],"86":[0,.68611,.25555,0,.67778],"87":[0,.68611,.15972,0,1.09305],"88":[0,.68611,.07778,0,.94722],"89":[0,.68611,.25555,0,.67458],"90":[0,.68611,.06979,0,.77257],"97":[0,.44444,0,0,.63287],"98":[0,.69444,0,0,.52083],"99":[0,.44444,0,0,.51342],"100":[0,.69444,0,0,.60972],"101":[0,.44444,0,0,.55361],"102":[.19444,.69444,.11042,0,.56806],"103":[.19444,.44444,.03704,0,.5449],"104":[0,.69444,0,0,.66759],"105":[0,.69326,0,0,.4048],"106":[.19444,.69326,.0622,0,.47083],"107":[0,.69444,.01852,0,.6037],"108":[0,.69444,.0088,0,.34815],"109":[0,.44444,0,0,1.0324],"110":[0,.44444,0,0,.71296],"111":[0,.44444,0,0,.58472],"112":[.19444,.44444,0,0,.60092],"113":[.19444,.44444,.03704,0,.54213],"114":[0,.44444,.03194,0,.5287],"115":[0,.44444,0,0,.53125],"116":[0,.63492,0,0,.41528],"117":[0,.44444,0,0,.68102],"118":[0,.44444,.03704,0,.56666],"119":[0,.44444,.02778,0,.83148],"120":[0,.44444,0,0,.65903],"121":[.19444,.44444,.03704,0,.59028],"122":[0,.44444,.04213,0,.55509],"160":[0,0,0,0,.25],"915":[0,.68611,.15972,0,.65694],"916":[0,.68611,0,0,.95833],"920":[0,.68611,.03194,0,.86722],"923":[0,.68611,0,0,.80555],"926":[0,.68611,.07458,0,.84125],"928":[0,.68611,.08229,0,.98229],"931":[0,.68611,.05451,0,.88507],"933":[0,.68611,.15972,0,.67083],"934":[0,.68611,0,0,.76666],"936":[0,.68611,.11653,0,.71402],"937":[0,.68611,.04835,0,.8789],"945":[0,.44444,0,0,.76064],"946":[.19444,.69444,.03403,0,.65972],"947":[.19444,.44444,.06389,0,.59003],"948":[0,.69444,.03819,0,.52222],"949":[0,.44444,0,0,.52882],"950":[.19444,.69444,.06215,0,.50833],"951":[.19444,.44444,.03704,0,.6],"952":[0,.69444,.03194,0,.5618],"953":[0,.44444,0,0,.41204],"954":[0,.44444,0,0,.66759],"955":[0,.69444,0,0,.67083],"956":[.19444,.44444,0,0,.70787],"957":[0,.44444,.06898,0,.57685],"958":[.19444,.69444,.03021,0,.50833],"959":[0,.44444,0,0,.58472],"960":[0,.44444,.03704,0,.68241],"961":[.19444,.44444,0,0,.6118],"962":[.09722,.44444,.07917,0,.42361],"963":[0,.44444,.03704,0,.68588],"964":[0,.44444,.13472,0,.52083],"965":[0,.44444,.03704,0,.63055],"966":[.19444,.44444,0,0,.74722],"967":[.19444,.44444,0,0,.71805],"968":[.19444,.69444,.03704,0,.75833],"969":[0,.44444,.03704,0,.71782],"977":[0,.69444,0,0,.69155],"981":[.19444,.69444,0,0,.7125],"982":[0,.44444,.03194,0,.975],"1009":[.19444,.44444,0,0,.6118],"1013":[0,.44444,0,0,.48333],"57649":[0,.44444,0,0,.39352],"57911":[.19444,.44444,0,0,.43889]},"Math-Italic":{"32":[0,0,0,0,.25],"48":[0,.43056,0,0,.5],"49":[0,.43056,0,0,.5],"50":[0,.43056,0,0,.5],"51":[.19444,.43056,0,0,.5],"52":[.19444,.43056,0,0,.5],"53":[.19444,.43056,0,0,.5],"54":[0,.64444,0,0,.5],"55":[.19444,.43056,0,0,.5],"56":[0,.64444,0,0,.5],"57":[.19444,.43056,0,0,.5],"65":[0,.68333,0,.13889,.75],"66":[0,.68333,.05017,.08334,.75851],"67":[0,.68333,.07153,.08334,.71472],"68":[0,.68333,.02778,.05556,.82792],"69":[0,.68333,.05764,.08334,.7382],"70":[0,.68333,.13889,.08334,.64306],"71":[0,.68333,0,.08334,.78625],"72":[0,.68333,.08125,.05556,.83125],"73":[0,.68333,.07847,.11111,.43958],"74":[0,.68333,.09618,.16667,.55451],"75":[0,.68333,.07153,.05556,.84931],"76":[0,.68333,0,.02778,.68056],"77":[0,.68333,.10903,.08334,.97014],"78":[0,.68333,.10903,.08334,.80347],"79":[0,.68333,.02778,.08334,.76278],"80":[0,.68333,.13889,.08334,.64201],"81":[.19444,.68333,0,.08334,.79056],"82":[0,.68333,.00773,.08334,.75929],"83":[0,.68333,.05764,.08334,.6132],"84":[0,.68333,.13889,.08334,.58438],"85":[0,.68333,.10903,.02778,.68278],"86":[0,.68333,.22222,0,.58333],"87":[0,.68333,.13889,0,.94445],"88":[0,.68333,.07847,.08334,.82847],"89":[0,.68333,.22222,0,.58056],"90":[0,.68333,.07153,.08334,.68264],"97":[0,.43056,0,0,.52859],"98":[0,.69444,0,0,.42917],"99":[0,.43056,0,.05556,.43276],"100":[0,.69444,0,.16667,.52049],"101":[0,.43056,0,.05556,.46563],"102":[.19444,.69444,.10764,.16667,.48959],"103":[.19444,.43056,.03588,.02778,.47697],"104":[0,.69444,0,0,.57616],"105":[0,.65952,0,0,.34451],"106":[.19444,.65952,.05724,0,.41181],"107":[0,.69444,.03148,0,.5206],"108":[0,.69444,.01968,.08334,.29838],"109":[0,.43056,0,0,.87801],"110":[0,.43056,0,0,.60023],"111":[0,.43056,0,.05556,.48472],"112":[.19444,.43056,0,.08334,.50313],"113":[.19444,.43056,.03588,.08334,.44641],"114":[0,.43056,.02778,.05556,.45116],"115":[0,.43056,0,.05556,.46875],"116":[0,.61508,0,.08334,.36111],"117":[0,.43056,0,.02778,.57246],"118":[0,.43056,.03588,.02778,.48472],"119":[0,.43056,.02691,.08334,.71592],"120":[0,.43056,0,.02778,.57153],"121":[.19444,.43056,.03588,.05556,.49028],"122":[0,.43056,.04398,.05556,.46505],"160":[0,0,0,0,.25],"915":[0,.68333,.13889,.08334,.61528],"916":[0,.68333,0,.16667,.83334],"920":[0,.68333,.02778,.08334,.76278],"923":[0,.68333,0,.16667,.69445],"926":[0,.68333,.07569,.08334,.74236],"928":[0,.68333,.08125,.05556,.83125],"931":[0,.68333,.05764,.08334,.77986],"933":[0,.68333,.13889,.05556,.58333],"934":[0,.68333,0,.08334,.66667],"936":[0,.68333,.11,.05556,.61222],"937":[0,.68333,.05017,.08334,.7724],"945":[0,.43056,.0037,.02778,.6397],"946":[.19444,.69444,.05278,.08334,.56563],"947":[.19444,.43056,.05556,0,.51773],"948":[0,.69444,.03785,.05556,.44444],"949":[0,.43056,0,.08334,.46632],"950":[.19444,.69444,.07378,.08334,.4375],"951":[.19444,.43056,.03588,.05556,.49653],"952":[0,.69444,.02778,.08334,.46944],"953":[0,.43056,0,.05556,.35394],"954":[0,.43056,0,0,.57616],"955":[0,.69444,0,0,.58334],"956":[.19444,.43056,0,.02778,.60255],"957":[0,.43056,.06366,.02778,.49398],"958":[.19444,.69444,.04601,.11111,.4375],"959":[0,.43056,0,.05556,.48472],"960":[0,.43056,.03588,0,.57003],"961":[.19444,.43056,0,.08334,.51702],"962":[.09722,.43056,.07986,.08334,.36285],"963":[0,.43056,.03588,0,.57141],"964":[0,.43056,.1132,.02778,.43715],"965":[0,.43056,.03588,.02778,.54028],"966":[.19444,.43056,0,.08334,.65417],"967":[.19444,.43056,0,.05556,.62569],"968":[.19444,.69444,.03588,.11111,.65139],"969":[0,.43056,.03588,0,.62245],"977":[0,.69444,0,.08334,.59144],"981":[.19444,.69444,0,.08334,.59583],"982":[0,.43056,.02778,0,.82813],"1009":[.19444,.43056,0,.08334,.51702],"1013":[0,.43056,0,.05556,.4059],"57649":[0,.43056,0,.02778,.32246],"57911":[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.36667],"34":[0,.69444,0,0,.55834],"35":[.19444,.69444,0,0,.91667],"36":[.05556,.75,0,0,.55],"37":[.05556,.75,0,0,1.02912],"38":[0,.69444,0,0,.83056],"39":[0,.69444,0,0,.30556],"40":[.25,.75,0,0,.42778],"41":[.25,.75,0,0,.42778],"42":[0,.75,0,0,.55],"43":[.11667,.61667,0,0,.85556],"44":[.10556,.13056,0,0,.30556],"45":[0,.45833,0,0,.36667],"46":[0,.13056,0,0,.30556],"47":[.25,.75,0,0,.55],"48":[0,.69444,0,0,.55],"49":[0,.69444,0,0,.55],"50":[0,.69444,0,0,.55],"51":[0,.69444,0,0,.55],"52":[0,.69444,0,0,.55],"53":[0,.69444,0,0,.55],"54":[0,.69444,0,0,.55],"55":[0,.69444,0,0,.55],"56":[0,.69444,0,0,.55],"57":[0,.69444,0,0,.55],"58":[0,.45833,0,0,.30556],"59":[.10556,.45833,0,0,.30556],"61":[-.09375,.40625,0,0,.85556],"63":[0,.69444,0,0,.51945],"64":[0,.69444,0,0,.73334],"65":[0,.69444,0,0,.73334],"66":[0,.69444,0,0,.73334],"67":[0,.69444,0,0,.70278],"68":[0,.69444,0,0,.79445],"69":[0,.69444,0,0,.64167],"70":[0,.69444,0,0,.61111],"71":[0,.69444,0,0,.73334],"72":[0,.69444,0,0,.79445],"73":[0,.69444,0,0,.33056],"74":[0,.69444,0,0,.51945],"75":[0,.69444,0,0,.76389],"76":[0,.69444,0,0,.58056],"77":[0,.69444,0,0,.97778],"78":[0,.69444,0,0,.79445],"79":[0,.69444,0,0,.79445],"80":[0,.69444,0,0,.70278],"81":[.10556,.69444,0,0,.79445],"82":[0,.69444,0,0,.70278],"83":[0,.69444,0,0,.61111],"84":[0,.69444,0,0,.73334],"85":[0,.69444,0,0,.76389],"86":[0,.69444,.01528,0,.73334],"87":[0,.69444,.01528,0,1.03889],"88":[0,.69444,0,0,.73334],"89":[0,.69444,.0275,0,.73334],"90":[0,.69444,0,0,.67223],"91":[.25,.75,0,0,.34306],"93":[.25,.75,0,0,.34306],"94":[0,.69444,0,0,.55],"95":[.35,.10833,.03056,0,.55],"97":[0,.45833,0,0,.525],"98":[0,.69444,0,0,.56111],"99":[0,.45833,0,0,.48889],"100":[0,.69444,0,0,.56111],"101":[0,.45833,0,0,.51111],"102":[0,.69444,.07639,0,.33611],"103":[.19444,.45833,.01528,0,.55],"104":[0,.69444,0,0,.56111],"105":[0,.69444,0,0,.25556],"106":[.19444,.69444,0,0,.28611],"107":[0,.69444,0,0,.53056],"108":[0,.69444,0,0,.25556],"109":[0,.45833,0,0,.86667],"110":[0,.45833,0,0,.56111],"111":[0,.45833,0,0,.55],"112":[.19444,.45833,0,0,.56111],"113":[.19444,.45833,0,0,.56111],"114":[0,.45833,.01528,0,.37222],"115":[0,.45833,0,0,.42167],"116":[0,.58929,0,0,.40417],"117":[0,.45833,0,0,.56111],"118":[0,.45833,.01528,0,.5],"119":[0,.45833,.01528,0,.74445],"120":[0,.45833,0,0,.5],"121":[.19444,.45833,.01528,0,.5],"122":[0,.45833,0,0,.47639],"126":[.35,.34444,0,0,.55],"160":[0,0,0,0,.25],"168":[0,.69444,0,0,.55],"176":[0,.69444,0,0,.73334],"180":[0,.69444,0,0,.55],"184":[.17014,0,0,0,.48889],"305":[0,.45833,0,0,.25556],"567":[.19444,.45833,0,0,.28611],"710":[0,.69444,0,0,.55],"711":[0,.63542,0,0,.55],"713":[0,.63778,0,0,.55],"728":[0,.69444,0,0,.55],"729":[0,.69444,0,0,.30556],"730":[0,.69444,0,0,.73334],"732":[0,.69444,0,0,.55],"733":[0,.69444,0,0,.55],"915":[0,.69444,0,0,.58056],"916":[0,.69444,0,0,.91667],"920":[0,.69444,0,0,.85556],"923":[0,.69444,0,0,.67223],"926":[0,.69444,0,0,.73334],"928":[0,.69444,0,0,.79445],"931":[0,.69444,0,0,.79445],"933":[0,.69444,0,0,.85556],"934":[0,.69444,0,0,.79445],"936":[0,.69444,0,0,.85556],"937":[0,.69444,0,0,.79445],"8211":[0,.45833,.03056,0,.55],"8212":[0,.45833,.03056,0,1.10001],"8216":[0,.69444,0,0,.30556],"8217":[0,.69444,0,0,.30556],"8220":[0,.69444,0,0,.55834],"8221":[0,.69444,0,0,.55834]},"SansSerif-Italic":{"32":[0,0,0,0,.25],"33":[0,.69444,.05733,0,.31945],"34":[0,.69444,.00316,0,.5],"35":[.19444,.69444,.05087,0,.83334],"36":[.05556,.75,.11156,0,.5],"37":[.05556,.75,.03126,0,.83334],"38":[0,.69444,.03058,0,.75834],"39":[0,.69444,.07816,0,.27778],"40":[.25,.75,.13164,0,.38889],"41":[.25,.75,.02536,0,.38889],"42":[0,.75,.11775,0,.5],"43":[.08333,.58333,.02536,0,.77778],"44":[.125,.08333,0,0,.27778],"45":[0,.44444,.01946,0,.33333],"46":[0,.08333,0,0,.27778],"47":[.25,.75,.13164,0,.5],"48":[0,.65556,.11156,0,.5],"49":[0,.65556,.11156,0,.5],"50":[0,.65556,.11156,0,.5],"51":[0,.65556,.11156,0,.5],"52":[0,.65556,.11156,0,.5],"53":[0,.65556,.11156,0,.5],"54":[0,.65556,.11156,0,.5],"55":[0,.65556,.11156,0,.5],"56":[0,.65556,.11156,0,.5],"57":[0,.65556,.11156,0,.5],"58":[0,.44444,.02502,0,.27778],"59":[.125,.44444,.02502,0,.27778],"61":[-.13,.37,.05087,0,.77778],"63":[0,.69444,.11809,0,.47222],"64":[0,.69444,.07555,0,.66667],"65":[0,.69444,0,0,.66667],"66":[0,.69444,.08293,0,.66667],"67":[0,.69444,.11983,0,.63889],"68":[0,.69444,.07555,0,.72223],"69":[0,.69444,.11983,0,.59722],"70":[0,.69444,.13372,0,.56945],"71":[0,.69444,.11983,0,.66667],"72":[0,.69444,.08094,0,.70834],"73":[0,.69444,.13372,0,.27778],"74":[0,.69444,.08094,0,.47222],"75":[0,.69444,.11983,0,.69445],"76":[0,.69444,0,0,.54167],"77":[0,.69444,.08094,0,.875],"78":[0,.69444,.08094,0,.70834],"79":[0,.69444,.07555,0,.73611],"80":[0,.69444,.08293,0,.63889],"81":[.125,.69444,.07555,0,.73611],"82":[0,.69444,.08293,0,.64584],"83":[0,.69444,.09205,0,.55556],"84":[0,.69444,.13372,0,.68056],"85":[0,.69444,.08094,0,.6875],"86":[0,.69444,.1615,0,.66667],"87":[0,.69444,.1615,0,.94445],"88":[0,.69444,.13372,0,.66667],"89":[0,.69444,.17261,0,.66667],"90":[0,.69444,.11983,0,.61111],"91":[.25,.75,.15942,0,.28889],"93":[.25,.75,.08719,0,.28889],"94":[0,.69444,.0799,0,.5],"95":[.35,.09444,.08616,0,.5],"97":[0,.44444,.00981,0,.48056],"98":[0,.69444,.03057,0,.51667],"99":[0,.44444,.08336,0,.44445],"100":[0,.69444,.09483,0,.51667],"101":[0,.44444,.06778,0,.44445],"102":[0,.69444,.21705,0,.30556],"103":[.19444,.44444,.10836,0,.5],"104":[0,.69444,.01778,0,.51667],"105":[0,.67937,.09718,0,.23889],"106":[.19444,.67937,.09162,0,.26667],"107":[0,.69444,.08336,0,.48889],"108":[0,.69444,.09483,0,.23889],"109":[0,.44444,.01778,0,.79445],"110":[0,.44444,.01778,0,.51667],"111":[0,.44444,.06613,0,.5],"112":[.19444,.44444,.0389,0,.51667],"113":[.19444,.44444,.04169,0,.51667],"114":[0,.44444,.10836,0,.34167],"115":[0,.44444,.0778,0,.38333],"116":[0,.57143,.07225,0,.36111],"117":[0,.44444,.04169,0,.51667],"118":[0,.44444,.10836,0,.46111],"119":[0,.44444,.10836,0,.68334],"120":[0,.44444,.09169,0,.46111],"121":[.19444,.44444,.10836,0,.46111],"122":[0,.44444,.08752,0,.43472],"126":[.35,.32659,.08826,0,.5],"160":[0,0,0,0,.25],"168":[0,.67937,.06385,0,.5],"176":[0,.69444,0,0,.73752],"184":[.17014,0,0,0,.44445],"305":[0,.44444,.04169,0,.23889],"567":[.19444,.44444,.04169,0,.26667],"710":[0,.69444,.0799,0,.5],"711":[0,.63194,.08432,0,.5],"713":[0,.60889,.08776,0,.5],"714":[0,.69444,.09205,0,.5],"715":[0,.69444,0,0,.5],"728":[0,.69444,.09483,0,.5],"729":[0,.67937,.07774,0,.27778],"730":[0,.69444,0,0,.73752],"732":[0,.67659,.08826,0,.5],"733":[0,.69444,.09205,0,.5],"915":[0,.69444,.13372,0,.54167],"916":[0,.69444,0,0,.83334],"920":[0,.69444,.07555,0,.77778],"923":[0,.69444,0,0,.61111],"926":[0,.69444,.12816,0,.66667],"928":[0,.69444,.08094,0,.70834],"931":[0,.69444,.11983,0,.72222],"933":[0,.69444,.09031,0,.77778],"934":[0,.69444,.04603,0,.72222],"936":[0,.69444,.09031,0,.77778],"937":[0,.69444,.08293,0,.72222],"8211":[0,.44444,.08616,0,.5],"8212":[0,.44444,.08616,0,1],"8216":[0,.69444,.07816,0,.27778],"8217":[0,.69444,.07816,0,.27778],"8220":[0,.69444,.14205,0,.5],"8221":[0,.69444,.00316,0,.5]},"SansSerif-Regular":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.31945],"34":[0,.69444,0,0,.5],"35":[.19444,.69444,0,0,.83334],"36":[.05556,.75,0,0,.5],"37":[.05556,.75,0,0,.83334],"38":[0,.69444,0,0,.75834],"39":[0,.69444,0,0,.27778],"40":[.25,.75,0,0,.38889],"41":[.25,.75,0,0,.38889],"42":[0,.75,0,0,.5],"43":[.08333,.58333,0,0,.77778],"44":[.125,.08333,0,0,.27778],"45":[0,.44444,0,0,.33333],"46":[0,.08333,0,0,.27778],"47":[.25,.75,0,0,.5],"48":[0,.65556,0,0,.5],"49":[0,.65556,0,0,.5],"50":[0,.65556,0,0,.5],"51":[0,.65556,0,0,.5],"52":[0,.65556,0,0,.5],"53":[0,.65556,0,0,.5],"54":[0,.65556,0,0,.5],"55":[0,.65556,0,0,.5],"56":[0,.65556,0,0,.5],"57":[0,.65556,0,0,.5],"58":[0,.44444,0,0,.27778],"59":[.125,.44444,0,0,.27778],"61":[-.13,.37,0,0,.77778],"63":[0,.69444,0,0,.47222],"64":[0,.69444,0,0,.66667],"65":[0,.69444,0,0,.66667],"66":[0,.69444,0,0,.66667],"67":[0,.69444,0,0,.63889],"68":[0,.69444,0,0,.72223],"69":[0,.69444,0,0,.59722],"70":[0,.69444,0,0,.56945],"71":[0,.69444,0,0,.66667],"72":[0,.69444,0,0,.70834],"73":[0,.69444,0,0,.27778],"74":[0,.69444,0,0,.47222],"75":[0,.69444,0,0,.69445],"76":[0,.69444,0,0,.54167],"77":[0,.69444,0,0,.875],"78":[0,.69444,0,0,.70834],"79":[0,.69444,0,0,.73611],"80":[0,.69444,0,0,.63889],"81":[.125,.69444,0,0,.73611],"82":[0,.69444,0,0,.64584],"83":[0,.69444,0,0,.55556],"84":[0,.69444,0,0,.68056],"85":[0,.69444,0,0,.6875],"86":[0,.69444,.01389,0,.66667],"87":[0,.69444,.01389,0,.94445],"88":[0,.69444,0,0,.66667],"89":[0,.69444,.025,0,.66667],"90":[0,.69444,0,0,.61111],"91":[.25,.75,0,0,.28889],"93":[.25,.75,0,0,.28889],"94":[0,.69444,0,0,.5],"95":[.35,.09444,.02778,0,.5],"97":[0,.44444,0,0,.48056],"98":[0,.69444,0,0,.51667],"99":[0,.44444,0,0,.44445],"100":[0,.69444,0,0,.51667],"101":[0,.44444,0,0,.44445],"102":[0,.69444,.06944,0,.30556],"103":[.19444,.44444,.01389,0,.5],"104":[0,.69444,0,0,.51667],"105":[0,.67937,0,0,.23889],"106":[.19444,.67937,0,0,.26667],"107":[0,.69444,0,0,.48889],"108":[0,.69444,0,0,.23889],"109":[0,.44444,0,0,.79445],"110":[0,.44444,0,0,.51667],"111":[0,.44444,0,0,.5],"112":[.19444,.44444,0,0,.51667],"113":[.19444,.44444,0,0,.51667],"114":[0,.44444,.01389,0,.34167],"115":[0,.44444,0,0,.38333],"116":[0,.57143,0,0,.36111],"117":[0,.44444,0,0,.51667],"118":[0,.44444,.01389,0,.46111],"119":[0,.44444,.01389,0,.68334],"120":[0,.44444,0,0,.46111],"121":[.19444,.44444,.01389,0,.46111],"122":[0,.44444,0,0,.43472],"126":[.35,.32659,0,0,.5],"160":[0,0,0,0,.25],"168":[0,.67937,0,0,.5],"176":[0,.69444,0,0,.66667],"184":[.17014,0,0,0,.44445],"305":[0,.44444,0,0,.23889],"567":[.19444,.44444,0,0,.26667],"710":[0,.69444,0,0,.5],"711":[0,.63194,0,0,.5],"713":[0,.60889,0,0,.5],"714":[0,.69444,0,0,.5],"715":[0,.69444,0,0,.5],"728":[0,.69444,0,0,.5],"729":[0,.67937,0,0,.27778],"730":[0,.69444,0,0,.66667],"732":[0,.67659,0,0,.5],"733":[0,.69444,0,0,.5],"915":[0,.69444,0,0,.54167],"916":[0,.69444,0,0,.83334],"920":[0,.69444,0,0,.77778],"923":[0,.69444,0,0,.61111],"926":[0,.69444,0,0,.66667],"928":[0,.69444,0,0,.70834],"931":[0,.69444,0,0,.72222],"933":[0,.69444,0,0,.77778],"934":[0,.69444,0,0,.72222],"936":[0,.69444,0,0,.77778],"937":[0,.69444,0,0,.72222],"8211":[0,.44444,.02778,0,.5],"8212":[0,.44444,.02778,0,1],"8216":[0,.69444,0,0,.27778],"8217":[0,.69444,0,0,.27778],"8220":[0,.69444,0,0,.5],"8221":[0,.69444,0,0,.5]},"Script-Regular":{"32":[0,0,0,0,.25],"65":[0,.7,.22925,0,.80253],"66":[0,.7,.04087,0,.90757],"67":[0,.7,.1689,0,.66619],"68":[0,.7,.09371,0,.77443],"69":[0,.7,.18583,0,.56162],"70":[0,.7,.13634,0,.89544],"71":[0,.7,.17322,0,.60961],"72":[0,.7,.29694,0,.96919],"73":[0,.7,.19189,0,.80907],"74":[.27778,.7,.19189,0,1.05159],"75":[0,.7,.31259,0,.91364],"76":[0,.7,.19189,0,.87373],"77":[0,.7,.15981,0,1.08031],"78":[0,.7,.3525,0,.9015],"79":[0,.7,.08078,0,.73787],"80":[0,.7,.08078,0,1.01262],"81":[0,.7,.03305,0,.88282],"82":[0,.7,.06259,0,.85],"83":[0,.7,.19189,0,.86767],"84":[0,.7,.29087,0,.74697],"85":[0,.7,.25815,0,.79996],"86":[0,.7,.27523,0,.62204],"87":[0,.7,.27523,0,.80532],"88":[0,.7,.26006,0,.94445],"89":[0,.7,.2939,0,.70961],"90":[0,.7,.24037,0,.8212],"160":[0,0,0,0,.25]},"Size1-Regular":{"32":[0,0,0,0,.25],"40":[.35001,.85,0,0,.45834],"41":[.35001,.85,0,0,.45834],"47":[.35001,.85,0,0,.57778],"91":[.35001,.85,0,0,.41667],"92":[.35001,.85,0,0,.57778],"93":[.35001,.85,0,0,.41667],"123":[.35001,.85,0,0,.58334],"125":[.35001,.85,0,0,.58334],"160":[0,0,0,0,.25],"710":[0,.72222,0,0,.55556],"732":[0,.72222,0,0,.55556],"770":[0,.72222,0,0,.55556],"771":[0,.72222,0,0,.55556],"8214":[-99e-5,.601,0,0,.77778],"8593":[1e-5,.6,0,0,.66667],"8595":[1e-5,.6,0,0,.66667],"8657":[1e-5,.6,0,0,.77778],"8659":[1e-5,.6,0,0,.77778],"8719":[.25001,.75,0,0,.94445],"8720":[.25001,.75,0,0,.94445],"8721":[.25001,.75,0,0,1.05556],"8730":[.35001,.85,0,0,1],"8739":[-.00599,.606,0,0,.33333],"8741":[-.00599,.606,0,0,.55556],"8747":[.30612,.805,.19445,0,.47222],"8748":[.306,.805,.19445,0,.47222],"8749":[.306,.805,.19445,0,.47222],"8750":[.30612,.805,.19445,0,.47222],"8896":[.25001,.75,0,0,.83334],"8897":[.25001,.75,0,0,.83334],"8898":[.25001,.75,0,0,.83334],"8899":[.25001,.75,0,0,.83334],"8968":[.35001,.85,0,0,.47222],"8969":[.35001,.85,0,0,.47222],"8970":[.35001,.85,0,0,.47222],"8971":[.35001,.85,0,0,.47222],"9168":[-99e-5,.601,0,0,.66667],"10216":[.35001,.85,0,0,.47222],"10217":[.35001,.85,0,0,.47222],"10752":[.25001,.75,0,0,1.11111],"10753":[.25001,.75,0,0,1.11111],"10754":[.25001,.75,0,0,1.11111],"10756":[.25001,.75,0,0,.83334],"10758":[.25001,.75,0,0,.83334]},"Size2-Regular":{"32":[0,0,0,0,.25],"40":[.65002,1.15,0,0,.59722],"41":[.65002,1.15,0,0,.59722],"47":[.65002,1.15,0,0,.81111],"91":[.65002,1.15,0,0,.47222],"92":[.65002,1.15,0,0,.81111],"93":[.65002,1.15,0,0,.47222],"123":[.65002,1.15,0,0,.66667],"125":[.65002,1.15,0,0,.66667],"160":[0,0,0,0,.25],"710":[0,.75,0,0,1],"732":[0,.75,0,0,1],"770":[0,.75,0,0,1],"771":[0,.75,0,0,1],"8719":[.55001,1.05,0,0,1.27778],"8720":[.55001,1.05,0,0,1.27778],"8721":[.55001,1.05,0,0,1.44445],"8730":[.65002,1.15,0,0,1],"8747":[.86225,1.36,.44445,0,.55556],"8748":[.862,1.36,.44445,0,.55556],"8749":[.862,1.36,.44445,0,.55556],"8750":[.86225,1.36,.44445,0,.55556],"8896":[.55001,1.05,0,0,1.11111],"8897":[.55001,1.05,0,0,1.11111],"8898":[.55001,1.05,0,0,1.11111],"8899":[.55001,1.05,0,0,1.11111],"8968":[.65002,1.15,0,0,.52778],"8969":[.65002,1.15,0,0,.52778],"8970":[.65002,1.15,0,0,.52778],"8971":[.65002,1.15,0,0,.52778],"10216":[.65002,1.15,0,0,.61111],"10217":[.65002,1.15,0,0,.61111],"10752":[.55001,1.05,0,0,1.51112],"10753":[.55001,1.05,0,0,1.51112],"10754":[.55001,1.05,0,0,1.51112],"10756":[.55001,1.05,0,0,1.11111],"10758":[.55001,1.05,0,0,1.11111]},"Size3-Regular":{"32":[0,0,0,0,.25],"40":[.95003,1.45,0,0,.73611],"41":[.95003,1.45,0,0,.73611],"47":[.95003,1.45,0,0,1.04445],"91":[.95003,1.45,0,0,.52778],"92":[.95003,1.45,0,0,1.04445],"93":[.95003,1.45,0,0,.52778],"123":[.95003,1.45,0,0,.75],"125":[.95003,1.45,0,0,.75],"160":[0,0,0,0,.25],"710":[0,.75,0,0,1.44445],"732":[0,.75,0,0,1.44445],"770":[0,.75,0,0,1.44445],"771":[0,.75,0,0,1.44445],"8730":[.95003,1.45,0,0,1],"8968":[.95003,1.45,0,0,.58334],"8969":[.95003,1.45,0,0,.58334],"8970":[.95003,1.45,0,0,.58334],"8971":[.95003,1.45,0,0,.58334],"10216":[.95003,1.45,0,0,.75],"10217":[.95003,1.45,0,0,.75]},"Size4-Regular":{"32":[0,0,0,0,.25],"40":[1.25003,1.75,0,0,.79167],"41":[1.25003,1.75,0,0,.79167],"47":[1.25003,1.75,0,0,1.27778],"91":[1.25003,1.75,0,0,.58334],"92":[1.25003,1.75,0,0,1.27778],"93":[1.25003,1.75,0,0,.58334],"123":[1.25003,1.75,0,0,.80556],"125":[1.25003,1.75,0,0,.80556],"160":[0,0,0,0,.25],"710":[0,.825,0,0,1.8889],"732":[0,.825,0,0,1.8889],"770":[0,.825,0,0,1.8889],"771":[0,.825,0,0,1.8889],"8730":[1.25003,1.75,0,0,1],"8968":[1.25003,1.75,0,0,.63889],"8969":[1.25003,1.75,0,0,.63889],"8970":[1.25003,1.75,0,0,.63889],"8971":[1.25003,1.75,0,0,.63889],"9115":[.64502,1.155,0,0,.875],"9116":[1e-5,.6,0,0,.875],"9117":[.64502,1.155,0,0,.875],"9118":[.64502,1.155,0,0,.875],"9119":[1e-5,.6,0,0,.875],"9120":[.64502,1.155,0,0,.875],"9121":[.64502,1.155,0,0,.66667],"9122":[-99e-5,.601,0,0,.66667],"9123":[.64502,1.155,0,0,.66667],"9124":[.64502,1.155,0,0,.66667],"9125":[-99e-5,.601,0,0,.66667],"9126":[.64502,1.155,0,0,.66667],"9127":[1e-5,.9,0,0,.88889],"9128":[.65002,1.15,0,0,.88889],"9129":[.90001,0,0,0,.88889],"9130":[0,.3,0,0,.88889],"9131":[1e-5,.9,0,0,.88889],"9132":[.65002,1.15,0,0,.88889],"9133":[.90001,0,0,0,.88889],"9143":[.88502,.915,0,0,1.05556],"10216":[1.25003,1.75,0,0,.80556],"10217":[1.25003,1.75,0,0,.80556],"57344":[-.00499,.605,0,0,1.05556],"57345":[-.00499,.605,0,0,1.05556],"57680":[0,.12,0,0,.45],"57681":[0,.12,0,0,.45],"57682":[0,.12,0,0,.45],"57683":[0,.12,0,0,.45]},"Typewriter-Regular":{"32":[0,0,0,0,.525],"33":[0,.61111,0,0,.525],"34":[0,.61111,0,0,.525],"35":[0,.61111,0,0,.525],"36":[.08333,.69444,0,0,.525],"37":[.08333,.69444,0,0,.525],"38":[0,.61111,0,0,.525],"39":[0,.61111,0,0,.525],"40":[.08333,.69444,0,0,.525],"41":[.08333,.69444,0,0,.525],"42":[0,.52083,0,0,.525],"43":[-.08056,.53055,0,0,.525],"44":[.13889,.125,0,0,.525],"45":[-.08056,.53055,0,0,.525],"46":[0,.125,0,0,.525],"47":[.08333,.69444,0,0,.525],"48":[0,.61111,0,0,.525],"49":[0,.61111,0,0,.525],"50":[0,.61111,0,0,.525],"51":[0,.61111,0,0,.525],"52":[0,.61111,0,0,.525],"53":[0,.61111,0,0,.525],"54":[0,.61111,0,0,.525],"55":[0,.61111,0,0,.525],"56":[0,.61111,0,0,.525],"57":[0,.61111,0,0,.525],"58":[0,.43056,0,0,.525],"59":[.13889,.43056,0,0,.525],"60":[-.05556,.55556,0,0,.525],"61":[-.19549,.41562,0,0,.525],"62":[-.05556,.55556,0,0,.525],"63":[0,.61111,0,0,.525],"64":[0,.61111,0,0,.525],"65":[0,.61111,0,0,.525],"66":[0,.61111,0,0,.525],"67":[0,.61111,0,0,.525],"68":[0,.61111,0,0,.525],"69":[0,.61111,0,0,.525],"70":[0,.61111,0,0,.525],"71":[0,.61111,0,0,.525],"72":[0,.61111,0,0,.525],"73":[0,.61111,0,0,.525],"74":[0,.61111,0,0,.525],"75":[0,.61111,0,0,.525],"76":[0,.61111,0,0,.525],"77":[0,.61111,0,0,.525],"78":[0,.61111,0,0,.525],"79":[0,.61111,0,0,.525],"80":[0,.61111,0,0,.525],"81":[.13889,.61111,0,0,.525],"82":[0,.61111,0,0,.525],"83":[0,.61111,0,0,.525],"84":[0,.61111,0,0,.525],"85":[0,.61111,0,0,.525],"86":[0,.61111,0,0,.525],"87":[0,.61111,0,0,.525],"88":[0,.61111,0,0,.525],"89":[0,.61111,0,0,.525],"90":[0,.61111,0,0,.525],"91":[.08333,.69444,0,0,.525],"92":[.08333,.69444,0,0,.525],"93":[.08333,.69444,0,0,.525],"94":[0,.61111,0,0,.525],"95":[.09514,0,0,0,.525],"96":[0,.61111,0,0,.525],"97":[0,.43056,0,0,.525],"98":[0,.61111,0,0,.525],"99":[0,.43056,0,0,.525],"100":[0,.61111,0,0,.525],"101":[0,.43056,0,0,.525],"102":[0,.61111,0,0,.525],"103":[.22222,.43056,0,0,.525],"104":[0,.61111,0,0,.525],"105":[0,.61111,0,0,.525],"106":[.22222,.61111,0,0,.525],"107":[0,.61111,0,0,.525],"108":[0,.61111,0,0,.525],"109":[0,.43056,0,0,.525],"110":[0,.43056,0,0,.525],"111":[0,.43056,0,0,.525],"112":[.22222,.43056,0,0,.525],"113":[.22222,.43056,0,0,.525],"114":[0,.43056,0,0,.525],"115":[0,.43056,0,0,.525],"116":[0,.55358,0,0,.525],"117":[0,.43056,0,0,.525],"118":[0,.43056,0,0,.525],"119":[0,.43056,0,0,.525],"120":[0,.43056,0,0,.525],"121":[.22222,.43056,0,0,.525],"122":[0,.43056,0,0,.525],"123":[.08333,.69444,0,0,.525],"124":[.08333,.69444,0,0,.525],"125":[.08333,.69444,0,0,.525],"126":[0,.61111,0,0,.525],"127":[0,.61111,0,0,.525],"160":[0,0,0,0,.525],"176":[0,.61111,0,0,.525],"184":[.19445,0,0,0,.525],"305":[0,.43056,0,0,.525],"567":[.22222,.43056,0,0,.525],"711":[0,.56597,0,0,.525],"713":[0,.56555,0,0,.525],"714":[0,.61111,0,0,.525],"715":[0,.61111,0,0,.525],"728":[0,.61111,0,0,.525],"730":[0,.61111,0,0,.525],"770":[0,.61111,0,0,.525],"771":[0,.61111,0,0,.525],"776":[0,.61111,0,0,.525],"915":[0,.61111,0,0,.525],"916":[0,.61111,0,0,.525],"920":[0,.61111,0,0,.525],"923":[0,.61111,0,0,.525],"926":[0,.61111,0,0,.525],"928":[0,.61111,0,0,.525],"931":[0,.61111,0,0,.525],"933":[0,.61111,0,0,.525],"934":[0,.61111,0,0,.525],"936":[0,.61111,0,0,.525],"937":[0,.61111,0,0,.525],"8216":[0,.61111,0,0,.525],"8217":[0,.61111,0,0,.525],"8242":[0,.61111,0,0,.525],"9251":[.11111,.21944,0,0,.525]}},P4={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},UA={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function tne(t,e){Nl[t]=e}function B9(t,e,r){if(!Nl[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=Nl[e][n];if(!i&&t[0]in UA&&(n=UA[t[0]].charCodeAt(0),i=Nl[e][n]),!i&&r==="text"&&mj(n)&&(i=Nl[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var h5={};function rne(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!h5[e]){var r=h5[e]={cssEmPerMu:P4.quad[e]/18};for(var n in P4)P4.hasOwnProperty(n)&&(r[n]=P4[n][e])}return h5[e]}var nne=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],KA=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],WA=function(e,r){return r.size<2?e:nne[e-1][r.size-1]};class Nu{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Nu.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=KA[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new Nu(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:WA(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:KA[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=WA(Nu.BASESIZE,e);return this.size===r&&this.textSize===Nu.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Nu.BASESIZE?["sizing","reset-size"+this.size,"size"+Nu.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=rne(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Nu.BASESIZE=6;var c7={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},ine={ex:!0,em:!0,mu:!0},vj=function(e){return typeof e!="string"&&(e=e.unit),e in c7||e in ine||e==="ex"},Yn=function(e,r){var n;if(e.unit in c7)n=c7[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new lt("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},ht=function(e){return+e.toFixed(4)+"em"},T0=function(e){return e.filter(r=>r).join(" ")},gj=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},yj=function(e){var r=document.createElement(e);r.className=T0(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)r.appendChild(this.children[o].toNode());return r},bj=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+nr.escape(T0(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=nr.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+nr.escape(n)+'"');for(var o in this.attributes)this.attributes.hasOwnProperty(o)&&(r+=" "+o+'="'+nr.escape(this.attributes[o])+'"');r+=">";for(var u=0;u<this.children.length;u++)r+=this.children[u].toMarkup();return r+="</"+e+">",r};class q1{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,gj.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return nr.contains(this.classes,e)}toNode(){return yj.call(this,"span")}toMarkup(){return bj.call(this,"span")}}class H9{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,gj.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return nr.contains(this.classes,e)}toNode(){return yj.call(this,"a")}toMarkup(){return bj.call(this,"a")}}class ane{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return nr.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=nr.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+nr.escape(r)+'"'),e+="'/>",e}}var one={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"};class _s{constructor(e,r,n,i,o,u,f,d){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=o||0,this.width=u||0,this.classes=f||[],this.style=d||{},this.maxFontSize=0;var g=$re(this.text.charCodeAt(0));g&&this.classes.push(g+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=one[this.text])}hasClass(e){return nr.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=ht(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=T0(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=nr.escape(T0(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=nr.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+nr.escape(n)+'"');var o=nr.escape(this.text);return e?(r+=">",r+=o,r+="</span>",r):o}}class O0{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+"='"+this.attributes[r]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class Md{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",HA[this.pathName]),r}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+HA[this.pathName]+"'/>"}}class f7{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+"='"+this.attributes[r]+"'");return e+="/>",e}}function $A(t){if(t instanceof _s)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function sne(t){if(t instanceof q1)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var lne={bin:1,close:1,inner:1,open:1,punct:1,rel:1},une={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},En={math:{},text:{}};function B(t,e,r,n,i,o){En[t][i]={font:e,group:r,replace:n},o&&n&&(En[t][n]=En[t][i])}var U="math",tt="text",X="main",ue="ams",zn="accent-token",Tt="bin",Fa="close",vm="inner",Jt="mathord",yi="op-token",Bo="open",Bx="punct",de="rel",rc="spacing",ke="textord";B(U,X,de,"\u2261","\\equiv",!0);B(U,X,de,"\u227A","\\prec",!0);B(U,X,de,"\u227B","\\succ",!0);B(U,X,de,"\u223C","\\sim",!0);B(U,X,de,"\u22A5","\\perp");B(U,X,de,"\u2AAF","\\preceq",!0);B(U,X,de,"\u2AB0","\\succeq",!0);B(U,X,de,"\u2243","\\simeq",!0);B(U,X,de,"\u2223","\\mid",!0);B(U,X,de,"\u226A","\\ll",!0);B(U,X,de,"\u226B","\\gg",!0);B(U,X,de,"\u224D","\\asymp",!0);B(U,X,de,"\u2225","\\parallel");B(U,X,de,"\u22C8","\\bowtie",!0);B(U,X,de,"\u2323","\\smile",!0);B(U,X,de,"\u2291","\\sqsubseteq",!0);B(U,X,de,"\u2292","\\sqsupseteq",!0);B(U,X,de,"\u2250","\\doteq",!0);B(U,X,de,"\u2322","\\frown",!0);B(U,X,de,"\u220B","\\ni",!0);B(U,X,de,"\u221D","\\propto",!0);B(U,X,de,"\u22A2","\\vdash",!0);B(U,X,de,"\u22A3","\\dashv",!0);B(U,X,de,"\u220B","\\owns");B(U,X,Bx,".","\\ldotp");B(U,X,Bx,"\u22C5","\\cdotp");B(U,X,ke,"#","\\#");B(tt,X,ke,"#","\\#");B(U,X,ke,"&","\\&");B(tt,X,ke,"&","\\&");B(U,X,ke,"\u2135","\\aleph",!0);B(U,X,ke,"\u2200","\\forall",!0);B(U,X,ke,"\u210F","\\hbar",!0);B(U,X,ke,"\u2203","\\exists",!0);B(U,X,ke,"\u2207","\\nabla",!0);B(U,X,ke,"\u266D","\\flat",!0);B(U,X,ke,"\u2113","\\ell",!0);B(U,X,ke,"\u266E","\\natural",!0);B(U,X,ke,"\u2663","\\clubsuit",!0);B(U,X,ke,"\u2118","\\wp",!0);B(U,X,ke,"\u266F","\\sharp",!0);B(U,X,ke,"\u2662","\\diamondsuit",!0);B(U,X,ke,"\u211C","\\Re",!0);B(U,X,ke,"\u2661","\\heartsuit",!0);B(U,X,ke,"\u2111","\\Im",!0);B(U,X,ke,"\u2660","\\spadesuit",!0);B(U,X,ke,"\xA7","\\S",!0);B(tt,X,ke,"\xA7","\\S");B(U,X,ke,"\xB6","\\P",!0);B(tt,X,ke,"\xB6","\\P");B(U,X,ke,"\u2020","\\dag");B(tt,X,ke,"\u2020","\\dag");B(tt,X,ke,"\u2020","\\textdagger");B(U,X,ke,"\u2021","\\ddag");B(tt,X,ke,"\u2021","\\ddag");B(tt,X,ke,"\u2021","\\textdaggerdbl");B(U,X,Fa,"\u23B1","\\rmoustache",!0);B(U,X,Bo,"\u23B0","\\lmoustache",!0);B(U,X,Fa,"\u27EF","\\rgroup",!0);B(U,X,Bo,"\u27EE","\\lgroup",!0);B(U,X,Tt,"\u2213","\\mp",!0);B(U,X,Tt,"\u2296","\\ominus",!0);B(U,X,Tt,"\u228E","\\uplus",!0);B(U,X,Tt,"\u2293","\\sqcap",!0);B(U,X,Tt,"\u2217","\\ast");B(U,X,Tt,"\u2294","\\sqcup",!0);B(U,X,Tt,"\u25EF","\\bigcirc",!0);B(U,X,Tt,"\u2219","\\bullet",!0);B(U,X,Tt,"\u2021","\\ddagger");B(U,X,Tt,"\u2240","\\wr",!0);B(U,X,Tt,"\u2A3F","\\amalg");B(U,X,Tt,"&","\\And");B(U,X,de,"\u27F5","\\longleftarrow",!0);B(U,X,de,"\u21D0","\\Leftarrow",!0);B(U,X,de,"\u27F8","\\Longleftarrow",!0);B(U,X,de,"\u27F6","\\longrightarrow",!0);B(U,X,de,"\u21D2","\\Rightarrow",!0);B(U,X,de,"\u27F9","\\Longrightarrow",!0);B(U,X,de,"\u2194","\\leftrightarrow",!0);B(U,X,de,"\u27F7","\\longleftrightarrow",!0);B(U,X,de,"\u21D4","\\Leftrightarrow",!0);B(U,X,de,"\u27FA","\\Longleftrightarrow",!0);B(U,X,de,"\u21A6","\\mapsto",!0);B(U,X,de,"\u27FC","\\longmapsto",!0);B(U,X,de,"\u2197","\\nearrow",!0);B(U,X,de,"\u21A9","\\hookleftarrow",!0);B(U,X,de,"\u21AA","\\hookrightarrow",!0);B(U,X,de,"\u2198","\\searrow",!0);B(U,X,de,"\u21BC","\\leftharpoonup",!0);B(U,X,de,"\u21C0","\\rightharpoonup",!0);B(U,X,de,"\u2199","\\swarrow",!0);B(U,X,de,"\u21BD","\\leftharpoondown",!0);B(U,X,de,"\u21C1","\\rightharpoondown",!0);B(U,X,de,"\u2196","\\nwarrow",!0);B(U,X,de,"\u21CC","\\rightleftharpoons",!0);B(U,ue,de,"\u226E","\\nless",!0);B(U,ue,de,"\uE010","\\@nleqslant");B(U,ue,de,"\uE011","\\@nleqq");B(U,ue,de,"\u2A87","\\lneq",!0);B(U,ue,de,"\u2268","\\lneqq",!0);B(U,ue,de,"\uE00C","\\@lvertneqq");B(U,ue,de,"\u22E6","\\lnsim",!0);B(U,ue,de,"\u2A89","\\lnapprox",!0);B(U,ue,de,"\u2280","\\nprec",!0);B(U,ue,de,"\u22E0","\\npreceq",!0);B(U,ue,de,"\u22E8","\\precnsim",!0);B(U,ue,de,"\u2AB9","\\precnapprox",!0);B(U,ue,de,"\u2241","\\nsim",!0);B(U,ue,de,"\uE006","\\@nshortmid");B(U,ue,de,"\u2224","\\nmid",!0);B(U,ue,de,"\u22AC","\\nvdash",!0);B(U,ue,de,"\u22AD","\\nvDash",!0);B(U,ue,de,"\u22EA","\\ntriangleleft");B(U,ue,de,"\u22EC","\\ntrianglelefteq",!0);B(U,ue,de,"\u228A","\\subsetneq",!0);B(U,ue,de,"\uE01A","\\@varsubsetneq");B(U,ue,de,"\u2ACB","\\subsetneqq",!0);B(U,ue,de,"\uE017","\\@varsubsetneqq");B(U,ue,de,"\u226F","\\ngtr",!0);B(U,ue,de,"\uE00F","\\@ngeqslant");B(U,ue,de,"\uE00E","\\@ngeqq");B(U,ue,de,"\u2A88","\\gneq",!0);B(U,ue,de,"\u2269","\\gneqq",!0);B(U,ue,de,"\uE00D","\\@gvertneqq");B(U,ue,de,"\u22E7","\\gnsim",!0);B(U,ue,de,"\u2A8A","\\gnapprox",!0);B(U,ue,de,"\u2281","\\nsucc",!0);B(U,ue,de,"\u22E1","\\nsucceq",!0);B(U,ue,de,"\u22E9","\\succnsim",!0);B(U,ue,de,"\u2ABA","\\succnapprox",!0);B(U,ue,de,"\u2246","\\ncong",!0);B(U,ue,de,"\uE007","\\@nshortparallel");B(U,ue,de,"\u2226","\\nparallel",!0);B(U,ue,de,"\u22AF","\\nVDash",!0);B(U,ue,de,"\u22EB","\\ntriangleright");B(U,ue,de,"\u22ED","\\ntrianglerighteq",!0);B(U,ue,de,"\uE018","\\@nsupseteqq");B(U,ue,de,"\u228B","\\supsetneq",!0);B(U,ue,de,"\uE01B","\\@varsupsetneq");B(U,ue,de,"\u2ACC","\\supsetneqq",!0);B(U,ue,de,"\uE019","\\@varsupsetneqq");B(U,ue,de,"\u22AE","\\nVdash",!0);B(U,ue,de,"\u2AB5","\\precneqq",!0);B(U,ue,de,"\u2AB6","\\succneqq",!0);B(U,ue,de,"\uE016","\\@nsubseteqq");B(U,ue,Tt,"\u22B4","\\unlhd");B(U,ue,Tt,"\u22B5","\\unrhd");B(U,ue,de,"\u219A","\\nleftarrow",!0);B(U,ue,de,"\u219B","\\nrightarrow",!0);B(U,ue,de,"\u21CD","\\nLeftarrow",!0);B(U,ue,de,"\u21CF","\\nRightarrow",!0);B(U,ue,de,"\u21AE","\\nleftrightarrow",!0);B(U,ue,de,"\u21CE","\\nLeftrightarrow",!0);B(U,ue,de,"\u25B3","\\vartriangle");B(U,ue,ke,"\u210F","\\hslash");B(U,ue,ke,"\u25BD","\\triangledown");B(U,ue,ke,"\u25CA","\\lozenge");B(U,ue,ke,"\u24C8","\\circledS");B(U,ue,ke,"\xAE","\\circledR");B(tt,ue,ke,"\xAE","\\circledR");B(U,ue,ke,"\u2221","\\measuredangle",!0);B(U,ue,ke,"\u2204","\\nexists");B(U,ue,ke,"\u2127","\\mho");B(U,ue,ke,"\u2132","\\Finv",!0);B(U,ue,ke,"\u2141","\\Game",!0);B(U,ue,ke,"\u2035","\\backprime");B(U,ue,ke,"\u25B2","\\blacktriangle");B(U,ue,ke,"\u25BC","\\blacktriangledown");B(U,ue,ke,"\u25A0","\\blacksquare");B(U,ue,ke,"\u29EB","\\blacklozenge");B(U,ue,ke,"\u2605","\\bigstar");B(U,ue,ke,"\u2222","\\sphericalangle",!0);B(U,ue,ke,"\u2201","\\complement",!0);B(U,ue,ke,"\xF0","\\eth",!0);B(tt,X,ke,"\xF0","\xF0");B(U,ue,ke,"\u2571","\\diagup");B(U,ue,ke,"\u2572","\\diagdown");B(U,ue,ke,"\u25A1","\\square");B(U,ue,ke,"\u25A1","\\Box");B(U,ue,ke,"\u25CA","\\Diamond");B(U,ue,ke,"\xA5","\\yen",!0);B(tt,ue,ke,"\xA5","\\yen",!0);B(U,ue,ke,"\u2713","\\checkmark",!0);B(tt,ue,ke,"\u2713","\\checkmark");B(U,ue,ke,"\u2136","\\beth",!0);B(U,ue,ke,"\u2138","\\daleth",!0);B(U,ue,ke,"\u2137","\\gimel",!0);B(U,ue,ke,"\u03DD","\\digamma",!0);B(U,ue,ke,"\u03F0","\\varkappa");B(U,ue,Bo,"\u250C","\\@ulcorner",!0);B(U,ue,Fa,"\u2510","\\@urcorner",!0);B(U,ue,Bo,"\u2514","\\@llcorner",!0);B(U,ue,Fa,"\u2518","\\@lrcorner",!0);B(U,ue,de,"\u2266","\\leqq",!0);B(U,ue,de,"\u2A7D","\\leqslant",!0);B(U,ue,de,"\u2A95","\\eqslantless",!0);B(U,ue,de,"\u2272","\\lesssim",!0);B(U,ue,de,"\u2A85","\\lessapprox",!0);B(U,ue,de,"\u224A","\\approxeq",!0);B(U,ue,Tt,"\u22D6","\\lessdot");B(U,ue,de,"\u22D8","\\lll",!0);B(U,ue,de,"\u2276","\\lessgtr",!0);B(U,ue,de,"\u22DA","\\lesseqgtr",!0);B(U,ue,de,"\u2A8B","\\lesseqqgtr",!0);B(U,ue,de,"\u2251","\\doteqdot");B(U,ue,de,"\u2253","\\risingdotseq",!0);B(U,ue,de,"\u2252","\\fallingdotseq",!0);B(U,ue,de,"\u223D","\\backsim",!0);B(U,ue,de,"\u22CD","\\backsimeq",!0);B(U,ue,de,"\u2AC5","\\subseteqq",!0);B(U,ue,de,"\u22D0","\\Subset",!0);B(U,ue,de,"\u228F","\\sqsubset",!0);B(U,ue,de,"\u227C","\\preccurlyeq",!0);B(U,ue,de,"\u22DE","\\curlyeqprec",!0);B(U,ue,de,"\u227E","\\precsim",!0);B(U,ue,de,"\u2AB7","\\precapprox",!0);B(U,ue,de,"\u22B2","\\vartriangleleft");B(U,ue,de,"\u22B4","\\trianglelefteq");B(U,ue,de,"\u22A8","\\vDash",!0);B(U,ue,de,"\u22AA","\\Vvdash",!0);B(U,ue,de,"\u2323","\\smallsmile");B(U,ue,de,"\u2322","\\smallfrown");B(U,ue,de,"\u224F","\\bumpeq",!0);B(U,ue,de,"\u224E","\\Bumpeq",!0);B(U,ue,de,"\u2267","\\geqq",!0);B(U,ue,de,"\u2A7E","\\geqslant",!0);B(U,ue,de,"\u2A96","\\eqslantgtr",!0);B(U,ue,de,"\u2273","\\gtrsim",!0);B(U,ue,de,"\u2A86","\\gtrapprox",!0);B(U,ue,Tt,"\u22D7","\\gtrdot");B(U,ue,de,"\u22D9","\\ggg",!0);B(U,ue,de,"\u2277","\\gtrless",!0);B(U,ue,de,"\u22DB","\\gtreqless",!0);B(U,ue,de,"\u2A8C","\\gtreqqless",!0);B(U,ue,de,"\u2256","\\eqcirc",!0);B(U,ue,de,"\u2257","\\circeq",!0);B(U,ue,de,"\u225C","\\triangleq",!0);B(U,ue,de,"\u223C","\\thicksim");B(U,ue,de,"\u2248","\\thickapprox");B(U,ue,de,"\u2AC6","\\supseteqq",!0);B(U,ue,de,"\u22D1","\\Supset",!0);B(U,ue,de,"\u2290","\\sqsupset",!0);B(U,ue,de,"\u227D","\\succcurlyeq",!0);B(U,ue,de,"\u22DF","\\curlyeqsucc",!0);B(U,ue,de,"\u227F","\\succsim",!0);B(U,ue,de,"\u2AB8","\\succapprox",!0);B(U,ue,de,"\u22B3","\\vartriangleright");B(U,ue,de,"\u22B5","\\trianglerighteq");B(U,ue,de,"\u22A9","\\Vdash",!0);B(U,ue,de,"\u2223","\\shortmid");B(U,ue,de,"\u2225","\\shortparallel");B(U,ue,de,"\u226C","\\between",!0);B(U,ue,de,"\u22D4","\\pitchfork",!0);B(U,ue,de,"\u221D","\\varpropto");B(U,ue,de,"\u25C0","\\blacktriangleleft");B(U,ue,de,"\u2234","\\therefore",!0);B(U,ue,de,"\u220D","\\backepsilon");B(U,ue,de,"\u25B6","\\blacktriangleright");B(U,ue,de,"\u2235","\\because",!0);B(U,ue,de,"\u22D8","\\llless");B(U,ue,de,"\u22D9","\\gggtr");B(U,ue,Tt,"\u22B2","\\lhd");B(U,ue,Tt,"\u22B3","\\rhd");B(U,ue,de,"\u2242","\\eqsim",!0);B(U,X,de,"\u22C8","\\Join");B(U,ue,de,"\u2251","\\Doteq",!0);B(U,ue,Tt,"\u2214","\\dotplus",!0);B(U,ue,Tt,"\u2216","\\smallsetminus");B(U,ue,Tt,"\u22D2","\\Cap",!0);B(U,ue,Tt,"\u22D3","\\Cup",!0);B(U,ue,Tt,"\u2A5E","\\doublebarwedge",!0);B(U,ue,Tt,"\u229F","\\boxminus",!0);B(U,ue,Tt,"\u229E","\\boxplus",!0);B(U,ue,Tt,"\u22C7","\\divideontimes",!0);B(U,ue,Tt,"\u22C9","\\ltimes",!0);B(U,ue,Tt,"\u22CA","\\rtimes",!0);B(U,ue,Tt,"\u22CB","\\leftthreetimes",!0);B(U,ue,Tt,"\u22CC","\\rightthreetimes",!0);B(U,ue,Tt,"\u22CF","\\curlywedge",!0);B(U,ue,Tt,"\u22CE","\\curlyvee",!0);B(U,ue,Tt,"\u229D","\\circleddash",!0);B(U,ue,Tt,"\u229B","\\circledast",!0);B(U,ue,Tt,"\u22C5","\\centerdot");B(U,ue,Tt,"\u22BA","\\intercal",!0);B(U,ue,Tt,"\u22D2","\\doublecap");B(U,ue,Tt,"\u22D3","\\doublecup");B(U,ue,Tt,"\u22A0","\\boxtimes",!0);B(U,ue,de,"\u21E2","\\dashrightarrow",!0);B(U,ue,de,"\u21E0","\\dashleftarrow",!0);B(U,ue,de,"\u21C7","\\leftleftarrows",!0);B(U,ue,de,"\u21C6","\\leftrightarrows",!0);B(U,ue,de,"\u21DA","\\Lleftarrow",!0);B(U,ue,de,"\u219E","\\twoheadleftarrow",!0);B(U,ue,de,"\u21A2","\\leftarrowtail",!0);B(U,ue,de,"\u21AB","\\looparrowleft",!0);B(U,ue,de,"\u21CB","\\leftrightharpoons",!0);B(U,ue,de,"\u21B6","\\curvearrowleft",!0);B(U,ue,de,"\u21BA","\\circlearrowleft",!0);B(U,ue,de,"\u21B0","\\Lsh",!0);B(U,ue,de,"\u21C8","\\upuparrows",!0);B(U,ue,de,"\u21BF","\\upharpoonleft",!0);B(U,ue,de,"\u21C3","\\downharpoonleft",!0);B(U,X,de,"\u22B6","\\origof",!0);B(U,X,de,"\u22B7","\\imageof",!0);B(U,ue,de,"\u22B8","\\multimap",!0);B(U,ue,de,"\u21AD","\\leftrightsquigarrow",!0);B(U,ue,de,"\u21C9","\\rightrightarrows",!0);B(U,ue,de,"\u21C4","\\rightleftarrows",!0);B(U,ue,de,"\u21A0","\\twoheadrightarrow",!0);B(U,ue,de,"\u21A3","\\rightarrowtail",!0);B(U,ue,de,"\u21AC","\\looparrowright",!0);B(U,ue,de,"\u21B7","\\curvearrowright",!0);B(U,ue,de,"\u21BB","\\circlearrowright",!0);B(U,ue,de,"\u21B1","\\Rsh",!0);B(U,ue,de,"\u21CA","\\downdownarrows",!0);B(U,ue,de,"\u21BE","\\upharpoonright",!0);B(U,ue,de,"\u21C2","\\downharpoonright",!0);B(U,ue,de,"\u21DD","\\rightsquigarrow",!0);B(U,ue,de,"\u21DD","\\leadsto");B(U,ue,de,"\u21DB","\\Rrightarrow",!0);B(U,ue,de,"\u21BE","\\restriction");B(U,X,ke,"\u2018","`");B(U,X,ke,"$","\\$");B(tt,X,ke,"$","\\$");B(tt,X,ke,"$","\\textdollar");B(U,X,ke,"%","\\%");B(tt,X,ke,"%","\\%");B(U,X,ke,"_","\\_");B(tt,X,ke,"_","\\_");B(tt,X,ke,"_","\\textunderscore");B(U,X,ke,"\u2220","\\angle",!0);B(U,X,ke,"\u221E","\\infty",!0);B(U,X,ke,"\u2032","\\prime");B(U,X,ke,"\u25B3","\\triangle");B(U,X,ke,"\u0393","\\Gamma",!0);B(U,X,ke,"\u0394","\\Delta",!0);B(U,X,ke,"\u0398","\\Theta",!0);B(U,X,ke,"\u039B","\\Lambda",!0);B(U,X,ke,"\u039E","\\Xi",!0);B(U,X,ke,"\u03A0","\\Pi",!0);B(U,X,ke,"\u03A3","\\Sigma",!0);B(U,X,ke,"\u03A5","\\Upsilon",!0);B(U,X,ke,"\u03A6","\\Phi",!0);B(U,X,ke,"\u03A8","\\Psi",!0);B(U,X,ke,"\u03A9","\\Omega",!0);B(U,X,ke,"A","\u0391");B(U,X,ke,"B","\u0392");B(U,X,ke,"E","\u0395");B(U,X,ke,"Z","\u0396");B(U,X,ke,"H","\u0397");B(U,X,ke,"I","\u0399");B(U,X,ke,"K","\u039A");B(U,X,ke,"M","\u039C");B(U,X,ke,"N","\u039D");B(U,X,ke,"O","\u039F");B(U,X,ke,"P","\u03A1");B(U,X,ke,"T","\u03A4");B(U,X,ke,"X","\u03A7");B(U,X,ke,"\xAC","\\neg",!0);B(U,X,ke,"\xAC","\\lnot");B(U,X,ke,"\u22A4","\\top");B(U,X,ke,"\u22A5","\\bot");B(U,X,ke,"\u2205","\\emptyset");B(U,ue,ke,"\u2205","\\varnothing");B(U,X,Jt,"\u03B1","\\alpha",!0);B(U,X,Jt,"\u03B2","\\beta",!0);B(U,X,Jt,"\u03B3","\\gamma",!0);B(U,X,Jt,"\u03B4","\\delta",!0);B(U,X,Jt,"\u03F5","\\epsilon",!0);B(U,X,Jt,"\u03B6","\\zeta",!0);B(U,X,Jt,"\u03B7","\\eta",!0);B(U,X,Jt,"\u03B8","\\theta",!0);B(U,X,Jt,"\u03B9","\\iota",!0);B(U,X,Jt,"\u03BA","\\kappa",!0);B(U,X,Jt,"\u03BB","\\lambda",!0);B(U,X,Jt,"\u03BC","\\mu",!0);B(U,X,Jt,"\u03BD","\\nu",!0);B(U,X,Jt,"\u03BE","\\xi",!0);B(U,X,Jt,"\u03BF","\\omicron",!0);B(U,X,Jt,"\u03C0","\\pi",!0);B(U,X,Jt,"\u03C1","\\rho",!0);B(U,X,Jt,"\u03C3","\\sigma",!0);B(U,X,Jt,"\u03C4","\\tau",!0);B(U,X,Jt,"\u03C5","\\upsilon",!0);B(U,X,Jt,"\u03D5","\\phi",!0);B(U,X,Jt,"\u03C7","\\chi",!0);B(U,X,Jt,"\u03C8","\\psi",!0);B(U,X,Jt,"\u03C9","\\omega",!0);B(U,X,Jt,"\u03B5","\\varepsilon",!0);B(U,X,Jt,"\u03D1","\\vartheta",!0);B(U,X,Jt,"\u03D6","\\varpi",!0);B(U,X,Jt,"\u03F1","\\varrho",!0);B(U,X,Jt,"\u03C2","\\varsigma",!0);B(U,X,Jt,"\u03C6","\\varphi",!0);B(U,X,Tt,"\u2217","*",!0);B(U,X,Tt,"+","+");B(U,X,Tt,"\u2212","-",!0);B(U,X,Tt,"\u22C5","\\cdot",!0);B(U,X,Tt,"\u2218","\\circ",!0);B(U,X,Tt,"\xF7","\\div",!0);B(U,X,Tt,"\xB1","\\pm",!0);B(U,X,Tt,"\xD7","\\times",!0);B(U,X,Tt,"\u2229","\\cap",!0);B(U,X,Tt,"\u222A","\\cup",!0);B(U,X,Tt,"\u2216","\\setminus",!0);B(U,X,Tt,"\u2227","\\land");B(U,X,Tt,"\u2228","\\lor");B(U,X,Tt,"\u2227","\\wedge",!0);B(U,X,Tt,"\u2228","\\vee",!0);B(U,X,ke,"\u221A","\\surd");B(U,X,Bo,"\u27E8","\\langle",!0);B(U,X,Bo,"\u2223","\\lvert");B(U,X,Bo,"\u2225","\\lVert");B(U,X,Fa,"?","?");B(U,X,Fa,"!","!");B(U,X,Fa,"\u27E9","\\rangle",!0);B(U,X,Fa,"\u2223","\\rvert");B(U,X,Fa,"\u2225","\\rVert");B(U,X,de,"=","=");B(U,X,de,":",":");B(U,X,de,"\u2248","\\approx",!0);B(U,X,de,"\u2245","\\cong",!0);B(U,X,de,"\u2265","\\ge");B(U,X,de,"\u2265","\\geq",!0);B(U,X,de,"\u2190","\\gets");B(U,X,de,">","\\gt",!0);B(U,X,de,"\u2208","\\in",!0);B(U,X,de,"\uE020","\\@not");B(U,X,de,"\u2282","\\subset",!0);B(U,X,de,"\u2283","\\supset",!0);B(U,X,de,"\u2286","\\subseteq",!0);B(U,X,de,"\u2287","\\supseteq",!0);B(U,ue,de,"\u2288","\\nsubseteq",!0);B(U,ue,de,"\u2289","\\nsupseteq",!0);B(U,X,de,"\u22A8","\\models");B(U,X,de,"\u2190","\\leftarrow",!0);B(U,X,de,"\u2264","\\le");B(U,X,de,"\u2264","\\leq",!0);B(U,X,de,"<","\\lt",!0);B(U,X,de,"\u2192","\\rightarrow",!0);B(U,X,de,"\u2192","\\to");B(U,ue,de,"\u2271","\\ngeq",!0);B(U,ue,de,"\u2270","\\nleq",!0);B(U,X,rc,"\xA0","\\ ");B(U,X,rc,"\xA0","\\space");B(U,X,rc,"\xA0","\\nobreakspace");B(tt,X,rc,"\xA0","\\ ");B(tt,X,rc,"\xA0"," ");B(tt,X,rc,"\xA0","\\space");B(tt,X,rc,"\xA0","\\nobreakspace");B(U,X,rc,null,"\\nobreak");B(U,X,rc,null,"\\allowbreak");B(U,X,Bx,",",",");B(U,X,Bx,";",";");B(U,ue,Tt,"\u22BC","\\barwedge",!0);B(U,ue,Tt,"\u22BB","\\veebar",!0);B(U,X,Tt,"\u2299","\\odot",!0);B(U,X,Tt,"\u2295","\\oplus",!0);B(U,X,Tt,"\u2297","\\otimes",!0);B(U,X,ke,"\u2202","\\partial",!0);B(U,X,Tt,"\u2298","\\oslash",!0);B(U,ue,Tt,"\u229A","\\circledcirc",!0);B(U,ue,Tt,"\u22A1","\\boxdot",!0);B(U,X,Tt,"\u25B3","\\bigtriangleup");B(U,X,Tt,"\u25BD","\\bigtriangledown");B(U,X,Tt,"\u2020","\\dagger");B(U,X,Tt,"\u22C4","\\diamond");B(U,X,Tt,"\u22C6","\\star");B(U,X,Tt,"\u25C3","\\triangleleft");B(U,X,Tt,"\u25B9","\\triangleright");B(U,X,Bo,"{","\\{");B(tt,X,ke,"{","\\{");B(tt,X,ke,"{","\\textbraceleft");B(U,X,Fa,"}","\\}");B(tt,X,ke,"}","\\}");B(tt,X,ke,"}","\\textbraceright");B(U,X,Bo,"{","\\lbrace");B(U,X,Fa,"}","\\rbrace");B(U,X,Bo,"[","\\lbrack",!0);B(tt,X,ke,"[","\\lbrack",!0);B(U,X,Fa,"]","\\rbrack",!0);B(tt,X,ke,"]","\\rbrack",!0);B(U,X,Bo,"(","\\lparen",!0);B(U,X,Fa,")","\\rparen",!0);B(tt,X,ke,"<","\\textless",!0);B(tt,X,ke,">","\\textgreater",!0);B(U,X,Bo,"\u230A","\\lfloor",!0);B(U,X,Fa,"\u230B","\\rfloor",!0);B(U,X,Bo,"\u2308","\\lceil",!0);B(U,X,Fa,"\u2309","\\rceil",!0);B(U,X,ke,"\\","\\backslash");B(U,X,ke,"\u2223","|");B(U,X,ke,"\u2223","\\vert");B(tt,X,ke,"|","\\textbar",!0);B(U,X,ke,"\u2225","\\|");B(U,X,ke,"\u2225","\\Vert");B(tt,X,ke,"\u2225","\\textbardbl");B(tt,X,ke,"~","\\textasciitilde");B(tt,X,ke,"\\","\\textbackslash");B(tt,X,ke,"^","\\textasciicircum");B(U,X,de,"\u2191","\\uparrow",!0);B(U,X,de,"\u21D1","\\Uparrow",!0);B(U,X,de,"\u2193","\\downarrow",!0);B(U,X,de,"\u21D3","\\Downarrow",!0);B(U,X,de,"\u2195","\\updownarrow",!0);B(U,X,de,"\u21D5","\\Updownarrow",!0);B(U,X,yi,"\u2210","\\coprod");B(U,X,yi,"\u22C1","\\bigvee");B(U,X,yi,"\u22C0","\\bigwedge");B(U,X,yi,"\u2A04","\\biguplus");B(U,X,yi,"\u22C2","\\bigcap");B(U,X,yi,"\u22C3","\\bigcup");B(U,X,yi,"\u222B","\\int");B(U,X,yi,"\u222B","\\intop");B(U,X,yi,"\u222C","\\iint");B(U,X,yi,"\u222D","\\iiint");B(U,X,yi,"\u220F","\\prod");B(U,X,yi,"\u2211","\\sum");B(U,X,yi,"\u2A02","\\bigotimes");B(U,X,yi,"\u2A01","\\bigoplus");B(U,X,yi,"\u2A00","\\bigodot");B(U,X,yi,"\u222E","\\oint");B(U,X,yi,"\u222F","\\oiint");B(U,X,yi,"\u2230","\\oiiint");B(U,X,yi,"\u2A06","\\bigsqcup");B(U,X,yi,"\u222B","\\smallint");B(tt,X,vm,"\u2026","\\textellipsis");B(U,X,vm,"\u2026","\\mathellipsis");B(tt,X,vm,"\u2026","\\ldots",!0);B(U,X,vm,"\u2026","\\ldots",!0);B(U,X,vm,"\u22EF","\\@cdots",!0);B(U,X,vm,"\u22F1","\\ddots",!0);B(U,X,ke,"\u22EE","\\varvdots");B(U,X,zn,"\u02CA","\\acute");B(U,X,zn,"\u02CB","\\grave");B(U,X,zn,"\xA8","\\ddot");B(U,X,zn,"~","\\tilde");B(U,X,zn,"\u02C9","\\bar");B(U,X,zn,"\u02D8","\\breve");B(U,X,zn,"\u02C7","\\check");B(U,X,zn,"^","\\hat");B(U,X,zn,"\u20D7","\\vec");B(U,X,zn,"\u02D9","\\dot");B(U,X,zn,"\u02DA","\\mathring");B(U,X,Jt,"\uE131","\\@imath");B(U,X,Jt,"\uE237","\\@jmath");B(U,X,ke,"\u0131","\u0131");B(U,X,ke,"\u0237","\u0237");B(tt,X,ke,"\u0131","\\i",!0);B(tt,X,ke,"\u0237","\\j",!0);B(tt,X,ke,"\xDF","\\ss",!0);B(tt,X,ke,"\xE6","\\ae",!0);B(tt,X,ke,"\u0153","\\oe",!0);B(tt,X,ke,"\xF8","\\o",!0);B(tt,X,ke,"\xC6","\\AE",!0);B(tt,X,ke,"\u0152","\\OE",!0);B(tt,X,ke,"\xD8","\\O",!0);B(tt,X,zn,"\u02CA","\\'");B(tt,X,zn,"\u02CB","\\`");B(tt,X,zn,"\u02C6","\\^");B(tt,X,zn,"\u02DC","\\~");B(tt,X,zn,"\u02C9","\\=");B(tt,X,zn,"\u02D8","\\u");B(tt,X,zn,"\u02D9","\\.");B(tt,X,zn,"\xB8","\\c");B(tt,X,zn,"\u02DA","\\r");B(tt,X,zn,"\u02C7","\\v");B(tt,X,zn,"\xA8",'\\"');B(tt,X,zn,"\u02DD","\\H");B(tt,X,zn,"\u25EF","\\textcircled");var wj={"--":!0,"---":!0,"``":!0,"''":!0};B(tt,X,ke,"\u2013","--",!0);B(tt,X,ke,"\u2013","\\textendash");B(tt,X,ke,"\u2014","---",!0);B(tt,X,ke,"\u2014","\\textemdash");B(tt,X,ke,"\u2018","`",!0);B(tt,X,ke,"\u2018","\\textquoteleft");B(tt,X,ke,"\u2019","'",!0);B(tt,X,ke,"\u2019","\\textquoteright");B(tt,X,ke,"\u201C","``",!0);B(tt,X,ke,"\u201C","\\textquotedblleft");B(tt,X,ke,"\u201D","''",!0);B(tt,X,ke,"\u201D","\\textquotedblright");B(U,X,ke,"\xB0","\\degree",!0);B(tt,X,ke,"\xB0","\\degree");B(tt,X,ke,"\xB0","\\textdegree",!0);B(U,X,ke,"\xA3","\\pounds");B(U,X,ke,"\xA3","\\mathsterling",!0);B(tt,X,ke,"\xA3","\\pounds");B(tt,X,ke,"\xA3","\\textsterling",!0);B(U,ue,ke,"\u2720","\\maltese");B(tt,ue,ke,"\u2720","\\maltese");var qA='0123456789/@."';for(var p5=0;p5<qA.length;p5++){var VA=qA.charAt(p5);B(U,X,ke,VA,VA)}var GA='0123456789!@*()-=+";:?/.,';for(var m5=0;m5<GA.length;m5++){var YA=GA.charAt(m5);B(tt,X,ke,YA,YA)}var Pw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var v5=0;v5<Pw.length;v5++){var L4=Pw.charAt(v5);B(U,X,Jt,L4,L4),B(tt,X,ke,L4,L4)}B(U,ue,ke,"C","\u2102");B(tt,ue,ke,"C","\u2102");B(U,ue,ke,"H","\u210D");B(tt,ue,ke,"H","\u210D");B(U,ue,ke,"N","\u2115");B(tt,ue,ke,"N","\u2115");B(U,ue,ke,"P","\u2119");B(tt,ue,ke,"P","\u2119");B(U,ue,ke,"Q","\u211A");B(tt,ue,ke,"Q","\u211A");B(U,ue,ke,"R","\u211D");B(tt,ue,ke,"R","\u211D");B(U,ue,ke,"Z","\u2124");B(tt,ue,ke,"Z","\u2124");B(U,X,Jt,"h","\u210E");B(tt,X,Jt,"h","\u210E");var cr="";for(var Ja=0;Ja<Pw.length;Ja++){var fi=Pw.charAt(Ja);cr=String.fromCharCode(55349,56320+Ja),B(U,X,Jt,fi,cr),B(tt,X,ke,fi,cr),cr=String.fromCharCode(55349,56372+Ja),B(U,X,Jt,fi,cr),B(tt,X,ke,fi,cr),cr=String.fromCharCode(55349,56424+Ja),B(U,X,Jt,fi,cr),B(tt,X,ke,fi,cr),cr=String.fromCharCode(55349,56580+Ja),B(U,X,Jt,fi,cr),B(tt,X,ke,fi,cr),cr=String.fromCharCode(55349,56736+Ja),B(U,X,Jt,fi,cr),B(tt,X,ke,fi,cr),cr=String.fromCharCode(55349,56788+Ja),B(U,X,Jt,fi,cr),B(tt,X,ke,fi,cr),cr=String.fromCharCode(55349,56840+Ja),B(U,X,Jt,fi,cr),B(tt,X,ke,fi,cr),cr=String.fromCharCode(55349,56944+Ja),B(U,X,Jt,fi,cr),B(tt,X,ke,fi,cr),Ja<26&&(cr=String.fromCharCode(55349,56632+Ja),B(U,X,Jt,fi,cr),B(tt,X,ke,fi,cr),cr=String.fromCharCode(55349,56476+Ja),B(U,X,Jt,fi,cr),B(tt,X,ke,fi,cr))}cr=String.fromCharCode(55349,56668);B(U,X,Jt,"k",cr);B(tt,X,ke,"k",cr);for(var $f=0;$f<10;$f++){var Xc=$f.toString();cr=String.fromCharCode(55349,57294+$f),B(U,X,Jt,Xc,cr),B(tt,X,ke,Xc,cr),cr=String.fromCharCode(55349,57314+$f),B(U,X,Jt,Xc,cr),B(tt,X,ke,Xc,cr),cr=String.fromCharCode(55349,57324+$f),B(U,X,Jt,Xc,cr),B(tt,X,ke,Xc,cr),cr=String.fromCharCode(55349,57334+$f),B(U,X,Jt,Xc,cr),B(tt,X,ke,Xc,cr)}var d7="\xD0\xDE\xFE";for(var g5=0;g5<d7.length;g5++){var N4=d7.charAt(g5);B(U,X,Jt,N4,N4),B(tt,X,ke,N4,N4)}var R4=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],XA=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],cne=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),o=(n-55296)*1024+(i-56320)+65536,u=r==="math"?0:1;if(119808<=o&&o<120484){var f=Math.floor((o-119808)/26);return[R4[f][2],R4[f][u]]}else if(120782<=o&&o<=120831){var d=Math.floor((o-120782)/10);return[XA[d][2],XA[d][u]]}else{if(o===120485||o===120486)return[R4[0][2],R4[0][u]];if(120486<o&&o<120782)return["",""];throw new lt("Unsupported character: "+e)}},Hx=function(e,r,n){return En[n][e]&&En[n][e].replace&&(e=En[n][e].replace),{value:e,metrics:B9(e,r,n)}},qs=function(e,r,n,i,o){var u=Hx(e,r,n),f=u.metrics;e=u.value;var d;if(f){var g=f.italic;(n==="text"||i&&i.font==="mathit")&&(g=0),d=new _s(e,f.height,f.depth,g,f.skew,f.width,o)}else typeof console!="undefined"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),d=new _s(e,0,0,0,0,0,o);if(i){d.maxFontSize=i.sizeMultiplier,i.style.isTight()&&d.classes.push("mtight");var S=i.getColor();S&&(d.style.color=S)}return d},fne=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&Hx(e,"Main-Bold",r).metrics?qs(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||En[r][e].font==="main"?qs(e,"Main-Regular",r,n,i):qs(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},dne=function(e,r,n,i,o){return o!=="textord"&&Hx(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},hne=function(e,r,n){var i=e.mode,o=e.text,u=["mord"],f=i==="math"||i==="text"&&r.font,d=f?r.font:r.fontFamily;if(o.charCodeAt(0)===55349){var[g,S]=cne(o,i);return qs(o,g,i,r,u.concat(S))}else if(d){var y,C;if(d==="boldsymbol"){var b=dne(o,i,r,u,n);y=b.fontName,C=[b.fontClass]}else f?(y=_j[d].fontName,C=[d]):(y=j4(d,r.fontWeight,r.fontShape),C=[d,r.fontWeight,r.fontShape]);if(Hx(o,y,i).metrics)return qs(o,y,i,r,u.concat(C));if(wj.hasOwnProperty(o)&&y.substr(0,10)==="Typewriter"){for(var O=[],_=0;_<o.length;_++)O.push(qs(o[_],y,i,r,u.concat(C)));return kj(O)}}if(n==="mathord")return qs(o,"Math-Italic",i,r,u.concat(["mathnormal"]));if(n==="textord"){var N=En[i][o]&&En[i][o].font;if(N==="ams"){var P=j4("amsrm",r.fontWeight,r.fontShape);return qs(o,P,i,r,u.concat("amsrm",r.fontWeight,r.fontShape))}else if(N==="main"||!N){var M=j4("textrm",r.fontWeight,r.fontShape);return qs(o,M,i,r,u.concat(r.fontWeight,r.fontShape))}else{var R=j4(N,r.fontWeight,r.fontShape);return qs(o,R,i,r,u.concat(R,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},pne=(t,e)=>{if(T0(t.classes)!==T0(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},mne=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof _s&&n instanceof _s&&pne(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},U9=function(e){for(var r=0,n=0,i=0,o=0;o<e.children.length;o++){var u=e.children[o];u.height>r&&(r=u.height),u.depth>n&&(n=u.depth),u.maxFontSize>i&&(i=u.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},eo=function(e,r,n,i){var o=new q1(e,r,n,i);return U9(o),o},xj=(t,e,r,n)=>new q1(t,e,r,n),vne=function(e,r,n){var i=eo([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=ht(i.height),i.maxFontSize=1,i},gne=function(e,r,n,i){var o=new H9(e,r,n,i);return U9(o),o},kj=function(e){var r=new $1(e);return U9(r),r},yne=function(e,r){return e instanceof $1?eo([],[e],r):e},bne=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,o=i,u=1;u<r.length;u++){var f=-r[u].shift-o-r[u].elem.depth,d=f-(r[u-1].elem.height+r[u-1].elem.depth);o=o+f,n.push({type:"kern",size:d}),n.push(r[u])}return{children:n,depth:i}}var g;if(e.positionType==="top"){for(var S=e.positionData,y=0;y<e.children.length;y++){var C=e.children[y];S-=C.type==="kern"?C.size:C.elem.height+C.elem.depth}g=S}else if(e.positionType==="bottom")g=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")g=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")g=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:g}},wne=function(e,r){for(var{children:n,depth:i}=bne(e),o=0,u=0;u<n.length;u++){var f=n[u];if(f.type==="elem"){var d=f.elem;o=Math.max(o,d.maxFontSize,d.height)}}o+=2;var g=eo(["pstrut"],[]);g.style.height=ht(o);for(var S=[],y=i,C=i,b=i,O=0;O<n.length;O++){var _=n[O];if(_.type==="kern")b+=_.size;else{var N=_.elem,P=_.wrapperClasses||[],M=_.wrapperStyle||{},R=eo(P,[g,N],void 0,M);R.style.top=ht(-o-b-N.depth),_.marginLeft&&(R.style.marginLeft=_.marginLeft),_.marginRight&&(R.style.marginRight=_.marginRight),S.push(R),b+=N.height+N.depth}y=Math.min(y,b),C=Math.max(C,b)}var D=eo(["vlist"],S);D.style.height=ht(C);var G;if(y<0){var V=eo([],[]),J=eo(["vlist"],[V]);J.style.height=ht(-y);var te=eo(["vlist-s"],[new _s("\u200B")]);G=[eo(["vlist-r"],[D,te]),eo(["vlist-r"],[J])]}else G=[eo(["vlist-r"],[D])];var W=eo(["vlist-t"],G);return G.length===2&&W.classes.push("vlist-t2"),W.height=C,W.depth=-y,W},xne=(t,e)=>{var r=eo(["mspace"],[],e),n=Yn(t,e);return r.style.marginRight=ht(n),r},j4=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var o;return r==="textbf"&&n==="textit"?o="BoldItalic":r==="textbf"?o="Bold":r==="textit"?o="Italic":o="Regular",i+"-"+o},_j={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Sj={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},kne=function(e,r){var[n,i,o]=Sj[e],u=new Md(n),f=new O0([u],{width:ht(i),height:ht(o),style:"width:"+ht(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),d=xj(["overlay"],[f],r);return d.height=o,d.style.height=ht(o),d.style.width=ht(i),d},Ae={fontMap:_j,makeSymbol:qs,mathsym:fne,makeSpan:eo,makeSvgSpan:xj,makeLineSpan:vne,makeAnchor:gne,makeFragment:kj,wrapFragment:yne,makeVList:wne,makeOrd:hne,makeGlue:xne,staticSvg:kne,svgData:Sj,tryCombineChars:mne},Wn={number:3,unit:"mu"},qf={number:4,unit:"mu"},Iu={number:5,unit:"mu"},_ne={mord:{mop:Wn,mbin:qf,mrel:Iu,minner:Wn},mop:{mord:Wn,mop:Wn,mrel:Iu,minner:Wn},mbin:{mord:qf,mop:qf,mopen:qf,minner:qf},mrel:{mord:Iu,mop:Iu,mopen:Iu,minner:Iu},mopen:{},mclose:{mop:Wn,mbin:qf,mrel:Iu,minner:Wn},mpunct:{mord:Wn,mop:Wn,mrel:Iu,mopen:Wn,mclose:Wn,mpunct:Wn,minner:Wn},minner:{mord:Wn,mop:Wn,mbin:qf,mrel:Iu,mopen:Wn,mpunct:Wn,minner:Wn}},Sne={mord:{mop:Wn},mop:{mord:Wn,mop:Wn},mbin:{},mrel:{},mopen:{},mclose:{mop:Wn},mpunct:{},minner:{mop:Wn}},Cj={},Lw={},Nw={};function St(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:o,mathmlBuilder:u}=t,f={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},d=0;d<r.length;++d)Cj[r[d]]=f;e&&(o&&(Lw[e]=o),u&&(Nw[e]=u))}function jd(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;St({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var Rw=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},mi=function(e){return e.type==="ordgroup"?e.body:[e]},Xu=Ae.makeSpan,Cne=["leftmost","mbin","mopen","mrel","mop","mpunct"],Ene=["rightmost","mrel","mclose","mpunct"],Tne={display:Xt.DISPLAY,text:Xt.TEXT,script:Xt.SCRIPT,scriptscript:Xt.SCRIPTSCRIPT},One={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Bi=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var o=[],u=0;u<e.length;u++){var f=Ur(e[u],r);if(f instanceof $1){var d=f.children;o.push(...d)}else o.push(f)}if(Ae.tryCombineChars(o),!n)return o;var g=r;if(e.length===1){var S=e[0];S.type==="sizing"?g=r.havingSize(S.size):S.type==="styling"&&(g=r.havingStyle(Tne[S.style]))}var y=Xu([i[0]||"leftmost"],[],r),C=Xu([i[1]||"rightmost"],[],r),b=n==="root";return ZA(o,(O,_)=>{var N=_.classes[0],P=O.classes[0];N==="mbin"&&nr.contains(Ene,P)?_.classes[0]="mord":P==="mbin"&&nr.contains(Cne,N)&&(O.classes[0]="mord")},{node:y},C,b),ZA(o,(O,_)=>{var N=h7(_),P=h7(O),M=N&&P?O.hasClass("mtight")?Sne[N][P]:_ne[N][P]:null;if(M)return Ae.makeGlue(M,g)},{node:y},C,b),o},ZA=function t(e,r,n,i,o){i&&e.push(i);for(var u=0;u<e.length;u++){var f=e[u],d=Ej(f);if(d){t(d.children,r,n,null,o);continue}var g=!f.hasClass("mspace");if(g){var S=r(f,n.node);S&&(n.insertAfter?n.insertAfter(S):(e.unshift(S),u++))}g?n.node=f:o&&f.hasClass("newline")&&(n.node=Xu(["leftmost"])),n.insertAfter=(y=>C=>{e.splice(y+1,0,C),u++})(u)}i&&e.pop()},Ej=function(e){return e instanceof $1||e instanceof H9||e instanceof q1&&e.hasClass("enclosing")?e:null},Ane=function t(e,r){var n=Ej(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},h7=function(e,r){return e?(r&&(e=Ane(e,r)),One[e.classes[0]]||null):null},v1=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return Xu(r.concat(n))},Ur=function(e,r,n){if(!e)return Xu();if(Lw[e.type]){var i=Lw[e.type](e,r);if(n&&r.size!==n.size){i=Xu(r.sizingClasses(n),[i],r);var o=r.sizeMultiplier/n.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new lt("Got group of unknown type: '"+e.type+"'")};function F4(t,e){var r=Xu(["base"],t,e),n=Xu(["strut"]);return n.style.height=ht(r.height+r.depth),r.depth&&(n.style.verticalAlign=ht(-r.depth)),r.children.unshift(n),r}function p7(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=Bi(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var o=[],u=[],f=0;f<n.length;f++)if(u.push(n[f]),n[f].hasClass("mbin")||n[f].hasClass("mrel")||n[f].hasClass("allowbreak")){for(var d=!1;f<n.length-1&&n[f+1].hasClass("mspace")&&!n[f+1].hasClass("newline");)f++,u.push(n[f]),n[f].hasClass("nobreak")&&(d=!0);d||(o.push(F4(u,e)),u=[])}else n[f].hasClass("newline")&&(u.pop(),u.length>0&&(o.push(F4(u,e)),u=[]),o.push(n[f]));u.length>0&&o.push(F4(u,e));var g;r?(g=F4(Bi(r,e,!0)),g.classes=["tag"],o.push(g)):i&&o.push(i);var S=Xu(["katex-html"],o);if(S.setAttribute("aria-hidden","true"),g){var y=g.children[0];y.style.height=ht(S.height+S.depth),S.depth&&(y.style.verticalAlign=ht(-S.depth))}return S}function Tj(t){return new $1(t)}class ls{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=T0(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=nr.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+nr.escape(T0(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class kg{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return nr.escape(this.toText())}toText(){return this.text}}class Ine{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="\u200A":e>=.1666&&e<=.1667?this.character="\u2009":e>=.2222&&e<=.2223?this.character="\u2005":e>=.2777&&e<=.2778?this.character="\u2005\u200A":e>=-.05556&&e<=-.05555?this.character="\u200A\u2063":e>=-.1667&&e<=-.1666?this.character="\u2009\u2063":e>=-.2223&&e<=-.2222?this.character="\u205F\u2063":e>=-.2778&&e<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ht(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ht(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var at={MathNode:ls,TextNode:kg,SpaceNode:Ine,newDocumentFragment:Tj},Ss=function(e,r,n){return En[r][e]&&En[r][e].replace&&e.charCodeAt(0)!==55349&&!(wj.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.substr(4,2)==="tt"||n.font&&n.font.substr(4,2)==="tt"))&&(e=En[r][e].replace),new at.TextNode(e)},K9=function(e){return e.length===1?e[0]:new at.MathNode("mrow",e)},W9=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var o=e.text;if(nr.contains(["\\imath","\\jmath"],o))return null;En[i][o]&&En[i][o].replace&&(o=En[i][o].replace);var u=Ae.fontMap[n].fontName;return B9(o,u,i)?Ae.fontMap[n].variant:null},Ho=function(e,r,n){if(e.length===1){var i=xn(e[0],r);return n&&i instanceof ls&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],u,f=0;f<e.length;f++){var d=xn(e[f],r);if(d instanceof ls&&u instanceof ls){if(d.type==="mtext"&&u.type==="mtext"&&d.getAttribute("mathvariant")===u.getAttribute("mathvariant")){u.children.push(...d.children);continue}else if(d.type==="mn"&&u.type==="mn"){u.children.push(...d.children);continue}else if(d.type==="mi"&&d.children.length===1&&u.type==="mn"){var g=d.children[0];if(g instanceof kg&&g.text==="."){u.children.push(...d.children);continue}}else if(u.type==="mi"&&u.children.length===1){var S=u.children[0];if(S instanceof kg&&S.text==="\u0338"&&(d.type==="mo"||d.type==="mi"||d.type==="mn")){var y=d.children[0];y instanceof kg&&y.text.length>0&&(y.text=y.text.slice(0,1)+"\u0338"+y.text.slice(1),o.pop())}}}o.push(d),u=d}return o},A0=function(e,r,n){return K9(Ho(e,r,n))},xn=function(e,r){if(!e)return new at.MathNode("mrow");if(Nw[e.type]){var n=Nw[e.type](e,r);return n}else throw new lt("Got group of unknown type: '"+e.type+"'")};function QA(t,e,r,n,i){var o=Ho(t,r),u;o.length===1&&o[0]instanceof ls&&nr.contains(["mrow","mtable"],o[0].type)?u=o[0]:u=new at.MathNode("mrow",o);var f=new at.MathNode("annotation",[new at.TextNode(e)]);f.setAttribute("encoding","application/x-tex");var d=new at.MathNode("semantics",[u,f]),g=new at.MathNode("math",[d]);g.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&g.setAttribute("display","block");var S=i?"katex":"katex-mathml";return Ae.makeSpan([S],[g])}var Oj=function(e){return new Nu({style:e.displayMode?Xt.DISPLAY:Xt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Aj=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=Ae.makeSpan(n,[e])}return e},Mne=function(e,r,n){var i=Oj(n),o;if(n.output==="mathml")return QA(e,r,i,n.displayMode,!0);if(n.output==="html"){var u=p7(e,i);o=Ae.makeSpan(["katex"],[u])}else{var f=QA(e,r,i,n.displayMode,!1),d=p7(e,i);o=Ae.makeSpan(["katex"],[f,d])}return Aj(o,n)},Dne=function(e,r,n){var i=Oj(n),o=p7(e,i),u=Ae.makeSpan(["katex"],[o]);return Aj(u,n)},Pne={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},Lne=function(e){var r=new at.MathNode("mo",[new at.TextNode(Pne[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},Nne={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Rne=function(e){return e.type==="ordgroup"?e.body.length:1},jne=function(e,r){function n(){var f=4e5,d=e.label.substr(1);if(nr.contains(["widehat","widecheck","widetilde","utilde"],d)){var g=e,S=Rne(g.base),y,C,b;if(S>5)d==="widehat"||d==="widecheck"?(y=420,f=2364,b=.42,C=d+"4"):(y=312,f=2340,b=.34,C="tilde4");else{var O=[1,1,2,2,3,3][S];d==="widehat"||d==="widecheck"?(f=[0,1062,2364,2364,2364][O],y=[0,239,300,360,420][O],b=[0,.24,.3,.3,.36,.42][O],C=d+O):(f=[0,600,1033,2339,2340][O],y=[0,260,286,306,312][O],b=[0,.26,.286,.3,.306,.34][O],C="tilde"+O)}var _=new Md(C),N=new O0([_],{width:"100%",height:ht(b),viewBox:"0 0 "+f+" "+y,preserveAspectRatio:"none"});return{span:Ae.makeSvgSpan([],[N],r),minWidth:0,height:b}}else{var P=[],M=Nne[d],[R,D,G]=M,V=G/1e3,J=R.length,te,W;if(J===1){var ce=M[3];te=["hide-tail"],W=[ce]}else if(J===2)te=["halfarrow-left","halfarrow-right"],W=["xMinYMin","xMaxYMin"];else if(J===3)te=["brace-left","brace-center","brace-right"],W=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+J+" children.");for(var ie=0;ie<J;ie++){var le=new Md(R[ie]),pe=new O0([le],{width:"400em",height:ht(V),viewBox:"0 0 "+f+" "+G,preserveAspectRatio:W[ie]+" slice"}),he=Ae.makeSvgSpan([te[ie]],[pe],r);if(J===1)return{span:he,minWidth:D,height:V};he.style.height=ht(V),P.push(he)}return{span:Ae.makeSpan(["stretchy"],P,r),minWidth:D,height:V}}}var{span:i,minWidth:o,height:u}=n();return i.height=u,i.style.height=ht(u),o>0&&(i.style.minWidth=ht(o)),i},Fne=function(e,r,n,i,o){var u,f=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(u=Ae.makeSpan(["stretchy",r],[],o),r==="fbox"){var d=o.color&&o.getColor();d&&(u.style.borderColor=d)}}else{var g=[];/^[bx]cancel$/.test(r)&&g.push(new f7({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&g.push(new f7({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var S=new O0(g,{width:"100%",height:ht(f)});u=Ae.makeSvgSpan([],[S],o)}return u.height=f,u.style.height=ht(f),u},Zu={encloseSpan:Fne,mathMLnode:Lne,svgSpan:jne};function _r(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function $9(t){var e=Ux(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Ux(t){return t&&(t.type==="atom"||une.hasOwnProperty(t.type))?t:null}var q9=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=_r(t.base,"accent"),r=n.base,t.base=r,i=sne(Ur(t,e)),t.base=n):(n=_r(t,"accent"),r=n.base);var o=Ur(r,e.havingCrampedStyle()),u=n.isShifty&&nr.isCharacterBox(r),f=0;if(u){var d=nr.getBaseElem(r),g=Ur(d,e.havingCrampedStyle());f=$A(g).skew}var S=n.label==="\\c",y=S?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),C;if(n.isStretchy)C=Zu.svgSpan(n,e),C=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:C,wrapperClasses:["svg-align"],wrapperStyle:f>0?{width:"calc(100% - "+ht(2*f)+")",marginLeft:ht(2*f)}:void 0}]},e);else{var b,O;n.label==="\\vec"?(b=Ae.staticSvg("vec",e),O=Ae.svgData.vec[1]):(b=Ae.makeOrd({mode:n.mode,text:n.label},e,"textord"),b=$A(b),b.italic=0,O=b.width,S&&(y+=b.depth)),C=Ae.makeSpan(["accent-body"],[b]);var _=n.label==="\\textcircled";_&&(C.classes.push("accent-full"),y=o.height);var N=f;_||(N-=O/2),C.style.left=ht(N),n.label==="\\textcircled"&&(C.style.top=".2em"),C=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-y},{type:"elem",elem:C}]},e)}var P=Ae.makeSpan(["mord","accent"],[C],e);return i?(i.children[0]=P,i.height=Math.max(P.height,i.height),i.classes[0]="mord",i):P},Ij=(t,e)=>{var r=t.isStretchy?Zu.mathMLnode(t.label):new at.MathNode("mo",[Ss(t.label,t.mode)]),n=new at.MathNode("mover",[xn(t.base,e),r]);return n.setAttribute("accent","true"),n},zne=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));St({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=Rw(e[0]),n=!zne.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:q9,mathmlBuilder:Ij});St({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:q9,mathmlBuilder:Ij});St({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=Ur(t.base,e),n=Zu.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,o=Ae.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return Ae.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var r=Zu.mathMLnode(t.label),n=new at.MathNode("munder",[xn(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var z4=t=>{var e=new at.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};St({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=Ae.wrapFragment(Ur(t.body,n,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var u;t.below&&(n=e.havingStyle(r.sub()),u=Ae.wrapFragment(Ur(t.below,n,e),e),u.classes.push(o+"-arrow-pad"));var f=Zu.svgSpan(t,e),d=-e.fontMetrics().axisHeight+.5*f.height,g=-e.fontMetrics().axisHeight-.5*f.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(g-=i.depth);var S;if(u){var y=-e.fontMetrics().axisHeight+u.height+.5*f.height+.111;S=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:g},{type:"elem",elem:f,shift:d},{type:"elem",elem:u,shift:y}]},e)}else S=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:g},{type:"elem",elem:f,shift:d}]},e);return S.children[0].children[0].children[1].classes.push("svg-align"),Ae.makeSpan(["mrel","x-arrow"],[S],e)},mathmlBuilder(t,e){var r=Zu.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=z4(xn(t.body,e));if(t.below){var o=z4(xn(t.below,e));n=new at.MathNode("munderover",[r,o,i])}else n=new at.MathNode("mover",[r,i])}else if(t.below){var u=z4(xn(t.below,e));n=new at.MathNode("munder",[r,u])}else n=z4(),n=new at.MathNode("mover",[r,n]);return n}});var Bne={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},JA=()=>({type:"styling",body:[],mode:"math",style:"display"}),eI=t=>t.type==="textord"&&t.text==="@",Hne=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function Une(t,e,r){var n=Bne[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:n,mode:"math",family:"rel"},u=r.callFunction("\\Big",[o],[]),f=r.callFunction("\\\\cdright",[e[1]],[]),d={type:"ordgroup",mode:"math",body:[i,u,f]};return r.callFunction("\\\\cdparent",[d],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var g={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[g],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Kne(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new lt("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],o=0;o<e.length;o++){for(var u=e[o],f=JA(),d=0;d<u.length;d++)if(!eI(u[d]))f.body.push(u[d]);else{n.push(f),d+=1;var g=$9(u[d]).text,S=new Array(2);if(S[0]={type:"ordgroup",mode:"math",body:[]},S[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(g)>-1))if("<>AV".indexOf(g)>-1)for(var y=0;y<2;y++){for(var C=!0,b=d+1;b<u.length;b++){if(Hne(u[b],g)){C=!1,d=b;break}if(eI(u[b]))throw new lt("Missing a "+g+" character to complete a CD arrow.",u[b]);S[y].body.push(u[b])}if(C)throw new lt("Missing a "+g+" character to complete a CD arrow.",u[d])}else throw new lt('Expected one of "<>AV=|." after @',u[d]);var O=Une(g,S,t),_={type:"styling",body:[O],mode:"math",style:"display"};n.push(_),f=JA()}o%2===0?n.push(f):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var N=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:N,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}St({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=Ae.wrapFragment(Ur(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=ht(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new at.MathNode("mrow",[xn(t.label,e)]);return r=new at.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new at.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});St({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=Ae.wrapFragment(Ur(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new at.MathNode("mrow",[xn(t.fragment,e)])}});St({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=_r(e[0],"ordgroup"),i=n.body,o="",u=0;u<i.length;u++){var f=_r(i[u],"textord");o+=f.text}var d=parseInt(o),g;if(isNaN(d))throw new lt("\\@char has non-numeric argument "+o);if(d<0||d>=1114111)throw new lt("\\@char with invalid code point "+o);return d<=65535?g=String.fromCharCode(d):(d-=65536,g=String.fromCharCode((d>>10)+55296,(d&1023)+56320)),{type:"textord",mode:r.mode,text:g}}});var Mj=(t,e)=>{var r=Bi(t.body,e.withColor(t.color),!1);return Ae.makeFragment(r)},Dj=(t,e)=>{var r=Ho(t.body,e.withColor(t.color)),n=new at.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};St({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=_r(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:mi(i)}},htmlBuilder:Mj,mathmlBuilder:Dj});St({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=_r(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var o=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:o}},htmlBuilder:Mj,mathmlBuilder:Dj});St({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=r[0],o=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:o,size:i&&_r(i,"size").value}},htmlBuilder(t,e){var r=Ae.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=ht(Yn(t.size,e)))),r},mathmlBuilder(t,e){var r=new at.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",ht(Yn(t.size,e)))),r}});var m7={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Pj=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new lt("Expected a control sequence",t);return e},Wne=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},Lj=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};St({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(m7[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=m7[n.text]),_r(e.parseFunction(),"internal");throw new lt("Invalid token after macro prefix",n)}});St({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new lt("Expected a control sequence",n);for(var o=0,u,f=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){u=e.gullet.future(),f[o].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new lt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==o+1)throw new lt('Argument number "'+n.text+'" out of order');o++,f.push([])}else{if(n.text==="EOF")throw new lt("Expected a macro definition");f[o].push(n.text)}var{tokens:d}=e.gullet.consumeArg();return u&&d.unshift(u),(r==="\\edef"||r==="\\xdef")&&(d=e.gullet.expandTokens(d),d.reverse()),e.gullet.macros.set(i,{tokens:d,numArgs:o,delimiters:f},r===m7[r]),{type:"internal",mode:e.mode}}});St({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=Pj(e.gullet.popToken());e.gullet.consumeSpaces();var i=Wne(e);return Lj(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});St({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=Pj(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return Lj(e,n,o,r==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var ng=function(e,r,n){var i=En.math[e]&&En.math[e].replace,o=B9(i||e,r,n);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return o},V9=function(e,r,n,i){var o=n.havingBaseStyle(r),u=Ae.makeSpan(i.concat(o.sizingClasses(n)),[e],n),f=o.sizeMultiplier/n.sizeMultiplier;return u.height*=f,u.depth*=f,u.maxFontSize=o.sizeMultiplier,u},Nj=function(e,r,n){var i=r.havingBaseStyle(n),o=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ht(o),e.height-=o,e.depth+=o},$ne=function(e,r,n,i,o,u){var f=Ae.makeSymbol(e,"Main-Regular",o,i),d=V9(f,r,i,u);return n&&Nj(d,i,r),d},qne=function(e,r,n,i){return Ae.makeSymbol(e,"Size"+r+"-Regular",n,i)},Rj=function(e,r,n,i,o,u){var f=qne(e,r,o,i),d=V9(Ae.makeSpan(["delimsizing","size"+r],[f],i),Xt.TEXT,i,u);return n&&Nj(d,i,Xt.TEXT),d},y5=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=Ae.makeSpan(["delimsizinginner",i],[Ae.makeSpan([],[Ae.makeSymbol(e,r,n)])]);return{type:"elem",elem:o}},b5=function(e,r,n){var i=Nl["Size4-Regular"][e.charCodeAt(0)]?Nl["Size4-Regular"][e.charCodeAt(0)][4]:Nl["Size1-Regular"][e.charCodeAt(0)][4],o=new Md("inner",ene(e,Math.round(1e3*r))),u=new O0([o],{width:ht(i),height:ht(r),style:"width:"+ht(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),f=Ae.makeSvgSpan([],[u],n);return f.height=r,f.style.height=ht(r),f.style.width=ht(i),{type:"elem",elem:f}},v7=.008,B4={type:"kern",size:-1*v7},Vne=["|","\\lvert","\\rvert","\\vert"],Gne=["\\|","\\lVert","\\rVert","\\Vert"],jj=function(e,r,n,i,o,u){var f,d,g,S;f=g=S=e,d=null;var y="Size1-Regular";e==="\\uparrow"?g=S="\u23D0":e==="\\Uparrow"?g=S="\u2016":e==="\\downarrow"?f=g="\u23D0":e==="\\Downarrow"?f=g="\u2016":e==="\\updownarrow"?(f="\\uparrow",g="\u23D0",S="\\downarrow"):e==="\\Updownarrow"?(f="\\Uparrow",g="\u2016",S="\\Downarrow"):nr.contains(Vne,e)?g="\u2223":nr.contains(Gne,e)?g="\u2225":e==="["||e==="\\lbrack"?(f="\u23A1",g="\u23A2",S="\u23A3",y="Size4-Regular"):e==="]"||e==="\\rbrack"?(f="\u23A4",g="\u23A5",S="\u23A6",y="Size4-Regular"):e==="\\lfloor"||e==="\u230A"?(g=f="\u23A2",S="\u23A3",y="Size4-Regular"):e==="\\lceil"||e==="\u2308"?(f="\u23A1",g=S="\u23A2",y="Size4-Regular"):e==="\\rfloor"||e==="\u230B"?(g=f="\u23A5",S="\u23A6",y="Size4-Regular"):e==="\\rceil"||e==="\u2309"?(f="\u23A4",g=S="\u23A5",y="Size4-Regular"):e==="("||e==="\\lparen"?(f="\u239B",g="\u239C",S="\u239D",y="Size4-Regular"):e===")"||e==="\\rparen"?(f="\u239E",g="\u239F",S="\u23A0",y="Size4-Regular"):e==="\\{"||e==="\\lbrace"?(f="\u23A7",d="\u23A8",S="\u23A9",g="\u23AA",y="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(f="\u23AB",d="\u23AC",S="\u23AD",g="\u23AA",y="Size4-Regular"):e==="\\lgroup"||e==="\u27EE"?(f="\u23A7",S="\u23A9",g="\u23AA",y="Size4-Regular"):e==="\\rgroup"||e==="\u27EF"?(f="\u23AB",S="\u23AD",g="\u23AA",y="Size4-Regular"):e==="\\lmoustache"||e==="\u23B0"?(f="\u23A7",S="\u23AD",g="\u23AA",y="Size4-Regular"):(e==="\\rmoustache"||e==="\u23B1")&&(f="\u23AB",S="\u23A9",g="\u23AA",y="Size4-Regular");var C=ng(f,y,o),b=C.height+C.depth,O=ng(g,y,o),_=O.height+O.depth,N=ng(S,y,o),P=N.height+N.depth,M=0,R=1;if(d!==null){var D=ng(d,y,o);M=D.height+D.depth,R=2}var G=b+P+M,V=Math.max(0,Math.ceil((r-G)/(R*_))),J=G+V*R*_,te=i.fontMetrics().axisHeight;n&&(te*=i.sizeMultiplier);var W=J/2-te,ce=[];if(ce.push(y5(S,y,o)),ce.push(B4),d===null){var ie=J-b-P+2*v7;ce.push(b5(g,ie,i))}else{var le=(J-b-P-M)/2+2*v7;ce.push(b5(g,le,i)),ce.push(B4),ce.push(y5(d,y,o)),ce.push(B4),ce.push(b5(g,le,i))}ce.push(B4),ce.push(y5(f,y,o));var pe=i.havingBaseStyle(Xt.TEXT),he=Ae.makeVList({positionType:"bottom",positionData:W,children:ce},pe);return V9(Ae.makeSpan(["delimsizing","mult"],[he],pe),Xt.TEXT,i,u)},w5=80,x5=.08,k5=function(e,r,n,i,o){var u=Jre(e,i,n),f=new Md(e,u),d=new O0([f],{width:"400em",height:ht(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Ae.makeSvgSpan(["hide-tail"],[d],o)},Yne=function(e,r){var n=r.havingBaseSizing(),i=Hj("\\surd",e*n.sizeMultiplier,Bj,n),o=n.sizeMultiplier,u=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),f,d=0,g=0,S=0,y;return i.type==="small"?(S=1e3+1e3*u+w5,e<1?o=1:e<1.4&&(o=.7),d=(1+u+x5)/o,g=(1+u)/o,f=k5("sqrtMain",d,S,u,r),f.style.minWidth="0.853em",y=.833/o):i.type==="large"?(S=(1e3+w5)*_g[i.size],g=(_g[i.size]+u)/o,d=(_g[i.size]+u+x5)/o,f=k5("sqrtSize"+i.size,d,S,u,r),f.style.minWidth="1.02em",y=1/o):(d=e+u+x5,g=e+u,S=Math.floor(1e3*e+u)+w5,f=k5("sqrtTall",d,S,u,r),f.style.minWidth="0.742em",y=1.056),f.height=g,f.style.height=ht(d),{span:f,advanceWidth:y,ruleWidth:(r.fontMetrics().sqrtRuleThickness+u)*o}},Fj=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],Xne=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],zj=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],_g=[0,1.2,1.8,2.4,3],Zne=function(e,r,n,i,o){if(e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle"),nr.contains(Fj,e)||nr.contains(zj,e))return Rj(e,r,!1,n,i,o);if(nr.contains(Xne,e))return jj(e,_g[r],!1,n,i,o);throw new lt("Illegal delimiter: '"+e+"'")},Qne=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Jne=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"stack"}],Bj=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],eie=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Hj=function(e,r,n,i){for(var o=Math.min(2,3-i.style.size),u=o;u<n.length&&n[u].type!=="stack";u++){var f=ng(e,eie(n[u]),"math"),d=f.height+f.depth;if(n[u].type==="small"){var g=i.havingBaseStyle(n[u].style);d*=g.sizeMultiplier}if(d>r)return n[u]}return n[n.length-1]},Uj=function(e,r,n,i,o,u){e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle");var f;nr.contains(zj,e)?f=Qne:nr.contains(Fj,e)?f=Bj:f=Jne;var d=Hj(e,r,f,i);return d.type==="small"?$ne(e,d.style,n,i,o,u):d.type==="large"?Rj(e,d.size,n,i,o,u):jj(e,r,n,i,o,u)},tie=function(e,r,n,i,o,u){var f=i.fontMetrics().axisHeight*i.sizeMultiplier,d=901,g=5/i.fontMetrics().ptPerEm,S=Math.max(r-f,n+f),y=Math.max(S/500*d,2*S-g);return Uj(e,y,!0,i,o,u)},Wu={sqrtImage:Yne,sizedDelim:Zne,sizeToMaxHeight:_g,customSizedDelim:Uj,leftRightDelim:tie},tI={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},rie=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Kx(t,e){var r=Ux(t);if(r&&nr.contains(rie,r.text))return r;throw r?new lt("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new lt("Invalid delimiter type '"+t.type+"'",t)}St({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=Kx(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:tI[t.funcName].size,mclass:tI[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?Ae.makeSpan([t.mclass]):Wu.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Ss(t.delim,t.mode));var r=new at.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=ht(Wu.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function rI(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}St({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new lt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Kx(e[0],t).text,color:r}}});St({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Kx(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var o=_r(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{rI(t);for(var r=Bi(t.body,e,!0,["mopen","mclose"]),n=0,i=0,o=!1,u=0;u<r.length;u++)r[u].isMiddle?o=!0:(n=Math.max(r[u].height,n),i=Math.max(r[u].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var f;if(t.left==="."?f=v1(e,["mopen"]):f=Wu.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(f),o)for(var d=1;d<r.length;d++){var g=r[d],S=g.isMiddle;S&&(r[d]=Wu.leftRightDelim(S.delim,n,i,S.options,t.mode,[]))}var y;if(t.right===".")y=v1(e,["mclose"]);else{var C=t.rightColor?e.withColor(t.rightColor):e;y=Wu.leftRightDelim(t.right,n,i,C,t.mode,["mclose"])}return r.push(y),Ae.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{rI(t);var r=Ho(t.body,e);if(t.left!=="."){var n=new at.MathNode("mo",[Ss(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new at.MathNode("mo",[Ss(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return K9(r)}});St({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Kx(e[0],t);if(!t.parser.leftrightDepth)throw new lt("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=v1(e,[]);else{r=Wu.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?Ss("|","text"):Ss(t.delim,t.mode),n=new at.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var G9=(t,e)=>{var r=Ae.wrapFragment(Ur(t.body,e),e),n=t.label.substr(1),i=e.sizeMultiplier,o,u=0,f=nr.isCharacterBox(t.body);if(n==="sout")o=Ae.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/i,u=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var d=Yn({number:.6,unit:"pt"},e),g=Yn({number:.35,unit:"ex"},e),S=e.havingBaseSizing();i=i/S.sizeMultiplier;var y=r.height+r.depth+d+g;r.style.paddingLeft=ht(y/2+d);var C=Math.floor(1e3*y*i),b=Zre(C),O=new O0([new Md("phase",b)],{width:"400em",height:ht(C/1e3),viewBox:"0 0 400000 "+C,preserveAspectRatio:"xMinYMin slice"});o=Ae.makeSvgSpan(["hide-tail"],[O],e),o.style.height=ht(y),u=r.depth+d+g}else{/cancel/.test(n)?f||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var _=0,N=0,P=0;/box/.test(n)?(P=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),_=e.fontMetrics().fboxsep+(n==="colorbox"?0:P),N=_):n==="angl"?(P=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),_=4*P,N=Math.max(0,.25-r.depth)):(_=f?.2:0,N=_),o=Zu.encloseSpan(r,n,_,N,e),/fbox|boxed|fcolorbox/.test(n)?(o.style.borderStyle="solid",o.style.borderWidth=ht(P)):n==="angl"&&P!==.049&&(o.style.borderTopWidth=ht(P),o.style.borderRightWidth=ht(P)),u=r.depth+N,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var M;if(t.backgroundColor)M=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:r,shift:0}]},e);else{var R=/cancel|phase/.test(n)?["svg-align"]:[];M=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:o,shift:u,wrapperClasses:R}]},e)}return/cancel/.test(n)&&(M.height=r.height,M.depth=r.depth),/cancel/.test(n)&&!f?Ae.makeSpan(["mord","cancel-lap"],[M],e):Ae.makeSpan(["mord"],[M],e)},Y9=(t,e)=>{var r=0,n=new at.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[xn(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};St({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,o=_r(e[0],"color-token").color,u=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,body:u}},htmlBuilder:G9,mathmlBuilder:Y9});St({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,o=_r(e[0],"color-token").color,u=_r(e[1],"color-token").color,f=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:u,borderColor:o,body:f}},htmlBuilder:G9,mathmlBuilder:Y9});St({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});St({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:G9,mathmlBuilder:Y9});St({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var Kj={};function Jl(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:o,mathmlBuilder:u}=t,f={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},d=0;d<r.length;++d)Kj[r[d]]=f;o&&(Lw[e]=o),u&&(Nw[e]=u)}var Wj={};function ne(t,e){Wj[t]=e}function nI(t){var e=[];t.consumeSpaces();for(var r=t.fetch().text;r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var Wx=t=>{var e=t.parser.settings;if(!e.displayMode)throw new lt("{"+t.envName+"} can be used only in display mode.")};function X9(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function N0(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:o,arraystretch:u,colSeparationType:f,autoTag:d,singleRow:g,emptySingleRow:S,maxNumCols:y,leqno:C}=e;if(t.gullet.beginGroup(),g||t.gullet.macros.set("\\cr","\\\\\\relax"),!u){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)u=1;else if(u=parseFloat(b),!u||u<0)throw new lt("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var O=[],_=[O],N=[],P=[],M=d!=null?[]:void 0;function R(){d&&t.gullet.macros.set("\\@eqnsw","1",!0)}function D(){M&&(t.gullet.macros.get("\\df@tag")?(M.push(t.subparse([new fs("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):M.push(Boolean(d)&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(R(),P.push(nI(t));;){var G=t.parseExpression(!1,g?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),G={type:"ordgroup",mode:t.mode,body:G},r&&(G={type:"styling",mode:t.mode,style:r,body:[G]}),O.push(G);var V=t.fetch().text;if(V==="&"){if(y&&O.length===y){if(g||f)throw new lt("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(V==="\\end"){D(),O.length===1&&G.type==="styling"&&G.body[0].body.length===0&&(_.length>1||!S)&&_.pop(),P.length<_.length+1&&P.push([]);break}else if(V==="\\\\"){t.consume();var J=void 0;t.gullet.future().text!==" "&&(J=t.parseSizeGroup(!0)),N.push(J?J.value:null),D(),P.push(nI(t)),O=[],_.push(O),R()}else throw new lt("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:u,body:_,cols:o,rowGaps:N,hskipBeforeAndAfter:n,hLinesBeforeRow:P,colSeparationType:f,tags:M,leqno:C}}function Z9(t){return t.substr(0,1)==="d"?"display":"text"}var eu=function(e,r){var n,i,o=e.body.length,u=e.hLinesBeforeRow,f=0,d=new Array(o),g=[],S=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),y=1/r.fontMetrics().ptPerEm,C=5*y;if(e.colSeparationType&&e.colSeparationType==="small"){var b=r.havingStyle(Xt.SCRIPT).sizeMultiplier;C=.2778*(b/r.sizeMultiplier)}var O=e.colSeparationType==="CD"?Yn({number:3,unit:"ex"},r):12*y,_=3*y,N=e.arraystretch*O,P=.7*N,M=.3*N,R=0;function D(Vr){for(var nn=0;nn<Vr.length;++nn)nn>0&&(R+=.25),g.push({pos:R,isDashed:Vr[nn]})}for(D(u[0]),n=0;n<e.body.length;++n){var G=e.body[n],V=P,J=M;f<G.length&&(f=G.length);var te=new Array(G.length);for(i=0;i<G.length;++i){var W=Ur(G[i],r);J<W.depth&&(J=W.depth),V<W.height&&(V=W.height),te[i]=W}var ce=e.rowGaps[n],ie=0;ce&&(ie=Yn(ce,r),ie>0&&(ie+=M,J<ie&&(J=ie),ie=0)),e.addJot&&(J+=_),te.height=V,te.depth=J,R+=V,te.pos=R,R+=J+ie,d[n]=te,D(u[n+1])}var le=R/2+r.fontMetrics().axisHeight,pe=e.cols||[],he=[],ye,Ee,Ne=[];if(e.tags&&e.tags.some(Vr=>Vr))for(n=0;n<o;++n){var ge=d[n],De=ge.pos-le,ze=e.tags[n],Ye=void 0;ze===!0?Ye=Ae.makeSpan(["eqn-num"],[],r):ze===!1?Ye=Ae.makeSpan([],[],r):Ye=Ae.makeSpan([],Bi(ze,r,!0),r),Ye.depth=ge.depth,Ye.height=ge.height,Ne.push({type:"elem",elem:Ye,shift:De})}for(i=0,Ee=0;i<f||Ee<pe.length;++i,++Ee){for(var q=pe[Ee]||{},A=!0;q.type==="separator";){if(A||(ye=Ae.makeSpan(["arraycolsep"],[]),ye.style.width=ht(r.fontMetrics().doubleRuleSep),he.push(ye)),q.separator==="|"||q.separator===":"){var zt=q.separator==="|"?"solid":"dashed",Ht=Ae.makeSpan(["vertical-separator"],[],r);Ht.style.height=ht(R),Ht.style.borderRightWidth=ht(S),Ht.style.borderRightStyle=zt,Ht.style.margin="0 "+ht(-S/2);var Zt=R-le;Zt&&(Ht.style.verticalAlign=ht(-Zt)),he.push(Ht)}else throw new lt("Invalid separator type: "+q.separator);Ee++,q=pe[Ee]||{},A=!1}if(!(i>=f)){var Re=void 0;(i>0||e.hskipBeforeAndAfter)&&(Re=nr.deflt(q.pregap,C),Re!==0&&(ye=Ae.makeSpan(["arraycolsep"],[]),ye.style.width=ht(Re),he.push(ye)));var we=[];for(n=0;n<o;++n){var Ke=d[n],yt=Ke[i];if(!!yt){var At=Ke.pos-le;yt.depth=Ke.depth,yt.height=Ke.height,we.push({type:"elem",elem:yt,shift:At})}}we=Ae.makeVList({positionType:"individualShift",children:we},r),we=Ae.makeSpan(["col-align-"+(q.align||"c")],[we]),he.push(we),(i<f-1||e.hskipBeforeAndAfter)&&(Re=nr.deflt(q.postgap,C),Re!==0&&(ye=Ae.makeSpan(["arraycolsep"],[]),ye.style.width=ht(Re),he.push(ye)))}}if(d=Ae.makeSpan(["mtable"],he),g.length>0){for(var kt=Ae.makeLineSpan("hline",r,S),Kt=Ae.makeLineSpan("hdashline",r,S),br=[{type:"elem",elem:d,shift:0}];g.length>0;){var Jr=g.pop(),rn=Jr.pos-le;Jr.isDashed?br.push({type:"elem",elem:Kt,shift:rn}):br.push({type:"elem",elem:kt,shift:rn})}d=Ae.makeVList({positionType:"individualShift",children:br},r)}if(Ne.length===0)return Ae.makeSpan(["mord"],[d],r);var mr=Ae.makeVList({positionType:"individualShift",children:Ne},r);return mr=Ae.makeSpan(["tag"],[mr],r),Ae.makeFragment([d,mr])},nie={c:"center ",l:"left ",r:"right "},tu=function(e,r){for(var n=[],i=new at.MathNode("mtd",[],["mtr-glue"]),o=new at.MathNode("mtd",[],["mml-eqn-num"]),u=0;u<e.body.length;u++){for(var f=e.body[u],d=[],g=0;g<f.length;g++)d.push(new at.MathNode("mtd",[xn(f[g],r)]));e.tags&&e.tags[u]&&(d.unshift(i),d.push(i),e.leqno?d.unshift(o):d.push(o)),n.push(new at.MathNode("mtr",d))}var S=new at.MathNode("mtable",n),y=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);S.setAttribute("rowspacing",ht(y));var C="",b="";if(e.cols&&e.cols.length>0){var O=e.cols,_="",N=!1,P=0,M=O.length;O[0].type==="separator"&&(C+="top ",P=1),O[O.length-1].type==="separator"&&(C+="bottom ",M-=1);for(var R=P;R<M;R++)O[R].type==="align"?(b+=nie[O[R].align],N&&(_+="none "),N=!0):O[R].type==="separator"&&N&&(_+=O[R].separator==="|"?"solid ":"dashed ",N=!1);S.setAttribute("columnalign",b.trim()),/[sd]/.test(_)&&S.setAttribute("columnlines",_.trim())}if(e.colSeparationType==="align"){for(var D=e.cols||[],G="",V=1;V<D.length;V++)G+=V%2?"0em ":"1em ";S.setAttribute("columnspacing",G.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?S.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?S.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?S.setAttribute("columnspacing","0.5em"):S.setAttribute("columnspacing","1em");var J="",te=e.hLinesBeforeRow;C+=te[0].length>0?"left ":"",C+=te[te.length-1].length>0?"right ":"";for(var W=1;W<te.length-1;W++)J+=te[W].length===0?"none ":te[W][0]?"dashed ":"solid ";return/[sd]/.test(J)&&S.setAttribute("rowlines",J.trim()),C!==""&&(S=new at.MathNode("menclose",[S]),S.setAttribute("notation",C.trim())),e.arraystretch&&e.arraystretch<1&&(S=new at.MathNode("mstyle",[S]),S.setAttribute("scriptlevel","1")),S},$j=function(e,r){e.envName.indexOf("ed")===-1&&Wx(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",u=N0(e.parser,{cols:n,addJot:!0,autoTag:o?void 0:X9(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),f,d=0,g={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var S="",y=0;y<r[0].body.length;y++){var C=_r(r[0].body[y],"textord");S+=C.text}f=Number(S),d=f*2}var b=!d;u.body.forEach(function(P){for(var M=1;M<P.length;M+=2){var R=_r(P[M],"styling"),D=_r(R.body[0],"ordgroup");D.body.unshift(g)}if(b)d<P.length&&(d=P.length);else{var G=P.length/2;if(f<G)throw new lt("Too many math in a row: "+("expected "+f+", but got "+G),P[0])}});for(var O=0;O<d;++O){var _="r",N=0;O%2===1?_="l":O>0&&b&&(N=1),n[O]={type:"align",align:_,pregap:N,postgap:0}}return u.colSeparationType=b?"align":"alignat",u};Jl({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=Ux(e[0]),n=r?[e[0]]:_r(e[0],"ordgroup").body,i=n.map(function(u){var f=$9(u),d=f.text;if("lcr".indexOf(d)!==-1)return{type:"align",align:d};if(d==="|")return{type:"separator",separator:"|"};if(d===":")return{type:"separator",separator:":"};throw new lt("Unknown column alignment: "+d,u)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return N0(t.parser,o,Z9(t.envName))},htmlBuilder:eu,mathmlBuilder:tu});Jl({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new lt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var o=N0(t.parser,n,Z9(t.envName)),u=Math.max(0,...o.body.map(f=>f.length));return o.cols=new Array(u).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:eu,mathmlBuilder:tu});Jl({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=N0(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:eu,mathmlBuilder:tu});Jl({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=Ux(e[0]),n=r?[e[0]]:_r(e[0],"ordgroup").body,i=n.map(function(u){var f=$9(u),d=f.text;if("lc".indexOf(d)!==-1)return{type:"align",align:d};throw new lt("Unknown column alignment: "+d,u)});if(i.length>1)throw new lt("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=N0(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new lt("{subarray} can contain only one column");return o},htmlBuilder:eu,mathmlBuilder:tu});Jl({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=N0(t.parser,e,Z9(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:eu,mathmlBuilder:tu});Jl({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:$j,htmlBuilder:eu,mathmlBuilder:tu});Jl({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){nr.contains(["gather","gather*"],t.envName)&&Wx(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:X9(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return N0(t.parser,e,"display")},htmlBuilder:eu,mathmlBuilder:tu});Jl({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:$j,htmlBuilder:eu,mathmlBuilder:tu});Jl({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Wx(t);var e={autoTag:X9(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return N0(t.parser,e,"display")},htmlBuilder:eu,mathmlBuilder:tu});Jl({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Wx(t),Kne(t.parser)},htmlBuilder:eu,mathmlBuilder:tu});ne("\\nonumber","\\gdef\\@eqnsw{0}");ne("\\notag","\\nonumber");St({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new lt(t.funcName+" valid only within array environment")}});var iI=Kj;St({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new lt("Invalid environment name",i);for(var o="",u=0;u<i.body.length;++u)o+=_r(i.body[u],"textord").text;if(n==="\\begin"){if(!iI.hasOwnProperty(o))throw new lt("No such environment: "+o,i);var f=iI[o],{args:d,optArgs:g}=r.parseArguments("\\begin{"+o+"}",f),S={mode:r.mode,envName:o,parser:r},y=f.handler(S,d,g);r.expect("\\end",!1);var C=r.nextToken,b=_r(r.parseFunction(),"environment");if(b.name!==o)throw new lt("Mismatch: \\begin{"+o+"} matched by \\end{"+b.name+"}",C);return y}return{type:"environment",mode:r.mode,name:o,nameGroup:i}}});var iie=Ae.makeSpan;function qj(t,e){var r=Bi(t.body,e,!0);return iie([t.mclass],r,e)}function Vj(t,e){var r,n=Ho(t.body,e);return t.mclass==="minner"?r=new at.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new at.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new at.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}St({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.substr(5),body:mi(i),isCharacterBox:nr.isCharacterBox(i)}},htmlBuilder:qj,mathmlBuilder:Vj});var Q9=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};St({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:Q9(e[0]),body:mi(e[1]),isCharacterBox:nr.isCharacterBox(e[1])}}});St({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],o=e[0],u;n!=="\\stackrel"?u=Q9(i):u="mrel";var f={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:mi(i)},d={type:"supsub",mode:o.mode,base:f,sup:n==="\\underset"?null:o,sub:n==="\\underset"?o:null};return{type:"mclass",mode:r.mode,mclass:u,body:[d],isCharacterBox:nr.isCharacterBox(d)}},htmlBuilder:qj,mathmlBuilder:Vj});var Gj=(t,e)=>{var r=t.font,n=e.withFont(r);return Ur(t.body,n)},Yj=(t,e)=>{var r=t.font,n=e.withFont(r);return xn(t.body,n)},aI={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};St({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=Rw(e[0]),o=n;return o in aI&&(o=aI[o]),{type:"font",mode:r.mode,font:o.slice(1),body:i}},htmlBuilder:Gj,mathmlBuilder:Yj});St({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=nr.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Q9(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});St({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:o}=r,u=r.parseExpression(!0,i),f="math"+n.slice(1);return{type:"font",mode:o,font:f,body:{type:"ordgroup",mode:r.mode,body:u}}},htmlBuilder:Gj,mathmlBuilder:Yj});var Xj=(t,e)=>{var r=e;return t==="display"?r=r.id>=Xt.SCRIPT.id?r.text():Xt.DISPLAY:t==="text"&&r.size===Xt.DISPLAY.size?r=Xt.TEXT:t==="script"?r=Xt.SCRIPT:t==="scriptscript"&&(r=Xt.SCRIPTSCRIPT),r},J9=(t,e)=>{var r=Xj(t.size,e.style),n=r.fracNum(),i=r.fracDen(),o;o=e.havingStyle(n);var u=Ur(t.numer,o,e);if(t.continued){var f=8.5/e.fontMetrics().ptPerEm,d=3.5/e.fontMetrics().ptPerEm;u.height=u.height<f?f:u.height,u.depth=u.depth<d?d:u.depth}o=e.havingStyle(i);var g=Ur(t.denom,o,e),S,y,C;t.hasBarLine?(t.barSize?(y=Yn(t.barSize,e),S=Ae.makeLineSpan("frac-line",e,y)):S=Ae.makeLineSpan("frac-line",e),y=S.height,C=S.height):(S=null,y=0,C=e.fontMetrics().defaultRuleThickness);var b,O,_;r.size===Xt.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,y>0?O=3*C:O=7*C,_=e.fontMetrics().denom1):(y>0?(b=e.fontMetrics().num2,O=C):(b=e.fontMetrics().num3,O=3*C),_=e.fontMetrics().denom2);var N;if(S){var M=e.fontMetrics().axisHeight;b-u.depth-(M+.5*y)<O&&(b+=O-(b-u.depth-(M+.5*y))),M-.5*y-(g.height-_)<O&&(_+=O-(M-.5*y-(g.height-_)));var R=-(M-.5*y);N=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:g,shift:_},{type:"elem",elem:S,shift:R},{type:"elem",elem:u,shift:-b}]},e)}else{var P=b-u.depth-(g.height-_);P<O&&(b+=.5*(O-P),_+=.5*(O-P)),N=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:g,shift:_},{type:"elem",elem:u,shift:-b}]},e)}o=e.havingStyle(r),N.height*=o.sizeMultiplier/e.sizeMultiplier,N.depth*=o.sizeMultiplier/e.sizeMultiplier;var D;r.size===Xt.DISPLAY.size?D=e.fontMetrics().delim1:r.size===Xt.SCRIPTSCRIPT.size?D=e.havingStyle(Xt.SCRIPT).fontMetrics().delim2:D=e.fontMetrics().delim2;var G,V;return t.leftDelim==null?G=v1(e,["mopen"]):G=Wu.customSizedDelim(t.leftDelim,D,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?V=Ae.makeSpan([]):t.rightDelim==null?V=v1(e,["mclose"]):V=Wu.customSizedDelim(t.rightDelim,D,!0,e.havingStyle(r),t.mode,["mclose"]),Ae.makeSpan(["mord"].concat(o.sizingClasses(e)),[G,Ae.makeSpan(["mfrac"],[N]),V],e)},e_=(t,e)=>{var r=new at.MathNode("mfrac",[xn(t.numer,e),xn(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=Yn(t.barSize,e);r.setAttribute("linethickness",ht(n))}var i=Xj(t.size,e.style);if(i.size!==e.style.size){r=new at.MathNode("mstyle",[r]);var o=i.size===Xt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",o),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var u=[];if(t.leftDelim!=null){var f=new at.MathNode("mo",[new at.TextNode(t.leftDelim.replace("\\",""))]);f.setAttribute("fence","true"),u.push(f)}if(u.push(r),t.rightDelim!=null){var d=new at.MathNode("mo",[new at.TextNode(t.rightDelim.replace("\\",""))]);d.setAttribute("fence","true"),u.push(d)}return K9(u)}return r};St({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],o=e[1],u,f=null,d=null,g="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":u=!0;break;case"\\\\atopfrac":u=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":u=!1,f="(",d=")";break;case"\\\\bracefrac":u=!1,f="\\{",d="\\}";break;case"\\\\brackfrac":u=!1,f="[",d="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":g="display";break;case"\\tfrac":case"\\tbinom":g="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:o,hasBarLine:u,leftDelim:f,rightDelim:d,size:g,barSize:null}},htmlBuilder:J9,mathmlBuilder:e_});St({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],o=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});St({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var oI=["display","text","script","scriptscript"],sI=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};St({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],o=Rw(e[0]),u=o.type==="atom"&&o.family==="open"?sI(o.text):null,f=Rw(e[1]),d=f.type==="atom"&&f.family==="close"?sI(f.text):null,g=_r(e[2],"size"),S,y=null;g.isBlank?S=!0:(y=g.value,S=y.number>0);var C="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var O=_r(b.body[0],"textord");C=oI[Number(O.text)]}}else b=_r(b,"textord"),C=oI[Number(b.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:S,barSize:y,leftDelim:u,rightDelim:d,size:C}},htmlBuilder:J9,mathmlBuilder:e_});St({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:_r(e[0],"size").value,token:i}}});St({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],o=Rre(_r(e[1],"infix").size),u=e[2],f=o.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:u,continued:!1,hasBarLine:f,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:J9,mathmlBuilder:e_});var Zj=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?Ur(t.sup,e.havingStyle(r.sup()),e):Ur(t.sub,e.havingStyle(r.sub()),e),i=_r(t.base,"horizBrace")):i=_r(t,"horizBrace");var o=Ur(i.base,e.havingBaseStyle(Xt.DISPLAY)),u=Zu.svgSpan(i,e),f;if(i.isOver?(f=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:u}]},e),f.children[0].children[0].children[1].classes.push("svg-align")):(f=Ae.makeVList({positionType:"bottom",positionData:o.depth+.1+u.height,children:[{type:"elem",elem:u},{type:"kern",size:.1},{type:"elem",elem:o}]},e),f.children[0].children[0].children[0].classes.push("svg-align")),n){var d=Ae.makeSpan(["mord",i.isOver?"mover":"munder"],[f],e);i.isOver?f=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"kern",size:.2},{type:"elem",elem:n}]},e):f=Ae.makeVList({positionType:"bottom",positionData:d.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:d}]},e)}return Ae.makeSpan(["mord",i.isOver?"mover":"munder"],[f],e)},aie=(t,e)=>{var r=Zu.mathMLnode(t.label);return new at.MathNode(t.isOver?"mover":"munder",[xn(t.base,e),r])};St({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:Zj,mathmlBuilder:aie});St({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=_r(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:mi(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=Bi(t.body,e,!1);return Ae.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=A0(t.body,e);return r instanceof ls||(r=new ls("mrow",[r])),r.setAttribute("href",t.href),r}});St({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=_r(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<n.length;o++){var u=n[o];u==="~"&&(u="\\textasciitilde"),i.push({type:"textord",mode:"text",text:u})}var f={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:mi(f)}}});St({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:mi(e[0])}},htmlBuilder(t,e){var r=Bi(t.body,e,!1);return Ae.makeFragment(r)},mathmlBuilder(t,e){return new at.MathNode("mrow",Ho(t.body,e))}});St({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,o=_r(e[0],"raw").string,u=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var f,d={};switch(n){case"\\htmlClass":d.class=o,f={command:"\\htmlClass",class:o};break;case"\\htmlId":d.id=o,f={command:"\\htmlId",id:o};break;case"\\htmlStyle":d.style=o,f={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var g=o.split(","),S=0;S<g.length;S++){var y=g[S].split("=");if(y.length!==2)throw new lt("Error parsing key-value for \\htmlData");d["data-"+y[0].trim()]=y[1].trim()}f={command:"\\htmlData",attributes:d};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(f)?{type:"html",mode:r.mode,attributes:d,body:mi(u)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=Bi(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=Ae.makeSpan(n,r,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>A0(t.body,e)});St({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:mi(e[0]),mathml:mi(e[1])}},htmlBuilder:(t,e)=>{var r=Bi(t.html,e,!1);return Ae.makeFragment(r)},mathmlBuilder:(t,e)=>A0(t.mathml,e)});var _5=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new lt("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!vj(n))throw new lt("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};St({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},u={number:0,unit:"em"},f="";if(r[0])for(var d=_r(r[0],"raw").string,g=d.split(","),S=0;S<g.length;S++){var y=g[S].split("=");if(y.length===2){var C=y[1].trim();switch(y[0].trim()){case"alt":f=C;break;case"width":i=_5(C);break;case"height":o=_5(C);break;case"totalheight":u=_5(C);break;default:throw new lt("Invalid key: '"+y[0]+"' in \\includegraphics.")}}}var b=_r(e[0],"url").url;return f===""&&(f=b,f=f.replace(/^.*[\\/]/,""),f=f.substring(0,f.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:n.mode,alt:f,width:i,height:o,totalheight:u,src:b}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=Yn(t.height,e),n=0;t.totalheight.number>0&&(n=Yn(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=Yn(t.width,e));var o={height:ht(r+n)};i>0&&(o.width=ht(i)),n>0&&(o.verticalAlign=ht(-n));var u=new ane(t.src,t.alt,o);return u.height=r,u.depth=n,u},mathmlBuilder:(t,e)=>{var r=new at.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=Yn(t.height,e),i=0;if(t.totalheight.number>0&&(i=Yn(t.totalheight,e)-n,r.setAttribute("valign",ht(-i))),r.setAttribute("height",ht(n+i)),t.width.number>0){var o=Yn(t.width,e);r.setAttribute("width",ht(o))}return r.setAttribute("src",t.src),r}});St({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=_r(e[0],"size");if(r.settings.strict){var o=n[1]==="m",u=i.value.unit==="mu";o?(u||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):u&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return Ae.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=Yn(t.dimension,e);return new at.SpaceNode(r)}});St({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=Ae.makeSpan([],[Ur(t.body,e)]),r=Ae.makeSpan(["inner"],[r],e)):r=Ae.makeSpan(["inner"],[Ur(t.body,e)]);var n=Ae.makeSpan(["fix"],[]),i=Ae.makeSpan([t.alignment],[r,n],e),o=Ae.makeSpan(["strut"]);return o.style.height=ht(i.height+i.depth),i.depth&&(o.style.verticalAlign=ht(-i.depth)),i.children.unshift(o),i=Ae.makeSpan(["thinbox"],[i],e),Ae.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new at.MathNode("mpadded",[xn(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});St({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var o=r==="\\("?"\\)":"$",u=n.parseExpression(!1,o);return n.expect(o),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:u}}});St({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new lt("Mismatched "+t.funcName)}});var lI=(t,e)=>{switch(e.style.size){case Xt.DISPLAY.size:return t.display;case Xt.TEXT.size:return t.text;case Xt.SCRIPT.size:return t.script;case Xt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};St({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:mi(e[0]),text:mi(e[1]),script:mi(e[2]),scriptscript:mi(e[3])}},htmlBuilder:(t,e)=>{var r=lI(t,e),n=Bi(r,e,!1);return Ae.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=lI(t,e);return A0(r,e)}});var Qj=(t,e,r,n,i,o,u)=>{t=Ae.makeSpan([],[t]);var f=r&&nr.isCharacterBox(r),d,g;if(e){var S=Ur(e,n.havingStyle(i.sup()),n);g={elem:S,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-S.depth)}}if(r){var y=Ur(r,n.havingStyle(i.sub()),n);d={elem:y,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-y.height)}}var C;if(g&&d){var b=n.fontMetrics().bigOpSpacing5+d.elem.height+d.elem.depth+d.kern+t.depth+u;C=Ae.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:ht(-o)},{type:"kern",size:d.kern},{type:"elem",elem:t},{type:"kern",size:g.kern},{type:"elem",elem:g.elem,marginLeft:ht(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(d){var O=t.height-u;C=Ae.makeVList({positionType:"top",positionData:O,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:ht(-o)},{type:"kern",size:d.kern},{type:"elem",elem:t}]},n)}else if(g){var _=t.depth+u;C=Ae.makeVList({positionType:"bottom",positionData:_,children:[{type:"elem",elem:t},{type:"kern",size:g.kern},{type:"elem",elem:g.elem,marginLeft:ht(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var N=[C];if(d&&o!==0&&!f){var P=Ae.makeSpan(["mspace"],[],n);P.style.marginRight=ht(o),N.unshift(P)}return Ae.makeSpan(["mop","op-limits"],N,n)},Jj=["\\smallint"],gm=(t,e)=>{var r,n,i=!1,o;t.type==="supsub"?(r=t.sup,n=t.sub,o=_r(t.base,"op"),i=!0):o=_r(t,"op");var u=e.style,f=!1;u.size===Xt.DISPLAY.size&&o.symbol&&!nr.contains(Jj,o.name)&&(f=!0);var d;if(o.symbol){var g=f?"Size2-Regular":"Size1-Regular",S="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(S=o.name.substr(1),o.name=S==="oiint"?"\\iint":"\\iiint"),d=Ae.makeSymbol(o.name,g,"math",e,["mop","op-symbol",f?"large-op":"small-op"]),S.length>0){var y=d.italic,C=Ae.staticSvg(S+"Size"+(f?"2":"1"),e);d=Ae.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:0},{type:"elem",elem:C,shift:f?.08:0}]},e),o.name="\\"+S,d.classes.unshift("mop"),d.italic=y}}else if(o.body){var b=Bi(o.body,e,!0);b.length===1&&b[0]instanceof _s?(d=b[0],d.classes[0]="mop"):d=Ae.makeSpan(["mop"],b,e)}else{for(var O=[],_=1;_<o.name.length;_++)O.push(Ae.mathsym(o.name[_],o.mode,e));d=Ae.makeSpan(["mop"],O,e)}var N=0,P=0;return(d instanceof _s||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(N=(d.height-d.depth)/2-e.fontMetrics().axisHeight,P=d.italic),i?Qj(d,r,n,e,u,P,N):(N&&(d.style.position="relative",d.style.top=ht(N)),d)},V1=(t,e)=>{var r;if(t.symbol)r=new ls("mo",[Ss(t.name,t.mode)]),nr.contains(Jj,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new ls("mo",Ho(t.body,e));else{r=new ls("mi",[new kg(t.name.slice(1))]);var n=new ls("mo",[Ss("\u2061","text")]);t.parentIsSupSub?r=new ls("mrow",[r,n]):r=Tj([r,n])}return r},oie={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};St({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=oie[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:gm,mathmlBuilder:V1});St({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:mi(n)}},htmlBuilder:gm,mathmlBuilder:V1});var sie={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};St({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:gm,mathmlBuilder:V1});St({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:gm,mathmlBuilder:V1});St({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=sie[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:gm,mathmlBuilder:V1});var eF=(t,e)=>{var r,n,i=!1,o;t.type==="supsub"?(r=t.sup,n=t.sub,o=_r(t.base,"operatorname"),i=!0):o=_r(t,"operatorname");var u;if(o.body.length>0){for(var f=o.body.map(y=>{var C=y.text;return typeof C=="string"?{type:"textord",mode:y.mode,text:C}:y}),d=Bi(f,e.withFont("mathrm"),!0),g=0;g<d.length;g++){var S=d[g];S instanceof _s&&(S.text=S.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}u=Ae.makeSpan(["mop"],d,e)}else u=Ae.makeSpan(["mop"],[],e);return i?Qj(u,r,n,e,e.style,0,0):u},lie=(t,e)=>{for(var r=Ho(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var o=r[i];if(!(o instanceof at.SpaceNode))if(o instanceof at.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var u=o.children[0];o.children.length===1&&u instanceof at.TextNode?u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var f=r.map(S=>S.toText()).join("");r=[new at.TextNode(f)]}var d=new at.MathNode("mi",r);d.setAttribute("mathvariant","normal");var g=new at.MathNode("mo",[Ss("\u2061","text")]);return t.parentIsSupSub?new at.MathNode("mrow",[d,g]):at.newDocumentFragment([d,g])};St({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:mi(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:eF,mathmlBuilder:lie});ne("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");jd({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?Ae.makeFragment(Bi(t.body,e,!1)):Ae.makeSpan(["mord"],Bi(t.body,e,!0),e)},mathmlBuilder(t,e){return A0(t.body,e,!0)}});St({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=Ur(t.body,e.havingCrampedStyle()),n=Ae.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return Ae.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var r=new at.MathNode("mo",[new at.TextNode("\u203E")]);r.setAttribute("stretchy","true");var n=new at.MathNode("mover",[xn(t.body,e),r]);return n.setAttribute("accent","true"),n}});St({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:mi(n)}},htmlBuilder:(t,e)=>{var r=Bi(t.body,e.withPhantom(),!1);return Ae.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=Ho(t.body,e);return new at.MathNode("mphantom",r)}});St({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=Ae.makeSpan([],[Ur(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),Ae.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=Ho(mi(t.body),e),n=new at.MathNode("mphantom",r),i=new at.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});St({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=Ae.makeSpan(["inner"],[Ur(t.body,e.withPhantom())]),n=Ae.makeSpan(["fix"],[]);return Ae.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=Ho(mi(t.body),e),n=new at.MathNode("mphantom",r),i=new at.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});St({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=_r(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=Ur(t.body,e),n=Yn(t.dy,e);return Ae.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new at.MathNode("mpadded",[xn(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});St({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});St({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],o=_r(e[0],"size"),u=_r(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&_r(i,"size").value,width:o.value,height:u.value}},htmlBuilder(t,e){var r=Ae.makeSpan(["mord","rule"],[],e),n=Yn(t.width,e),i=Yn(t.height,e),o=t.shift?Yn(t.shift,e):0;return r.style.borderRightWidth=ht(n),r.style.borderTopWidth=ht(i),r.style.bottom=ht(o),r.width=n,r.height=i+o,r.depth=-o,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=Yn(t.width,e),n=Yn(t.height,e),i=t.shift?Yn(t.shift,e):0,o=e.color&&e.getColor()||"black",u=new at.MathNode("mspace");u.setAttribute("mathbackground",o),u.setAttribute("width",ht(r)),u.setAttribute("height",ht(n));var f=new at.MathNode("mpadded",[u]);return i>=0?f.setAttribute("height",ht(i)):(f.setAttribute("height",ht(i)),f.setAttribute("depth",ht(-i))),f.setAttribute("voffset",ht(i)),f}});function tF(t,e,r){for(var n=Bi(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,o=0;o<n.length;o++){var u=n[o].classes.indexOf("sizing");u<0?Array.prototype.push.apply(n[o].classes,e.sizingClasses(r)):n[o].classes[u+1]==="reset-size"+e.size&&(n[o].classes[u+1]="reset-size"+r.size),n[o].height*=i,n[o].depth*=i}return Ae.makeFragment(n)}var uI=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],uie=(t,e)=>{var r=e.havingSize(t.size);return tF(t.body,r,e)};St({type:"sizing",names:uI,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,o=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:uI.indexOf(n)+1,body:o}},htmlBuilder:uie,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=Ho(t.body,r),i=new at.MathNode("mstyle",n);return i.setAttribute("mathsize",ht(r.sizeMultiplier)),i}});St({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,o=!1,u=r[0]&&_r(r[0],"ordgroup");if(u)for(var f="",d=0;d<u.body.length;++d){var g=u.body[d];if(f=g.text,f==="t")i=!0;else if(f==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var S=e[0];return{type:"smash",mode:n.mode,body:S,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var r=Ae.makeSpan([],[Ur(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var o=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return Ae.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var r=new at.MathNode("mpadded",[xn(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});St({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],o=e[0];return{type:"sqrt",mode:n.mode,body:o,index:i}},htmlBuilder(t,e){var r=Ur(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=Ae.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,o=i;e.style.id<Xt.TEXT.id&&(o=e.fontMetrics().xHeight);var u=i+o/4,f=r.height+r.depth+u+i,{span:d,ruleWidth:g,advanceWidth:S}=Wu.sqrtImage(f,e),y=d.height-g;y>r.height+r.depth+u&&(u=(u+y-r.height-r.depth)/2);var C=d.height-r.height-u-g;r.style.paddingLeft=ht(S);var b=Ae.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+C)},{type:"elem",elem:d},{type:"kern",size:g}]},e);if(t.index){var O=e.havingStyle(Xt.SCRIPTSCRIPT),_=Ur(t.index,O,e),N=.6*(b.height-b.depth),P=Ae.makeVList({positionType:"shift",positionData:-N,children:[{type:"elem",elem:_}]},e),M=Ae.makeSpan(["root"],[P]);return Ae.makeSpan(["mord","sqrt"],[M,b],e)}else return Ae.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new at.MathNode("mroot",[xn(r,e),xn(n,e)]):new at.MathNode("msqrt",[xn(r,e)])}});var cI={display:Xt.DISPLAY,text:Xt.TEXT,script:Xt.SCRIPT,scriptscript:Xt.SCRIPTSCRIPT};St({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,o=i.parseExpression(!0,r),u=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:u,body:o}},htmlBuilder(t,e){var r=cI[t.style],n=e.havingStyle(r).withFont("");return tF(t.body,n,e)},mathmlBuilder(t,e){var r=cI[t.style],n=e.havingStyle(r),i=Ho(t.body,n),o=new at.MathNode("mstyle",i),u={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},f=u[t.style];return o.setAttribute("scriptlevel",f[0]),o.setAttribute("displaystyle",f[1]),o}});var cie=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===Xt.DISPLAY.size||n.alwaysHandleSupSub);return i?gm:null}else if(n.type==="operatorname"){var o=n.alwaysHandleSupSub&&(r.style.size===Xt.DISPLAY.size||n.limits);return o?eF:null}else{if(n.type==="accent")return nr.isCharacterBox(n.base)?q9:null;if(n.type==="horizBrace"){var u=!e.sub;return u===n.isOver?Zj:null}else return null}else return null};jd({type:"supsub",htmlBuilder(t,e){var r=cie(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:o}=t,u=Ur(n,e),f,d,g=e.fontMetrics(),S=0,y=0,C=n&&nr.isCharacterBox(n);if(i){var b=e.havingStyle(e.style.sup());f=Ur(i,b,e),C||(S=u.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(o){var O=e.havingStyle(e.style.sub());d=Ur(o,O,e),C||(y=u.depth+O.fontMetrics().subDrop*O.sizeMultiplier/e.sizeMultiplier)}var _;e.style===Xt.DISPLAY?_=g.sup1:e.style.cramped?_=g.sup3:_=g.sup2;var N=e.sizeMultiplier,P=ht(.5/g.ptPerEm/N),M=null;if(d){var R=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(u instanceof _s||R)&&(M=ht(-u.italic))}var D;if(f&&d){S=Math.max(S,_,f.depth+.25*g.xHeight),y=Math.max(y,g.sub2);var G=g.defaultRuleThickness,V=4*G;if(S-f.depth-(d.height-y)<V){y=V-(S-f.depth)+d.height;var J=.8*g.xHeight-(S-f.depth);J>0&&(S+=J,y-=J)}var te=[{type:"elem",elem:d,shift:y,marginRight:P,marginLeft:M},{type:"elem",elem:f,shift:-S,marginRight:P}];D=Ae.makeVList({positionType:"individualShift",children:te},e)}else if(d){y=Math.max(y,g.sub1,d.height-.8*g.xHeight);var W=[{type:"elem",elem:d,marginLeft:M,marginRight:P}];D=Ae.makeVList({positionType:"shift",positionData:y,children:W},e)}else if(f)S=Math.max(S,_,f.depth+.25*g.xHeight),D=Ae.makeVList({positionType:"shift",positionData:-S,children:[{type:"elem",elem:f,marginRight:P}]},e);else throw new Error("supsub must have either sup or sub.");var ce=h7(u,"right")||"mord";return Ae.makeSpan([ce],[u,Ae.makeSpan(["msupsub"],[D])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[xn(t.base,e)];t.sub&&o.push(xn(t.sub,e)),t.sup&&o.push(xn(t.sup,e));var u;if(r)u=n?"mover":"munder";else if(t.sub)if(t.sup){var g=t.base;g&&g.type==="op"&&g.limits&&e.style===Xt.DISPLAY||g&&g.type==="operatorname"&&g.alwaysHandleSupSub&&(e.style===Xt.DISPLAY||g.limits)?u="munderover":u="msubsup"}else{var d=t.base;d&&d.type==="op"&&d.limits&&(e.style===Xt.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||e.style===Xt.DISPLAY)?u="munder":u="msub"}else{var f=t.base;f&&f.type==="op"&&f.limits&&(e.style===Xt.DISPLAY||f.alwaysHandleSupSub)||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(f.limits||e.style===Xt.DISPLAY)?u="mover":u="msup"}return new at.MathNode(u,o)}});jd({type:"atom",htmlBuilder(t,e){return Ae.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new at.MathNode("mo",[Ss(t.text,t.mode)]);if(t.family==="bin"){var n=W9(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var rF={mi:"italic",mn:"normal",mtext:"normal"};jd({type:"mathord",htmlBuilder(t,e){return Ae.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new at.MathNode("mi",[Ss(t.text,t.mode,e)]),n=W9(t,e)||"italic";return n!==rF[r.type]&&r.setAttribute("mathvariant",n),r}});jd({type:"textord",htmlBuilder(t,e){return Ae.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=Ss(t.text,t.mode,e),n=W9(t,e)||"normal",i;return t.mode==="text"?i=new at.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new at.MathNode("mn",[r]):t.text==="\\prime"?i=new at.MathNode("mo",[r]):i=new at.MathNode("mi",[r]),n!==rF[i.type]&&i.setAttribute("mathvariant",n),i}});var S5={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},C5={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};jd({type:"spacing",htmlBuilder(t,e){if(C5.hasOwnProperty(t.text)){var r=C5[t.text].className||"";if(t.mode==="text"){var n=Ae.makeOrd(t,e,"textord");return n.classes.push(r),n}else return Ae.makeSpan(["mspace",r],[Ae.mathsym(t.text,t.mode,e)],e)}else{if(S5.hasOwnProperty(t.text))return Ae.makeSpan(["mspace",S5[t.text]],[],e);throw new lt('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(C5.hasOwnProperty(t.text))r=new at.MathNode("mtext",[new at.TextNode("\xA0")]);else{if(S5.hasOwnProperty(t.text))return new at.MathNode("mspace");throw new lt('Unknown type of space "'+t.text+'"')}return r}});var fI=()=>{var t=new at.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};jd({type:"tag",mathmlBuilder(t,e){var r=new at.MathNode("mtable",[new at.MathNode("mtr",[fI(),new at.MathNode("mtd",[A0(t.body,e)]),fI(),new at.MathNode("mtd",[A0(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var dI={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},hI={"\\textbf":"textbf","\\textmd":"textmd"},fie={"\\textit":"textit","\\textup":"textup"},pI=(t,e)=>{var r=t.font;return r?dI[r]?e.withTextFontFamily(dI[r]):hI[r]?e.withTextFontWeight(hI[r]):e.withTextFontShape(fie[r]):e};St({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:mi(i),font:n}},htmlBuilder(t,e){var r=pI(t,e),n=Bi(t.body,r,!0);return Ae.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=pI(t,e);return A0(t.body,r)}});St({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Ur(t.body,e),n=Ae.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=Ae.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return Ae.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var r=new at.MathNode("mo",[new at.TextNode("\u203E")]);r.setAttribute("stretchy","true");var n=new at.MathNode("munder",[xn(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});St({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Ur(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return Ae.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new at.MathNode("mpadded",[xn(t.body,e)],["vcenter"])}});St({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new lt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=mI(t),n=[],i=e.havingStyle(e.style.text()),o=0;o<r.length;o++){var u=r[o];u==="~"&&(u="\\textasciitilde"),n.push(Ae.makeSymbol(u,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return Ae.makeSpan(["mord","text"].concat(i.sizingClasses(e)),Ae.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new at.TextNode(mI(t)),n=new at.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var mI=t=>t.body.replace(/ /g,t.star?"\u2423":"\xA0"),f0=Cj,nF=`[ \r
	]`,die="\\\\[a-zA-Z@]+",hie="\\\\[^\uD800-\uDFFF]",pie="("+die+")"+nF+"*",mie=`\\\\(
|[ \r	]+
?)[ \r	]*`,g7="[\u0300-\u036F]",vie=new RegExp(g7+"+$"),gie="("+nF+"+)|"+(mie+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(g7+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(g7+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+pie)+("|"+hie+")");class vI{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(gie,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new fs("EOF",new To(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new lt("Unexpected character: '"+e[r]+"'",new fs(e[r],new To(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new fs(i,new To(this,r,this.tokenRegex.lastIndex))}}class yie{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new lt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var bie=Wj;ne("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});ne("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});ne("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});ne("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});ne("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});ne("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ne("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var gI={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ne("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new lt("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=gI[e.text],n==null||n>=r)throw new lt("Invalid base-"+r+" digit "+e.text);for(var i;(i=gI[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var t_=(t,e,r)=>{var n=t.consumeArg().tokens;if(n.length!==1)throw new lt("\\newcommand's first argument must be a macro name");var i=n[0].text,o=t.isDefined(i);if(o&&!e)throw new lt("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!o&&!r)throw new lt("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var u=0;if(n=t.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var f="",d=t.expandNextToken();d.text!=="]"&&d.text!=="EOF";)f+=d.text,d=t.expandNextToken();if(!f.match(/^\s*[0-9]+\s*$/))throw new lt("Invalid number of arguments: "+f);u=parseInt(f),n=t.consumeArg().tokens}return t.macros.set(i,{tokens:n,numArgs:u}),""};ne("\\newcommand",t=>t_(t,!1,!0));ne("\\renewcommand",t=>t_(t,!0,!1));ne("\\providecommand",t=>t_(t,!0,!0));ne("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});ne("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});ne("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),f0[r],En.math[r],En.text[r]),""});ne("\\bgroup","{");ne("\\egroup","}");ne("~","\\nobreakspace");ne("\\lq","`");ne("\\rq","'");ne("\\aa","\\r a");ne("\\AA","\\r A");ne("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");ne("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ne("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");ne("\u212C","\\mathscr{B}");ne("\u2130","\\mathscr{E}");ne("\u2131","\\mathscr{F}");ne("\u210B","\\mathscr{H}");ne("\u2110","\\mathscr{I}");ne("\u2112","\\mathscr{L}");ne("\u2133","\\mathscr{M}");ne("\u211B","\\mathscr{R}");ne("\u212D","\\mathfrak{C}");ne("\u210C","\\mathfrak{H}");ne("\u2128","\\mathfrak{Z}");ne("\\Bbbk","\\Bbb{k}");ne("\xB7","\\cdotp");ne("\\llap","\\mathllap{\\textrm{#1}}");ne("\\rlap","\\mathrlap{\\textrm{#1}}");ne("\\clap","\\mathclap{\\textrm{#1}}");ne("\\mathstrut","\\vphantom{(}");ne("\\underbar","\\underline{\\text{#1}}");ne("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ne("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");ne("\\ne","\\neq");ne("\u2260","\\neq");ne("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}");ne("\u2209","\\notin");ne("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}");ne("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");ne("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");ne("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}");ne("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}");ne("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}");ne("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");ne("\u27C2","\\perp");ne("\u203C","\\mathclose{!\\mkern-0.8mu!}");ne("\u220C","\\notni");ne("\u231C","\\ulcorner");ne("\u231D","\\urcorner");ne("\u231E","\\llcorner");ne("\u231F","\\lrcorner");ne("\xA9","\\copyright");ne("\xAE","\\textregistered");ne("\uFE0F","\\textregistered");ne("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ne("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ne("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ne("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ne("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");ne("\u22EE","\\vdots");ne("\\varGamma","\\mathit{\\Gamma}");ne("\\varDelta","\\mathit{\\Delta}");ne("\\varTheta","\\mathit{\\Theta}");ne("\\varLambda","\\mathit{\\Lambda}");ne("\\varXi","\\mathit{\\Xi}");ne("\\varPi","\\mathit{\\Pi}");ne("\\varSigma","\\mathit{\\Sigma}");ne("\\varUpsilon","\\mathit{\\Upsilon}");ne("\\varPhi","\\mathit{\\Phi}");ne("\\varPsi","\\mathit{\\Psi}");ne("\\varOmega","\\mathit{\\Omega}");ne("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ne("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ne("\\boxed","\\fbox{$\\displaystyle{#1}$}");ne("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ne("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ne("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var yI={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ne("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in yI?e=yI[r]:(r.substr(0,4)==="\\not"||r in En.math&&nr.contains(["bin","rel"],En.math[r].group))&&(e="\\dotsb"),e});var r_={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ne("\\dotso",function(t){var e=t.future().text;return e in r_?"\\ldots\\,":"\\ldots"});ne("\\dotsc",function(t){var e=t.future().text;return e in r_&&e!==","?"\\ldots\\,":"\\ldots"});ne("\\cdots",function(t){var e=t.future().text;return e in r_?"\\@cdots\\,":"\\@cdots"});ne("\\dotsb","\\cdots");ne("\\dotsm","\\cdots");ne("\\dotsi","\\!\\cdots");ne("\\dotsx","\\ldots\\,");ne("\\DOTSI","\\relax");ne("\\DOTSB","\\relax");ne("\\DOTSX","\\relax");ne("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ne("\\,","\\tmspace+{3mu}{.1667em}");ne("\\thinspace","\\,");ne("\\>","\\mskip{4mu}");ne("\\:","\\tmspace+{4mu}{.2222em}");ne("\\medspace","\\:");ne("\\;","\\tmspace+{5mu}{.2777em}");ne("\\thickspace","\\;");ne("\\!","\\tmspace-{3mu}{.1667em}");ne("\\negthinspace","\\!");ne("\\negmedspace","\\tmspace-{4mu}{.2222em}");ne("\\negthickspace","\\tmspace-{5mu}{.277em}");ne("\\enspace","\\kern.5em ");ne("\\enskip","\\hskip.5em\\relax");ne("\\quad","\\hskip1em\\relax");ne("\\qquad","\\hskip2em\\relax");ne("\\tag","\\@ifstar\\tag@literal\\tag@paren");ne("\\tag@paren","\\tag@literal{({#1})}");ne("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new lt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ne("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ne("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ne("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ne("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ne("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}");ne("\\newline","\\\\\\relax");ne("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var iF=ht(Nl["Main-Regular"]["T".charCodeAt(0)][1]-.7*Nl["Main-Regular"]["A".charCodeAt(0)][1]);ne("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+iF+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ne("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+iF+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ne("\\hspace","\\@ifstar\\@hspacer\\@hspace");ne("\\@hspace","\\hskip #1\\relax");ne("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ne("\\ordinarycolon",":");ne("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ne("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ne("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ne("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ne("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ne("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ne("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ne("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ne("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ne("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ne("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ne("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ne("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ne("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ne("\u2237","\\dblcolon");ne("\u2239","\\eqcolon");ne("\u2254","\\coloneqq");ne("\u2255","\\eqqcolon");ne("\u2A74","\\Coloneqq");ne("\\ratio","\\vcentcolon");ne("\\coloncolon","\\dblcolon");ne("\\colonequals","\\coloneqq");ne("\\coloncolonequals","\\Coloneqq");ne("\\equalscolon","\\eqqcolon");ne("\\equalscoloncolon","\\Eqqcolon");ne("\\colonminus","\\coloneq");ne("\\coloncolonminus","\\Coloneq");ne("\\minuscolon","\\eqcolon");ne("\\minuscoloncolon","\\Eqcolon");ne("\\coloncolonapprox","\\Colonapprox");ne("\\coloncolonsim","\\Colonsim");ne("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ne("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ne("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ne("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ne("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");ne("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ne("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ne("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ne("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ne("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ne("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ne("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ne("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ne("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");ne("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");ne("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");ne("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");ne("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");ne("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");ne("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");ne("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");ne("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");ne("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");ne("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");ne("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");ne("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");ne("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");ne("\\imath","\\html@mathml{\\@imath}{\u0131}");ne("\\jmath","\\html@mathml{\\@jmath}{\u0237}");ne("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}");ne("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}");ne("\u27E6","\\llbracket");ne("\u27E7","\\rrbracket");ne("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}");ne("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}");ne("\u2983","\\lBrace");ne("\u2984","\\rBrace");ne("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}");ne("\u29B5","\\minuso");ne("\\darr","\\downarrow");ne("\\dArr","\\Downarrow");ne("\\Darr","\\Downarrow");ne("\\lang","\\langle");ne("\\rang","\\rangle");ne("\\uarr","\\uparrow");ne("\\uArr","\\Uparrow");ne("\\Uarr","\\Uparrow");ne("\\N","\\mathbb{N}");ne("\\R","\\mathbb{R}");ne("\\Z","\\mathbb{Z}");ne("\\alef","\\aleph");ne("\\alefsym","\\aleph");ne("\\Alpha","\\mathrm{A}");ne("\\Beta","\\mathrm{B}");ne("\\bull","\\bullet");ne("\\Chi","\\mathrm{X}");ne("\\clubs","\\clubsuit");ne("\\cnums","\\mathbb{C}");ne("\\Complex","\\mathbb{C}");ne("\\Dagger","\\ddagger");ne("\\diamonds","\\diamondsuit");ne("\\empty","\\emptyset");ne("\\Epsilon","\\mathrm{E}");ne("\\Eta","\\mathrm{H}");ne("\\exist","\\exists");ne("\\harr","\\leftrightarrow");ne("\\hArr","\\Leftrightarrow");ne("\\Harr","\\Leftrightarrow");ne("\\hearts","\\heartsuit");ne("\\image","\\Im");ne("\\infin","\\infty");ne("\\Iota","\\mathrm{I}");ne("\\isin","\\in");ne("\\Kappa","\\mathrm{K}");ne("\\larr","\\leftarrow");ne("\\lArr","\\Leftarrow");ne("\\Larr","\\Leftarrow");ne("\\lrarr","\\leftrightarrow");ne("\\lrArr","\\Leftrightarrow");ne("\\Lrarr","\\Leftrightarrow");ne("\\Mu","\\mathrm{M}");ne("\\natnums","\\mathbb{N}");ne("\\Nu","\\mathrm{N}");ne("\\Omicron","\\mathrm{O}");ne("\\plusmn","\\pm");ne("\\rarr","\\rightarrow");ne("\\rArr","\\Rightarrow");ne("\\Rarr","\\Rightarrow");ne("\\real","\\Re");ne("\\reals","\\mathbb{R}");ne("\\Reals","\\mathbb{R}");ne("\\Rho","\\mathrm{P}");ne("\\sdot","\\cdot");ne("\\sect","\\S");ne("\\spades","\\spadesuit");ne("\\sub","\\subset");ne("\\sube","\\subseteq");ne("\\supe","\\supseteq");ne("\\Tau","\\mathrm{T}");ne("\\thetasym","\\vartheta");ne("\\weierp","\\wp");ne("\\Zeta","\\mathrm{Z}");ne("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ne("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ne("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ne("\\bra","\\mathinner{\\langle{#1}|}");ne("\\ket","\\mathinner{|{#1}\\rangle}");ne("\\braket","\\mathinner{\\langle{#1}\\rangle}");ne("\\Bra","\\left\\langle#1\\right|");ne("\\Ket","\\left|#1\\right\\rangle");ne("\\angln","{\\angl n}");ne("\\blue","\\textcolor{##6495ed}{#1}");ne("\\orange","\\textcolor{##ffa500}{#1}");ne("\\pink","\\textcolor{##ff00af}{#1}");ne("\\red","\\textcolor{##df0030}{#1}");ne("\\green","\\textcolor{##28ae7b}{#1}");ne("\\gray","\\textcolor{gray}{#1}");ne("\\purple","\\textcolor{##9d38bd}{#1}");ne("\\blueA","\\textcolor{##ccfaff}{#1}");ne("\\blueB","\\textcolor{##80f6ff}{#1}");ne("\\blueC","\\textcolor{##63d9ea}{#1}");ne("\\blueD","\\textcolor{##11accd}{#1}");ne("\\blueE","\\textcolor{##0c7f99}{#1}");ne("\\tealA","\\textcolor{##94fff5}{#1}");ne("\\tealB","\\textcolor{##26edd5}{#1}");ne("\\tealC","\\textcolor{##01d1c1}{#1}");ne("\\tealD","\\textcolor{##01a995}{#1}");ne("\\tealE","\\textcolor{##208170}{#1}");ne("\\greenA","\\textcolor{##b6ffb0}{#1}");ne("\\greenB","\\textcolor{##8af281}{#1}");ne("\\greenC","\\textcolor{##74cf70}{#1}");ne("\\greenD","\\textcolor{##1fab54}{#1}");ne("\\greenE","\\textcolor{##0d923f}{#1}");ne("\\goldA","\\textcolor{##ffd0a9}{#1}");ne("\\goldB","\\textcolor{##ffbb71}{#1}");ne("\\goldC","\\textcolor{##ff9c39}{#1}");ne("\\goldD","\\textcolor{##e07d10}{#1}");ne("\\goldE","\\textcolor{##a75a05}{#1}");ne("\\redA","\\textcolor{##fca9a9}{#1}");ne("\\redB","\\textcolor{##ff8482}{#1}");ne("\\redC","\\textcolor{##f9685d}{#1}");ne("\\redD","\\textcolor{##e84d39}{#1}");ne("\\redE","\\textcolor{##bc2612}{#1}");ne("\\maroonA","\\textcolor{##ffbde0}{#1}");ne("\\maroonB","\\textcolor{##ff92c6}{#1}");ne("\\maroonC","\\textcolor{##ed5fa6}{#1}");ne("\\maroonD","\\textcolor{##ca337c}{#1}");ne("\\maroonE","\\textcolor{##9e034e}{#1}");ne("\\purpleA","\\textcolor{##ddd7ff}{#1}");ne("\\purpleB","\\textcolor{##c6b9fc}{#1}");ne("\\purpleC","\\textcolor{##aa87ff}{#1}");ne("\\purpleD","\\textcolor{##7854ab}{#1}");ne("\\purpleE","\\textcolor{##543b78}{#1}");ne("\\mintA","\\textcolor{##f5f9e8}{#1}");ne("\\mintB","\\textcolor{##edf2df}{#1}");ne("\\mintC","\\textcolor{##e0e5cc}{#1}");ne("\\grayA","\\textcolor{##f6f7f7}{#1}");ne("\\grayB","\\textcolor{##f0f1f2}{#1}");ne("\\grayC","\\textcolor{##e3e5e6}{#1}");ne("\\grayD","\\textcolor{##d6d8da}{#1}");ne("\\grayE","\\textcolor{##babec2}{#1}");ne("\\grayF","\\textcolor{##888d93}{#1}");ne("\\grayG","\\textcolor{##626569}{#1}");ne("\\grayH","\\textcolor{##3b3e40}{#1}");ne("\\grayI","\\textcolor{##21242c}{#1}");ne("\\kaBlue","\\textcolor{##314453}{#1}");ne("\\kaGreen","\\textcolor{##71B307}{#1}");var aF={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class wie{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new yie(bie,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new vI(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new fs("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),o,u=0,f=0;do{if(o=this.popToken(),r.push(o),o.text==="{")++u;else if(o.text==="}"){if(--u,u===-1)throw new lt("Extra }",o)}else if(o.text==="EOF")throw new lt("Unexpected end of input in a macro argument, expected '"+(e&&n?e[f]:"}")+"'",o);if(e&&n)if((u===0||u===1&&e[f]==="{")&&o.text===e[f]){if(++f,f===e.length){r.splice(-f,f);break}}else f=0}while(u!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:o}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new lt("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var o=this.popToken();if(n[i]!==o.text)throw new lt("Use of the macro doesn't match its definition",o)}}for(var u=[],f=0;f<e;f++)u.push(this.consumeArg(r&&r[f+1]).tokens);return u}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new lt("Undefined control sequence: "+n);return this.pushToken(r),r}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new lt("Too many expansions: infinite loop or need to increase maxExpand setting");var o=i.tokens,u=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var f=o.length-1;f>=0;--f){var d=o[f];if(d.text==="#"){if(f===0)throw new lt("Incomplete placeholder at end of macro body",d);if(d=o[--f],d.text==="#")o.splice(f+1,1);else if(/^[1-9]$/.test(d.text))o.splice(f,2,...u[+d.text-1]);else throw new lt("Not a valid argument number",d)}}}return this.pushTokens(o),o}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;){var e=this.expandOnce();if(e instanceof fs)return e.treatAsRelax&&(e.text="\\relax"),this.stack.pop()}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new fs(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;){var i=this.expandOnce(!0);i instanceof fs&&(i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(this.stack.pop()))}return r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var u=i.replace(/##/g,"");u.indexOf("#"+(o+1))!==-1;)++o;for(var f=new vI(i,this.settings),d=[],g=f.lex();g.text!=="EOF";)d.push(g),g=f.lex();d.reverse();var S={tokens:d,numArgs:o};return S}return i}isDefined(e){return this.macros.has(e)||f0.hasOwnProperty(e)||En.math.hasOwnProperty(e)||En.text.hasOwnProperty(e)||aF.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:f0.hasOwnProperty(e)&&!f0[e].primitive}}var E5={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},bI={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"};class $x{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new wie(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new lt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new fs("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if($x.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&f0[i.text]&&f0[i.text].infix)break;var o=this.parseAtom(r);if(o){if(o.type==="internal")continue}else break;n.push(o)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new lt("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var o,u,f=e.slice(0,r),d=e.slice(r+1);f.length===1&&f[0].type==="ordgroup"?o=f[0]:o={type:"ordgroup",mode:this.mode,body:f},d.length===1&&d[0].type==="ordgroup"?u=d[0]:u={type:"ordgroup",mode:this.mode,body:d};var g;return n==="\\\\abovefrac"?g=this.callFunction(n,[o,e[r],u],[]):g=this.callFunction(n,[o,u],[]),[g]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new lt("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var r=this.parseGroup("atom",e);if(this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(r&&r.type==="op"){var u=o.text==="\\limits";r.limits=u,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=o.text==="\\limits");else throw new lt("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(n)throw new lt("Double superscript",o);n=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new lt("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(n)throw new lt("Double superscript",o);var f={type:"textord",mode:this.mode,text:"\\prime"},d=[f];for(this.consume();this.fetch().text==="'";)d.push(f),this.consume();this.fetch().text==="^"&&d.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:d}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,o=f0[i];if(!o)return null;if(this.consume(),r&&r!=="atom"&&!o.allowedInArgument)throw new lt("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!o.allowedInText)throw new lt("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&o.allowedInMath===!1)throw new lt("Can't use function '"+i+"' in math mode",n);var{args:u,optArgs:f}=this.parseArguments(i,o);return this.callFunction(i,u,f,n,e)}callFunction(e,r,n,i,o){var u={funcName:e,parser:this,token:i,breakOnTokenText:o},f=f0[e];if(f&&f.handler)return f.handler(u,r,n);throw new lt("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],o=[],u=0;u<n;u++){var f=r.argTypes&&r.argTypes[u],d=u<r.numOptionalArgs;(r.primitive&&f==null||r.type==="sqrt"&&u===1&&o[0]==null)&&(f="primitive");var g=this.parseGroupOfType("argument to '"+e+"'",f,d);if(d)o.push(g);else if(g!=null)i.push(g);else throw new lt("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",n);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(n)throw new lt("A primitive argument cannot be optional");var u=this.parseGroup(e);if(u==null)throw new lt("Expected group as "+e,this.fetch());return u}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new lt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,o="",u;(u=this.fetch()).text!=="EOF"&&e.test(o+u.text);)i=u,o+=i.text,this.consume();if(o==="")throw new lt("Invalid "+r+": '"+n.text+"'",n);return n.range(i,o)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new lt("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new lt("Invalid size: '"+r.text+"'",r);var o={number:+(i[1]+i[2]),unit:i[3]};if(!vj(o))throw new lt("Invalid unit: '"+o.unit+"'",r);return{type:"size",mode:this.mode,value:o,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var u={type:"ordgroup",mode:this.mode,loc:n.loc,body:o};return r&&this.switchMode(i),u}parseGroup(e,r){var n=this.fetch(),i=n.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var u=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var f=this.parseExpression(!1,u),d=this.fetch();this.expect(u),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:To.range(n,d),body:f,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(r,e)||this.parseSymbol(),o==null&&i[0]==="\\"&&!aF.hasOwnProperty(i)){if(this.settings.throwOnError)throw new lt("Undefined control sequence: "+i,n);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],o=i.text;o==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:To.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:To.range(i,e[n+1]),text:"--"}),r-=1)),(o==="'"||o==="`")&&e[n+1].text===o&&(e.splice(n,2,{type:"textord",mode:"text",loc:To.range(i,e[n+1]),text:o+o}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new lt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}bI.hasOwnProperty(r[0])&&!En[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=bI[r[0]]+r.substr(1));var o=vie.exec(r);o&&(r=r.substring(0,o.index),r==="i"?r="\u0131":r==="j"&&(r="\u0237"));var u;if(En[this.mode][r]){this.settings.strict&&this.mode==="math"&&d7.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var f=En[this.mode][r].group,d=To.range(e),g;if(lne.hasOwnProperty(f)){var S=f;g={type:"atom",mode:this.mode,family:S,loc:d,text:r}}else g={type:f,mode:this.mode,loc:d,text:r};u=g}else if(r.charCodeAt(0)>=128)this.settings.strict&&(mj(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),u={type:"textord",mode:"text",loc:To.range(e),text:r};else return null;if(this.consume(),o)for(var y=0;y<o[0].length;y++){var C=o[0][y];if(!E5[C])throw new lt("Unknown accent ' "+C+"'",e);var b=E5[C][this.mode]||E5[C].text;if(!b)throw new lt("Accent "+C+" unsupported in "+this.mode+" mode",e);u={type:"accent",mode:this.mode,loc:To.range(e),label:b,isStretchy:!1,isShifty:!0,base:u}}return u}}$x.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var n_=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new $x(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new lt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new fs("\\df@tag")])}]}return i},oF=function(e,r,n){r.textContent="";var i=i_(e,n).toNode();r.appendChild(i)};typeof document!="undefined"&&document.compatMode!=="CSS1Compat"&&(typeof console!="undefined"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),oF=function(){throw new lt("KaTeX doesn't work in quirks mode.")});var xie=function(e,r){var n=i_(e,r).toMarkup();return n},kie=function(e,r){var n=new F9(r);return n_(e,n)},sF=function(e,r,n){if(n.throwOnError||!(e instanceof lt))throw e;var i=Ae.makeSpan(["katex-error"],[new _s(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},i_=function(e,r){var n=new F9(r);try{var i=n_(e,n);return Mne(i,e,n)}catch(o){return sF(o,e,n)}},_ie=function(e,r){var n=new F9(r);try{var i=n_(e,n);return Dne(i,e,n)}catch(o){return sF(o,e,n)}},Sie={version:"0.15.3",render:oF,renderToString:xie,ParseError:lt,SETTINGS_SCHEMA:xb,__parse:kie,__renderToDomTree:i_,__renderToHTMLTree:_ie,__setFontMetrics:tne,__defineSymbol:B,__defineMacro:ne,__domTree:{Span:q1,Anchor:H9,SymbolNode:_s,SvgNode:O0,PathNode:Md,LineNode:f7}};function lF(t){var e=t.equation,r=t.inline,n=t.onClick,i=ee.exports.useRef(null);return ee.exports.useEffect(function(){var o=i.current;o!==null&&Sie.render(e,o,{displayMode:!r,errorColor:"#cc0000",output:"html",strict:"warn",throwOnError:!1,trust:!1})},[e,r]),Q("span",{role:"button",tabIndex:-1,onClick:n,ref:i})}function Cie(t){var e=t.equation,r=t.inline,n=t.nodeKey,i=lr(),o=Se(i,1),u=o[0],f=ee.exports.useState(e),d=Se(f,2),g=d[0],S=d[1],y=ee.exports.useState(!1),C=Se(y,2),b=C[0],O=C[1],_=ee.exports.useRef(null),N=ee.exports.useCallback(function(P){O(!1),u.update(function(){var M=Gt(n);Tie(M)&&(M.setEquation(g),P&&M.selectNext(0,0))})},[u,g,n]);return ee.exports.useEffect(function(){if(b)return gi(u.registerCommand(Pl,function(P){var M=document.activeElement,R=_.current;return R!==M&&N(),!1},bO),u.registerCommand(yx,function(P){var M=document.activeElement,R=_.current;return R===M?(N(!0),!0):!1},bO))},[u,N,b]),Q(Qr,{children:b?Q(Cre,{equation:g,setEquation:S,inline:r,inputRef:_}):Q(lF,{equation:g,inline:r,onClick:function(){O(!0)}})})}var qx=function(t){Fr(r,t);var e=zr(r);function r(n,i,o){var u;return ir(this,r),u=e.call(this,o),u.__equation=n,u.__inline=i!=null?i:!1,u}return ar(r,[{key:"createDOM",value:function(i){return document.createElement(this.__inline?"span":"div")}},{key:"updateDOM",value:function(i){return this.__inline!==i.__inline}},{key:"setEquation",value:function(i){var o=this.getWritable();o.__equation=i}},{key:"decorate",value:function(){return Q(Cie,{equation:this.__equation,inline:this.__inline,nodeKey:this.__key})}}],[{key:"getType",value:function(){return"equation"}},{key:"clone",value:function(i){return new r(i.__equation,i.__inline,i.__key)}}]),r}(Ju);function Eie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=new qx(t,e);return r}function Tie(t){return t instanceof qx}var uF=er();function Oie(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useEffect(function(){if(!r.hasNodes([qx]))throw new Error("ExcalidrawPlugin: ExcalidrawNode not registered on editor");return r.registerCommand(uF,function(n){var i=n.equation,o=n.inline,u=Ie();if(Pe(u)){var f=Eie(i,o);u.insertNodes([f])}return!0},Nt)},[r]),null}function wI(t,e){return t.getEditorState().read(function(){var r=Gt(e);return r===null?!1:r.isSelected()})}function cF(t){var e=lr(),r=Se(e,1),n=r[0],i=ee.exports.useState(function(){return wI(n,t)}),o=Se(i,2),u=o[0],f=o[1];ee.exports.useEffect(function(){return n.registerUpdateListener(function(){f(wI(n,t))})},[n,t]);var d=ee.exports.useCallback(function(S){n.update(function(){var y=Ie();$l(y)||(y=PY(),Mi(y)),S?y.add(t):y.delete(t)})},[n,t]),g=ee.exports.useCallback(function(){n.update(function(){var S=Ie();$l(S)&&S.clear()})},[n]);return[u,d,g]}var a_={exports:{}},fF={exports:{}};/*! For license information please see excalidraw.production.min.js.LICENSE.txt */(function(t,e){(function(r,n){t.exports=n(ee.exports,ma.exports)})(self,function(r,n){return function(){var i,o,u,f,d={7945:function(y,C,b){y.exports=b(1602)},200:function(y,C,b){var O="Expected a function",_=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,M=/^0o[0-7]+$/i,R=parseInt,D=typeof b.g=="object"&&b.g&&b.g.Object===Object&&b.g,G=typeof self=="object"&&self&&self.Object===Object&&self,V=D||G||Function("return this")(),J=Object.prototype.toString,te=Math.max,W=Math.min,ce=function(){return V.Date.now()};function ie(he,ye,Ee){var Ne,ge,De,ze,Ye,q,A=0,zt=!1,Ht=!1,Zt=!0;if(typeof he!="function")throw new TypeError(O);function Re(Kt){var br=Ne,Jr=ge;return Ne=ge=void 0,A=Kt,ze=he.apply(Jr,br)}function we(Kt){return A=Kt,Ye=setTimeout(yt,ye),zt?Re(Kt):ze}function Ke(Kt){var br=Kt-q;return q===void 0||br>=ye||br<0||Ht&&Kt-A>=De}function yt(){var Kt=ce();if(Ke(Kt))return At(Kt);Ye=setTimeout(yt,function(br){var Jr=ye-(br-q);return Ht?W(Jr,De-(br-A)):Jr}(Kt))}function At(Kt){return Ye=void 0,Zt&&Ne?Re(Kt):(Ne=ge=void 0,ze)}function kt(){var Kt=ce(),br=Ke(Kt);if(Ne=arguments,ge=this,q=Kt,br){if(Ye===void 0)return we(q);if(Ht)return Ye=setTimeout(yt,ye),Re(q)}return Ye===void 0&&(Ye=setTimeout(yt,ye)),ze}return ye=pe(ye)||0,le(Ee)&&(zt=!!Ee.leading,De=(Ht="maxWait"in Ee)?te(pe(Ee.maxWait)||0,ye):De,Zt="trailing"in Ee?!!Ee.trailing:Zt),kt.cancel=function(){Ye!==void 0&&clearTimeout(Ye),A=0,Ne=q=ge=Ye=void 0},kt.flush=function(){return Ye===void 0?ze:At(ce())},kt}function le(he){var ye=typeof he;return!!he&&(ye=="object"||ye=="function")}function pe(he){if(typeof he=="number")return he;if(function(Ne){return typeof Ne=="symbol"||function(ge){return!!ge&&typeof ge=="object"}(Ne)&&J.call(Ne)=="[object Symbol]"}(he))return NaN;if(le(he)){var ye=typeof he.valueOf=="function"?he.valueOf():he;he=le(ye)?ye+"":ye}if(typeof he!="string")return he===0?he:+he;he=he.replace(_,"");var Ee=P.test(he);return Ee||M.test(he)?R(he.slice(2),Ee?2:8):N.test(he)?NaN:+he}y.exports=function(he,ye,Ee){var Ne=!0,ge=!0;if(typeof he!="function")throw new TypeError(O);return le(Ee)&&(Ne="leading"in Ee?!!Ee.leading:Ne,ge="trailing"in Ee?!!Ee.trailing:ge),ie(he,ye,{leading:Ne,maxWait:ye,trailing:ge})}},2891:function(y,C,b){var O;y=b.nmd(y),function(){var _,N="Expected a function",P="__lodash_hash_undefined__",M="__lodash_placeholder__",R=16,D=32,G=64,V=128,J=256,te=1/0,W=9007199254740991,ce=NaN,ie=4294967295,le=[["ary",V],["bind",1],["bindKey",2],["curry",8],["curryRight",R],["flip",512],["partial",D],["partialRight",G],["rearg",J]],pe="[object Arguments]",he="[object Array]",ye="[object Boolean]",Ee="[object Date]",Ne="[object Error]",ge="[object Function]",De="[object GeneratorFunction]",ze="[object Map]",Ye="[object Number]",q="[object Object]",A="[object Promise]",zt="[object RegExp]",Ht="[object Set]",Zt="[object String]",Re="[object Symbol]",we="[object WeakMap]",Ke="[object ArrayBuffer]",yt="[object DataView]",At="[object Float32Array]",kt="[object Float64Array]",Kt="[object Int8Array]",br="[object Int16Array]",Jr="[object Int32Array]",rn="[object Uint8Array]",mr="[object Uint8ClampedArray]",Vr="[object Uint16Array]",nn="[object Uint32Array]",ho=/\b__p \+= '';/g,Qs=/\b(__p \+=) '' \+/g,ya=/(__e\(.*?\)|\b__t\)) \+\n'';/g,za=/&(?:amp|lt|gt|quot|#39);/g,ru=/[&<>"']/g,nc=RegExp(za.source),li=RegExp(ru.source),Br=/<%-([\s\S]+?)%>/g,nu=/<%([\s\S]+?)%>/g,ic=/<%=([\s\S]+?)%>/g,R0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iu=/^\w*$/,au=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Es=/[\\^$.*+?()[\]{}|]/g,Fd=RegExp(Es.source),j0=/^\s+/,zd=/\s/,ac=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yt=/\{\n\/\* \[wrapped with (.+)\] \*/,en=/,? & /,ba=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,oc=/[()=,{}\[\]\/\s]/,Bd=/\\(\\)?/g,ou=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ts=/\w*$/,F0=/^[-+]0x[0-9a-f]+$/i,sc=/^0b[01]+$/i,Ut=/^\[object .+?Constructor\]$/,Os=/^0o[0-7]+$/i,Y1=/^(?:0|[1-9]\d*)$/,X1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,su=/($^)/,Z1=/['\n\r\u2028\u2029\\]/g,ym="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xx="\\u2700-\\u27bf",lc="a-z\\xdf-\\xf6\\xf8-\\xff",z0="A-Z\\xc0-\\xd6\\xd8-\\xde",Zx="\\ufe0e\\ufe0f",Js="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bm="['\u2019]",Qx="[\\ud800-\\udfff]",B0="["+Js+"]",uc="["+ym+"]",Ji="\\d+",Hd="[\\u2700-\\u27bf]",Q1="["+lc+"]",H0="[^\\ud800-\\udfff"+Js+Ji+Xx+lc+z0+"]",wm="\\ud83c[\\udffb-\\udfff]",lu="[^\\ud800-\\udfff]",Ud="(?:\\ud83c[\\udde6-\\uddff]){2}",Sr="[\\ud800-\\udbff][\\udc00-\\udfff]",el="["+z0+"]",po="(?:"+Q1+"|"+H0+")",cc="(?:"+el+"|"+H0+")",Nr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Uo="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",J1="(?:"+uc+"|"+wm+")?",un="[\\ufe0e\\ufe0f]?",tl=un+J1+("(?:\\u200d(?:"+[lu,Ud,Sr].join("|")+")"+un+J1+")*"),wa="(?:"+[Hd,Ud,Sr].join("|")+")"+tl,ey="(?:"+[lu+uc+"?",uc,Ud,Sr,Qx].join("|")+")",U0=RegExp(bm,"g"),Kd=RegExp(uc,"g"),Ba=RegExp(wm+"(?="+wm+")|"+ey+tl,"g"),Cr=RegExp([el+"?"+Q1+"+"+Nr+"(?="+[B0,el,"$"].join("|")+")",cc+"+"+Uo+"(?="+[B0,el+po,"$"].join("|")+")",el+"?"+po+"+"+Nr,el+"+"+Uo,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ji,wa].join("|"),"g"),K0=RegExp("[\\u200d\\ud800-\\udfff"+ym+Zx+"]"),xm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ha=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rl=-1,cn={};cn[At]=cn[kt]=cn[Kt]=cn[br]=cn[Jr]=cn[rn]=cn[mr]=cn[Vr]=cn[nn]=!0,cn[pe]=cn[he]=cn[Ke]=cn[ye]=cn[yt]=cn[Ee]=cn[Ne]=cn[ge]=cn[ze]=cn[Ye]=cn[q]=cn[zt]=cn[Ht]=cn[Zt]=cn[we]=!1;var Kr={};Kr[pe]=Kr[he]=Kr[Ke]=Kr[yt]=Kr[ye]=Kr[Ee]=Kr[At]=Kr[kt]=Kr[Kt]=Kr[br]=Kr[Jr]=Kr[ze]=Kr[Ye]=Kr[q]=Kr[zt]=Kr[Ht]=Kr[Zt]=Kr[Re]=Kr[rn]=Kr[mr]=Kr[Vr]=Kr[nn]=!0,Kr[Ne]=Kr[ge]=Kr[we]=!1;var W0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jx=parseFloat,Ua=parseInt,ty=typeof b.g=="object"&&b.g&&b.g.Object===Object&&b.g,Wd=typeof self=="object"&&self&&self.Object===Object&&self,ui=ty||Wd||Function("return this")(),km=C&&!C.nodeType&&C,xr=km&&y&&!y.nodeType&&y,nl=xr&&xr.exports===km,fc=nl&&ty.process,ea=function(){try{var fe=xr&&xr.require&&xr.require("util").types;return fe||fc&&fc.binding&&fc.binding("util")}catch{}}(),ry=ea&&ea.isArrayBuffer,ny=ea&&ea.isDate,dc=ea&&ea.isMap,Zn=ea&&ea.isRegExp,uu=ea&&ea.isSet,_m=ea&&ea.isTypedArray;function Li(fe,je,qe){switch(qe.length){case 0:return fe.call(je);case 1:return fe.call(je,qe[0]);case 2:return fe.call(je,qe[0],qe[1]);case 3:return fe.call(je,qe[0],qe[1],qe[2])}return fe.apply(je,qe)}function fr(fe,je,qe,pt){for(var or=-1,Ir=fe==null?0:fe.length;++or<Ir;){var fn=fe[or];je(pt,fn,qe(fn),fe)}return pt}function ta(fe,je){for(var qe=-1,pt=fe==null?0:fe.length;++qe<pt&&je(fe[qe],qe,fe)!==!1;);return fe}function il(fe,je){for(var qe=fe==null?0:fe.length;qe--&&je(fe[qe],qe,fe)!==!1;);return fe}function As(fe,je){for(var qe=-1,pt=fe==null?0:fe.length;++qe<pt;)if(!je(fe[qe],qe,fe))return!1;return!0}function bi(fe,je){for(var qe=-1,pt=fe==null?0:fe.length,or=0,Ir=[];++qe<pt;){var fn=fe[qe];je(fn,qe,fe)&&(Ir[or++]=fn)}return Ir}function $0(fe,je){return!!(fe!=null&&fe.length)&&pc(fe,je,0)>-1}function $d(fe,je,qe){for(var pt=-1,or=fe==null?0:fe.length;++pt<or;)if(qe(je,fe[pt]))return!0;return!1}function kn(fe,je){for(var qe=-1,pt=fe==null?0:fe.length,or=Array(pt);++qe<pt;)or[qe]=je(fe[qe],qe,fe);return or}function al(fe,je){for(var qe=-1,pt=je.length,or=fe.length;++qe<pt;)fe[or+qe]=je[qe];return fe}function Sm(fe,je,qe,pt){var or=-1,Ir=fe==null?0:fe.length;for(pt&&Ir&&(qe=fe[++or]);++or<Ir;)qe=je(qe,fe[or],or,fe);return qe}function e3(fe,je,qe,pt){var or=fe==null?0:fe.length;for(pt&&or&&(qe=fe[--or]);or--;)qe=je(qe,fe[or],or,fe);return qe}function Cm(fe,je){for(var qe=-1,pt=fe==null?0:fe.length;++qe<pt;)if(je(fe[qe],qe,fe))return!0;return!1}var qd=Gd("length");function hc(fe,je,qe){var pt;return qe(fe,function(or,Ir,fn){if(je(or,Ir,fn))return pt=Ir,!1}),pt}function Vd(fe,je,qe,pt){for(var or=fe.length,Ir=qe+(pt?1:-1);pt?Ir--:++Ir<or;)if(je(fe[Ir],Ir,fe))return Ir;return-1}function pc(fe,je,qe){return je==je?function(pt,or,Ir){for(var fn=Ir-1,Ka=pt.length;++fn<Ka;)if(pt[fn]===or)return fn;return-1}(fe,je,qe):Vd(fe,Em,qe)}function t3(fe,je,qe,pt){for(var or=qe-1,Ir=fe.length;++or<Ir;)if(pt(fe[or],je))return or;return-1}function Em(fe){return fe!=fe}function iy(fe,je){var qe=fe==null?0:fe.length;return qe?Am(fe,je)/qe:ce}function Gd(fe){return function(je){return je==null?_:je[fe]}}function Tm(fe){return function(je){return fe==null?_:fe[je]}}function Om(fe,je,qe,pt,or){return or(fe,function(Ir,fn,Ka){qe=pt?(pt=!1,Ir):je(qe,Ir,fn,Ka)}),qe}function Am(fe,je){for(var qe,pt=-1,or=fe.length;++pt<or;){var Ir=je(fe[pt]);Ir!==_&&(qe=qe===_?Ir:qe+Ir)}return qe}function Im(fe,je){for(var qe=-1,pt=Array(fe);++qe<fe;)pt[qe]=je(qe);return pt}function Mm(fe){return fe&&fe.slice(0,On(fe)+1).replace(j0,"")}function xa(fe){return function(je){return fe(je)}}function Dm(fe,je){return kn(je,function(qe){return fe[qe]})}function q0(fe,je){return fe.has(je)}function Be(fe,je){for(var qe=-1,pt=fe.length;++qe<pt&&pc(je,fe[qe],0)>-1;);return qe}function mc(fe,je){for(var qe=fe.length;qe--&&pc(je,fe[qe],0)>-1;);return qe}function Pm(fe,je){for(var qe=fe.length,pt=0;qe--;)fe[qe]===je&&++pt;return pt}var V0=Tm({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),ay=Tm({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function r3(fe){return"\\"+W0[fe]}function Ko(fe){return K0.test(fe)}function Wo(fe){var je=-1,qe=Array(fe.size);return fe.forEach(function(pt,or){qe[++je]=[or,pt]}),qe}function G0(fe,je){return function(qe){return fe(je(qe))}}function mn(fe,je){for(var qe=-1,pt=fe.length,or=0,Ir=[];++qe<pt;){var fn=fe[qe];fn!==je&&fn!==M||(fe[qe]=M,Ir[or++]=qe)}return Ir}function vc(fe){var je=-1,qe=Array(fe.size);return fe.forEach(function(pt){qe[++je]=pt}),qe}function n3(fe){var je=-1,qe=Array(fe.size);return fe.forEach(function(pt){qe[++je]=[pt,pt]}),qe}function wi(fe){return Ko(fe)?function(je){for(var qe=Ba.lastIndex=0;Ba.test(je);)++qe;return qe}(fe):qd(fe)}function Qn(fe){return Ko(fe)?function(je){return je.match(Ba)||[]}(fe):function(je){return je.split("")}(fe)}function On(fe){for(var je=fe.length;je--&&zd.test(fe.charAt(je)););return je}var ol=Tm({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Y0=function fe(je){var qe,pt=(je=je==null?ui:Y0.defaults(ui.Object(),je,Y0.pick(ui,Ha))).Array,or=je.Date,Ir=je.Error,fn=je.Function,Ka=je.Math,Gr=je.Object,vn=je.RegExp,Lm=je.String,xi=je.TypeError,Ni=pt.prototype,X0=fn.prototype,cu=Gr.prototype,Yd=je["__core-js_shared__"],Z0=X0.toString,Yr=cu.hasOwnProperty,fu=0,oy=(qe=/[^.]+$/.exec(Yd&&Yd.keys&&Yd.keys.IE_PROTO||""))?"Symbol(src)_1."+qe:"",Q0=cu.toString,sy=Z0.call(Gr),i3=ui._,ly=vn("^"+Z0.call(Yr).replace(Es,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ra=nl?je.Buffer:_,ni=je.Symbol,na=je.Uint8Array,gc=ra?ra.allocUnsafe:_,Xd=G0(Gr.getPrototypeOf,Gr),uy=Gr.create,Nm=cu.propertyIsEnumerable,J0=Ni.splice,cy=ni?ni.isConcatSpreadable:_,Is=ni?ni.iterator:_,Ms=ni?ni.toStringTag:_,ef=function(){try{var p=on(Gr,"defineProperty");return p({},"",{}),p}catch{}}(),yc=je.clearTimeout!==ui.clearTimeout&&je.clearTimeout,a3=or&&or.now!==ui.Date.now&&or.now,tf=je.setTimeout!==ui.setTimeout&&je.setTimeout,Zd=Ka.ceil,rf=Ka.floor,nf=Gr.getOwnPropertySymbols,Rm=ra?ra.isBuffer:_,sl=je.isFinite,gn=Ni.join,Qd=G0(Gr.keys,Gr),Bn=Ka.max,ki=Ka.min,Ds=or.now,fy=je.parseInt,Jd=Ka.random,af=Ni.reverse,bc=on(je,"DataView"),ll=on(je,"Map"),eh=on(je,"Promise"),du=on(je,"Set"),of=on(je,"WeakMap"),ia=on(Gr,"create"),ul=of&&new of,Hi={},dy=Fs(bc),cl=Fs(ll),hy=Fs(eh),o3=Fs(du),py=Fs(of),sf=ni?ni.prototype:_,lf=sf?sf.valueOf:_,jm=sf?sf.toString:_;function re(p){if(_n(p)&&!ur(p)&&!(p instanceof Er)){if(p instanceof aa)return p;if(Yr.call(p,"__wrapped__"))return av(p)}return new aa(p)}var hu=function(){function p(){}return function(k){if(!An(k))return{};if(uy)return uy(k);p.prototype=k;var I=new p;return p.prototype=_,I}}();function uf(){}function aa(p,k){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!k,this.__index__=0,this.__values__=_}function Er(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function $o(p){var k=-1,I=p==null?0:p.length;for(this.clear();++k<I;){var H=p[k];this.set(H[0],H[1])}}function Hn(p){var k=-1,I=p==null?0:p.length;for(this.clear();++k<I;){var H=p[k];this.set(H[0],H[1])}}function oa(p){var k=-1,I=p==null?0:p.length;for(this.clear();++k<I;){var H=p[k];this.set(H[0],H[1])}}function mo(p){var k=-1,I=p==null?0:p.length;for(this.__data__=new oa;++k<I;)this.add(p[k])}function Un(p){var k=this.__data__=new Hn(p);this.size=k.size}function cf(p,k){var I=ur(p),H=!I&&Eu(p),Y=!I&&!H&&yl(p),ae=!I&&!H&&!Y&&Dc(p),me=I||H||Y||ae,xe=me?Im(p.length,Lm):[],be=xe.length;for(var Xe in p)!k&&!Yr.call(p,Xe)||me&&(Xe=="length"||Y&&(Xe=="offset"||Xe=="parent")||ae&&(Xe=="buffer"||Xe=="byteLength"||Xe=="byteOffset")||Zo(Xe,be))||xe.push(Xe);return xe}function Fm(p){var k=p.length;return k?p[mf(0,k-1)]:_}function my(p,k){return If(Si(p),pu(k,0,p.length))}function vy(p){return If(Si(p))}function ff(p,k,I){(I!==_&&!xo(p[k],I)||I===_&&!(k in p))&&qo(p,k,I)}function df(p,k,I){var H=p[k];Yr.call(p,k)&&xo(H,I)&&(I!==_||k in p)||qo(p,k,I)}function hf(p,k){for(var I=p.length;I--;)if(xo(p[I][0],k))return I;return-1}function gy(p,k,I,H){return qa(p,function(Y,ae,me){k(H,Y,I(Y),me)}),H}function th(p,k){return p&&bo(k,Jn(k),p)}function qo(p,k,I){k=="__proto__"&&ef?ef(p,k,{configurable:!0,enumerable:!0,value:I,writable:!0}):p[k]=I}function zm(p,k){for(var I=-1,H=k.length,Y=pt(H),ae=p==null;++I<H;)Y[I]=ae?_:mv(p,k[I]);return Y}function pu(p,k,I){return p==p&&(I!==_&&(p=p<=I?p:I),k!==_&&(p=p>=k?p:k)),p}function Wa(p,k,I,H,Y,ae){var me,xe=1&k,be=2&k,Xe=4&k;if(I&&(me=Y?I(p,H,Y,ae):I(p)),me!==_)return me;if(!An(p))return p;var Ve=ur(p);if(Ve){if(me=function(Qe){var Fe=Qe.length,$t=new Qe.constructor(Fe);return Fe&&typeof Qe[0]=="string"&&Yr.call(Qe,"index")&&($t.index=Qe.index,$t.input=Qe.input),$t}(p),!xe)return Si(p,me)}else{var nt=Ci(p),Ot=nt==ge||nt==De;if(yl(p))return Sy(p,xe);if(nt==q||nt==pe||Ot&&!Y){if(me=be||Ot?{}:Oc(p),!xe)return be?function(Qe,Fe){return bo(Qe,Ry(Qe),Fe)}(p,function(Qe,Fe){return Qe&&bo(Fe,$i(Fe),Qe)}(me,p)):function(Qe,Fe){return bo(Qe,Wr(Qe),Fe)}(p,th(me,p))}else{if(!Kr[nt])return Y?p:{};me=function(Qe,Fe,$t){var Et=Qe.constructor;switch(Fe){case Ke:return ch(Qe);case ye:case Ee:return new Et(+Qe);case yt:return function(Qt,kr){var jt=kr?ch(Qt.buffer):Qt.buffer;return new Qt.constructor(jt,Qt.byteOffset,Qt.byteLength)}(Qe,$t);case At:case kt:case Kt:case br:case Jr:case rn:case mr:case Vr:case nn:return bf(Qe,$t);case ze:case Ht:return new Et;case Ye:case Zt:return new Et(Qe);case zt:return function(Qt){var kr=new Qt.constructor(Qt.source,Ts.exec(Qt));return kr.lastIndex=Qt.lastIndex,kr}(Qe);case Re:return Mt=Qe,lf?Gr(lf.call(Mt)):{}}var Mt}(p,nt,xe)}}ae||(ae=new Un);var It=ae.get(p);if(It)return It;ae.set(p,me),p2(p)?p.forEach(function(Qe){me.add(Wa(Qe,k,I,Qe,p,ae))}):d2(p)&&p.forEach(function(Qe,Fe){me.set(Fe,Wa(Qe,k,I,Fe,p,ae))});var Ct=Ve?_:(Xe?be?hh:Cf:be?$i:Jn)(p);return ta(Ct||p,function(Qe,Fe){Ct&&(Qe=p[Fe=Qe]),df(me,Fe,Wa(Qe,k,I,Fe,p,ae))}),me}function mu(p,k,I){var H=I.length;if(p==null)return!H;for(p=Gr(p);H--;){var Y=I[H],ae=k[Y],me=p[Y];if(me===_&&!(Y in p)||!ae(me))return!1}return!0}function $a(p,k,I){if(typeof p!="function")throw new xi(N);return Ic(function(){p.apply(_,I)},k)}function wc(p,k,I,H){var Y=-1,ae=$0,me=!0,xe=p.length,be=[],Xe=k.length;if(!xe)return be;I&&(k=kn(k,xa(I))),H?(ae=$d,me=!1):k.length>=200&&(ae=q0,me=!1,k=new mo(k));e:for(;++Y<xe;){var Ve=p[Y],nt=I==null?Ve:I(Ve);if(Ve=H||Ve!==0?Ve:0,me&&nt==nt){for(var Ot=Xe;Ot--;)if(k[Ot]===nt)continue e;be.push(Ve)}else ae(k,nt,H)||be.push(Ve)}return be}re.templateSettings={escape:Br,evaluate:nu,interpolate:ic,variable:"",imports:{_:re}},re.prototype=uf.prototype,re.prototype.constructor=re,aa.prototype=hu(uf.prototype),aa.prototype.constructor=aa,Er.prototype=hu(uf.prototype),Er.prototype.constructor=Er,$o.prototype.clear=function(){this.__data__=ia?ia(null):{},this.size=0},$o.prototype.delete=function(p){var k=this.has(p)&&delete this.__data__[p];return this.size-=k?1:0,k},$o.prototype.get=function(p){var k=this.__data__;if(ia){var I=k[p];return I===P?_:I}return Yr.call(k,p)?k[p]:_},$o.prototype.has=function(p){var k=this.__data__;return ia?k[p]!==_:Yr.call(k,p)},$o.prototype.set=function(p,k){var I=this.__data__;return this.size+=this.has(p)?0:1,I[p]=ia&&k===_?P:k,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(p){var k=this.__data__,I=hf(k,p);return!(I<0)&&(I==k.length-1?k.pop():J0.call(k,I,1),--this.size,!0)},Hn.prototype.get=function(p){var k=this.__data__,I=hf(k,p);return I<0?_:k[I][1]},Hn.prototype.has=function(p){return hf(this.__data__,p)>-1},Hn.prototype.set=function(p,k){var I=this.__data__,H=hf(I,p);return H<0?(++this.size,I.push([p,k])):I[H][1]=k,this},oa.prototype.clear=function(){this.size=0,this.__data__={hash:new $o,map:new(ll||Hn),string:new $o}},oa.prototype.delete=function(p){var k=Ef(this,p).delete(p);return this.size-=k?1:0,k},oa.prototype.get=function(p){return Ef(this,p).get(p)},oa.prototype.has=function(p){return Ef(this,p).has(p)},oa.prototype.set=function(p,k){var I=Ef(this,p),H=I.size;return I.set(p,k),this.size+=I.size==H?0:1,this},mo.prototype.add=mo.prototype.push=function(p){return this.__data__.set(p,P),this},mo.prototype.has=function(p){return this.__data__.has(p)},Un.prototype.clear=function(){this.__data__=new Hn,this.size=0},Un.prototype.delete=function(p){var k=this.__data__,I=k.delete(p);return this.size=k.size,I},Un.prototype.get=function(p){return this.__data__.get(p)},Un.prototype.has=function(p){return this.__data__.has(p)},Un.prototype.set=function(p,k){var I=this.__data__;if(I instanceof Hn){var H=I.__data__;if(!ll||H.length<199)return H.push([p,k]),this.size=++I.size,this;I=this.__data__=new oa(H)}return I.set(p,k),this.size=I.size,this};var qa=kf(Vo),vt=kf(nh,!0);function an(p,k){var I=!0;return qa(p,function(H,Y,ae){return I=!!k(H,Y,ae)}),I}function vu(p,k,I){for(var H=-1,Y=p.length;++H<Y;){var ae=p[H],me=k(ae);if(me!=null&&(xe===_?me==me&&!Sa(me):I(me,xe)))var xe=me,be=ae}return be}function fl(p,k){var I=[];return qa(p,function(H,Y,ae){k(H,Y,ae)&&I.push(H)}),I}function ii(p,k,I,H,Y){var ae=-1,me=p.length;for(I||(I=jy),Y||(Y=[]);++ae<me;){var xe=p[ae];k>0&&I(xe)?k>1?ii(xe,k-1,I,H,Y):al(Y,xe):H||(Y[Y.length]=xe)}return Y}var rh=Ey(),xc=Ey(!0);function Vo(p,k){return p&&rh(p,k,Jn)}function nh(p,k){return p&&xc(p,k,Jn)}function pf(p,k){return bi(k,function(I){return zs(p[I])})}function Nn(p,k){for(var I=0,H=(k=Ls(k,p)).length;p!=null&&I<H;)p=p[wo(k[I++])];return I&&I==H?p:_}function Bm(p,k,I){var H=k(p);return ur(p)?H:al(H,I(p))}function _i(p){return p==null?p===_?"[object Undefined]":"[object Null]":Ms&&Ms in Gr(p)?function(k){var I=Yr.call(k,Ms),H=k[Ms];try{k[Ms]=_;var Y=!0}catch{}var ae=Q0.call(k);return Y&&(I?k[Ms]=H:delete k[Ms]),ae}(p):function(k){return Q0.call(k)}(p)}function ih(p,k){return p>k}function kc(p,k){return p!=null&&Yr.call(p,k)}function Go(p,k){return p!=null&&k in Gr(p)}function gu(p,k,I){for(var H=I?$d:$0,Y=p[0].length,ae=p.length,me=ae,xe=pt(ae),be=1/0,Xe=[];me--;){var Ve=p[me];me&&k&&(Ve=kn(Ve,xa(k))),be=ki(Ve.length,be),xe[me]=!I&&(k||Y>=120&&Ve.length>=120)?new mo(me&&Ve):_}Ve=p[0];var nt=-1,Ot=xe[0];e:for(;++nt<Y&&Xe.length<be;){var It=Ve[nt],Ct=k?k(It):It;if(It=I||It!==0?It:0,!(Ot?q0(Ot,Ct):H(Xe,Ct,I))){for(me=ae;--me;){var Qe=xe[me];if(!(Qe?q0(Qe,Ct):H(p[me],Ct,I)))continue e}Ot&&Ot.push(Ct),Xe.push(It)}}return Xe}function ka(p,k,I){var H=(p=zy(p,k=Ls(k,p)))==null?p:p[wo(_a(k))];return H==null?_:Li(H,p,I)}function yy(p){return _n(p)&&_i(p)==pe}function _c(p,k,I,H,Y){return p===k||(p==null||k==null||!_n(p)&&!_n(k)?p!=p&&k!=k:function(ae,me,xe,be,Xe,Ve){var nt=ur(ae),Ot=ur(me),It=nt?he:Ci(ae),Ct=Ot?he:Ci(me),Qe=(It=It==pe?q:It)==q,Fe=(Ct=Ct==pe?q:Ct)==q,$t=It==Ct;if($t&&yl(ae)){if(!yl(me))return!1;nt=!0,Qe=!1}if($t&&!Qe)return Ve||(Ve=new Un),nt||Dc(ae)?ev(ae,me,xe,be,Xe,Ve):function(jt,qt,ai,la,ko,ei,Bs){switch(ai){case yt:if(jt.byteLength!=qt.byteLength||jt.byteOffset!=qt.byteOffset)return!1;jt=jt.buffer,qt=qt.buffer;case Ke:return!(jt.byteLength!=qt.byteLength||!ei(new na(jt),new na(qt)));case ye:case Ee:case Ye:return xo(+jt,+qt);case Ne:return jt.name==qt.name&&jt.message==qt.message;case zt:case Zt:return jt==qt+"";case ze:var kl=Wo;case Ht:var Lf=1&la;if(kl||(kl=vc),jt.size!=qt.size&&!Lf)return!1;var Lh=Bs.get(jt);if(Lh)return Lh==qt;la|=2,Bs.set(jt,qt);var Nc=ev(kl(jt),kl(qt),la,ko,ei,Bs);return Bs.delete(jt),Nc;case Re:if(lf)return lf.call(jt)==lf.call(qt)}return!1}(ae,me,It,xe,be,Xe,Ve);if(!(1&xe)){var Et=Qe&&Yr.call(ae,"__wrapped__"),Mt=Fe&&Yr.call(me,"__wrapped__");if(Et||Mt){var Qt=Et?ae.value():ae,kr=Mt?me.value():me;return Ve||(Ve=new Un),Xe(Qt,kr,xe,be,Ve)}}return $t?(Ve||(Ve=new Un),function(jt,qt,ai,la,ko,ei){var Bs=1&ai,kl=Cf(jt),Lf=kl.length,Lh=Cf(qt).length;if(Lf!=Lh&&!Bs)return!1;for(var Nc=Lf;Nc--;){var Tu=kl[Nc];if(!(Bs?Tu in qt:Yr.call(qt,Tu)))return!1}var N2=ei.get(jt),R2=ei.get(qt);if(N2&&R2)return N2==qt&&R2==jt;var Nf=!0;ei.set(jt,qt),ei.set(qt,jt);for(var Nh=Bs;++Nc<Lf;){var Rh=jt[Tu=kl[Nc]],Rf=qt[Tu];if(la)var jf=Bs?la(Rf,Rh,Tu,qt,jt,ei):la(Rh,Rf,Tu,jt,qt,ei);if(!(jf===_?Rh===Rf||ko(Rh,Rf,ai,la,ei):jf)){Nf=!1;break}Nh||(Nh=Tu=="constructor")}if(Nf&&!Nh){var jh=jt.constructor,Fh=qt.constructor;jh==Fh||!("constructor"in jt)||!("constructor"in qt)||typeof jh=="function"&&jh instanceof jh&&typeof Fh=="function"&&Fh instanceof Fh||(Nf=!1)}return ei.delete(jt),ei.delete(qt),Nf}(ae,me,xe,be,Xe,Ve)):!1}(p,k,I,H,_c,Y))}function Hm(p,k,I,H){var Y=I.length,ae=Y,me=!H;if(p==null)return!ae;for(p=Gr(p);Y--;){var xe=I[Y];if(me&&xe[2]?xe[1]!==p[xe[0]]:!(xe[0]in p))return!1}for(;++Y<ae;){var be=(xe=I[Y])[0],Xe=p[be],Ve=xe[1];if(me&&xe[2]){if(Xe===_&&!(be in p))return!1}else{var nt=new Un;if(H)var Ot=H(Xe,Ve,be,p,k,nt);if(!(Ot===_?_c(Ve,Xe,3,H,nt):Ot))return!1}}return!0}function Um(p){return!(!An(p)||(k=p,oy&&oy in k))&&(zs(p)?ly:Ut).test(Fs(p));var k}function Yo(p){return typeof p=="function"?p:p==null?ci:typeof p=="object"?ur(p)?wu(p[0],p[1]):by(p):A2(p)}function yu(p){if(!Ac(p))return Qd(p);var k=[];for(var I in Gr(p))Yr.call(p,I)&&I!="constructor"&&k.push(I);return k}function ah(p){if(!An(p))return function(Y){var ae=[];if(Y!=null)for(var me in Gr(Y))ae.push(me);return ae}(p);var k=Ac(p),I=[];for(var H in p)(H!="constructor"||!k&&Yr.call(p,H))&&I.push(H);return I}function oh(p,k){return p<k}function bu(p,k){var I=-1,H=Ri(p)?pt(p.length):[];return qa(p,function(Y,ae,me){H[++I]=k(Y,ae,me)}),H}function by(p){var k=mh(p);return k.length==1&&k[0][2]?Fy(k[0][0],k[0][1]):function(I){return I===p||Hm(I,p,k)}}function wu(p,k){return Tf(p)&&rv(k)?Fy(wo(p),k):function(I){var H=mv(I,p);return H===_&&H===k?bl(I,p):_c(k,H,3)}}function xu(p,k,I,H,Y){p!==k&&rh(k,function(ae,me){if(Y||(Y=new Un),An(ae))(function(be,Xe,Ve,nt,Ot,It,Ct){var Qe=nv(be,Ve),Fe=nv(Xe,Ve),$t=Ct.get(Fe);if($t)return void ff(be,Ve,$t);var Et=It?It(Qe,Fe,Ve+"",be,Xe,Ct):_,Mt=Et===_;if(Mt){var Qt=ur(Fe),kr=!Qt&&yl(Fe),jt=!Qt&&!kr&&Dc(Fe);Et=Fe,Qt||kr||jt?ur(Qe)?Et=Qe:Kn(Qe)?Et=Si(Qe):kr?(Mt=!1,Et=Sy(Fe,!0)):jt?(Mt=!1,Et=bf(Fe,!0)):Et=[]:Df(Fe)||Eu(Fe)?(Et=Qe,Eu(Qe)?Et=y2(Qe):An(Qe)&&!zs(Qe)||(Et=Oc(Fe))):Mt=!1}Mt&&(Ct.set(Fe,Et),Ot(Et,Fe,nt,It,Ct),Ct.delete(Fe)),ff(be,Ve,Et)})(p,k,me,I,xu,H,Y);else{var xe=H?H(nv(p,me),ae,me+"",p,k,Y):_;xe===_&&(xe=ae),ff(p,me,xe)}},$i)}function sh(p,k){var I=p.length;if(I)return Zo(k+=k<0?I:0,I)?p[k]:_}function Km(p,k,I){k=k.length?kn(k,function(ae){return ur(ae)?function(me){return Nn(me,ae.length===1?ae[0]:ae)}:ae}):[ci];var H=-1;k=kn(k,xa(Wt()));var Y=bu(p,function(ae,me,xe){var be=kn(k,function(Xe){return Xe(ae)});return{criteria:be,index:++H,value:ae}});return function(ae,me){var xe=ae.length;for(ae.sort(me);xe--;)ae[xe]=ae[xe].value;return ae}(Y,function(ae,me){return function(xe,be,Xe){for(var Ve=-1,nt=xe.criteria,Ot=be.criteria,It=nt.length,Ct=Xe.length;++Ve<It;){var Qe=Cy(nt[Ve],Ot[Ve]);if(Qe)return Ve>=Ct?Qe:Qe*(Xe[Ve]=="desc"?-1:1)}return xe.index-be.index}(ae,me,I)})}function Wm(p,k,I){for(var H=-1,Y=k.length,ae={};++H<Y;){var me=k[H],xe=Nn(p,me);I(xe,me)&&go(ae,Ls(me,p),xe)}return ae}function $m(p,k,I,H){var Y=H?t3:pc,ae=-1,me=k.length,xe=p;for(p===k&&(k=Si(k)),I&&(xe=kn(p,xa(I)));++ae<me;)for(var be=0,Xe=k[ae],Ve=I?I(Xe):Xe;(be=Y(xe,Ve,be,H))>-1;)xe!==p&&J0.call(xe,be,1),J0.call(p,be,1);return p}function qm(p,k){for(var I=p?k.length:0,H=I-1;I--;){var Y=k[I];if(I==H||Y!==ae){var ae=Y;Zo(Y)?J0.call(p,Y,1):ku(p,Y)}}return p}function mf(p,k){return p+rf(Jd()*(k-p+1))}function vo(p,k){var I="";if(!p||k<1||k>W)return I;do k%2&&(I+=p),(k=rf(k/2))&&(p+=p);while(k);return I}function vr(p,k){return vh(js(p,k,ci),p+"")}function Vm(p){return Fm(Rr(p))}function Ui(p,k){var I=Rr(p);return If(I,pu(k,0,I.length))}function go(p,k,I,H){if(!An(p))return p;for(var Y=-1,ae=(k=Ls(k,p)).length,me=ae-1,xe=p;xe!=null&&++Y<ae;){var be=wo(k[Y]),Xe=I;if(be==="__proto__"||be==="constructor"||be==="prototype")return p;if(Y!=me){var Ve=xe[be];(Xe=H?H(Ve,be,xe):_)===_&&(Xe=An(Ve)?Ve:Zo(k[Y+1])?[]:{})}df(xe,be,Xe),xe=xe[be]}return p}var vf=ul?function(p,k){return ul.set(p,k),p}:ci,wy=ef?function(p,k){return ef(p,"toString",{configurable:!0,enumerable:!1,value:Mh(k),writable:!0})}:ci;function Sc(p){return If(Rr(p))}function Va(p,k,I){var H=-1,Y=p.length;k<0&&(k=-k>Y?0:Y+k),(I=I>Y?Y:I)<0&&(I+=Y),Y=k>I?0:I-k>>>0,k>>>=0;for(var ae=pt(Y);++H<Y;)ae[H]=p[H+k];return ae}function xy(p,k){var I;return qa(p,function(H,Y,ae){return!(I=k(H,Y,ae))}),!!I}function gf(p,k,I){var H=0,Y=p==null?H:p.length;if(typeof k=="number"&&k==k&&Y<=2147483647){for(;H<Y;){var ae=H+Y>>>1,me=p[ae];me!==null&&!Sa(me)&&(I?me<=k:me<k)?H=ae+1:Y=ae}return Y}return lh(p,k,ci,I)}function lh(p,k,I,H){var Y=0,ae=p==null?0:p.length;if(ae===0)return 0;for(var me=(k=I(k))!=k,xe=k===null,be=Sa(k),Xe=k===_;Y<ae;){var Ve=rf((Y+ae)/2),nt=I(p[Ve]),Ot=nt!==_,It=nt===null,Ct=nt==nt,Qe=Sa(nt);if(me)var Fe=H||Ct;else Fe=Xe?Ct&&(H||Ot):xe?Ct&&Ot&&(H||!It):be?Ct&&Ot&&!It&&(H||!Qe):!It&&!Qe&&(H?nt<=k:nt<k);Fe?Y=Ve+1:ae=Ve}return ki(ae,4294967294)}function yf(p,k){for(var I=-1,H=p.length,Y=0,ae=[];++I<H;){var me=p[I],xe=k?k(me):me;if(!I||!xo(xe,be)){var be=xe;ae[Y++]=me===0?0:me}}return ae}function ky(p){return typeof p=="number"?p:Sa(p)?ce:+p}function Ki(p){if(typeof p=="string")return p;if(ur(p))return kn(p,Ki)+"";if(Sa(p))return jm?jm.call(p):"";var k=p+"";return k=="0"&&1/p==-1/0?"-0":k}function Ga(p,k,I){var H=-1,Y=$0,ae=p.length,me=!0,xe=[],be=xe;if(I)me=!1,Y=$d;else if(ae>=200){var Xe=k?null:s3(p);if(Xe)return vc(Xe);me=!1,Y=q0,be=new mo}else be=k?[]:xe;e:for(;++H<ae;){var Ve=p[H],nt=k?k(Ve):Ve;if(Ve=I||Ve!==0?Ve:0,me&&nt==nt){for(var Ot=be.length;Ot--;)if(be[Ot]===nt)continue e;k&&be.push(nt),xe.push(Ve)}else Y(be,nt,I)||(be!==xe&&be.push(nt),xe.push(Ve))}return xe}function ku(p,k){return(p=zy(p,k=Ls(k,p)))==null||delete p[wo(_a(k))]}function _y(p,k,I,H){return go(p,k,I(Nn(p,k)),H)}function Ps(p,k,I,H){for(var Y=p.length,ae=H?Y:-1;(H?ae--:++ae<Y)&&k(p[ae],ae,p););return I?Va(p,H?0:ae,H?ae+1:Y):Va(p,H?ae+1:0,H?Y:ae)}function dl(p,k){var I=p;return I instanceof Er&&(I=I.value()),Sm(k,function(H,Y){return Y.func.apply(Y.thisArg,al([H],Y.args))},I)}function Gm(p,k,I){var H=p.length;if(H<2)return H?Ga(p[0]):[];for(var Y=-1,ae=pt(H);++Y<H;)for(var me=p[Y],xe=-1;++xe<H;)xe!=Y&&(ae[Y]=wc(ae[Y]||me,p[xe],k,I));return Ga(ii(ae,1),k,I)}function Ym(p,k,I){for(var H=-1,Y=p.length,ae=k.length,me={};++H<Y;){var xe=H<ae?k[H]:_;I(me,p[H],xe)}return me}function yo(p){return Kn(p)?p:[]}function uh(p){return typeof p=="function"?p:ci}function Ls(p,k){return ur(p)?p:Tf(p,k)?[p]:iv($r(p))}var Xo=vr;function hl(p,k,I){var H=p.length;return I=I===_?H:I,!k&&I>=H?p:Va(p,k,I)}var Xm=yc||function(p){return ui.clearTimeout(p)};function Sy(p,k){if(k)return p.slice();var I=p.length,H=gc?gc(I):new p.constructor(I);return p.copy(H),H}function ch(p){var k=new p.constructor(p.byteLength);return new na(k).set(new na(p)),k}function bf(p,k){var I=k?ch(p.buffer):p.buffer;return new p.constructor(I,p.byteOffset,p.length)}function Cy(p,k){if(p!==k){var I=p!==_,H=p===null,Y=p==p,ae=Sa(p),me=k!==_,xe=k===null,be=k==k,Xe=Sa(k);if(!xe&&!Xe&&!ae&&p>k||ae&&me&&be&&!xe&&!Xe||H&&me&&be||!I&&be||!Y)return 1;if(!H&&!ae&&!Xe&&p<k||Xe&&I&&Y&&!H&&!ae||xe&&I&&Y||!me&&Y||!be)return-1}return 0}function wf(p,k,I,H){for(var Y=-1,ae=p.length,me=I.length,xe=-1,be=k.length,Xe=Bn(ae-me,0),Ve=pt(be+Xe),nt=!H;++xe<be;)Ve[xe]=k[xe];for(;++Y<me;)(nt||Y<ae)&&(Ve[I[Y]]=p[Y]);for(;Xe--;)Ve[xe++]=p[Y++];return Ve}function Zm(p,k,I,H){for(var Y=-1,ae=p.length,me=-1,xe=I.length,be=-1,Xe=k.length,Ve=Bn(ae-xe,0),nt=pt(Ve+Xe),Ot=!H;++Y<Ve;)nt[Y]=p[Y];for(var It=Y;++be<Xe;)nt[It+be]=k[be];for(;++me<xe;)(Ot||Y<ae)&&(nt[It+I[me]]=p[Y++]);return nt}function Si(p,k){var I=-1,H=p.length;for(k||(k=pt(H));++I<H;)k[I]=p[I];return k}function bo(p,k,I,H){var Y=!I;I||(I={});for(var ae=-1,me=k.length;++ae<me;){var xe=k[ae],be=H?H(I[xe],p[xe],xe,I,p):_;be===_&&(be=p[xe]),Y?qo(I,xe,be):df(I,xe,be)}return I}function xf(p,k){return function(I,H){var Y=ur(I)?fr:gy,ae=k?k():{};return Y(I,p,Wt(H,2),ae)}}function Cc(p){return vr(function(k,I){var H=-1,Y=I.length,ae=Y>1?I[Y-1]:_,me=Y>2?I[2]:_;for(ae=p.length>3&&typeof ae=="function"?(Y--,ae):_,me&&Wi(I[0],I[1],me)&&(ae=Y<3?_:ae,Y=1),k=Gr(k);++H<Y;){var xe=I[H];xe&&p(k,xe,H,ae)}return k})}function kf(p,k){return function(I,H){if(I==null)return I;if(!Ri(I))return p(I,H);for(var Y=I.length,ae=k?Y:-1,me=Gr(I);(k?ae--:++ae<Y)&&H(me[ae],ae,me)!==!1;);return I}}function Ey(p){return function(k,I,H){for(var Y=-1,ae=Gr(k),me=H(k),xe=me.length;xe--;){var be=me[p?xe:++Y];if(I(ae[be],be,ae)===!1)break}return k}}function Ty(p){return function(k){var I=Ko(k=$r(k))?Qn(k):_,H=I?I[0]:k.charAt(0),Y=I?hl(I,1).join(""):k.slice(1);return H[p]()+Y}}function _u(p){return function(k){return Sm(bv(Oh(k).replace(U0,"")),p,"")}}function _f(p){return function(){var k=arguments;switch(k.length){case 0:return new p;case 1:return new p(k[0]);case 2:return new p(k[0],k[1]);case 3:return new p(k[0],k[1],k[2]);case 4:return new p(k[0],k[1],k[2],k[3]);case 5:return new p(k[0],k[1],k[2],k[3],k[4]);case 6:return new p(k[0],k[1],k[2],k[3],k[4],k[5]);case 7:return new p(k[0],k[1],k[2],k[3],k[4],k[5],k[6])}var I=hu(p.prototype),H=p.apply(I,k);return An(H)?H:I}}function Oy(p){return function(k,I,H){var Y=Gr(k);if(!Ri(k)){var ae=Wt(I,3);k=Jn(k),I=function(xe){return ae(Y[xe],xe,Y)}}var me=p(k,I,H);return me>-1?Y[ae?k[me]:me]:_}}function Ay(p){return Rs(function(k){var I=k.length,H=I,Y=aa.prototype.thru;for(p&&k.reverse();H--;){var ae=k[H];if(typeof ae!="function")throw new xi(N);if(Y&&!me&&Tc(ae)=="wrapper")var me=new aa([],!0)}for(H=me?H:I;++H<I;){var xe=Tc(ae=k[H]),be=xe=="wrapper"?ph(ae):_;me=be&&Of(be[0])&&be[1]==424&&!be[4].length&&be[9]==1?me[Tc(be[0])].apply(me,be[3]):ae.length==1&&Of(ae)?me[xe]():me.thru(ae)}return function(){var Xe=arguments,Ve=Xe[0];if(me&&Xe.length==1&&ur(Ve))return me.plant(Ve).value();for(var nt=0,Ot=I?k[nt].apply(this,Xe):Ve;++nt<I;)Ot=k[nt].call(this,Ot);return Ot}})}function fh(p,k,I,H,Y,ae,me,xe,be,Xe){var Ve=k&V,nt=1&k,Ot=2&k,It=24&k,Ct=512&k,Qe=Ot?_:_f(p);return function Fe(){for(var $t=arguments.length,Et=pt($t),Mt=$t;Mt--;)Et[Mt]=arguments[Mt];if(It)var Qt=pl(Fe),kr=Pm(Et,Qt);if(H&&(Et=wf(Et,H,Y,It)),ae&&(Et=Zm(Et,ae,me,It)),$t-=kr,It&&$t<Xe){var jt=mn(Et,Qt);return Qm(p,k,fh,Fe.placeholder,I,Et,jt,xe,be,Xe-$t)}var qt=nt?I:this,ai=Ot?qt[p]:p;return $t=Et.length,xe?Et=vl(Et,xe):Ct&&$t>1&&Et.reverse(),Ve&&be<$t&&(Et.length=be),this&&this!==ui&&this instanceof Fe&&(ai=Qe||_f(ai)),ai.apply(qt,Et)}}function Iy(p,k){return function(I,H){return function(Y,ae,me,xe){return Vo(Y,function(be,Xe,Ve){ae(xe,me(be),Xe,Ve)}),xe}(I,p,k(H),{})}}function Su(p,k){return function(I,H){var Y;if(I===_&&H===_)return k;if(I!==_&&(Y=I),H!==_){if(Y===_)return H;typeof I=="string"||typeof H=="string"?(I=Ki(I),H=Ki(H)):(I=ky(I),H=ky(H)),Y=p(I,H)}return Y}}function Sf(p){return Rs(function(k){return k=kn(k,xa(Wt())),vr(function(I){var H=this;return p(k,function(Y){return Li(Y,H,I)})})})}function Ec(p,k){var I=(k=k===_?" ":Ki(k)).length;if(I<2)return I?vo(k,p):k;var H=vo(k,Zd(p/wi(k)));return Ko(k)?hl(Qn(H),0,p).join(""):H.slice(0,p)}function My(p){return function(k,I,H){return H&&typeof H!="number"&&Wi(k,I,H)&&(I=H=_),k=Jo(k),I===_?(I=k,k=0):I=Jo(I),function(Y,ae,me,xe){for(var be=-1,Xe=Bn(Zd((ae-Y)/(me||1)),0),Ve=pt(Xe);Xe--;)Ve[xe?Xe:++be]=Y,Y+=me;return Ve}(k,I,H=H===_?k<I?1:-1:Jo(H),p)}}function dh(p){return function(k,I){return typeof k=="string"&&typeof I=="string"||(k=Ya(k),I=Ya(I)),p(k,I)}}function Qm(p,k,I,H,Y,ae,me,xe,be,Xe){var Ve=8&k;k|=Ve?D:G,4&(k&=~(Ve?G:D))||(k&=-4);var nt=[p,k,Y,Ve?ae:_,Ve?me:_,Ve?_:ae,Ve?_:me,xe,be,Xe],Ot=I.apply(_,nt);return Of(p)&&By(Ot,nt),Ot.placeholder=H,Hy(Ot,p,k)}function Jm(p){var k=Ka[p];return function(I,H){if(I=Ya(I),(H=H==null?0:ki(dr(H),292))&&sl(I)){var Y=($r(I)+"e").split("e");return+((Y=($r(k(Y[0]+"e"+(+Y[1]+H)))+"e").split("e"))[0]+"e"+(+Y[1]-H))}return k(I)}}var s3=du&&1/vc(new du([,-0]))[1]==te?function(p){return new du(p)}:Lc;function Dy(p){return function(k){var I=Ci(k);return I==ze?Wo(k):I==Ht?n3(k):function(H,Y){return kn(Y,function(ae){return[ae,H[ae]]})}(k,p(k))}}function Ns(p,k,I,H,Y,ae,me,xe){var be=2&k;if(!be&&typeof p!="function")throw new xi(N);var Xe=H?H.length:0;if(Xe||(k&=-97,H=Y=_),me=me===_?me:Bn(dr(me),0),xe=xe===_?xe:dr(xe),Xe-=Y?Y.length:0,k&G){var Ve=H,nt=Y;H=Y=_}var Ot=be?_:ph(p),It=[p,k,I,H,Y,Ve,nt,ae,me,xe];if(Ot&&function(Qe,Fe){var $t=Qe[1],Et=Fe[1],Mt=$t|Et,Qt=Mt<131,kr=Et==V&&$t==8||Et==V&&$t==J&&Qe[7].length<=Fe[8]||Et==384&&Fe[7].length<=Fe[8]&&$t==8;if(!Qt&&!kr)return Qe;1&Et&&(Qe[2]=Fe[2],Mt|=1&$t?0:4);var jt=Fe[3];if(jt){var qt=Qe[3];Qe[3]=qt?wf(qt,jt,Fe[4]):jt,Qe[4]=qt?mn(Qe[3],M):Fe[4]}(jt=Fe[5])&&(qt=Qe[5],Qe[5]=qt?Zm(qt,jt,Fe[6]):jt,Qe[6]=qt?mn(Qe[5],M):Fe[6]),(jt=Fe[7])&&(Qe[7]=jt),Et&V&&(Qe[8]=Qe[8]==null?Fe[8]:ki(Qe[8],Fe[8])),Qe[9]==null&&(Qe[9]=Fe[9]),Qe[0]=Fe[0],Qe[1]=Mt}(It,Ot),p=It[0],k=It[1],I=It[2],H=It[3],Y=It[4],!(xe=It[9]=It[9]===_?be?0:p.length:Bn(It[9]-Xe,0))&&24&k&&(k&=-25),k&&k!=1)Ct=k==8||k==R?function(Qe,Fe,$t){var Et=_f(Qe);return function Mt(){for(var Qt=arguments.length,kr=pt(Qt),jt=Qt,qt=pl(Mt);jt--;)kr[jt]=arguments[jt];var ai=Qt<3&&kr[0]!==qt&&kr[Qt-1]!==qt?[]:mn(kr,qt);return(Qt-=ai.length)<$t?Qm(Qe,Fe,fh,Mt.placeholder,_,kr,ai,_,_,$t-Qt):Li(this&&this!==ui&&this instanceof Mt?Et:Qe,this,kr)}}(p,k,xe):k!=D&&k!=33||Y.length?fh.apply(_,It):function(Qe,Fe,$t,Et){var Mt=1&Fe,Qt=_f(Qe);return function kr(){for(var jt=-1,qt=arguments.length,ai=-1,la=Et.length,ko=pt(la+qt),ei=this&&this!==ui&&this instanceof kr?Qt:Qe;++ai<la;)ko[ai]=Et[ai];for(;qt--;)ko[ai++]=arguments[++jt];return Li(ei,Mt?$t:this,ko)}}(p,k,I,H);else var Ct=function(Qe,Fe,$t){var Et=1&Fe,Mt=_f(Qe);return function Qt(){return(this&&this!==ui&&this instanceof Qt?Mt:Qe).apply(Et?$t:this,arguments)}}(p,k,I);return Hy((Ot?vf:By)(Ct,It),p,k)}function Py(p,k,I,H){return p===_||xo(p,cu[I])&&!Yr.call(H,I)?k:p}function Ly(p,k,I,H,Y,ae){return An(p)&&An(k)&&(ae.set(k,p),xu(p,k,_,Ly,ae),ae.delete(k)),p}function Ny(p){return Df(p)?_:p}function ev(p,k,I,H,Y,ae){var me=1&I,xe=p.length,be=k.length;if(xe!=be&&!(me&&be>xe))return!1;var Xe=ae.get(p),Ve=ae.get(k);if(Xe&&Ve)return Xe==k&&Ve==p;var nt=-1,Ot=!0,It=2&I?new mo:_;for(ae.set(p,k),ae.set(k,p);++nt<xe;){var Ct=p[nt],Qe=k[nt];if(H)var Fe=me?H(Qe,Ct,nt,k,p,ae):H(Ct,Qe,nt,p,k,ae);if(Fe!==_){if(Fe)continue;Ot=!1;break}if(It){if(!Cm(k,function($t,Et){if(!q0(It,Et)&&(Ct===$t||Y(Ct,$t,I,H,ae)))return It.push(Et)})){Ot=!1;break}}else if(Ct!==Qe&&!Y(Ct,Qe,I,H,ae)){Ot=!1;break}}return ae.delete(p),ae.delete(k),Ot}function Rs(p){return vh(js(p,_,Wy),p+"")}function Cf(p){return Bm(p,Jn,Wr)}function hh(p){return Bm(p,$i,Ry)}var ph=ul?function(p){return ul.get(p)}:Lc;function Tc(p){for(var k=p.name+"",I=Hi[k],H=Yr.call(Hi,k)?I.length:0;H--;){var Y=I[H],ae=Y.func;if(ae==null||ae==p)return Y.name}return k}function pl(p){return(Yr.call(re,"placeholder")?re:p).placeholder}function Wt(){var p=re.iteratee||wl;return p=p===wl?Yo:p,arguments.length?p(arguments[0],arguments[1]):p}function Ef(p,k){var I,H,Y=p.__data__;return((H=typeof(I=k))=="string"||H=="number"||H=="symbol"||H=="boolean"?I!=="__proto__":I===null)?Y[typeof k=="string"?"string":"hash"]:Y.map}function mh(p){for(var k=Jn(p),I=k.length;I--;){var H=k[I],Y=p[H];k[I]=[H,Y,rv(Y)]}return k}function on(p,k){var I=function(H,Y){return H==null?_:H[Y]}(p,k);return Um(I)?I:_}var Wr=nf?function(p){return p==null?[]:(p=Gr(p),bi(nf(p),function(k){return Nm.call(p,k)}))}:kv,Ry=nf?function(p){for(var k=[];p;)al(k,Wr(p)),p=Xd(p);return k}:kv,Ci=_i;function ml(p,k,I){for(var H=-1,Y=(k=Ls(k,p)).length,ae=!1;++H<Y;){var me=wo(k[H]);if(!(ae=p!=null&&I(p,me)))break;p=p[me]}return ae||++H!=Y?ae:!!(Y=p==null?0:p.length)&&_h(Y)&&Zo(me,Y)&&(ur(p)||Eu(p))}function Oc(p){return typeof p.constructor!="function"||Ac(p)?{}:hu(Xd(p))}function jy(p){return ur(p)||Eu(p)||!!(cy&&p&&p[cy])}function Zo(p,k){var I=typeof p;return!!(k=k==null?W:k)&&(I=="number"||I!="symbol"&&Y1.test(p))&&p>-1&&p%1==0&&p<k}function Wi(p,k,I){if(!An(I))return!1;var H=typeof k;return!!(H=="number"?Ri(I)&&Zo(k,I.length):H=="string"&&k in I)&&xo(I[k],p)}function Tf(p,k){if(ur(p))return!1;var I=typeof p;return!(I!="number"&&I!="symbol"&&I!="boolean"&&p!=null&&!Sa(p))||iu.test(p)||!R0.test(p)||k!=null&&p in Gr(k)}function Of(p){var k=Tc(p),I=re[k];if(typeof I!="function"||!(k in Er.prototype))return!1;if(p===I)return!0;var H=ph(I);return!!H&&p===H[0]}(bc&&Ci(new bc(new ArrayBuffer(1)))!=yt||ll&&Ci(new ll)!=ze||eh&&Ci(eh.resolve())!=A||du&&Ci(new du)!=Ht||of&&Ci(new of)!=we)&&(Ci=function(p){var k=_i(p),I=k==q?p.constructor:_,H=I?Fs(I):"";if(H)switch(H){case dy:return yt;case cl:return ze;case hy:return A;case o3:return Ht;case py:return we}return k});var tv=Yd?zs:Ph;function Ac(p){var k=p&&p.constructor;return p===(typeof k=="function"&&k.prototype||cu)}function rv(p){return p==p&&!An(p)}function Fy(p,k){return function(I){return I!=null&&I[p]===k&&(k!==_||p in Gr(I))}}function js(p,k,I){return k=Bn(k===_?p.length-1:k,0),function(){for(var H=arguments,Y=-1,ae=Bn(H.length-k,0),me=pt(ae);++Y<ae;)me[Y]=H[k+Y];Y=-1;for(var xe=pt(k+1);++Y<k;)xe[Y]=H[Y];return xe[k]=I(me),Li(p,this,xe)}}function zy(p,k){return k.length<2?p:Nn(p,Va(k,0,-1))}function vl(p,k){for(var I=p.length,H=ki(k.length,I),Y=Si(p);H--;){var ae=k[H];p[H]=Zo(ae,I)?Y[ae]:_}return p}function nv(p,k){if((k!=="constructor"||typeof p[k]!="function")&&k!="__proto__")return p[k]}var By=Af(vf),Ic=tf||function(p,k){return ui.setTimeout(p,k)},vh=Af(wy);function Hy(p,k,I){var H=k+"";return vh(p,function(Y,ae){var me=ae.length;if(!me)return Y;var xe=me-1;return ae[xe]=(me>1?"& ":"")+ae[xe],ae=ae.join(me>2?", ":" "),Y.replace(ac,`{
/* [wrapped with `+ae+`] */
`)}(H,function(Y,ae){return ta(le,function(me){var xe="_."+me[0];ae&me[1]&&!$0(Y,xe)&&Y.push(xe)}),Y.sort()}(function(Y){var ae=Y.match(Yt);return ae?ae[1].split(en):[]}(H),I)))}function Af(p){var k=0,I=0;return function(){var H=Ds(),Y=16-(H-I);if(I=H,Y>0){if(++k>=800)return arguments[0]}else k=0;return p.apply(_,arguments)}}function If(p,k){var I=-1,H=p.length,Y=H-1;for(k=k===_?H:k;++I<k;){var ae=mf(I,Y),me=p[ae];p[ae]=p[I],p[I]=me}return p.length=k,p}var iv=function(p){var k=xh(p,function(H){return I.size===500&&I.clear(),H}),I=k.cache;return k}(function(p){var k=[];return p.charCodeAt(0)===46&&k.push(""),p.replace(au,function(I,H,Y,ae){k.push(Y?ae.replace(Bd,"$1"):H||I)}),k});function wo(p){if(typeof p=="string"||Sa(p))return p;var k=p+"";return k=="0"&&1/p==-1/0?"-0":k}function Fs(p){if(p!=null){try{return Z0.call(p)}catch{}try{return p+""}catch{}}return""}function av(p){if(p instanceof Er)return p.clone();var k=new aa(p.__wrapped__,p.__chain__);return k.__actions__=Si(p.__actions__),k.__index__=p.__index__,k.__values__=p.__values__,k}var ov=vr(function(p,k){return Kn(p)?wc(p,ii(k,1,Kn,!0)):[]}),Uy=vr(function(p,k){var I=_a(k);return Kn(I)&&(I=_),Kn(p)?wc(p,ii(k,1,Kn,!0),Wt(I,2)):[]}),Ky=vr(function(p,k){var I=_a(k);return Kn(I)&&(I=_),Kn(p)?wc(p,ii(k,1,Kn,!0),_,I):[]});function Mc(p,k,I){var H=p==null?0:p.length;if(!H)return-1;var Y=I==null?0:dr(I);return Y<0&&(Y=Bn(H+Y,0)),Vd(p,Wt(k,3),Y)}function Qo(p,k,I){var H=p==null?0:p.length;if(!H)return-1;var Y=H-1;return I!==_&&(Y=dr(I),Y=I<0?Bn(H+Y,0):ki(Y,H-1)),Vd(p,Wt(k,3),Y,!0)}function Wy(p){return p!=null&&p.length?ii(p,1):[]}function $y(p){return p&&p.length?p[0]:_}var qy=vr(function(p){var k=kn(p,yo);return k.length&&k[0]===p[0]?gu(k):[]}),Vy=vr(function(p){var k=_a(p),I=kn(p,yo);return k===_a(I)?k=_:I.pop(),I.length&&I[0]===p[0]?gu(I,Wt(k,2)):[]}),l3=vr(function(p){var k=_a(p),I=kn(p,yo);return(k=typeof k=="function"?k:_)&&I.pop(),I.length&&I[0]===p[0]?gu(I,_,k):[]});function _a(p){var k=p==null?0:p.length;return k?p[k-1]:_}var u3=vr(Gy);function Gy(p,k){return p&&p.length&&k&&k.length?$m(p,k):p}var Yy=Rs(function(p,k){var I=p==null?0:p.length,H=zm(p,k);return qm(p,kn(k,function(Y){return Zo(Y,I)?+Y:Y}).sort(Cy)),H});function gh(p){return p==null?p:af.call(p)}var gl=vr(function(p){return Ga(ii(p,1,Kn,!0))}),sv=vr(function(p){var k=_a(p);return Kn(k)&&(k=_),Ga(ii(p,1,Kn,!0),Wt(k,2))}),Xy=vr(function(p){var k=_a(p);return k=typeof k=="function"?k:_,Ga(ii(p,1,Kn,!0),_,k)});function Cu(p){if(!p||!p.length)return[];var k=0;return p=bi(p,function(I){if(Kn(I))return k=Bn(I.length,k),!0}),Im(k,function(I){return kn(p,Gd(I))})}function Zy(p,k){if(!p||!p.length)return[];var I=Cu(p);return k==null?I:kn(I,function(H){return Li(k,_,H)})}var Qy=vr(function(p,k){return Kn(p)?wc(p,k):[]}),lv=vr(function(p){return Gm(bi(p,Kn))}),Jy=vr(function(p){var k=_a(p);return Kn(k)&&(k=_),Gm(bi(p,Kn),Wt(k,2))}),e2=vr(function(p){var k=_a(p);return k=typeof k=="function"?k:_,Gm(bi(p,Kn),_,k)}),c3=vr(Cu),t2=vr(function(p){var k=p.length,I=k>1?p[k-1]:_;return I=typeof I=="function"?(p.pop(),I):_,Zy(p,I)});function yn(p){var k=re(p);return k.__chain__=!0,k}function Mf(p,k){return k(p)}var gt=Rs(function(p){var k=p.length,I=k?p[0]:0,H=this.__wrapped__,Y=function(ae){return zm(ae,p)};return!(k>1||this.__actions__.length)&&H instanceof Er&&Zo(I)?((H=H.slice(I,+I+(k?1:0))).__actions__.push({func:Mf,args:[Y],thisArg:_}),new aa(H,this.__chain__).thru(function(ae){return k&&!ae.length&&ae.push(_),ae})):this.thru(Y)}),f3=xf(function(p,k,I){Yr.call(p,I)?++p[I]:qo(p,I,1)}),r2=Oy(Mc),d3=Oy(Qo);function n2(p,k){return(ur(p)?ta:qa)(p,Wt(k,3))}function uv(p,k){return(ur(p)?il:vt)(p,Wt(k,3))}var h3=xf(function(p,k,I){Yr.call(p,I)?p[I].push(k):qo(p,I,[k])}),yh=vr(function(p,k,I){var H=-1,Y=typeof k=="function",ae=Ri(p)?pt(p.length):[];return qa(p,function(me){ae[++H]=Y?Li(k,me,I):ka(me,k,I)}),ae}),p3=xf(function(p,k,I){qo(p,I,k)});function bh(p,k){return(ur(p)?kn:bu)(p,Wt(k,3))}var m3=xf(function(p,k,I){p[I?0:1].push(k)},function(){return[[],[]]}),i2=vr(function(p,k){if(p==null)return[];var I=k.length;return I>1&&Wi(p,k[0],k[1])?k=[]:I>2&&Wi(k[0],k[1],k[2])&&(k=[k[0]]),Km(p,ii(k,1),[])}),wh=a3||function(){return ui.Date.now()};function a2(p,k,I){return k=I?_:k,k=p&&k==null?p.length:k,Ns(p,V,_,_,_,_,k)}function o2(p,k){var I;if(typeof k!="function")throw new xi(N);return p=dr(p),function(){return--p>0&&(I=k.apply(this,arguments)),p<=1&&(k=_),I}}var cv=vr(function(p,k,I){var H=1;if(I.length){var Y=mn(I,pl(cv));H|=D}return Ns(p,H,k,I,Y)}),s2=vr(function(p,k,I){var H=3;if(I.length){var Y=mn(I,pl(s2));H|=D}return Ns(k,H,p,I,Y)});function l2(p,k,I){var H,Y,ae,me,xe,be,Xe=0,Ve=!1,nt=!1,Ot=!0;if(typeof p!="function")throw new xi(N);function It(Mt){var Qt=H,kr=Y;return H=Y=_,Xe=Mt,me=p.apply(kr,Qt)}function Ct(Mt){return Xe=Mt,xe=Ic(Fe,k),Ve?It(Mt):me}function Qe(Mt){var Qt=Mt-be;return be===_||Qt>=k||Qt<0||nt&&Mt-Xe>=ae}function Fe(){var Mt=wh();if(Qe(Mt))return $t(Mt);xe=Ic(Fe,function(Qt){var kr=k-(Qt-be);return nt?ki(kr,ae-(Qt-Xe)):kr}(Mt))}function $t(Mt){return xe=_,Ot&&H?It(Mt):(H=Y=_,me)}function Et(){var Mt=wh(),Qt=Qe(Mt);if(H=arguments,Y=this,be=Mt,Qt){if(xe===_)return Ct(be);if(nt)return Xm(xe),xe=Ic(Fe,k),It(be)}return xe===_&&(xe=Ic(Fe,k)),me}return k=Ya(k)||0,An(I)&&(Ve=!!I.leading,ae=(nt="maxWait"in I)?Bn(Ya(I.maxWait)||0,k):ae,Ot="trailing"in I?!!I.trailing:Ot),Et.cancel=function(){xe!==_&&Xm(xe),Xe=0,H=be=Y=xe=_},Et.flush=function(){return xe===_?me:$t(wh())},Et}var u2=vr(function(p,k){return $a(p,1,k)}),v3=vr(function(p,k,I){return $a(p,Ya(k)||0,I)});function xh(p,k){if(typeof p!="function"||k!=null&&typeof k!="function")throw new xi(N);var I=function(){var H=arguments,Y=k?k.apply(this,H):H[0],ae=I.cache;if(ae.has(Y))return ae.get(Y);var me=p.apply(this,H);return I.cache=ae.set(Y,me)||ae,me};return I.cache=new(xh.Cache||oa),I}function kh(p){if(typeof p!="function")throw new xi(N);return function(){var k=arguments;switch(k.length){case 0:return!p.call(this);case 1:return!p.call(this,k[0]);case 2:return!p.call(this,k[0],k[1]);case 3:return!p.call(this,k[0],k[1],k[2])}return!p.apply(this,k)}}xh.Cache=oa;var g3=Xo(function(p,k){var I=(k=k.length==1&&ur(k[0])?kn(k[0],xa(Wt())):kn(ii(k,1),xa(Wt()))).length;return vr(function(H){for(var Y=-1,ae=ki(H.length,I);++Y<ae;)H[Y]=k[Y].call(this,H[Y]);return Li(p,this,H)})}),fv=vr(function(p,k){var I=mn(k,pl(fv));return Ns(p,D,_,k,I)}),c2=vr(function(p,k){var I=mn(k,pl(c2));return Ns(p,G,_,k,I)}),y3=Rs(function(p,k){return Ns(p,J,_,_,_,k)});function xo(p,k){return p===k||p!=p&&k!=k}var b3=dh(ih),w3=dh(function(p,k){return p>=k}),Eu=yy(function(){return arguments}())?yy:function(p){return _n(p)&&Yr.call(p,"callee")&&!Nm.call(p,"callee")},ur=pt.isArray,x3=ry?xa(ry):function(p){return _n(p)&&_i(p)==Ke};function Ri(p){return p!=null&&_h(p.length)&&!zs(p)}function Kn(p){return _n(p)&&Ri(p)}var yl=Rm||Ph,k3=ny?xa(ny):function(p){return _n(p)&&_i(p)==Ee};function dv(p){if(!_n(p))return!1;var k=_i(p);return k==Ne||k=="[object DOMException]"||typeof p.message=="string"&&typeof p.name=="string"&&!Df(p)}function zs(p){if(!An(p))return!1;var k=_i(p);return k==ge||k==De||k=="[object AsyncFunction]"||k=="[object Proxy]"}function f2(p){return typeof p=="number"&&p==dr(p)}function _h(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=W}function An(p){var k=typeof p;return p!=null&&(k=="object"||k=="function")}function _n(p){return p!=null&&typeof p=="object"}var d2=dc?xa(dc):function(p){return _n(p)&&Ci(p)==ze};function h2(p){return typeof p=="number"||_n(p)&&_i(p)==Ye}function Df(p){if(!_n(p)||_i(p)!=q)return!1;var k=Xd(p);if(k===null)return!0;var I=Yr.call(k,"constructor")&&k.constructor;return typeof I=="function"&&I instanceof I&&Z0.call(I)==sy}var hv=Zn?xa(Zn):function(p){return _n(p)&&_i(p)==zt},p2=uu?xa(uu):function(p){return _n(p)&&Ci(p)==Ht};function Sh(p){return typeof p=="string"||!ur(p)&&_n(p)&&_i(p)==Zt}function Sa(p){return typeof p=="symbol"||_n(p)&&_i(p)==Re}var Dc=_m?xa(_m):function(p){return _n(p)&&_h(p.length)&&!!cn[_i(p)]},m2=dh(oh),v2=dh(function(p,k){return p<=k});function pv(p){if(!p)return[];if(Ri(p))return Sh(p)?Qn(p):Si(p);if(Is&&p[Is])return function(I){for(var H,Y=[];!(H=I.next()).done;)Y.push(H.value);return Y}(p[Is]());var k=Ci(p);return(k==ze?Wo:k==Ht?vc:Rr)(p)}function Jo(p){return p?(p=Ya(p))===te||p===-1/0?17976931348623157e292*(p<0?-1:1):p==p?p:0:p===0?p:0}function dr(p){var k=Jo(p),I=k%1;return k==k?I?k-I:k:0}function g2(p){return p?pu(dr(p),0,ie):0}function Ya(p){if(typeof p=="number")return p;if(Sa(p))return ce;if(An(p)){var k=typeof p.valueOf=="function"?p.valueOf():p;p=An(k)?k+"":k}if(typeof p!="string")return p===0?p:+p;p=Mm(p);var I=sc.test(p);return I||Os.test(p)?Ua(p.slice(2),I?2:8):F0.test(p)?ce:+p}function y2(p){return bo(p,$i(p))}function $r(p){return p==null?"":Ki(p)}var _3=Cc(function(p,k){if(Ac(k)||Ri(k))bo(k,Jn(k),p);else for(var I in k)Yr.call(k,I)&&df(p,I,k[I])}),b2=Cc(function(p,k){bo(k,$i(k),p)}),Ch=Cc(function(p,k,I,H){bo(k,$i(k),p,H)}),S3=Cc(function(p,k,I,H){bo(k,Jn(k),p,H)}),C3=Rs(zm),E3=vr(function(p,k){p=Gr(p);var I=-1,H=k.length,Y=H>2?k[2]:_;for(Y&&Wi(k[0],k[1],Y)&&(H=1);++I<H;)for(var ae=k[I],me=$i(ae),xe=-1,be=me.length;++xe<be;){var Xe=me[xe],Ve=p[Xe];(Ve===_||xo(Ve,cu[Xe])&&!Yr.call(p,Xe))&&(p[Xe]=ae[Xe])}return p}),T3=vr(function(p){return p.push(_,Ly),Li(k2,_,p)});function mv(p,k,I){var H=p==null?_:Nn(p,k);return H===_?I:H}function bl(p,k){return p!=null&&ml(p,k,Go)}var vv=Iy(function(p,k,I){k!=null&&typeof k.toString!="function"&&(k=Q0.call(k)),p[k]=I},Mh(ci)),w2=Iy(function(p,k,I){k!=null&&typeof k.toString!="function"&&(k=Q0.call(k)),Yr.call(p,k)?p[k].push(I):p[k]=[I]},Wt),x2=vr(ka);function Jn(p){return Ri(p)?cf(p):yu(p)}function $i(p){return Ri(p)?cf(p,!0):ah(p)}var Eh=Cc(function(p,k,I){xu(p,k,I)}),k2=Cc(function(p,k,I,H){xu(p,k,I,H)}),O3=Rs(function(p,k){var I={};if(p==null)return I;var H=!1;k=kn(k,function(ae){return ae=Ls(ae,p),H||(H=ae.length>1),ae}),bo(p,hh(p),I),H&&(I=Wa(I,7,Ny));for(var Y=k.length;Y--;)ku(I,k[Y]);return I}),_2=Rs(function(p,k){return p==null?{}:function(I,H){return Wm(I,H,function(Y,ae){return bl(I,ae)})}(p,k)});function Th(p,k){if(p==null)return{};var I=kn(hh(p),function(H){return[H]});return k=Wt(k),Wm(p,I,function(H,Y){return k(H,Y[0])})}var _t=Dy(Jn),gv=Dy($i);function Rr(p){return p==null?[]:Dm(p,Jn(p))}var Xa=_u(function(p,k,I){return k=k.toLowerCase(),p+(I?sa(k):k)});function sa(p){return Ih($r(p).toLowerCase())}function Oh(p){return(p=$r(p))&&p.replace(X1,V0).replace(Kd,"")}var S2=_u(function(p,k,I){return p+(I?"-":"")+k.toLowerCase()}),C2=_u(function(p,k,I){return p+(I?" ":"")+k.toLowerCase()}),A3=Ty("toLowerCase"),yv=_u(function(p,k,I){return p+(I?"_":"")+k.toLowerCase()}),Ah=_u(function(p,k,I){return p+(I?" ":"")+Ih(k)}),E2=_u(function(p,k,I){return p+(I?" ":"")+k.toUpperCase()}),Ih=Ty("toUpperCase");function bv(p,k,I){return p=$r(p),(k=I?_:k)===_?function(H){return xm.test(H)}(p)?function(H){return H.match(Cr)||[]}(p):function(H){return H.match(ba)||[]}(p):p.match(k)||[]}var wv=vr(function(p,k){try{return Li(p,_,k)}catch(I){return dv(I)?I:new Ir(I)}}),tr=Rs(function(p,k){return ta(k,function(I){I=wo(I),qo(p,I,cv(p[I],p))}),p});function Mh(p){return function(){return p}}var T2=Ay(),xv=Ay(!0);function ci(p){return p}function wl(p){return Yo(typeof p=="function"?p:Wa(p,1))}var Pc=vr(function(p,k){return function(I){return ka(I,p,k)}}),Pf=vr(function(p,k){return function(I){return ka(p,I,k)}});function Dh(p,k,I){var H=Jn(k),Y=pf(k,H);I!=null||An(k)&&(Y.length||!H.length)||(I=k,k=p,p=this,Y=pf(k,Jn(k)));var ae=!(An(I)&&"chain"in I&&!I.chain),me=zs(p);return ta(Y,function(xe){var be=k[xe];p[xe]=be,me&&(p.prototype[xe]=function(){var Xe=this.__chain__;if(ae||Xe){var Ve=p(this.__wrapped__),nt=Ve.__actions__=Si(this.__actions__);return nt.push({func:be,args:arguments,thisArg:p}),Ve.__chain__=Xe,Ve}return be.apply(p,al([this.value()],arguments))})}),p}function Lc(){}var O2=Sf(kn),I3=Sf(As),es=Sf(Cm);function A2(p){return Tf(p)?Gd(wo(p)):function(k){return function(I){return Nn(I,k)}}(p)}var M3=My(),xl=My(!0);function kv(){return[]}function Ph(){return!1}var I2=Su(function(p,k){return p+k},0),M2=Jm("ceil"),D3=Su(function(p,k){return p/k},1),D2=Jm("floor"),Ei,P2=Su(function(p,k){return p*k},1),L2=Jm("round"),P3=Su(function(p,k){return p-k},0);return re.after=function(p,k){if(typeof k!="function")throw new xi(N);return p=dr(p),function(){if(--p<1)return k.apply(this,arguments)}},re.ary=a2,re.assign=_3,re.assignIn=b2,re.assignInWith=Ch,re.assignWith=S3,re.at=C3,re.before=o2,re.bind=cv,re.bindAll=tr,re.bindKey=s2,re.castArray=function(){if(!arguments.length)return[];var p=arguments[0];return ur(p)?p:[p]},re.chain=yn,re.chunk=function(p,k,I){k=(I?Wi(p,k,I):k===_)?1:Bn(dr(k),0);var H=p==null?0:p.length;if(!H||k<1)return[];for(var Y=0,ae=0,me=pt(Zd(H/k));Y<H;)me[ae++]=Va(p,Y,Y+=k);return me},re.compact=function(p){for(var k=-1,I=p==null?0:p.length,H=0,Y=[];++k<I;){var ae=p[k];ae&&(Y[H++]=ae)}return Y},re.concat=function(){var p=arguments.length;if(!p)return[];for(var k=pt(p-1),I=arguments[0],H=p;H--;)k[H-1]=arguments[H];return al(ur(I)?Si(I):[I],ii(k,1))},re.cond=function(p){var k=p==null?0:p.length,I=Wt();return p=k?kn(p,function(H){if(typeof H[1]!="function")throw new xi(N);return[I(H[0]),H[1]]}):[],vr(function(H){for(var Y=-1;++Y<k;){var ae=p[Y];if(Li(ae[0],this,H))return Li(ae[1],this,H)}})},re.conforms=function(p){return function(k){var I=Jn(k);return function(H){return mu(H,k,I)}}(Wa(p,1))},re.constant=Mh,re.countBy=f3,re.create=function(p,k){var I=hu(p);return k==null?I:th(I,k)},re.curry=function p(k,I,H){var Y=Ns(k,8,_,_,_,_,_,I=H?_:I);return Y.placeholder=p.placeholder,Y},re.curryRight=function p(k,I,H){var Y=Ns(k,R,_,_,_,_,_,I=H?_:I);return Y.placeholder=p.placeholder,Y},re.debounce=l2,re.defaults=E3,re.defaultsDeep=T3,re.defer=u2,re.delay=v3,re.difference=ov,re.differenceBy=Uy,re.differenceWith=Ky,re.drop=function(p,k,I){var H=p==null?0:p.length;return H?Va(p,(k=I||k===_?1:dr(k))<0?0:k,H):[]},re.dropRight=function(p,k,I){var H=p==null?0:p.length;return H?Va(p,0,(k=H-(k=I||k===_?1:dr(k)))<0?0:k):[]},re.dropRightWhile=function(p,k){return p&&p.length?Ps(p,Wt(k,3),!0,!0):[]},re.dropWhile=function(p,k){return p&&p.length?Ps(p,Wt(k,3),!0):[]},re.fill=function(p,k,I,H){var Y=p==null?0:p.length;return Y?(I&&typeof I!="number"&&Wi(p,k,I)&&(I=0,H=Y),function(ae,me,xe,be){var Xe=ae.length;for((xe=dr(xe))<0&&(xe=-xe>Xe?0:Xe+xe),(be=be===_||be>Xe?Xe:dr(be))<0&&(be+=Xe),be=xe>be?0:g2(be);xe<be;)ae[xe++]=me;return ae}(p,k,I,H)):[]},re.filter=function(p,k){return(ur(p)?bi:fl)(p,Wt(k,3))},re.flatMap=function(p,k){return ii(bh(p,k),1)},re.flatMapDeep=function(p,k){return ii(bh(p,k),te)},re.flatMapDepth=function(p,k,I){return I=I===_?1:dr(I),ii(bh(p,k),I)},re.flatten=Wy,re.flattenDeep=function(p){return p!=null&&p.length?ii(p,te):[]},re.flattenDepth=function(p,k){return p!=null&&p.length?ii(p,k=k===_?1:dr(k)):[]},re.flip=function(p){return Ns(p,512)},re.flow=T2,re.flowRight=xv,re.fromPairs=function(p){for(var k=-1,I=p==null?0:p.length,H={};++k<I;){var Y=p[k];H[Y[0]]=Y[1]}return H},re.functions=function(p){return p==null?[]:pf(p,Jn(p))},re.functionsIn=function(p){return p==null?[]:pf(p,$i(p))},re.groupBy=h3,re.initial=function(p){return p!=null&&p.length?Va(p,0,-1):[]},re.intersection=qy,re.intersectionBy=Vy,re.intersectionWith=l3,re.invert=vv,re.invertBy=w2,re.invokeMap=yh,re.iteratee=wl,re.keyBy=p3,re.keys=Jn,re.keysIn=$i,re.map=bh,re.mapKeys=function(p,k){var I={};return k=Wt(k,3),Vo(p,function(H,Y,ae){qo(I,k(H,Y,ae),H)}),I},re.mapValues=function(p,k){var I={};return k=Wt(k,3),Vo(p,function(H,Y,ae){qo(I,Y,k(H,Y,ae))}),I},re.matches=function(p){return by(Wa(p,1))},re.matchesProperty=function(p,k){return wu(p,Wa(k,1))},re.memoize=xh,re.merge=Eh,re.mergeWith=k2,re.method=Pc,re.methodOf=Pf,re.mixin=Dh,re.negate=kh,re.nthArg=function(p){return p=dr(p),vr(function(k){return sh(k,p)})},re.omit=O3,re.omitBy=function(p,k){return Th(p,kh(Wt(k)))},re.once=function(p){return o2(2,p)},re.orderBy=function(p,k,I,H){return p==null?[]:(ur(k)||(k=k==null?[]:[k]),ur(I=H?_:I)||(I=I==null?[]:[I]),Km(p,k,I))},re.over=O2,re.overArgs=g3,re.overEvery=I3,re.overSome=es,re.partial=fv,re.partialRight=c2,re.partition=m3,re.pick=_2,re.pickBy=Th,re.property=A2,re.propertyOf=function(p){return function(k){return p==null?_:Nn(p,k)}},re.pull=u3,re.pullAll=Gy,re.pullAllBy=function(p,k,I){return p&&p.length&&k&&k.length?$m(p,k,Wt(I,2)):p},re.pullAllWith=function(p,k,I){return p&&p.length&&k&&k.length?$m(p,k,_,I):p},re.pullAt=Yy,re.range=M3,re.rangeRight=xl,re.rearg=y3,re.reject=function(p,k){return(ur(p)?bi:fl)(p,kh(Wt(k,3)))},re.remove=function(p,k){var I=[];if(!p||!p.length)return I;var H=-1,Y=[],ae=p.length;for(k=Wt(k,3);++H<ae;){var me=p[H];k(me,H,p)&&(I.push(me),Y.push(H))}return qm(p,Y),I},re.rest=function(p,k){if(typeof p!="function")throw new xi(N);return vr(p,k=k===_?k:dr(k))},re.reverse=gh,re.sampleSize=function(p,k,I){return k=(I?Wi(p,k,I):k===_)?1:dr(k),(ur(p)?my:Ui)(p,k)},re.set=function(p,k,I){return p==null?p:go(p,k,I)},re.setWith=function(p,k,I,H){return H=typeof H=="function"?H:_,p==null?p:go(p,k,I,H)},re.shuffle=function(p){return(ur(p)?vy:Sc)(p)},re.slice=function(p,k,I){var H=p==null?0:p.length;return H?(I&&typeof I!="number"&&Wi(p,k,I)?(k=0,I=H):(k=k==null?0:dr(k),I=I===_?H:dr(I)),Va(p,k,I)):[]},re.sortBy=i2,re.sortedUniq=function(p){return p&&p.length?yf(p):[]},re.sortedUniqBy=function(p,k){return p&&p.length?yf(p,Wt(k,2)):[]},re.split=function(p,k,I){return I&&typeof I!="number"&&Wi(p,k,I)&&(k=I=_),(I=I===_?ie:I>>>0)?(p=$r(p))&&(typeof k=="string"||k!=null&&!hv(k))&&!(k=Ki(k))&&Ko(p)?hl(Qn(p),0,I):p.split(k,I):[]},re.spread=function(p,k){if(typeof p!="function")throw new xi(N);return k=k==null?0:Bn(dr(k),0),vr(function(I){var H=I[k],Y=hl(I,0,k);return H&&al(Y,H),Li(p,this,Y)})},re.tail=function(p){var k=p==null?0:p.length;return k?Va(p,1,k):[]},re.take=function(p,k,I){return p&&p.length?Va(p,0,(k=I||k===_?1:dr(k))<0?0:k):[]},re.takeRight=function(p,k,I){var H=p==null?0:p.length;return H?Va(p,(k=H-(k=I||k===_?1:dr(k)))<0?0:k,H):[]},re.takeRightWhile=function(p,k){return p&&p.length?Ps(p,Wt(k,3),!1,!0):[]},re.takeWhile=function(p,k){return p&&p.length?Ps(p,Wt(k,3)):[]},re.tap=function(p,k){return k(p),p},re.throttle=function(p,k,I){var H=!0,Y=!0;if(typeof p!="function")throw new xi(N);return An(I)&&(H="leading"in I?!!I.leading:H,Y="trailing"in I?!!I.trailing:Y),l2(p,k,{leading:H,maxWait:k,trailing:Y})},re.thru=Mf,re.toArray=pv,re.toPairs=_t,re.toPairsIn=gv,re.toPath=function(p){return ur(p)?kn(p,wo):Sa(p)?[p]:Si(iv($r(p)))},re.toPlainObject=y2,re.transform=function(p,k,I){var H=ur(p),Y=H||yl(p)||Dc(p);if(k=Wt(k,4),I==null){var ae=p&&p.constructor;I=Y?H?new ae:[]:An(p)&&zs(ae)?hu(Xd(p)):{}}return(Y?ta:Vo)(p,function(me,xe,be){return k(I,me,xe,be)}),I},re.unary=function(p){return a2(p,1)},re.union=gl,re.unionBy=sv,re.unionWith=Xy,re.uniq=function(p){return p&&p.length?Ga(p):[]},re.uniqBy=function(p,k){return p&&p.length?Ga(p,Wt(k,2)):[]},re.uniqWith=function(p,k){return k=typeof k=="function"?k:_,p&&p.length?Ga(p,_,k):[]},re.unset=function(p,k){return p==null||ku(p,k)},re.unzip=Cu,re.unzipWith=Zy,re.update=function(p,k,I){return p==null?p:_y(p,k,uh(I))},re.updateWith=function(p,k,I,H){return H=typeof H=="function"?H:_,p==null?p:_y(p,k,uh(I),H)},re.values=Rr,re.valuesIn=function(p){return p==null?[]:Dm(p,$i(p))},re.without=Qy,re.words=bv,re.wrap=function(p,k){return fv(uh(k),p)},re.xor=lv,re.xorBy=Jy,re.xorWith=e2,re.zip=c3,re.zipObject=function(p,k){return Ym(p||[],k||[],df)},re.zipObjectDeep=function(p,k){return Ym(p||[],k||[],go)},re.zipWith=t2,re.entries=_t,re.entriesIn=gv,re.extend=b2,re.extendWith=Ch,Dh(re,re),re.add=I2,re.attempt=wv,re.camelCase=Xa,re.capitalize=sa,re.ceil=M2,re.clamp=function(p,k,I){return I===_&&(I=k,k=_),I!==_&&(I=(I=Ya(I))==I?I:0),k!==_&&(k=(k=Ya(k))==k?k:0),pu(Ya(p),k,I)},re.clone=function(p){return Wa(p,4)},re.cloneDeep=function(p){return Wa(p,5)},re.cloneDeepWith=function(p,k){return Wa(p,5,k=typeof k=="function"?k:_)},re.cloneWith=function(p,k){return Wa(p,4,k=typeof k=="function"?k:_)},re.conformsTo=function(p,k){return k==null||mu(p,k,Jn(k))},re.deburr=Oh,re.defaultTo=function(p,k){return p==null||p!=p?k:p},re.divide=D3,re.endsWith=function(p,k,I){p=$r(p),k=Ki(k);var H=p.length,Y=I=I===_?H:pu(dr(I),0,H);return(I-=k.length)>=0&&p.slice(I,Y)==k},re.eq=xo,re.escape=function(p){return(p=$r(p))&&li.test(p)?p.replace(ru,ay):p},re.escapeRegExp=function(p){return(p=$r(p))&&Fd.test(p)?p.replace(Es,"\\$&"):p},re.every=function(p,k,I){var H=ur(p)?As:an;return I&&Wi(p,k,I)&&(k=_),H(p,Wt(k,3))},re.find=r2,re.findIndex=Mc,re.findKey=function(p,k){return hc(p,Wt(k,3),Vo)},re.findLast=d3,re.findLastIndex=Qo,re.findLastKey=function(p,k){return hc(p,Wt(k,3),nh)},re.floor=D2,re.forEach=n2,re.forEachRight=uv,re.forIn=function(p,k){return p==null?p:rh(p,Wt(k,3),$i)},re.forInRight=function(p,k){return p==null?p:xc(p,Wt(k,3),$i)},re.forOwn=function(p,k){return p&&Vo(p,Wt(k,3))},re.forOwnRight=function(p,k){return p&&nh(p,Wt(k,3))},re.get=mv,re.gt=b3,re.gte=w3,re.has=function(p,k){return p!=null&&ml(p,k,kc)},re.hasIn=bl,re.head=$y,re.identity=ci,re.includes=function(p,k,I,H){p=Ri(p)?p:Rr(p),I=I&&!H?dr(I):0;var Y=p.length;return I<0&&(I=Bn(Y+I,0)),Sh(p)?I<=Y&&p.indexOf(k,I)>-1:!!Y&&pc(p,k,I)>-1},re.indexOf=function(p,k,I){var H=p==null?0:p.length;if(!H)return-1;var Y=I==null?0:dr(I);return Y<0&&(Y=Bn(H+Y,0)),pc(p,k,Y)},re.inRange=function(p,k,I){return k=Jo(k),I===_?(I=k,k=0):I=Jo(I),function(H,Y,ae){return H>=ki(Y,ae)&&H<Bn(Y,ae)}(p=Ya(p),k,I)},re.invoke=x2,re.isArguments=Eu,re.isArray=ur,re.isArrayBuffer=x3,re.isArrayLike=Ri,re.isArrayLikeObject=Kn,re.isBoolean=function(p){return p===!0||p===!1||_n(p)&&_i(p)==ye},re.isBuffer=yl,re.isDate=k3,re.isElement=function(p){return _n(p)&&p.nodeType===1&&!Df(p)},re.isEmpty=function(p){if(p==null)return!0;if(Ri(p)&&(ur(p)||typeof p=="string"||typeof p.splice=="function"||yl(p)||Dc(p)||Eu(p)))return!p.length;var k=Ci(p);if(k==ze||k==Ht)return!p.size;if(Ac(p))return!yu(p).length;for(var I in p)if(Yr.call(p,I))return!1;return!0},re.isEqual=function(p,k){return _c(p,k)},re.isEqualWith=function(p,k,I){var H=(I=typeof I=="function"?I:_)?I(p,k):_;return H===_?_c(p,k,_,I):!!H},re.isError=dv,re.isFinite=function(p){return typeof p=="number"&&sl(p)},re.isFunction=zs,re.isInteger=f2,re.isLength=_h,re.isMap=d2,re.isMatch=function(p,k){return p===k||Hm(p,k,mh(k))},re.isMatchWith=function(p,k,I){return I=typeof I=="function"?I:_,Hm(p,k,mh(k),I)},re.isNaN=function(p){return h2(p)&&p!=+p},re.isNative=function(p){if(tv(p))throw new Ir("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Um(p)},re.isNil=function(p){return p==null},re.isNull=function(p){return p===null},re.isNumber=h2,re.isObject=An,re.isObjectLike=_n,re.isPlainObject=Df,re.isRegExp=hv,re.isSafeInteger=function(p){return f2(p)&&p>=-9007199254740991&&p<=W},re.isSet=p2,re.isString=Sh,re.isSymbol=Sa,re.isTypedArray=Dc,re.isUndefined=function(p){return p===_},re.isWeakMap=function(p){return _n(p)&&Ci(p)==we},re.isWeakSet=function(p){return _n(p)&&_i(p)=="[object WeakSet]"},re.join=function(p,k){return p==null?"":gn.call(p,k)},re.kebabCase=S2,re.last=_a,re.lastIndexOf=function(p,k,I){var H=p==null?0:p.length;if(!H)return-1;var Y=H;return I!==_&&(Y=(Y=dr(I))<0?Bn(H+Y,0):ki(Y,H-1)),k==k?function(ae,me,xe){for(var be=xe+1;be--;)if(ae[be]===me)return be;return be}(p,k,Y):Vd(p,Em,Y,!0)},re.lowerCase=C2,re.lowerFirst=A3,re.lt=m2,re.lte=v2,re.max=function(p){return p&&p.length?vu(p,ci,ih):_},re.maxBy=function(p,k){return p&&p.length?vu(p,Wt(k,2),ih):_},re.mean=function(p){return iy(p,ci)},re.meanBy=function(p,k){return iy(p,Wt(k,2))},re.min=function(p){return p&&p.length?vu(p,ci,oh):_},re.minBy=function(p,k){return p&&p.length?vu(p,Wt(k,2),oh):_},re.stubArray=kv,re.stubFalse=Ph,re.stubObject=function(){return{}},re.stubString=function(){return""},re.stubTrue=function(){return!0},re.multiply=P2,re.nth=function(p,k){return p&&p.length?sh(p,dr(k)):_},re.noConflict=function(){return ui._===this&&(ui._=i3),this},re.noop=Lc,re.now=wh,re.pad=function(p,k,I){p=$r(p);var H=(k=dr(k))?wi(p):0;if(!k||H>=k)return p;var Y=(k-H)/2;return Ec(rf(Y),I)+p+Ec(Zd(Y),I)},re.padEnd=function(p,k,I){p=$r(p);var H=(k=dr(k))?wi(p):0;return k&&H<k?p+Ec(k-H,I):p},re.padStart=function(p,k,I){p=$r(p);var H=(k=dr(k))?wi(p):0;return k&&H<k?Ec(k-H,I)+p:p},re.parseInt=function(p,k,I){return I||k==null?k=0:k&&(k=+k),fy($r(p).replace(j0,""),k||0)},re.random=function(p,k,I){if(I&&typeof I!="boolean"&&Wi(p,k,I)&&(k=I=_),I===_&&(typeof k=="boolean"?(I=k,k=_):typeof p=="boolean"&&(I=p,p=_)),p===_&&k===_?(p=0,k=1):(p=Jo(p),k===_?(k=p,p=0):k=Jo(k)),p>k){var H=p;p=k,k=H}if(I||p%1||k%1){var Y=Jd();return ki(p+Y*(k-p+Jx("1e-"+((Y+"").length-1))),k)}return mf(p,k)},re.reduce=function(p,k,I){var H=ur(p)?Sm:Om,Y=arguments.length<3;return H(p,Wt(k,4),I,Y,qa)},re.reduceRight=function(p,k,I){var H=ur(p)?e3:Om,Y=arguments.length<3;return H(p,Wt(k,4),I,Y,vt)},re.repeat=function(p,k,I){return k=(I?Wi(p,k,I):k===_)?1:dr(k),vo($r(p),k)},re.replace=function(){var p=arguments,k=$r(p[0]);return p.length<3?k:k.replace(p[1],p[2])},re.result=function(p,k,I){var H=-1,Y=(k=Ls(k,p)).length;for(Y||(Y=1,p=_);++H<Y;){var ae=p==null?_:p[wo(k[H])];ae===_&&(H=Y,ae=I),p=zs(ae)?ae.call(p):ae}return p},re.round=L2,re.runInContext=fe,re.sample=function(p){return(ur(p)?Fm:Vm)(p)},re.size=function(p){if(p==null)return 0;if(Ri(p))return Sh(p)?wi(p):p.length;var k=Ci(p);return k==ze||k==Ht?p.size:yu(p).length},re.snakeCase=yv,re.some=function(p,k,I){var H=ur(p)?Cm:xy;return I&&Wi(p,k,I)&&(k=_),H(p,Wt(k,3))},re.sortedIndex=function(p,k){return gf(p,k)},re.sortedIndexBy=function(p,k,I){return lh(p,k,Wt(I,2))},re.sortedIndexOf=function(p,k){var I=p==null?0:p.length;if(I){var H=gf(p,k);if(H<I&&xo(p[H],k))return H}return-1},re.sortedLastIndex=function(p,k){return gf(p,k,!0)},re.sortedLastIndexBy=function(p,k,I){return lh(p,k,Wt(I,2),!0)},re.sortedLastIndexOf=function(p,k){if(p!=null&&p.length){var I=gf(p,k,!0)-1;if(xo(p[I],k))return I}return-1},re.startCase=Ah,re.startsWith=function(p,k,I){return p=$r(p),I=I==null?0:pu(dr(I),0,p.length),k=Ki(k),p.slice(I,I+k.length)==k},re.subtract=P3,re.sum=function(p){return p&&p.length?Am(p,ci):0},re.sumBy=function(p,k){return p&&p.length?Am(p,Wt(k,2)):0},re.template=function(p,k,I){var H=re.templateSettings;I&&Wi(p,k,I)&&(k=_),p=$r(p),k=Ch({},k,H,Py);var Y,ae,me=Ch({},k.imports,H.imports,Py),xe=Jn(me),be=Dm(me,xe),Xe=0,Ve=k.interpolate||su,nt="__p += '",Ot=vn((k.escape||su).source+"|"+Ve.source+"|"+(Ve===ic?ou:su).source+"|"+(k.evaluate||su).source+"|$","g"),It="//# sourceURL="+(Yr.call(k,"sourceURL")?(k.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rl+"]")+`
`;p.replace(Ot,function(Fe,$t,Et,Mt,Qt,kr){return Et||(Et=Mt),nt+=p.slice(Xe,kr).replace(Z1,r3),$t&&(Y=!0,nt+=`' +
__e(`+$t+`) +
'`),Qt&&(ae=!0,nt+=`';
`+Qt+`;
__p += '`),Et&&(nt+=`' +
((__t = (`+Et+`)) == null ? '' : __t) +
'`),Xe=kr+Fe.length,Fe}),nt+=`';
`;var Ct=Yr.call(k,"variable")&&k.variable;if(Ct){if(oc.test(Ct))throw new Ir("Invalid `variable` option passed into `_.template`")}else nt=`with (obj) {
`+nt+`
}
`;nt=(ae?nt.replace(ho,""):nt).replace(Qs,"$1").replace(ya,"$1;"),nt="function("+(Ct||"obj")+`) {
`+(Ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Y?", __e = _.escape":"")+(ae?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+nt+`return __p
}`;var Qe=wv(function(){return fn(xe,It+"return "+nt).apply(_,be)});if(Qe.source=nt,dv(Qe))throw Qe;return Qe},re.times=function(p,k){if((p=dr(p))<1||p>W)return[];var I=ie,H=ki(p,ie);k=Wt(k),p-=ie;for(var Y=Im(H,k);++I<p;)k(I);return Y},re.toFinite=Jo,re.toInteger=dr,re.toLength=g2,re.toLower=function(p){return $r(p).toLowerCase()},re.toNumber=Ya,re.toSafeInteger=function(p){return p?pu(dr(p),-9007199254740991,W):p===0?p:0},re.toString=$r,re.toUpper=function(p){return $r(p).toUpperCase()},re.trim=function(p,k,I){if((p=$r(p))&&(I||k===_))return Mm(p);if(!p||!(k=Ki(k)))return p;var H=Qn(p),Y=Qn(k);return hl(H,Be(H,Y),mc(H,Y)+1).join("")},re.trimEnd=function(p,k,I){if((p=$r(p))&&(I||k===_))return p.slice(0,On(p)+1);if(!p||!(k=Ki(k)))return p;var H=Qn(p);return hl(H,0,mc(H,Qn(k))+1).join("")},re.trimStart=function(p,k,I){if((p=$r(p))&&(I||k===_))return p.replace(j0,"");if(!p||!(k=Ki(k)))return p;var H=Qn(p);return hl(H,Be(H,Qn(k))).join("")},re.truncate=function(p,k){var I=30,H="...";if(An(k)){var Y="separator"in k?k.separator:Y;I="length"in k?dr(k.length):I,H="omission"in k?Ki(k.omission):H}var ae=(p=$r(p)).length;if(Ko(p)){var me=Qn(p);ae=me.length}if(I>=ae)return p;var xe=I-wi(H);if(xe<1)return H;var be=me?hl(me,0,xe).join(""):p.slice(0,xe);if(Y===_)return be+H;if(me&&(xe+=be.length-xe),hv(Y)){if(p.slice(xe).search(Y)){var Xe,Ve=be;for(Y.global||(Y=vn(Y.source,$r(Ts.exec(Y))+"g")),Y.lastIndex=0;Xe=Y.exec(Ve);)var nt=Xe.index;be=be.slice(0,nt===_?xe:nt)}}else if(p.indexOf(Ki(Y),xe)!=xe){var Ot=be.lastIndexOf(Y);Ot>-1&&(be=be.slice(0,Ot))}return be+H},re.unescape=function(p){return(p=$r(p))&&nc.test(p)?p.replace(za,ol):p},re.uniqueId=function(p){var k=++fu;return $r(p)+k},re.upperCase=E2,re.upperFirst=Ih,re.each=n2,re.eachRight=uv,re.first=$y,Dh(re,(Ei={},Vo(re,function(p,k){Yr.call(re.prototype,k)||(Ei[k]=p)}),Ei),{chain:!1}),re.VERSION="4.17.21",ta(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){re[p].placeholder=re}),ta(["drop","take"],function(p,k){Er.prototype[p]=function(I){I=I===_?1:Bn(dr(I),0);var H=this.__filtered__&&!k?new Er(this):this.clone();return H.__filtered__?H.__takeCount__=ki(I,H.__takeCount__):H.__views__.push({size:ki(I,ie),type:p+(H.__dir__<0?"Right":"")}),H},Er.prototype[p+"Right"]=function(I){return this.reverse()[p](I).reverse()}}),ta(["filter","map","takeWhile"],function(p,k){var I=k+1,H=I==1||I==3;Er.prototype[p]=function(Y){var ae=this.clone();return ae.__iteratees__.push({iteratee:Wt(Y,3),type:I}),ae.__filtered__=ae.__filtered__||H,ae}}),ta(["head","last"],function(p,k){var I="take"+(k?"Right":"");Er.prototype[p]=function(){return this[I](1).value()[0]}}),ta(["initial","tail"],function(p,k){var I="drop"+(k?"":"Right");Er.prototype[p]=function(){return this.__filtered__?new Er(this):this[I](1)}}),Er.prototype.compact=function(){return this.filter(ci)},Er.prototype.find=function(p){return this.filter(p).head()},Er.prototype.findLast=function(p){return this.reverse().find(p)},Er.prototype.invokeMap=vr(function(p,k){return typeof p=="function"?new Er(this):this.map(function(I){return ka(I,p,k)})}),Er.prototype.reject=function(p){return this.filter(kh(Wt(p)))},Er.prototype.slice=function(p,k){p=dr(p);var I=this;return I.__filtered__&&(p>0||k<0)?new Er(I):(p<0?I=I.takeRight(-p):p&&(I=I.drop(p)),k!==_&&(I=(k=dr(k))<0?I.dropRight(-k):I.take(k-p)),I)},Er.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},Er.prototype.toArray=function(){return this.take(ie)},Vo(Er.prototype,function(p,k){var I=/^(?:filter|find|map|reject)|While$/.test(k),H=/^(?:head|last)$/.test(k),Y=re[H?"take"+(k=="last"?"Right":""):k],ae=H||/^find/.test(k);Y&&(re.prototype[k]=function(){var me=this.__wrapped__,xe=H?[1]:arguments,be=me instanceof Er,Xe=xe[0],Ve=be||ur(me),nt=function($t){var Et=Y.apply(re,al([$t],xe));return H&&Ot?Et[0]:Et};Ve&&I&&typeof Xe=="function"&&Xe.length!=1&&(be=Ve=!1);var Ot=this.__chain__,It=!!this.__actions__.length,Ct=ae&&!Ot,Qe=be&&!It;if(!ae&&Ve){me=Qe?me:new Er(this);var Fe=p.apply(me,xe);return Fe.__actions__.push({func:Mf,args:[nt],thisArg:_}),new aa(Fe,Ot)}return Ct&&Qe?p.apply(this,xe):(Fe=this.thru(nt),Ct?H?Fe.value()[0]:Fe.value():Fe)})}),ta(["pop","push","shift","sort","splice","unshift"],function(p){var k=Ni[p],I=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",H=/^(?:pop|shift)$/.test(p);re.prototype[p]=function(){var Y=arguments;if(H&&!this.__chain__){var ae=this.value();return k.apply(ur(ae)?ae:[],Y)}return this[I](function(me){return k.apply(ur(me)?me:[],Y)})}}),Vo(Er.prototype,function(p,k){var I=re[k];if(I){var H=I.name+"";Yr.call(Hi,H)||(Hi[H]=[]),Hi[H].push({name:k,func:I})}}),Hi[fh(_,2).name]=[{name:"wrapper",func:_}],Er.prototype.clone=function(){var p=new Er(this.__wrapped__);return p.__actions__=Si(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=Si(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=Si(this.__views__),p},Er.prototype.reverse=function(){if(this.__filtered__){var p=new Er(this);p.__dir__=-1,p.__filtered__=!0}else(p=this.clone()).__dir__*=-1;return p},Er.prototype.value=function(){var p=this.__wrapped__.value(),k=this.__dir__,I=ur(p),H=k<0,Y=I?p.length:0,ae=function(kr,jt,qt){for(var ai=-1,la=qt.length;++ai<la;){var ko=qt[ai],ei=ko.size;switch(ko.type){case"drop":kr+=ei;break;case"dropRight":jt-=ei;break;case"take":jt=ki(jt,kr+ei);break;case"takeRight":kr=Bn(kr,jt-ei)}}return{start:kr,end:jt}}(0,Y,this.__views__),me=ae.start,xe=ae.end,be=xe-me,Xe=H?xe:me-1,Ve=this.__iteratees__,nt=Ve.length,Ot=0,It=ki(be,this.__takeCount__);if(!I||!H&&Y==be&&It==be)return dl(p,this.__actions__);var Ct=[];e:for(;be--&&Ot<It;){for(var Qe=-1,Fe=p[Xe+=k];++Qe<nt;){var $t=Ve[Qe],Et=$t.iteratee,Mt=$t.type,Qt=Et(Fe);if(Mt==2)Fe=Qt;else if(!Qt){if(Mt==1)continue e;break e}}Ct[Ot++]=Fe}return Ct},re.prototype.at=gt,re.prototype.chain=function(){return yn(this)},re.prototype.commit=function(){return new aa(this.value(),this.__chain__)},re.prototype.next=function(){this.__values__===_&&(this.__values__=pv(this.value()));var p=this.__index__>=this.__values__.length;return{done:p,value:p?_:this.__values__[this.__index__++]}},re.prototype.plant=function(p){for(var k,I=this;I instanceof uf;){var H=av(I);H.__index__=0,H.__values__=_,k?Y.__wrapped__=H:k=H;var Y=H;I=I.__wrapped__}return Y.__wrapped__=p,k},re.prototype.reverse=function(){var p=this.__wrapped__;if(p instanceof Er){var k=p;return this.__actions__.length&&(k=new Er(this)),(k=k.reverse()).__actions__.push({func:Mf,args:[gh],thisArg:_}),new aa(k,this.__chain__)}return this.thru(gh)},re.prototype.toJSON=re.prototype.valueOf=re.prototype.value=function(){return dl(this.__wrapped__,this.__actions__)},re.prototype.first=re.prototype.head,Is&&(re.prototype[Is]=function(){return this}),re}();ui._=Y0,(O=function(){return Y0}.call(C,b,C,y))===_||(y.exports=O)}.call(this)},4516:function(y){var C=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;function _(N){if(N==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(N)}y.exports=function(){try{if(!Object.assign)return!1;var N=new String("abc");if(N[5]="de",Object.getOwnPropertyNames(N)[0]==="5")return!1;for(var P={},M=0;M<10;M++)P["_"+String.fromCharCode(M)]=M;if(Object.getOwnPropertyNames(P).map(function(D){return P[D]}).join("")!=="0123456789")return!1;var R={};return"abcdefghijklmnopqrst".split("").forEach(function(D){R[D]=D}),Object.keys(Object.assign({},R)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(N,P){for(var M,R,D=_(N),G=1;G<arguments.length;G++){for(var V in M=Object(arguments[G]))b.call(M,V)&&(D[V]=M[V]);if(C){R=C(M);for(var J=0;J<R.length;J++)O.call(M,R[J])&&(D[R[J]]=M[R[J]])}}return D}},6094:function(y,C,b){b(4516);var O=b(9787),_=60103;if(C.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var N=Symbol.for;_=N("react.element"),C.Fragment=N("react.fragment")}var P=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M=Object.prototype.hasOwnProperty,R={key:!0,ref:!0,__self:!0,__source:!0};function D(G,V,J){var te,W={},ce=null,ie=null;for(te in J!==void 0&&(ce=""+J),V.key!==void 0&&(ce=""+V.key),V.ref!==void 0&&(ie=V.ref),V)M.call(V,te)&&!R.hasOwnProperty(te)&&(W[te]=V[te]);if(G&&G.defaultProps)for(te in V=G.defaultProps)W[te]===void 0&&(W[te]=V[te]);return{$$typeof:_,type:G,key:ce,ref:ie,props:W,_owner:P.current}}C.jsx=D,C.jsxs=D},4512:function(y,C,b){y.exports=b(6094)},1602:function(y){var C=function(b){var O,_=Object.prototype,N=_.hasOwnProperty,P=typeof Symbol=="function"?Symbol:{},M=P.iterator||"@@iterator",R=P.asyncIterator||"@@asyncIterator",D=P.toStringTag||"@@toStringTag";function G(we,Ke,yt){return Object.defineProperty(we,Ke,{value:yt,enumerable:!0,configurable:!0,writable:!0}),we[Ke]}try{G({},"")}catch{G=function(Ke,yt,At){return Ke[yt]=At}}function V(we,Ke,yt,At){var kt=Ke&&Ke.prototype instanceof pe?Ke:pe,Kt=Object.create(kt.prototype),br=new Ht(At||[]);return Kt._invoke=function(Jr,rn,mr){var Vr=te;return function(nn,ho){if(Vr===ce)throw new Error("Generator is already running");if(Vr===ie){if(nn==="throw")throw ho;return Re()}for(mr.method=nn,mr.arg=ho;;){var Qs=mr.delegate;if(Qs){var ya=q(Qs,mr);if(ya){if(ya===le)continue;return ya}}if(mr.method==="next")mr.sent=mr._sent=mr.arg;else if(mr.method==="throw"){if(Vr===te)throw Vr=ie,mr.arg;mr.dispatchException(mr.arg)}else mr.method==="return"&&mr.abrupt("return",mr.arg);Vr=ce;var za=J(Jr,rn,mr);if(za.type==="normal"){if(Vr=mr.done?ie:W,za.arg===le)continue;return{value:za.arg,done:mr.done}}za.type==="throw"&&(Vr=ie,mr.method="throw",mr.arg=za.arg)}}}(we,yt,br),Kt}function J(we,Ke,yt){try{return{type:"normal",arg:we.call(Ke,yt)}}catch(At){return{type:"throw",arg:At}}}b.wrap=V;var te="suspendedStart",W="suspendedYield",ce="executing",ie="completed",le={};function pe(){}function he(){}function ye(){}var Ee={};Ee[M]=function(){return this};var Ne=Object.getPrototypeOf,ge=Ne&&Ne(Ne(Zt([])));ge&&ge!==_&&N.call(ge,M)&&(Ee=ge);var De=ye.prototype=pe.prototype=Object.create(Ee);function ze(we){["next","throw","return"].forEach(function(Ke){G(we,Ke,function(yt){return this._invoke(Ke,yt)})})}function Ye(we,Ke){function yt(kt,Kt,br,Jr){var rn=J(we[kt],we,Kt);if(rn.type!=="throw"){var mr=rn.arg,Vr=mr.value;return Vr&&typeof Vr=="object"&&N.call(Vr,"__await")?Ke.resolve(Vr.__await).then(function(nn){yt("next",nn,br,Jr)},function(nn){yt("throw",nn,br,Jr)}):Ke.resolve(Vr).then(function(nn){mr.value=nn,br(mr)},function(nn){return yt("throw",nn,br,Jr)})}Jr(rn.arg)}var At;this._invoke=function(kt,Kt){function br(){return new Ke(function(Jr,rn){yt(kt,Kt,Jr,rn)})}return At=At?At.then(br,br):br()}}function q(we,Ke){var yt=we.iterator[Ke.method];if(yt===O){if(Ke.delegate=null,Ke.method==="throw"){if(we.iterator.return&&(Ke.method="return",Ke.arg=O,q(we,Ke),Ke.method==="throw"))return le;Ke.method="throw",Ke.arg=new TypeError("The iterator does not provide a 'throw' method")}return le}var At=J(yt,we.iterator,Ke.arg);if(At.type==="throw")return Ke.method="throw",Ke.arg=At.arg,Ke.delegate=null,le;var kt=At.arg;return kt?kt.done?(Ke[we.resultName]=kt.value,Ke.next=we.nextLoc,Ke.method!=="return"&&(Ke.method="next",Ke.arg=O),Ke.delegate=null,le):kt:(Ke.method="throw",Ke.arg=new TypeError("iterator result is not an object"),Ke.delegate=null,le)}function A(we){var Ke={tryLoc:we[0]};1 in we&&(Ke.catchLoc=we[1]),2 in we&&(Ke.finallyLoc=we[2],Ke.afterLoc=we[3]),this.tryEntries.push(Ke)}function zt(we){var Ke=we.completion||{};Ke.type="normal",delete Ke.arg,we.completion=Ke}function Ht(we){this.tryEntries=[{tryLoc:"root"}],we.forEach(A,this),this.reset(!0)}function Zt(we){if(we){var Ke=we[M];if(Ke)return Ke.call(we);if(typeof we.next=="function")return we;if(!isNaN(we.length)){var yt=-1,At=function kt(){for(;++yt<we.length;)if(N.call(we,yt))return kt.value=we[yt],kt.done=!1,kt;return kt.value=O,kt.done=!0,kt};return At.next=At}}return{next:Re}}function Re(){return{value:O,done:!0}}return he.prototype=De.constructor=ye,ye.constructor=he,he.displayName=G(ye,D,"GeneratorFunction"),b.isGeneratorFunction=function(we){var Ke=typeof we=="function"&&we.constructor;return!!Ke&&(Ke===he||(Ke.displayName||Ke.name)==="GeneratorFunction")},b.mark=function(we){return Object.setPrototypeOf?Object.setPrototypeOf(we,ye):(we.__proto__=ye,G(we,D,"GeneratorFunction")),we.prototype=Object.create(De),we},b.awrap=function(we){return{__await:we}},ze(Ye.prototype),Ye.prototype[R]=function(){return this},b.AsyncIterator=Ye,b.async=function(we,Ke,yt,At,kt){kt===void 0&&(kt=Promise);var Kt=new Ye(V(we,Ke,yt,At),kt);return b.isGeneratorFunction(Ke)?Kt:Kt.next().then(function(br){return br.done?br.value:Kt.next()})},ze(De),G(De,D,"Generator"),De[M]=function(){return this},De.toString=function(){return"[object Generator]"},b.keys=function(we){var Ke=[];for(var yt in we)Ke.push(yt);return Ke.reverse(),function At(){for(;Ke.length;){var kt=Ke.pop();if(kt in we)return At.value=kt,At.done=!1,At}return At.done=!0,At}},b.values=Zt,Ht.prototype={constructor:Ht,reset:function(we){if(this.prev=0,this.next=0,this.sent=this._sent=O,this.done=!1,this.delegate=null,this.method="next",this.arg=O,this.tryEntries.forEach(zt),!we)for(var Ke in this)Ke.charAt(0)==="t"&&N.call(this,Ke)&&!isNaN(+Ke.slice(1))&&(this[Ke]=O)},stop:function(){this.done=!0;var we=this.tryEntries[0].completion;if(we.type==="throw")throw we.arg;return this.rval},dispatchException:function(we){if(this.done)throw we;var Ke=this;function yt(rn,mr){return Kt.type="throw",Kt.arg=we,Ke.next=rn,mr&&(Ke.method="next",Ke.arg=O),!!mr}for(var At=this.tryEntries.length-1;At>=0;--At){var kt=this.tryEntries[At],Kt=kt.completion;if(kt.tryLoc==="root")return yt("end");if(kt.tryLoc<=this.prev){var br=N.call(kt,"catchLoc"),Jr=N.call(kt,"finallyLoc");if(br&&Jr){if(this.prev<kt.catchLoc)return yt(kt.catchLoc,!0);if(this.prev<kt.finallyLoc)return yt(kt.finallyLoc)}else if(br){if(this.prev<kt.catchLoc)return yt(kt.catchLoc,!0)}else{if(!Jr)throw new Error("try statement without catch or finally");if(this.prev<kt.finallyLoc)return yt(kt.finallyLoc)}}}},abrupt:function(we,Ke){for(var yt=this.tryEntries.length-1;yt>=0;--yt){var At=this.tryEntries[yt];if(At.tryLoc<=this.prev&&N.call(At,"finallyLoc")&&this.prev<At.finallyLoc){var kt=At;break}}kt&&(we==="break"||we==="continue")&&kt.tryLoc<=Ke&&Ke<=kt.finallyLoc&&(kt=null);var Kt=kt?kt.completion:{};return Kt.type=we,Kt.arg=Ke,kt?(this.method="next",this.next=kt.finallyLoc,le):this.complete(Kt)},complete:function(we,Ke){if(we.type==="throw")throw we.arg;return we.type==="break"||we.type==="continue"?this.next=we.arg:we.type==="return"?(this.rval=this.arg=we.arg,this.method="return",this.next="end"):we.type==="normal"&&Ke&&(this.next=Ke),le},finish:function(we){for(var Ke=this.tryEntries.length-1;Ke>=0;--Ke){var yt=this.tryEntries[Ke];if(yt.finallyLoc===we)return this.complete(yt.completion,yt.afterLoc),zt(yt),le}},catch:function(we){for(var Ke=this.tryEntries.length-1;Ke>=0;--Ke){var yt=this.tryEntries[Ke];if(yt.tryLoc===we){var At=yt.completion;if(At.type==="throw"){var kt=At.arg;zt(yt)}return kt}}throw new Error("illegal catch attempt")},delegateYield:function(we,Ke,yt){return this.delegate={iterator:Zt(we),resultName:Ke,nextLoc:yt},this.method==="next"&&(this.arg=O),le}},b}(y.exports);try{regeneratorRuntime=C}catch{Function("r","regeneratorRuntime = r")(C)}},8336:function(y,C,b){var O=b(487),_=b(4295);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},554:function(y,C,b){var O=b(487),_=b(9135);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},2789:function(y,C,b){var O=b(487),_=b(3729);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},5080:function(y,C,b){var O=b(487),_=b(4241);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},7225:function(y,C,b){var O=b(487),_=b(6029);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},778:function(y,C,b){var O=b(487),_=b(9609);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},4220:function(y,C,b){var O=b(487),_=b(2345);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},4678:function(y,C,b){var O=b(487),_=b(9393);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},1292:function(y,C,b){var O=b(487),_=b(6578);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},196:function(y,C,b){var O=b(487),_=b(9482);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},2205:function(y,C,b){var O=b(487),_=b(7955);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},1310:function(y,C,b){var O=b(487),_=b(3195);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},3922:function(y,C,b){var O=b(487),_=b(2978);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},7096:function(y,C,b){var O=b(487),_=b(1587);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},7117:function(y,C,b){var O=b(487),_=b(9478);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},1106:function(y,C,b){var O=b(487),_=b(7369);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},3336:function(y,C,b){var O=b(487),_=b(1434);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},4406:function(y,C,b){var O=b(487),_=b(8923);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},6043:function(y,C,b){var O=b(487),_=b(5605);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},694:function(y,C,b){var O=b(487),_=b(5644);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},8328:function(y,C,b){var O=b(487),_=b(6843);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},8051:function(y,C,b){var O=b(487),_=b(8461);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},4301:function(y,C,b){var O=b(487),_=b(9935);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},9966:function(y,C,b){var O=b(487),_=b(532);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},9295:function(y,C,b){var O=b(487),_=b(7589);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},9781:function(y,C,b){var O=b(487),_=b(8465);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},371:function(y,C,b){var O=b(487),_=b(5892);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},4623:function(y,C,b){var O=b(487),_=b(3874);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},1528:function(y,C,b){var O=b(487),_=b(2681);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},518:function(y,C,b){var O=b(487),_=b(6759);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},9757:function(y,C,b){var O=b(487),_=b(9650);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},5422:function(y,C,b){var O=b(487),_=b(2044);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},276:function(y,C,b){var O=b(487),_=b(9144);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},6781:function(y,C,b){var O=b(487),_=b(6626);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},580:function(y,C,b){var O=b(487),_=b(6359);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},4285:function(y,C,b){var O=b(487),_=b(9915);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},3313:function(y,C,b){var O=b(487),_=b(9310);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},8635:function(y,C,b){var O=b(487),_=b(6464);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},4404:function(y,C,b){var O=b(487),_=b(5260);typeof(_=_.__esModule?_.default:_)=="string"&&(_=[[y.id,_,""]]);var N={insert:"head",singleton:!1};O(_,N),y.exports=_.locals||{}},487:function(y,C,b){var O,_=function(){return O===void 0&&(O=Boolean(window&&document&&document.all&&!window.atob)),O},N=function(){var le={};return function(pe){if(le[pe]===void 0){var he=document.querySelector(pe);if(window.HTMLIFrameElement&&he instanceof window.HTMLIFrameElement)try{he=he.contentDocument.head}catch{he=null}le[pe]=he}return le[pe]}}(),P=[];function M(le){for(var pe=-1,he=0;he<P.length;he++)if(P[he].identifier===le){pe=he;break}return pe}function R(le,pe){for(var he={},ye=[],Ee=0;Ee<le.length;Ee++){var Ne=le[Ee],ge=pe.base?Ne[0]+pe.base:Ne[0],De=he[ge]||0,ze="".concat(ge," ").concat(De);he[ge]=De+1;var Ye=M(ze),q={css:Ne[1],media:Ne[2],sourceMap:Ne[3]};Ye!==-1?(P[Ye].references++,P[Ye].updater(q)):P.push({identifier:ze,updater:ie(q,pe),references:1}),ye.push(ze)}return ye}function D(le){var pe=document.createElement("style"),he=le.attributes||{};if(he.nonce===void 0){var ye=b.nc;ye&&(he.nonce=ye)}if(Object.keys(he).forEach(function(Ne){pe.setAttribute(Ne,he[Ne])}),typeof le.insert=="function")le.insert(pe);else{var Ee=N(le.insert||"head");if(!Ee)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Ee.appendChild(pe)}return pe}var G,V=(G=[],function(le,pe){return G[le]=pe,G.filter(Boolean).join(`
`)});function J(le,pe,he,ye){var Ee=he?"":ye.media?"@media ".concat(ye.media," {").concat(ye.css,"}"):ye.css;if(le.styleSheet)le.styleSheet.cssText=V(pe,Ee);else{var Ne=document.createTextNode(Ee),ge=le.childNodes;ge[pe]&&le.removeChild(ge[pe]),ge.length?le.insertBefore(Ne,ge[pe]):le.appendChild(Ne)}}function te(le,pe,he){var ye=he.css,Ee=he.media,Ne=he.sourceMap;if(Ee?le.setAttribute("media",Ee):le.removeAttribute("media"),Ne&&typeof btoa!="undefined"&&(ye+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Ne))))," */")),le.styleSheet)le.styleSheet.cssText=ye;else{for(;le.firstChild;)le.removeChild(le.firstChild);le.appendChild(document.createTextNode(ye))}}var W=null,ce=0;function ie(le,pe){var he,ye,Ee;if(pe.singleton){var Ne=ce++;he=W||(W=D(pe)),ye=J.bind(null,he,Ne,!1),Ee=J.bind(null,he,Ne,!0)}else he=D(pe),ye=te.bind(null,he,pe),Ee=function(){(function(ge){if(ge.parentNode===null)return!1;ge.parentNode.removeChild(ge)})(he)};return ye(le),function(ge){if(ge){if(ge.css===le.css&&ge.media===le.media&&ge.sourceMap===le.sourceMap)return;ye(le=ge)}else Ee()}}y.exports=function(le,pe){(pe=pe||{}).singleton||typeof pe.singleton=="boolean"||(pe.singleton=_());var he=R(le=le||[],pe);return function(ye){if(ye=ye||[],Object.prototype.toString.call(ye)==="[object Array]"){for(var Ee=0;Ee<he.length;Ee++){var Ne=M(he[Ee]);P[Ne].references--}for(var ge=R(ye,pe),De=0;De<he.length;De++){var ze=M(he[De]);P[ze].references===0&&(P[ze].updater(),P.splice(ze,1))}he=ge}}}},788:function(y,C,b){var O={"./ar-SA.json":[7822,558],"./bg-BG.json":[1203,384],"./bn-BD.json":[8525,603],"./ca-ES.json":[510,351],"./cs-CZ.json":[7605,387],"./da-DK.json":[2392,617],"./de-DE.json":[2853,43],"./el-GR.json":[9876,526],"./en.json":[1463],"./es-ES.json":[2264,317],"./eu-ES.json":[5658,431],"./fa-IR.json":[3747,710],"./fi-FI.json":[9490,472],"./fr-FR.json":[7830,364],"./he-IL.json":[1994,262],"./hi-IN.json":[4646,933],"./hu-HU.json":[6373,661],"./id-ID.json":[3247,491],"./it-IT.json":[3257,465],"./ja-JP.json":[198,137],"./kab-KAB.json":[228,164],"./kk-KZ.json":[8972,649],"./ko-KR.json":[7596,60],"./lt-LT.json":[3755,58],"./lv-LV.json":[2327,899],"./my-MM.json":[7704,242],"./nb-NO.json":[1167,246],"./nl-NL.json":[290,196],"./nn-NO.json":[4481,920],"./oc-FR.json":[2284,565],"./pa-IN.json":[6773,280],"./percentages.json":[4451],"./pl-PL.json":[3661,852],"./pt-BR.json":[8881,381],"./pt-PT.json":[5622,149],"./ro-RO.json":[2013,752],"./ru-RU.json":[2253,869],"./si-LK.json":[5497,90],"./sk-SK.json":[4570,401],"./sv-SE.json":[6006,698],"./ta-IN.json":[3952,395],"./tr-TR.json":[7315,213],"./uk-UA.json":[334,583],"./zh-CN.json":[1037,304],"./zh-HK.json":[5334,9],"./zh-TW.json":[931,62]};function _(N){if(!b.o(O,N))return Promise.resolve().then(function(){var R=new Error("Cannot find module '"+N+"'");throw R.code="MODULE_NOT_FOUND",R});var P=O[N],M=P[0];return Promise.all(P.slice(1).map(b.e)).then(function(){return b.t(M,19)})}_.keys=function(){return Object.keys(O)},_.id=788,y.exports=_},9713:function(y){y.exports=function(C,b,O){return b in C?Object.defineProperty(C,b,{value:O,enumerable:!0,configurable:!0,writable:!0}):C[b]=O,C}},6479:function(y,C,b){var O=b(7316);y.exports=function(_,N){if(_==null)return{};var P,M,R=O(_,N);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(_);for(M=0;M<D.length;M++)P=D[M],N.indexOf(P)>=0||Object.prototype.propertyIsEnumerable.call(_,P)&&(R[P]=_[P])}return R}},7316:function(y){y.exports=function(C,b){if(C==null)return{};var O,_,N={},P=Object.keys(C);for(_=0;_<P.length;_++)O=P[_],b.indexOf(O)>=0||(N[O]=C[O]);return N}},4295:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N),M=b(1667),R=b.n(M),D=new URL(b(3940),b.b),G=new URL(b(3147),b.b),V=P()(_()),J=R()(D),te=R()(G);V.push([y.id,'@font-face{font-family:"Virgil";src:url('+J+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+te+");font-display:swap}",""]),C.default=V},9135:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),C.default=P},3729:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",""]),C.default=P},4241:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),C.default=P},6029:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:transparent;border-radius:4px;color:#1c7ed6}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),C.default=P},9609:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}",""]),C.default=P},2345:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N),M=b(1667),R=b.n(M),D=new URL(b(9669),b.b),G=P()(_()),V=R()(D);G.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir=ltr] .excalidraw .color-picker-triangle{left:12px}:root[dir=rtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+V+') left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:11ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;-webkit-padding-start:.5em;padding-inline-start:.5em;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;-webkit-margin-end:.25rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),C.default=G},9393:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .confirm-dialog-buttons{display:flex;padding:.2rem 0;justify-content:flex-end}.excalidraw .confirm-dialog .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .confirm-dialog .ToolIcon_type_button{margin-left:.8rem;padding:0 .5rem}.excalidraw .confirm-dialog__content{font-size:1rem}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button{background-color:#fa5252}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button:hover{background-color:#e03131}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button .ToolIcon__icon{color:#fff}",""]),C.default=P},6578:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"\u2713"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-option{display:block}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',""]),C.default=P},9482:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor)*7);grid-gap:var(--metric);padding:calc(var(--space-factor)*2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}.excalidraw--mobile.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw--mobile.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor)*7) 1fr calc(var(--space-factor)*7);position:-webkit-sticky;position:sticky;top:0;padding:calc(var(--space-factor)*2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw--mobile.excalidraw .Dialog__titleContent{text-align:center}.excalidraw--mobile.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw--mobile.excalidraw .Dialog .Modal__close{order:-1}",""]),C.default=P},7955:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N),M=b(1667),R=b.n(M),D=new URL(b(9669),b.b),G=P()(_()),V=R()(D);G.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+V+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{width:5rem;height:5rem;margin:0 .2em;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),C.default=G},3195:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--space-factor);top:var(--space-factor);right:var(--space-factor);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),C.default=P},2978:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",""]),C.default=P},1587:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2em}.excalidraw .HintViewer>span{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",""]),C.default=P},9478:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),C.default=P},7369:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),C.default=P},1434:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(-76px, 0);transform:translate(-76px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(76px, 0);transform:translate(76px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center{pointer-events:none}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center>*{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left{margin-bottom:.2em}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto;-webkit-margin-end:1em;margin-inline-end:1em}",""]),C.default=P},8923:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-padding-end:18px;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}",""]),C.default=P},5605:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".excalidraw .library-menu-items-container .library-actions{display:flex}.excalidraw .library-menu-items-container .library-actions button .library-actions-counter{position:absolute;right:2px;bottom:2px;border-radius:50%;width:1em;height:1em;padding:1px;font-size:.7rem;background:#fff}.excalidraw .library-menu-items-container .library-actions--remove{background-color:#f03e3e}.excalidraw .library-menu-items-container .library-actions--remove:hover{background-color:#e03131}.excalidraw .library-menu-items-container .library-actions--remove:active{background-color:#c92a2a}.excalidraw .library-menu-items-container .library-actions--remove svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--remove .library-actions-counter{color:#f03e3e}.excalidraw .library-menu-items-container .library-actions--export{background-color:#94d82d}.excalidraw .library-menu-items-container .library-actions--export:hover{background-color:#74b816}.excalidraw .library-menu-items-container .library-actions--export:active{background-color:#66a80f}.excalidraw .library-menu-items-container .library-actions--export svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--export .library-actions-counter{color:#94d82d}.excalidraw .library-menu-items-container .library-actions--publish{background-color:#15aabf}.excalidraw .library-menu-items-container .library-actions--publish:hover{background-color:#1098ad}.excalidraw .library-menu-items-container .library-actions--publish:active{background-color:#0b7285}.excalidraw .library-menu-items-container .library-actions--publish svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--publish label{margin-left:-0.2em;margin-right:1.1em;color:#fff;font-size:.86em}.excalidraw .library-menu-items-container .library-actions--publish .library-actions-counter{color:#15aabf}.excalidraw .library-menu-items-container .library-actions--load{background-color:#228be6}.excalidraw .library-menu-items-container .library-actions--load:hover{background-color:#1c7ed6}.excalidraw .library-menu-items-container .library-actions--load:active{background-color:#1864ab}.excalidraw .library-menu-items-container .library-actions--load svg{color:#fff}.excalidraw .library-menu-items-container__items{max-height:50vh;overflow:auto;margin-top:.5rem}.excalidraw .library-menu-items-container .separator{font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),C.default=P},5644:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit--hover{box-shadow:inset 0px 0px 0px 2px #339af0;border-color:#339af0}.excalidraw .library-unit--selected{box-shadow:inset 0px 0px 0px 2px #1971c2;border-color:#1971c2}.excalidraw.theme--dark .library-unit{border-color:#303030}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;left:2.3rem;bottom:2.3rem}.excalidraw .library-unit__checkbox .Checkbox-box{width:13px;height:13px;border-radius:2px;margin:.5em .5em .2em .2em;background-color:#d0ebff}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:40%;top:40%;width:2rem;height:2rem;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit:hover .library-unit__adder{fill:#1c7ed6}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8);fill:#000}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),C.default=P},6843:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.7)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor)*5)}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),C.default=P},8461:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),C.default=P},9935:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".excalidraw .popover{position:absolute;z-index:10}",""]),C.default=P},532:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),C.default=P},7589:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;padding:0 .8rem;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-note{padding:1em;font-style:italic;font-size:14px;display:block}",""]),C.default=P},8465:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item__svg{width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2);margin:.3rem}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1.3rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),C.default=P},5892:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),C.default=P},3874:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),C.default=P},2681:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),C.default=P},6759:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{display:inline-block}",""]),C.default=P},9650:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),C.default=P},2044:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon--plain{background-color:transparent}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon{background-color:var(--button-gray-1)}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon:hover,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_radio:focus-visible+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus-visible+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2em}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon_type_floating{display:inline-block;position:absolute;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon_type_floating .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon_type_floating svg{position:static}.excalidraw .ToolIcon.ToolIcon__library{top:100px}.excalidraw .ToolIcon.ToolIcon__lock{-webkit-margin-end:0;margin-inline-end:0;top:60px}.excalidraw .ToolIcon.ToolIcon__penMode{-webkit-margin-end:0;margin-inline-end:0;top:140px}}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}",""]),C.default=P},9144:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .App-toolbar-container .ToolIcon_type_floating:not(.is-mobile) .ToolIcon__icon{padding:1px;background-color:var(--island-bg-color);box-shadow:1px 3px 4px 0px rgba(0,0,0,.15);border-radius:50%;transition:box-shadow .5s ease,-webkit-transform .5s ease;transition:box-shadow .5s ease,transform .5s ease;transition:box-shadow .5s ease,transform .5s ease,-webkit-transform .5s ease}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:focus-within+.ToolIcon__icon,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:focus-within+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .App-toolbar-container .ToolIcon__hidden{box-shadow:none !important;background-color:transparent !important;pointer-events:none !important}.excalidraw .App-toolbar-container .ToolIcon.ToolIcon__lock{-webkit-margin-end:var(--space-factor);margin-inline-end:var(--space-factor)}.excalidraw .App-toolbar-container .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .App-toolbar-container .ToolIcon__library{-webkit-margin-start:var(--space-factor);margin-inline-start:var(--space-factor)}.excalidraw .App-toolbar-container.zen-mode .ToolIcon_type_floating .ToolIcon__icon{box-shadow:none;-webkit-transform:scale(0.9);transform:scale(0.9)}.excalidraw .App-toolbar-container.zen-mode .ToolIcon_type_floating .ToolIcon_type_checkbox:not(:checked):not(:hover):not(:active)+.ToolIcon__icon svg{fill:#adb5bd;color:#adb5bd}.excalidraw .App-toolbar{border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px rgba(0,0,0,.01),1px 1px 5px rgba(0,0,0,.15)}.excalidraw .App-toolbar .ToolIcon:hover{--icon-fill-color: var( --color-primary-contrast-offset, var(--color-primary) );--keybinding-color: var( --color-primary-contrast-offset, var(--color-primary) )}.excalidraw .App-toolbar .ToolIcon:active{--icon-fill-color: #212529;--keybinding-color: #212529}.excalidraw .App-toolbar .ToolIcon .ToolIcon__icon{background:transparent;border-radius:var(--border-radius-lg)}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .App-toolbar .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw.theme--dark .App-toolbar .ToolIcon:active{--icon-fill-color: #dee2e6;--keybinding-color: #dee2e6}",""]),C.default=P},6626:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw-tooltip{position:absolute;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),C.default=P},6359:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile>*{margin:0 var(--space-factor) var(--space-factor) 0}",""]),C.default=P},9915:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",""]),C.default=P},9310:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N),M=b(1667),R=b.n(M),D=new URL(b(7984),b.b),G=new URL(b(1639),b.b),V=P()(_()),J=R()(D),te=R()(G);V.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}:export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url("+J+");--focus-highlight-color: #a5d8ff;--icon-fill-color: #212529;--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 0 0 1px rgba(0, 0, 0, 0.01), 1px 1px 5px rgb(0 0 0 / 12%);--space-factor: 0.25rem;--text-primary-color: #343a40;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e2e1fc;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}.excalidraw.theme--dark{background:#000}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url("+te+');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: rgba(30, 30, 30, 0.98);--keybinding-color: #868e96;--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 1px 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da;--color-primary: #5650f0;--color-primary-darker: #4b46d8;--color-primary-darkest: #3e39be;--color-primary-light: #3f3d64}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;-webkit-margin-end:8px;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{-webkit-user-select:none;user-select:none;background-color:var(--button-gray-1);border:0;border-radius:var(--border-radius-md);margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-visible{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--color-primary);--icon-fill-color: #ffffff}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--color-primary-darker)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--color-primary-darkest)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:35px;height:14px;padding:2px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:auto -webkit-max-content auto;grid-template-columns:auto max-content auto;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:-webkit-min-content auto -webkit-min-content;grid-template-columns:min-content auto min-content;grid-gap:15px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir=ltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir=rtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .zIndexButton{margin:0;-webkit-margin-end:8px;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{display:flex;cursor:pointer;fill:#868e96;padding:0;margin:0;background:none;color:var(--icon-fill-color)}.excalidraw .help-icon svg{width:1.5rem;height:1.5rem}.excalidraw .help-icon:hover{background:none}.excalidraw .reset-zoom-button{padding:.2em;background:transparent;color:var(--text-primary-color);font-family:var(--ui-font)}.excalidraw .undo-redo-buttons{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),C.default=V},6464:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,"",""]),P.locals={themeFilter:"invert(93%) hue-rotate(180deg)"},C.default=P},5260:function(y,C,b){b.r(C);var O=b(8081),_=b.n(O),N=b(3645),P=b.n(N)()(_());P.push([y.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:transparent;color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:transparent !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),C.default=P},3645:function(y){y.exports=function(C){var b=[];return b.toString=function(){return this.map(function(O){var _="",N=O[5]!==void 0;return O[4]&&(_+="@supports (".concat(O[4],") {")),O[2]&&(_+="@media ".concat(O[2]," {")),N&&(_+="@layer".concat(O[5].length>0?" ".concat(O[5]):""," {")),_+=C(O),N&&(_+="}"),O[2]&&(_+="}"),O[4]&&(_+="}"),_}).join("")},b.i=function(O,_,N,P,M){typeof O=="string"&&(O=[[null,O,void 0]]);var R={};if(N)for(var D=0;D<this.length;D++){var G=this[D][0];G!=null&&(R[G]=!0)}for(var V=0;V<O.length;V++){var J=[].concat(O[V]);N&&R[J[0]]||(M!==void 0&&(J[5]===void 0||(J[1]="@layer".concat(J[5].length>0?" ".concat(J[5]):""," {").concat(J[1],"}")),J[5]=M),_&&(J[2]&&(J[1]="@media ".concat(J[2]," {").concat(J[1],"}")),J[2]=_),P&&(J[4]?(J[1]="@supports (".concat(J[4],") {").concat(J[1],"}"),J[4]=P):J[4]="".concat(P)),b.push(J))}},b}},1667:function(y){y.exports=function(C,b){return b||(b={}),C&&(C=String(C.__esModule?C.default:C),/^['"].*['"]$/.test(C)&&(C=C.slice(1,-1)),b.hash&&(C+=b.hash),/["'() \t\n]|(%20)/.test(C)||b.needQuotes?'"'.concat(C.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):C)}},8081:function(y){y.exports=function(C){return C[1]}},8288:function(y,C,b){b.d(C,{iC:function(){return P},f:function(){return M},qx:function(){return R},Iw:function(){return D},$e:function(){return G},wZ:function(){return V},ay:function(){return J},oc:function(){return te},Oh:function(){return W},Ks:function(){return O},Vi:function(){return ce},$C:function(){return ie},ut:function(){return le},C6:function(){return pe},_D:function(){return he},n5:function(){return ye},rk:function(){return Ee},Hg:function(){return Ne},hs:function(){return ge},k:function(){return De},LO:function(){return ze},r8:function(){return Ye},pb:function(){return q},LL:function(){return A},Gj:function(){return zt},nM:function(){return Ht},Lg:function(){return Zt},HM:function(){return Re},V4:function(){return we},sA:function(){return Ke},EH:function(){return yt},ZF:function(){return At},UO:function(){return kt},ah:function(){return Kt},cW:function(){return br},kV:function(){return Jr},sS:function(){return rn},Yx:function(){return mr},zK:function(){return Vr},ZB:function(){return nn},qy:function(){return ho},h6:function(){return Qs},jo:function(){return ya},$n:function(){return za},hR:function(){return ru},Kr:function(){return nc},gK:function(){return li}});var O,_=b(8635),N=b.n(_),P="Excalidraw",M=10,R=8,D=5,G=1,V=30,J=Math.PI/12,te={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},W={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(function(Br){Br.COPY="copy",Br.PASTE="paste",Br.CUT="cut",Br.KEYDOWN="keydown",Br.KEYUP="keyup",Br.MOUSE_MOVE="mousemove",Br.RESIZE="resize",Br.UNLOAD="unload",Br.FOCUS="focus",Br.BLUR="blur",Br.DRAG_OVER="dragover",Br.DROP="drop",Br.GESTURE_END="gestureend",Br.BEFORE_UNLOAD="beforeunload",Br.GESTURE_START="gesturestart",Br.GESTURE_CHANGE="gesturechange",Br.POINTER_MOVE="pointermove",Br.POINTER_UP="pointerup",Br.STATE_CHANGE="statechange",Br.WHEEL="wheel",Br.TOUCH_START="touchstart",Br.TOUCH_END="touchend",Br.HASHCHANGE="hashchange",Br.VISIBILITY_CHANGE="visibilitychange",Br.SCROLL="scroll",Br.EXCALIDRAW_LINK="excalidraw-link"})(O||(O={}));var ce={TEST:"test",DEVELOPMENT:"development"},ie={SHAPE_ACTIONS_MENU:"App-menu__left"},le={Virgil:1,Helvetica:2,Cascadia:3},pe={LIGHT:"light",DARK:"dark"},he="Segoe UI Emoji",ye=20,Ee=le.Virgil,Ne="left",ge="top",De=20,ze={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",binary:"application/octet-stream"},Ye={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},q=window.location.origin,A=500,zt=300,Ht=500,Zt=5e3,Re=100,we=.1,Ke=300,yt={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},At=N().themeFilter,kt={addLibrary:"addLibrary"},Kt={addLibrary:"addLibrary"},br={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,theme:!0,saveAsImage:!0}},Jr=730,rn=1e3,mr=500,Vr=2,nn=[1,2,3],ho=10,Qs=1440,ya=[ze.png,ze.jpg,ze.svg,ze.gif],za=2097152,ru="http://www.w3.org/2000/svg",nc={excalidraw:2,excalidrawLibrary:2},li=5},7314:function(y,C,b){b.r(C),b.d(C,{FONT_FAMILY:function(){return D.ut},THEME:function(){return D.C6},bumpVersion:function(){return vu},default:function(){return $B},defaultLang:function(){return he},exportToBlob:function(){return gB},exportToCanvas:function(){return i6},exportToSvg:function(){return LC},getFreeDrawSvgPath:function(){return th},getNonDeletedElements:function(){return be},getSceneVersion:function(){return me},isInvisiblySmallElement:function(){return fl},isLinearElement:function(){return un},languages:function(){return ye},loadFromBlob:function(){return Ev},loadLibraryFromBlob:function(){return Z_},mutateElement:function(){return vt},newElementWith:function(){return an},restore:function(){return Cv},restoreAppState:function(){return q_},restoreElements:function(){return B2},serializeAsJSON:function(){return U2}});var O=b(6479),_=b.n(O),N=b(9713),P=b.n(N),M=b(9787),R=b.n(M),D=b(8288),G=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.11.0"}');D.Vi.TEST!=="production"&&(b.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(G.u2,"@").concat(G.i8,"/dist/"));var V=b(8950);function J(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}function te(a,s){if(a){if(typeof a=="string")return J(a,s);var l=Object.prototype.toString.call(a).slice(8,-1);return l==="Object"&&a.constructor&&(l=a.constructor.name),l==="Map"||l==="Set"?Array.from(a):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?J(a,s):void 0}}function W(a,s){return function(l){if(Array.isArray(l))return l}(a)||function(l,c){var h=l==null?null:typeof Symbol!="undefined"&&l[Symbol.iterator]||l["@@iterator"];if(h!=null){var m,v,x=[],w=!0,T=!1;try{for(h=h.call(l);!(w=(m=h.next()).done)&&(x.push(m.value),!c||x.length!==c);w=!0);}catch(E){T=!0,v=E}finally{try{w||h.return==null||h.return()}finally{if(T)throw v}}return x}}(a,s)||te(a,s)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var ce=b(7945),ie=b.n(ce),le=b(1463),pe=b(4451),he={code:"en",label:"English"},ye=[{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438"},{code:"ca-ES",label:"Catal\xE0"},{code:"cs-CZ",label:"\u010Cesky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC"},{code:"es-ES",label:"Espa\xF1ol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06CC",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xE7ais"},{code:"he-IL",label:"\u05E2\u05D1\u05E8\u05D9\u05EA",rtl:!0},{code:"hi-IN",label:"\u0939\u093F\u0928\u094D\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65E5\u672C\u8A9E"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"\u049A\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456"},{code:"ko-KR",label:"\uD55C\uAD6D\uC5B4"},{code:"lt-LT",label:"Lietuvi\u0173"},{code:"lv-LV",label:"Latvie\u0161u"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xE5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xEAs Brasileiro"},{code:"pt-PT",label:"Portugu\xEAs"},{code:"ro-RO",label:"Rom\xE2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010Dina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"T\xFCrk\xE7e"},{code:"uk-UA",label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430"},{code:"zh-CN",label:"\u7B80\u4F53\u4E2D\u6587"},{code:"zh-TW",label:"\u7E41\u9AD4\u4E2D\u6587"}].concat([he]).sort(function(a,s){return a.label>s.label?1:-1}).filter(function(a){return pe[a.code]>=85}),Ee="__test__";D.Vi.DEVELOPMENT==="production"&&ye.unshift({code:Ee,label:"test language"},{code:"".concat(Ee,".rtl"),label:"\u202Atest language (rtl)\u202C",rtl:!0});var Ne=he,ge={},De=function(){var a=(0,V.Z)(ie().mark(function s(l){return ie().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(Ne=l,document.documentElement.dir=Ne.rtl?"rtl":"ltr",document.documentElement.lang=Ne.code,!l.code.startsWith(Ee)){c.next=7;break}ge={},c.next=10;break;case 7:return c.next=9,b(788)("./".concat(Ne.code,".json"));case 9:ge=c.sent;case 10:case"end":return c.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),ze=function(){return Ne},Ye=function(a,s){for(var l=0;l<s.length;++l){var c=s[l];if(a[c]===void 0)return;a=a[c]}if(typeof a=="string")return a},q=function(a,s){if(Ne.code.startsWith(Ee)){var l=s?"".concat(a,"(").concat(JSON.stringify(s).slice(1,-1),")"):a;return"\u202A[[".concat(l,"]]\u202C")}var c=a.split("."),h=Ye(ge,c)||Ye(le,c);if(h===void 0)throw new Error("Can't find translation for ".concat(a));if(s)for(var m in s)h=h.replace("{{".concat(m,"}}"),String(s[m]));return h},A=b(4512),zt=function(){return(0,A.jsx)("div",{className:"LoadingMessage",children:(0,A.jsx)("span",{children:q("labels.loadingScene")})})},Ht=function(a){var s=W((0,M.useState)(!0),2),l=s[0],c=s[1];return(0,M.useEffect)(function(){var h=function(){var v=(0,V.Z)(ie().mark(function x(){return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,De(m);case 2:case"end":return w.stop()}},x)}));return function(){return v.apply(this,arguments)}}(),m=ye.find(function(v){return v.code===a.langCode})||he;h(),c(!1)},[a.langCode]),l?(0,A.jsx)(zt,{}):a.children};function Zt(a){return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Zt(a)}function Re(a){return function(s){if(Array.isArray(s))return J(s)}(a)||function(s){if(typeof Symbol!="undefined"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(a)||te(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function we(a,s,l){return s in a?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,a}function Ke(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function yt(a,s){for(var l=0;l<s.length;l++){var c=s[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function At(a,s,l){return s&&yt(a.prototype,s),l&&yt(a,l),a}function kt(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Kt(a,s){return Kt=Object.setPrototypeOf||function(l,c){return l.__proto__=c,l},Kt(a,s)}function br(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&Kt(a,s)}function Jr(a,s){if(s&&(Zt(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kt(a)}function rn(a){return rn=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},rn(a)}function mr(a,s,l){if(a&&a.length){const[c,h]=s,m=Math.PI/180*l,v=Math.cos(m),x=Math.sin(m);a.forEach(w=>{const[T,E]=w;w[0]=(T-c)*v-(E-h)*x+c,w[1]=(T-c)*x+(E-h)*v+h})}}function Vr(a){const s=a[0],l=a[1];return Math.sqrt(Math.pow(s[0]-l[0],2)+Math.pow(s[1]-l[1],2))}function nn(a,s){const l=s.hachureAngle+90;let c=s.hachureGap;c<0&&(c=4*s.strokeWidth),c=Math.max(c,.1);const h=[0,0];if(l)for(const v of a)mr(v,h,l);const m=function(v,x){const w=[];for(const j of v){const z=[...j];z[0].join(",")!==z[z.length-1].join(",")&&z.push([z[0][0],z[0][1]]),z.length>2&&w.push(z)}const T=[];x=Math.max(x,.1);const E=[];for(const j of w)for(let z=0;z<j.length-1;z++){const K=j[z],$=j[z+1];if(K[1]!==$[1]){const Z=Math.min(K[1],$[1]);E.push({ymin:Z,ymax:Math.max(K[1],$[1]),x:Z===K[1]?K[0]:$[0],islope:($[0]-K[0])/($[1]-K[1])})}}if(E.sort((j,z)=>j.ymin<z.ymin?-1:j.ymin>z.ymin?1:j.x<z.x?-1:j.x>z.x?1:j.ymax===z.ymax?0:(j.ymax-z.ymax)/Math.abs(j.ymax-z.ymax)),!E.length)return T;let L=[],F=E[0].ymin;for(;L.length||E.length;){if(E.length){let j=-1;for(let z=0;z<E.length&&!(E[z].ymin>F);z++)j=z;E.splice(0,j+1).forEach(z=>{L.push({s:F,edge:z})})}if(L=L.filter(j=>!(j.edge.ymax<=F)),L.sort((j,z)=>j.edge.x===z.edge.x?0:(j.edge.x-z.edge.x)/Math.abs(j.edge.x-z.edge.x)),L.length>1)for(let j=0;j<L.length;j+=2){const z=j+1;if(z>=L.length)break;const K=L[j].edge,$=L[z].edge;T.push([[Math.round(K.x),F],[Math.round($.x),F]])}F+=x,L.forEach(j=>{j.edge.x=j.edge.x+x*j.edge.islope})}return T}(a,c);if(l){for(const v of a)mr(v,h,-l);(function(v,x,w){const T=[];v.forEach(E=>T.push(...E)),mr(T,x,w)})(m,h,-l)}return m}class ho{constructor(s){this.helper=s}fillPolygons(s,l){return this._fillPolygons(s,l)}_fillPolygons(s,l){const c=nn(s,l);return{type:"fillSketch",ops:this.renderLines(c,l)}}renderLines(s,l){const c=[];for(const h of s)c.push(...this.helper.doubleLineOps(h[0][0],h[0][1],h[1][0],h[1][1],l));return c}}class Qs extends ho{fillPolygons(s,l){let c=l.hachureGap;c<0&&(c=4*l.strokeWidth),c=Math.max(c,.1);const h=nn(s,Object.assign({},l,{hachureGap:c})),m=Math.PI/180*l.hachureAngle,v=[],x=.5*c*Math.cos(m),w=.5*c*Math.sin(m);for(const[T,E]of h)Vr([T,E])&&v.push([[T[0]-x,T[1]+w],[...E]],[[T[0]+x,T[1]-w],[...E]]);return{type:"fillSketch",ops:this.renderLines(v,l)}}}class ya extends ho{fillPolygons(s,l){const c=this._fillPolygons(s,l),h=Object.assign({},l,{hachureAngle:l.hachureAngle+90}),m=this._fillPolygons(s,h);return c.ops=c.ops.concat(m.ops),c}}class za{constructor(s){this.helper=s}fillPolygons(s,l){const c=nn(s,l=Object.assign({},l,{hachureAngle:0}));return this.dotsOnLines(c,l)}dotsOnLines(s,l){const c=[];let h=l.hachureGap;h<0&&(h=4*l.strokeWidth),h=Math.max(h,.1);let m=l.fillWeight;m<0&&(m=l.strokeWidth/2);const v=h/4;for(const x of s){const w=Vr(x),T=w/h,E=Math.ceil(T)-1,L=w-E*h,F=(x[0][0]+x[1][0])/2-h/4,j=Math.min(x[0][1],x[1][1]);for(let z=0;z<E;z++){const K=j+L+z*h,$=F-v+2*Math.random()*v,Z=K-v+2*Math.random()*v,oe=this.helper.ellipse($,Z,m,m,l);c.push(...oe.ops)}}return{type:"fillSketch",ops:c}}}class ru{constructor(s){this.helper=s}fillPolygons(s,l){const c=nn(s,l);return{type:"fillSketch",ops:this.dashedLine(c,l)}}dashedLine(s,l){const c=l.dashOffset<0?l.hachureGap<0?4*l.strokeWidth:l.hachureGap:l.dashOffset,h=l.dashGap<0?l.hachureGap<0?4*l.strokeWidth:l.hachureGap:l.dashGap,m=[];return s.forEach(v=>{const x=Vr(v),w=Math.floor(x/(c+h)),T=(x+h-w*(c+h))/2;let E=v[0],L=v[1];E[0]>L[0]&&(E=v[1],L=v[0]);const F=Math.atan((L[1]-E[1])/(L[0]-E[0]));for(let j=0;j<w;j++){const z=j*(c+h),K=z+c,$=[E[0]+z*Math.cos(F)+T*Math.cos(F),E[1]+z*Math.sin(F)+T*Math.sin(F)],Z=[E[0]+K*Math.cos(F)+T*Math.cos(F),E[1]+K*Math.sin(F)+T*Math.sin(F)];m.push(...this.helper.doubleLineOps($[0],$[1],Z[0],Z[1],l))}}),m}}class nc{constructor(s){this.helper=s}fillPolygons(s,l){const c=l.hachureGap<0?4*l.strokeWidth:l.hachureGap,h=l.zigzagOffset<0?c:l.zigzagOffset,m=nn(s,l=Object.assign({},l,{hachureGap:c+h}));return{type:"fillSketch",ops:this.zigzagLines(m,h,l)}}zigzagLines(s,l,c){const h=[];return s.forEach(m=>{const v=Vr(m),x=Math.round(v/(2*l));let w=m[0],T=m[1];w[0]>T[0]&&(w=m[1],T=m[0]);const E=Math.atan((T[1]-w[1])/(T[0]-w[0]));for(let L=0;L<x;L++){const F=2*L*l,j=2*(L+1)*l,z=Math.sqrt(2*Math.pow(l,2)),K=[w[0]+F*Math.cos(E),w[1]+F*Math.sin(E)],$=[w[0]+j*Math.cos(E),w[1]+j*Math.sin(E)],Z=[K[0]+z*Math.cos(E+Math.PI/4),K[1]+z*Math.sin(E+Math.PI/4)];h.push(...this.helper.doubleLineOps(K[0],K[1],Z[0],Z[1],c),...this.helper.doubleLineOps(Z[0],Z[1],$[0],$[1],c))}}),h}}const li={};class Br{constructor(s){this.seed=s}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}const nu={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function ic(a,s){return a.type===s}function R0(a){const s=[],l=function(v){const x=new Array;for(;v!=="";)if(v.match(/^([ \t\r\n,]+)/))v=v.substr(RegExp.$1.length);else if(v.match(/^([aAcChHlLmMqQsStTvVzZ])/))x[x.length]={type:0,text:RegExp.$1},v=v.substr(RegExp.$1.length);else{if(!v.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];x[x.length]={type:1,text:`${parseFloat(RegExp.$1)}`},v=v.substr(RegExp.$1.length)}return x[x.length]={type:2,text:""},x}(a);let c="BOD",h=0,m=l[h];for(;!ic(m,2);){let v=0;const x=[];if(c==="BOD"){if(m.text!=="M"&&m.text!=="m")return R0("M0,0"+a);h++,v=nu[m.text],c=m.text}else ic(m,1)?v=nu[c]:(h++,v=nu[m.text],c=m.text);if(!(h+v<l.length))throw new Error("Path data ended short");for(let w=h;w<h+v;w++){const T=l[w];if(!ic(T,1))throw new Error("Param not a number: "+c+","+T.text);x[x.length]=+T.text}if(typeof nu[c]!="number")throw new Error("Bad segment: "+c);{const w={key:c,data:x};s.push(w),h+=v,m=l[h],c==="M"&&(c="L"),c==="m"&&(c="l")}}return s}function iu(a){let s=0,l=0,c=0,h=0;const m=[];for(const{key:v,data:x}of a)switch(v){case"M":m.push({key:"M",data:[...x]}),[s,l]=x,[c,h]=x;break;case"m":s+=x[0],l+=x[1],m.push({key:"M",data:[s,l]}),c=s,h=l;break;case"L":m.push({key:"L",data:[...x]}),[s,l]=x;break;case"l":s+=x[0],l+=x[1],m.push({key:"L",data:[s,l]});break;case"C":m.push({key:"C",data:[...x]}),s=x[4],l=x[5];break;case"c":{const w=x.map((T,E)=>E%2?T+l:T+s);m.push({key:"C",data:w}),s=w[4],l=w[5];break}case"Q":m.push({key:"Q",data:[...x]}),s=x[2],l=x[3];break;case"q":{const w=x.map((T,E)=>E%2?T+l:T+s);m.push({key:"Q",data:w}),s=w[2],l=w[3];break}case"A":m.push({key:"A",data:[...x]}),s=x[5],l=x[6];break;case"a":s+=x[5],l+=x[6],m.push({key:"A",data:[x[0],x[1],x[2],x[3],x[4],s,l]});break;case"H":m.push({key:"H",data:[...x]}),s=x[0];break;case"h":s+=x[0],m.push({key:"H",data:[s]});break;case"V":m.push({key:"V",data:[...x]}),l=x[0];break;case"v":l+=x[0],m.push({key:"V",data:[l]});break;case"S":m.push({key:"S",data:[...x]}),s=x[2],l=x[3];break;case"s":{const w=x.map((T,E)=>E%2?T+l:T+s);m.push({key:"S",data:w}),s=w[2],l=w[3];break}case"T":m.push({key:"T",data:[...x]}),s=x[0],l=x[1];break;case"t":s+=x[0],l+=x[1],m.push({key:"T",data:[s,l]});break;case"Z":case"z":m.push({key:"Z",data:[]}),s=c,l=h}return m}function au(a){const s=[];let l="",c=0,h=0,m=0,v=0,x=0,w=0;for(const{key:T,data:E}of a){switch(T){case"M":s.push({key:"M",data:[...E]}),[c,h]=E,[m,v]=E;break;case"C":s.push({key:"C",data:[...E]}),c=E[4],h=E[5],x=E[2],w=E[3];break;case"L":s.push({key:"L",data:[...E]}),[c,h]=E;break;case"H":c=E[0],s.push({key:"L",data:[c,h]});break;case"V":h=E[0],s.push({key:"L",data:[c,h]});break;case"S":{let L=0,F=0;l==="C"||l==="S"?(L=c+(c-x),F=h+(h-w)):(L=c,F=h),s.push({key:"C",data:[L,F,...E]}),x=E[0],w=E[1],c=E[2],h=E[3];break}case"T":{const[L,F]=E;let j=0,z=0;l==="Q"||l==="T"?(j=c+(c-x),z=h+(h-w)):(j=c,z=h);const K=c+2*(j-c)/3,$=h+2*(z-h)/3,Z=L+2*(j-L)/3,oe=F+2*(z-F)/3;s.push({key:"C",data:[K,$,Z,oe,L,F]}),x=j,w=z,c=L,h=F;break}case"Q":{const[L,F,j,z]=E,K=c+2*(L-c)/3,$=h+2*(F-h)/3,Z=j+2*(L-j)/3,oe=z+2*(F-z)/3;s.push({key:"C",data:[K,$,Z,oe,j,z]}),x=L,w=F,c=j,h=z;break}case"A":{const L=Math.abs(E[0]),F=Math.abs(E[1]),j=E[2],z=E[3],K=E[4],$=E[5],Z=E[6];L===0||F===0?(s.push({key:"C",data:[c,h,$,Z,$,Z]}),c=$,h=Z):(c!==$||h!==Z)&&(Fd(c,h,$,Z,L,F,j,z,K).forEach(function(oe){s.push({key:"C",data:oe})}),c=$,h=Z);break}case"Z":s.push({key:"Z",data:[]}),c=m,h=v}l=T}return s}function Es(a,s,l){return[a*Math.cos(l)-s*Math.sin(l),a*Math.sin(l)+s*Math.cos(l)]}function Fd(a,s,l,c,h,m,v,x,w,T){const E=(L=v,Math.PI*L/180);var L;let F=[],j=0,z=0,K=0,$=0;if(T)[j,z,K,$]=T;else{[a,s]=Es(a,s,-E),[l,c]=Es(l,c,-E);const rt=(a-l)/2,Ze=(s-c)/2;let Ge=rt*rt/(h*h)+Ze*Ze/(m*m);Ge>1&&(Ge=Math.sqrt(Ge),h*=Ge,m*=Ge);const it=h*h,et=m*m,Le=it*et-it*Ze*Ze-et*rt*rt,dt=it*Ze*Ze+et*rt*rt,mt=(x===w?-1:1)*Math.sqrt(Math.abs(Le/dt));K=mt*h*Ze/m+(a+l)/2,$=mt*-m*rt/h+(s+c)/2,j=Math.asin(parseFloat(((s-$)/m).toFixed(9))),z=Math.asin(parseFloat(((c-$)/m).toFixed(9))),a<K&&(j=Math.PI-j),l<K&&(z=Math.PI-z),j<0&&(j=2*Math.PI+j),z<0&&(z=2*Math.PI+z),w&&j>z&&(j-=2*Math.PI),!w&&z>j&&(z-=2*Math.PI)}let Z=z-j;if(Math.abs(Z)>120*Math.PI/180){const rt=z,Ze=l,Ge=c;z=w&&z>j?j+120*Math.PI/180*1:j+120*Math.PI/180*-1,F=Fd(l=K+h*Math.cos(z),c=$+m*Math.sin(z),Ze,Ge,h,m,v,0,w,[z,rt,K,$])}Z=z-j;const oe=Math.cos(j),se=Math.sin(j),ve=Math.cos(z),_e=Math.sin(z),Te=Math.tan(Z/4),Me=4/3*h*Te,Oe=4/3*m*Te,$e=[a,s],He=[a+Me*se,s-Oe*oe],We=[l+Me*_e,c-Oe*ve],Ce=[l,c];if(He[0]=2*$e[0]-He[0],He[1]=2*$e[1]-He[1],T)return[He,We,Ce].concat(F);{F=[He,We,Ce].concat(F);const rt=[];for(let Ze=0;Ze<F.length;Ze+=3){const Ge=Es(F[Ze][0],F[Ze][1],E),it=Es(F[Ze+1][0],F[Ze+1][1],E),et=Es(F[Ze+2][0],F[Ze+2][1],E);rt.push([Ge[0],Ge[1],it[0],it[1],et[0],et[1]])}return rt}}const j0={randOffset:function(a,s){return Ut(a,s)},randOffsetWithRange:function(a,s,l){return sc(a,s,l)},ellipse:function(a,s,l,c,h){const m=ba(l,c,h);return oc(a,s,h,m).opset},doubleLineOps:function(a,s,l,c,h){return Os(a,s,l,c,h,!0)}};function zd(a,s,l,c,h){return{type:"path",ops:Os(a,s,l,c,h)}}function ac(a,s,l){const c=(a||[]).length;if(c>2){const h=[];for(let m=0;m<c-1;m++)h.push(...Os(a[m][0],a[m][1],a[m+1][0],a[m+1][1],l));return s&&h.push(...Os(a[c-1][0],a[c-1][1],a[0][0],a[0][1],l)),{type:"path",ops:h}}return c===2?zd(a[0][0],a[0][1],a[1][0],a[1][1],l):{type:"path",ops:[]}}function Yt(a,s,l,c,h){return function(m,v){return ac(m,!0,v)}([[a,s],[a+l,s],[a+l,s+c],[a,s+c]],h)}function en(a,s){let l=X1(a,1*(1+.2*s.roughness),s);if(!s.disableMultiStroke){const c=X1(a,1.5*(1+.22*s.roughness),function(h){const m=Object.assign({},h);return m.randomizer=void 0,h.seed&&(m.seed=h.seed+1),m}(s));l=l.concat(c)}return{type:"path",ops:l}}function ba(a,s,l){const c=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(a/2,2)+Math.pow(s/2,2))/2)),h=Math.ceil(Math.max(l.curveStepCount,l.curveStepCount/Math.sqrt(200)*c)),m=2*Math.PI/h;let v=Math.abs(a/2),x=Math.abs(s/2);const w=1-l.curveFitting;return v+=Ut(v*w,l),x+=Ut(x*w,l),{increment:m,rx:v,ry:x}}function oc(a,s,l,c){const[h,m]=Z1(c.increment,a,s,c.rx,c.ry,1,c.increment*sc(.1,sc(.4,1,l),l),l);let v=su(h,null,l);if(!l.disableMultiStroke&&l.roughness!==0){const[x]=Z1(c.increment,a,s,c.rx,c.ry,1.5,0,l),w=su(x,null,l);v=v.concat(w)}return{estimatedPoints:m,opset:{type:"path",ops:v}}}function Bd(a,s,l,c,h,m,v,x,w){const T=a,E=s;let L=Math.abs(l/2),F=Math.abs(c/2);L+=Ut(.01*L,w),F+=Ut(.01*F,w);let j=h,z=m;for(;j<0;)j+=2*Math.PI,z+=2*Math.PI;z-j>2*Math.PI&&(j=0,z=2*Math.PI);const K=2*Math.PI/w.curveStepCount,$=Math.min(K/2,(z-j)/2),Z=ym($,T,E,L,F,j,z,1,w);if(!w.disableMultiStroke){const oe=ym($,T,E,L,F,j,z,1.5,w);Z.push(...oe)}return v&&(x?Z.push(...Os(T,E,T+L*Math.cos(j),E+F*Math.sin(j),w),...Os(T,E,T+L*Math.cos(z),E+F*Math.sin(z),w)):Z.push({op:"lineTo",data:[T,E]},{op:"lineTo",data:[T+L*Math.cos(j),E+F*Math.sin(j)]})),{type:"path",ops:Z}}function ou(a,s){const l=[];for(const c of a)if(c.length){const h=s.maxRandomnessOffset||0,m=c.length;if(m>2){l.push({op:"move",data:[c[0][0]+Ut(h,s),c[0][1]+Ut(h,s)]});for(let v=1;v<m;v++)l.push({op:"lineTo",data:[c[v][0]+Ut(h,s),c[v][1]+Ut(h,s)]})}}return{type:"fillPath",ops:l}}function Ts(a,s){return function(l,c){let h=l.fillStyle||"hachure";if(!li[h])switch(h){case"zigzag":li[h]||(li[h]=new Qs(c));break;case"cross-hatch":li[h]||(li[h]=new ya(c));break;case"dots":li[h]||(li[h]=new za(c));break;case"dashed":li[h]||(li[h]=new ru(c));break;case"zigzag-line":li[h]||(li[h]=new nc(c));break;default:h="hachure",li[h]||(li[h]=new ho(c))}return li[h]}(s,j0).fillPolygons(a,s)}function F0(a){return a.randomizer||(a.randomizer=new Br(a.seed||0)),a.randomizer.next()}function sc(a,s,l,c=1){return l.roughness*c*(F0(l)*(s-a)+a)}function Ut(a,s,l=1){return sc(-a,a,s,l)}function Os(a,s,l,c,h,m=!1){const v=m?h.disableMultiStrokeFill:h.disableMultiStroke,x=Y1(a,s,l,c,h,!0,!1);if(v)return x;const w=Y1(a,s,l,c,h,!0,!0);return x.concat(w)}function Y1(a,s,l,c,h,m,v){const x=Math.pow(a-l,2)+Math.pow(s-c,2),w=Math.sqrt(x);let T=1;T=w<200?1:w>500?.4:-.0016668*w+1.233334;let E=h.maxRandomnessOffset||0;E*E*100>x&&(E=w/10);const L=E/2,F=.2+.2*F0(h);let j=h.bowing*h.maxRandomnessOffset*(c-s)/200,z=h.bowing*h.maxRandomnessOffset*(a-l)/200;j=Ut(j,h,T),z=Ut(z,h,T);const K=[],$=()=>Ut(L,h,T),Z=()=>Ut(E,h,T),oe=h.preserveVertices;return m&&(v?K.push({op:"move",data:[a+(oe?0:$()),s+(oe?0:$())]}):K.push({op:"move",data:[a+(oe?0:Ut(E,h,T)),s+(oe?0:Ut(E,h,T))]})),v?K.push({op:"bcurveTo",data:[j+a+(l-a)*F+$(),z+s+(c-s)*F+$(),j+a+2*(l-a)*F+$(),z+s+2*(c-s)*F+$(),l+(oe?0:$()),c+(oe?0:$())]}):K.push({op:"bcurveTo",data:[j+a+(l-a)*F+Z(),z+s+(c-s)*F+Z(),j+a+2*(l-a)*F+Z(),z+s+2*(c-s)*F+Z(),l+(oe?0:Z()),c+(oe?0:Z())]}),K}function X1(a,s,l){const c=[];c.push([a[0][0]+Ut(s,l),a[0][1]+Ut(s,l)]),c.push([a[0][0]+Ut(s,l),a[0][1]+Ut(s,l)]);for(let h=1;h<a.length;h++)c.push([a[h][0]+Ut(s,l),a[h][1]+Ut(s,l)]),h===a.length-1&&c.push([a[h][0]+Ut(s,l),a[h][1]+Ut(s,l)]);return su(c,null,l)}function su(a,s,l){const c=a.length,h=[];if(c>3){const m=[],v=1-l.curveTightness;h.push({op:"move",data:[a[1][0],a[1][1]]});for(let x=1;x+2<c;x++){const w=a[x];m[0]=[w[0],w[1]],m[1]=[w[0]+(v*a[x+1][0]-v*a[x-1][0])/6,w[1]+(v*a[x+1][1]-v*a[x-1][1])/6],m[2]=[a[x+1][0]+(v*a[x][0]-v*a[x+2][0])/6,a[x+1][1]+(v*a[x][1]-v*a[x+2][1])/6],m[3]=[a[x+1][0],a[x+1][1]],h.push({op:"bcurveTo",data:[m[1][0],m[1][1],m[2][0],m[2][1],m[3][0],m[3][1]]})}if(s&&s.length===2){const x=l.maxRandomnessOffset;h.push({op:"lineTo",data:[s[0]+Ut(x,l),s[1]+Ut(x,l)]})}}else c===3?(h.push({op:"move",data:[a[1][0],a[1][1]]}),h.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[2][0],a[2][1]]})):c===2&&h.push(...Os(a[0][0],a[0][1],a[1][0],a[1][1],l));return h}function Z1(a,s,l,c,h,m,v,x){const w=[],T=[];if(x.roughness===0){a/=4,T.push([s+c*Math.cos(-a),l+h*Math.sin(-a)]);for(let E=0;E<=2*Math.PI;E+=a){const L=[s+c*Math.cos(E),l+h*Math.sin(E)];w.push(L),T.push(L)}T.push([s+c*Math.cos(0),l+h*Math.sin(0)]),T.push([s+c*Math.cos(a),l+h*Math.sin(a)])}else{const E=Ut(.5,x)-Math.PI/2;T.push([Ut(m,x)+s+.9*c*Math.cos(E-a),Ut(m,x)+l+.9*h*Math.sin(E-a)]);const L=2*Math.PI+E-.01;for(let F=E;F<L;F+=a){const j=[Ut(m,x)+s+c*Math.cos(F),Ut(m,x)+l+h*Math.sin(F)];w.push(j),T.push(j)}T.push([Ut(m,x)+s+c*Math.cos(E+2*Math.PI+.5*v),Ut(m,x)+l+h*Math.sin(E+2*Math.PI+.5*v)]),T.push([Ut(m,x)+s+.98*c*Math.cos(E+v),Ut(m,x)+l+.98*h*Math.sin(E+v)]),T.push([Ut(m,x)+s+.9*c*Math.cos(E+.5*v),Ut(m,x)+l+.9*h*Math.sin(E+.5*v)])}return[T,w]}function ym(a,s,l,c,h,m,v,x,w){const T=m+Ut(.1,w),E=[];E.push([Ut(x,w)+s+.9*c*Math.cos(T-a),Ut(x,w)+l+.9*h*Math.sin(T-a)]);for(let L=T;L<=v;L+=a)E.push([Ut(x,w)+s+c*Math.cos(L),Ut(x,w)+l+h*Math.sin(L)]);return E.push([s+c*Math.cos(v),l+h*Math.sin(v)]),E.push([s+c*Math.cos(v),l+h*Math.sin(v)]),su(E,null,w)}function Xx(a,s,l,c,h,m,v,x){const w=[],T=[x.maxRandomnessOffset||1,(x.maxRandomnessOffset||1)+.3];let E=[0,0];const L=x.disableMultiStroke?1:2,F=x.preserveVertices;for(let j=0;j<L;j++)j===0?w.push({op:"move",data:[v[0],v[1]]}):w.push({op:"move",data:[v[0]+(F?0:Ut(T[0],x)),v[1]+(F?0:Ut(T[0],x))]}),E=F?[h,m]:[h+Ut(T[j],x),m+Ut(T[j],x)],w.push({op:"bcurveTo",data:[a+Ut(T[j],x),s+Ut(T[j],x),l+Ut(T[j],x),c+Ut(T[j],x),E[0],E[1]]});return w}function lc(a){return[...a]}function z0(a,s){return Math.pow(a[0]-s[0],2)+Math.pow(a[1]-s[1],2)}function Zx(a,s,l){const c=z0(s,l);if(c===0)return z0(a,s);let h=((a[0]-s[0])*(l[0]-s[0])+(a[1]-s[1])*(l[1]-s[1]))/c;return h=Math.max(0,Math.min(1,h)),z0(a,Js(s,l,h))}function Js(a,s,l){return[a[0]+(s[0]-a[0])*l,a[1]+(s[1]-a[1])*l]}function bm(a,s,l,c){const h=c||[];if(function(x,w){const T=x[w+0],E=x[w+1],L=x[w+2],F=x[w+3];let j=3*E[0]-2*T[0]-F[0];j*=j;let z=3*E[1]-2*T[1]-F[1];z*=z;let K=3*L[0]-2*F[0]-T[0];K*=K;let $=3*L[1]-2*F[1]-T[1];return $*=$,j<K&&(j=K),z<$&&(z=$),j+z}(a,s)<l){const x=a[s+0];h.length?(m=h[h.length-1],v=x,Math.sqrt(z0(m,v))>1&&h.push(x)):h.push(x),h.push(a[s+3])}else{const w=a[s+0],T=a[s+1],E=a[s+2],L=a[s+3],F=Js(w,T,.5),j=Js(T,E,.5),z=Js(E,L,.5),K=Js(F,j,.5),$=Js(j,z,.5),Z=Js(K,$,.5);bm([w,F,K,Z],0,l,h),bm([Z,$,z,L],0,l,h)}var m,v;return h}function Qx(a,s){return B0(a,0,a.length,s)}function B0(a,s,l,c,h){const m=h||[],v=a[s],x=a[l-1];let w=0,T=1;for(let E=s+1;E<l-1;++E){const L=Zx(a[E],v,x);L>w&&(w=L,T=E)}return Math.sqrt(w)>c?(B0(a,s,T+1,c,m),B0(a,T,l,c,m)):(m.length||m.push(v),m.push(x)),m}function uc(a,s=.15,l){const c=[],h=(a.length-1)/3;for(let m=0;m<h;m++)bm(a,3*m,s,c);return l&&l>0?B0(c,0,c.length,l):c}const Ji="none";class Hd{constructor(s){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=s||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2147483648)}_o(s){return s?Object.assign({},this.defaultOptions,s):this.defaultOptions}_d(s,l,c){return{shape:s,sets:l||[],options:c||this.defaultOptions}}line(s,l,c,h,m){const v=this._o(m);return this._d("line",[zd(s,l,c,h,v)],v)}rectangle(s,l,c,h,m){const v=this._o(m),x=[],w=Yt(s,l,c,h,v);if(v.fill){const T=[[s,l],[s+c,l],[s+c,l+h],[s,l+h]];v.fillStyle==="solid"?x.push(ou([T],v)):x.push(Ts([T],v))}return v.stroke!==Ji&&x.push(w),this._d("rectangle",x,v)}ellipse(s,l,c,h,m){const v=this._o(m),x=[],w=ba(c,h,v),T=oc(s,l,v,w);if(v.fill)if(v.fillStyle==="solid"){const E=oc(s,l,v,w).opset;E.type="fillPath",x.push(E)}else x.push(Ts([T.estimatedPoints],v));return v.stroke!==Ji&&x.push(T.opset),this._d("ellipse",x,v)}circle(s,l,c,h){const m=this.ellipse(s,l,c,c,h);return m.shape="circle",m}linearPath(s,l){const c=this._o(l);return this._d("linearPath",[ac(s,!1,c)],c)}arc(s,l,c,h,m,v,x=!1,w){const T=this._o(w),E=[],L=Bd(s,l,c,h,m,v,x,!0,T);if(x&&T.fill)if(T.fillStyle==="solid"){const F=Object.assign({},T);F.disableMultiStroke=!0;const j=Bd(s,l,c,h,m,v,!0,!1,F);j.type="fillPath",E.push(j)}else E.push(function(F,j,z,K,$,Z,oe){const se=F,ve=j;let _e=Math.abs(z/2),Te=Math.abs(K/2);_e+=Ut(.01*_e,oe),Te+=Ut(.01*Te,oe);let Me=$,Oe=Z;for(;Me<0;)Me+=2*Math.PI,Oe+=2*Math.PI;Oe-Me>2*Math.PI&&(Me=0,Oe=2*Math.PI);const $e=(Oe-Me)/oe.curveStepCount,He=[];for(let We=Me;We<=Oe;We+=$e)He.push([se+_e*Math.cos(We),ve+Te*Math.sin(We)]);return He.push([se+_e*Math.cos(Oe),ve+Te*Math.sin(Oe)]),He.push([se,ve]),Ts([He],oe)}(s,l,c,h,m,v,T));return T.stroke!==Ji&&E.push(L),this._d("arc",E,T)}curve(s,l){const c=this._o(l),h=[],m=en(s,c);if(c.fill&&c.fill!==Ji&&s.length>=3){const v=function(w,T=0){const E=w.length;if(E<3)throw new Error("A curve must have at least three points.");const L=[];if(E===3)L.push(lc(w[0]),lc(w[1]),lc(w[2]),lc(w[2]));else{const F=[];F.push(w[0],w[0]);for(let K=1;K<w.length;K++)F.push(w[K]),K===w.length-1&&F.push(w[K]);const j=[],z=1-T;L.push(lc(F[0]));for(let K=1;K+2<F.length;K++){const $=F[K];j[0]=[$[0],$[1]],j[1]=[$[0]+(z*F[K+1][0]-z*F[K-1][0])/6,$[1]+(z*F[K+1][1]-z*F[K-1][1])/6],j[2]=[F[K+1][0]+(z*F[K][0]-z*F[K+2][0])/6,F[K+1][1]+(z*F[K][1]-z*F[K+2][1])/6],j[3]=[F[K+1][0],F[K+1][1]],L.push(j[1],j[2],j[3])}}return L}(s),x=uc(v,10,(1+c.roughness)/2);c.fillStyle==="solid"?h.push(ou([x],c)):h.push(Ts([x],c))}return c.stroke!==Ji&&h.push(m),this._d("curve",h,c)}polygon(s,l){const c=this._o(l),h=[],m=ac(s,!0,c);return c.fill&&(c.fillStyle==="solid"?h.push(ou([s],c)):h.push(Ts([s],c))),c.stroke!==Ji&&h.push(m),this._d("polygon",h,c)}path(s,l){const c=this._o(l),h=[];if(!s)return this._d("path",h,c);s=(s||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const m=c.fill&&c.fill!=="transparent"&&c.fill!==Ji,v=c.stroke!==Ji,x=!!(c.simplification&&c.simplification<1),w=function(T,E,L){const F=au(iu(R0(T))),j=[];let z=[],K=[0,0],$=[];const Z=()=>{$.length>=4&&z.push(...uc($,E)),$=[]},oe=()=>{Z(),z.length&&(j.push(z),z=[])};for(const{key:ve,data:_e}of F)switch(ve){case"M":oe(),K=[_e[0],_e[1]],z.push(K);break;case"L":Z(),z.push([_e[0],_e[1]]);break;case"C":if(!$.length){const Te=z.length?z[z.length-1]:K;$.push([Te[0],Te[1]])}$.push([_e[0],_e[1]]),$.push([_e[2],_e[3]]),$.push([_e[4],_e[5]]);break;case"Z":Z(),z.push([K[0],K[1]])}if(oe(),!L)return j;const se=[];for(const ve of j){const _e=Qx(ve,L);_e.length&&se.push(_e)}return se}(s,1,x?4-4*c.simplification:(1+c.roughness)/2);return m&&(c.fillStyle==="solid"?h.push(ou(w,c)):h.push(Ts(w,c))),v&&(x?w.forEach(T=>{h.push(ac(T,!1,c))}):h.push(function(T,E){const L=au(iu(R0(T))),F=[];let j=[0,0],z=[0,0];for(const{key:K,data:$}of L)switch(K){case"M":{const Z=1*(E.maxRandomnessOffset||0),oe=E.preserveVertices;F.push({op:"move",data:$.map(se=>se+(oe?0:Ut(Z,E)))}),z=[$[0],$[1]],j=[$[0],$[1]];break}case"L":F.push(...Os(z[0],z[1],$[0],$[1],E)),z=[$[0],$[1]];break;case"C":{const[Z,oe,se,ve,_e,Te]=$;F.push(...Xx(Z,oe,se,ve,_e,Te,z,E)),z=[_e,Te];break}case"Z":F.push(...Os(z[0],z[1],j[0],j[1],E)),z=[j[0],j[1]]}return{type:"path",ops:F}}(s,c))),this._d("path",h,c)}opsToPath(s,l){let c="";for(const h of s.ops){const m=typeof l=="number"&&l>=0?h.data.map(v=>+v.toFixed(l)):h.data;switch(h.op){case"move":c+=`M${m[0]} ${m[1]} `;break;case"bcurveTo":c+=`C${m[0]} ${m[1]}, ${m[2]} ${m[3]}, ${m[4]} ${m[5]} `;break;case"lineTo":c+=`L${m[0]} ${m[1]} `}}return c.trim()}toPaths(s){const l=s.sets||[],c=s.options||this.defaultOptions,h=[];for(const m of l){let v=null;switch(m.type){case"path":v={d:this.opsToPath(m),stroke:c.stroke,strokeWidth:c.strokeWidth,fill:Ji};break;case"fillPath":v={d:this.opsToPath(m),stroke:Ji,strokeWidth:0,fill:c.fill||Ji};break;case"fillSketch":v=this.fillSketch(m,c)}v&&h.push(v)}return h}fillSketch(s,l){let c=l.fillWeight;return c<0&&(c=l.strokeWidth/2),{d:this.opsToPath(s),stroke:l.fill||Ji,strokeWidth:c,fill:Ji}}}class Q1{constructor(s,l){this.canvas=s,this.ctx=this.canvas.getContext("2d"),this.gen=new Hd(l)}draw(s){const l=s.sets||[],c=s.options||this.getDefaultOptions(),h=this.ctx,m=s.options.fixedDecimalPlaceDigits;for(const v of l)switch(v.type){case"path":h.save(),h.strokeStyle=c.stroke==="none"?"transparent":c.stroke,h.lineWidth=c.strokeWidth,c.strokeLineDash&&h.setLineDash(c.strokeLineDash),c.strokeLineDashOffset&&(h.lineDashOffset=c.strokeLineDashOffset),this._drawToContext(h,v,m),h.restore();break;case"fillPath":{h.save(),h.fillStyle=c.fill||"";const x=s.shape==="curve"||s.shape==="polygon"||s.shape==="path"?"evenodd":"nonzero";this._drawToContext(h,v,m,x),h.restore();break}case"fillSketch":this.fillSketch(h,v,c)}}fillSketch(s,l,c){let h=c.fillWeight;h<0&&(h=c.strokeWidth/2),s.save(),c.fillLineDash&&s.setLineDash(c.fillLineDash),c.fillLineDashOffset&&(s.lineDashOffset=c.fillLineDashOffset),s.strokeStyle=c.fill||"",s.lineWidth=h,this._drawToContext(s,l,c.fixedDecimalPlaceDigits),s.restore()}_drawToContext(s,l,c,h="nonzero"){s.beginPath();for(const m of l.ops){const v=typeof c=="number"&&c>=0?m.data.map(x=>+x.toFixed(c)):m.data;switch(m.op){case"move":s.moveTo(v[0],v[1]);break;case"bcurveTo":s.bezierCurveTo(v[0],v[1],v[2],v[3],v[4],v[5]);break;case"lineTo":s.lineTo(v[0],v[1])}}l.type==="fillPath"?s.fill(h):s.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(s,l,c,h,m){const v=this.gen.line(s,l,c,h,m);return this.draw(v),v}rectangle(s,l,c,h,m){const v=this.gen.rectangle(s,l,c,h,m);return this.draw(v),v}ellipse(s,l,c,h,m){const v=this.gen.ellipse(s,l,c,h,m);return this.draw(v),v}circle(s,l,c,h){const m=this.gen.circle(s,l,c,h);return this.draw(m),m}linearPath(s,l){const c=this.gen.linearPath(s,l);return this.draw(c),c}polygon(s,l){const c=this.gen.polygon(s,l);return this.draw(c),c}arc(s,l,c,h,m,v,x=!1,w){const T=this.gen.arc(s,l,c,h,m,v,x,w);return this.draw(T),T}curve(s,l){const c=this.gen.curve(s,l);return this.draw(c),c}path(s,l){const c=this.gen.path(s,l);return this.draw(c),c}}const H0="http://www.w3.org/2000/svg";class wm{constructor(s,l){this.svg=s,this.gen=new Hd(l)}draw(s){const l=s.sets||[],c=s.options||this.getDefaultOptions(),h=this.svg.ownerDocument||window.document,m=h.createElementNS(H0,"g"),v=s.options.fixedDecimalPlaceDigits;for(const x of l){let w=null;switch(x.type){case"path":w=h.createElementNS(H0,"path"),w.setAttribute("d",this.opsToPath(x,v)),w.setAttribute("stroke",c.stroke),w.setAttribute("stroke-width",c.strokeWidth+""),w.setAttribute("fill","none"),c.strokeLineDash&&w.setAttribute("stroke-dasharray",c.strokeLineDash.join(" ").trim()),c.strokeLineDashOffset&&w.setAttribute("stroke-dashoffset",`${c.strokeLineDashOffset}`);break;case"fillPath":w=h.createElementNS(H0,"path"),w.setAttribute("d",this.opsToPath(x,v)),w.setAttribute("stroke","none"),w.setAttribute("stroke-width","0"),w.setAttribute("fill",c.fill||""),s.shape!=="curve"&&s.shape!=="polygon"||w.setAttribute("fill-rule","evenodd");break;case"fillSketch":w=this.fillSketch(h,x,c)}w&&m.appendChild(w)}return m}fillSketch(s,l,c){let h=c.fillWeight;h<0&&(h=c.strokeWidth/2);const m=s.createElementNS(H0,"path");return m.setAttribute("d",this.opsToPath(l,c.fixedDecimalPlaceDigits)),m.setAttribute("stroke",c.fill||""),m.setAttribute("stroke-width",h+""),m.setAttribute("fill","none"),c.fillLineDash&&m.setAttribute("stroke-dasharray",c.fillLineDash.join(" ").trim()),c.fillLineDashOffset&&m.setAttribute("stroke-dashoffset",`${c.fillLineDashOffset}`),m}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(s,l){return this.gen.opsToPath(s,l)}line(s,l,c,h,m){const v=this.gen.line(s,l,c,h,m);return this.draw(v)}rectangle(s,l,c,h,m){const v=this.gen.rectangle(s,l,c,h,m);return this.draw(v)}ellipse(s,l,c,h,m){const v=this.gen.ellipse(s,l,c,h,m);return this.draw(v)}circle(s,l,c,h){const m=this.gen.circle(s,l,c,h);return this.draw(m)}linearPath(s,l){const c=this.gen.linearPath(s,l);return this.draw(c)}polygon(s,l){const c=this.gen.polygon(s,l);return this.draw(c)}arc(s,l,c,h,m,v,x=!1,w){const T=this.gen.arc(s,l,c,h,m,v,x,w);return this.draw(T)}curve(s,l){const c=this.gen.curve(s,l);return this.draw(c)}path(s,l){const c=this.gen.path(s,l);return this.draw(c)}}var lu={canvas:(a,s)=>new Q1(a,s),svg:(a,s)=>new wm(a,s),generator:a=>new Hd(a),newSeed:()=>Hd.newSeed()};function Ud(a){var s,l,c="";if(typeof a=="string"||typeof a=="number")c+=a;else if(typeof a=="object")if(Array.isArray(a))for(s=0;s<a.length;s++)a[s]&&(l=Ud(a[s]))&&(c&&(c+=" "),c+=l);else for(s in a)a[s]&&(c&&(c+=" "),c+=s);return c}function Sr(){for(var a,s,l=0,c="";l<arguments.length;)(a=arguments[l++])&&(s=Ud(a))&&(c&&(c+=" "),c+=s);return c}let el=(a=21)=>{let s="",l=crypto.getRandomValues(new Uint8Array(a));for(;a--;){let c=63&l[a];s+=c<36?c.toString(36):c<62?(c-26).toString(36).toUpperCase():c<63?"_":"-"}return s};var po=function(a){return!!a&&a.type==="image"&&!!a.fileId},cc=function(a){return!!a&&a.type==="image"},Nr=function(a){return a!=null&&a.type==="text"},Uo=function(a){return a!=null&&J1(a.type)},J1=function(a){return a==="freedraw"},un=function(a){return a!=null&&tl(a.type)},tl=function(a){return a==="arrow"||a==="line"},wa=function(a){return a!=null&&ey(a.type)},ey=function(a){return a==="arrow"},U0=function(a){return a!=null&&(a.type==="rectangle"||a.type==="diamond"||a.type==="ellipse"||a.type==="image"||a.type==="text"&&!a.containerId)},Kd=function(a){var s;return U0(a)&&!((s=a.boundElements)===null||s===void 0||!s.some(function(l){return l.type==="text"}))},Ba=function(a){return a!==null&&Nr(a)&&a.containerId!==null},Cr=function(a,s,l,c,h){return[(a-l)*Math.cos(h)-(s-c)*Math.sin(h)+l,(a-l)*Math.sin(h)+(s-c)*Math.cos(h)+c]},K0=function(a,s,l){return Cr(a[0],a[1],s[0],s[1],l)},xm=function(a,s,l,c,h,m,v,x){var w=Math.cos(c),T=Math.sin(c);return a.e&&a.w?s+=h+v:a.e?(s+=h*(1+w),l+=h*T,s+=v*(1-w),l+=v*-T):a.w&&(s+=h*(1-w),l+=h*-T,s+=v*(1+w),l+=v*T),a.n&&a.s?l+=m+x:a.n?(s+=m*T,l+=m*(1-w),s+=x*-T,l+=x*(1+w)):a.s&&(s+=m*-T,l+=m*(1+w),s+=x*T,l+=x*(1-w)),[s,l]},Ha=function(a,s,l,c){var h=l-a,m=c-s;return Math.hypot(h,m)},rl=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(a.length>=3){var l=[a[0],a[a.length-1]],c=l[0],h=l[1],m=Ha(c[0],c[1],h[0],h[1]);return m<=D.qx/s}return!1},cn=function(a,s,l){var c=a.length;if(c<3)return!1;for(var h=[Number.MAX_SAFE_INTEGER,l],m=[s,l],v=0,x=0;x<c;x++){var w=a[x],T=a[(x+1)%c];if(Jx(w,T,m,h)){if(W0(w,m,T)===0)return Kr(w,m,T);v++}}return v%2==1},Kr=function(a,s,l){return s[0]<=Math.max(a[0],l[0])&&s[0]>=Math.min(a[0],l[0])&&s[1]<=Math.max(a[1],l[1])&&s[1]>=Math.min(a[1],l[1])},W0=function(a,s,l){var c=(s[1]-a[1])*(l[0]-s[0])-(s[0]-a[0])*(l[1]-s[1]);return c===0?0:c>0?1:2},Jx=function(a,s,l,c){var h=W0(a,s,l),m=W0(a,s,c),v=W0(l,c,a),x=W0(l,c,s);return h!==m&&v!==x||!(h!==0||!Kr(a,l,s))||!(m!==0||!Kr(a,c,s))||!(v!==0||!Kr(l,a,c))||!(x!==0||!Kr(l,s,c))},Ua=function(a,s,l){return l?[Math.round(a/l)*l,Math.round(s/l)*l]:[a,s]},ty=function(a){var s=a.map(function(c){return c[0]}),l=a.map(function(c){return c[1]});return{width:Math.max.apply(Math,Re(s))-Math.min.apply(Math,Re(s)),height:Math.max.apply(Math,Re(l))-Math.min.apply(Math,Re(l))}},Wd=function(a,s,l){var c=l.map(function(L){return L[a]}),h=Math.max.apply(Math,Re(c)),m=Math.min.apply(Math,Re(c)),v=h-m,x=v===0?1:s/v,w=1/0,T=l.map(function(L){return L.map(function(F,j){if(j!==a)return F;var z=F*x;return w=Math.min(z,w),z})});if(T.length===2)return T;var E=m-w;return T.map(function(L){return L.map(function(F,j){return j===a?F+E:F})})};function ui(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return km(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return km(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function km(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}var xr=function(a){return Uo(a)?ry(a):un(a)?ny(a):[a.x,a.y,a.x+a.width,a.y+a.height]},nl=function(a){var s,l=ui(a.sets);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(c.type==="path")return c.ops}}catch(h){l.e(h)}finally{l.f()}return a.sets[0].ops},fc=function(a,s){var l=[0,0],c=a.reduce(function(h,m){var v=m.op,x=m.data;if(v==="move")l=x;else if(v==="bcurveTo"){var w=[x[0],x[1]],T=[x[2],x[3]],E=[x[4],x[5]],L=l;l=E;for(var F=function(Z,oe){return Math.pow(1-Z,3)*E[oe]+3*Z*Math.pow(1-Z,2)*T[oe]+3*Math.pow(Z,2)*(1-Z)*w[oe]+L[oe]*Math.pow(Z,3)},j=0;j<=1;){var z=F(j,0),K=F(j,1);if(s){var $=W(s(z,K),2);z=$[0],K=$[1]}h.minY=Math.min(h.minY,K),h.minX=Math.min(h.minX,z),h.maxX=Math.max(h.maxX,z),h.maxY=Math.max(h.maxY,K),j+=.1}}return h},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[c.minX,c.minY,c.maxX,c.maxY]},ea=function(a){var s,l=1/0,c=1/0,h=-1/0,m=-1/0,v=ui(a);try{for(v.s();!(s=v.n()).done;){var x=W(s.value,2),w=x[0],T=x[1];l=Math.min(l,w),c=Math.min(c,T),h=Math.max(h,w),m=Math.max(m,T)}}catch(E){v.e(E)}finally{v.f()}return[l,c,h,m]},ry=function(a){var s=W(ea(a.points),4),l=s[0],c=s[1],h=s[2],m=s[3];return[l+a.x,c+a.y,h+a.x,m+a.y]},ny=function(a){var s;if(a.points.length<2||!Hn(a)){var l=a.points.reduce(function(z,K){var $=W(K,2),Z=$[0],oe=$[1];return z.minY=Math.min(z.minY,oe),z.minX=Math.min(z.minX,Z),z.maxX=Math.max(z.maxX,Z),z.maxY=Math.max(z.maxY,oe),z},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),c=l.minX,h=l.minY,m=l.maxX,v=l.maxY;s=[c+a.x,h+a.y,m+a.x,v+a.y]}else{var x=Hn(a),w=nl(x[0]),T=W(fc(w),4),E=T[0],L=T[1],F=T[2],j=T[3];s=[E+a.x,L+a.y,F+a.x,j+a.y]}return s},dc=function(a){var s,l=W(xr(a),4),c=l[0],h=l[1],m=l[2],v=l[3],x=(c+m)/2,w=(h+v)/2;if(Uo(a)){var T=ea(a.points.map(function(hr){var dn=W(hr,2),In=dn[0],qi=dn[1];return Cr(In,qi,x-a.x,w-a.y,a.angle)})),E=W(T,4),L=E[0],F=E[1],j=E[2],z=E[3];return[L+a.x,F+a.y,j+a.x,z+a.y]}if(un(a))s=function(hr,dn,In){if(hr.points.length<2||!Hn(hr)){var qi=hr.points.reduce(function(ot,Pt){var Ft=W(Pt,2),rr=Ft[0],Hr=Ft[1],hn=W(Cr(hr.x+rr,hr.y+Hr,dn,In,hr.angle),2);return rr=hn[0],Hr=hn[1],ot.minY=Math.min(ot.minY,Hr),ot.minX=Math.min(ot.minX,rr),ot.maxX=Math.max(ot.maxX,rr),ot.maxY=Math.max(ot.maxY,Hr),ot},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[qi.minX,qi.minY,qi.maxX,qi.maxY]}var Ca=Hn(hr),Za=nl(Ca[0]);return fc(Za,function(ot,Pt){return Cr(hr.x+ot,hr.y+Pt,dn,In,hr.angle)})}(a,x,w);else if(a.type==="diamond"){var K=W(Cr(x,h,x,w,a.angle),2),$=K[0],Z=K[1],oe=W(Cr(x,v,x,w,a.angle),2),se=oe[0],ve=oe[1],_e=W(Cr(c,w,x,w,a.angle),2),Te=_e[0],Me=_e[1],Oe=W(Cr(m,w,x,w,a.angle),2),$e=Oe[0],He=Oe[1];s=[Math.min($,se,Te,$e),Math.min(Z,ve,Me,He),Math.max($,se,Te,$e),Math.max(Z,ve,Me,He)]}else if(a.type==="ellipse"){var We=(m-c)/2,Ce=(v-h)/2,rt=Math.cos(a.angle),Ze=Math.sin(a.angle),Ge=Math.hypot(We*rt,Ce*Ze),it=Math.hypot(Ce*rt,We*Ze);s=[x-Ge,w-it,x+Ge,w+it]}else{var et=W(Cr(c,h,x,w,a.angle),2),Le=et[0],dt=et[1],mt=W(Cr(c,v,x,w,a.angle),2),bt=mt[0],ct=mt[1],Dt=W(Cr(m,v,x,w,a.angle),2),sr=Dt[0],Mr=Dt[1],tn=W(Cr(m,h,x,w,a.angle),2),wr=tn[0],Xr=tn[1];s=[Math.min(Le,bt,sr,wr),Math.min(dt,ct,Mr,Xr),Math.max(Le,bt,sr,wr),Math.max(dt,ct,Mr,Xr)]}return s},Zn=function(a){if(!a.length)return[0,0,0,0];var s=1/0,l=-1/0,c=1/0,h=-1/0;return a.forEach(function(m){var v=W(dc(m),4),x=v[0],w=v[1],T=v[2],E=v[3];s=Math.min(s,x),c=Math.min(c,w),l=Math.max(l,T),h=Math.max(h,E)}),[s,c,l,h]},uu=function(a,s,l){if(!un(a)&&!Uo(a))return[a.x,a.y,a.x+s,a.y+l];var c,h=Wd(0,s,Wd(1,l,a.points));if(Uo(a))c=ea(h);else{var m=lu.generator(),v=a.strokeSharpness==="sharp"?m.linearPath(h,Un(a)):m.curve(h,Un(a)),x=nl(v);c=fc(x)}var w=W(c,4),T=w[0],E=w[1],L=w[2],F=w[3];return[T+a.x,E+a.y,L+a.x,F+a.y]},_m=function(a,s,l){var c=lu.generator(),h=l==="sharp"?c.linearPath(s,Un(a)):c.curve(s,Un(a)),m=nl(h),v=W(fc(m),4),x=v[0],w=v[1],T=v[2],E=v[3];return[x+a.x,w+a.y,T+a.x,E+a.y]},Li=function(a){var s=W(Zn(a),4),l=s[0],c=s[1],h=s[2],m=s[3];return{minX:l,minY:c,maxX:h,maxY:m,width:h-l,height:m-c,midX:(l+h)/2,midY:(c+m)/2}},fr=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}'),ta=function(a){return[fr.red[a],fr.pink[a],fr.grape[a],fr.violet[a],fr.indigo[a],fr.blue[a],fr.cyan[a],fr.teal[a],fr.green[a],fr.lime[a],fr.yellow[a],fr.orange[a]]},il={canvasBackground:[fr.white,fr.gray[0],fr.gray[1]].concat(Re(ta(0))),elementBackground:["transparent",fr.gray[4],fr.gray[6]].concat(Re(ta(6))),elementStroke:[fr.black,fr.gray[8],fr.gray[7]].concat(Re(ta(9)))},As=b(5156),bi=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),$0=/^Win/.test(window.navigator.platform),$d=/\b(android)\b/i.test(navigator.userAgent),kn="Equal",al="Minus",Sm="NumpadAdd",e3="NumpadSubtract",Cm="Numpad0",qd="BracketRight",hc="BracketLeft",Vd="Digit1",pc="Digit2",t3="Quote",Em="Digit0",iy="Slash",Gd="KeyC",Tm="KeyD",Om="KeyG",Am="KeyF",Im="KeyH",Mm="KeyV",xa="KeyX",Dm="KeyZ",q0="KeyR",Be={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:bi?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",D:"d",E:"e",G:"g",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k"},mc=function(a){return a===Be.ARROW_LEFT||a===Be.ARROW_RIGHT||a===Be.ARROW_DOWN||a===Be.ARROW_UP},Pm=function(a){return a.altKey},V0=function(a){return a.shiftKey},ay=function(a){return a.shiftKey},r3=function(){var a=new Date,s=a.getFullYear(),l="".concat(a.getMonth()+1).padStart(2,"0"),c="".concat(a.getDate()).padStart(2,"0"),h="".concat(a.getHours()).padStart(2,"0"),m="".concat(a.getMinutes()).padStart(2,"0");return"".concat(s,"-").concat(l,"-").concat(c,"-").concat(h).concat(m)},Ko=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},Wo=function(a){return a instanceof HTMLElement&&a.dataset.type==="wysiwyg"||a instanceof HTMLBRElement||a instanceof HTMLTextAreaElement||a instanceof HTMLInputElement&&(a.type==="text"||a.type==="number")},G0=function(a){for(var s=a.fontFamily,l=0,c=Object.entries(D.ut);l<c.length;l++){var h=W(c[l],2),m=h[0];if(h[1]===s)return"".concat(m,", ").concat(D._D)}return D._D},mn=function(a){var s=a.fontSize,l=a.fontFamily;return"".concat(s,"px ").concat(G0({fontFamily:l}))},vc=function(a,s){var l=0,c=null,h=function(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];c=v,clearTimeout(l),l=window.setTimeout(function(){c=null,a.apply(void 0,v)},s)};return h.flush=function(){if(clearTimeout(l),c){var m=c;c=null,a.apply(void 0,Re(m))}},h.cancel=function(){c=null,clearTimeout(l)},h},n3=function(a,s){if(!a.length||s<1)return[];for(var l=0,c=0,h=Array(Math.ceil(a.length/s));l<a.length;)h[c++]=a.slice(l,l+=s);return h},wi=function(a,s){return Math.abs(a-s)},Qn=function(a){a&&(a.style.cursor="")},On=function(a,s){a&&(a.style.cursor=s)},ol=function(a,s){a&&(s==="selection"?Qn(a):s!=="image"&&(a.style.cursor=D.oc.CROSSHAIR))},Y0=function(){var a;return((a=document.fullscreenElement)===null||a===void 0?void 0:a.nodeName)==="HTML"},fe=function(a){return a=a.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),bi?a.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):a.replace(/\bCtrlOrCmd\b/i,"Ctrl")},je=function(a,s){var l=a.clientX,c=a.clientY,h=s.zoom,m=s.offsetLeft,v=s.offsetTop,x=s.scrollX,w=s.scrollY,T=1/h.value;return{x:(l-m)*T-x,y:(c-v)*T-w}},qe=function(a,s){var l=a.sceneX,c=a.sceneY,h=s.zoom,m=s.offsetLeft,v=s.offsetTop,x=s.scrollX,w=s.scrollY;return{x:(l+x)*h.value+m,y:(c+w)*h.value+v}},pt=function(a){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(a))},or=new RegExp("^[^".concat("A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF","]*[").concat("\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC","]")),Ir=function(a){return or.test(a)},fn=function(a){var s=W(a,2);return{x:s[0],y:s[1]}},Ka=function(a){if((a==null?void 0:a.name)!=="AbortError")throw a;console.warn(a)},Gr=function(a){var s=a.length===5&&a.substr(4,1)==="0",l=a.length===9&&a.substr(7,2)==="00";return s||l||a===il.elementBackground[0]},vn=function(a){return function(s){(0,As.unstable_batchedUpdates)(a,s)}},Lm=function(a){return s=function(v){(0,As.unstable_batchedUpdates)(a,v)},l=null,c=null,h=null,m=function(){for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];c=x,h=s,l===null&&(l=window.requestAnimationFrame(function(){l=null,c=null,h=null,s.apply(void 0,x)}))},m.flush=function(){if(l!==null&&(cancelAnimationFrame(l),l=null),c){var v=c,x=h;c=null,h=null,x!==null&&x.apply(void 0,Re(v))}},m.cancel=function(){c=null,h=null,l!==null&&(cancelAnimationFrame(l),l=null)},m;var s,l,c,h,m},xi=function(){return X0()?1:Date.now()},Ni=function(a){return a.reduce(function(s,l){return s.set(typeof l=="string"?l:l.id,l),s},new Map)},X0=function(){var a;return typeof process!="undefined"&&((a={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_SOCKET_SERVER_URL:"https://oss-collab-us1.excalidraw.com",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13"})===null||a===void 0?void 0:a.NODE_ENV)==="test"},cu=function(a,s){return new CustomEvent(a,{detail:{nativeEvent:s},cancelable:!0})};function Yd(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return Z0(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Z0(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function Z0(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}var Yr=D.ZB.includes(devicePixelRatio)?devicePixelRatio:1,fu=function(){return{theme:D.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:D.rk,currentItemFontSize:D.n5,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:fr.black,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:D.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:Yr,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat(q("labels.untitled"),"-").concat(r3()),openMenu:null,openPopup:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:fr.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElement:null,showHyperlinkPopup:!1}},oy={theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeSharpness:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},elementLocked:{browser:!0,export:!1,server:!1},elementType:{browser:!0,export:!1,server:!1},penMode:{browser:!1,export:!1,server:!1},penDetected:{browser:!1,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isLibraryOpen:{browser:!1,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showHelpDialog:{browser:!1,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toastMessage:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElement:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1}},Q0=function(a,s){var l,c={},h=Yd(Object.keys(a));try{for(h.s();!(l=h.n()).done;){var m=l.value,v=oy[m];if(v!=null&&v[s]){var x=a[m];c[m]=x}}}catch(w){h.e(w)}finally{h.f()}return c},sy=function(a){return Q0(a,"export")},i3=function(a){return Q0(a,"server")};function ly(a,s,l,c=h=>h){return a*c(.5-s*(.5-l))}function ra(a,s){return[a[0]+s[0],a[1]+s[1]]}function ni(a,s){return[a[0]-s[0],a[1]-s[1]]}function na(a,s){return[a[0]*s,a[1]*s]}function gc(a){return[a[1],-a[0]]}function Xd(a,s){return a[0]*s[0]+a[1]*s[1]}function uy(a,s){return a[0]===s[0]&&a[1]===s[1]}function Nm(a,s){return function(l){return l[0]*l[0]+l[1]*l[1]}(ni(a,s))}function J0(a){return function(s,l){return[s[0]/l,s[1]/l]}(a,function(s){return Math.hypot(s[0],s[1])}(a))}function cy(a,s){return Math.hypot(a[1]-s[1],a[0]-s[0])}function Is(a,s,l){let c=Math.sin(l),h=Math.cos(l),m=a[0]-s[0],v=a[1]-s[1],x=m*c+v*h;return[m*h-v*c+s[0],x+s[1]]}function Ms(a,s,l){return ra(a,na(ni(s,a),l))}function ef(a,s,l){return ra(a,na(s,l))}var{min:yc,PI:a3}=Math,tf=a3+1e-4;function Zd(a,s={}){return function(l,c={}){let{size:h=16,smoothing:m=.5,thinning:v=.5,simulatePressure:x=!0,easing:w=Le=>Le,start:T={},end:E={},last:L=!1}=c,{cap:F=!0,taper:j=0,easing:z=Le=>Le*(2-Le)}=T,{cap:K=!0,taper:$=0,easing:Z=Le=>--Le*Le*Le+1}=E;if(l.length===0||h<=0)return[];let oe,se=l[l.length-1].runningLength,ve=Math.pow(h*m,2),_e=[],Te=[],Me=l.slice(0,10).reduce((Le,dt)=>{let mt=dt.pressure;if(x){let bt=yc(1,dt.distance/h),ct=yc(1,1-bt);mt=yc(1,Le+.275*bt*(ct-Le))}return(Le+mt)/2},l[0].pressure),Oe=ly(h,v,l[l.length-1].pressure,w),$e=l[0].vector,He=l[0].point,We=He,Ce=He,rt=We;for(let Le=0;Le<l.length;Le++){let{pressure:dt}=l[Le],{point:mt,vector:bt,distance:ct,runningLength:Dt}=l[Le];if(Le<l.length-1&&se-Dt<3)continue;if(v){if(x){let hr=yc(1,ct/h),dn=yc(1,1-hr);dt=yc(1,Me+.275*hr*(dn-Me))}Oe=ly(h,v,dt,w)}else Oe=h/2;oe===void 0&&(oe=Oe);let sr=Dt<j?z(Dt/j):1,Mr=se-Dt<$?Z((se-Dt)/$):1;if(Oe=Math.max(.01,Oe*Math.min(sr,Mr)),Le===l.length-1){let hr=na(gc(bt),Oe);_e.push(ni(mt,hr)),Te.push(ra(mt,hr));continue}let tn=l[Le+1].vector,wr=Xd(bt,tn);if(wr<0){let hr=na(gc($e),Oe);for(let dn=.07692307692307693,In=0;In<=1;In+=dn)Ce=Is(ni(mt,hr),mt,tf*In),_e.push(Ce),rt=Is(ra(mt,hr),mt,tf*-In),Te.push(rt);He=Ce,We=rt;continue}let Xr=na(gc(Ms(tn,bt,wr)),Oe);Ce=ni(mt,Xr),(Le<=1||Nm(He,Ce)>ve)&&(_e.push(Ce),He=Ce),rt=ra(mt,Xr),(Le<=1||Nm(We,rt)>ve)&&(Te.push(rt),We=rt),Me=dt,$e=bt}let Ze=l[0].point.slice(0,2),Ge=l.length>1?l[l.length-1].point.slice(0,2):ra(l[0].point,[1,1]),it=[],et=[];if(l.length===1){if(!j&&!$||L){let Le=ef(Ze,J0(gc(ni(Ze,Ge))),-(oe||Oe)),dt=[];for(let mt=.07692307692307693,bt=mt;bt<=1;bt+=mt)dt.push(Is(Le,Ze,2*tf*bt));return dt}}else{if(!(j||$&&l.length===1))if(F)for(let dt=.07692307692307693,mt=dt;mt<=1;mt+=dt){let bt=Is(Te[0],Ze,tf*mt);it.push(bt)}else{let dt=ni(_e[0],Te[0]),mt=na(dt,.5),bt=na(dt,.51);it.push(ni(Ze,mt),ni(Ze,bt),ra(Ze,bt),ra(Ze,mt))}let Le=gc(function(dt){return[-dt[0],-dt[1]]}(l[l.length-1].vector));if($||j&&l.length===1)et.push(Ge);else if(K){let dt=ef(Ge,Le,Oe);for(let mt=.034482758620689655,bt=mt;bt<1;bt+=mt)et.push(Is(dt,Ge,3*tf*bt))}else et.push(ra(Ge,na(Le,Oe)),ra(Ge,na(Le,.99*Oe)),ni(Ge,na(Le,.99*Oe)),ni(Ge,na(Le,Oe)))}return _e.concat(et,Te.reverse(),it)}(function(l,c={}){var h;let{streamline:m=.5,size:v=16,last:x=!1}=c;if(l.length===0)return[];let w=.15+.85*(1-m),T=Array.isArray(l[0])?l:l.map(({x:K,y:$,pressure:Z=.5})=>[K,$,Z]);if(T.length===2){let K=T[1];T=T.slice(0,-1);for(let $=1;$<5;$++)T.push(Ms(T[0],K,$/4))}T.length===1&&(T=[...T,[...ra(T[0],[1,1]),...T[0].slice(2)]]);let E=[{point:[T[0][0],T[0][1]],pressure:T[0][2]>=0?T[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],L=!1,F=0,j=E[0],z=T.length-1;for(let K=1;K<T.length;K++){let $=x&&K===z?T[K].slice(0,2):Ms(j.point,T[K],w);if(uy(j.point,$))continue;let Z=cy($,j.point);if(F+=Z,K<z&&!L){if(F<v)continue;L=!0}j={point:$,pressure:T[K][2]>=0?T[K][2]:.5,vector:J0(ni(j.point,$)),distance:Z,runningLength:F},E.push(j)}return E[0].vector=((h=E[1])==null?void 0:h.vector)||[0,0],E}(a,s),s)}var rf=function(a){return typeof a=="string"},nf=function(){function a(){Ke(this,a),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return At(a,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(s){return this.elementsMap.get(s)||null}},{key:"getNonDeletedElement",value:function(s){var l=this.getElement(s);return l&&Xe(l)?l:null}},{key:"getNonDeletedElements",value:function(s){var l=this,c=[];return s.forEach(function(h){var m=l.getNonDeletedElement(h);m!=null&&c.push(m)}),c}},{key:"replaceAllElements",value:function(s){var l=this;this.elements=s,this.elementsMap.clear(),s.forEach(function(c){l.elementsMap.set(c.id,c),a.mapElementToScene(c,l)}),this.nonDeletedElements=be(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var s=0,l=Array.from(this.callbacks);s<l.length;s++)(0,l[s])()}},{key:"addCallback",value:function(s){var l=this;if(this.callbacks.has(s))throw new Error;return this.callbacks.add(s),function(){if(!l.callbacks.has(s))throw new Error;l.callbacks.delete(s)}}},{key:"destroy",value:function(){var s=this;a.sceneMapById.forEach(function(l,c){l===s&&a.sceneMapById.delete(c)}),this.callbacks.clear()}}],[{key:"mapElementToScene",value:function(s,l){rf(s)?this.sceneMapById.set(s,l):this.sceneMapByElement.set(s,l)}},{key:"getScene",value:function(s){return rf(s)?this.sceneMapById.get(s)||null:this.sceneMapByElement.get(s)||null}}]),a}();nf.sceneMapByElement=new WeakMap,nf.sceneMapById=new Map;var Rm,sl,gn=nf,Qd=function(a,s,l){var c=s?s.width-2*D.gK:void 0,h=a.text;s&&(h=ll(a.originalText,mn(a),s.width));var m=Ds(a.originalText,mn(a),c),v=a.y;if(s){v=s.y+s.height/2-m.height/2;var x=s.height;m.height>s.height-2*D.gK&&(x=m.height+2*D.gK,v=s.y+x/2-m.height/2),vt(s,{height:x})}vt(a,{width:m.width,height:m.height,baseline:m.baseline,y:v,text:h})},Bn=function(a,s,l){var c=Ni(a);s.forEach(function(h){var m=l.get(h.id),v=ia(h);if(v){var x,w=l.get(v);vt(c.get(m),{boundElements:(x=h.boundElements)===null||x===void 0?void 0:x.concat({type:"text",id:w})}),vt(c.get(w),{containerId:m})}})},ki=function(a,s){a.forEach(function(l){var c=ia(l);if(c){var h=gn.getScene(l).getElement(c);if(h&&h.text){if(!l)return;var m=h.text,v=h.height,x=l.height,w=h.baseline;if(s!=="n"&&s!=="s"){m&&(m=ll(h.originalText,mn(h),l.width));var T=Ds(m,mn(h),l.width);v=T.height,w=T.baseline}if(v>l.height-2*D.gK){var E=(x=v+2*D.gK)-l.height,L=s==="ne"||s==="nw"||s==="n"?l.y-E:l.y;vt(l,{height:x,y:L})}var F=l.y+x/2-v/2;vt(h,{text:m,width:l.width-2*D.gK,height:v,x:l.x+D.gK,y:F,baseline:w})}}})},Ds=function(a,s,l){a=a.split(`
`).map(function(T){return T||" "}).join(`
`);var c=document.createElement("div");if(c.style.position="absolute",c.style.whiteSpace="pre",c.style.font=s,c.style.minHeight="1em",l){var h=af(s);c.style.width="".concat(String(l),"px"),c.style.maxWidth="".concat(String(l),"px"),c.style.overflow="hidden",c.style.wordBreak="break-word",c.style.lineHeight="".concat(String(h),"px"),c.style.whiteSpace="pre-wrap"}document.body.appendChild(c),c.innerText=a;var m=document.createElement("span");m.style.display="inline-block",m.style.overflow="hidden",m.style.width="1px",m.style.height="1px",c.appendChild(m);var v=m.offsetTop+m.offsetHeight,x=c.offsetWidth,w=c.offsetHeight;return document.body.removeChild(c),{width:x,height:w,baseline:v}},fy="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),Jd={},af=function(a){return Jd[a]||(Jd[a]=Ds(fy,a,null).height),Jd[a]},bc=function(a,s){Rm||(Rm=document.createElement("canvas"));var l=Rm.getContext("2d");l.font=s;var c=l.measureText(a);return X0()?10*c.width:c.width},ll=function(a,s,l){var c=l-2*D.gK,h=[],m=a.split(`
`),v=bc(" ",s);return m.forEach(function(x){var w=x.split(" ");if(w.length===1&&w[0]==="")h.push(w[0]);else{for(var T="",E=0,L=0;L<w.length;)if(bc(w[L],s)>=c){for(T&&h.push(T),T="",E=0;w[L].length>0;){var F=w[L][0],j=eh.calculate(F,s);E+=j,w[L]=w[L].slice(1),E>=c?(T.slice(-1)===" "&&(T=T.slice(0,-1)),h.push(T),T=F,(E=j)===c&&(T="",E=0)):T+=F}E+v>=c?(h.push(T),T="",E=0):(T+=" ",E+=v),L++}else{for(;E<c&&L<w.length;){var z=w[L];if((E=bc(T+z,s))>=c){h.push(T),E=0,T="";break}if(L++,T+="".concat(z," "),E+v>=c){h.push(T.slice(0,-1)),T="",E=0;break}}E===c&&(T="",E=0)}T&&(T.slice(-1)===" "&&(T=T.slice(0,-1)),h.push(T))}}),h.join(`
`)},eh=(sl={},{calculate:function(a,s){var l=a.charCodeAt(0);if(sl[s]||(sl[s]=[]),!sl[s][l]){var c=bc(a,s);sl[s][l]=c}return sl[s][l]},getCache:function(a){return sl[a]}}),du=function(a){var s=of(a);return s===0?Ds(fy.split("").join(`
`),a).width+2*D.gK:s+2*D.gK},of=function(a){var s=eh.getCache(a);if(!s)return 0;var l=s.filter(function(c){return c!==void 0});return Math.min.apply(Math,Re(l))},ia=function(a){var s,l;return a==null||(s=a.boundElements)===null||s===void 0||(l=s.filter(function(c){return c.type==="text"})[0])===null||l===void 0?void 0:l.id},ul=function(a){if(!a)return null;var s,l=ia(a);return l&&((s=gn.getScene(a))===null||s===void 0?void 0:s.getElement(l))||null},Hi=function(a){return a&&a.containerId&&((s=gn.getScene(a))===null||s===void 0?void 0:s.getElement(a.containerId))||null;var s};function dy(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function cl(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?dy(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):dy(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var hy="invert(100%) hue-rotate(180deg) saturate(1.25)",o3=fu(),py=function(a,s){return po(a)&&!s.imageCache.has(a.fileId)},sf=function(a,s){var l;return s.theme==="dark"&&po(a)&&!py(a,s)&&((l=s.imageCache.get(a.fileId))===null||l===void 0?void 0:l.mimeType)!==D.LO.svg},lf=function(a){return[8,8+a]},jm=function(a){return[1.5,6+a]},re=function(a){return a.type==="freedraw"?12*a.strokeWidth:20},hu=document.createElement("img");hu.src="data:".concat(D.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var uf=document.createElement("img");uf.src="data:".concat(D.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var aa=function(a,s,l,c){switch(l.globalAlpha=a.opacity/100,a.type){case"rectangle":case"diamond":case"ellipse":l.lineJoin="round",l.lineCap="round",s.draw(Hn(a));break;case"arrow":case"line":l.lineJoin="round",l.lineCap="round",Hn(a).forEach(function(K){s.draw(K)});break;case"freedraw":l.save(),l.fillStyle=a.strokeColor;var h=function(K){return hf.get(K)}(a),m=Hn(a);m&&s.draw(m),l.fillStyle=a.strokeColor,l.fill(h),l.restore();break;case"image":var v,x=po(a)?(v=c.imageCache.get(a.fileId))===null||v===void 0?void 0:v.image:void 0;x==null||x instanceof Promise?function(K,$,Z){$.fillStyle="#E7E7E7",$.fillRect(0,0,K.width,K.height);var oe=Math.min(K.width,K.height),se=Math.min(oe,Math.min(.4*oe,100));$.drawImage(K.status==="error"?uf:hu,K.width/2-se/2,K.height/2-se/2,se,se)}(a,l,c.zoom.value):l.drawImage(x,0,0,a.width,a.height);break;default:if(!Nr(a))throw new Error("Unimplemented type ".concat(a.type));var w=Ir(a.text),T=w&&!l.canvas.isConnected;T&&document.body.appendChild(l.canvas),l.canvas.setAttribute("dir",w?"rtl":"ltr"),l.save(),l.font=mn(a),l.fillStyle=a.strokeColor,l.textAlign=a.textAlign;for(var E=a.text.replace(/\r\n?/g,`
`).split(`
`),L=a.containerId?af(mn(a)):a.height/E.length,F=a.height-a.baseline,j=a.textAlign==="center"?a.width/2:a.textAlign==="right"?a.width:0,z=0;z<E.length;z++)l.fillText(E[z],j,(z+1)*L-F);l.restore(),T&&l.canvas.remove()}l.globalAlpha=1},Er=new WeakMap,$o=new WeakMap,Hn=function(a){return $o.get(a)},oa=function(a,s){return $o.set(a,s)},mo=function(a){return $o.delete(a)},Un=function(a){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],l={seed:a.seed,strokeLineDash:a.strokeStyle==="dashed"?lf(a.strokeWidth):a.strokeStyle==="dotted"?jm(a.strokeWidth):void 0,disableMultiStroke:a.strokeStyle!=="solid",strokeWidth:a.strokeStyle!=="solid"?a.strokeWidth+.5:a.strokeWidth,fillWeight:a.strokeWidth/2,hachureGap:4*a.strokeWidth,roughness:a.roughness,stroke:a.strokeColor,preserveVertices:s};switch(a.type){case"rectangle":case"diamond":case"ellipse":return l.fillStyle=a.fillStyle,l.fill=a.backgroundColor==="transparent"?void 0:a.backgroundColor,a.type==="ellipse"&&(l.curveFitting=1),l;case"line":case"freedraw":return rl(a.points)&&(l.fillStyle=a.fillStyle,l.fill=a.backgroundColor==="transparent"?void 0:a.backgroundColor),l;case"arrow":return l;default:throw new Error("Unimplemented type ".concat(a.type))}},cf=function(a,s){var l=$o.get(a);if(l===void 0)switch(Er.delete(a),a.type){case"rectangle":if(a.strokeSharpness==="round"){var c=a.width,h=a.height,m=.25*Math.min(c,h);l=s.path("M ".concat(m," 0 L ").concat(c-m," 0 Q ").concat(c," 0, ").concat(c," ").concat(m," L ").concat(c," ").concat(h-m," Q ").concat(c," ").concat(h,", ").concat(c-m," ").concat(h," L ").concat(m," ").concat(h," Q 0 ").concat(h,", 0 ").concat(h-m," L 0 ").concat(m," Q 0 0, ").concat(m," 0"),Un(a,!0))}else l=s.rectangle(0,0,a.width,a.height,Un(a));oa(a,l);break;case"diamond":var v=function(We){var Ce=Math.floor(We.width/2)+1,rt=We.width,Ze=Math.floor(We.height/2)+1;return[Ce,0,rt,Ze,Ce,We.height,0,Ze]}(a),x=W(v,8),w=x[0],T=x[1],E=x[2],L=x[3],F=x[4],j=x[5],z=x[6],K=x[7];l=a.strokeSharpness==="round"?s.path("M ".concat(w+.25*(E-w)," ").concat(T+.25*(L-T)," L ").concat(E-.25*(E-w)," ").concat(L-.25*(L-T),`
            C `).concat(E," ").concat(L,", ").concat(E," ").concat(L,", ").concat(E-.25*(E-F)," ").concat(L+.25*(j-L),`
            L `).concat(F+.25*(E-F)," ").concat(j-.25*(j-L),`
            C `).concat(F," ").concat(j,", ").concat(F," ").concat(j,", ").concat(F-.25*(F-z)," ").concat(j-.25*(j-K),`
            L `).concat(z+.25*(F-z)," ").concat(K+.25*(j-K),`
            C `).concat(z," ").concat(K,", ").concat(z," ").concat(K,", ").concat(z+.25*(w-z)," ").concat(K-.25*(K-T),`
            L `).concat(w-.25*(w-z)," ").concat(T+.25*(K-T),`
            C `).concat(w," ").concat(T,", ").concat(w," ").concat(T,", ").concat(w+.25*(E-w)," ").concat(T+.25*(L-T)),Un(a,!0)):s.polygon([[w,T],[E,L],[F,j],[z,K]],Un(a)),oa(a,l);break;case"ellipse":l=s.ellipse(a.width/2,a.height/2,a.width,a.height,Un(a)),oa(a,l);break;case"line":case"arrow":var $=Un(a),Z=a.points.length?a.points:[[0,0]];if(l=a.strokeSharpness==="sharp"?$.fill?[s.polygon(Z,$)]:[s.linearPath(Z,$)]:[s.curve(Z,$)],a.type==="arrow"){var oe=a.startArrowhead,se=oe===void 0?null:oe,ve=a.endArrowhead,_e=ve===void 0?"arrow":ve,Te=function(We,Ce,rt,Ze){var Ge=function(ot,Pt,Ft,rr){var Hr=nl(Pt[0]);if(Hr.length<1)return null;var hn=Ft==="start"?1:Hr.length-1,Dr=Hr[hn].data,Mn=[Dr[4],Dr[5]],Ea=[Dr[2],Dr[3]],Wf=[Dr[0],Dr[1]],Us=Hr[hn-1],Ks=[0,0];Us.op==="move"?Ks=Us.data:Us.op==="bcurveTo"&&(Ks=[Us.data[4],Us.data[5]]);var Qa=function(Zh,r4){return Math.pow(1-Zh,3)*Mn[r4]+3*Zh*Math.pow(1-Zh,2)*Ea[r4]+3*Math.pow(Zh,2)*(1-Zh)*Wf[r4]+Ks[r4]*Math.pow(Zh,3)},Kc=W(Ft==="start"?Ks:Mn,2),ns=Kc[0],Cl=Kc[1],ua=[Qa(.3,0),Qa(.3,1)],e4=ua[0],Wc=ua[1],$c=Math.hypot(ns-e4,Cl-Wc),Dv=(ns-e4)/$c,Pv=(Cl-Wc)/$c,Yh={arrow:30,bar:15,dot:15,triangle:15}[rr],qc=0;if(rr==="arrow"){var Xh=W(ot.points[ot.points.length-1],2),Lv=Xh[0],qB=Xh[1],YC=W(ot.points.length>1?ot.points[ot.points.length-2]:[0,0],2),VB=YC[0],GB=YC[1];qc=Math.hypot(Lv-VB,qB-GB)}else for(var t4=0;t4<ot.points.length;t4++){var XC=W(ot.points[t4-1]||[0,0],2),YB=XC[0],XB=XC[1],ZC=W(ot.points[t4],2),ZB=ZC[0],QB=ZC[1];qc+=Math.hypot(ZB-YB,QB-XB)}var QC=Math.min(Yh,qc/2),c6=ns-Dv*QC,f6=Cl-Pv*QC;if(rr==="dot")return[ns,Cl,Math.hypot(f6-Cl,c6-ns)+ot.strokeWidth];var JC={arrow:20,bar:90,triangle:25}[rr],eE=W(Cr(c6,f6,ns,Cl,-JC*Math.PI/180),2),JB=eE[0],eH=eE[1],tE=W(Cr(c6,f6,ns,Cl,JC*Math.PI/180),2);return[ns,Cl,JB,eH,tE[0],tE[1]]}(We,Ce,rt,Ze);if(Ge===null)return[];if(Ze==="dot"){var it=W(Ge,3),et=it[0],Le=it[1],dt=it[2];return[s.circle(et,Le,dt,cl(cl({},$),{},{fill:We.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(Ze==="triangle"){var mt=W(Ge,6),bt=mt[0],ct=mt[1],Dt=mt[2],sr=mt[3],Mr=mt[4],tn=mt[5];return delete $.strokeLineDash,[s.polygon([[bt,ct],[Dt,sr],[Mr,tn],[bt,ct]],cl(cl({},$),{},{fill:We.strokeColor,fillStyle:"solid"}))]}var wr=W(Ge,6),Xr=wr[0],hr=wr[1],dn=wr[2],In=wr[3],qi=wr[4],Ca=wr[5];if(We.strokeStyle==="dotted"){var Za=jm(We.strokeWidth-1);$.strokeLineDash=[Za[0],Za[1]-1]}else delete $.strokeLineDash;return[s.line(dn,In,Xr,hr,$),s.line(qi,Ca,Xr,hr,$)]};if(se!==null){var Me,Oe=Te(a,l,"start",se);(Me=l).push.apply(Me,Re(Oe))}if(_e!==null){var $e,He=Te(a,l,"end",_e);($e=l).push.apply($e,Re(He))}}oa(a,l);break;case"freedraw":gy(a),l=rl(a.points)?s.polygon(a.points,cl(cl({},Un(a)),{},{stroke:"none"})):null,oa(a,l);break;case"text":case"image":oa(a,null)}},Fm=function(a,s){var l=s?s.zoom:o3.zoom,c=Er.get(a),h=c&&c.canvasZoom!==l.value&&!(s!=null&&s.shouldCacheIgnoreZoom);if(!c||h||c.theme!==s.theme){var m=function(v,x,w){var T=document.createElement("canvas"),E=T.getContext("2d"),L=re(v),F=0,j=0;if(un(v)||Uo(v)){var z=W(xr(v),4),K=z[0],$=z[1],Z=z[2],oe=z[3];T.width=wi(K,Z)*window.devicePixelRatio*x.value+L*x.value*2,T.height=wi($,oe)*window.devicePixelRatio*x.value+L*x.value*2,F=v.x>K?wi(v.x,K)*window.devicePixelRatio*x.value:0,j=v.y>$?wi(v.y,$)*window.devicePixelRatio*x.value:0,E.translate(F,j)}else T.width=v.width*window.devicePixelRatio*x.value+L*x.value*2,T.height=v.height*window.devicePixelRatio*x.value+L*x.value*2;E.save(),E.translate(L*x.value,L*x.value),E.scale(window.devicePixelRatio*x.value,window.devicePixelRatio*x.value);var se=lu.canvas(T);return sf(v,w)&&(E.filter=hy),aa(v,se,E,w),E.restore(),{element:v,canvas:T,theme:w.theme,canvasZoom:x.value,canvasOffsetX:F,canvasOffsetY:j}}(a,l,s);return Er.set(a,m),m}return c},my=function(a,s,l,c){var h=a.element,m=re(h),v=W(xr(h),4),x=v[0],w=v[1],T=v[2],E=v[3];Uo(h)&&(x=Math.floor(x),T=Math.ceil(T),w=Math.floor(w),E=Math.ceil(E));var L=((x+T)/2+c.scrollX)*window.devicePixelRatio,F=((w+E)/2+c.scrollY)*window.devicePixelRatio,j=py(h,c),z="scale"in a.element&&!j?a.element.scale[0]:1,K="scale"in a.element&&!j?a.element.scale[1]:1;l.save(),l.scale(1/window.devicePixelRatio*z,1/window.devicePixelRatio*K),l.translate(L*z,F*K),l.rotate(h.angle*z*K),l.drawImage(a.canvas,-(T-x)/2*window.devicePixelRatio-m*a.canvasZoom/a.canvasZoom,-(E-w)/2*window.devicePixelRatio-m*a.canvasZoom/a.canvasZoom,a.canvas.width/a.canvasZoom,a.canvas.height/a.canvasZoom),l.restore()},vy=function(a,s,l,c){var h=s.generator;switch(a.type){case"selection":l.save(),l.translate(a.x+c.scrollX,a.y+c.scrollY),l.fillStyle="rgba(0, 0, 255, 0.10)",l.fillRect(0,0,a.width,a.height),l.restore();break;case"freedraw":if(cf(a,h),c.isExporting){var m=Fm(a,c);my(m,0,l,c)}else{var v=W(xr(a),4),x=v[0],w=v[1],T=v[2],E=v[3],L=(x+T)/2+c.scrollX,F=(w+E)/2+c.scrollY,j=(T-x)/2-(a.x-x),z=(E-w)/2-(a.y-w);l.save(),l.translate(L,F),l.rotate(a.angle),l.translate(-j,-z),aa(a,s,l,c),l.restore()}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(cf(a,h),c.isExporting){var K=W(xr(a),4),$=K[0],Z=K[1],oe=K[2],se=K[3],ve=($+oe)/2+c.scrollX,_e=(Z+se)/2+c.scrollY,Te=(oe-$)/2-(a.x-$),Me=(se-Z)/2-(a.y-Z);l.save(),l.translate(ve,_e),l.rotate(a.angle),l.translate(-Te,-Me),sf(a,c)&&(l.filter="none"),aa(a,s,l,c),l.restore()}else{var Oe=Fm(a,c);my(Oe,0,l,c)}break;default:throw new Error("Unimplemented type ".concat(a.type))}},ff=function(a,s,l){if(l===void 0)return a.draw(s);var c={sets:s.sets,shape:s.shape,options:cl(cl({},s.options),{},{fixedDecimalPlaceDigits:l})};return a.draw(c)},df=function(a,s,l,c,h,m,v){var x=W(xr(a),4),w=x[0],T=x[1],E=x[2],L=x[3],F=(E-w)/2-(a.x-w),j=(L-T)/2-(a.y-T),z=180*a.angle/Math.PI,K=s.generator;switch(a.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":cf(a,K);var $=ff(s,Hn(a),D.zK),Z=a.opacity/100;Z!==1&&($.setAttribute("stroke-opacity","".concat(Z)),$.setAttribute("fill-opacity","".concat(Z))),$.setAttribute("stroke-linecap","round"),$.setAttribute("transform","translate(".concat(h||0," ").concat(m||0,") rotate(").concat(z," ").concat(F," ").concat(j,")")),l.appendChild($);break;case"line":case"arrow":cf(a,K);var oe=l.ownerDocument.createElementNS(D.hR,"g"),se=a.opacity/100;oe.setAttribute("stroke-linecap","round"),Hn(a).forEach(function(Dt){var sr=ff(s,Dt,D.zK);se!==1&&(sr.setAttribute("stroke-opacity","".concat(se)),sr.setAttribute("fill-opacity","".concat(se))),sr.setAttribute("transform","translate(".concat(h||0," ").concat(m||0,") rotate(").concat(z," ").concat(F," ").concat(j,")")),a.type==="line"&&rl(a.points)&&a.backgroundColor!=="transparent"&&sr.setAttribute("fill-rule","evenodd"),oe.appendChild(sr)}),l.appendChild(oe);break;case"freedraw":gy(a);var ve=a.opacity/100,_e=Hn(a),Te=_e?ff(s,_e,D.zK):l.ownerDocument.createElementNS(D.hR,"g");ve!==1&&(Te.setAttribute("stroke-opacity","".concat(ve)),Te.setAttribute("fill-opacity","".concat(ve))),Te.setAttribute("transform","translate(".concat(h||0," ").concat(m||0,") rotate(").concat(z," ").concat(F," ").concat(j,")")),Te.setAttribute("stroke","none");var Me=l.ownerDocument.createElementNS(D.hR,"path");Me.setAttribute("fill",a.strokeColor),Me.setAttribute("d",th(a)),Te.appendChild(Me),l.appendChild(Te);break;case"image":var Oe=po(a)&&c[a.fileId];if(Oe){var $e="image-".concat(Oe.id),He=l.querySelector("#".concat($e));if(!He){(He=l.ownerDocument.createElementNS(D.hR,"symbol")).id=$e;var We=l.ownerDocument.createElementNS(D.hR,"image");We.setAttribute("width","100%"),We.setAttribute("height","100%"),We.setAttribute("href",Oe.dataURL),He.appendChild(We),l.prepend(He)}var Ce=l.ownerDocument.createElementNS(D.hR,"use");Ce.setAttribute("href","#".concat($e)),v&&Oe.mimeType!==D.LO.svg&&Ce.setAttribute("filter",hy),Ce.setAttribute("width","".concat(Math.round(a.width))),Ce.setAttribute("height","".concat(Math.round(a.height))),Ce.setAttribute("transform","translate(".concat(h||0," ").concat(m||0,") rotate(").concat(z," ").concat(F," ").concat(j,")")),l.appendChild(Ce)}break;default:if(!Nr(a))throw new Error("Unimplemented type ".concat(a.type));var rt=a.opacity/100,Ze=l.ownerDocument.createElementNS(D.hR,"g");rt!==1&&(Ze.setAttribute("stroke-opacity","".concat(rt)),Ze.setAttribute("fill-opacity","".concat(rt))),Ze.setAttribute("transform","translate(".concat(h||0," ").concat(m||0,") rotate(").concat(z," ").concat(F," ").concat(j,")"));for(var Ge=a.text.replace(/\r\n?/g,`
`).split(`
`),it=a.height/Ge.length,et=a.height-a.baseline,Le=a.textAlign==="center"?a.width/2:a.textAlign==="right"?a.width:0,dt=Ir(a.text)?"rtl":"ltr",mt=a.textAlign==="center"?"middle":a.textAlign==="right"||dt==="rtl"?"end":"start",bt=0;bt<Ge.length;bt++){var ct=l.ownerDocument.createElementNS(D.hR,"text");ct.textContent=Ge[bt],ct.setAttribute("x","".concat(Le)),ct.setAttribute("y","".concat((bt+1)*it-et)),ct.setAttribute("font-family",G0(a)),ct.setAttribute("font-size","".concat(a.fontSize,"px")),ct.setAttribute("fill",a.strokeColor),ct.setAttribute("text-anchor",mt),ct.setAttribute("style","white-space: pre;"),ct.setAttribute("direction",dt),Ze.appendChild(ct)}l.appendChild(Ze)}},hf=new WeakMap([]);function gy(a){var s=th(a),l=new Path2D(s);return hf.set(a,l),l}function th(a){var s=a.simulatePressure?a.points:a.points.length?a.points.map(function(c,h){var m=W(c,2);return[m[0],m[1],a.pressures[h]]}):[[0,0,.5]],l={simulatePressure:a.simulatePressure,size:4.25*a.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(c){return Math.sin(c*Math.PI/2)},last:!!a.lastCommittedPoint};return function(c){if(!c.length)return"";var h=c.length-1;return c.reduce(function(m,v,x,w){return x===h?m.push(v,qo(v,w[0]),"L",w[0],"Z"):m.push(v,qo(v,w[x+1])),m},["M",c[0],"Q"]).join(" ").replace(zm,"$1")}(Zd(s,l))}function qo(a,s){return[(a[0]+s[0])/2,(a[1]+s[1])/2]}var zm=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g,pu=new Br(Date.now()),Wa=0,mu=function(){return Math.floor(pu.next()*Math.pow(2,31))},$a=function(){return X0()?"id".concat(Wa++):el()};function wc(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function qa(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?wc(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):wc(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var vt=function(a,s){var l,c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!1,m=s,v=m.points,x=m.fileId;for(var w in v!==void 0&&(s=qa(qa({},ty(v)),s)),s){var T=s[w];if(T!==void 0){if(a[w]===T&&(Zt(T)!=="object"||T===null||w==="groupIds"||w==="scale"))continue;if(w==="scale"){var E=a[w],L=T;if(E[0]===L[0]&&E[1]===L[1])continue}else if(w==="points"){var F=a[w],j=T;if(F.length===j.length){for(var z=!1,K=F.length;--K;){var $=F[K],Z=j[K];if($[0]!==Z[0]||$[1]!==Z[1]){z=!0;break}}if(!z)continue}}a[w]=T,h=!0}}return h&&(s.height===void 0&&s.width===void 0&&x===void 0&&v===void 0||mo(a),a.version++,a.versionNonce=mu(),a.updated=xi(),c&&((l=gn.getScene(a))===null||l===void 0||l.informMutation())),a},an=function(a,s){var l=!1;for(var c in s){var h=s[c];if(h!==void 0){if(a[c]===h&&(Zt(h)!=="object"||h===null))continue;l=!0}}return l?qa(qa(qa({},a),s),{},{updated:xi(),version:a.version+1,versionNonce:mu()}):a},vu=function(a,s){return a.version=(s!=null?s:a.version)+1,a.versionNonce=mu(),a.updated=xi(),a},fl=function(a){return un(a)||Uo(a)?a.points.length<2:a.width===0&&a.height===0},ii=function(a,s,l){var c=Math.abs(s),h=Math.abs(l);if(a==="line"||a==="arrow"||a==="freedraw"){var m=Math.round(Math.atan(h/c)/D.ay)*D.ay;m===0?l=0:m===Math.PI/2?s=0:l=Math.round(c*Math.tan(m))*Math.sign(l)||l}else a!=="selection"&&(l=c*Math.sign(l));return{width:s,height:l}},rh=function(a){var s={width:a.width,height:a.height,x:a.x,y:a.y};if(a.width<0){var l=Math.abs(a.width);s.width=l,s.x=a.x-l}if(a.height<0){var c=Math.abs(a.height);s.height=c,s.y=a.y-c}return s};function xc(a,s){if(a==null)return{};var l,c,h=function(v,x){if(v==null)return{};var w,T,E={},L=Object.keys(v);for(T=0;T<L.length;T++)w=L[T],x.indexOf(w)>=0||(E[w]=v[w]);return E}(a,s);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);for(c=0;c<m.length;c++)l=m[c],s.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(a,l)&&(h[l]=a[l])}return h}function Vo(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return nh(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return nh(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function nh(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}function pf(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Nn(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?pf(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):pf(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var Bm=function(a,s,l){var c=l.filter(function(h){return h.groupIds.includes(a)});return c.length<2?s.selectedGroupIds[a]||s.editingGroupId===a?Nn(Nn({},s),{},{selectedGroupIds:Nn(Nn({},s.selectedGroupIds),{},we({},a,!1)),editingGroupId:null}):s:Nn(Nn({},s),{},{selectedGroupIds:Nn(Nn({},s.selectedGroupIds),{},we({},a,!0)),selectedElementIds:Nn(Nn({},s.selectedElementIds),Object.fromEntries(c.map(function(h){return[h.id,!0]})))})},_i=function(a,s){return ih(a,s)!=null},ih=function(a,s){return s.groupIds.filter(function(l){return l!==a.editingGroupId}).find(function(l){return a.selectedGroupIds[l]})},kc=function(a){return Object.entries(a.selectedGroupIds).filter(function(s){var l=W(s,2);return l[0],l[1]}).map(function(s){var l=W(s,2),c=l[0];return l[1],c})},Go=function(a,s){var l=Nn(Nn({},a),{},{selectedGroupIds:{}}),c=Fe(s,a);if(!c.length)return Nn(Nn({},l),{},{editingGroupId:null});var h,m=Vo(c);try{for(m.s();!(h=m.n()).done;){var v=h.value.groupIds;if(a.editingGroupId){var x=v.indexOf(a.editingGroupId);x>-1&&(v=v.slice(0,x))}if(v.length>0){var w=v[v.length-1];l=Bm(w,l,s)}}}catch(T){m.e(T)}finally{m.f()}return l},gu=function(a,s){return a.groupIds.includes(s)},ka=function(a,s){return a.filter(function(l){return gu(l,s)})},yy=function(a,s,l){var c=Re(a),h=l?c.indexOf(l):-1,m=h>-1?h:c.length;return c.splice(m,0,s),c},_c=function(a){var s=new Map;return a.forEach(function(l){var c=l.groupIds.length===0?l.id:l.groupIds[l.groupIds.length-1],h=s.get(c)||[],m=ia(l);if(m){var v=gn.getScene(l).getElement(m);h.push(v)}s.set(c,[].concat(Re(h),[l]))}),Array.from(s.values())},Hm=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","strokeSharpness","boundElements","link"];function Um(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Yo(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?Um(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):Um(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var yu=function(a,s){var l,c,h=s.x,m=s.y,v=s.strokeColor,x=s.backgroundColor,w=s.fillStyle,T=s.strokeWidth,E=s.strokeStyle,L=s.roughness,F=s.opacity,j=s.width,z=j===void 0?0:j,K=s.height,$=K===void 0?0:K,Z=s.angle,oe=Z===void 0?0:Z,se=s.groupIds,ve=se===void 0?[]:se,_e=s.strokeSharpness,Te=s.boundElements,Me=Te===void 0?null:Te,Oe=s.link,$e=Oe===void 0?null:Oe,He=xc(s,Hm);return{id:He.id||$a(),type:a,x:h,y:m,width:z,height:$,angle:oe,strokeColor:v,backgroundColor:x,fillStyle:w,strokeWidth:T,strokeStyle:E,roughness:L,opacity:F,groupIds:ve,strokeSharpness:_e,seed:(l=He.seed)!==null&&l!==void 0?l:mu(),version:He.version||1,versionNonce:(c=He.versionNonce)!==null&&c!==void 0?c:0,isDeleted:!1,boundElements:Me,updated:xi(),link:$e}},ah=function(a){return yu(a.type,a)},oh=function(a,s){return{x:a.textAlign==="center"?s.width/2:a.textAlign==="right"?s.width:0,y:a.verticalAlign==="middle"?s.height/2:0}},bu=function(a){var s=Ds(a.text,mn(a)),l=oh(a,s);return an(Yo(Yo({},yu("text",a)),{},{text:a.text,fontSize:a.fontSize,fontFamily:a.fontFamily,textAlign:a.textAlign,verticalAlign:a.verticalAlign,x:a.x-l.x,y:a.y-l.y,width:s.width,height:s.height,baseline:s.baseline,containerId:a.containerId||null,originalText:a.text}),{})},by=function(a,s){var l=s.text,c=s.isDeleted,h=s.originalText,m=Hi(a);m&&(l=ll(l,mn(a),m.width));var v=function(x,w){var T=null,E=Hi(x);E&&(T=E.width-2*D.gK);var L,F,j=Ds(w,mn(x),T),z=j.width,K=j.height,$=j.baseline,Z=x.textAlign,oe=x.verticalAlign;if(Z!=="center"||oe!=="middle"||x.containerId){var se=W(xr(x),4),ve=se[0],_e=se[1],Te=se[2],Me=se[3],Oe=W(uu(x,z,K),4),$e=(ve-Oe[0])/2,He=(_e-Oe[1])/2,We=(Te-Oe[2])/2,Ce=(Me-Oe[3])/2,rt=W(xm({s:!0,e:Z==="center"||Z==="left",w:Z==="center"||Z==="right"},x.x,x.y,x.angle,$e,He,We,Ce),2);L=rt[0],F=rt[1]}else{var Ze=Ds(x.text,mn(x),T),Ge=oh(x,{width:z-Ze.width,height:K-Ze.height});L=x.x-Ge.x,F=x.y-Ge.y}if(Ba(x)){var it=Hi(x),et=it.height,Le=it.width;K>et-2*D.gK&&(et=K+2*D.gK),z>Le-2*D.gK&&(Le=z+2*D.gK),et===it.height&&Le===it.width||vt(it,{height:et,width:Le})}return{width:z,height:K,x:Number.isFinite(L)?L:x.x,y:Number.isFinite(F)?F:x.y,baseline:$}}(a,l);return an(a,Yo({text:l,originalText:h,isDeleted:c!=null?c:a.isDeleted},v))},wu=function(a){return Yo(Yo({},yu(a.type,a)),{},{points:a.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:a.startArrowhead,endArrowhead:a.endArrowhead})},xu=function a(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s==null||Zt(s)!=="object")return s;if(Object.prototype.toString.call(s)==="[object Object]"){var c=typeof s.constructor=="function"?Object.create(Object.getPrototypeOf(s)):{};for(var h in s)if(s.hasOwnProperty(h)){if(l===0&&(h==="shape"||h==="canvas"))continue;c[h]=a(s[h],l+1)}return c}if(Array.isArray(s)){for(var m=s.length,v=new Array(m);m--;)v[m]=a(s[m],l+1);return v}return s},sh=function(a,s,l,c){var h,m,v=xu(l);return X0()?(v.id="".concat(v.id,"_copy"),(h=window.h)!==null&&h!==void 0&&(m=h.app)!==null&&m!==void 0&&m.getSceneElementsIncludingDeleted().find(function(x){return x.id===v.id})&&(v.id+="_copy")):v.id=$a(),v.updated=xi(),v.seed=mu(),v.groupIds=function(x,w,T){for(var E=Re(x),L=w?x.indexOf(w):-1,F=L>-1?L:x.length,j=0;j<F;j++)E[j]=T(E[j]);return E}(v.groupIds,a,function(x){return s.has(x)||s.set(x,$a()),s.get(x)}),c&&(v=Object.assign(v,c)),v},Km={mouse:8,pen:16,touch:28},Wm={e:!0,s:!0,n:!0,w:!0},$m={e:!0,s:!0,n:!0,w:!0},qm={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},mf={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},vo=function(a,s,l,c,h,m,v){var x=W(Cr(a+l/2,s+c/2,h,m,v),2);return[x[0]-l/2,x[1]-c/2,l,c]},vr=function(a,s,l,c){var h=W(a,4),m=h[0],v=h[1],x=h[2],w=h[3],T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},E=Km[c],L=E/l.value,F=E/l.value,j=E/l.value,z=E/l.value,K=x-m,$=w-v,Z=(m+x)/2,oe=(v+w)/2,se=4/l.value,ve=(E-8)/(2*l.value),_e={nw:T.nw?void 0:vo(m-se-j+ve,v-se-z+ve,L,F,Z,oe,s),ne:T.ne?void 0:vo(x+se-ve,v-se-z+ve,L,F,Z,oe,s),sw:T.sw?void 0:vo(m-se-j+ve,w+se-ve,L,F,Z,oe,s),se:T.se?void 0:vo(x+se-ve,w+se-ve,L,F,Z,oe,s),rotation:T.rotation?void 0:vo(m+K/2-L/2,v-se-z+ve-16/l.value,L,F,Z,oe,s)},Te=5*Km.mouse/l.value;return Math.abs(K)>Te&&(T.n||(_e.n=vo(m+K/2-L/2,v-se-z+ve,L,F,Z,oe,s)),T.s||(_e.s=vo(m+K/2-L/2,w+se-ve,L,F,Z,oe,s))),Math.abs($)>Te&&(T.w||(_e.w=vo(m-se-j+ve,v+$/2-F/2,L,F,Z,oe,s)),T.e||(_e.e=vo(x+se-ve,v+$/2-F/2,L,F,Z,oe,s))),_e},Vm=function(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse",c={};if(a.type==="arrow"||a.type==="line"||a.type==="freedraw"){if(a.points.length===2){var h=W(a.points,2),m=h[1];m[0]===0||m[1]===0?c=mf:m[0]>0&&m[1]<0?c=qm:m[0]>0&&m[1]>0?c=mf:m[0]<0&&m[1]>0?c=qm:m[0]<0&&m[1]<0&&(c=mf)}}else Nr(a)&&(c=$m);return vr(xr(a),a.angle,s,l,c)},Ui=function(a,s){return[0,0,0,0,s,a,1,0]},go=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=[0,0,0,0,0,0,0,0];if(s<0||s>7)throw new Error("Expected `index` betwen 0 and 7, got `".concat(s,"`"));return a!==0&&(l[s]=a),l},vf=function(a){return[a[0],a[1],a[2],a[3],-a[4],-a[5],-a[6],-a[7]]},wy=function(a,s){return Ki(s)?[a[0]-s,a[1],a[2],a[3],a[4],a[5],a[6],a[7]]:[a[0]-s[0],a[1]-s[1],a[2]-s[2],a[3]-s[3],a[4]-s[4],a[5]-s[5],a[6]-s[6],a[7]-s[7]]},Sc=function(a,s){return Ki(s)?[a[0]*s,a[1]*s,a[2]*s,a[3]*s,a[4]*s,a[5]*s,a[6]*s,a[7]*s]:[Va(a,s),s[1]*a[0]+s[0]*a[1]-s[4]*a[2]+s[5]*a[3]+s[2]*a[4]-s[3]*a[5]-s[7]*a[6]-s[6]*a[7],s[2]*a[0]+s[0]*a[2]-s[6]*a[3]+s[3]*a[6],s[3]*a[0]+s[6]*a[2]+s[0]*a[3]-s[2]*a[6],s[4]*a[0]+s[2]*a[1]-s[1]*a[2]+s[7]*a[3]+s[0]*a[4]+s[6]*a[5]-s[5]*a[6]+s[3]*a[7],s[5]*a[0]-s[3]*a[1]+s[7]*a[2]+s[1]*a[3]-s[6]*a[4]+s[0]*a[5]+s[4]*a[6]+s[2]*a[7],s[6]*a[0]+s[3]*a[2]-s[2]*a[3]+s[0]*a[6],s[7]*a[0]+s[6]*a[1]+s[5]*a[2]+s[4]*a[3]+s[3]*a[4]+s[2]*a[5]+s[1]*a[6]+s[0]*a[7]]},Va=function(a,s){return s[0]*a[0]+s[2]*a[2]+s[3]*a[3]-s[6]*a[6]},xy=function(a,s){return[gf(a,s),a[1]*s[7]+a[4]*s[5]-a[5]*s[4]+a[7]*s[1],a[2]*s[7]-a[4]*s[6]+a[6]*s[4]+a[7]*s[2],a[3]*s[7]+a[5]*s[6]-a[6]*s[5]+a[7]*s[3],a[4]*s[7]+a[7]*s[4],a[5]*s[7]+a[7]*s[5],a[6]*s[7]+a[7]*s[6],a[7]*s[7]]},gf=function(a,s){return a[0]*s[7]+a[1]*s[6]+a[2]*s[5]+a[3]*s[4]+a[4]*s[3]+a[5]*s[2]+a[6]*s[1]+a[7]*s[0]},lh=function(a){return Math.sqrt(Math.abs(a[0]*a[0]-a[2]*a[2]-a[3]*a[3]+a[6]*a[6]))},yf=function(a){var s=lh(a);if(s===0||s===1)return a;var l=a[6]<0?-1:1;return Sc(a,l/s)},ky=function(a){var s=function(l){return Math.sqrt(Math.abs(l[7]*l[7]-l[5]*l[5]-l[4]*l[4]+l[1]*l[1]))}(a);return s===0||s===1?a:Sc(a,1/s)},Ki=function(a){return typeof a=="number"},Ga=(go(1,1),go(1,2),go(1,3),go(1,4),go(1,5),go(1,6),go(1,7),function(a,s,l){return yf([0,l,a,s,0,0,0,0])}),ku=function(a,s){return yf(xy(s,a))},_y=function(a,s){return function(l,c){return[c[0]*l[0]+c[2]*l[2]+c[3]*l[3]-c[6]*l[6],c[1]*l[0]+c[0]*l[1]-c[4]*l[2]+c[5]*l[3]+c[2]*l[4]-c[3]*l[5]-c[7]*l[6]-c[6]*l[7],c[2]*l[0]+c[0]*l[2]-c[6]*l[3]+c[3]*l[6],c[3]*l[0]+c[6]*l[2]+c[0]*l[3]-c[2]*l[6],c[4]*l[0]+c[7]*l[3]+c[0]*l[4]+c[3]*l[7],c[5]*l[0]+c[7]*l[2]+c[0]*l[5]+c[2]*l[7],c[6]*l[0]+c[0]*l[6],c[7]*l[0]+c[0]*l[7]]}(a,s)},Ps=function(a){var s=W(a,2),l=s[0];return[0,0,0,0,s[1],l,1,0]},dl=function(a){return[a[5],a[4]]},Gm=function(a,s){return yf(function(l,c){return[c[0]*l[0],c[1]*l[0]+c[0]*l[1],c[2]*l[0]+c[0]*l[2],c[3]*l[0]+c[0]*l[3],c[4]*l[0]+c[2]*l[1]-c[1]*l[2]+c[0]*l[4],c[5]*l[0]-c[3]*l[1]+c[1]*l[3]+c[0]*l[5],c[6]*l[0]+c[3]*l[2]-c[2]*l[3]+c[0]*l[6],c[7]*l[0]+c[6]*l[1]+c[5]*l[2]+c[4]*l[3]+c[3]*l[4]+c[2]*l[5]+c[1]*l[6]]}(a,s))},Ym=function(a,s){return lh(xy(a,s))},yo=function(a,s){return gf(a,s)},uh=function(a){return[0,0,0,0,a[4],a[5],0,0]},Ls=function(a,s){return function(l,c){return Ki(c)?[l[0]+c,l[1],l[2],l[3],l[4],l[5],l[6],l[7]]:[l[0]+c[0],l[1]+c[1],l[2]+c[2],l[3]+c[3],l[4]+c[4],l[5]+c[5],l[6]+c[6],l[7]+c[7]]}(Sc(a,Math.sin(s/2)),Math.cos(s/2))},Xo=function(a,s){return yf(Sc(Sc(a,s),vf(a)))};function hl(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return Xm(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Xm(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function Xm(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}var Sy=function(a,s,l,c){var h=10/s.zoom.value,m=[l,c];return Cy(s,a)?wf(a,m,h):bf(a,s,m)},ch=function(a,s,l,c){var h=10/s.zoom.value;return!bf(a,s,[l,c])&&wf(a,[l,c],h)},bf=function(a,s,l){var c=10/s.zoom.value,h=Nr(a)?Cc:function(m){if(m.type==="arrow")return!1;if(m.type==="freedraw")return!0;var v=!Gr(m.backgroundColor)||Kd(m);return m.type==="line"?v&&rl(m.points):v||cc(m)}(a)?kf:Ey;return bo({element:a,point:l,threshold:c,check:h})},Cy=function(a,s){return a.selectedElementIds[s.id]},wf=function(a,s,l){var c=W(s,2),h=c[0],m=c[1],v=W(xr(a),4),x=v[0],w=v[1],T=v[2],E=v[3],L=W(Cr(h,m,(x+T)/2,(w+E)/2,-a.angle),2),F=L[0],j=L[1];return F>x-l&&F<T+l&&j>w-l&&j<E+l},Zm=function(a,s){var l=s.x,c=s.y,h=Si(a,a.width,a.height);return bo({element:a,point:[l,c],threshold:h,check:Ty})},Si=function(a,s,l){var c=(a.type==="diamond"?1/Math.sqrt(2):1)*Math.min(s,l);return Math.max(16,Math.min(.25*c,32))},bo=function(a){switch(a.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var s=xf(a.element,a.point);return a.check(s,a.threshold);case"freedraw":return!!a.check(_u(a.element,a.point),a.threshold)&&fh(a.element,a.point,a.threshold);case"arrow":case"line":return Iy(a);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},xf=function(a,s){switch(a.type){case"rectangle":case"image":case"text":return _u(a,s);case"diamond":return _f(a,s);case"ellipse":return Oy(a,s)}},Cc=function(a,s){return a<0},kf=function(a,s){return a<s},Ey=function(a,s){return Math.abs(a)<s},Ty=function(a,s){return 0<=a&&a<s},_u=function(a,s){var l=W(Su(a,s),4),c=l[1],h=l[2],m=l[3];return Math.max(yo(c,Ga(0,1,-m)),yo(c,Ga(1,0,-h)))},_f=function(a,s){var l=W(Su(a,s),4),c=l[1],h=l[2],m=l[3],v=Ga(m,h,-m*h);return yo(c,v)},Oy=function(a,s){var l=W(Ay(a,s),2),c=l[0],h=l[1];return-function(m){return Math.sign(m[1])}(h)*yo(c,h)},Ay=function(a,s){var l=W(Su(a,s),4),c=l[1],h=l[2],m=l[3],v=W(dl(c),2),x=v[0],w=v[1],T=.707,E=.707,L=h,F=m;[0,1,2,3].forEach(function(K){var $=L*T,Z=F*E,oe=(L*L-F*F)*Math.pow(T,3)/L,se=(F*F-L*L)*Math.pow(E,3)/F,ve=$-oe,_e=Z-se,Te=x-oe,Me=w-se,Oe=Math.hypot(_e,ve),$e=Math.hypot(Me,Te);T=Math.min(1,Math.max(0,(Te*Oe/$e+oe)/L)),E=Math.min(1,Math.max(0,(Me*Oe/$e+se)/F));var He=Math.hypot(E,T);T/=He,E/=He});var j,z=Ui(L*T,F*E);return[c,_y(ku(c,j=z),j)]},fh=function(a,s,l){var c,h;if(a.angle===0)c=s[0]-a.x,h=s[1]-a.y;else{var m=W(xr(a),4),v=m[0],x=m[1],w=m[2],T=m[3],E=K0(s,[v+(w-v)/2,x+(T-x)/2],-a.angle);c=E[0]-a.x,h=E[1]-a.y}var L,F=W(a.points,2),j=F[0],z=F[1];if(Ha(j[0],j[1],c,h)<l||Ha(z[0],z[1],c,h)<l)return!0;for(var K=0;K<a.points.length;K++){var $=[z[0]-j[0],z[1]-j[1]],Z=Math.hypot($[1],$[0]),oe=[$[0]/Z,$[1]/Z],se=[c-j[0],h-j[1]],ve=(se[0]*oe[0]+se[1]*oe[1])/Math.hypot(oe[1],oe[0]);L=[j[0]+oe[0]*ve,j[1]+oe[1]*ve];var _e=Ha(L[0],L[1],j[0],j[1]),Te=Ha(L[0],L[1],z[0],z[1]);if(L=Te<_e&&_e>Z?z:_e<Te&&Te>Z?j:L,Math.hypot(h-L[1],c-L[0])<l)return!0;j=z,z=a.points[K+1]}var Me=Hn(a);return!(!Me||!Me.sets.length)&&ev(Me,c,h,l)},Iy=function(a){var s=a.element,l=a.threshold;if(!Hn(s))return!1;var c=W(Su(a.element,a.point),4),h=c[0],m=c[1],v=c[2],x=c[3],w=Ga(0,1,-x),T=Ga(1,0,-v);if(!kf(yo(m,w),l)||!kf(yo(m,T),l))return!1;var E=W(dl(h),2),L=E[0],F=E[1],j=Hn(s);return j?a.check===kf&&j.some(function(z){return Ny(z,L,F,s.strokeSharpness)})?!0:j.some(function(z){return ev(z,L,F,l)}):!1},Su=function(a,s){var l=Ps(s),c=xr(a),h=Ec(c),m=Ls(h,a.angle),v=Xo(m,l),x=function(j){return[0,0,0,0,Math.abs(j[4]),Math.abs(j[5]),1,0]}(wy(v,uh(h))),w=function(j,z){return[0,0,0,0,z,j,0,0]}(a.x,a.y),T=wy(v,w),E=W(c,4),L=E[0],F=E[1];return[T,x,(E[2]-L)/2,(E[3]-F)/2]},Sf=function(a){var s=xr(a),l=Ec(s),c=Ls(l,a.angle),h=vf(function(m){return[1,0,0,0,-.5*m[5],.5*m[4],0,0]}(uh(l)));return Sc(h,c)},Ec=function(a){var s=W(a,4),l=s[0],c=s[1],h=s[2],m=s[3];return Ui((l+h)/2,(c+m)/2)},My=function(a,s,l){var c=Sf(a),h=Xo(c,Ps(s)),m=Xo(c,Ps(l)),v=ku(h,m),x=a.height/a.width,w=a.width/2,T=a.height/2,E=v[2],L=v[3],F=v[1],j=Math.abs(L),z=Math.abs(E);switch(a.type){case"rectangle":case"image":case"text":return F/(w*(z+x*j));case"diamond":return j<z?F/(z*w):F/(j*T);case"ellipse":return F/(w*Math.sqrt(Math.pow(E,2)+Math.pow(x,2)*Math.pow(L,2)))}},dh=function(a,s,l){var c,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(a.type){case"rectangle":case"image":case"text":case"diamond":var m=Qm(a);c=m.flatMap(function(x,w){var T=[x,m[(w+1)%4]];return Jm(s,s3(T,h))}).concat(m.flatMap(function(x){return Ns(x,h,s)}));break;case"ellipse":c=Dy(a,h,s)}if(c.length<2)return[];var v=c.sort(function(x,w){return Ym(x,l)-Ym(w,l)});return[v[0],v[v.length-1]]},Qm=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,l=s*a.width/2,c=s*a.height/2;switch(a.type){case"rectangle":case"image":case"text":return[Ui(l,c),Ui(l,-c),Ui(-l,-c),Ui(-l,c)];case"diamond":return[Ui(0,c),Ui(l,0),Ui(0,-c),Ui(-l,0)]}},Jm=function(a,s){var l=W(s,2),c=l[0],h=l[1];return yo(c,a)*yo(h,a)>=0?[]:[Gm(a,ku(c,h))]},s3=function(a,s){var l=W(a,2),c=l[0],h=l[1],m=function(v,x){var w=.5*x;return[1,0,0,0,w*v[4],w*v[5],0,0]}(function(v,x){return ky([0,0,0,0,x[4]-v[4],x[5]-v[5],0,0])}(c,h),s);return[Xo(m,c),Xo(m,h)]},Dy=function(a,s,l){var c=a.width/2+s,h=a.height/2+s,m=l[2],v=l[3],x=l[1],w=c*c*m*m+h*h*v*v,T=w-x*x;if(w===0||T<=0)return[];var E=Math.sqrt(T),L=-c*c*m*x,F=-h*h*v*x;return[Ui((L+c*h*v*E)/w,(F-c*h*m*E)/w),Ui((L-c*h*v*E)/w,(F+c*h*m*E)/w)]},Ns=function(a,s,l){if(s===0)return yo(l,a)===0?[a]:[];var c=l[2],h=l[3],m=l[1],v=W(dl(a),2),x=v[0],w=v[1],T=c*c+h*h,E=s*s*T-Math.pow(c*x+h*w+m,2);if(T===0||E<=0)return[];var L=Math.sqrt(E),F=x*h*h-w*c*h-c*m,j=w*c*c-x*c*h-h*m;return[Ui((F+h*L)/T,(j-c*L)/T),Ui((F-h*L)/T,(j+c*L)/T)]},Py=function(a,s,l){var c=Math.abs(s),h=a.width*c/2,m=a.height*c/2,v=Math.sign(s),x=W(dl(l),2),w=x[0],T=x[1],E=T===0?1e-4:T,L=Math.pow(w,2)*Math.pow(m,2)+Math.pow(E,2)*Math.pow(h,2),F=(-w*Math.pow(m,2)+v*E*Math.sqrt(Math.max(0,L-Math.pow(h,2)*Math.pow(m,2))))/L,j=(-F*w-1)/E,z=-Math.pow(h,2)*F/(Math.pow(j,2)*Math.pow(m,2)+Math.pow(F,2)*Math.pow(h,2));return Ui(z,(-F*z-1)/j)},Ly=function(a,s,l){var c=Math.abs(s),h=Math.sign(s),m=Qm(a,c),v=0,x=null;return m.forEach(function(w){var T=h*ku(l,w)[1];T>v&&(v=T,x=w)}),x},Ny=function(a,s,l,c){var h,m=[],v=!1,x=hl(nl(a));try{for(x.s();!(h=x.n()).done;){var w=h.value;w.op==="move"?(v=!v)&&m.push([w.data[0],w.data[1]]):w.op==="bcurveTo"?v&&(m.push([w.data[0],w.data[1]]),m.push([w.data[2],w.data[3]]),m.push([w.data[4],w.data[5]])):w.op==="lineTo"&&v&&m.push([w.data[0],w.data[1]])}}catch(E){x.e(E)}finally{x.f()}if(m.length>=4){if(c==="sharp")return cn(m,s,l);var T=uc(m,10,5);return cn(T,s,l)}return!1},ev=function(a,s,l,c){var h=nl(a),m=[0,0];return h.some(function(v,x){var w=v.op,T=v.data;if(w==="move")m=T;else{if(w==="bcurveTo"){var E=[T[0],T[1]],L=[T[2],T[3]],F=[T[4],T[5]],j=m;m=F;var z=function(K,$,Z,oe,se,ve){for(var _e=W(se,2),Te=_e[0],Me=_e[1],Oe=function(Ce,rt){return Math.pow(1-Ce,3)*oe[rt]+3*Ce*Math.pow(1-Ce,2)*Z[rt]+3*Math.pow(Ce,2)*(1-Ce)*$[rt]+K[rt]*Math.pow(Ce,3)},$e=0;$e<=1;){var He=Oe($e,0),We=Oe($e,1);if(Math.sqrt(Math.pow(He-Te,2)+Math.pow(We-Me,2))<ve)return!0;$e+=.01}return!1}(j,E,L,F,[s,l],c);return z}if(w==="lineTo")return Ny(a,s,l,"sharp");w==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})},Rs=["rotation"],Cf=function(a,s,l){return s>=a[0]&&s<=a[0]+a[2]&&l>=a[1]&&l<=a[1]+a[3]},hh=function(a,s,l,c,h,m){return a.reduce(function(v,x){if(v)return v;var w=function(T,E,L,F,j,z){if(!E.selectedElementIds[T.id])return!1;var K=Vm(T,j,z),$=K.rotation,Z=xc(K,Rs);if($&&Cf($,L,F))return"rotation";var oe=Object.keys(Z).filter(function(se){var ve=Z[se];return!!ve&&Cf(ve,L,F)});return oe.length>0&&oe[0]}(x,s,l,c,h,m);return w?{element:x,transformHandleType:w}:null},null)},ph=function(a,s,l,c,h){var m=W(a,4),v=m[0],x=m[1],w=m[2],T=m[3],E=vr([v,x,w,T],0,c,h,Wm);return Object.keys(E).find(function(L){var F=E[L];return F&&Cf(F,s,l)})||!1},Tc=["ns","nesw","ew","nwse"],pl=function(a){var s=a.element,l=a.transformHandleType,c=s&&Math.sign(s.height)*Math.sign(s.width)==-1,h=null;switch(l){case"n":case"s":h="ns";break;case"w":case"e":h="ew";break;case"nw":case"se":h=c?"nesw":"nwse";break;case"ne":case"sw":h=c?"nwse":"nesw";break;case"rotation":return"grab"}return h&&s&&(h=function(m,v){var x=Tc.indexOf(m);if(x>=0){var w=Math.round(v/(Math.PI/4));m=Tc[(x+w)%Tc.length]}return m}(h,s.angle)),h?"".concat(h,"-resize"):""};function Wt(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return Ef(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Ef(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function Ef(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}function mh(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function on(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?mh(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):mh(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var Wr=function(){function a(s,l){Ke(this,a),this.elementId=s.id,gn.mapElementToScene(this.elementId,l),a.normalizePoints(s),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1}}return At(a,null,[{key:"getElement",value:function(s){var l,c=(l=gn.getScene(s))===null||l===void 0?void 0:l.getNonDeletedElement(s);return c||null}},{key:"handleBoxSelection",value:function(s,l,c){var h;if(!l.editingLinearElement||((h=l.draggingElement)===null||h===void 0?void 0:h.type)!=="selection")return!1;var m=l.editingLinearElement,v=m.selectedPointsIndices,x=m.elementId,w=a.getElement(x);if(!w)return!1;var T=W(xr(l.draggingElement),4),E=T[0],L=T[1],F=T[2],j=T[3],z=a.getPointsGlobalCoordinates(w).reduce(function(K,$,Z){return($[0]>=E&&$[0]<=F&&$[1]>=L&&$[1]<=j||s.shiftKey&&v!=null&&v.includes(Z))&&K.push(Z),K},[]);c({editingLinearElement:on(on({},m),{},{selectedPointsIndices:z.length?z:null})})}},{key:"handlePointDragging",value:function(s,l,c,h,m){if(!s.editingLinearElement)return!1;var v=s.editingLinearElement,x=v.selectedPointsIndices,w=v.elementId,T=v.isDragging,E=a.getElement(w);if(!E)return!1;var L=E.points[v.pointerDownState.lastClickedPoint];if(x&&L){T===!1&&l({editingLinearElement:on(on({},v),{},{isDragging:!0})});var F=a.createPointAt(E,c-v.pointerOffset.x,h-v.pointerOffset.y,s.gridSize),j=F[0]-L[0],z=F[1]-L[1];if(a.movePoints(E,x.map(function(Z){return{index:Z,point:Z===v.pointerDownState.lastClickedPoint?a.createPointAt(E,c-v.pointerOffset.x,h-v.pointerOffset.y,s.gridSize):[E.points[Z][0]+j,E.points[Z][1]+z],isDragging:Z===v.pointerDownState.lastClickedPoint}})),wa(E)){var K=[];x[0]===0&&K.push(fn(a.getPointGlobalCoordinates(E,E.points[0])));var $=x[x.length-1];$===E.points.length-1&&K.push(fn(a.getPointGlobalCoordinates(E,E.points[$]))),K.length&&m(E,K)}return!0}return!1}},{key:"handlePointerUp",value:function(s,l,c){var h,m=l.elementId,v=l.selectedPointsIndices,x=l.isDragging,w=l.pointerDownState,T=a.getElement(m);if(!T)return l;var E={};if(x&&v){var L,F=Wt(v);try{for(F.s();!(L=F.n()).done;){var j=L.value;if(j===0||j===T.points.length-1){rl(T.points,c.zoom.value)&&a.movePoints(T,[{index:j,point:j===0?T.points[T.points.length-1]:T.points[0]}]);var z=ml(c)?js(fn(a.getPointAtIndexGlobalCoordinates(T,j)),gn.getScene(T)):null;E[j===0?"startBindingElement":"endBindingElement"]=z}}}catch(K){F.e(K)}finally{F.f()}}return on(on(on({},l),E),{},{selectedPointsIndices:x||s.shiftKey?!x&&s.shiftKey&&(h=w.prevSelectedPointsIndices)!==null&&h!==void 0&&h.includes(w.lastClickedPoint)?v&&v.filter(function(K){return K!==w.lastClickedPoint}):v:v!=null&&v.includes(w.lastClickedPoint)?[w.lastClickedPoint]:v,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"handlePointerDown",value:function(s,l,c,h,m){var v,x={didAddPoint:!1,hitElement:null};if(!l.editingLinearElement)return x;var w=l.editingLinearElement.elementId,T=a.getElement(w);if(!T)return x;if(s.altKey)return l.editingLinearElement.lastUncommittedPoint==null&&vt(T,{points:[].concat(Re(T.points),[a.createPointAt(T,m.x,m.y,l.gridSize)])}),h.resumeRecording(),c({editingLinearElement:on(on({},l.editingLinearElement),{},{pointerDownState:{prevSelectedPointsIndices:l.editingLinearElement.selectedPointsIndices,lastClickedPoint:-1},selectedPointsIndices:[T.points.length-1],lastUncommittedPoint:null,endBindingElement:js(m,gn.getScene(T))})}),x.didAddPoint=!0,x;var E=a.getPointIndexUnderCursor(T,l.zoom,m.x,m.y);if(E>-1)x.hitElement=T;else{var L=l.editingLinearElement,F=L.startBindingElement,j=L.endBindingElement;ml(l)&&wa(T)&&Oc(T,F,j)}var z=W(xr(T),4),K=z[0],$=z[1],Z=(K+z[2])/2,oe=($+z[3])/2,se=E>-1&&Cr(T.x+T.points[E][0],T.y+T.points[E][1],Z,oe,T.angle),ve=E>-1||s.shiftKey?s.shiftKey||(v=l.editingLinearElement.selectedPointsIndices)!==null&&v!==void 0&&v.includes(E)?Ry([].concat(Re(l.editingLinearElement.selectedPointsIndices||[]),[E])):[E]:null;return c({editingLinearElement:on(on({},l.editingLinearElement),{},{pointerDownState:{prevSelectedPointsIndices:l.editingLinearElement.selectedPointsIndices,lastClickedPoint:E},selectedPointsIndices:ve,pointerOffset:se?{x:m.x-se[0],y:m.y-se[1]}:{x:0,y:0}})}),x}},{key:"handlePointerMove",value:function(s,l,c,h,m){var v=h.elementId,x=h.lastUncommittedPoint,w=a.getElement(v);if(!w)return h;var T=w.points,E=T[T.length-1];if(!s.altKey)return E===x&&a.deletePoints(w,[T.length-1]),on(on({},h),{},{lastUncommittedPoint:null});var L=a.createPointAt(w,l-h.pointerOffset.x,c-h.pointerOffset.y,m);return E===x?a.movePoints(w,[{index:w.points.length-1,point:L}]):a.addPoints(w,[{point:L}]),on(on({},h),{},{lastUncommittedPoint:w.points[w.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(s,l){var c=W(xr(s),4),h=c[0],m=c[1],v=(h+c[2])/2,x=(m+c[3])/2,w=s.x,T=s.y,E=W(Cr(w+l[0],T+l[1],v,x,s.angle),2);return[w=E[0],T=E[1]]}},{key:"getPointsGlobalCoordinates",value:function(s){var l=W(xr(s),4),c=l[0],h=l[1],m=l[2],v=l[3],x=(c+m)/2,w=(h+v)/2;return s.points.map(function(T){var E=s.x,L=s.y,F=W(Cr(E+T[0],L+T[1],x,w,s.angle),2);return[E=F[0],L=F[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(s,l){var c=l<0?s.points.length+l:l,h=W(xr(s),4),m=h[0],v=h[1],x=(m+h[2])/2,w=(v+h[3])/2,T=s.points[c],E=s.x,L=s.y;return Cr(E+T[0],L+T[1],x,w,s.angle)}},{key:"pointFromAbsoluteCoords",value:function(s,l){var c=W(xr(s),4),h=c[0],m=c[1],v=(h+c[2])/2,x=(m+c[3])/2,w=W(Cr(l[0],l[1],v,x,-s.angle),2),T=w[0],E=w[1];return[T-s.x,E-s.y]}},{key:"getPointIndexUnderCursor",value:function(s,l,c,h){for(var m=this.getPointsGlobalCoordinates(s),v=m.length;--v>-1;){var x=m[v];if(Ha(c,h,x[0],x[1])*l.value<this.POINT_HANDLE_SIZE/2+1)return v}return-1}},{key:"createPointAt",value:function(s,l,c,h){var m=Ua(l,c,h),v=W(xr(s),4),x=v[0],w=v[1],T=(x+v[2])/2,E=(w+v[3])/2,L=W(Cr(m[0],m[1],T,E,-s.angle),2),F=L[0],j=L[1];return[F-s.x,j-s.y]}},{key:"getNormalizedPoints",value:function(s){var l=s.points,c=l[0][0],h=l[0][1];return{points:l.map(function(m,v){return[m[0]-c,m[1]-h]}),x:s.x+c,y:s.y+h}}},{key:"normalizePoints",value:function(s){vt(s,a.getNormalizedPoints(s))}},{key:"duplicateSelectedPoints",value:function(s){if(!s.editingLinearElement)return!1;var l=s.editingLinearElement,c=l.selectedPointsIndices,h=l.elementId,m=a.getElement(h);if(!m||c===null)return!1;var v=m.points,x=[],w=!1,T=-1,E=v.reduce(function(F,j,z){if(++T,F.push(j),c.includes(z)){var K=v[z+1];K||(w=!0),F.push(K?[(j[0]+K[0])/2,(j[1]+K[1])/2]:[j[0],j[1]]),x.push(T+1),++T}return F},[]);if(vt(m,{points:E}),w){var L=m.points[m.points.length-1];a.movePoints(m,[{index:m.points.length-1,point:[L[0]+30,L[1]+30]}])}return{appState:on(on({},s),{},{editingLinearElement:on(on({},s.editingLinearElement),{},{selectedPointsIndices:x})})}}},{key:"deletePoints",value:function(s,l){var c=0,h=0;if(l.includes(0)){var m=s.points.find(function(x,w){return!l.includes(w)});m&&(c=m[0],h=m[1])}var v=s.points.reduce(function(x,w,T){return l.includes(T)||x.push(x.length?[w[0]-c,w[1]-h]:[0,0]),x},[]);a._updatePoints(s,v,c,h)}},{key:"addPoints",value:function(s,l){var c=[].concat(Re(s.points),Re(l.map(function(h){return h.point})));a._updatePoints(s,c,0,0)}},{key:"movePoints",value:function(s,l,c){var h=s.points,m=0,v=0,x=l.find(function(T){return T.index===0});x&&(m=x.point[0]-h[x.index][0],v=x.point[1]-h[x.index][1]);var w=h.map(function(T,E){var L=l.find(function(z){return z.index===E});if(L){if(x)return T;var F=L.point[0]-h[L.index][0],j=L.point[1]-h[L.index][1];return[T[0]+F,T[1]+j]}return m||v?[T[0]-m,T[1]-v]:T});a._updatePoints(s,w,m,v,c)}},{key:"_updatePoints",value:function(s,l,c,h,m){var v=_m(s,l,s.strokeSharpness||"round"),x=_m(s,s.points,s.strokeSharpness||"round"),w=(v[0]+v[2])/2,T=(v[1]+v[3])/2,E=(x[0]+x[2])/2,L=(x[1]+x[3])/2,F=Cr(c,h,E-w,L-T,s.angle);vt(s,on(on({},m),{},{points:l,x:s.x+F[0],y:s.y+F[1]}))}}]),a}();Wr.POINT_HANDLE_SIZE=20;var Ry=function(a){var s=Re(new Set(a.filter(function(l){return l!==null&&l!==-1})));return s=s.sort(function(l,c){return l-c}),s.length?s:null};function Ci(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}var ml=function(a){return a.isBindingEnabled},Oc=function(a,s,l){var c=new Set,h=new Set;jy(a,s,l,"start",c,h),jy(a,l,s,"end",c,h);var m=Array.from(h).filter(function(v){return!c.has(v)});gn.getScene(a).getNonDeletedElements(m).forEach(function(v){var x;vt(v,{boundElements:(x=v.boundElements)===null||x===void 0?void 0:x.filter(function(w){return w.type!=="arrow"||w.id!==a.id})})})},jy=function(a,s,l,c,h,m){if(s!=="keep")if(s!=null)l!=null&&(l==="keep"?tv(a,s,c):c!=="start"&&l.id===s.id)||(Of(a,s,c),h.add(s.id));else{var v=Fy(a,c);v!=null&&m.add(v)}},Zo=function(a){a.forEach(function(s){wa(s)?Oc(s,Af(s,"start"),Af(s,"end")):U0(s)&&Wi(s)})},Wi=function(a){iv(a).forEach(function(s){var l=W(s,2),c=l[0],h=l[1];return Oc(c,h==="end"?"keep":a,h==="start"?"keep":a)})},Tf=function(a,s,l,c){s.startBoundElement!=null&&Of(a,s.startBoundElement,"start");var h=js(c,l);h==null||tv(a,h,"end")||Of(a,h,"end")},Of=function(a,s,l){vt(a,we({},l==="start"?"startBinding":"endBinding",function(c){for(var h=1;h<arguments.length;h++){var m=arguments[h]!=null?arguments[h]:{};h%2?Ci(Object(m),!0).forEach(function(v){we(c,v,m[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(m)):Ci(Object(m)).forEach(function(v){Object.defineProperty(c,v,Object.getOwnPropertyDescriptor(m,v))})}return c}({elementId:s.id},zy(a,s,l)))),Ni(s.boundElements||[]).has(a.id)||vt(s,{boundElements:(s.boundElements||[]).concat({id:a.id,type:"arrow"})})},tv=function(a,s,l){var c=a[l==="start"?"endBinding":"startBinding"];return Ac(a,c==null?void 0:c.elementId,s)},Ac=function(a,s,l){return s===l.id&&a.points.length<3},rv=function(a){a.forEach(function(s){wa(s)&&Oc(s,null,null)})},Fy=function(a,s){var l=s==="start"?"startBinding":"endBinding",c=a[l];return c==null?null:(vt(a,we({},l,null)),c.elementId)},js=function(a,s){return k2(s.getElements(),function(l){return U0(l)&&Zm(l,a)})},zy=function(a,s,l){var c=l==="start"?-1:1,h=c===-1?0:a.points.length-1,m=h-c,v=Wr.getPointAtIndexGlobalCoordinates(a,h),x=Wr.getPointAtIndexGlobalCoordinates(a,m);return{focus:My(s,x,v),gap:Math.max(1,xf(s,v))}},vl=function(a,s){var l,c=((l=a.boundElements)!==null&&l!==void 0?l:[]).filter(function(w){return w.type==="arrow"});if(c.length!==0){var h=s!=null?s:{},m=h.newSize,v=h.simultaneouslyUpdated,x=By(v);gn.getScene(a).getNonDeletedElements(c.map(function(w){return w.id})).forEach(function(w){if(un(w)){var T=a;if(nv(w,T)){var E=vh(T,w.startBinding,m),L=vh(T,w.endBinding,m);x.has(w.id)?vt(w,{startBinding:E,endBinding:L}):(Ic(w,"start",E,a),Ic(w,"end",L,a))}}})}},nv=function(a,s){var l,c;return((l=a.startBinding)===null||l===void 0?void 0:l.elementId)===s.id||((c=a.endBinding)===null||c===void 0?void 0:c.elementId)===s.id},By=function(a){return new Set((a||[]).map(function(s){return s.id}))},Ic=function(a,s,l,c){if(!(l==null||l.elementId!==c.id&&a.points.length>2)){var h=gn.getScene(a).getElement(l.elementId);if(h!=null){var m,v=s==="start"?-1:1,x=v===-1?0:a.points.length-1,w=x-v,T=Wr.getPointAtIndexGlobalCoordinates(a,w),E=function(F,j,z){if(j===0){var K=xr(F),$=Ec(K);return dl($)}var Z,oe=Sf(F),se=Xo(oe,Ps(z)),ve=vf(oe);switch(F.type){case"rectangle":case"image":case"text":case"diamond":Z=Ly(F,j,se);break;case"ellipse":Z=Py(F,j,se)}return dl(Xo(ve,Z))}(h,l.focus,T);if(l.gap===0)m=E;else{var L=function(F,j,z){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,$=Sf(F),Z=Xo($,Ps(j)),oe=Xo($,Ps(z)),se=ku(Z,oe),ve=vf($);return dh(F,se,Z,K).map(function(_e){return dl(Xo(ve,_e))})}(h,T,E,l.gap);m=L.length===0?E:L[0]}Wr.movePoints(a,[{index:x,point:Wr.pointFromAbsoluteCoords(a,m)}],we({},s==="start"?"startBinding":"endBinding",l))}}},vh=function(a,s,l){if(s==null||l==null)return s;var c=s.gap,h=s.focus,m=s.elementId,v=l.width,x=l.height,w=a.width,T=a.height;return{elementId:m,gap:Math.max(1,Math.min(Si(a,v,x),c*(v<x?v/w:x/T))),focus:h}},Hy=function(a){return[Af(a,"start"),Af(a,"end")].filter(function(s){return s!=null})},Af=function(a,s){return js(If(a,s),gn.getScene(a))},If=function(a,s){var l=s==="start"?0:-1;return fn(Wr.getPointAtIndexGlobalCoordinates(a,l))},iv=function(a){return gn.getScene(a).getElements().map(function(s){if(!wa(s))return null;var l=wo(s,"start",a),c=wo(s,"end",a);return l||c?[s,l&&c?"both":l?"start":"end",a]:null}).filter(function(s){return s!=null})},wo=function(a,s,l){return a[s==="start"?"startBinding":"endBinding"]==null&&!tv(a,l,s)&&Zm(l,If(a,s))},Fs=function(a,s,l,c){var h=new Set,m=new Set,v=c==="duplicatesServeAsOld";s.forEach(function(x){var w=x.boundElements;if(w!=null&&w.length>0&&(w.forEach(function(L){v&&!l.has(L.id)&&h.add(L.id)}),m.add(l.get(x.id))),wa(x)){if(x.startBinding!=null){var T=x.startBinding.elementId;v&&!l.has(T)&&m.add(T)}if(x.endBinding!=null){var E=x.endBinding.elementId;v&&!l.has(E)&&m.add(E)}x.startBinding==null&&x.endBinding==null||h.add(l.get(x.id))}}),a.filter(function(x){var w=x.id;return h.has(w)}).forEach(function(x){var w=x.startBinding,T=x.endBinding;vt(x,{startBinding:av(w,l),endBinding:av(T,l)})}),a.filter(function(x){var w=x.id;return m.has(w)}).forEach(function(x){var w=x.boundElements;w!=null&&w.length>0&&vt(x,{boundElements:w.map(function(T){return l.has(T.id)?{id:l.get(T.id),type:T.type}:T})})})},av=function(a,s){var l;if(a==null)return null;var c=a.elementId;return{focus:a.focus,gap:a.gap,elementId:(l=s.get(c))!==null&&l!==void 0?l:c}},ov=function(a,s){var l=new Set(s.map(function(h){return h.id})),c=new Set;s.forEach(function(h){var m;U0(h)&&((m=h.boundElements)===null||m===void 0||m.forEach(function(v){l.has(v.id)||c.add(v.id)}))}),a.filter(function(h){var m=h.id;return c.has(m)}).forEach(function(h){var m=h.startBinding,v=h.endBinding;vt(h,{startBinding:Uy(m,l),endBinding:Uy(v,l)})})},Uy=function(a,s){return a==null||s.has(a.elementId)?null:a};function Ky(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Mc(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?Ky(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):Ky(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var Qo=function(a){return a>=2*Math.PI?a-2*Math.PI:a},Wy=function(a,s,l,c){var h=W(xr(a),4),m=h[0],v=h[1],x=(m+h[2])/2,w=(v+h[3])/2,T=5*Math.PI/2+Math.atan2(l-w,s-x);c&&(T+=D.ay/2,T-=T%D.ay),T=Qo(T),vt(a,{angle:T});var E=ia(a);if(E){var L=gn.getScene(a).getElement(E);vt(L,{angle:T})}},$y=function(a,s,l,c,h){var m=W(xr(a),4),v=m[0],x=m[1],w=m[2],T=m[3],E=W(Cr(c,h,(v+w)/2,(x+T)/2,-a.angle),2),L=E[0],F=E[1],j=W(s==="end"?[L-a.x,F-a.y]:[a.x+a.points[1][0]-L,a.y+a.points[1][1]-F],2),z=j[0],K=j[1];if(l){var $=function(_e,Te,Me,Oe){var $e=ii.apply(void 0,[_e].concat(Re(Cr(Te,Me,0,0,Oe))));return Cr($e.width,$e.height,0,0,-Oe)}(a.type,z,K,a.angle),Z=W($,2);z=Z[0],K=Z[1]}var oe=W(xm(s==="end"?{s:!0,e:!0}:{n:!0,w:!0},a.x,a.y,a.angle,0,0,(a.points[1][0]-z)/2,(a.points[1][1]-K)/2),2),se=oe[0],ve=oe[1];vt(a,{x:se,y:ve,points:[[0,0],[z,K]]})},qy=function(a,s,l){return un(a)||Uo(a)?{points:Wd(0,s,Wd(1,l,a.points))}:{}},Vy=function(a,s,l){var c=a.fontSize*(s/a.width);if(c<1)return null;var h=Ds(a.text,mn({fontSize:c,fontFamily:a.fontFamily}),a.containerId?a.width:null);return{size:c,baseline:h.baseline+(l-h.height)}},l3=function(a,s,l,c,h){var m,v=W(xr(a),4),x=v[0],w=v[1],T=v[2],E=v[3],L=W(Cr(c,h,(x+T)/2,(w+E)/2,-a.angle),2),F=L[0],j=L[1];switch(s){case"se":m=Math.max((F-x)/(T-x),(j-w)/(E-w));break;case"nw":m=Math.max((T-F)/(T-x),(E-j)/(E-w));break;case"ne":m=Math.max((F-x)/(T-x),(E-j)/(E-w));break;case"sw":m=Math.max((T-F)/(T-x),(j-w)/(E-w))}if(m>0){var z=a.width*m,K=a.height*m,$=Vy(a,z,K);if($===null)return;var Z=W(uu(a,z,K),4),oe=(x-Z[0])/2,se=(w-Z[1])/2,ve=(T-Z[2])/2,_e=(E-Z[3])/2,Te=xm(function(He,We){return{n:/^(n|ne|nw)$/.test(He)||We&&/^(s|se|sw)$/.test(He),s:/^(s|se|sw)$/.test(He)||We&&/^(n|ne|nw)$/.test(He),w:/^(w|nw|sw)$/.test(He)||We&&/^(e|ne|se)$/.test(He),e:/^(e|ne|se)$/.test(He)||We&&/^(w|nw|sw)$/.test(He)}}(s,l),a.x,a.y,a.angle,oe,se,ve,_e),Me=W(Te,2),Oe=Me[0],$e=Me[1];vt(a,{fontSize:$.size,width:z,height:K,baseline:$.baseline,x:Oe,y:$e})}},_a=function(a,s,l,c,h,m,v){var x=W(uu(a,a.width,a.height),4),w=[x[0],x[1]],T=[x[2],x[3]],E=function(dn,In){return[(dn[0]+In[0])/2,(dn[1]+In[1])/2]}(w,T),L=K0([m,v],E,-a.angle),F=W(uu(l,l.width,l.height),4),j=F[0],z=F[1],K=F[2],$=F[3],Z=ia(l),oe=K-j,se=$-z,ve=(T[0]-w[0])/oe,_e=(T[1]-w[1])/se;c.includes("e")&&(ve=(L[0]-w[0])/oe),c.includes("s")&&(_e=(L[1]-w[1])/se),c.includes("w")&&(ve=(T[0]-L[0])/oe),c.includes("n")&&(_e=(T[1]-L[1])/se);var Te=a.width,Me=a.height,Oe=l.width*ve,$e=l.height*_e;if(h&&(Oe=2*Oe-Te,$e=2*$e-Me),s){var He=Math.abs(Oe)/Te,We=Math.abs($e)/Me;if(c.length===1&&($e*=He,Oe*=We),c.length===2){var Ce=Math.max(He,We);Oe=Te*Ce*Math.sign(Oe),$e=Me*Ce*Math.sign($e)}}var rt=W(uu(a,Oe,$e),4),Ze=rt[0],Ge=rt[1],it=rt[2]-Ze,et=rt[3]-Ge;if(!(it<0||et<0)||!Z){var Le=[].concat(w);if(["n","w","nw"].includes(c)&&(Le=[T[0]-Math.abs(it),T[1]-Math.abs(et)]),c==="ne"){var dt=[w[0],T[1]];Le=[dt[0],dt[1]-Math.abs(et)]}if(c==="sw"){var mt=[T[0],w[1]];Le=[mt[0]-Math.abs(it),mt[1]]}s&&(["s","n"].includes(c)&&(Le[0]=E[0]-it/2),["e","w"].includes(c)&&(Le[1]=E[1]-et/2)),Oe<0&&(c.includes("e")&&(Le[0]-=Math.abs(it)),c.includes("w")&&(Le[0]+=Math.abs(it))),$e<0&&(c.includes("s")&&(Le[1]-=Math.abs(et)),c.includes("n")&&(Le[1]+=Math.abs(et))),h&&(Le[0]=E[0]-Math.abs(it)/2,Le[1]=E[1]-Math.abs(et)/2);var bt=a.angle,ct=K0(Le,E,bt),Dt=[Le[0]+Math.abs(it)/2,Le[1]+Math.abs(et)/2],sr=K0(Dt,E,bt);Le=K0(ct,sr,-bt);var Mr=qy(a,Oe,$e),tn=Re(Le);tn[0]+=a.x-Ze,tn[1]+=a.y-Ge;var wr=Mc({width:Math.abs(Oe),height:Math.abs($e),x:tn[0],y:tn[1]},Mr);"scale"in l&&"scale"in a&&vt(l,{scale:[(Math.sign(ve)||a.scale[0])*a.scale[0],(Math.sign(_e)||a.scale[1])*a.scale[1]]});var Xr=0,hr=ul(l);hr&&(Xr=du(mn(hr))),wr.width>=Xr&&wr.height!==0&&Number.isFinite(wr.x)&&Number.isFinite(wr.y)&&(vl(l,{newSize:{width:wr.width,height:wr.height}}),vt(l,wr),ki([l],c))}},u3=function(a,s,l,c){var h,m,v=W(Zn(a),4),x=v[0],w=v[1],T=v[2],E=v[3];switch(s){case"se":h=Math.max((l-x)/(T-x),(c-w)/(E-w)),m=function(F,j,z){var K=W(j,2),$=K[0],Z=K[1],oe=W(z,2),se=oe[0],ve=oe[1];return{x:F.x+($-x)*(h-1)+$-se,y:F.y+(Z-w)*(h-1)+Z-ve}};break;case"nw":h=Math.max((T-l)/(T-x),(E-c)/(E-w)),m=function(F,j,z){var K=W(j,4),$=K[2],Z=K[3],oe=W(z,4),se=oe[2],ve=oe[3];return{x:F.x-(T-$)*(h-1)+$-se,y:F.y-(E-Z)*(h-1)+Z-ve}};break;case"ne":h=Math.max((l-x)/(T-x),(E-c)/(E-w)),m=function(F,j,z){var K=W(j,4),$=K[0],Z=K[3],oe=W(z,4),se=oe[0],ve=oe[3];return{x:F.x+($-x)*(h-1)+$-se,y:F.y-(E-Z)*(h-1)+Z-ve}};break;case"sw":h=Math.max((T-l)/(T-x),(c-w)/(E-w)),m=function(F,j,z){var K=W(j,3),$=K[1],Z=K[2],oe=W(z,3),se=oe[1],ve=oe[2];return{x:F.x-(T-Z)*(h-1)+Z-ve,y:F.y+($-w)*(h-1)+$-se}}}if(h>0){var L=a.reduce(function(F,j){if(!F)return F;var z=j.width*h,K=j.height*h,$={};if(Nr(j)){var Z=Vy(j,z,K);if(Z===null)return null;$={fontSize:Z.size,baseline:Z.baseline}}var oe=xr(j),se=qy(j,z,K);vl(j,{newSize:{width:z,height:K},simultaneouslyUpdated:a});var ve=uu(Mc(Mc({},j),se),z,K),_e=m(j,oe,ve),Te=_e.x,Me=_e.y;return[].concat(Re(F),[Mc(Mc({width:z,height:K,x:Te,y:Me},se),$)])},[]);L&&a.forEach(function(F,j){vt(F,L[j])})}},Gy=function(a,s,l,c,h,m,v){var x=5*Math.PI/2+Math.atan2(c-v,l-m);h&&(x+=D.ay/2,x-=x%D.ay),s.forEach(function(w,T){var E,L,F=W(xr(w),4),j=F[0],z=F[1],K=(j+F[2])/2,$=(z+F[3])/2,Z=(E=(L=a.originalElements.get(w.id))===null||L===void 0?void 0:L.angle)!==null&&E!==void 0?E:w.angle,oe=W(Cr(K,$,m,v,x+Z-w.angle),2),se=oe[0],ve=oe[1];vt(w,{x:w.x+(se-K),y:w.y+(ve-$),angle:Qo(x+Z)});var _e=ia(w);if(_e){var Te=gn.getScene(w).getElement(_e);vt(Te,{x:Te.x+(se-K),y:Te.y+(ve-$),angle:Qo(x+Z)})}})},Yy=function(a,s,l,c,h,m){var v,x;if(a){var w=a&&s<l,T=a&&s>l,E=c.originalElements.get(h.id);v=w&&E?E.x:h.x+m.x,x=T&&E?E.y:h.y+m.y}else v=h.x+m.x,x=h.y+m.y;vt(h,{x:v,y:x})},gh=function(a,s,l,c,h,m,v,x,w,T,E){if(w)if(E)x=v/E;else{var L=ii(s,v,m<c?-x:x);v=L.width,(x=L.height)<0&&(x=-x)}var F=h<l?l-v:l,j=m<c?c-x:c;T&&(F=l-(v+=v)/2,j=c-(x+=x)/2),v!==0&&x!==0&&vt(a,{x:F,y:j,width:v,height:x})},gl=function(a){var s=a.options,l=a.value,c=a.onChange,h=a.group;return(0,A.jsx)("div",{className:"buttonList buttonListIcon",children:s.map(function(m){return(0,A.jsxs)("label",{className:Sr({active:l===m.value}),title:m.text,children:[(0,A.jsx)("input",{type:"radio",name:h,onChange:function(){return c(m.value)},checked:l===m.value,"data-testid":m.testId}),m.icon]},m.text)})})},sv=(b(4301),function(a){var s=a.children,l=a.left,c=a.top,h=a.onCloseRequest,m=a.fitInViewport,v=m!==void 0&&m,x=a.offsetLeft,w=x===void 0?0:x,T=a.offsetTop,E=T===void 0?0:T,L=a.viewportWidth,F=L===void 0?window.innerWidth:L,j=a.viewportHeight,z=j===void 0?window.innerHeight:j,K=(0,M.useRef)(null);return(0,M.useLayoutEffect)(function(){if(v&&K.current){var $=K.current,Z=$.getBoundingClientRect(),oe=Z.x,se=Z.y,ve=Z.width,_e=Z.height;oe+ve-w>F&&($.style.left="".concat(F-ve,"px")),se+_e-E>z&&($.style.top="".concat(z-_e,"px"))}},[v,F,z,w,E]),(0,M.useEffect)(function(){if(h){var $=function(Z){var oe;(oe=K.current)!==null&&oe!==void 0&&oe.contains(Z.target)||(0,As.unstable_batchedUpdates)(function(){return h(Z)})};return document.addEventListener("pointerdown",$,!1),function(){return document.removeEventListener("pointerdown",$,!1)}}},[h]),(0,A.jsx)("div",{className:"popover",style:{top:c,left:l},ref:K,children:s})}),Xy=(b(4220),function(a){var s=new Option().style;return s.color=a,!!s.color}),Cu=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),Zy=function(a){var s=a.colors,l=a.color,c=a.onChange,h=a.onClose,m=a.label,v=a.showInput,x=v===void 0||v,w=a.type,T=R().useRef(),E=R().useRef(),L=R().useRef(),F=R().useRef();return R().useEffect(function(){E.current?E.current.focus():F.current?F.current.focus():L.current&&L.current.focus()},[]),(0,A.jsxs)("div",{className:"color-picker color-picker-type-".concat(w),role:"dialog","aria-modal":"true","aria-label":q("labels.colorPicker"),onKeyDown:function(j){if(j.key===Be.TAB){var z,K=document.activeElement;if(j.shiftKey)K===T.current&&((z=F.current)===null||z===void 0||z.focus(),j.preventDefault());else if(K===F.current){var $;($=T.current)===null||$===void 0||$.focus(),j.preventDefault()}}else if(mc(j.key)){var Z=document.activeElement,oe=ze().rtl,se=Array.prototype.indexOf.call(L.current.children,Z);if(se!==-1){var ve=L.current.children.length-(x?1:0),_e=j.key===(oe?Be.ARROW_LEFT:Be.ARROW_RIGHT)?(se+1)%ve:j.key===(oe?Be.ARROW_RIGHT:Be.ARROW_LEFT)?(ve+se-1)%ve:j.key===Be.ARROW_DOWN?(se+5)%ve:j.key===Be.ARROW_UP?(ve+se-5)%ve:se;L.current.children[_e].focus()}j.preventDefault()}else if(Cu.includes(j.key.toLowerCase())&&!Wo(j.target)){var Te=Cu.indexOf(j.key.toLowerCase());L.current.children[Te].focus(),j.preventDefault()}else j.key!==Be.ESCAPE&&j.key!==Be.ENTER||(j.preventDefault(),h());j.nativeEvent.stopImmediatePropagation(),j.stopPropagation()},children:[(0,A.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,A.jsx)("div",{className:"color-picker-triangle"}),(0,A.jsxs)("div",{className:"color-picker-content",ref:function(j){j&&(L.current=j)},tabIndex:0,children:[s.map(function(j,z){var K=j.replace("#","");return(0,A.jsxs)("button",{className:"color-picker-swatch",onClick:function($){$.currentTarget.focus(),c(j)},title:"".concat(q("colors.".concat(K))).concat(Gr(j)?"":" (".concat(j,")")," \u2014 ").concat(Cu[z].toUpperCase()),"aria-label":q("colors.".concat(K)),"aria-keyshortcuts":Cu[z],style:{color:j},ref:function($){$&&z===0&&(T.current=$),$&&j===l&&(E.current=$)},onFocus:function(){c(j)},children:[Gr(j)?(0,A.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,A.jsx)("span",{className:"color-picker-keybinding",children:Cu[z]})]},j)}),x&&(0,A.jsx)(Qy,{color:l,label:m,onChange:function(j){c(j)},ref:F})]})]})},Qy=R().forwardRef(function(a,s){var l=a.color,c=a.onChange,h=a.label,m=W(R().useState(l),2),v=m[0],x=m[1],w=R().useRef(null);R().useEffect(function(){x(l)},[l]),R().useImperativeHandle(s,function(){return w.current});var T=R().useCallback(function(E){var L=E.toLowerCase(),F=function(j){return Gr(j)||Xy(j)?j:Xy("#".concat(j))?"#".concat(j):null}(L);F&&c(F),x(L)},[c]);return(0,A.jsxs)("label",{className:"color-input-container",children:[(0,A.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,A.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":h,onChange:function(E){return T(E.target.value)},value:(v||"").replace(/^#/,""),onBlur:function(){return x(l)},ref:w})]})}),lv=function(a){var s=a.type,l=a.color,c=a.onChange,h=a.label,m=a.isActive,v=a.setActive,x=R().useRef(null);return(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:"color-picker-control-container",children:[(0,A.jsx)("button",{className:"color-picker-label-swatch","aria-label":h,style:l?{"--swatch-color":l}:void 0,onClick:function(){return v(!m)},ref:x}),(0,A.jsx)(Qy,{color:l,label:h,onChange:function(w){c(w)}})]}),(0,A.jsx)(R().Suspense,{fallback:"",children:m?(0,A.jsx)(sv,{onCloseRequest:function(w){return w.target!==x.current&&v(!1)},children:(0,A.jsx)(Zy,{colors:il[s],color:l||null,onChange:function(w){c(w)},onClose:function(){var w;v(!1),(w=x.current)===null||w===void 0||w.focus()},label:h,showInput:!1,type:s})}):null})]})};b(7117);function Jy(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function e2(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?Jy(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):Jy(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}function c3(a){var s=a.options,l=a.value,c=a.label,h=a.onChange,m=a.onClose,v=R().useRef(),x=R().useRef(),w=R().useRef(null);return R().useEffect(function(){x.current?x.current.focus():w.current&&w.current.focus()},[]),(0,A.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":c,onKeyDown:function(T){var E=s.find(function(Z){return Z.keyBinding===T.key.toLowerCase()});if(T.metaKey||T.altKey||T.ctrlKey||!E)if(T.key===Be.TAB)setTimeout(function(){x.current!==document.activeElement&&m()},0);else if(mc(T.key)){var L=document.activeElement,F=ze().rtl,j=Array.prototype.indexOf.call(w.current.children,L);if(j!==-1){var z=s.length,K=j;switch(T.key){case(F?Be.ARROW_LEFT:Be.ARROW_RIGHT):case Be.ARROW_DOWN:K=(j+1)%z;break;case(F?Be.ARROW_RIGHT:Be.ARROW_LEFT):case Be.ARROW_UP:K=(z+j-1)%z}w.current.children[K].focus()}T.preventDefault()}else T.key!==Be.ESCAPE&&T.key!==Be.ENTER||(T.preventDefault(),m());else{var $=s.indexOf(E);w.current.children[$].focus(),T.preventDefault()}T.nativeEvent.stopImmediatePropagation(),T.stopPropagation()},children:(0,A.jsx)("div",{className:"picker-content",ref:w,children:s.map(function(T,E){return(0,A.jsxs)("button",{className:"picker-option",onClick:function(L){L.currentTarget.focus(),h(T.value)},title:"".concat(T.text," \u2014 ").concat(T.keyBinding.toUpperCase()),"aria-label":T.text||"none","aria-keyshortcuts":T.keyBinding,ref:function(L){L&&E===0&&(v.current=L),L&&T.value===l&&(x.current=L)},onFocus:function(){h(T.value)},children:[T.icon,(0,A.jsx)("span",{className:"picker-keybinding",children:T.keyBinding})]},T.text)})})})}function t2(a){var s,l=a.value,c=a.label,h=a.options,m=a.onChange,v=a.group,x=v===void 0?"":v,w=W(R().useState(!1),2),T=w[0],E=w[1],L=R().useRef(null),F=ze().rtl;return(0,A.jsxs)("label",{className:"picker-container",children:[(0,A.jsx)("button",{name:x,className:T?"active":"","aria-label":c,onClick:function(){return E(!T)},ref:L,children:(s=h.find(function(j){return j.value===l}))===null||s===void 0?void 0:s.icon}),(0,A.jsx)(R().Suspense,{fallback:"",children:T?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(sv,e2(e2({onCloseRequest:function(j){return j.target!==L.current&&E(!1)}},F?{right:5.5}:{left:-5.5}),{},{children:(0,A.jsx)(c3,{options:h,value:l,label:c,onChange:m,onClose:function(){var j;E(!1),(j=L.current)===null||j===void 0||j.focus()}})})),(0,A.jsx)("div",{className:"picker-triangle"})]}):null})]})}var yn=function(a){return a===D.C6.LIGHT?fr.orange[4]:fr.orange[9]},Mf=function(a){return a===D.C6.LIGHT?fr.white:"#1e1e1e"},gt=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,l=typeof s=="number"?{width:s}:s,c=l.width,h=c===void 0?512:c,m=l.height,v=m===void 0?h:m,x=l.mirror,w=l.style;return(0,A.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(h," ").concat(v),className:Sr({"rtl-mirror":x}),style:w,children:typeof a=="string"?(0,A.jsx)("path",{fill:"currentColor",d:a}):a})},f3=gt((0,A.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),r2=gt("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",{mirror:!0}),d3=gt("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),n2=gt("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),uv=gt("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),h3=gt("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),yh=gt("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),p3=gt("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),bh=gt("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),m3=gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-187 44v-64 64z"}),(0,A.jsx)("path",{d:"M384 121.941V128H256V0h6.059c6.362 0 12.471 2.53 16.97 7.029l97.941 97.941a24.01 24.01 0 017.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"})]}),{width:576,height:512,mirror:!0}),i2=gt("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),wh=gt("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),a2=gt("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),o2=gt("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),cv=gt("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),s2=gt("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",{mirror:!0}),l2=gt("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",{mirror:!0}),u2=gt("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),v3=(gt("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),gt("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,A.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),gt((0,A.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,A.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:yn(s),stroke:yn(s),strokeWidth:"2"})]}),{width:24,mirror:!0})})),xh=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:yn(s),stroke:yn(s),strokeWidth:"2"}),(0,A.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"})]}),{width:24,mirror:!0})}),kh=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,A.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:yn(s),stroke:yn(s),strokeWidth:"2"})]}),{width:24,mirror:!0})}),g3=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:yn(s),stroke:yn(s),strokeWidth:"2"}),(0,A.jsx)("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"})]}),{width:24,mirror:!0})}),fv=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M 2,5 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:yn(s),stroke:yn(s),strokeWidth:"2"})]}),{width:24,mirror:!0})}),c2=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M 2,19 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",fill:yn(s),stroke:yn(s),strokeWidth:"2"})]}),{width:24,mirror:!0})}),y3=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M 5,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",fill:yn(s),stroke:yn(s),strokeWidth:"2"})]}),{width:24})}),xo=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M 19,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",fill:yn(s),stroke:yn(s),strokeWidth:"2"})]}),{width:24})}),b3=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M19 5V19M5 5V19",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:yn(s),stroke:yn(s),strokeWidth:"2"})]}),{width:24})}),w3=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M5 5L19 5M5 19H19",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:yn(s),stroke:yn(s),strokeWidth:"2"})]}),{width:24})}),Eu=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:yn(s),stroke:yn(s),strokeWidth:"2"}),(0,A.jsx)("path",{d:"M 2,12 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24,mirror:!0})}),ur=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:yn(s),stroke:yn(s),strokeWidth:"2"}),(0,A.jsx)("path",{d:"M 12,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24})}),x3=gt("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",{width:640,height:512,mirror:!0}),Ri=(gt("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),gt("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),gt("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",{width:352,height:512})),Kn=gt("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),yl=gt("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),k3=(gt("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),gt("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512})),dv=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,A.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,A.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,A.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,A.jsxs)("g",{fill:Mf(s),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,A.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),zs=R().memo(function(a){var s=a.theme;return gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,A.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,A.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,A.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,A.jsxs)("g",{fill:Mf(s),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,A.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,A.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),f2=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",fill:"var(--icon-fill-color)"}),{width:40,height:20})}),_h=R().memo(function(a){return a.theme,gt((0,A.jsxs)("g",{fill:"var(--icon-fill-color)",fillRule:"evenodd",clipRule:"evenodd",children:[(0,A.jsx)("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),(0,A.jsx)("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})]}),{width:40,height:20})}),An=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M2 2H38V18H2V2Z",fill:"var(--icon-fill-color)"}),{width:40,height:20})}),_n=R().memo(function(a){a.theme;var s=a.strokeWidth;return gt((0,A.jsx)("path",{d:"M6 10H32",stroke:"var(--icon-fill-color)",strokeWidth:s,strokeLinecap:"round",fill:"none"}),{width:40,height:20})}),d2=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),h2=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),Df=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M6 10H36",stroke:"var(--icon-fill-color)",strokeWidth:2.5,strokeDasharray:"2, 4.5",fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),hv=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),p2=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),Sh=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),Sa=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M10 17L10 5L35 5",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),Dc=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),m2=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none"}),{width:40,height:20})}),v2=R().memo(function(a){a.theme;var s=a.flip,l=s!==void 0&&s;return gt((0,A.jsxs)("g",{transform:l?"translate(40, 0) scale(-1, 1)":"",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",children:[(0,A.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,A.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),pv=R().memo(function(a){a.theme;var s=a.flip,l=s!==void 0&&s;return gt((0,A.jsxs)("g",{stroke:"var(--icon-fill-color)",fill:"var(--icon-fill-color)",transform:l?"translate(40, 0) scale(-1, 1)":"",children:[(0,A.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,A.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),Jo=R().memo(function(a){a.theme;var s=a.flip,l=s!==void 0&&s;return gt((0,A.jsx)("g",{transform:l?"translate(40, 0) scale(-1, 1)":"",children:(0,A.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),dr=R().memo(function(a){a.theme;var s=a.flip,l=s!==void 0&&s;return gt((0,A.jsxs)("g",{stroke:"var(--icon-fill-color)",fill:"var(--icon-fill-color)",transform:l?"translate(40, 0) scale(-1, 1)":"",children:[(0,A.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,A.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),g2=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 0 69.092 L 0 55.03 A 124.24 124.24 0 0 0 4.706 57.02 Q 6.826 57.863 8.708 58.5 A 53.466 53.466 0 0 0 12.231 59.571 Q 17.236 60.889 21.387 60.889 A 20.909 20.909 0 0 0 24.265 60.704 Q 25.719 60.502 26.903 60.077 A 8.649 8.649 0 0 0 29.028 58.985 Q 31.689 57.08 31.689 53.321 Q 31.689 51.221 30.518 49.585 A 10.126 10.126 0 0 0 29.282 48.177 Q 28.352 47.287 27.075 46.436 A 23.719 23.719 0 0 0 25.752 45.627 Q 23.774 44.492 20.176 42.735 A 254.44 254.44 0 0 0 17.822 41.602 Q 11.503 38.631 8.236 35.888 A 19.742 19.742 0 0 1 8.008 35.694 A 22.18 22.18 0 0 1 2.783 29.102 Q 0.83 25.342 0.83 20.313 A 22.471 22.471 0 0 1 1.733 13.778 A 17.283 17.283 0 0 1 7.251 5.42 A 21.486 21.486 0 0 1 15.177 1.272 Q 18.361 0.338 22.166 0.09 A 43.573 43.573 0 0 1 25 0 A 42.399 42.399 0 0 1 34.349 1.01 A 39.075 39.075 0 0 1 35.62 1.319 A 67.407 67.407 0 0 1 42.108 3.382 A 83.357 83.357 0 0 1 46.191 5.03 L 41.309 16.797 Q 35.596 14.453 31.86 13.526 A 30.762 30.762 0 0 0 25.417 12.612 A 28.337 28.337 0 0 0 24.512 12.598 A 14.846 14.846 0 0 0 22.022 12.793 Q 19.498 13.224 17.92 14.6 Q 15.625 16.602 15.625 19.824 Q 15.625 21.826 16.553 23.316 Q 17.48 24.805 19.507 26.197 A 18.343 18.343 0 0 0 20.659 26.912 Q 22.596 28.035 26.516 29.953 A 299.99 299.99 0 0 0 29.102 31.201 Q 37.91 35.412 41.841 39.642 A 16.553 16.553 0 0 1 42.822 40.796 A 17.675 17.675 0 0 1 46.301 49.233 A 23.517 23.517 0 0 1 46.533 52.588 A 21.581 21.581 0 0 1 45.471 59.515 A 17.733 17.733 0 0 1 39.575 67.823 Q 33.745 72.486 24.094 73.243 A 49.683 49.683 0 0 1 20.215 73.389 A 51.712 51.712 0 0 1 9.448 72.315 A 40.672 40.672 0 0 1 0 69.092 Z"}),{width:47,height:77})}),Ya=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 44.092 71.387 L 30.225 71.387 L 13.037 15.381 L 12.598 15.381 A 1505.093 1505.093 0 0 1 12.959 22.313 Q 13.426 31.715 13.508 36.4 A 102.991 102.991 0 0 1 13.525 38.184 L 13.525 71.387 L 0 71.387 L 0 0 L 20.605 0 L 37.5 54.59 L 37.793 54.59 L 55.713 0 L 76.318 0 L 76.318 71.387 L 62.207 71.387 L 62.207 37.598 Q 62.207 35.205 62.28 32.08 A 160.703 160.703 0 0 1 62.326 30.544 Q 62.452 26.754 62.866 17.168 A 5390.536 5390.536 0 0 1 62.939 15.479 L 62.5 15.479 L 44.092 71.387 Z"}),{width:77,height:75})}),y2=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 44.092 71.387 L 0 71.387 L 0 0 L 15.137 0 L 15.137 58.887 L 44.092 58.887 L 44.092 71.387 Z"}),{width:45,height:75})}),$r=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 42.578 35.4 L 66.699 71.387 L 49.414 71.387 L 32.813 44.385 L 16.211 71.387 L 0 71.387 L 23.682 34.57 L 1.514 0 L 18.213 0 L 33.594 25.684 L 48.682 0 L 64.99 0 L 42.578 35.4 Z M 119.775 71.387 L 75.684 71.387 L 75.684 0 L 90.82 0 L 90.82 58.887 L 119.775 58.887 L 119.775 71.387 Z"}),{width:120,height:75})}),_3=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}),{width:448,height:512})}),b2=R().memo(function(a){return a.theme,gt((0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 63.818 71.68 L 54.492 71.68 L 45.898 49.561 L 17.578 49.561 L 9.082 71.68 L 0 71.68 L 27.881 0 L 35.986 0 L 63.818 71.68 Z M 20.605 41.602 L 43.213 41.602 L 35.205 19.971 L 31.787 9.277 Q 30.322 15.137 28.711 19.971 L 20.605 41.602 Z"}),(0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 68.994 71.68 L 52.686 71.68 L 47.51 54.688 L 21.484 54.688 L 16.309 71.68 L 0 71.68 L 25.195 0 L 43.701 0 L 68.994 71.68 Z M 25.293 41.992 L 43.896 41.992 A 27590.463 27590.463 0 0 1 42.2 36.532 Q 36.965 19.676 35.937 16.273 A 120.932 120.932 0 0 1 35.815 15.869 A 131.65 131.65 0 0 1 35.396 14.435 Q 34.951 12.879 34.675 11.741 A 34.866 34.866 0 0 1 34.521 11.084 A 141.762 141.762 0 0 1 33.706 14.075 Q 31.482 21.957 25.293 41.992 Z"})]}),{width:70,height:78})}),Ch=R().memo(function(a){return a.theme,gt((0,A.jsx)(A.Fragment,{children:(0,A.jsx)("path",{fill:"var(--icon-fill-color)",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})}),{width:640,height:512})}),S3=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M12.83 352h262.34A12.82 12.82 0 00288 339.17v-38.34A12.82 12.82 0 00275.17 288H12.83A12.82 12.82 0 000 300.83v38.34A12.82 12.82 0 0012.83 352zm0-256h262.34A12.82 12.82 0 00288 83.17V44.83A12.82 12.82 0 00275.17 32H12.83A12.82 12.82 0 000 44.83v38.34A12.82 12.82 0 0012.83 96zM432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})}),C3=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zM108.1 96h231.81A12.09 12.09 0 00352 83.9V44.09A12.09 12.09 0 00339.91 32H108.1A12.09 12.09 0 0096 44.09V83.9A12.1 12.1 0 00108.1 96zm231.81 256A12.09 12.09 0 00352 339.9v-39.81A12.09 12.09 0 00339.91 288H108.1A12.09 12.09 0 0096 300.09v39.81a12.1 12.1 0 0012.1 12.1z",fill:"var(--icon-fill-color)"}),{width:448,height:512})}),E3=R().memo(function(a){return a.theme,gt((0,A.jsx)("path",{d:"M16 224h416a16 16 0 0016-16v-32a16 16 0 00-16-16H16a16 16 0 00-16 16v32a16 16 0 0016 16zm416 192H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm3.17-384H172.83A12.82 12.82 0 00160 44.83v38.34A12.82 12.82 0 00172.83 96h262.34A12.82 12.82 0 00448 83.17V44.83A12.82 12.82 0 00435.17 32zm0 256H172.83A12.82 12.82 0 00160 300.83v38.34A12.82 12.82 0 00172.83 352h262.34A12.82 12.82 0 00448 339.17v-38.34A12.82 12.82 0 00435.17 288z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})}),T3=gt((0,A.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),mv=gt((0,A.jsx)("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"}),{width:640,height:512}),bl=function(a){return a==="rectangle"||a==="ellipse"||a==="diamond"||a==="line"||a==="freedraw"},vv=function(a){return a!=="image"},w2=function(a){return a==="rectangle"||a==="ellipse"||a==="diamond"||a==="freedraw"||a==="arrow"||a==="line"},x2=function(a){return a==="rectangle"||a==="ellipse"||a==="diamond"||a==="arrow"||a==="line"},Jn=function(a){return a==="rectangle"||a==="arrow"||a==="line"||a==="diamond"},$i=function(a){return a==="text"},Eh=function(a){return a==="arrow"},k2=function(a,s){for(var l=null,c=a.length-1;c>=0;--c){var h=a[c];if(!h.isDeleted&&s(h)){l=h;break}}return l},O3=function(a,s){return a.filter(function(l){return!l.isDeleted&&s(l)})},_2=function(a,s,l){for(var c=null,h=a.length-1;h>=0;--h)if(!a[h].isDeleted){var m=W(xr(a[h]),4),v=m[0],x=m[1],w=m[2],T=m[3];if(v<s&&s<w&&x<l&&l<T){c=a[h];break}}return c},Th=[],_t=function(a){return Th=Th.concat(a),a};function gv(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Rr(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?gv(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):gv(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var Xa=function(a,s,l){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=Ni(Fe(a,s,c));return a.map(function(m){var v;return h.get(m.id)||m.id===((v=s.editingElement)===null||v===void 0?void 0:v.id)?l(m):m})},sa=function(a,s,l,c){var h,m,v=s.editingElement,x=be(a);return(h=(m=v&&l(v))!==null&&m!==void 0?m:Ct(x,s)?Qe(x,s,l):c)!==null&&h!==void 0?h:null},Oh=function(a,s,l,c){var h=new Set;return{elements:Xa(a,s,function(m){if(Nr(m)){var v=l(m);h.add(v);var x=an(m,{fontSize:v});return Qd(x,Hi(m)),w=m,x=Ba(T=x)?T:vt(T,{x:w.textAlign==="left"?w.x:w.x+(w.width-T.width)/(w.textAlign==="center"?2:1),y:w.y+(w.height-T.height)/2},!1)}var w,T;return m},!0),appState:Rr(Rr({},s),{},{currentItemFontSize:h.size===1?Re(h)[0]:c!=null?c:s.currentItemFontSize}),commitToHistory:!0}},S2=(_t({name:"changeStrokeColor",perform:function(a,s,l){return Rr(Rr({},l.currentItemStrokeColor&&{elements:Xa(a,s,function(c){return vv(c.type)?an(c,{strokeColor:l.currentItemStrokeColor}):c},!0)}),{},{appState:Rr(Rr({},s),l),commitToHistory:!!l.currentItemStrokeColor})},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("h3",{"aria-hidden":"true",children:q("labels.stroke")}),(0,A.jsx)(lv,{type:"elementStroke",label:q("labels.stroke"),color:sa(s,l,function(h){return h.strokeColor},l.currentItemStrokeColor),onChange:function(h){return c({currentItemStrokeColor:h})},isActive:l.openPopup==="strokeColorPicker",setActive:function(h){return c({openPopup:h?"strokeColorPicker":null})}})]})}}),_t({name:"changeBackgroundColor",perform:function(a,s,l){return Rr(Rr({},l.currentItemBackgroundColor&&{elements:Xa(a,s,function(c){return an(c,{backgroundColor:l.currentItemBackgroundColor})})}),{},{appState:Rr(Rr({},s),l),commitToHistory:!!l.currentItemBackgroundColor})},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("h3",{"aria-hidden":"true",children:q("labels.background")}),(0,A.jsx)(lv,{type:"elementBackground",label:q("labels.background"),color:sa(s,l,function(h){return h.backgroundColor},l.currentItemBackgroundColor),onChange:function(h){return c({currentItemBackgroundColor:h})},isActive:l.openPopup==="backgroundColorPicker",setActive:function(h){return c({openPopup:h?"backgroundColorPicker":null})}})]})}}),_t({name:"changeFillStyle",perform:function(a,s,l){return{elements:Xa(a,s,function(c){return an(c,{fillStyle:l})}),appState:Rr(Rr({},s),{},{currentItemFillStyle:l}),commitToHistory:!0}},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.fill")}),(0,A.jsx)(gl,{options:[{value:"hachure",text:q("labels.hachure"),icon:(0,A.jsx)(f2,{theme:l.theme})},{value:"cross-hatch",text:q("labels.crossHatch"),icon:(0,A.jsx)(_h,{theme:l.theme})},{value:"solid",text:q("labels.solid"),icon:(0,A.jsx)(An,{theme:l.theme})}],group:"fill",value:sa(s,l,function(h){return h.fillStyle},l.currentItemFillStyle),onChange:function(h){c(h)}})]})}}),_t({name:"changeStrokeWidth",perform:function(a,s,l){return{elements:Xa(a,s,function(c){return an(c,{strokeWidth:l})}),appState:Rr(Rr({},s),{},{currentItemStrokeWidth:l}),commitToHistory:!0}},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.strokeWidth")}),(0,A.jsx)(gl,{group:"stroke-width",options:[{value:1,text:q("labels.thin"),icon:(0,A.jsx)(_n,{theme:l.theme,strokeWidth:2})},{value:2,text:q("labels.bold"),icon:(0,A.jsx)(_n,{theme:l.theme,strokeWidth:6})},{value:4,text:q("labels.extraBold"),icon:(0,A.jsx)(_n,{theme:l.theme,strokeWidth:10})}],value:sa(s,l,function(h){return h.strokeWidth},l.currentItemStrokeWidth),onChange:function(h){return c(h)}})]})}}),_t({name:"changeSloppiness",perform:function(a,s,l){return{elements:Xa(a,s,function(c){return an(c,{seed:mu(),roughness:l})}),appState:Rr(Rr({},s),{},{currentItemRoughness:l}),commitToHistory:!0}},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.sloppiness")}),(0,A.jsx)(gl,{group:"sloppiness",options:[{value:0,text:q("labels.architect"),icon:(0,A.jsx)(hv,{theme:l.theme})},{value:1,text:q("labels.artist"),icon:(0,A.jsx)(p2,{theme:l.theme})},{value:2,text:q("labels.cartoonist"),icon:(0,A.jsx)(Sh,{theme:l.theme})}],value:sa(s,l,function(h){return h.roughness},l.currentItemRoughness),onChange:function(h){return c(h)}})]})}}),_t({name:"changeStrokeStyle",perform:function(a,s,l){return{elements:Xa(a,s,function(c){return an(c,{strokeStyle:l})}),appState:Rr(Rr({},s),{},{currentItemStrokeStyle:l}),commitToHistory:!0}},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.strokeStyle")}),(0,A.jsx)(gl,{group:"strokeStyle",options:[{value:"solid",text:q("labels.strokeStyle_solid"),icon:(0,A.jsx)(d2,{theme:l.theme})},{value:"dashed",text:q("labels.strokeStyle_dashed"),icon:(0,A.jsx)(h2,{theme:l.theme})},{value:"dotted",text:q("labels.strokeStyle_dotted"),icon:(0,A.jsx)(Df,{theme:l.theme})}],value:sa(s,l,function(h){return h.strokeStyle},l.currentItemStrokeStyle),onChange:function(h){return c(h)}})]})}}),_t({name:"changeOpacity",perform:function(a,s,l){return{elements:Xa(a,s,function(c){return an(c,{opacity:l})}),appState:Rr(Rr({},s),{},{currentItemOpacity:l}),commitToHistory:!0}},PanelComponent:function(a){var s,l=a.elements,c=a.appState,h=a.updateData;return(0,A.jsxs)("label",{className:"control-label",children:[q("labels.opacity"),(0,A.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(m){return h(+m.target.value)},onWheel:function(m){m.stopPropagation();var v=+m.target.value;m.deltaY<0&&v<100?h(v+10):m.deltaY>0&&v>0&&h(v-10)},value:(s=sa(l,c,function(m){return m.opacity},c.currentItemOpacity))!==null&&s!==void 0?s:void 0})]})}}),_t({name:"changeFontSize",perform:function(a,s,l){return Oh(a,s,function(){return l},l)},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.fontSize")}),(0,A.jsx)(gl,{group:"font-size",options:[{value:16,text:q("labels.small"),icon:(0,A.jsx)(g2,{theme:l.theme}),testId:"fontSize-small"},{value:20,text:q("labels.medium"),icon:(0,A.jsx)(Ya,{theme:l.theme}),testId:"fontSize-medium"},{value:28,text:q("labels.large"),icon:(0,A.jsx)(y2,{theme:l.theme}),testId:"fontSize-large"},{value:36,text:q("labels.veryLarge"),icon:(0,A.jsx)($r,{theme:l.theme}),testId:"fontSize-veryLarge"}],value:sa(s,l,function(h){if(Nr(h))return h.fontSize;var m=ul(h);return m?m.fontSize:null},l.currentItemFontSize||D.n5),onChange:function(h){return c(h)}})]})}}),_t({name:"decreaseFontSize",perform:function(a,s,l){return Oh(a,s,function(c){return Math.round(1/1.1*c.fontSize)})},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.shiftKey&&(a.key===Be.CHEVRON_LEFT||a.key===Be.COMMA)}})),C2=_t({name:"increaseFontSize",perform:function(a,s,l){return Oh(a,s,function(c){return Math.round(1.1*c.fontSize)})},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.shiftKey&&(a.key===Be.CHEVRON_RIGHT||a.key===Be.PERIOD)}});_t({name:"changeFontFamily",perform:function(a,s,l){return{elements:Xa(a,s,function(c){if(Nr(c)){var h=an(c,{fontFamily:l});return Qd(h,Hi(c)),h}return c},!0),appState:Rr(Rr({},s),{},{currentItemFontFamily:l}),commitToHistory:!0}},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData,h=[{value:D.ut.Virgil,text:q("labels.handDrawn"),icon:(0,A.jsx)(_3,{theme:l.theme})},{value:D.ut.Helvetica,text:q("labels.normal"),icon:(0,A.jsx)(b2,{theme:l.theme})},{value:D.ut.Cascadia,text:q("labels.code"),icon:(0,A.jsx)(Ch,{theme:l.theme})}];return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.fontFamily")}),(0,A.jsx)(gl,{group:"font-family",options:h,value:sa(s,l,function(m){if(Nr(m))return m.fontFamily;var v=ul(m);return v?v.fontFamily:null},l.currentItemFontFamily||D.rk),onChange:function(m){return c(m)}})]})}}),_t({name:"changeTextAlign",perform:function(a,s,l){return{elements:Xa(a,s,function(c){if(Nr(c)){var h=an(c,{textAlign:l});return Qd(h,Hi(c)),h}return c},!0),appState:Rr(Rr({},s),{},{currentItemTextAlign:l}),commitToHistory:!0}},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.textAlign")}),(0,A.jsx)(gl,{group:"text-align",options:[{value:"left",text:q("labels.left"),icon:(0,A.jsx)(S3,{theme:l.theme})},{value:"center",text:q("labels.center"),icon:(0,A.jsx)(C3,{theme:l.theme})},{value:"right",text:q("labels.right"),icon:(0,A.jsx)(E3,{theme:l.theme})}],value:sa(s,l,function(h){if(Nr(h))return h.textAlign;var m=ul(h);return m?m.textAlign:null},l.currentItemTextAlign),onChange:function(h){return c(h)}})]})}}),_t({name:"changeSharpness",perform:function(a,s,l){var c=$t(be(a),s),h=c.length?c.every(function(v){return!un(v)}):!tl(s.elementType),m=c.length?c.every(un):tl(s.elementType);return{elements:Xa(a,s,function(v){return an(v,{strokeSharpness:l})}),appState:Rr(Rr({},s),{},{currentItemStrokeSharpness:h?l:s.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:m?l:s.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.edges")}),(0,A.jsx)(gl,{group:"edges",options:[{value:"sharp",text:q("labels.sharp"),icon:(0,A.jsx)(Sa,{theme:l.theme})},{value:"round",text:q("labels.round"),icon:(0,A.jsx)(Dc,{theme:l.theme})}],value:sa(s,l,function(h){return h.strokeSharpness},Jn(l.elementType)&&(tl(l.elementType)?l.currentItemLinearStrokeSharpness:l.currentItemStrokeSharpness)||null),onChange:function(h){return c(h)}})]})}}),_t({name:"changeArrowhead",perform:function(a,s,l){return{elements:Xa(a,s,function(c){if(un(c)){var h=l.position,m=l.type;if(h==="start")return an(c,{startArrowhead:m});if(h==="end")return an(c,{endArrowhead:m})}return c}),appState:Rr(Rr({},s),{},we({},l.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",l.type)),commitToHistory:!0}},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData,h=ze().rtl;return(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.arrowheads")}),(0,A.jsxs)("div",{className:"iconSelectList",children:[(0,A.jsx)(t2,{label:"arrowhead_start",options:[{value:null,text:q("labels.arrowhead_none"),icon:(0,A.jsx)(m2,{theme:l.theme}),keyBinding:"q"},{value:"arrow",text:q("labels.arrowhead_arrow"),icon:(0,A.jsx)(v2,{theme:l.theme,flip:!h}),keyBinding:"w"},{value:"bar",text:q("labels.arrowhead_bar"),icon:(0,A.jsx)(Jo,{theme:l.theme,flip:!h}),keyBinding:"e"},{value:"dot",text:q("labels.arrowhead_dot"),icon:(0,A.jsx)(pv,{theme:l.theme,flip:!h}),keyBinding:"r"},{value:"triangle",text:q("labels.arrowhead_triangle"),icon:(0,A.jsx)(dr,{theme:l.theme,flip:!h}),keyBinding:"t"}],value:sa(s,l,function(m){return un(m)&&Eh(m.type)?m.startArrowhead:l.currentItemStartArrowhead},l.currentItemStartArrowhead),onChange:function(m){return c({position:"start",type:m})}}),(0,A.jsx)(t2,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:q("labels.arrowhead_none"),keyBinding:"q",icon:(0,A.jsx)(m2,{theme:l.theme})},{value:"arrow",text:q("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,A.jsx)(v2,{theme:l.theme,flip:h})},{value:"bar",text:q("labels.arrowhead_bar"),keyBinding:"e",icon:(0,A.jsx)(Jo,{theme:l.theme,flip:h})},{value:"dot",text:q("labels.arrowhead_dot"),keyBinding:"r",icon:(0,A.jsx)(pv,{theme:l.theme,flip:h})},{value:"triangle",text:q("labels.arrowhead_triangle"),icon:(0,A.jsx)(dr,{theme:l.theme,flip:h}),keyBinding:"t"}],value:sa(s,l,function(m){return un(m)&&Eh(m.type)?m.endArrowhead:l.currentItemEndArrowhead},l.currentItemEndArrowhead),onChange:function(m){return c({position:"end",type:m})}})]})]})}}),b(5422);function A3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yv(a,s,l){return yv=A3()?Reflect.construct:function(c,h,m){var v=[null];v.push.apply(v,h);var x=new(Function.bind.apply(c,v));return m&&Kt(x,m.prototype),x},yv.apply(null,arguments)}function Ah(a){var s=typeof Map=="function"?new Map:void 0;return Ah=function(l){if(l===null||(c=l,Function.toString.call(c).indexOf("[native code]")===-1))return l;var c;if(typeof l!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(l))return s.get(l);s.set(l,h)}function h(){return yv(l,arguments,rn(this).constructor)}return h.prototype=Object.create(l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),Kt(h,l)},Ah(a)}function E2(a){var s=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,c=rn(a);if(s){var h=rn(this).constructor;l=Reflect.construct(c,arguments,h)}else l=c.apply(this,arguments);return Jr(this,l)}}var Ih=function(a){br(l,a);var s=E2(l);function l(){var c,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return Ke(this,l),(c=s.call(this)).name=m,c.message=h,c}return At(l)}(Ah(Error)),bv=function(a){br(l,a);var s=E2(l);function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return Ke(this,l),s.call(this,c,"AbortError")}return At(l)}(Ah(DOMException)),wv=(b(371),function(a){var s=a.size,l=s===void 0?"1em":s,c=a.circleWidth,h=c===void 0?8:c;return(0,A.jsx)("div",{className:"Spinner",children:(0,A.jsx)("svg",{viewBox:"0 0 100 100",style:{width:l,height:l},children:(0,A.jsx)("circle",{cx:"50",cy:"50",r:50-h/2,strokeWidth:h,fill:"none",strokeMiterlimit:"10"})})})}),tr=R().forwardRef(function(a,s){var l=Gh().id,c=R().useRef(null);R().useImperativeHandle(s,function(){return c.current});var h="ToolIcon_size_".concat(a.size),m=W((0,M.useState)(!1),2),v=m[0],x=m[1],w=(0,M.useRef)(!0),T=function(){var F=(0,V.Z)(ie().mark(function j(z){var K,$;return ie().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!($="onClick"in a&&((K=a.onClick)===null||K===void 0?void 0:K.call(a,z)))||!("then"in $)){Z.next=18;break}return Z.prev=2,x(!0),Z.next=6,$;case 6:Z.next=15;break;case 8:if(Z.prev=8,Z.t0=Z.catch(2),Z.t0 instanceof bv){Z.next=14;break}throw Z.t0;case 14:console.warn(Z.t0);case 15:return Z.prev=15,w.current&&x(!1),Z.finish(15);case 18:case"end":return Z.stop()}},j,null,[[2,8,15,18]])}));return function(j){return F.apply(this,arguments)}}();(0,M.useEffect)(function(){return function(){w.current=!1}},[]);var E=(0,M.useRef)(null);if(a.type==="button"||a.type==="icon"||a.type==="submit"){var L=a.type==="icon"?"button":a.type;return(0,A.jsxs)("button",{className:Sr("ToolIcon_type_button",h,a.className,a.visible&&!a.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!a.hidden,"ToolIcon--selected":a.selected,"ToolIcon--plain":a.type==="icon"}),"data-testid":a["data-testid"],hidden:a.hidden,title:a.title,"aria-label":a["aria-label"],type:L,onClick:T,ref:c,disabled:v||a.isLoading,children:[(a.icon||a.label)&&(0,A.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[a.icon||a.label,a.keyBindingLabel&&(0,A.jsx)("span",{className:"ToolIcon__keybinding",children:a.keyBindingLabel}),a.isLoading&&(0,A.jsx)(wv,{})]}),a.showAriaLabel&&(0,A.jsxs)("div",{className:"ToolIcon__label",children:[a["aria-label"]," ",v&&(0,A.jsx)(wv,{})]}),a.children]})}return(0,A.jsxs)("label",{className:Sr("ToolIcon",a.className),title:a.title,onPointerDown:function(F){E.current=F.pointerType||null},onPointerUp:function(){requestAnimationFrame(function(){E.current=null})},children:[(0,A.jsx)("input",{className:"ToolIcon_type_radio ".concat(h),type:"radio",name:a.name,"aria-label":a["aria-label"],"aria-keyshortcuts":a["aria-keyshortcuts"],"data-testid":a["data-testid"],id:"".concat(l,"-").concat(a.id),onChange:function(){var F;(F=a.onChange)===null||F===void 0||F.call(a,{pointerType:E.current})},checked:a.checked,ref:c}),(0,A.jsxs)("div",{className:"ToolIcon__icon",children:[a.icon,a.keyBindingLabel&&(0,A.jsx)("span",{className:"ToolIcon__keybinding",children:a.keyBindingLabel})]})]})});tr.defaultProps={visible:!0,className:"",size:"medium"};var Mh=function(a){var s=a.title||(a.value==="dark"?q("buttons.lightMode"):q("buttons.darkMode"));return(0,A.jsx)(tr,{type:"icon",icon:a.value===D.C6.LIGHT?T2.MOON:T2.SUN,title:s,"aria-label":s,onClick:function(){return a.onChange(a.value===D.C6.DARK?D.C6.LIGHT:D.C6.DARK)},"data-testid":"toggle-dark-mode"})},T2={SUN:(0,A.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,A.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,A.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,A.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},xv=function(a){var s=a.scenePoint,l=a.viewportDimensions,c=a.zoom;return{scrollX:l.width/2*(1/c.value)-s.x,scrollY:l.height/2*(1/c.value)-s.y}},ci=function(a,s,l){if(!(a=xe(a)).length)return{scrollX:0,scrollY:0};var c=W(Zn(a),4),h=c[0],m=c[1],v=c[2],x=c[3];if(function(E,L,F){var j=W(F,4),z=j[0],K=j[1],$=j[2],Z=j[3],oe=qe({sceneX:z,sceneY:K},E),se=oe.x,ve=oe.y,_e=qe({sceneX:$,sceneY:Z},E),Te=_e.x,Me=_e.y;return Te-se>E.width||Me-ve>E.height}(s,0,[h,m,v,x])){var w=function(E,L){if(!E.length)return[0,0,0,0];var F=1/0,j=E[0];return E.forEach(function(z){var K=W(dc(z),4),$=K[0],Z=K[1],oe=K[2],se=K[3],ve=Ha(($+oe)/2,(Z+se)/2,L.x,L.y);ve<F&&(F=ve,j=z)}),dc(j)}(a,je({clientX:s.scrollX,clientY:s.scrollY},s)),T=W(w,4);h=T[0],m=T[1],v=T[2],x=T[3]}return xv({scenePoint:{x:(h+v)/2,y:(m+x)/2},viewportDimensions:{width:s.width,height:s.height},zoom:s.zoom})},wl=function(a){return Math.max(.1,Math.min(a,30))},Pc=function(a,s){var l=a.viewportX,c=a.viewportY,h=a.nextZoom,m=l-s.offsetLeft,v=c-s.offsetTop,x=s.zoom.value;return{scrollX:s.scrollX+(m-m/x)+-(m-m/h),scrollY:s.scrollY+(v-v/x)+-(v-v/h),zoom:{value:h}}},Pf=(b(6781),function(){var a=document.querySelector(".excalidraw-tooltip");if(a)return a;var s=document.createElement("div");return document.body.appendChild(s),s.classList.add("excalidraw-tooltip"),s}),Dh=function(a,s){var l,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",h=a.getBoundingClientRect(),m=window.innerWidth,v=window.innerHeight,x=5,w=s.left+s.width/2-h.width/2;w<0?w=x:w+h.width>=m&&(w=m-h.width-x),c==="bottom"?(l=s.top+s.height+x)+h.height>=v&&(l=s.top-h.height-x):(l=s.top-h.height-x)<0&&(l=s.top+s.height+x),Object.assign(a.style,{top:"".concat(l,"px"),left:"".concat(w,"px")})},Lc=function(a){var s=a.children,l=a.label,c=a.long,h=c!==void 0&&c,m=a.style;return(0,M.useEffect)(function(){return function(){return Pf().classList.remove("excalidraw-tooltip--visible")}},[]),(0,A.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(v){return function(x,w,T,E){w.classList.add("excalidraw-tooltip--visible"),w.style.minWidth=E?"50ch":"10ch",w.style.maxWidth=E?"50ch":"15ch",w.textContent=T;var L=x.getBoundingClientRect();Dh(w,L)}(v.currentTarget,Pf(),l,h)},onPointerLeave:function(){return Pf().classList.remove("excalidraw-tooltip--visible")},style:m,children:s})};b(196),b(1106);function O2(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function I3(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?O2(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):O2(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var es=R().forwardRef(function(a,s){var l=a.children,c=a.padding,h=a.className,m=a.style;return(0,A.jsx)("div",{className:Sr("Island",h),style:I3({"--padding":c},m),ref:s,children:l})}),A2=(b(8328),function(a){var s=a.theme,l=s===void 0?D.C6.LIGHT:s,c=a.closeOnClickOutside,h=c===void 0||c,m=M3(l);return m?(0,As.createPortal)((0,A.jsxs)("div",{className:Sr("Modal",a.className),role:"dialog","aria-modal":"true",onKeyDown:function(v){v.key===Be.ESCAPE&&(v.nativeEvent.stopImmediatePropagation(),v.stopPropagation(),a.onCloseRequest())},"aria-labelledby":a.labelledBy,children:[(0,A.jsx)("div",{className:"Modal__background",onClick:h?a.onCloseRequest:void 0}),(0,A.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(a.maxWidth,"px")},tabIndex:0,children:a.children})]}),m):null}),M3=function(a){var s=W((0,M.useState)(null),2),l=s[0],c=s[1],h=_o(),m=(0,M.useRef)(h);m.current=h;var v=Gh().container;return(0,M.useLayoutEffect)(function(){l&&l.classList.toggle("excalidraw--mobile",h)},[l,h]),(0,M.useLayoutEffect)(function(){var x=!(v==null||!v.classList.contains("theme--dark"))||a==="dark",w=document.createElement("div");return w.classList.add("excalidraw","excalidraw-modal-container"),w.classList.toggle("excalidraw--mobile",m.current),x&&(w.classList.add("theme--dark"),w.classList.add("theme--dark-background-none")),document.body.appendChild(w),c(w),function(){document.body.removeChild(w)}},[v,a]),l},xl=function(a){var s=function(){var T=W((0,M.useState)(null),2),E=T[0],L=T[1];return[E,(0,M.useCallback)(function(F){return L(F)},[])]}(),l=W(s,2),c=l[0],h=l[1],m=W((0,M.useState)(document.activeElement),1)[0],v=Gh().id;(0,M.useEffect)(function(){if(c){var T=x(c);T.length>0&&a.autofocus!==!1&&(T[1]||T[0]).focus();var E=function(L){if(L.key===Be.TAB){var F=x(c),j=document.activeElement,z=F.findIndex(function(K){return K===j});z===0&&L.shiftKey?(F[F.length-1].focus(),L.preventDefault()):z!==F.length-1||L.shiftKey||(F[0].focus(),L.preventDefault())}};return c.addEventListener("keydown",E),function(){return c.removeEventListener("keydown",E)}}},[c,a.autofocus]);var x=function(T){var E=T.querySelectorAll("button, a, input, select, textarea, div[tabindex]");return E?Array.from(E):[]},w=function(){m.focus(),a.onCloseRequest()};return(0,A.jsx)(A2,{className:Sr("Dialog",a.className),labelledBy:"dialog-title",maxWidth:a.small?550:800,onCloseRequest:w,theme:a.theme,closeOnClickOutside:a.closeOnClickOutside,children:(0,A.jsxs)(es,{ref:h,children:[(0,A.jsxs)("h2",{id:"".concat(v,"-dialog-title"),className:"Dialog__title",children:[(0,A.jsx)("span",{className:"Dialog__titleContent",children:a.title}),(0,A.jsx)("button",{className:"Modal__close",onClick:w,"aria-label":q("buttons.close"),children:_o()?Kn:Ri})]}),(0,A.jsx)("div",{className:"Dialog__content",children:a.children})]})})},kv=(b(4678),["onConfirm","onCancel","children","confirmText","cancelText","className"]);function Ph(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function I2(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?Ph(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):Ph(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var M2=function(a){var s=a.onConfirm,l=a.onCancel,c=a.children,h=a.confirmText,m=h===void 0?q("buttons.confirm"):h,v=a.cancelText,x=v===void 0?q("buttons.cancel"):v,w=a.className,T=w===void 0?"":w,E=xc(a,kv);return(0,A.jsxs)(xl,I2(I2({onCloseRequest:l,small:!0},E),{},{className:"confirm-dialog ".concat(T),children:[c,(0,A.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,A.jsx)(tr,{type:"button",title:x,"aria-label":x,label:x,onClick:l,className:"confirm-dialog--cancel"}),(0,A.jsx)(tr,{type:"button",title:m,"aria-label":m,label:m,onClick:s,className:"confirm-dialog--confirm"})]})]}))},D3=function(a){var s=a.onConfirm,l=W((0,M.useState)(!1),2),c=l[0],h=l[1],m=function(){h(!c)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(tr,{type:"button",icon:yh,title:q("buttons.clearReset"),"aria-label":q("buttons.clearReset"),showAriaLabel:_o(),onClick:m,"data-testid":"clear-canvas-button"}),c&&(0,A.jsx)(M2,{onConfirm:function(){s(),m()},onCancel:m,title:q("clearCanvasDialog.title"),children:(0,A.jsxs)("p",{className:"clear-canvas__content",children:[" ",q("alerts.clearReset")]})})]})};function D2(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Ei(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?D2(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):D2(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}_t({name:"changeViewBackgroundColor",perform:function(a,s,l){return{appState:Ei(Ei({},s),l),commitToHistory:!!l.viewBackgroundColor}},PanelComponent:function(a){var s=a.appState,l=a.updateData;return(0,A.jsx)("div",{style:{position:"relative"},children:(0,A.jsx)(lv,{label:q("labels.canvasBackground"),type:"canvasBackground",color:s.viewBackgroundColor,onChange:function(c){return l({viewBackgroundColor:c})},isActive:s.openPopup==="canvasColorPicker",setActive:function(c){return l({openPopup:c?"canvasColorPicker":null})},"data-testid":"canvas-background-picker"})})}}),_t({name:"clearCanvas",perform:function(a,s,l,c){return c.imageCache.clear(),{elements:a.map(function(h){return an(h,{isDeleted:!0})}),appState:Ei(Ei({},fu()),{},{files:{},theme:s.theme,elementLocked:s.elementLocked,penMode:s.penMode,penDetected:s.penDetected,exportBackground:s.exportBackground,exportEmbedScene:s.exportEmbedScene,gridSize:s.gridSize,showStats:s.showStats,pasteDialog:s.pasteDialog,elementType:s.elementType==="image"?"selection":s.elementType}),commitToHistory:!0}},PanelComponent:function(a){var s=a.updateData;return(0,A.jsx)(D3,{onConfirm:s})}});var P2=_t({name:"zoomIn",perform:function(a,s,l,c){return{appState:Ei(Ei({},s),Pc({viewportX:s.width/2+s.offsetLeft,viewportY:s.height/2+s.offsetTop,nextZoom:wl(s.zoom.value+D.V4)},s)),commitToHistory:!1}},PanelComponent:function(a){var s=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:wh,title:"".concat(q("buttons.zoomIn")," \u2014 ").concat(fe("CtrlOrCmd++")),"aria-label":q("buttons.zoomIn"),onClick:function(){s(null)},size:"small"})},keyTest:function(a){return(a.code===kn||a.code===Sm)&&(a[Be.CTRL_OR_CMD]||a.shiftKey)}}),L2=_t({name:"zoomOut",perform:function(a,s,l,c){return{appState:Ei(Ei({},s),Pc({viewportX:s.width/2+s.offsetLeft,viewportY:s.height/2+s.offsetTop,nextZoom:wl(s.zoom.value-D.V4)},s)),commitToHistory:!1}},PanelComponent:function(a){var s=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:a2,title:"".concat(q("buttons.zoomOut")," \u2014 ").concat(fe("CtrlOrCmd+-")),"aria-label":q("buttons.zoomOut"),onClick:function(){s(null)},size:"small"})},keyTest:function(a){return(a.code===al||a.code===e3)&&(a[Be.CTRL_OR_CMD]||a.shiftKey)}}),P3=(_t({name:"resetZoom",perform:function(a,s,l,c){return{appState:Ei(Ei({},s),Pc({viewportX:s.width/2+s.offsetLeft,viewportY:s.height/2+s.offsetTop,nextZoom:wl(1)},s)),commitToHistory:!1}},PanelComponent:function(a){var s=a.updateData,l=a.appState;return(0,A.jsx)(Lc,{label:q("buttons.resetZoom"),style:{height:"100%"},children:(0,A.jsxs)(tr,{type:"button",className:"reset-zoom-button",title:q("buttons.resetZoom"),"aria-label":q("buttons.resetZoom"),onClick:function(){s(null)},size:"small",children:[(100*l.zoom.value).toFixed(0),"%"]})})},keyTest:function(a){return(a.code===Em||a.code===Cm)&&(a[Be.CTRL_OR_CMD]||a.shiftKey)}}),function(a,s){var l=W(a,4),c=l[0],h=l[1],m=l[2],v=l[3],x=m-c,w=s.width/x,T=v-h,E=s.height/T,L=Math.min(w,E),F=Math.floor(L/D.V4)*D.V4;return Math.min(Math.max(F,D.V4),1)}),p=function(a,s,l){var c=be(a),h=Fe(c,s),m=l&&h.length>0?Zn(h):Zn(c),v={value:P3(m,{width:s.width,height:s.height})},x=W(m,4),w=x[0],T=x[1],E=(w+x[2])/2,L=(T+x[3])/2;return{appState:Ei(Ei(Ei({},s),xv({scenePoint:{x:E,y:L},viewportDimensions:{width:s.width,height:s.height},zoom:v})),{},{zoom:v}),commitToHistory:!1}},k=(_t({name:"zoomToSelection",perform:function(a,s){return p(a,s,!0)},keyTest:function(a){return a.code===pc&&a.shiftKey&&!a.altKey&&!a[Be.CTRL_OR_CMD]}}),_t({name:"zoomToFit",perform:function(a,s){return p(a,s,!1)},keyTest:function(a){return a.code===Vd&&a.shiftKey&&!a.altKey&&!a[Be.CTRL_OR_CMD]}}),_t({name:"toggleTheme",perform:function(a,s,l){return{appState:Ei(Ei({},s),{},{theme:l||(s.theme===D.C6.LIGHT?D.C6.DARK:D.C6.LIGHT)}),commitToHistory:!1}},PanelComponent:function(a){var s=a.appState,l=a.updateData;return(0,A.jsx)("div",{style:{marginInlineStart:"0.25rem"},children:(0,A.jsx)(Mh,{value:s.theme,onChange:function(c){l(c)}})})},keyTest:function(a){return a.altKey&&a.shiftKey&&a.code===Tm}}),function(a,s,l,c,h,m){var v=c.zoom,x=180*l/Math.PI,w=a*(v.value-1)/2,T=s*(v.value-1)/2;return a>h&&v.value!==1&&(w=h*(v.value-1)/2),s>m&&v.value!==1&&(T=m*(v.value-1)/2),"translate(".concat(w,"px, ").concat(T,"px) scale(").concat(v.value,") rotate(").concat(x,"deg)")}),I=function(a){var s,l=a.id,c=a.onChange,h=a.onSubmit,m=a.getViewportCoords,v=a.element,x=a.canvas,w=a.excalidrawContainer,T=a.app,E=function(){var Ce,rt=T.state,Ze=(Ce=gn.getScene(v))===null||Ce===void 0?void 0:Ce.getElement(l),Ge=af(mn(Ze));if(Ze&&Nr(Ze)){var it=Ze.x,et=Ze.y,Le=Hi(Ze),dt=Ze.width,mt=Ze.height,bt=Ze.width,ct=Ze.height;if(Le&&Ze.containerId){var Dt=function(ot,Pt){var Ft=Pt.style.fontFamily.replace(/"/g,"");return G0({fontFamily:ot.fontFamily})!==Ft||"".concat(ot.fontSize,"px")!==Pt.style.fontSize}(Ze,L),sr=Number(L.style.height.slice(0,-2));if(sr>0&&(ct=sr),Dt&&(s=Le.height,ct=Ze.height),s||(s=Le.height),dt=Le.width-2*D.gK,mt=Le.height-2*D.gK,bt=dt,it=Le.x+D.gK,ct>mt){var Mr=Math.min(ct-mt,Ge);return void vt(Le,{height:Le.height+Mr})}if(Le.height>s&&ct<mt){var tn=Math.min(mt-ct,Ge);vt(Le,{height:Le.height-tn})}else et=Le.y+Le.height/2-ct/2}var wr=W(m(it,et),2),Xr=wr[0],hr=wr[1],dn=Ze.textAlign;L.value=Ze.originalText;var In=Ze.originalText.split(`
`),qi=Ze.containerId?Ge:Ze.height/In.length;Le||(dt=(rt.width-8-Xr)/rt.zoom.value);var Ca=(rt.height-hr)/rt.zoom.value,Za=Le?Le.angle:Ze.angle;Object.assign(L.style,{font:mn(Ze),lineHeight:"".concat(qi,"px"),width:"".concat(bt,"px"),height:"".concat(ct,"px"),left:"".concat(Xr,"px"),top:"".concat(hr,"px"),transform:k(bt,ct,Za,rt,dt,Ca),textAlign:dn,color:Ze.strokeColor,opacity:Ze.opacity/100,filter:"var(--theme-filter)",maxWidth:"".concat(dt,"px"),maxHeight:"".concat(Ca,"px")}),X0()&&(L.style.fontFamily=G0(Ze)),vt(Ze,{x:it,y:et})}},L=document.createElement("textarea");L.dir="auto",L.tabIndex=0,L.dataset.type="wysiwyg",L.wrap="off",L.classList.add("excalidraw-wysiwyg");var F="pre",j="normal";Ba(v)&&(F="pre-wrap",j="break-word"),Object.assign(L.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:j,whiteSpace:F,overflowWrap:"break-word"}),E(),c&&(L.oninput=function(){var Ce,rt=(Ce=gn.getScene(v))===null||Ce===void 0?void 0:Ce.getElement(l),Ze=mn(rt),Ge=L.scrollHeight/af(Ze);if(Ba(v)&&Ge>1){var it="auto";if(Ge===2){var et=Hi(v);ll(L.value,Ze,et.width).split(`
`).length===1&&(it="".concat(L.scrollHeight/2,"px"))}L.style.height=it,L.style.height="".concat(L.scrollHeight,"px")}c(L.value.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`))}),L.onkeydown=function(Ce){if(Ce.stopPropagation(),!Ce.shiftKey&&P2.keyTest(Ce))Ce.preventDefault(),T.actionManager.executeAction(P2),E();else if(!Ce.shiftKey&&L2.keyTest(Ce))Ce.preventDefault(),T.actionManager.executeAction(L2),E();else if(S2.keyTest(Ce))T.actionManager.executeAction(S2);else if(C2.keyTest(Ce))T.actionManager.executeAction(C2);else if(Ce.key===Be.ESCAPE)Ce.preventDefault(),ve=!0,_e();else if(Ce.key===Be.ENTER&&Ce[Be.CTRL_OR_CMD]){if(Ce.preventDefault(),Ce.isComposing||Ce.keyCode===229)return;ve=!0,_e()}else(Ce.key===Be.TAB||Ce[Be.CTRL_OR_CMD]&&(Ce.code===hc||Ce.code===qd))&&(Ce.preventDefault(),Ce.shiftKey||Ce.code===hc?Z():$(),L.dispatchEvent(new Event("input")))};var z=" ".repeat(4),K=new RegExp("^ {1,".concat(4,"}")),$=function(){var Ce=L.selectionStart,rt=L.selectionEnd,Ze=oe(),Ge=L.value;Ze.forEach(function(it){var et=Ge.slice(0,it),Le=Ge.slice(it);Ge="".concat(et).concat(z).concat(Le)}),L.value=Ge,L.selectionStart=Ce+4,L.selectionEnd=rt+4*Ze.length},Z=function(){var Ce=L.selectionStart,rt=L.selectionEnd,Ze=oe(),Ge=[],it=L.value;Ze.forEach(function(et){var Le=it.slice(et,et+4).match(K);if(Le){var dt=it.slice(0,et),mt=it.slice(et+Le[0].length);it="".concat(dt).concat(mt),Ge.push(et)}}),L.value=it,Ge.length&&(Ce>Ge[Ge.length-1]?L.selectionStart=Math.max(Ce-4,Ge[Ge.length-1]):L.selectionStart=Ce,L.selectionEnd=Math.max(L.selectionStart,rt-4*Ge.length))},oe=function(){var Ce=L.selectionStart,rt=L.selectionEnd,Ze=L.value,Ge=Ze.slice(0,Ce).match(/[^\n]*$/)[0].length;return Ce-=Ge,Ze.slice(Ce,rt).split(`
`).reduce(function(it,et,Le,dt){return it.concat(Le?it[Le-1]+dt[Le-1].length+1:Ce)},[]).reverse()},se=function(Ce){Ce.preventDefault(),Ce.stopPropagation()},ve=!1,_e=function(){var Ce;Te();var rt=(Ce=gn.getScene(v))===null||Ce===void 0?void 0:Ce.getElement(v.id);if(rt){var Ze=L.value,Ge=Hi(rt);if(Ge)if(Ze=rt.text,L.value){var it=ia(Ge);it&&it===v.id||vt(Ge,{boundElements:(Ge.boundElements||[]).concat({type:"text",id:v.id})})}else{var et;vt(Ge,{boundElements:(et=Ge.boundElements)===null||et===void 0?void 0:et.filter(function(Le){return!Nr(Le)})})}h({text:Ze,viaKeyboard:ve,originalText:L.value})}},Te=function(){He||(He=!0,L.onblur=null,L.oninput=null,L.onkeydown=null,We&&We.disconnect(),window.removeEventListener("resize",E),window.removeEventListener("wheel",se,!0),window.removeEventListener("pointerdown",Oe),window.removeEventListener("pointerup",Me),window.removeEventListener("blur",_e),$e(),L.remove())},Me=function Ce(rt){window.removeEventListener("pointerup",Ce);var Ze=rt==null?void 0:rt.target,Ge=Ze instanceof HTMLInputElement&&Ze.closest(".color-picker-input")&&Wo(Ze);setTimeout(function(){L.onblur=_e,Ze&&Ge&&(Ze.onblur=function(){L.focus()}),Ge||L.focus()})},Oe=function(Ce){var rt=Ce.target instanceof HTMLInputElement&&Ce.target.closest(".color-picker-input")&&Wo(Ce.target);((Ce.target instanceof HTMLElement||Ce.target instanceof SVGElement)&&Ce.target.closest(".".concat(D.$C.SHAPE_ACTIONS_MENU))&&!Wo(Ce.target)||rt)&&(L.onblur=null,window.addEventListener("pointerup",Me),window.addEventListener("blur",_e))},$e=gn.getScene(v).addCallback(function(){var Ce;E(),!((Ce=document.activeElement)===null||Ce===void 0||!Ce.closest(".color-picker-input"))||L.focus()}),He=!1;L.select(),Me();var We=null;x&&"ResizeObserver"in window?(We=new window.ResizeObserver(function(){E()})).observe(x):window.addEventListener("resize",E),window.addEventListener("pointerdown",Oe),window.addEventListener("wheel",se,{passive:!1,capture:!0}),w==null||w.querySelector(".excalidraw-textEditorContainer").appendChild(L)},H=function(a,s){return Boolean(!a.viewModeEnabled&&(a.editingElement||Fe(s,a).length||a.elementType!=="selection"))};function Y(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function ae(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?Y(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):Y(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var me=function(a){return a.reduce(function(s,l){return s+l.version},0)},xe=function(a){return a.filter(function(s){return!s.isDeleted&&!fl(s)})},be=function(a){return a.filter(function(s){return!s.isDeleted})},Xe=function(a){return!a.isDeleted},Ve=function(a){return be(a).map(function(s){return tl(s.type)?ae(ae({},s),{},{lastCommittedPoint:null}):s})},nt=function(a){return Ve(a)},Ot=function(a){return Ve(a)},It=function(a,s,l){var c=W([a.horizontal,a.vertical].map(function(v){return v!=null&&v.x<=s&&s<=v.x+v.width&&v.y<=l&&l<=v.y+v.height}),2),h=c[0],m=c[1];return{isOverEither:h||m,isOverHorizontal:h,isOverVertical:m}},Ct=function(a,s){return a.some(function(l){return s.selectedElementIds[l.id]})},Qe=function(a,s,l){var c=Array.from(new Set(Fe(a,s).map(function(h){return l(h)})));return c.length===1?c[0]:null},Fe=function(a,s){var l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.filter(function(c){return s.selectedElementIds[c.id]||l&&Ba(c)&&s.selectedElementIds[c==null?void 0:c.containerId]?c:null})},$t=function(a,s){return s.editingElement?[s.editingElement]:Fe(a,s,!0)};function Et(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Mt(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?Et(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):Et(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var Qt=function(a,s){if(a.editingGroupId){var l=ka(be(s),a.editingGroupId);if(l.length)return Mt(Mt({},a),{},{selectedElementIds:we({},l[0].id,!0)})}return a},kr=_t({name:"deleteSelectedElements",perform:function(a,s){if(s.editingLinearElement){var l=s.editingLinearElement,c=l.elementId,h=l.selectedPointsIndices,m=l.startBindingElement,v=l.endBindingElement,x=Wr.getElement(c);if(!x)return!1;if(h==null||x.points.length<2){var w=a.filter(function(j){return j.id!==x.id});return{elements:w,appState:Mt(Mt({},Qt(s,w)),{},{editingLinearElement:null}),commitToHistory:!1}}var T={startBindingElement:h!=null&&h.includes(0)?null:m,endBindingElement:h!=null&&h.includes(x.points.length-1)?null:v};return Wr.deletePoints(x,h),{elements:a,appState:Mt(Mt({},s),{},{editingLinearElement:Mt(Mt(Mt({},s.editingLinearElement),T),{},{selectedPointsIndices:(h==null?void 0:h[0])>0?[h[0]-1]:[0]})}),commitToHistory:!0}}var E=function(j,z){return{elements:j.map(function(K){return z.selectedElementIds[K.id]||Ba(K)&&z.selectedElementIds[K.containerId]?an(K,{isDeleted:!0}):K}),appState:Mt(Mt({},z),{},{selectedElementIds:{}})}}(a,s),L=E.elements,F=E.appState;return ov(L,a.filter(function(j){var z=j.id;return s.selectedElementIds[z]})),{elements:L,appState:Mt(Mt({},F=Qt(F,L)),{},{elementType:"selection",multiElement:null}),commitToHistory:Ct(be(a),s)}},contextItemLabel:"labels.delete",keyTest:function(a){return a.key===Be.BACKSPACE||a.key===Be.DELETE},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:yh,title:q("labels.delete"),"aria-label":q("labels.delete"),onClick:function(){return c(null)},visible:Ct(be(s),l)})}}),jt=function(a,s){for(var l=[],c=[],h=null,m=-1,v=Ni(Fe(a,s,!0));++m<a.length;)v.get(a[m].id)?(c.length&&(l=l.concat(c),c=[]),l.push(m),h=m+1):a[m].isDeleted&&h===m?(h=m+1,c.push(m)):c=[];return l},qt=function(a,s,l){if("containerId"in a&&a.containerId){if(l!=="left")return s.indexOf(a);var c=gn.getScene(a).getElement(a.containerId);if(c)return s.indexOf(c)}else{var h,m,v=(h=a.boundElements)===null||h===void 0||(m=h.find(function(w){return w.type!=="arrow"}))===null||m===void 0?void 0:m.id;if(v){if(l==="left")return s.indexOf(a);var x=gn.getScene(a).getElement(v);if(x)return s.indexOf(x)}}},ai=function(a,s,l,c){var h,m=s[l],v=function(F){return!F.isDeleted&&(!a.editingGroupId||F.groupIds.includes(a.editingGroupId))},x=c==="left"?function(F,j){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F.length-1;z<0&&(z=F.length+z);for(var K=(z=Math.min(F.length-1,Math.max(z,0)))+1;--K>-1;)if(j(F[K],K,F))return K;return-1}(s,v,Math.max(0,l-1)):function(F,j){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;z<0&&(z=F.length+z);for(var K=(z=Math.min(F.length,Math.max(z,0)))-1;++K<F.length;)if(j(F[K],K,F))return K;return-1}(s,v,l+1),w=s[x];if(!w)return-1;if(a.editingGroupId){var T;if((m==null?void 0:m.groupIds.join(""))===(w==null?void 0:w.groupIds.join("")))return(T=qt(w,s,c))!==null&&T!==void 0?T:x;if(w==null||!w.groupIds.includes(a.editingGroupId))return-1}if(!w.groupIds.length)return(h=qt(w,s,c))!==null&&h!==void 0?h:x;var E=a.editingGroupId?w.groupIds[w.groupIds.indexOf(a.editingGroupId)-1]:w.groupIds[w.groupIds.length-1],L=ka(s,E);return L.length?c==="left"?s.indexOf(L[0]):s.indexOf(L[L.length-1]):x},la=function(a,s){return s.reduce(function(l,c){var h=a[c];return l[h.id]=h,l},{})},ko=function(a,s,l){var c,h,m=jt(s,a),v=la(s,m),x=(h=0,(c=m).reduce(function(w,T,E){return E>0&&c[E-1]!==T-1&&(h=++h),(w[h]||(w[h]=[])).push(T),w},[]));return l==="right"&&(x=x.reverse()),x.forEach(function(w,T){var E=w[0],L=w[w.length-1],F=l==="left"?E:L,j=ai(a,s,F,l);if(j!==-1&&F!==j){var z=l==="left"?s.slice(0,j):s.slice(0,E),K=s.slice(E,L+1),$=l==="left"?s.slice(j,E):s.slice(L+1,j+1),Z=l==="left"?s.slice(L+1):s.slice(j+1);s=l==="left"?[].concat(Re(z),Re(K),Re($),Re(Z)):[].concat(Re(z),Re($),Re(K),Re(Z))}}),s.map(function(w){return v[w.id]?vu(w):w})},ei=function(a,s,l){var c,h,m=jt(a,s),v=la(a,m),x=[];if(l==="left"){if(s.editingGroupId){var w=ka(a,s.editingGroupId);if(!w.length)return a;c=a.indexOf(w[0])}else c=0;h=m[m.length-1]}else{if(s.editingGroupId){var T=ka(a,s.editingGroupId);if(!T.length)return a;h=a.indexOf(T[T.length-1])}else h=a.length-1;c=m[0]}for(var E=c;E<h+1;E++)m.includes(E)||x.push(a[E]);var L=Object.values(v).map(function(z){return vu(z)}),F=a.slice(0,c),j=a.slice(h+1);return l==="left"?[].concat(Re(F),Re(L),x,Re(j)):[].concat(Re(F),x,Re(L),Re(j))},Bs=function(a,s){return ko(s,a,"left")},kl=function(a,s){return ko(s,a,"right")},Lf=function(a,s){return ei(a,s,"left")},Lh=function(a,s){return ei(a,s,"right")},Nc=_t({name:"sendBackward",perform:function(a,s){return{elements:Bs(a,s),appState:s,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(a){return a[Be.CTRL_OR_CMD]&&!a.shiftKey&&a.code===hc},PanelComponent:function(a){var s=a.updateData,l=a.appState;return(0,A.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return s(null)},title:"".concat(q("labels.sendBackward")," \u2014 ").concat(fe("CtrlOrCmd+[")),children:(0,A.jsx)(xh,{theme:l.theme})})}}),Tu=_t({name:"bringForward",perform:function(a,s){return{elements:kl(a,s),appState:s,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(a){return a[Be.CTRL_OR_CMD]&&!a.shiftKey&&a.code===qd},PanelComponent:function(a){var s=a.updateData,l=a.appState;return(0,A.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return s(null)},title:"".concat(q("labels.bringForward")," \u2014 ").concat(fe("CtrlOrCmd+]")),children:(0,A.jsx)(v3,{theme:l.theme})})}}),N2=_t({name:"sendToBack",perform:function(a,s){return{elements:Lf(a,s),appState:s,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(a){return bi?a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===hc:a[Be.CTRL_OR_CMD]&&a.shiftKey&&a.code===hc},PanelComponent:function(a){var s=a.updateData,l=a.appState;return(0,A.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return s(null)},title:"".concat(q("labels.sendToBack")," \u2014 ").concat(fe(bi?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")),children:(0,A.jsx)(g3,{theme:l.theme})})}}),R2=_t({name:"bringToFront",perform:function(a,s){return{elements:Lh(a,s),appState:s,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(a){return bi?a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===qd:a[Be.CTRL_OR_CMD]&&a.shiftKey&&a.code===qd},PanelComponent:function(a){var s=a.updateData,l=a.appState;return(0,A.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(c){return s(null)},title:"".concat(q("labels.bringToFront")," \u2014 ").concat(fe(bi?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")),children:(0,A.jsx)(kh,{theme:l.theme})})}});function Nf(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Nh(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?Nf(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):Nf(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var Rh=_t({name:"selectAll",perform:function(a,s){return!s.editingLinearElement&&{appState:Go(Nh(Nh({},s),{},{editingGroupId:null,selectedElementIds:a.reduce(function(l,c){return c.isDeleted||Nr(c)&&c.containerId||(l[c.id]=!0),l},{})}),be(a)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.key===Be.A}});function Rf(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function jf(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?Rf(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):Rf(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var jh=_t({name:"duplicateSelection",perform:function(a,s){if(s.editingLinearElement){var l=Wr.duplicateSelectedPoints(s);return!!l&&{elements:a,appState:l.appState,commitToHistory:!0}}return jf(jf({},Fh(a,s)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.key===Be.D},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:yl,title:"".concat(q("labels.duplicateSelection")," \u2014 ").concat(fe("CtrlOrCmd+D")),"aria-label":q("labels.duplicateSelection"),onClick:function(){return c(null)},visible:Ct(be(s),l)})}}),Fh=function(a,s){for(var l=new Map,c=[],h=[],m=new Map,v=function(j){var z=sh(s.editingGroupId,l,j,{x:j.x+D.k/2,y:j.y+D.k/2});return m.set(j.id,z.id),h.push(j),c.push(z),z},x=[],w=0,T=Ni(Fe(a,s,!0));w<a.length;){var E=a[w];if(T.get(E.id)){if(E.groupIds.length){var L=ih(s,E);if(L){var F=ka(a,L);x.push.apply(x,Re(F).concat(Re(F.map(function(j){return v(j)})))),w+=F.length;continue}}x.push(E,v(E))}else x.push(E);w++}return Bn(x,h,m),Fs(x,h,m),{elements:x,appState:Go(jf(jf({},s),{},{selectedGroupIds:{},selectedElementIds:c.reduce(function(j,z){return Ba(z)||(j[z.id]=!0),j},{})}),be(x))}};function g_(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function zh(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?g_(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):g_(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var L3,N3,Rc,_l=_t({name:"finalize",perform:function(a,s,l,c){var h,m=c.canvas,v=c.focusContainer;if(s.editingLinearElement){var x=s.editingLinearElement,w=x.elementId,T=x.startBindingElement,E=x.endBindingElement,L=Wr.getElement(w);if(L)return wa(L)&&Oc(L,T,E),{elements:L.points.length<2||fl(L)?a.filter(function(Te){return Te.id!==L.id}):void 0,appState:zh(zh({},s),{},{editingLinearElement:null}),commitToHistory:!0}}var F=a;s.pendingImageElement&&vt(s.pendingImageElement,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&v();var j=s.multiElement?s.multiElement:((h=s.editingElement)===null||h===void 0?void 0:h.type)==="freedraw"?s.editingElement:null;if(j){if(j.type!=="freedraw"&&s.lastPointerDownWith!=="touch"){var z=j.points,K=j.lastCommittedPoint;K&&z[z.length-1]===K||vt(j,{points:j.points.slice(0,-1)})}fl(j)&&(F=F.slice(0,-1));var $=rl(j.points,s.zoom.value);if((j.type==="line"||j.type==="freedraw")&&$){var Z=j.points,oe=Z[0];vt(j,{points:Z.map(function(Te,Me){return Me===Z.length-1?[oe[0],oe[1]]:Te})})}if(wa(j)&&!$&&j.points.length>1){var se=W(Wr.getPointAtIndexGlobalCoordinates(j,-1),2),ve=se[0],_e=se[1];Tf(j,s,gn.getScene(j),{x:ve,y:_e})}s.elementLocked||s.elementType==="freedraw"||(s.selectedElementIds[j.id]=!0)}return(s.elementLocked||s.elementType==="freedraw")&&j||Qn(m),{elements:F,appState:zh(zh({},s),{},{elementType:(s.elementLocked||s.elementType==="freedraw")&&j?s.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:j&&!s.elementLocked&&s.elementType!=="freedraw"?zh(zh({},s.selectedElementIds),{},we({},j.id,!0)):s.selectedElementIds,pendingImageElement:null}),commitToHistory:s.elementType==="freedraw"}},keyTest:function(a,s){return a.key===Be.ESCAPE&&(s.editingLinearElement!==null||!s.draggingElement&&s.multiElement===null)||(a.key===Be.ESCAPE||a.key===Be.ENTER)&&s.multiElement!==null},PanelComponent:function(a){var s=a.appState,l=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:o2,title:q("buttons.done"),"aria-label":q("buttons.done"),onClick:l,visible:s.multiElement!=null})}}),Bh=typeof process!="undefined"&&(L3={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_SOCKET_SERVER_URL:"https://oss-collab-us1.excalidraw.com",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13"})!==null&&L3!==void 0&&L3.REACT_APP_GOOGLE_ANALYTICS_ID&&typeof window!="undefined"&&window.gtag?function(a,s,l,c){window.gtag("event",s,{event_category:a,event_label:l,value:c})}:(typeof process!="undefined"&&(N3={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_SOCKET_SERVER_URL:"https://oss-collab-us1.excalidraw.com",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13"})!==null&&N3!==void 0&&N3.JEST_WORKER_ID,function(a,s,l,c){}),UF=(b(518),b(9966),function(a){var s=Gh().id,l=W((0,M.useState)(a.value),2),c=l[0],h=l[1];return(0,A.jsxs)("div",{className:"ProjectName",children:[(0,A.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(a.label).concat(a.isNameEditable?"":":")}),a.isNameEditable?(0,A.jsx)("input",{type:"text",className:"TextInput",onBlur:function(m){(function(x){for(var w=x.parentElement;w;){if(w.tabIndex>-1)return void w.focus();w=w.parentElement}})(m.target);var v=m.target.value;v!==a.value&&a.onChange(v)},onKeyDown:function(m){if(m.key==="Enter"){if(m.preventDefault(),m.nativeEvent.isComposing||m.keyCode===229)return;m.currentTarget.blur()}},id:"".concat(s,"-filename"),value:c,onChange:function(m){return h(m.target.value)}}):(0,A.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(s,"-filename"),children:a.value})]})}),R3=function(a,s){if(s!=null&&s.collaborators){var l=s.collaborators.get(a);if(l!=null&&l.color)return l.color}var c=a.split("").reduce(function(v,x){return v+x.charCodeAt(0)},0),h=il.elementBackground.slice(1),m=il.elementStroke.slice(1);return{background:h[c%h.length],stroke:m[c%m.length]}};(function(a){a.ACTIVE="active",a.AWAY="away",a.IDLE="idle"})(Rc||(Rc={})),b(4404);function y_(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function b_(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?y_(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):y_(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var w_=document.createElement("img");w_.src="data:".concat(D.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var j3=!1,KF=function(a){var s=a.element,l=a.appState,c=a.setAppState,h=a.onLinkOpen,m=s.link||"",v=W((0,M.useState)(m),2),x=v[0],w=v[1],T=(0,M.useRef)(null),E=l.showHyperlinkPopup==="editor"||!m,L=(0,M.useCallback)(function(){if(T.current){var $=k_(T.current.value);vt(s,{link:$}),c({showHyperlinkPopup:"info"})}},[s,c]);(0,M.useLayoutEffect)(function(){return function(){L()}},[L]),(0,M.useEffect)(function(){var $=null,Z=function(oe){E||($&&clearTimeout($),$F(s,l,[oe.clientX,oe.clientY])&&($=window.setTimeout(function(){c({showHyperlinkPopup:!1})},500)))};return window.addEventListener(D.Ks.POINTER_MOVE,Z,!1),function(){window.removeEventListener(D.Ks.POINTER_MOVE,Z,!1),$&&clearTimeout($)}},[l,s,E,c]);var F=(0,M.useCallback)(function(){vt(s,{link:null}),E&&(T.current.value=""),c({showHyperlinkPopup:!1})},[c,s,E]),j=x_(s,l),z=j.x,K=j.y;return l.draggingElement||l.resizingElement||l.isRotating||l.openMenu?null:(0,A.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(K,"px"),left:"".concat(z,"px"),width:320,padding:5},children:[E?(0,A.jsx)("input",{className:Sr("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:T,value:x,onChange:function($){return w($.target.value)},autoFocus:!0,onKeyDown:function($){$.stopPropagation(),$[Be.CTRL_OR_CMD]&&$.key===Be.K&&$.preventDefault(),$.key!==Be.ENTER&&$.key!==Be.ESCAPE||L()}}):(0,A.jsx)("a",{href:s.link||"",className:Sr("excalidraw-hyperlinkContainer-link",{"d-none":E}),target:__(s.link)?"_self":"_blank",onClick:function($){if(s.link&&h){var Z=cu(D.Ks.EXCALIDRAW_LINK,$.nativeEvent);h(s,Z),Z.defaultPrevented&&$.preventDefault()}},rel:"noopener noreferrer",children:s.link}),(0,A.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!E&&(0,A.jsx)(tr,{type:"button",title:q("buttons.edit"),"aria-label":q("buttons.edit"),label:q("buttons.edit"),onClick:function(){c({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:mv}),m&&(0,A.jsx)(tr,{type:"button",title:q("buttons.remove"),"aria-label":q("buttons.remove"),label:q("buttons.remove"),onClick:F,className:"excalidraw-hyperlinkContainer--remove",icon:yh})]})]})},x_=function(a,s){var l=W(xr(a),2),c=l[0],h=l[1],m=qe({sceneX:c+a.width/2,sceneY:h},s),v=m.x,x=m.y;return{x:v-s.offsetLeft-160,y:x-s.offsetTop-85}},k_=function(a){return(a=a.trim())&&(a.includes("://")||/^[[\\/]/.test(a)||(a="https://".concat(a))),a},__=function(a){return!!(a!=null&&a.includes(location.origin)||a!=null&&a.startsWith("/"))},S_=_t({name:"link",perform:function(a,s){return s.showHyperlinkPopup!=="editor"&&{elements:a,appState:b_(b_({},s),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.key===Be.K},contextItemLabel:function(a,s){return C_(a,s)},contextItemPredicate:function(a,s){return Fe(a,s).length===1},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData,h=Fe(s,l);return(0,A.jsx)(tr,{type:"button",icon:r2,"aria-label":q(C_(s,l)),title:"".concat(q("labels.link.label")," - ").concat(fe("CtrlOrCmd+K")),onClick:function(){return c(null)},selected:h.length===1&&!!h[0].link})}}),C_=function(a,s){return Fe(a,s)[0].link?"labels.link.edit":"labels.link.create"},F3=function(a,s,l){var c=W(a,4),h=c[0],m=c[1],v=c[2],x=c[3],w=14/l.zoom.value,T=14/l.zoom.value,E=14/l.zoom.value,L=(h+v)/2,F=(m+x)/2,j=6/(2*l.zoom.value),z=4/l.zoom.value,K=W(Cr(v+z-j+w/2,m-z-E+j+T/2,L,F,s),2);return[K[0]-w/2,K[1]-T/2,w,T]},j2=function(a,s,l,c){var h=W(l,2),m=h[0],v=h[1],x=4/s.zoom.value;if(!c&&s.viewModeEnabled&&wf(a,[m,v],x))return!0;var w=W(xr(a),4),T=w[0],E=w[1],L=w[2],F=w[3],j=W(F3([T,E,L,F],a.angle,s),4),z=j[0],K=j[1],$=j[2],Z=j[3];return m>z-x&&m<z+x+$&&v>K-x&&v<K+Z+x},_v=null,WF=function(a,s){if(a.link){var l=Pf();l.classList.add("excalidraw-tooltip--visible"),l.style.maxWidth="20rem",l.textContent=a.link;var c=W(xr(a),4),h=c[0],m=c[1],v=c[2],x=c[3],w=W(F3([h,m,v,x],a.angle,s),4),T=w[0],E=w[1],L=w[2],F=w[3],j=qe({sceneX:T,sceneY:E},s);Dh(l,{left:j.x,top:j.y,width:L,height:F},"top"),j3=!0}},$F=function(a,s,l){var c=W(l,2),h=c[0],m=c[1],v=je({clientX:h,clientY:m},s),x=v.x,w=v.y,T=15/s.zoom.value;if(wf(a,[x,w],T))return!1;var E=W(xr(a),3),L=E[0],F=E[1],j=E[2];if(x>=L&&x<=j&&w>=F-85&&w<=F)return!1;var z=x_(a,s),K=z.x,$=z.y;return!(h>=K-T&&h<=K+320+10+T&&m>=$-T&&m<=$+T+10+42)};function qF(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return E_(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return E_(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function E_(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}var jc,z3=function(){var a=document.createElement("canvas").getContext("2d");return a?(a.fillStyle="#f00",a.textBaseline="top",a.font="32px Arial",a.fillText("\u{1F600}",0,0),a.getImageData(12,12,1,1).data[0]!==0):!1}(),F2=function(a,s,l,c,h,m,v,x){var w=arguments.length>8&&arguments[8]!==void 0&&arguments[8];a.save(),a.translate(m,v),a.rotate(x),w&&a.fillRect(s-m,l-v,c,h),a.strokeRect(s-m,l-v,c,h),a.restore()},B3=function(a,s,l,c){a.beginPath(),a.arc(s,l,c,0,2*Math.PI),a.fill(),a.stroke()},T_=function(a,s,l,c,h,m,v){if(m===null)return{atLeastOneVisibleElement:!1};var x=v.renderScrollbars,w=x===void 0||x,T=v.renderSelection,E=T===void 0||T,L=v.renderGrid,F=L===void 0||L,j=v.isExporting,z=m.getContext("2d");z.setTransform(1,0,0,1,0,0),z.save(),z.scale(c,c);var K=m.width/c,$=m.height/c;j&&v.theme==="dark"&&(z.filter=D.ZF),typeof v.viewBackgroundColor=="string"?((v.viewBackgroundColor==="transparent"||v.viewBackgroundColor.length===5||v.viewBackgroundColor.length===9||/(hsla|rgba)\(/.test(v.viewBackgroundColor))&&z.clearRect(0,0,K,$),z.save(),z.fillStyle=v.viewBackgroundColor,z.fillRect(0,0,K,$),z.restore()):z.clearRect(0,0,K,$),z.save(),z.scale(v.zoom.value,v.zoom.value),F&&s.gridSize&&function(ot,Pt,Ft,rr,Hr,hn){ot.save(),ot.strokeStyle="rgba(0,0,0,0.1)",ot.beginPath();for(var Dr=Ft;Dr<Ft+Hr+2*Pt;Dr+=Pt)ot.moveTo(Dr,rr-Pt),ot.lineTo(Dr,rr+hn+2*Pt);for(var Mn=rr;Mn<rr+hn+2*Pt;Mn+=Pt)ot.moveTo(Ft-Pt,Mn),ot.lineTo(Ft+Hr+2*Pt,Mn);ot.stroke(),ot.restore()}(z,s.gridSize,-Math.ceil(v.zoom.value/s.gridSize)*s.gridSize+v.scrollX%s.gridSize,-Math.ceil(v.zoom.value/s.gridSize)*s.gridSize+v.scrollY%s.gridSize,K/v.zoom.value,$/v.zoom.value);var Z,oe=a.filter(function(ot){return QF(ot,K,$,{zoom:v.zoom,offsetLeft:s.offsetLeft,offsetTop:s.offsetTop,scrollX:v.scrollX,scrollY:v.scrollY})});if(oe.forEach(function(ot){try{vy(ot,h,z,v),j||ZF(ot,z,s)}catch(Pt){console.error(Pt)}}),s.editingLinearElement){var se=Wr.getElement(s.editingLinearElement.elementId);se&&function(ot,Pt,Ft,rr){ot.save(),ot.translate(Ft.scrollX,Ft.scrollY),ot.lineWidth=1/Ft.zoom.value,Wr.getPointsGlobalCoordinates(rr).forEach(function(Hr,hn){var Dr,Mn;ot.strokeStyle="red",ot.setLineDash([]),ot.fillStyle=(Dr=Pt.editingLinearElement)!==null&&Dr!==void 0&&(Mn=Dr.selectedPointsIndices)!==null&&Mn!==void 0&&Mn.includes(hn)?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";var Ea=Wr.POINT_HANDLE_SIZE;B3(ot,Hr[0],Hr[1],Ea/2/Ft.zoom.value)}),ot.restore()}(z,s,v,se)}if(l)try{vy(l,h,z,v)}catch(ot){console.error(ot)}if(ml(s)&&s.suggestedBindings.filter(function(ot){return ot!=null}).forEach(function(ot){GF(z,v,ot)}),E&&!s.multiElement&&!s.editingLinearElement){var ve,_e=a.reduce(function(ot,Pt){var Ft=[];if(s.selectedElementIds[Pt.id]&&!_i(s,Pt)&&Ft.push(fr.black),v.remoteSelectedElementIds[Pt.id]&&Ft.push.apply(Ft,Re(v.remoteSelectedElementIds[Pt.id].map(function(Ea){return R3(Ea,s).background}))),Ft.length){var rr=W(xr(Pt),4),Hr=rr[0],hn=rr[1],Dr=rr[2],Mn=rr[3];ot.push({angle:Pt.angle,elementX1:Hr,elementY1:hn,elementX2:Dr,elementY2:Mn,selectionColors:Ft})}return ot},[]),Te=function(ot){var Pt=ka(a,ot),Ft=W(Zn(Pt),4),rr=Ft[0],Hr=Ft[1],hn=Ft[2],Dr=Ft[3];_e.push({angle:0,elementX1:rr,elementX2:hn,elementY1:Hr,elementY2:Dr,selectionColors:[fr.black]})},Me=qF(kc(s));try{for(Me.s();!(ve=Me.n()).done;)Te(ve.value)}catch(ot){Me.e(ot)}finally{Me.f()}s.editingGroupId&&Te(s.editingGroupId),_e.forEach(function(ot){return VF(z,v,ot)});var Oe=Fe(a,s);if(z.save(),z.translate(v.scrollX,v.scrollY),Oe.length===1){z.fillStyle=fr.white;var $e=Vm(Oe[0],v.zoom,"mouse");s.viewModeEnabled||O_(z,v,$e,Oe[0].angle)}else if(Oe.length>1&&!s.isRotating){var He=4/v.zoom.value;z.fillStyle=fr.white;var We=W(Zn(Oe),4),Ce=We[0],rt=We[1],Ze=We[2],Ge=We[3],it=z.getLineDash();z.setLineDash([2/v.zoom.value]);var et=z.lineWidth;z.lineWidth=1/v.zoom.value,F2(z,Ce-He,rt-He,Ze-Ce+2*He,Ge-rt+2*He,(Ce+Ze)/2,(rt+Ge)/2,0),z.lineWidth=et,z.setLineDash(it);var Le=vr([Ce,rt,Ze,Ge],0,v.zoom,"mouse",Wm);O_(z,v,Le,0)}z.restore()}for(var dt in z.restore(),v.remotePointerViewportCoords){var mt=v.remotePointerViewportCoords[dt],bt=mt.x,ct=mt.y;bt-=s.offsetLeft,ct-=s.offsetTop;var Dt=bt<0||bt>K-9||ct<0||ct>$-14;bt=Math.max(bt,0),bt=Math.min(bt,K-9),ct=Math.max(ct,0),ct=Math.min(ct,$-14);var sr=R3(dt,s),Mr=sr.background,tn=sr.stroke;z.save(),z.strokeStyle=tn,z.fillStyle=Mr;var wr=v.remotePointerUserStates[dt];(Dt||wr===Rc.AWAY)&&(z.globalAlpha=.48),v.remotePointerButton&&v.remotePointerButton[dt]==="down"&&(z.beginPath(),z.arc(bt,ct,15,0,2*Math.PI,!1),z.lineWidth=3,z.strokeStyle="#ffffff88",z.stroke(),z.closePath(),z.beginPath(),z.arc(bt,ct,15,0,2*Math.PI,!1),z.lineWidth=1,z.strokeStyle=tn,z.stroke(),z.closePath()),z.beginPath(),z.moveTo(bt,ct),z.lineTo(bt+1,ct+14),z.lineTo(bt+4,ct+9),z.lineTo(bt+9,ct+10),z.lineTo(bt,ct),z.fill(),z.stroke();var Xr=v.remotePointerUsernames[dt],hr="";wr===Rc.AWAY?hr=z3?"\u26AB\uFE0F":" (".concat(Rc.AWAY,")"):wr===Rc.IDLE?hr=z3?"\u{1F4A4}":" (".concat(Rc.IDLE,")"):wr===Rc.ACTIVE&&(hr=z3?"\u{1F7E2}":"");var dn="".concat(Xr?"".concat(Xr," "):"").concat(hr);if(!Dt&&dn){var In=bt+9,qi=ct+14,Ca=z.measureText(dn),Za=Ca.actualBoundingBoxDescent+Ca.actualBoundingBoxAscent;z.fillStyle=tn,z.fillRect(In-1,qi-1,Ca.width+8+2,Za+8+2),z.fillStyle=Mr,z.fillRect(In,qi,Ca.width+8,Za+8),z.fillStyle=fr.white,z.fillText(dn,In+4,qi+4+Ca.actualBoundingBoxAscent)}z.restore(),z.closePath()}return w&&(Z=function(ot,Pt,Ft,rr){var Hr=rr.scrollX,hn=rr.scrollY,Dr=rr.zoom;if(ot.length===0)return{horizontal:null,vertical:null};var Mn=W(Zn(ot),4),Ea=Mn[0],Wf=Mn[1],Us=Mn[2],Ks=Mn[3],Qa=Pt/Dr.value,Kc=Ft/Dr.value,ns=Pt-Qa,Cl=Ft-Kc,ua={top:parseInt(pt("sat")),bottom:parseInt(pt("sab")),left:parseInt(pt("sal")),right:parseInt(pt("sar"))},e4=ze().rtl,Wc=ns/2-Hr+ua.left,$c=Cl/2-hn+ua.top,Dv=Wc+Qa-ua.right,Pv=$c+Kc-ua.bottom,Yh=Math.min(Ea,Wc),qc=Math.min(Wf,$c),Xh=Math.max(Us,Dv),Lv=Math.max(Ks,Pv);return{horizontal:Wc===Yh&&Dv===Xh?null:{x:Math.max(ua.left,4)+(Wc-Yh)/(Xh-Yh)*Pt,y:Ft-6-Math.max(4,ua.bottom),width:(Dv-Wc)/(Xh-Yh)*Pt-Math.max(8,ua.left+ua.right),height:6},vertical:$c===qc&&Pv===Lv?null:{x:e4?Math.max(ua.left,4):Pt-6-Math.max(ua.right,4),y:($c-qc)/(Lv-qc)*Ft+Math.max(ua.top,4),width:6,height:(Pv-$c)/(Lv-qc)*Ft-Math.max(8,ua.top+ua.bottom)}}}(a,K,$,v),z.save(),z.fillStyle="rgba(0,0,0,0.3)",z.strokeStyle="rgba(255,255,255,0.8)",[Z.horizontal,Z.vertical].forEach(function(ot){ot&&function(Pt,Ft,rr,Hr,hn,Dr){Pt.beginPath(),Pt.moveTo(Ft+Dr,rr),Pt.lineTo(Ft+Hr-Dr,rr),Pt.quadraticCurveTo(Ft+Hr,rr,Ft+Hr,rr+Dr),Pt.lineTo(Ft+Hr,rr+hn-Dr),Pt.quadraticCurveTo(Ft+Hr,rr+hn,Ft+Hr-Dr,rr+hn),Pt.lineTo(Ft+Dr,rr+hn),Pt.quadraticCurveTo(Ft,rr+hn,Ft,rr+hn-Dr),Pt.lineTo(Ft,rr+Dr),Pt.quadraticCurveTo(Ft,rr,Ft+Dr,rr),Pt.closePath(),Pt.fill(),Pt.stroke()}(z,ot.x,ot.y,ot.width,ot.height,3)}),z.restore()),z.restore(),{atLeastOneVisibleElement:oe.length>0,scrollBars:Z}},O_=function(a,s,l,c){Object.keys(l).forEach(function(h){var m=l[h];m!==void 0&&(a.save(),a.lineWidth=1/s.zoom.value,h==="rotation"?B3(a,m[0]+m[2]/2,m[1]+m[3]/2,m[2]/2):F2(a,m[0],m[1],m[2],m[3],m[0]+m[2]/2,m[1]+m[3]/2,c,!0),a.restore())})},VF=function(a,s,l){var c=l.angle,h=l.elementX1,m=l.elementY1,v=l.elementX2,x=l.elementY2,w=l.selectionColors,T=v-h,E=x-m,L=4/s.zoom.value,F=8/s.zoom.value,j=4/s.zoom.value;a.save(),a.translate(s.scrollX,s.scrollY),a.lineWidth=1/s.zoom.value;for(var z=w.length,K=0;K<z;++K)a.strokeStyle=w[K],a.setLineDash([F,j+(F+j)*(z-1)]),a.lineDashOffset=(F+j)*K,F2(a,h-L,m-L,T+2*L,E+2*L,h+T/2,m+E/2,c);a.restore()},GF=function(a,s,l){var c=Array.isArray(l)?XF:YF;a.save(),a.translate(s.scrollX,s.scrollY),c(a,l),a.restore()},YF=function(a,s){var l=W(xr(s),4),c=l[0],h=l[1],m=l[2]-c,v=l[3]-h,x=Si(s,m,v);a.strokeStyle="rgba(0,0,0,.05)",a.lineWidth=x-4;var w=2+x/2;switch(s.type){case"rectangle":case"text":case"image":F2(a,c-w,h-w,m+2*w,v+2*w,c+m/2,h+v/2,s.angle);break;case"diamond":var T=Math.hypot(m,v);(function(E,L,F,j,z,K){E.save(),E.translate(j,z),E.rotate(K),E.beginPath(),E.moveTo(0,F/2),E.lineTo(L/2,0),E.lineTo(0,-F/2),E.lineTo(-L/2,0),E.closePath(),E.stroke(),E.restore()})(a,m+2*(w*T/v),v+2*(w*T/m),c+m/2,h+v/2,s.angle);break;case"ellipse":(function(E,L,F,j,z,K){E.beginPath(),E.ellipse(j,z,L/2,F/2,K,0,2*Math.PI),E.stroke()})(a,m+2*w,v+2*w,c+m/2,h+v/2,s.angle)}},XF=function(a,s){var l=W(s,3),c=l[0],h=l[1],m=l[2],v=Si(m,m.width,m.height);a.strokeStyle="rgba(0,0,0,0)",a.fillStyle="rgba(0,0,0,.05)",(h==="both"?[0,-1]:h==="start"?[0]:[-1]).forEach(function(x){var w=W(Wr.getPointAtIndexGlobalCoordinates(c,x),2),T=w[0],E=w[1];B3(a,T,E,v)})},ZF=function(a,s,l){if(a.link&&!l.selectedElementIds[a.id]){var c=W(xr(a),4),h=c[0],m=c[1],v=c[2],x=c[3],w=W(F3([h,m,v,x],a.angle,l),4),T=w[0],E=w[1],L=w[2],F=w[3],j=T+L/2,z=E+F/2;if(s.save(),s.translate(l.scrollX+j,l.scrollY+z),s.rotate(a.angle),jc&&jc.zoom===l.zoom.value)s.drawImage(jc,T-j,E-z,L,F);else{(jc=document.createElement("canvas")).zoom=l.zoom.value,jc.width=L*window.devicePixelRatio*l.zoom.value,jc.height=F*window.devicePixelRatio*l.zoom.value;var K=jc.getContext("2d");K.scale(window.devicePixelRatio*l.zoom.value,window.devicePixelRatio*l.zoom.value),K.fillStyle="#fff",K.fillRect(0,0,L,F),K.drawImage(w_,0,0,L,F),K.restore(),s.drawImage(jc,T-j,E-z,L,F)}s.restore()}},QF=function(a,s,l,c){var h=W(dc(a),4),m=h[0],v=h[1],x=h[2],w=h[3],T=je({clientX:c.offsetLeft,clientY:c.offsetTop},c),E=je({clientX:c.offsetLeft+s,clientY:c.offsetTop+l},c);return T.x<=x&&T.y<=w&&E.x>=m&&E.y>=v},JF=function(a,s,l,c){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},m=h.offsetX,v=m===void 0?0:m,x=h.offsetY,w=x===void 0?0:x,T=h.exportWithDarkMode,E=T!==void 0&&T;l&&a.forEach(function(L){if(!L.isDeleted)try{df(L,s,l,c,L.x+v,L.y+w,E)}catch(F){console.error(F)}})},A_=Object.defineProperty,Hh=(a,s)=>()=>(a&&(s=a(a=0)),s),Uh=(a,s)=>{for(var l in(c=>{A_(c,"__esModule",{value:!0})})(a),s)A_(a,l,{get:s[l],enumerable:!0})},I_={};Uh(I_,{default:()=>M_});var M_,ez=Hh(()=>{M_=async(a=[{}])=>(Array.isArray(a)||(a=[a]),new Promise((s,l)=>{let c=document.createElement("input");c.type="file";let h=[...a.map(x=>x.mimeTypes||[]).join(),a.map(x=>x.extensions||[]).join()].join();c.multiple=a[0].multiple||!1,c.accept=h||"";let m=x=>{typeof v=="function"&&v(),s(x)},v=a[0].legacySetup&&a[0].legacySetup(m,()=>v(l),c);c.addEventListener("change",()=>{m(c.multiple?Array.from(c.files):c.files[0])}),c.click()}))}),D_={};Uh(D_,{default:()=>L_});var P_,L_,tz=Hh(()=>{P_=async a=>{let s=await a.getFile();return s.handle=a,s},L_=async(a=[{}])=>{Array.isArray(a)||(a=[a]);let s=[];a.forEach((h,m)=>{s[m]={description:h.description||"",accept:{}},h.mimeTypes?h.mimeTypes.map(v=>{s[m].accept[v]=h.extensions||[]}):s[m].accept["*/*"]=h.extensions||[]});let l=await window.showOpenFilePicker({id:a[0].id,startIn:a[0].startIn,types:s,multiple:a[0].multiple||!1,excludeAcceptAllOption:a[0].excludeAcceptAllOption||!1}),c=await Promise.all(l.map(P_));return a[0].multiple?c:c[0]}}),N_={};Uh(N_,{default:()=>R_});var R_,rz=Hh(()=>{R_=async(a=[{}])=>(Array.isArray(a)||(a=[a]),a[0].recursive=a[0].recursive||!1,new Promise((s,l)=>{let c=document.createElement("input");c.type="file",c.webkitdirectory=!0;let h=v=>{typeof m=="function"&&m(),s(v)},m=a[0].legacySetup&&a[0].legacySetup(h,()=>m(l),c);c.addEventListener("change",()=>{let v=Array.from(c.files);a[0].recursive?a[0].recursive&&a[0].skipDirectory&&(v=v.filter(x=>x.webkitRelativePath.split("/").every(w=>!a[0].skipDirectory({name:w,kind:"directory"})))):v=v.filter(x=>x.webkitRelativePath.split("/").length===2),h(v)}),c.click()}))}),j_={};Uh(j_,{default:()=>F_});var H3,F_,nz=Hh(()=>{H3=async(a,s,l=a.name,c)=>{let h=[],m=[];for await(let v of a.values()){let x=`${l}/${v.name}`;v.kind==="file"?m.push(v.getFile().then(w=>(w.directoryHandle=a,Object.defineProperty(w,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>x})))):v.kind==="directory"&&s&&(!c||!c(v))&&h.push(H3(v,s,x,c))}return[...(await Promise.all(h)).flat(),...await Promise.all(m)]},F_=async(a={})=>{a.recursive=a.recursive||!1;let s=await window.showDirectoryPicker({id:a.id,startIn:a.startIn});return H3(s,a.recursive,void 0,a.skipDirectory)}}),z_={};Uh(z_,{default:()=>B_});var B_,iz=Hh(()=>{B_=async(a,s={})=>{Array.isArray(s)&&(s=s[0]);let l=document.createElement("a"),c=a;"body"in a&&(c=await async function(v,x){let w=v.getReader(),T=new ReadableStream({start:L=>async function F(){return w.read().then(({done:j,value:z})=>{if(!j)return L.enqueue(z),F();L.close()})}()}),E=new Response(T);return w.releaseLock(),new Blob([await E.blob()],{type:x})}(a.body,a.headers.get("content-type"))),l.download=s.fileName||"Untitled",l.href=URL.createObjectURL(c);let h=()=>{typeof m=="function"&&m()},m=s.legacySetup&&s.legacySetup(h,()=>m(reject),l);return l.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(l.href),3e4),h()}),l.click(),null}}),H_={};Uh(H_,{default:()=>U_});var U_,az=Hh(()=>{U_=async(a,s=[{}],l=null,c=!1)=>{Array.isArray(s)||(s=[s]),s[0].fileName=s[0].fileName||"Untitled";let h=[];if(s.forEach((x,w)=>{h[w]={description:x.description||"",accept:{}},x.mimeTypes?(w===0&&(a.type?x.mimeTypes.push(a.type):a.headers&&a.headers.get("content-type")&&x.mimeTypes.push(a.headers.get("content-type"))),x.mimeTypes.map(T=>{h[w].accept[T]=x.extensions||[]})):a.type&&(h[w].accept[a.type]=x.extensions||[])}),l)try{await l.getFile()}catch(x){if(l=null,c)throw x}let m=l||await window.showSaveFilePicker({suggestedName:s[0].fileName,id:s[0].id,startIn:s[0].startIn,types:h,excludeAcceptAllOption:s[0].excludeAcceptAllOption||!1}),v=await m.createWritable();return"stream"in a?(await a.stream().pipeTo(v),m):"body"in a?(await a.body.pipeTo(v),m):(await v.write(blob),await v.close(),m)}}),Fc=(()=>{if(typeof self=="undefined")return!1;if("top"in self&&self!==top)try{top.location}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),oz=Fc?Promise.resolve().then(()=>(tz(),D_)):Promise.resolve().then(()=>(ez(),I_));Fc?Promise.resolve().then(()=>(nz(),j_)):Promise.resolve().then(()=>(rz(),N_));var sz=Fc?Promise.resolve().then(()=>(az(),H_)):Promise.resolve().then(()=>(iz(),z_)),U3=function(a){var s,l,c,h=(s=a.extensions)===null||s===void 0?void 0:s.reduce(function(v,x){return v.push(D.LO[x]),v},[]),m=(l=a.extensions)===null||l===void 0?void 0:l.reduce(function(v,x){return x==="jpg"?v.concat(".jpg",".jpeg"):v.concat(".".concat(x))},[]);return async function(...v){return(await oz).default(...v)}({description:a.description,extensions:m,mimeTypes:h,multiple:(c=a.multiple)!==null&&c!==void 0&&c,legacySetup:function(v,x,w){var T=vc(x,500),E=function(){L(),document.addEventListener(D.Ks.KEYUP,T),document.addEventListener(D.Ks.POINTER_UP,T),T()},L=function(){var j;if((j=w.files)!==null&&j!==void 0&&j.length){var z=a.multiple?Re(w.files):w.files[0];v(z)}};requestAnimationFrame(function(){window.addEventListener(D.Ks.FOCUS,E)});var F=window.setInterval(function(){L()},500);return function(j){clearInterval(F),T.cancel(),window.removeEventListener(D.Ks.FOCUS,E),document.removeEventListener(D.Ks.KEYUP,T),document.removeEventListener(D.Ks.POINTER_UP,T),j&&(console.warn("Opening the file was canceled (legacy-fs)."),j(new bv))}}})},z2=function(a,s){return async function(...l){return(await sz).default(...l)}(a,{fileName:"".concat(s.name,".").concat(s.extension),description:s.description,extensions:[".".concat(s.extension)]},s.fileHandle)};function K_(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return W_(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return W_(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function W_(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}function $_(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Ff(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?$_(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):$_(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var lz={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0},Sv=function(a,s){var l,c,h,m,v,x,w,T,E,L,F,j,z,K,$={type:s.type||a.type,version:a.version||1,versionNonce:(l=a.versionNonce)!==null&&l!==void 0?l:0,isDeleted:(c=a.isDeleted)!==null&&c!==void 0&&c,id:a.id||$a(),fillStyle:a.fillStyle||"hachure",strokeWidth:a.strokeWidth||1,strokeStyle:(h=a.strokeStyle)!==null&&h!==void 0?h:"solid",roughness:(m=a.roughness)!==null&&m!==void 0?m:1,opacity:a.opacity==null?100:a.opacity,angle:a.angle||0,x:(v=(x=s.x)!==null&&x!==void 0?x:a.x)!==null&&v!==void 0?v:0,y:(w=(T=s.y)!==null&&T!==void 0?T:a.y)!==null&&w!==void 0?w:0,strokeColor:a.strokeColor,backgroundColor:a.backgroundColor,width:a.width||0,height:a.height||0,seed:(E=a.seed)!==null&&E!==void 0?E:1,groupIds:(L=a.groupIds)!==null&&L!==void 0?L:[],strokeSharpness:(F=a.strokeSharpness)!==null&&F!==void 0?F:tl(a.type)?"round":"sharp",boundElements:a.boundElementIds?a.boundElementIds.map(function(Z){return{type:"arrow",id:Z}}):(j=a.boundElements)!==null&&j!==void 0?j:[],updated:(z=a.updated)!==null&&z!==void 0?z:xi(),link:(K=a.link)!==null&&K!==void 0?K:null};return Ff(Ff(Ff({},$),rh($)),s)},uz=function(a){var s,l,c;switch(a.type){case"text":var h=a.fontSize,m=a.fontFamily;if("font"in a){var v=W(a.font.split(" "),2),x=v[0],w=v[1];h=parseInt(x,10),c=w,m=Object.keys(D.ut).includes(c)?D.ut[c]:D.rk}return Sv(a,{fontSize:h,fontFamily:m,text:(s=a.text)!==null&&s!==void 0?s:"",baseline:a.baseline,textAlign:a.textAlign||D.Hg,verticalAlign:a.verticalAlign||D.hs,containerId:(l=a.containerId)!==null&&l!==void 0?l:null,originalText:a.originalText||a.text});case"freedraw":return Sv(a,{points:a.points,lastCommittedPoint:null,simulatePressure:a.simulatePressure,pressures:a.pressures});case"image":return Sv(a,{status:a.status||"pending",fileId:a.fileId,scale:a.scale||[1,1]});case"line":case"draw":case"arrow":var T=a.startArrowhead,E=T===void 0?null:T,L=a.endArrowhead,F=L===void 0?a.type==="arrow"?"arrow":null:L,j=a.x,z=a.y,K=!Array.isArray(a.points)||a.points.length<2?[[0,0],[a.width,a.height]]:a.points;if(K[0][0]!==0||K[0][1]!==0){var $=Wr.getNormalizedPoints(a);K=$.points,j=$.x,z=$.y}return Sv(a,{type:a.type==="draw"?"line":a.type,startBinding:a.startBinding,endBinding:a.endBinding,lastCommittedPoint:null,startArrowhead:E,endArrowhead:F,points:K,x:j,y:z});case"ellipse":case"rectangle":case"diamond":return Sv(a,{})}},B2=function(a,s){var l=s?Ni(s):null;return(a||[]).reduce(function(c,h){if(h.type!=="selection"&&!fl(h)){var m=uz(h);if(m){var v=l==null?void 0:l.get(h.id);v&&v.version>m.version&&(m=vu(m,v.version)),c.push(m)}}return c},[])},q_=function(a,s){a=a||{};var l,c=fu(),h={},m=K_(Object.entries(c));try{for(m.s();!(l=m.n()).done;){var v=W(l.value,2),x=v[0],w=v[1],T=a[x],E=s?s[x]:void 0;h[x]=T!==void 0?T:E!==void 0?E:w}}catch(L){m.e(L)}finally{m.f()}return Ff(Ff({},h),{},{elementType:lz[h.elementType]?h.elementType:"selection",zoom:typeof a.zoom=="number"?{value:a.zoom}:a.zoom||c.zoom})},Cv=function(a,s,l){return{elements:B2(a==null?void 0:a.elements,l),appState:q_(a==null?void 0:a.appState,s||null),files:(a==null?void 0:a.files)||{}}},K3=function(a,s){var l,c=[],h=K_(a);try{for(h.s();!(l=h.n()).done;){var m=l.value;if(Array.isArray(m))c.push({status:s,elements:m,id:$a(),created:Date.now()});else{var v=m;c.push(Ff(Ff({},v),{},{id:v.id||$a(),status:v.status||s,created:v.created||Date.now()}))}}}catch(x){h.e(x)}finally{h.f()}return c};function V_(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function G_(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?V_(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):V_(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var Y_=function(){var a=(0,V.Z)(ie().mark(function s(l){var c;return ie().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l.type!==D.LO.png){h.next=18;break}return h.prev=1,h.next=4,Promise.all([b.e(736),b.e(499)]).then(b.bind(b,673));case 4:return h.next=6,h.sent.decodePngMetadata(l);case 6:return h.abrupt("return",h.sent);case 9:if(h.prev=9,h.t0=h.catch(1),h.t0.message!=="INVALID"){h.next=15;break}throw new DOMException(q("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException(q("alerts.cannotRestoreFromImage"),"EncodingError");case 16:h.next=43;break;case 18:if(!("text"in Blob)){h.next=24;break}return h.next=21,l.text();case 21:c=h.sent,h.next=27;break;case 24:return h.next=26,new Promise(function(m){var v=new FileReader;v.readAsText(l,"utf8"),v.onloadend=function(){v.readyState===FileReader.DONE&&m(v.result)}});case 26:c=h.sent;case 27:if(l.type!==D.LO.svg){h.next=43;break}return h.prev=28,h.next=31,Promise.all([b.e(736),b.e(499)]).then(b.bind(b,673));case 31:return h.next=33,h.sent.decodeSvgMetadata({svg:c});case 33:return h.abrupt("return",h.sent);case 36:if(h.prev=36,h.t1=h.catch(28),h.t1.message!=="INVALID"){h.next=42;break}throw new DOMException(q("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException(q("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return h.abrupt("return",c);case 44:case"end":return h.stop()}},s,null,[[1,9],[28,36]])}));return function(s){return a.apply(this,arguments)}}(),X_=function(a){var s;return a&&((s=a.name.match(/\.(json|excalidraw|png|svg)$/))===null||s===void 0?void 0:s[1])||null},W3=function(a){var s=X_(a);return s==="png"||s==="svg"},H2=function(a){var s=(a||{}).type;return!!s&&D.jo.includes(s)},Ev=function(){var a=(0,V.Z)(ie().mark(function s(l,c,h){var m,v,x;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,Y_(l);case 2:if(m=w.sent,w.prev=3,v=JSON.parse(m),mz(v)){w.next=7;break}throw new Error(q("alerts.couldNotLoadInvalidFile"));case 7:return x=Cv({elements:Ot(v.elements||[]),appState:G_(G_({theme:c==null?void 0:c.theme,fileHandle:l.handle||null},sy(v.appState||{})),c?ci(v.elements||[],c):{}),files:v.files},c,h),w.abrupt("return",x);case 11:throw w.prev=11,w.t0=w.catch(3),console.error(w.t0.message),new Error(q("alerts.couldNotLoadInvalidFile"));case 15:case"end":return w.stop()}},s,null,[[3,11]])}));return function(s,l,c){return a.apply(this,arguments)}}(),Z_=function(){var a=(0,V.Z)(ie().mark(function s(l){var c,h;return ie().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Y_(l);case 2:if(c=m.sent,(h=JSON.parse(c)).type===D.r8.excalidrawLibrary){m.next=6;break}throw new Error(q("alerts.couldNotLoadInvalidFile"));case 6:return m.abrupt("return",h);case 7:case"end":return m.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),$3=function(){var a=(0,V.Z)(ie().mark(function s(l){return ie().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(h,m){try{l.toBlob(function(v){if(!v)return m(new Ih(q("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));h(v)})}catch(v){m(v)}}));case 1:case"end":return c.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),cz=function(){var a=(0,V.Z)(ie().mark(function s(l){var c;return ie().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.t0=window.crypto.subtle,h.next=4,l.arrayBuffer();case 4:return h.t1=h.sent,h.next=7,h.t0.digest.call(h.t0,"SHA-1",h.t1);case 7:return c=h.sent,h.abrupt("return",(m=new Uint8Array(c),Array.from(m).map(function(v){return"0".concat(v.toString(16)).slice(-2)}).join("")));case 11:return h.prev=11,h.t2=h.catch(0),console.error(h.t2),h.abrupt("return",el(40));case 15:case"end":return h.stop()}var m},s,null,[[0,11]])}));return function(s){return a.apply(this,arguments)}}(),Q_=function(){var a=(0,V.Z)(ie().mark(function s(l){return ie().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(h,m){var v=new FileReader;v.onload=function(){var x=v.result;h(x)},v.onerror=function(x){return m(x)},v.readAsDataURL(l)}));case 1:case"end":return c.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),fz=function(a){for(var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=a.indexOf(","),c=atob(a.slice(l+1)),h=a.slice(0,l).split(":")[1].split(";")[0],m=new ArrayBuffer(c.length),v=new Uint8Array(m),x=0;x<c.length;x++)v[x]=c.charCodeAt(x);return new File([m],s,{type:h})},q3=function(){var a=(0,V.Z)(ie().mark(function s(l,c){var h,m,v,x,w,T;return ie().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(l.type!==D.LO.svg){E.next=2;break}return E.abrupt("return",l);case 2:return E.next=4,Promise.all([b.e(736).then(b.t.bind(b,4881,23)).then(function(L){return L.default}),b.e(736).then(b.bind(b,100)).then(function(L){return L.default})]);case 4:if(h=E.sent,m=W(h,2),v=m[0],x=m[1],w=x({pica:v({features:["js","wasm"]})}),c.outputType&&(T=c.outputType,w._create_blob=function(L){return this.pica.toBlob(L.out_canvas,T,.8).then(function(F){return L.out_blob=F,L})}),H2(l)){E.next=12;break}throw new Error(q("errors.unsupportedFileType"));case 12:return E.t0=File,E.next=15,w.toBlob(l,{max:c.maxWidthOrHeight});case 15:return E.t1=E.sent,E.t2=[E.t1],E.t3=l.name,E.t4={type:c.outputType||l.type},E.abrupt("return",new E.t0(E.t2,E.t3,E.t4));case 20:case"end":return E.stop()}},s)}));return function(s,l){return a.apply(this,arguments)}}(),J_=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(a)],s,{type:D.LO.svg})};function dz(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return eS(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return eS(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function eS(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}var hz=function(a,s){var l,c={},h=dz(a);try{for(h.s();!(l=h.n()).done;){var m=l.value;!m.isDeleted&&"fileId"in m&&m.fileId&&s[m.fileId]&&(c[m.fileId]=s[m.fileId])}}catch(v){h.e(v)}finally{h.f()}return c},U2=function(a,s,l,c){var h={type:D.r8.excalidraw,version:D.Kr.excalidraw,source:D.pb,elements:c==="local"?Ot(a):nt(a),appState:c==="local"?sy(s):i3(s),files:c==="local"?hz(a,l):void 0};return JSON.stringify(h,null,2)},tS=function(){var a=(0,V.Z)(ie().mark(function s(l,c,h){var m,v,x;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return m=U2(l,c,h,"local"),v=new Blob([m],{type:D.LO.excalidraw}),w.next=4,z2(v,{name:c.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:W3(c.fileHandle)?null:c.fileHandle});case 4:return x=w.sent,w.abrupt("return",{fileHandle:x});case 6:case"end":return w.stop()}},s)}));return function(s,l,c){return a.apply(this,arguments)}}(),pz=function(){var a=(0,V.Z)(ie().mark(function s(l,c){var h;return ie().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,U3({description:"Excalidraw files"});case 2:return h=m.sent,m.abrupt("return",Ev(h,l,c));case 4:case"end":return m.stop()}},s)}));return function(s,l){return a.apply(this,arguments)}}(),mz=function(a){return(a==null?void 0:a.type)===D.r8.excalidraw&&(!a.elements||Array.isArray(a.elements)&&(!a.appState||Zt(a.appState)==="object"))},vz=function(a){return Zt(a)==="object"&&a&&a.type===D.r8.excalidrawLibrary&&(a.version===1||a.version===2)},gz=function(){var a=(0,V.Z)(ie().mark(function s(l){var c,h;return ie().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return c={type:D.r8.excalidrawLibrary,version:D.Kr.excalidrawLibrary,source:D.pb,libraryItems:l},h=JSON.stringify(c,null,2),m.next=4,z2(new Blob([h],{type:D.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 4:case"end":return m.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),yz=function(){var a=(0,V.Z)(ie().mark(function s(l){var c;return ie().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,U3({description:"Excalidraw library files"});case 2:return c=h.sent,h.next=5,l.importLibrary(c);case 5:case"end":return h.stop()}},s)}));return function(s){return a.apply(this,arguments)}}();function rS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function nS(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?rS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):rS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var iS=function(a){return new Promise(function(s,l){var c=new Image;c.onload=function(){s(c)},c.onerror=function(h){l(h)},c.src=a})},aS=function(){var a=(0,V.Z)(ie().mark(function s(l){var c,h,m,v,x;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return c=l.fileIds,h=l.files,m=l.imageCache,v=new Map,x=new Map,w.next=5,Promise.all(c.reduce(function(T,E){var L=h[E];return L&&!v.has(E)?(v.set(E,!0),T.concat((0,V.Z)(ie().mark(function F(){var j,z,K;return ie().wrap(function($){for(;;)switch($.prev=$.next){case 0:if($.prev=0,L.mimeType!==D.LO.binary){$.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return j=iS(L.dataURL),z={image:j,mimeType:L.mimeType},m.set(E,z),$.next=8,j;case 8:K=$.sent,m.set(E,nS(nS({},z),{},{image:K})),$.next=15;break;case 12:$.prev=12,$.t0=$.catch(0),x.set(E,!0);case 15:case"end":return $.stop()}},F,null,[[0,12]])}))())):T},[]));case 5:return w.abrupt("return",{imageCache:m,updatedFiles:v,erroredFiles:x});case 6:case"end":return w.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),oS=function(a){return a.filter(function(s){return po(s)})},bz=function(){var a=(0,V.Z)(ie().mark(function s(l){var c,h;return ie().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(c=new DOMParser().parseFromString(l,D.LO.svg),h=c.querySelector("svg"),!c.querySelector("parsererror")&&((v=h)==null?void 0:v.nodeName.toLowerCase())==="svg"){m.next=7;break}throw new Error(q("errors.invalidSVGString"));case 7:return h.hasAttribute("xmlns")||h.setAttribute("xmlns",D.hR),m.abrupt("return",h.outerHTML);case 9:case"end":return m.stop()}var v},s)}));return function(s){return a.apply(this,arguments)}}(),sS="<!-- svg-source:excalidraw -->",V3=function(){var a=(0,V.Z)(ie().mark(function s(l,c,h,m){var v,x,w,T,E,L,F,j,z,K,$,Z,oe,se,ve,_e,Te,Me,Oe=arguments;return ie().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return v=m.exportBackground,x=m.exportPadding,w=x===void 0?D.qy:x,T=m.viewBackgroundColor,E=Oe.length>4&&Oe[4]!==void 0?Oe[4]:function(He,We){var Ce=document.createElement("canvas");return Ce.width=He*c.exportScale,Ce.height=We*c.exportScale,{canvas:Ce,scale:c.exportScale}},L=G3(l,w),F=W(L,4),j=F[0],z=F[1],K=F[2],$=F[3],Z=E(K,$),oe=Z.canvas,se=Z.scale,ve=se===void 0?1:se,_e=fu(),$e.next=7,aS({imageCache:new Map,fileIds:oS(l).map(function(He){return He.fileId}),files:h});case 7:return Te=$e.sent,Me=Te.imageCache,T_(l,c,null,ve,lu.canvas(oe),oe,{viewBackgroundColor:v?T:null,scrollX:-j+w,scrollY:-z+w,zoom:_e.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:c.exportWithDarkMode?"dark":"light",imageCache:Me,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}),$e.abrupt("return",oe);case 11:case"end":return $e.stop()}},s)}));return function(s,l,c,h){return a.apply(this,arguments)}}(),K2=function(){var a=(0,V.Z)(ie().mark(function s(l,c,h){var m,v,x,w,T,E,L,F,j,z,K,$,Z,oe,se,ve;return ie().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(m=c.exportPadding,v=m===void 0?D.qy:m,x=c.viewBackgroundColor,w=c.exportScale,T=w===void 0?1:w,E=c.exportEmbedScene,L="",!E){_e.next=14;break}return _e.prev=3,_e.next=6,Promise.all([b.e(736),b.e(499)]).then(b.bind(b,673));case 6:return _e.next=8,_e.sent.encodeSvgMetadata({text:U2(l,c,h||{},"local")});case 8:L=_e.sent,_e.next=14;break;case 11:_e.prev=11,_e.t0=_e.catch(3),console.error(_e.t0);case 14:return F=G3(l,v),j=W(F,4),z=j[0],K=j[1],$=j[2],Z=j[3],(oe=document.createElementNS(D.hR,"svg")).setAttribute("version","1.1"),oe.setAttribute("xmlns",D.hR),oe.setAttribute("viewBox","0 0 ".concat($," ").concat(Z)),oe.setAttribute("width","".concat($*T)),oe.setAttribute("height","".concat(Z*T)),c.exportWithDarkMode&&oe.setAttribute("filter",D.ZF),oe.innerHTML=`
  `.concat(sS,`
  `).concat(L,`
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  `),c.exportBackground&&x&&((se=oe.ownerDocument.createElementNS(D.hR,"rect")).setAttribute("x","0"),se.setAttribute("y","0"),se.setAttribute("width","".concat($)),se.setAttribute("height","".concat(Z)),se.setAttribute("fill",x),oe.appendChild(se)),ve=lu.svg(oe),JF(l,ve,oe,h||{},{offsetX:-z+v,offsetY:-K+v,exportWithDarkMode:c.exportWithDarkMode}),_e.abrupt("return",oe);case 27:case"end":return _e.stop()}},s,null,[[3,11]])}));return function(s,l,c){return a.apply(this,arguments)}}(),G3=function(a,s){var l=W(Zn(a),4),c=l[0],h=l[1],m=l[2],v=l[3];return[c,h,wi(c,m)+2*s,wi(h,v)+s+s]};function wz(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return lS(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return lS(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function lS(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}function uS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Rn(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?uS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):uS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var cS=32,ts=12,zf=256,Bf="NOT_SPREADSHEET",Tv="VALID_SPREADSHEET",Ov=function(a){var s=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(a);return s?parseFloat(s[1].replace(/,/g,"")):null},Y3=function(a,s){return a.slice(1).every(function(l){return Ov(l[s])!==null})},fS=function(a){var s=a[0].length;if(s>2)return{type:Bf,reason:"More than 2 columns"};if(s===1){if(!Y3(a,0))return{type:Bf,reason:"Value is not numeric"};var l=Ov(a[0][0])===null,c=(l?a.slice(1):a).map(function(w){return Ov(w[0])});return c.length<2?{type:Bf,reason:"Less than two rows"}:{type:Tv,spreadsheet:{title:l?a[0][0]:null,labels:null,values:c}}}var h=Y3(a,0)?0:1;if(!Y3(a,h))return{type:Bf,reason:"Value is not numeric"};var m=(h+1)%2,v=Ov(a[0][h])===null,x=v?a.slice(1):a;return x.length<2?{type:Bf,reason:"Less than 2 rows"}:{type:Tv,spreadsheet:{title:v?a[0][h]:null,labels:x.map(function(w){return w[m]}),values:x.map(function(w){return Ov(w[h])})}}},W2=il.elementBackground.slice(2,il.elementBackground.length),rs={fillStyle:"hachure",fontFamily:D.rk,fontSize:D.n5,opacity:100,roughness:1,strokeColor:il.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},dS=function(a){return{chartWidth:44*a.values.length+ts,chartHeight:280}},hS=function(a,s,l,c,h,m){var v=dS(a),x=v.chartWidth,w=v.chartHeight,T=a.title?bu(Rn(Rn({backgroundColor:h,groupIds:[c]},rs),{},{text:a.title,x:s+x/2,y:l-zf-24-D.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null,E=m?ah(Rn(Rn({backgroundColor:h,groupIds:[c]},rs),{},{type:"rectangle",x:s,y:l-w,width:x,height:w,strokeColor:il.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat(Re(E?[E]:[]),Re(T?[T]:[]),Re(function(L,F,j,z,K){var $;return(($=L.labels)===null||$===void 0?void 0:$.map(function(Z,oe){return bu(Rn(Rn({groupIds:[z],backgroundColor:K},rs),{},{text:Z.length>8?"".concat(Z.slice(0,5),"..."):Z,x:F+44*oe+24,y:j+6,width:cS,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(a,s,l,c,h)),Re(function(L,F,j,z,K){var $=bu(Rn(Rn({groupIds:[z],backgroundColor:K},rs),{},{x:F-ts,y:j-ts,text:"0",textAlign:"right"}));return[$,bu(Rn(Rn({groupIds:[z],backgroundColor:K},rs),{},{x:F-ts,y:j-zf-$.height/2,text:Math.max.apply(Math,Re(L.values)).toLocaleString(),textAlign:"right"}))]}(a,s,l,c,h)),Re(function(L,F,j,z,K){var $=dS(L),Z=$.chartWidth,oe=$.chartHeight;return[wu(Rn(Rn({backgroundColor:K,groupIds:[z]},rs),{},{type:"line",x:F,y:j,startArrowhead:null,endArrowhead:null,width:Z,points:[[0,0],[Z,0]]})),wu(Rn(Rn({backgroundColor:K,groupIds:[z]},rs),{},{type:"line",x:F,y:j,startArrowhead:null,endArrowhead:null,height:oe,points:[[0,0],[0,-oe]]})),wu(Rn(Rn({backgroundColor:K,groupIds:[z]},rs),{},{type:"line",x:F,y:j-zf-ts,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Z,opacity:50,points:[[0,0],[Z,0]]}))]}(a,s,l,c,h)))},xz=function(a,s,l,c){return a==="line"?function(h,m,v){var x,w=Math.max.apply(Math,Re(h.values)),T=$a(),E=W2[Math.floor(Math.random()*W2.length)],L=0,F=[],j=wz(h.values);try{for(j.s();!(x=j.n()).done;){var z=x.value,K=44*L,$=-z/w*zf;F.push([K,$]),L++}}catch(Oe){j.e(Oe)}finally{j.f()}var Z=Math.max.apply(Math,Re(F.map(function(Oe){return Oe[0]}))),oe=Math.max.apply(Math,Re(F.map(function(Oe){return Oe[1]}))),se=Math.min.apply(Math,Re(F.map(function(Oe){return Oe[0]}))),ve=Math.min.apply(Math,Re(F.map(function(Oe){return Oe[1]}))),_e=wu(Rn(Rn({backgroundColor:E,groupIds:[T]},rs),{},{type:"line",x:m+ts+16,y:v-ts,startArrowhead:null,endArrowhead:null,height:oe-ve,width:Z-se,strokeWidth:2,points:F})),Te=h.values.map(function(Oe,$e){var He=44*$e+6,We=-Oe/w*zf+6;return ah(Rn(Rn({backgroundColor:E,groupIds:[T]},rs),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:m+He+16,y:v+We-24,width:ts,height:ts}))}),Me=h.values.map(function(Oe,$e){var He=44*$e+6,We=Oe/w*zf+6+ts;return wu(Rn(Rn({backgroundColor:E,groupIds:[T]},rs),{},{type:"line",x:m+He+16+6,y:v-We,startArrowhead:null,endArrowhead:null,height:We,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,We]]}))});return[].concat(Re(hS(h,m,v,T,E,D.Vi.DEVELOPMENT==="production")),[_e],Re(Me),Re(Te))}(s,l,c):function(h,m,v){var x=Math.max.apply(Math,Re(h.values)),w=$a(),T=W2[Math.floor(Math.random()*W2.length)],E=h.values.map(function(L,F){var j=L/x*zf;return ah(Rn(Rn({backgroundColor:T,groupIds:[w]},rs),{},{type:"rectangle",x:m+44*F+ts,y:v-j-ts,width:cS,height:j}))});return[].concat(Re(E),Re(hS(h,m,v,w,T,D.Vi.DEVELOPMENT==="production")))}(s,l,c)},X3="",Z3=!1,kz="clipboard"in navigator&&"readText"in navigator.clipboard,$2="clipboard"in navigator&&"writeText"in navigator.clipboard,q2="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,pS=function(){var a=(0,V.Z)(ie().mark(function s(l,c,h){var m,v,x;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return m=Fe(l,c,!0),v={type:D.r8.excalidrawClipboard,elements:m,files:m.reduce(function(T,E){return po(E)&&h[E.fileId]&&(T[E.fileId]=h[E.fileId]),T},{})},x=JSON.stringify(v),X3=x,w.prev=4,Z3=!1,w.next=8,vS(x);case 8:w.next=14;break;case 10:w.prev=10,w.t0=w.catch(4),Z3=!0,console.error(w.t0);case 14:case"end":return w.stop()}},s,null,[[4,10]])}));return function(s,l,c){return a.apply(this,arguments)}}(),mS=function(){if(!X3)return{};try{return JSON.parse(X3)}catch(a){return console.error(a),{}}},_z=function(a){var s=function(l){var c=l.trim().split(`
`).map(function(w){return w.trim().split("	")});if(c.length&&c[0].length!==2&&(c=l.trim().split(`
`).map(function(w){return w.trim().split(",")})),c.length===0)return{type:Bf,reason:"No values"};var h=c[0].length,m=c.every(function(w){return w.length===h});if(!m)return{type:Bf,reason:"All rows don't have same number of columns"};var v=fS(c);if(v.type!==Tv){var x=fS(function(w){for(var T=[],E=0;E<w[0].length;E++){for(var L=[],F=0;F<w.length;F++)L.push(w[F][E]);T.push(L)}return T}(c));if(x.type===Tv)return x}return v}(a);return s.type===Tv?{spreadsheet:s.spreadsheet}:null},Sz=function(){var a=(0,V.Z)(ie().mark(function s(l){var c,h;return ie().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(m.prev=0,!l){m.next=5;break}m.t0=(c=l.clipboardData)===null||c===void 0?void 0:c.getData("text/plain").trim(),m.next=11;break;case 5:if(m.t1=kz,!m.t1){m.next=10;break}return m.next=9,navigator.clipboard.readText();case 9:m.t1=m.sent;case 10:m.t0=m.t1;case 11:return h=m.t0,m.abrupt("return",h||"");case 15:return m.prev=15,m.t2=m.catch(0),m.abrupt("return","");case 18:case"end":return m.stop()}},s,null,[[0,15]])}));return function(s){return a.apply(this,arguments)}}(),Cz=function(){var a=(0,V.Z)(ie().mark(function s(l){var c,h,m,v;return ie().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Sz(l);case 2:if((c=x.sent)&&!c.includes(sS)){x.next=5;break}return x.abrupt("return",mS());case 5:if(!(h=_z(c))){x.next=8;break}return x.abrupt("return",h);case 8:if(m=mS(),x.prev=9,v=JSON.parse(c),w=v,![D.r8.excalidraw,D.r8.excalidrawClipboard].includes(w==null?void 0:w.type)||!Array.isArray(w.elements)){x.next=13;break}return x.abrupt("return",{elements:v.elements,files:v.files});case 13:return x.abrupt("return",m);case 16:return x.prev=16,x.t0=x.catch(9),x.abrupt("return",Z3&&m.elements?m:{text:c});case 19:case"end":return x.stop()}var w},s,null,[[9,16]])}));return function(s){return a.apply(this,arguments)}}(),Ez=function(){var a=(0,V.Z)(ie().mark(function s(l){return ie().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,navigator.clipboard.write([new window.ClipboardItem(we({},D.LO.png,l))]);case 2:case"end":return c.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),vS=function(){var a=(0,V.Z)(ie().mark(function s(l){var c;return ie().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(c=!1,!$2){h.next=11;break}return h.prev=2,h.next=5,navigator.clipboard.writeText(l||"");case 5:c=!0,h.next=11;break;case 8:h.prev=8,h.t0=h.catch(2),console.error(h.t0);case 11:if(c||Tz(l||" ")){h.next=13;break}throw new Error("couldn't copy");case 13:case"end":return h.stop()}},s,null,[[2,8]])}));return function(s){return a.apply(this,arguments)}}(),Tz=function(a){var s=document.documentElement.getAttribute("dir")==="rtl",l=document.createElement("textarea");l.style.border="0",l.style.padding="0",l.style.margin="0",l.style.position="absolute",l.style[s?"right":"left"]="-9999px";var c=window.pageYOffset||document.documentElement.scrollTop;l.style.top="".concat(c,"px"),l.style.fontSize="12pt",l.setAttribute("readonly",""),l.value=a,document.body.appendChild(l);var h=!1;try{l.select(),l.setSelectionRange(0,l.value.length),h=document.execCommand("copy")}catch(m){console.error(m)}return l.remove(),h},V2=function(){var a=(0,V.Z)(ie().mark(function s(l,c,h,m,v){var x,w,T,E,L,F,j,z,K,$;return ie().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(x=v.exportBackground,w=v.exportPadding,T=w===void 0?D.qy:w,E=v.viewBackgroundColor,L=v.name,F=v.fileHandle,j=F===void 0?null:F,c.length!==0){Z.next=3;break}throw new Error(q("alerts.cannotExportEmptyCanvas"));case 3:if(l!=="svg"&&l!=="clipboard-svg"){Z.next=17;break}return Z.next=6,K2(c,{exportBackground:x,exportWithDarkMode:h.exportWithDarkMode,viewBackgroundColor:E,exportPadding:T,exportScale:h.exportScale,exportEmbedScene:h.exportEmbedScene&&l==="svg"},m);case 6:if(z=Z.sent,l!=="svg"){Z.next=13;break}return Z.next=10,z2(new Blob([z.outerHTML],{type:D.LO.svg}),{description:"Export to SVG",name:L,extension:"svg",fileHandle:j});case 10:return Z.abrupt("return",Z.sent);case 13:if(l!=="clipboard-svg"){Z.next=17;break}return Z.next=16,vS(z.outerHTML);case 16:return Z.abrupt("return");case 17:return Z.next=19,V3(c,h,m,{exportBackground:x,viewBackgroundColor:E,exportPadding:T});case 19:return(K=Z.sent).style.display="none",document.body.appendChild(K),Z.next=24,$3(K);case 24:if($=Z.sent,K.remove(),l!=="png"){Z.next=38;break}if(!h.exportEmbedScene){Z.next=33;break}return Z.next=30,Promise.all([b.e(736),b.e(499)]).then(b.bind(b,673));case 30:return Z.next=32,Z.sent.encodePngMetadata({blob:$,metadata:U2(c,h,m,"local")});case 32:$=Z.sent;case 33:return Z.next=35,z2($,{description:"Export to PNG",name:L,extension:"png",fileHandle:j});case 35:return Z.abrupt("return",Z.sent);case 38:if(l!=="clipboard"){Z.next=49;break}return Z.prev=39,Z.next=42,Ez($);case 42:Z.next=49;break;case 44:if(Z.prev=44,Z.t0=Z.catch(39),Z.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){Z.next=48;break}throw Z.t0;case 48:throw new Error(q("alerts.couldNotCopyToClipboard"));case 49:case"end":return Z.stop()}},s,null,[[39,44]])}));return function(s,l,c,h,m){return a.apply(this,arguments)}}();function gS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function yS(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?gS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):gS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var Oz=function(){var a=(0,V.Z)(ie().mark(function s(l,c,h){var m,v,x,w,T,E;return ie().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(v=(m=c).exportBackground,x=m.viewBackgroundColor,w=m.name,T=m.fileHandle,E=X_(T),T&&((F=E)==="png"||F==="svg")){L.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return c=yS(yS({},c),{},{exportEmbedScene:!0}),L.next=7,V2(E,be(l),c,h,{exportBackground:v,viewBackgroundColor:x,name:w,fileHandle:T});case 7:return L.abrupt("return",{fileHandle:T});case 8:case"end":return L.stop()}var F},s)}));return function(s,l,c){return a.apply(this,arguments)}}(),G2=(b(7225),function(a){var s=a.children,l=a.checked,c=a.onChange,h=a.className;return(0,A.jsxs)("div",{className:Sr("Checkbox",h,{"is-checked":l}),onClick:function(m){c(!l,m),m.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,A.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":l,children:f3}),(0,A.jsx)("div",{className:"Checkbox-label",children:s})]})});b(4623);function bS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Az(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?bS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):bS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var Hs=function(a){var s=a.children,l=a.gap,c=a.align,h=a.justifyContent,m=a.className,v=a.style;return(0,A.jsx)("div",{className:Sr("Stack Stack_horizontal",m),style:Az({"--gap":l,alignItems:c,justifyContent:h},v),children:s})},Sl=function(a){var s=a.children,l=a.gap,c=a.align,h=a.justifyContent,m=a.className;return(0,A.jsx)("div",{className:Sr("Stack Stack_vertical",m),style:{"--gap":l,justifyItems:c,justifyContent:h},children:s})},Iz=(b(554),function(a){var s=a.fileName,l=a.onSave;return(0,A.jsxs)(Hs,{className:"ActiveFile",gap:1,align:"center",children:[(0,A.jsxs)("span",{className:"ActiveFile__fileName",children:[k3,(0,A.jsx)("span",{children:s})]}),(0,A.jsx)(tr,{type:"icon",icon:d3,title:q("buttons.save"),"aria-label":q("buttons.save"),onClick:l,"data-testid":"save-button"})]})});function wS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function ji(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?wS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):wS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}_t({name:"changeProjectName",perform:function(a,s,l){return Bh("change","title"),{appState:ji(ji({},s),{},{name:l}),commitToHistory:!1}},PanelComponent:function(a){var s=a.appState,l=a.updateData,c=a.appProps;return(0,A.jsx)(UF,{label:q("labels.fileTitle"),value:s.name||"Unnamed",onChange:function(h){return l(h)},isNameEditable:c.name===void 0&&!s.viewModeEnabled})}}),_t({name:"changeExportScale",perform:function(a,s,l){return{appState:ji(ji({},s),{},{exportScale:l}),commitToHistory:!1}},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData,h=be(s),m=Ct(h,l)?Fe(h,l):h;return(0,A.jsx)(A.Fragment,{children:D.ZB.map(function(v){var x=function(F,j,z){var K=W(G3(F,j).map(function($){return Math.trunc($*z)}),4);return[K[2],K[3]]}(m,D.qy,v),w=W(x,2),T=w[0],E=w[1],L="".concat(q("buttons.scale")," ").concat(v,"x (").concat(T,"x").concat(E,")");return(0,A.jsx)(tr,{size:"small",type:"radio",icon:"".concat(v,"x"),name:"export-canvas-scale",title:L,"aria-label":L,id:"export-canvas-scale",checked:v===l.exportScale,onChange:function(){return c(v)}},v)})})}}),_t({name:"changeExportBackground",perform:function(a,s,l){return{appState:ji(ji({},s),{},{exportBackground:l}),commitToHistory:!1}},PanelComponent:function(a){var s=a.appState,l=a.updateData;return(0,A.jsx)(G2,{checked:s.exportBackground,onChange:function(c){return l(c)},children:q("labels.withBackground")})}}),_t({name:"changeExportEmbedScene",perform:function(a,s,l){return{appState:ji(ji({},s),{},{exportEmbedScene:l}),commitToHistory:!1}},PanelComponent:function(a){var s=a.appState,l=a.updateData;return(0,A.jsxs)(G2,{checked:s.exportEmbedScene,onChange:function(c){return l(c)},children:[q("labels.exportEmbedScene"),(0,A.jsx)(Lc,{label:q("labels.exportEmbedScene_details"),long:!0,children:(0,A.jsx)("div",{className:"excalidraw-tooltip-icon",children:u2})})]})}}),_t({name:"saveToActiveFile",perform:(xS=(0,V.Z)(ie().mark(function a(s,l,c,h){var m,v,x;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(m=!!l.fileHandle,w.prev=1,!W3(l.fileHandle)){w.next=8;break}return w.next=5,Oz(s,l,h.files);case 5:w.t0=w.sent,w.next=11;break;case 8:return w.next=10,tS(s,l,h.files);case 10:w.t0=w.sent;case 11:return v=w.t0,x=v.fileHandle,w.abrupt("return",{commitToHistory:!1,appState:ji(ji({},l),{},{fileHandle:x,toastMessage:m?x!=null&&x.name?q("toast.fileSavedToFilename").replace("{filename}",'"'.concat(x.name,'"')):q("toast.fileSaved"):null})});case 16:return w.prev=16,w.t1=w.catch(1),(w.t1===null||w.t1===void 0?void 0:w.t1.name)!=="AbortError"?console.error(w.t1):console.warn(w.t1),w.abrupt("return",{commitToHistory:!1});case 20:case"end":return w.stop()}},a,null,[[1,16]])})),function(a,s,l,c){return xS.apply(this,arguments)}),keyTest:function(a){return a.key===Be.S&&a[Be.CTRL_OR_CMD]&&!a.shiftKey},PanelComponent:function(a){var s,l=a.updateData,c=a.appState;return(0,A.jsx)(Iz,{onSave:function(){return l(null)},fileName:(s=c.fileHandle)===null||s===void 0?void 0:s.name})}});var xS,kS,_S,Mz=_t({name:"saveFileToDisk",perform:(kS=(0,V.Z)(ie().mark(function a(s,l,c,h){var m,v;return ie().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.prev=0,x.next=3,tS(s,ji(ji({},l),{},{fileHandle:null}),h.files);case 3:return m=x.sent,v=m.fileHandle,x.abrupt("return",{commitToHistory:!1,appState:ji(ji({},l),{},{fileHandle:v})});case 8:return x.prev=8,x.t0=x.catch(0),(x.t0===null||x.t0===void 0?void 0:x.t0.name)!=="AbortError"?console.error(x.t0):console.warn(x.t0),x.abrupt("return",{commitToHistory:!1});case 12:case"end":return x.stop()}},a,null,[[0,8]])})),function(a,s,l,c){return kS.apply(this,arguments)}),keyTest:function(a){return a.key===Be.S&&a.shiftKey&&a[Be.CTRL_OR_CMD]},PanelComponent:function(a){var s=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:n2,title:q("buttons.saveAs"),"aria-label":q("buttons.saveAs"),showAriaLabel:_o(),hidden:!Fc,onClick:function(){return s(null)},"data-testid":"save-as-button"})}});_t({name:"loadScene",perform:(_S=(0,V.Z)(ie().mark(function a(s,l,c,h){var m,v,x,w;return ie().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.prev=0,T.next=3,pz(l,s);case 3:return m=T.sent,v=m.elements,x=m.appState,w=m.files,T.abrupt("return",{elements:v,appState:x,files:w,commitToHistory:!0});case 10:if(T.prev=10,T.t0=T.catch(0),(T.t0===null||T.t0===void 0?void 0:T.t0.name)!=="AbortError"){T.next=15;break}return console.warn(T.t0),T.abrupt("return",!1);case 15:return T.abrupt("return",{elements:s,appState:ji(ji({},l),{},{errorMessage:T.t0.message}),files:h.files,commitToHistory:!1});case 16:case"end":return T.stop()}},a,null,[[0,10]])})),function(a,s,l,c){return _S.apply(this,arguments)}),keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.key===Be.O},PanelComponent:function(a){var s=a.updateData;return a.appState,(0,A.jsx)(tr,{type:"button",icon:uv,title:q("buttons.load"),"aria-label":q("buttons.load"),showAriaLabel:_o(),onClick:s,"data-testid":"load-button"})}}),_t({name:"exportWithDarkMode",perform:function(a,s,l){return{appState:ji(ji({},s),{},{exportWithDarkMode:l}),commitToHistory:!1}},PanelComponent:function(a){var s=a.appState,l=a.updateData;return(0,A.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,A.jsx)(Mh,{value:s.exportWithDarkMode?D.C6.DARK:D.C6.LIGHT,onChange:function(c){l(c===D.C6.DARK)},title:q("labels.toggleExportColorScheme")})})}});function SS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function CS(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?SS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):SS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var ES="{}",Dz=_t({name:"copyStyles",perform:function(a,s){var l=a.find(function(c){return s.selectedElementIds[c.id]});return l&&(ES=JSON.stringify(l)),{appState:CS(CS({},s),{},{toastMessage:q("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===Gd}}),Pz=_t({name:"pasteStyles",perform:function(a,s){var l,c=JSON.parse(ES);return((l=c)==null?void 0:l.type)!=="text"&&(l==null?void 0:l.type)!=="diamond"&&(l==null?void 0:l.type)!=="rectangle"&&(l==null?void 0:l.type)!=="ellipse"&&(l==null?void 0:l.type)!=="arrow"&&(l==null?void 0:l.type)!=="freedraw"&&(l==null?void 0:l.type)!=="line"?{elements:a,commitToHistory:!1}:{elements:a.map(function(h){if(s.selectedElementIds[h.id]){var m=an(h,{backgroundColor:c==null?void 0:c.backgroundColor,strokeWidth:c==null?void 0:c.strokeWidth,strokeColor:c==null?void 0:c.strokeColor,strokeStyle:c==null?void 0:c.strokeStyle,fillStyle:c==null?void 0:c.fillStyle,opacity:c==null?void 0:c.opacity,roughness:c==null?void 0:c.roughness});return Nr(m)&&Nr(h)&&(vt(m,{fontSize:(c==null?void 0:c.fontSize)||D.n5,fontFamily:(c==null?void 0:c.fontFamily)||D.rk,textAlign:(c==null?void 0:c.textAlign)||D.Hg}),Qd(h,Hi(h))),m}return h}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===Mm}}),Lz=function(a){return(0,A.jsx)("button",{className:"help-icon",onClick:a.onClick,type:"button",title:"".concat(a.title," \u2014 ?"),"aria-label":a.title,children:u2})};function TS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Kh(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?TS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):TS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}_t({name:"toggleCanvasMenu",perform:function(a,s){return{appState:Kh(Kh({},s),{},{openMenu:s.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(a){var s=a.appState,l=a.updateData;return(0,A.jsx)(tr,{type:"button",icon:cv,"aria-label":q("buttons.menu"),onClick:l,selected:s.openMenu==="canvas"})}}),_t({name:"toggleEditMenu",perform:function(a,s){return{appState:Kh(Kh({},s),{},{openMenu:s.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{visible:H(l,be(s)),type:"button",icon:p3,"aria-label":q("buttons.edit"),onClick:c,selected:l.openMenu==="shape"})}}),_t({name:"toggleFullScreen",perform:function(){return Y0()||document.documentElement.requestFullscreen(),Y0()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(a){return a.code===Am&&!a[Be.CTRL_OR_CMD]}}),_t({name:"toggleShortcuts",perform:function(a,s,l,c){var h=c.focusContainer;return s.showHelpDialog&&h(),{appState:Kh(Kh({},s),{},{showHelpDialog:!s.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(a){var s=a.updateData;return(0,A.jsx)(Lz,{title:q("helpDialog.title"),onClick:s})},keyTest:function(a){return a.key===Be.QUESTION_MARK}});function OS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Y2(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?OS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):OS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}function Nz(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return AS(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return AS(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function AS(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}var IS=function(a,s){var l=Fe(be(a),s,!0);return l.length>=2&&!function(c){if(c.length>=2){var h,m=Nz(c[0].groupIds);try{var v=function(){var w=h.value;if(c.reduce(function(T,E){return T&&gu(E,w)},!0))return{v:!0}};for(m.s();!(h=m.n()).done;){var x=v();if(Zt(x)==="object")return x.v}}catch(w){m.e(w)}finally{m.f()}}return!1}(l)},MS=_t({name:"group",perform:function(a,s){var l=Fe(be(a),s,!0);if(l.length<2)return{appState:s,elements:a,commitToHistory:!1};var c=kc(s);if(c.length===1){var h=c[0],m=new Set(ka(a,h).map(function($){return $.id})),v=new Set(l.map(function($){return $.id}));if(new Set([].concat(Re(Array.from(m)),Re(Array.from(v)))).size===m.size)return{appState:s,elements:a,commitToHistory:!1}}var x=$a(),w=Ni(l),T=a.map(function($){return w.get($.id)?an($,{groupIds:yy($.groupIds,x,s.editingGroupId)}):$}),E=ka(T,x),L=E[E.length-1],F=T.lastIndexOf(L),j=T.slice(F+1),z=T.slice(0,F).filter(function($){return!gu($,x)}),K=[].concat(Re(z),Re(E),Re(j));return{appState:Bm(x,Y2(Y2({},s),{},{selectedGroupIds:{}}),be(K)),elements:K,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(a,s){return IS(a,s)},keyTest:function(a){return!a.shiftKey&&a[Be.CTRL_OR_CMD]&&a.code===Om},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{hidden:!IS(s,l),type:"button",icon:(0,A.jsx)(dv,{theme:l.theme}),onClick:function(){return c(null)},title:"".concat(q("labels.group")," \u2014 ").concat(fe("CtrlOrCmd+G")),"aria-label":q("labels.group"),visible:Ct(be(s),l)})}}),DS=_t({name:"ungroup",perform:function(a,s){if(kc(s).length===0)return{appState:s,elements:a,commitToHistory:!1};var l=[],c=a.map(function(m){Ba(m)&&l.push(m.id);var v=function(x,w){return x.filter(function(T){return!w[T]})}(m.groupIds,s.selectedGroupIds);return v.length===m.groupIds.length?m:an(m,{groupIds:v})}),h=Go(Y2(Y2({},s),{},{selectedGroupIds:{}}),be(c));return l.forEach(function(m){return h.selectedElementIds[m]=!1}),{appState:h,elements:c,commitToHistory:!0}},keyTest:function(a){return a.shiftKey&&a[Be.CTRL_OR_CMD]&&a.code===Om},contextItemLabel:"labels.ungroup",contextItemPredicate:function(a,s){return kc(s).length>0},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{type:"button",hidden:kc(l).length===0,icon:(0,A.jsx)(zs,{theme:l.theme}),onClick:function(){return c(null)},title:"".concat(q("labels.ungroup")," \u2014 ").concat(fe("CtrlOrCmd+Shift+G")),"aria-label":q("labels.ungroup"),visible:Ct(be(s),l)})}}),Rz=(b(2789),function(a){var s=a.children,l=a.color,c=a.border,h=a.onClick;return(0,A.jsx)("div",{className:"Avatar",style:{background:l,border:"1px solid ".concat(c)},onClick:h,children:s})});function PS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Q3(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?PS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):PS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}_t({name:"goToCollaborator",perform:function(a,s,l){var c=l;return c?{appState:Q3(Q3(Q3({},s),xv({scenePoint:c,viewportDimensions:{width:s.width,height:s.height},zoom:s.zoom})),{},{openMenu:s.openMenu==="canvas"?null:s.openMenu}),commitToHistory:!1}:{appState:s,commitToHistory:!1}},PanelComponent:function(a){var s=a.appState,l=a.updateData,c=a.data,h=c==null?void 0:c.id;if(!h)return null;var m=s.collaborators.get(h);if(!m)return null;var v=R3(h,s),x=v.background,w=v.stroke,T=function(E){if(!E)return"?";var L=E.trim().split(" ");if(L.length<2)return L[0].substring(0,2).toUpperCase();var F=L[0],j=L[L.length-1];return(F[0]+j[0]).toUpperCase()}(m.username);return(0,A.jsx)(Rz,{color:x,border:w,onClick:function(){return l(m.pointer)},children:T})}});function LS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Wh(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?LS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):LS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var jz=_t({name:"addToLibrary",perform:function(a,s,l,c){var h=Fe(be(a),s,!0);return h.some(function(m){return m.type==="image"})?{commitToHistory:!1,appState:Wh(Wh({},s),{},{errorMessage:"Support for adding images to the library coming soon!"})}:c.library.loadLibrary().then(function(m){return c.library.saveLibrary([{id:$a(),status:"unpublished",elements:h.map(xu),created:Date.now()}].concat(Re(m)))}).then(function(){return{commitToHistory:!1,appState:Wh(Wh({},s),{},{toastMessage:q("toast.addedToLibrary")})}}).catch(function(m){return{commitToHistory:!1,appState:Wh(Wh({},s),{},{errorMessage:m.message})}})},contextItemLabel:"labels.addToLibrary"});function NS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function RS(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?NS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):NS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var Fz=function(a,s,l){var c=l.axis,h=l.position,m=Li(a),v=W(c==="x"?["minX","maxX"]:["minY","maxY"],2),x=v[0],w=v[1],T={x:0,y:0};return RS(RS({},T),{},we({},c,h==="start"?s[x]-m[x]:h==="end"?s[w]-m[w]:(s[x]+s[w])/2-(m[x]+m[w])/2))},$h=function(a,s){return Fe(be(a),s).length>1},qh=function(a,s,l){var c=function(m,v){var x=_c(m),w=Li(m);return x.flatMap(function(T){var E=Fz(T,w,v);return T.map(function(L){return an(L,{x:L.x+E.x,y:L.y+E.y})})})}(Fe(be(a),s),l),h=Ni(c);return a.map(function(m){return h.get(m.id)||m})};_t({name:"alignTop",perform:function(a,s){return{appState:s,elements:qh(a,s,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.shiftKey&&a.key===Be.ARROW_UP},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{hidden:!$h(s,l),type:"button",icon:(0,A.jsx)(fv,{theme:l.theme}),onClick:function(){return c(null)},title:"".concat(q("labels.alignTop")," \u2014 ").concat(fe("CtrlOrCmd+Shift+Up")),"aria-label":q("labels.alignTop"),visible:Ct(be(s),l)})}}),_t({name:"alignBottom",perform:function(a,s){return{appState:s,elements:qh(a,s,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.shiftKey&&a.key===Be.ARROW_DOWN},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{hidden:!$h(s,l),type:"button",icon:(0,A.jsx)(c2,{theme:l.theme}),onClick:function(){return c(null)},title:"".concat(q("labels.alignBottom")," \u2014 ").concat(fe("CtrlOrCmd+Shift+Down")),"aria-label":q("labels.alignBottom"),visible:Ct(be(s),l)})}}),_t({name:"alignLeft",perform:function(a,s){return{appState:s,elements:qh(a,s,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.shiftKey&&a.key===Be.ARROW_LEFT},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{hidden:!$h(s,l),type:"button",icon:(0,A.jsx)(y3,{theme:l.theme}),onClick:function(){return c(null)},title:"".concat(q("labels.alignLeft")," \u2014 ").concat(fe("CtrlOrCmd+Shift+Left")),"aria-label":q("labels.alignLeft"),visible:Ct(be(s),l)})}}),_t({name:"alignRight",perform:function(a,s){return{appState:s,elements:qh(a,s,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.shiftKey&&a.key===Be.ARROW_RIGHT},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{hidden:!$h(s,l),type:"button",icon:(0,A.jsx)(xo,{theme:l.theme}),onClick:function(){return c(null)},title:"".concat(q("labels.alignRight")," \u2014 ").concat(fe("CtrlOrCmd+Shift+Right")),"aria-label":q("labels.alignRight"),visible:Ct(be(s),l)})}}),_t({name:"alignVerticallyCentered",perform:function(a,s){return{appState:s,elements:qh(a,s,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{hidden:!$h(s,l),type:"button",icon:(0,A.jsx)(Eu,{theme:l.theme}),onClick:function(){return c(null)},title:q("labels.centerVertically"),"aria-label":q("labels.centerVertically"),visible:Ct(be(s),l)})}}),_t({name:"alignHorizontallyCentered",perform:function(a,s){return{appState:s,elements:qh(a,s,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{hidden:!$h(s,l),type:"button",icon:(0,A.jsx)(ur,{theme:l.theme}),onClick:function(){return c(null)},title:q("labels.centerHorizontally"),"aria-label":q("labels.centerHorizontally"),visible:Ct(be(s),l)})}});function zz(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return jS(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return jS(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function jS(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}var FS=function(a,s){return Fe(be(a),s).length>1},zS=function(a,s,l){var c=function(m,v){var x,w=W(v.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],4),T=w[0],E=w[1],L=w[2],F=w[3],j=Li(m),z=_c(m).map(function(Me){return[Me,Li(Me)]}).sort(function(Me,Oe){return Me[1][E]-Oe[1][E]}),K=0,$=zz(z);try{for($.s();!(x=$.n()).done;)K+=x.value[1][F]}catch(Me){$.e(Me)}finally{$.f()}var Z=(j[F]-K)/(z.length-1);if(Z<0){var oe=z.findIndex(function(Me){return Me[1][T]===j[T]}),se=z.findIndex(function(Me){return Me[1][L]===j[L]}),ve=(z[se][1][E]-z[oe][1][E])/(z.length-1),_e=z[oe][1][E];return z.flatMap(function(Me,Oe){var $e=W(Me,2),He=$e[0],We=$e[1],Ce={x:0,y:0};return Oe!==oe&&Oe!==se&&(_e+=ve,Ce[v.axis]=_e-We[E]),He.map(function(rt){return an(rt,{x:rt.x+Ce.x,y:rt.y+Ce.y})})})}var Te=j[T];return z.flatMap(function(Me){var Oe=W(Me,2),$e=Oe[0],He=Oe[1],We={x:0,y:0};return We[v.axis]=Te-He[T],Te+=Z,Te+=He[F],$e.map(function(Ce){return an(Ce,{x:Ce.x+We.x,y:Ce.y+We.y})})})}(Fe(be(a),s),l),h=Ni(c);return a.map(function(m){return h.get(m.id)||m})},BS=(_t({name:"distributeHorizontally",perform:function(a,s){return{appState:s,elements:zS(a,s,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(a){return a.altKey&&a.code===Im},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{hidden:!FS(s,l),type:"button",icon:(0,A.jsx)(b3,{theme:l.theme}),onClick:function(){return c(null)},title:"".concat(q("labels.distributeHorizontally")," \u2014 ").concat(fe("Alt+H")),"aria-label":q("labels.distributeHorizontally"),visible:Ct(be(s),l)})}}),_t({name:"distributeVertically",perform:function(a,s){return{appState:s,elements:zS(a,s,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(a){return a.altKey&&a.code===Mm},PanelComponent:function(a){var s=a.elements,l=a.appState,c=a.updateData;return(0,A.jsx)(tr,{hidden:!FS(s,l),type:"button",icon:(0,A.jsx)(w3,{theme:l.theme}),onClick:function(){return c(null)},title:"".concat(q("labels.distributeVertically")," \u2014 ").concat(fe("Alt+V")),"aria-label":q("labels.distributeVertically"),visible:Ct(be(s),l)})}}),_t({name:"flipHorizontal",perform:function(a,s){return{elements:US(a,s,"horizontal"),appState:s,commitToHistory:!0}},keyTest:function(a){return a.shiftKey&&a.code==="KeyH"},contextItemLabel:"labels.flipHorizontal",contextItemPredicate:function(a,s){return function(l,c){var h=Fe(be(l),c);return h.length===1&&h[0].type!=="text"}(a,s)}})),HS=_t({name:"flipVertical",perform:function(a,s){return{elements:US(a,s,"vertical"),appState:s,commitToHistory:!0}},keyTest:function(a){return a.shiftKey&&a.code==="KeyV"},contextItemLabel:"labels.flipVertical",contextItemPredicate:function(a,s){return function(l,c){return Fe(be(l),c).length===1}(a,s)}}),US=function(a,s,l){var c=Fe(be(a),s);if(c.length>1)return a;var h=Bz(c,s,l),m=Ni(h);return a.map(function(v){return m.get(v.id)||v})},Bz=function(a,s,l){return a.forEach(function(c){Hz(c,s),l==="vertical"&&Uz(c,Math.PI)}),a},Hz=function(a,s){var l=a.x,c=a.y,h=a.width,m=a.height,v=Qo(a.angle),x=0;(un(a)||Uo(a))&&(x=2*a.points.reduce(function(z,K){return Math.max(z,K[0])},0)-a.width),vt(a,{angle:Qo(0)});var w=Vm(a,s.zoom),T=!0,E=0,L=w.nw;if(L||(T=!1,L=w.ne)){if(un(a)){for(var F=1;F<a.points.length;F++)Wr.movePoints(a,[{index:F,point:[-a.points[F][0],a.points[F][1]]}]);Wr.normalizePoints(a)}else E=T?a.x+2*h:a.x-2*h,_a(a,!0,a,T?"nw":"ne",!1,E,L[1]),vt(a,{width:h,height:m});var j=Qo(2*Math.PI-v);j<0&&(j=Qo(j+2*Math.PI)),vt(a,{angle:j}),vt(a,{x:l+x,y:c}),vl(a)}else vt(a,{angle:v})},Uz=function(a,s){var l=a.x,c=a.y,h=Qo(a.angle+s);h<0&&(h=Qo(2*Math.PI+h)),vt(a,{angle:h}),vt(a,{x:l,y:c})};function KS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Vh(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?KS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):KS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var J3=_t({name:"copy",perform:function(a,s,l,c){return pS(be(a),s,c.files),{commitToHistory:!1}},contextItemLabel:"labels.copy",keyTest:void 0}),Kz=_t({name:"cut",perform:function(a,s,l,c){return J3.perform(a,s,l,c),kr.perform(a,s)},contextItemLabel:"labels.cut",keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.code===xa}}),WS=_t({name:"copyAsSvg",perform:function(){var a=(0,V.Z)(ie().mark(function s(l,c,h,m){var v;return ie().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(m.canvas){x.next=2;break}return x.abrupt("return",{commitToHistory:!1});case 2:return v=Fe(be(l),c,!0),x.prev=3,x.next=6,V2("clipboard-svg",v.length?v:be(l),c,m.files,c);case 6:return x.abrupt("return",{commitToHistory:!1});case 9:return x.prev=9,x.t0=x.catch(3),console.error(x.t0),x.abrupt("return",{appState:Vh(Vh({},c),{},{errorMessage:x.t0.message}),commitToHistory:!1});case 13:case"end":return x.stop()}},s,null,[[3,9]])}));return function(s,l,c,h){return a.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),$S=_t({name:"copyAsPng",perform:function(){var a=(0,V.Z)(ie().mark(function s(l,c,h,m){var v;return ie().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(m.canvas){x.next=2;break}return x.abrupt("return",{commitToHistory:!1});case 2:return v=Fe(be(l),c,!0),x.prev=3,x.next=6,V2("clipboard",v.length?v:be(l),c,m.files,c);case 6:return x.abrupt("return",{appState:Vh(Vh({},c),{},{toastMessage:q("toast.copyToClipboardAsPng",{exportSelection:v.length?q("toast.selection"):q("toast.canvas"),exportColorScheme:c.exportWithDarkMode?q("buttons.darkMode"):q("buttons.lightMode")})}),commitToHistory:!1});case 9:return x.prev=9,x.t0=x.catch(3),console.error(x.t0),x.abrupt("return",{appState:Vh(Vh({},c),{},{errorMessage:x.t0.message}),commitToHistory:!1});case 13:case"end":return x.stop()}},s,null,[[3,9]])}));return function(s,l,c,h){return a.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(a){return a.code===Gd&&a.altKey&&a.shiftKey}});function qS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function VS(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?qS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):qS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var GS=_t({name:"gridMode",perform:function(a,s){return Bh("view","mode","grid"),{appState:VS(VS({},s),{},{gridSize:this.checked(s)?null:D.k}),commitToHistory:!1}},checked:function(a){return a.gridSize!==null},contextItemLabel:"labels.showGrid",keyTest:function(a){return a[Be.CTRL_OR_CMD]&&a.code===t3}});function YS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function XS(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?YS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):YS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var e6=_t({name:"zenMode",perform:function(a,s){return Bh("view","mode","zen"),{appState:XS(XS({},s),{},{zenModeEnabled:!this.checked(s)}),commitToHistory:!1}},checked:function(a){return a.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(a){return!a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===Dm}});function ZS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function QS(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?ZS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):ZS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var t6=_t({name:"stats",perform:function(a,s){return{appState:QS(QS({},s),{},{showStats:!this.checked(s)}),commitToHistory:!1}},checked:function(a){return a.showStats},contextItemLabel:"stats.title",keyTest:function(a){return!a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===iy}}),Wz=_t({name:"unbindText",contextItemLabel:"labels.unbindText",perform:function(a,s){return Fe(be(a),s).forEach(function(l){var c=ul(l);if(c){var h,m=Ds(c.originalText,mn(c)),v=m.width,x=m.height,w=m.baseline;vt(c,{containerId:null,width:v,height:x,baseline:w,text:c.originalText}),vt(l,{boundElements:(h=l.boundElements)===null||h===void 0?void 0:h.filter(function(T){return T.id!==c.id})})}}),{elements:a,appState:s,commitToHistory:!0}}});function JS(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function eC(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?JS(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):JS(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var tC=function(a,s,l){var c=!1;if(!(s.multiElement||s.resizingElement||s.editingElement||s.draggingElement)){var h=l();if(h===null)return{commitToHistory:c};var m=Ni(a),v=h.elements,x=Ni(v),w=a.filter(function(E){return!x.has(E.id)}),T=v.map(function(E){return an(m.get(E.id)||E,E)}).concat(w.map(function(E){return an(E,{isDeleted:!0})}));return ov(T,w),{elements:T,appState:eC(eC({},s),h.appState),commitToHistory:c,syncHistory:!0}}return{commitToHistory:c}},$z=function(){function a(s,l,c,h){var m=this;Ke(this,a),this.actions={},this.renderAction=function(v,x){var w=m.app.props.UIOptions.canvasActions;if(m.actions[v]&&"PanelComponent"in m.actions[v]&&(!(v in w)||w[v])){var T=m.actions[v],E=T.PanelComponent;return(0,A.jsx)(E,{elements:m.getElementsIncludingDeleted(),appState:m.getAppState(),updateData:function(L){m.updater(T.perform(m.getElementsIncludingDeleted(),m.getAppState(),L,m.app))},appProps:m.app.props,data:x})}return null},this.updater=function(v){if(!v||!("then"in v))return s(v);v.then(function(x){return s(x)})},this.getAppState=l,this.getElementsIncludingDeleted=c,this.app=h}return At(a,[{key:"registerAction",value:function(s){this.actions[s.name]=s}},{key:"registerAll",value:function(s){var l=this;s.forEach(function(c){return l.registerAction(c)})}},{key:"handleKeyDown",value:function(s){var l=this,c=this.app.props.UIOptions.canvasActions,h=Object.values(this.actions).sort(function(m,v){return(v.keyPriority||0)-(m.keyPriority||0)}).filter(function(m){return(!(m.name in c)||c[m.name])&&m.keyTest&&m.keyTest(s,l.getAppState(),l.getElementsIncludingDeleted())});return h.length!==0&&!(this.getAppState().viewModeEnabled&&!Object.values(D.EH).includes(h[0].name))&&(s.preventDefault(),this.updater(h[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)}},{key:"executeAction",value:function(s){this.updater(s.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))}}]),a}();function qz(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return rC(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return rC(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function rC(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}function nC(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function iC(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?nC(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):nC(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var Vz=function(){function a(l){var c=this;Ke(this,a),this.libraryCache=null,this.resetLibrary=(0,V.Z)(ie().mark(function h(){var m,v;return ie().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(m=(v=c.app.props).onLibraryChange)===null||m===void 0?void 0:m.call(v,[]);case 2:c.libraryCache=[];case 3:case"end":return x.stop()}},h)})),this.restoreLibraryItem=function(h){var m=be(B2(h.elements,null));return m.length?iC(iC({},h),{},{elements:m}):null},this.loadLibrary=function(){return new Promise(function(){var h=(0,V.Z)(ie().mark(function m(v){var x,w;return ie().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!c.libraryCache){T.next=2;break}return T.abrupt("return",v(JSON.parse(JSON.stringify(c.libraryCache))));case 2:if(T.prev=2,x=c.app.libraryItemsFromStorage){T.next=6;break}return T.abrupt("return",v([]));case 6:w=x.reduce(function(E,L){return c.restoreLibraryItem(L)&&E.push(L),E},[]),c.libraryCache=JSON.parse(JSON.stringify(w)),v(w),T.next=15;break;case 11:T.prev=11,T.t0=T.catch(2),console.error(T.t0),v([]);case 15:case"end":return T.stop()}},m,null,[[2,11]])}));return function(m){return h.apply(this,arguments)}}())},this.saveLibrary=function(){var h=(0,V.Z)(ie().mark(function m(v){var x,w,T,E;return ie().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return x=c.libraryCache,L.prev=1,E=JSON.stringify(v),c.libraryCache=JSON.parse(E),L.next=6,(w=(T=c.app.props).onLibraryChange)===null||w===void 0?void 0:w.call(T,v);case 6:L.next=12;break;case 8:throw L.prev=8,L.t0=L.catch(1),c.libraryCache=x,L.t0;case 12:case"end":return L.stop()}},m,null,[[1,8]])}));return function(m){return h.apply(this,arguments)}}(),this.app=l}var s;return At(a,[{key:"importLibrary",value:(s=(0,V.Z)(ie().mark(function l(c){var h,m,v,x,w,T,E,L,F,j,z,K=arguments;return ie().wrap(function($){for(;;)switch($.prev=$.next){case 0:return h=K.length>1&&K[1]!==void 0?K[1]:"unpublished",$.next=3,Z_(c);case 3:if((m=$.sent)&&(m.libraryItems||m.library)){$.next=6;break}return $.abrupt("return");case 6:return v=function(Z,oe){return!Z.find(function(se){return se.elements.length===oe.elements.length&&se.elements.every(function(ve,_e){return ve.id===oe.elements[_e].id&&ve.versionNonce===oe.elements[_e].versionNonce})})},$.next=9,this.loadLibrary();case 9:x=$.sent,w=m.libraryItems||m.library||[],T=K3(w,h),E=[],L=qz(T);try{for(L.s();!(F=L.n()).done;)j=F.value,(z=this.restoreLibraryItem(j))&&v(x,z)&&E.push(z)}catch(Z){L.e(Z)}finally{L.f()}return $.next=17,this.saveLibrary([].concat(E,Re(x)));case 17:case"end":return $.stop()}},l,this)})),function(l){return s.apply(this,arguments)})}]),a}(),Gz=Vz,aC=function(a){var s=Array.from(a.values());return{x:sC(s,function(l){return l.x})/s.length,y:sC(s,function(l){return l.y})/s.length}},oC=function(a){var s=W(a,2),l=s[0],c=s[1];return Math.hypot(l.x-c.x,l.y-c.y)},sC=function(a,s){return a.reduce(function(l,c){return l+s(c)},0)};function lC(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function uC(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?lC(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):lC(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var Yz=function(a){return{selectedElementIds:a.selectedElementIds,selectedGroupIds:a.selectedGroupIds,viewBackgroundColor:a.viewBackgroundColor,editingLinearElement:a.editingLinearElement,editingGroupId:a.editingGroupId,name:a.name}},Xz=function(){function a(){var s=this;Ke(this,a),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(l,c){return s.dehydrateHistoryEntry({appState:Yz(l),elements:c.reduce(function(h,m){if(un(m)&&l.multiElement&&l.multiElement.id===m.id){if(l.multiElement&&l.multiElement.id===m.id&&m.points.length<2)return h;h.push(uC(uC({},m),{},{points:m.lastCommittedPoint!==m.points[m.points.length-1]?m.points.slice(0,-1):m.points}))}else h.push(m);return h},[])})}}return At(a,[{key:"hydrateHistoryEntry",value:function(s){var l=this,c=s.appState,h=s.elements;return{appState:JSON.parse(c),elements:h.map(function(m){var v,x=(v=l.elementCache.get(m.id))===null||v===void 0?void 0:v.get(m.versionNonce);if(!x)throw new Error("Element not found: ".concat(m.id,":").concat(m.versionNonce));return x})}}},{key:"dehydrateHistoryEntry",value:function(s){var l=this,c=s.appState,h=s.elements;return{appState:JSON.stringify(c),elements:h.map(function(m){l.elementCache.has(m.id)||l.elementCache.set(m.id,new Map);var v=l.elementCache.get(m.id);return v.has(m.versionNonce)||v.set(m.versionNonce,xu(m)),{id:m.id,versionNonce:m.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var s=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(l){return s.hydrateHistoryEntry(l)}),redoStack:this.redoStack.map(function(l){return s.hydrateHistoryEntry(l)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(s){var l,c=this.lastEntry;if(!c||s.elements.length!==c.elements.length)return!0;for(var h=s.elements.length-1;h>-1;h--){var m=s.elements[h],v=c.elements[h];if(!m||!v||m.id!==v.id||m.versionNonce!==v.versionNonce)return!0}for(l in s.appState){var x,w;if(!(l==="editingLinearElement"&&((x=s.appState[l])===null||x===void 0?void 0:x.elementId)===((w=c.appState[l])===null||w===void 0?void 0:w.elementId))&&l!=="selectedElementIds"&&l!=="selectedGroupIds"&&s.appState[l]!==c.appState[l])return!0}return!1}},{key:"pushEntry",value:function(s,l){var c=this.generateEntry(s,l),h=this.hydrateHistoryEntry(c);if(h){if(!this.shouldCreateEntry(h))return;this.stateHistory.push(c),this.lastEntry=h,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var s=this.redoStack.pop();return s!==void 0?(this.stateHistory.push(s),this.hydrateHistoryEntry(s)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var s=this.stateHistory.pop(),l=this.stateHistory[this.stateHistory.length-1];return s!==void 0?(this.redoStack.push(s),this.hydrateHistoryEntry(l)):null}},{key:"setCurrentState",value:function(s,l){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(s,l))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(s,l){this.recording&&(this.pushEntry(s,l),this.recording=!1)}}]),a}(),cC=[{icon:(0,A.jsx)("svg",{viewBox:"0 0 320 512",className:"",children:(0,A.jsx)("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})}),value:"selection",key:Be.V},{icon:(0,A.jsx)("svg",{viewBox:"0 0 448 512",children:(0,A.jsx)("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})}),value:"rectangle",key:Be.R},{icon:(0,A.jsx)("svg",{viewBox:"0 0 223.646 223.646",children:(0,A.jsx)("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})}),value:"diamond",key:Be.D},{icon:(0,A.jsx)("svg",{viewBox:"0 0 512 512",children:(0,A.jsx)("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})}),value:"ellipse",key:Be.E},{icon:(0,A.jsx)("svg",{viewBox:"0 0 448 512",className:"rtl-mirror",children:(0,A.jsx)("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})}),value:"arrow",key:Be.A},{icon:(0,A.jsx)("svg",{viewBox:"0 0 6 6",children:(0,A.jsx)("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})}),value:"line",key:[Be.P,Be.L]},{icon:(0,A.jsx)("svg",{viewBox:"0 0 512 512",children:(0,A.jsx)("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})}),value:"freedraw",key:[Be.X,Be.P.toUpperCase()]},{icon:(0,A.jsx)("svg",{viewBox:"0 0 448 512",children:(0,A.jsx)("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})}),value:"text",key:Be.T},{icon:(0,A.jsx)("svg",{viewBox:"0 0 512 512",children:(0,A.jsx)("path",{fill:"currentColor",d:"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 336H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v276a6 6 0 0 1-6 6zM128 152c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zM96 352h320v-80l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L192 304l-39.515-39.515c-4.686-4.686-12.284-4.686-16.971 0L96 304v48z"})}),value:"image",key:null}],Zz=(b(1292),{cut:[fe("CtrlOrCmd+X")],copy:[fe("CtrlOrCmd+C")],paste:[fe("CtrlOrCmd+V")],copyStyles:[fe("CtrlOrCmd+Alt+C")],pasteStyles:[fe("CtrlOrCmd+Alt+V")],selectAll:[fe("CtrlOrCmd+A")],deleteSelectedElements:[fe("Del")],duplicateSelection:[fe("CtrlOrCmd+D"),fe("Alt+".concat(q("helpDialog.drag")))],sendBackward:[fe("CtrlOrCmd+[")],bringForward:[fe("CtrlOrCmd+]")],sendToBack:[fe(bi?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[fe(bi?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[fe("Shift+Alt+C")],copyAsSvg:[],group:[fe("CtrlOrCmd+G")],ungroup:[fe("CtrlOrCmd+Shift+G")],gridMode:[fe("CtrlOrCmd+'")],zenMode:[fe("Alt+Z")],stats:[fe("Alt+/")],addToLibrary:[],flipHorizontal:[fe("Shift+H")],flipVertical:[fe("Shift+V")],viewMode:[fe("Alt+R")],link:[fe("CtrlOrCmd+K")]}),Qz=function(a){var s=a.options,l=a.onCloseRequest,c=a.top,h=a.left,m=a.actionManager,v=a.appState,x=a.elements;return(0,A.jsx)(sv,{onCloseRequest:l,top:c,left:h,fitInViewport:!0,offsetLeft:v.offsetLeft,offsetTop:v.offsetTop,viewportWidth:v.width,viewportHeight:v.height,children:(0,A.jsx)("ul",{className:"context-menu",onContextMenu:function(w){return w.preventDefault()},children:s.map(function(w,T){var E;if(w==="separator")return(0,A.jsx)("hr",{className:"context-menu-option-separator"},T);var L,F,j=w.name,z="";return w.contextItemLabel&&(z=typeof w.contextItemLabel=="function"?q(w.contextItemLabel(x,v)):q(w.contextItemLabel)),(0,A.jsx)("li",{"data-testid":j,onClick:l,children:(0,A.jsxs)("button",{className:Sr("context-menu-option",{dangerous:j==="deleteSelectedElements",checkmark:(E=w.checked)===null||E===void 0?void 0:E.call(w,v)}),onClick:function(){return m.executeAction(w)},children:[(0,A.jsx)("div",{className:"context-menu-option__label",children:z}),(0,A.jsx)("kbd",{className:"context-menu-option__shortcut",children:j?(L=j,F=Zz[L],F&&F.length>0?F[0]:""):""})]})},T)})})})},X2=new WeakMap,Z2=function(a){var s,l,c=Array.of();a.options.forEach(function(h){h&&c.push(h)}),c.length&&(0,As.render)((0,A.jsx)(Qz,{top:a.top,left:a.left,options:c,onCloseRequest:function(){return h=a.container,void((m=X2.get(h))&&((0,As.unmountComponentAtNode)(m),m.remove(),X2.delete(h)));var h,m},actionManager:a.actionManager,appState:a.appState,elements:a.elements}),(s=a.container,(l=X2.get(s))||(l=document.createElement("div"),s.querySelector(".excalidraw-contextMenuContainer").appendChild(l),X2.set(s,l),l)))};function Jz(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return fC(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return fC(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function fC(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}var dC=function(a){var s,l,c=a.appState,h=a.elements,m=a.renderAction,v=a.elementType,x=$t(be(h),c),w=Boolean(c.editingElement),T=_o(),E=document.documentElement.getAttribute("dir")==="rtl",L=bl(v)||x.some(function(K){return bl(K.type)&&!Gr(K.backgroundColor)}),F=bl(v)||x.some(function(K){return bl(K.type)}),j=((s=x[0])===null||s===void 0?void 0:s.type)||null,z=Jz(x);try{for(z.s();!(l=z.n()).done;)if(l.value.type!==j){j=null;break}}catch(K){z.e(K)}finally{z.f()}return(0,A.jsxs)("div",{className:"panelColumn",children:[(vv(v)&&v!=="image"&&j!=="image"||x.some(function(K){return vv(K.type)}))&&m("changeStrokeColor"),F&&m("changeBackgroundColor"),L&&m("changeFillStyle"),(w2(v)||x.some(function(K){return w2(K.type)}))&&m("changeStrokeWidth"),(v==="freedraw"||x.some(function(K){return K.type==="freedraw"}))&&m("changeStrokeShape"),(x2(v)||x.some(function(K){return x2(K.type)}))&&(0,A.jsxs)(A.Fragment,{children:[m("changeStrokeStyle"),m("changeSloppiness")]}),(Jn(v)||x.some(function(K){return Jn(K.type)}))&&(0,A.jsx)(A.Fragment,{children:m("changeSharpness")}),($i(v)||x.some(function(K){return $i(K.type)}))&&(0,A.jsxs)(A.Fragment,{children:[m("changeFontSize"),m("changeFontFamily"),m("changeTextAlign")]}),(Eh(v)||x.some(function(K){return Eh(K.type)}))&&(0,A.jsx)(A.Fragment,{children:m("changeArrowhead")}),m("changeOpacity"),(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.layers")}),(0,A.jsxs)("div",{className:"buttonList",children:[m("sendToBack"),m("sendBackward"),m("bringToFront"),m("bringForward")]})]}),x.length>1&&(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.align")}),(0,A.jsxs)("div",{className:"buttonList",children:[E?(0,A.jsxs)(A.Fragment,{children:[m("alignRight"),m("alignHorizontallyCentered"),m("alignLeft")]}):(0,A.jsxs)(A.Fragment,{children:[m("alignLeft"),m("alignHorizontallyCentered"),m("alignRight")]}),x.length>2&&m("distributeHorizontally"),(0,A.jsxs)("div",{className:"iconRow",children:[m("alignTop"),m("alignVerticallyCentered"),m("alignBottom"),x.length>2&&m("distributeVertically")]})]})]}),!w&&x.length>0&&(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.actions")}),(0,A.jsxs)("div",{className:"buttonList",children:[!T&&m("duplicateSelection"),!T&&m("deleteSelectedElements"),m("group"),m("ungroup"),x.length===1&&m("link")]})]})]})},hC=function(a){var s=a.canvas,l=a.elementType,c=a.setAppState,h=a.onImageAction;return(0,A.jsx)(A.Fragment,{children:cC.map(function(m,v){var x=m.value,w=m.icon,T=m.key,E=q("toolBar.".concat(x)),L=T&&(typeof T=="string"?T:T[0]),F=L?"".concat(Ko(L)," ").concat(q("helpDialog.or")," ").concat(v+1):"".concat(v+1);return(0,A.jsx)(tr,{className:"Shape",type:"radio",icon:w,checked:l===x,name:"editor-current-shape",title:"".concat(Ko(E)," \u2014 ").concat(F),keyBindingLabel:"".concat(v+1),"aria-label":Ko(E),"aria-keyshortcuts":F,"data-testid":x,onChange:function(j){var z=j.pointerType;c({elementType:x,multiElement:null,selectedElementIds:{}}),ol(s,x),x==="image"&&h({pointerType:z})}},x)})})},eB=function(a){var s=a.renderAction;return a.zoom,(0,A.jsx)(Sl,{gap:1,children:(0,A.jsxs)(Hs,{gap:1,align:"center",children:[s("zoomOut"),s("zoomIn"),s("resetZoom")]})})},pC=function(a){a.appState,a.setAppState;var s=a.actionManager,l=a.showThemeBtn;return(0,A.jsxs)("div",{style:{display:"flex"},children:[s.renderAction("changeViewBackgroundColor"),l&&s.renderAction("toggleTheme")]})},mC=(b(778),function(a){var s=a.isCollaborating,l=a.collaboratorCount,c=a.onClick;return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(tr,{className:Sr("CollabButton",{"is-collaborating":s}),onClick:c,icon:x3,type:"button",title:q("labels.liveCollaboration"),"aria-label":q("labels.liveCollaboration"),showAriaLabel:_o(),children:l>0&&(0,A.jsx)("div",{className:"CollabButton-collaborators",children:l})})})}),tB=function(a){var s=a.message,l=a.onClose,c=W((0,M.useState)(!!s),2),h=c[0],m=c[1],v=Gh().container,x=R().useCallback(function(){m(!1),l&&l(),v==null||v.focus()},[l,v]);return(0,A.jsx)(A.Fragment,{children:h&&(0,A.jsx)(xl,{small:!0,onCloseRequest:x,title:q("errorDialog.title"),children:(0,A.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:s})})})},rB=(b(2205),"filter"in document.createElement("canvas").getContext("2d")),nB=function(){return(0,A.jsxs)("div",{children:[(0,A.jsx)("h3",{children:q("canvasError.cannotShowPreview")}),(0,A.jsx)("p",{children:(0,A.jsx)("span",{children:q("canvasError.canvasTooBig")})}),(0,A.jsxs)("em",{children:["(",q("canvasError.canvasTooBigTip"),")"]})]})},vC=function(a,s){(0,As.unmountComponentAtNode)(s),s.innerHTML="",a instanceof HTMLCanvasElement?s.appendChild(a):(0,As.render)((0,A.jsx)(nB,{}),s)},r6=function(a){var s,l=a.children,c=a.title,h=a.onClick,m=a.color,v=a.shade,x=v===void 0?6:v;return(0,A.jsx)("button",{className:"ExportDialog-imageExportButton",style:(s={},we(s,"--button-color",fr[m][x]),we(s,"--button-color-darker",fr[m][x+1]),we(s,"--button-color-darkest",fr[m][x+2]),s),title:c,"aria-label":c,onClick:h,children:l})},iB=function(a){var s=a.elements,l=a.appState,c=a.files,h=a.exportPadding,m=h===void 0?D.qy:h,v=a.actionManager,x=a.onExportToPng,w=a.onExportToSvg,T=a.onExportToClipboard,E=Ct(s,l),L=W((0,M.useState)(E),2),F=L[0],j=L[1],z=(0,M.useRef)(null),K=l.exportBackground,$=l.viewBackgroundColor,Z=F?Fe(s,l,!0):s;return(0,M.useEffect)(function(){j(E)},[E]),(0,M.useEffect)(function(){var oe=z.current;oe&&V3(Z,l,c,{exportBackground:K,viewBackgroundColor:$,exportPadding:m}).then(function(se){return $3(se).then(function(){vC(se,oe)})}).catch(function(se){console.error(se),vC(new Ih,oe)})},[l,c,Z,K,m,$]),(0,A.jsxs)("div",{className:"ExportDialog",children:[(0,A.jsx)("div",{className:"ExportDialog__preview",ref:z}),rB&&v.renderAction("exportWithDarkMode"),(0,A.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,A.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[v.renderAction("changeExportBackground"),E&&(0,A.jsx)(G2,{checked:F,onChange:function(oe){return j(oe)},children:q("labels.onlySelected")}),v.renderAction("changeExportEmbedScene")]})}),(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,A.jsx)(Hs,{gap:2,children:v.renderAction("changeExportScale")}),(0,A.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:"Scale"})]}),(0,A.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!Fc&&v.renderAction("changeProjectName")}),(0,A.jsxs)(Hs,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,A.jsx)(r6,{color:"indigo",title:q("buttons.exportToPng"),"aria-label":q("buttons.exportToPng"),onClick:function(){return x(Z)},children:"PNG"}),(0,A.jsx)(r6,{color:"red",title:q("buttons.exportToSvg"),"aria-label":q("buttons.exportToSvg"),onClick:function(){return w(Z)},children:"SVG"}),q2&&(0,A.jsx)(r6,{title:q("buttons.copyPngToClipboard"),onClick:function(){return T(Z)},color:"gray",shade:7,children:h3})]})]})},aB=function(a){var s=a.elements,l=a.appState,c=a.files,h=a.exportPadding,m=h===void 0?D.qy:h,v=a.actionManager,x=a.onExportToPng,w=a.onExportToSvg,T=a.onExportToClipboard,E=W((0,M.useState)(!1),2),L=E[0],F=E[1],j=R().useCallback(function(){F(!1)},[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(tr,{onClick:function(){F(!0)},"data-testid":"image-export-button",icon:m3,type:"button","aria-label":q("buttons.exportImage"),showAriaLabel:_o(),title:q("buttons.exportImage")}),L&&(0,A.jsx)(xl,{onCloseRequest:j,title:q("buttons.exportImage"),children:(0,A.jsx)(iB,{elements:s,appState:l,files:c,exportPadding:m,actionManager:v,onExportToPng:x,onExportToSvg:w,onExportToClipboard:T,onCloseRequest:j})})]})},gC=(b(1310),function(a){var s=a.children,l=a.side,c=a.className;return(0,A.jsx)("div",{className:Sr("FixedSideContainer","FixedSideContainer_side_".concat(l),c),children:s})}),yC=(b(7096),function(a){var s=function(l){var c=l.appState,h=l.elements,m=l.isMobile,v=c.elementType,x=c.isResizing,w=c.isRotating,T=c.lastPointerDownWith,E=c.multiElement!==null;if(v==="arrow"||v==="line")return q(E?"hints.linearElementMulti":"hints.linearElement");if(v==="freedraw")return q("hints.freeDraw");if(v==="text")return q("hints.text");if(c.elementType==="image"&&c.pendingImageElement)return q("hints.placeImage");var L,F=Fe(h,c);if(x&&T==="mouse"&&F.length===1){var j=F[0];return un(j)&&j.points.length===2?q("hints.lockAngle"):cc(j)?q("hints.resizeImage"):q("hints.resize")}if(w&&T==="mouse")return q("hints.rotate");if(F.length===1&&Nr(F[0]))return q("hints.text_selected");if(c.editingElement&&Nr(c.editingElement))return q("hints.text_editing");if(v==="selection"){var z;if(((z=c.draggingElement)===null||z===void 0?void 0:z.type)==="selection"&&!c.editingElement&&!c.editingLinearElement)return q("hints.deepBoxSelect");if(!F.length&&!m)return q("hints.canvasPanning")}if(F.length===1){if(un(F[0]))return c.editingLinearElement?c.editingLinearElement.selectedPointsIndices?q("hints.lineEditor_pointSelected"):q("hints.lineEditor_nothingSelected"):q("hints.lineEditor_info");if((L=F[0])!=null&&(L.type==="rectangle"||L.type==="diamond"||L.type==="ellipse"||L.type==="image"))return q("hints.bindTextToElement")}return null}({appState:a.appState,elements:a.elements,isMobile:a.isMobile});return s?(s=fe(s),(0,A.jsx)("div",{className:"HintViewer",children:(0,A.jsx)("span",{children:s})})):null}),bC={CHECKED:(0,A.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:(0,A.jsx)("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})}),UNCHECKED:(0,A.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:(0,A.jsx)("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})})},wC=function(a){return(0,A.jsxs)("label",{className:Sr("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_".concat("medium"),{"is-mobile":a.isMobile}),title:"".concat(a.title," \u2014 Q"),children:[(0,A.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:a.name,onChange:a.onChange,checked:a.checked,"aria-label":a.title}),(0,A.jsx)("div",{className:"ToolIcon__icon",children:a.checked?bC.CHECKED:bC.UNCHECKED})]})},oB=["heading","children"];function xC(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function kC(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?xC(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):xC(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var zc=function(a){var s=a.heading,l=a.children,c=xc(a,oB),h=Gh().id,m=(0,A.jsx)("h2",{className:"visually-hidden",id:"".concat(h,"-").concat(s,"-title"),children:q("headings.".concat(s))});return(0,A.jsx)("section",kC(kC({},c),{},{"aria-labelledby":"".concat(h,"-").concat(s,"-title"),children:typeof l=="function"?l(m):(0,A.jsxs)(A.Fragment,{children:[m,l]})}))},_C=(b(580),function(a){var s=a.children,l=a.className,c=a.mobile;return(0,A.jsx)("div",{className:Sr("UserList",l,{UserList_mobile:c}),children:s})}),sB=(0,A.jsx)("svg",{viewBox:"0 0 576 512",children:(0,A.jsx)("path",{fill:"currentColor",d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"})}),SC=function(a){var s=a.appState,l=a.setAppState,c=a.isMobile;return(0,A.jsxs)("label",{className:Sr("ToolIcon ToolIcon_type_floating ToolIcon__library","ToolIcon_size_medium",{"is-mobile":c}),title:"".concat(Ko(q("toolBar.library"))," \u2014 0"),children:[(0,A.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(h){l({isLibraryOpen:h.target.checked})},checked:s.isLibraryOpen,"aria-label":Ko(q("toolBar.library")),"aria-keyshortcuts":"0"}),(0,A.jsx)("div",{className:"ToolIcon__icon",children:sB})]})},CC="medium",EC={CHECKED:(0,A.jsxs)("svg",{width:"205",height:"205",viewBox:"0 0 205 205",xmlns:"http://www.w3.org/2000/svg",children:[(0,A.jsx)("path",{d:"m35 195-25-29.17V50h50v115l-25 30"}),(0,A.jsx)("path",{d:"M10 40V10h50v30H10"}),(0,A.jsx)("path",{d:"M125 145h70v50h-70"}),(0,A.jsx)("path",{d:"M190 145v-30l-10-20h-40l-10 20v30h15v-30l5-5h20l5 5v30h15"})]}),UNCHECKED:(0,A.jsxs)("svg",{width:"205",height:"205",viewBox:"0 0 205 205",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:[(0,A.jsx)("path",{d:"m35 195-25-29.17V50h50v115l-25 30"}),(0,A.jsx)("path",{d:"M10 40V10h50v30H10"}),(0,A.jsx)("path",{d:"M125 145h70v50h-70"}),(0,A.jsx)("path",{d:"M145 145v-30l-10-20H95l-10 20v30h15v-30l5-5h20l5 5v30h15"})]})},TC=function(a){return a.penDetected?(0,A.jsxs)("label",{className:Sr("ToolIcon ToolIcon__penMode ToolIcon_type_floating","ToolIcon_size_".concat(CC),{"is-mobile":a.isMobile}),title:"".concat(a.title),children:[(0,A.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:a.name,onChange:a.onChange,checked:a.checked,"aria-label":a.title}),(0,A.jsx)("div",{className:"ToolIcon__icon",children:a.checked?EC.CHECKED:EC.UNCHECKED})]}):a.isMobile?null:(0,A.jsx)("label",{className:Sr("ToolIcon ToolIcon__penMode ToolIcon_type_floating","ToolIcon_size_".concat(CC),{"is-mobile":a.isMobile}),children:(0,A.jsx)("div",{className:"ToolIcon__icon ToolIcon__hidden"})})};function OC(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}var lB=function(a){var s=a.appState,l=a.elements,c=a.libraryMenu,h=a.actionManager,m=a.renderJSONExportDialog,v=a.renderImageExportDialog,x=a.setAppState,w=a.onCollabButtonClick,T=a.onLockToggle,E=a.onPenModeToggle,L=a.canvas,F=a.isCollaborating,j=a.renderCustomFooter,z=a.viewModeEnabled,K=a.showThemeBtn,$=a.onImageAction,Z=a.renderTopRightUI;return(0,A.jsxs)(A.Fragment,{children:[!z&&(0,A.jsxs)(gC,{side:"top",className:"App-top-bar",children:[(0,A.jsx)(zc,{heading:"shapes",children:function(oe){return(0,A.jsxs)(Sl,{gap:4,align:"center",children:[(0,A.jsxs)(Hs,{gap:1,className:"App-toolbar-container",children:[(0,A.jsxs)(es,{padding:1,className:"App-toolbar",children:[oe,(0,A.jsx)(Hs,{gap:1,children:(0,A.jsx)(hC,{canvas:L,elementType:s.elementType,setAppState:x,onImageAction:function(se){var ve=se.pointerType;$({insertOnCanvasDirectly:ve!=="mouse"})}})})]}),Z&&Z(!0,s),(0,A.jsx)(wC,{checked:s.elementLocked,onChange:T,title:q("toolBar.lock"),isMobile:!0}),(0,A.jsx)(SC,{appState:s,setAppState:x,isMobile:!0}),(0,A.jsx)(TC,{checked:s.penMode,onChange:E,title:q("toolBar.penMode"),isMobile:!0,penDetected:s.penDetected})]}),c]})}}),(0,A.jsx)(yC,{appState:s,elements:l,isMobile:!0})]}),(0,A.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14},children:(0,A.jsxs)(es,{padding:0,children:[s.openMenu==="canvas"?(0,A.jsx)(zc,{className:"App-mobile-menu",heading:"canvasActions",children:(0,A.jsx)("div",{className:"panelColumn",children:(0,A.jsxs)(Sl,{gap:4,children:[z?(0,A.jsxs)(A.Fragment,{children:[m(),v()]}):(0,A.jsxs)(A.Fragment,{children:[h.renderAction("clearCanvas"),h.renderAction("loadScene"),m(),v(),w&&(0,A.jsx)(mC,{isCollaborating:F,collaboratorCount:s.collaborators.size,onClick:w}),(0,A.jsx)(pC,{actionManager:h,appState:s,setAppState:x,showThemeBtn:K})]}),j==null?void 0:j(!0,s),s.collaborators.size>0&&(0,A.jsxs)("fieldset",{children:[(0,A.jsx)("legend",{children:q("labels.collaborators")}),(0,A.jsx)(_C,{mobile:!0,children:Array.from(s.collaborators).filter(function(oe){var se=W(oe,2),ve=(se[0],se[1]);return Object.keys(ve).length!==0}).map(function(oe){var se=W(oe,2),ve=se[0];return se[1],(0,A.jsx)(R().Fragment,{children:h.renderAction("goToCollaborator",{id:ve})},ve)})})]})]})})}):s.openMenu==="shape"&&!z&&H(s,l)?(0,A.jsx)(zc,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,A.jsx)(dC,{appState:s,elements:l,renderAction:h.renderAction,elementType:s.elementType})}):null,(0,A.jsxs)("footer",{className:"App-toolbar",children:[z?(0,A.jsx)("div",{className:"App-toolbar-content",children:h.renderAction("toggleCanvasMenu")}):(0,A.jsxs)("div",{className:"App-toolbar-content",children:[h.renderAction("toggleCanvasMenu"),h.renderAction("toggleEditMenu"),h.renderAction("undo"),h.renderAction("redo"),h.renderAction(s.multiElement?"finalize":"duplicateSelection"),h.renderAction("deleteSelectedElements")]}),s.scrolledOutside&&!s.openMenu&&(0,A.jsx)("button",{className:"scroll-back-to-content",onClick:function(){x(function(oe){for(var se=1;se<arguments.length;se++){var ve=arguments[se]!=null?arguments[se]:{};se%2?OC(Object(ve),!0).forEach(function(_e){we(oe,_e,ve[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ve)):OC(Object(ve)).forEach(function(_e){Object.defineProperty(oe,_e,Object.getOwnPropertyDescriptor(ve,_e))})}return oe}({},ci(l,s)))},children:q("buttons.scrollBackToContent")})]})]})})]})},AC=(b(8051),function(a){var s=(0,M.useRef)(null),l=W((0,M.useState)(null),2),c=l[0],h=l[1];return(0,M.useLayoutEffect)(function(){if(a.spreadsheet){var m,v=xz(a.chartType,a.spreadsheet,0,0);h(v);var x=s.current;return(0,V.Z)(ie().mark(function w(){return ie().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,K2(v,{exportBackground:!1,viewBackgroundColor:fr.white},null);case 2:m=T.sent,x.appendChild(m),a.selected&&x.parentNode.focus();case 5:case"end":return T.stop()}},w)}))(),function(){x.removeChild(m)}}},[a.spreadsheet,a.chartType,a.selected]),(0,A.jsx)("button",{className:"ChartPreview",onClick:function(){c&&a.onClick(a.chartType,c)},children:(0,A.jsx)("div",{ref:s})})}),uB=function(a){var s=a.setAppState,l=a.appState,c=a.onClose,h=a.onInsertChart,m=R().useCallback(function(){c&&c()},[c]),v=function(x,w){h(w),Bh("magic","chart",x),s({currentChartType:x,pasteDialog:{shown:!1,data:null}})};return(0,A.jsx)(xl,{small:!0,onCloseRequest:m,title:q("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,A.jsxs)("div",{className:"container",children:[(0,A.jsx)(AC,{chartType:"bar",spreadsheet:l.pasteDialog.data,selected:l.currentChartType==="bar",onClick:v}),(0,A.jsx)(AC,{chartType:"line",spreadsheet:l.pasteDialog.data,selected:l.currentChartType==="line",onClick:v})]})})};b(3922);function IC(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}var cB=function(){return(0,A.jsxs)("div",{className:"HelpDialog--header",children:[(0,A.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:q("helpDialog.documentation")}),(0,A.jsx)("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:q("helpDialog.blog")}),(0,A.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:q("helpDialog.github")})]})},fB=function(a){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("h3",{children:a.title}),a.children]})},dB=function(a){return(0,A.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},children:a.children})},MC=function(a){return(0,A.jsx)("div",{style:{width:"49%"},children:a.children})},n6=function(a){return(0,A.jsxs)("div",{className:"HelpDialog--island",children:[(0,A.jsx)("h3",{className:"HelpDialog--island-title",children:a.caption}),a.children]})},Lt=function(a){return(0,A.jsx)("div",{className:"HelpDialog--shortcut",children:(0,A.jsxs)("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"},children:[(0,A.jsx)("div",{style:{lineHeight:1.4},children:a.label}),(0,A.jsx)("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"},children:a.shortcuts.map(function(s,l){return(0,A.jsxs)(R().Fragment,{children:[(0,A.jsx)(hB,{children:s}),a.isOr&&l!==a.shortcuts.length-1&&q("helpDialog.or")]},l)})})]})})};Lt.defaultProps={isOr:!0};var hB=function(a){return(0,A.jsx)("kbd",function(s){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?IC(Object(c),!0).forEach(function(h){we(s,h,c[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(c)):IC(Object(c)).forEach(function(h){Object.defineProperty(s,h,Object.getOwnPropertyDescriptor(c,h))})}return s}({className:"HelpDialog--key"},a))},pB=function(a){var s=a.onClose,l=R().useCallback(function(){s&&s()},[s]);return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(xl,{onCloseRequest:l,title:q("helpDialog.title"),className:"HelpDialog",children:[(0,A.jsx)(cB,{}),(0,A.jsx)(fB,{title:q("helpDialog.shortcuts"),children:(0,A.jsxs)(dB,{children:[(0,A.jsxs)(MC,{children:[(0,A.jsxs)(n6,{caption:q("helpDialog.shapes"),children:[(0,A.jsx)(Lt,{label:q("toolBar.selection"),shortcuts:["V","1"]}),(0,A.jsx)(Lt,{label:q("toolBar.rectangle"),shortcuts:["R","2"]}),(0,A.jsx)(Lt,{label:q("toolBar.diamond"),shortcuts:["D","3"]}),(0,A.jsx)(Lt,{label:q("toolBar.ellipse"),shortcuts:["E","4"]}),(0,A.jsx)(Lt,{label:q("toolBar.arrow"),shortcuts:["A","5"]}),(0,A.jsx)(Lt,{label:q("toolBar.line"),shortcuts:["P","6"]}),(0,A.jsx)(Lt,{label:q("toolBar.freedraw"),shortcuts:["Shift + P","X","7"]}),(0,A.jsx)(Lt,{label:q("toolBar.text"),shortcuts:["T","8"]}),(0,A.jsx)(Lt,{label:q("toolBar.image"),shortcuts:["9"]}),(0,A.jsx)(Lt,{label:q("toolBar.library"),shortcuts:["0"]}),(0,A.jsx)(Lt,{label:q("helpDialog.editSelectedShape"),shortcuts:[fe("Enter"),q("helpDialog.doubleClick")]}),(0,A.jsx)(Lt,{label:q("helpDialog.textNewLine"),shortcuts:[fe("Enter"),fe("Shift+Enter")]}),(0,A.jsx)(Lt,{label:q("helpDialog.textFinish"),shortcuts:[fe("Esc"),fe("CtrlOrCmd+Enter")]}),(0,A.jsx)(Lt,{label:q("helpDialog.curvedArrow"),shortcuts:["A",q("helpDialog.click"),q("helpDialog.click"),q("helpDialog.click")],isOr:!1}),(0,A.jsx)(Lt,{label:q("helpDialog.curvedLine"),shortcuts:["L",q("helpDialog.click"),q("helpDialog.click"),q("helpDialog.click")],isOr:!1}),(0,A.jsx)(Lt,{label:q("toolBar.lock"),shortcuts:["Q"]}),(0,A.jsx)(Lt,{label:q("helpDialog.preventBinding"),shortcuts:[fe("CtrlOrCmd")]}),(0,A.jsx)(Lt,{label:q("toolBar.link"),shortcuts:[fe("CtrlOrCmd+K")]})]}),(0,A.jsxs)(n6,{caption:q("helpDialog.view"),children:[(0,A.jsx)(Lt,{label:q("buttons.zoomIn"),shortcuts:[fe("CtrlOrCmd++")]}),(0,A.jsx)(Lt,{label:q("buttons.zoomOut"),shortcuts:[fe("CtrlOrCmd+-")]}),(0,A.jsx)(Lt,{label:q("buttons.resetZoom"),shortcuts:[fe("CtrlOrCmd+0")]}),(0,A.jsx)(Lt,{label:q("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,A.jsx)(Lt,{label:q("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,A.jsx)(Lt,{label:q("buttons.fullScreen"),shortcuts:["F"]}),(0,A.jsx)(Lt,{label:q("buttons.zenMode"),shortcuts:[fe("Alt+Z")]}),(0,A.jsx)(Lt,{label:q("labels.showGrid"),shortcuts:[fe("CtrlOrCmd+'")]}),(0,A.jsx)(Lt,{label:q("labels.viewMode"),shortcuts:[fe("Alt+R")]}),(0,A.jsx)(Lt,{label:q("labels.toggleTheme"),shortcuts:[fe("Alt+Shift+D")]}),(0,A.jsx)(Lt,{label:q("stats.title"),shortcuts:[fe("Alt+/")]})]})]}),(0,A.jsx)(MC,{children:(0,A.jsxs)(n6,{caption:q("helpDialog.editor"),children:[(0,A.jsx)(Lt,{label:q("labels.selectAll"),shortcuts:[fe("CtrlOrCmd+A")]}),(0,A.jsx)(Lt,{label:q("labels.multiSelect"),shortcuts:[fe("Shift+".concat(q("helpDialog.click")))]}),(0,A.jsx)(Lt,{label:q("helpDialog.deepSelect"),shortcuts:[fe("CtrlOrCmd+".concat(q("helpDialog.click")))]}),(0,A.jsx)(Lt,{label:q("helpDialog.deepBoxSelect"),shortcuts:[fe("CtrlOrCmd+".concat(q("helpDialog.drag")))]}),(0,A.jsx)(Lt,{label:q("labels.moveCanvas"),shortcuts:[fe("Space+".concat(q("helpDialog.drag"))),fe("Wheel+".concat(q("helpDialog.drag")))],isOr:!0}),(0,A.jsx)(Lt,{label:q("labels.cut"),shortcuts:[fe("CtrlOrCmd+X")]}),(0,A.jsx)(Lt,{label:q("labels.copy"),shortcuts:[fe("CtrlOrCmd+C")]}),(0,A.jsx)(Lt,{label:q("labels.paste"),shortcuts:[fe("CtrlOrCmd+V")]}),(0,A.jsx)(Lt,{label:q("labels.copyAsPng"),shortcuts:[fe("Shift+Alt+C")]}),(0,A.jsx)(Lt,{label:q("labels.copyStyles"),shortcuts:[fe("CtrlOrCmd+Alt+C")]}),(0,A.jsx)(Lt,{label:q("labels.pasteStyles"),shortcuts:[fe("CtrlOrCmd+Alt+V")]}),(0,A.jsx)(Lt,{label:q("labels.delete"),shortcuts:[fe("Del")]}),(0,A.jsx)(Lt,{label:q("labels.sendToBack"),shortcuts:[fe(bi?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),(0,A.jsx)(Lt,{label:q("labels.bringToFront"),shortcuts:[fe(bi?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),(0,A.jsx)(Lt,{label:q("labels.sendBackward"),shortcuts:[fe("CtrlOrCmd+[")]}),(0,A.jsx)(Lt,{label:q("labels.bringForward"),shortcuts:[fe("CtrlOrCmd+]")]}),(0,A.jsx)(Lt,{label:q("labels.alignTop"),shortcuts:[fe("CtrlOrCmd+Shift+Up")]}),(0,A.jsx)(Lt,{label:q("labels.alignBottom"),shortcuts:[fe("CtrlOrCmd+Shift+Down")]}),(0,A.jsx)(Lt,{label:q("labels.alignLeft"),shortcuts:[fe("CtrlOrCmd+Shift+Left")]}),(0,A.jsx)(Lt,{label:q("labels.alignRight"),shortcuts:[fe("CtrlOrCmd+Shift+Right")]}),(0,A.jsx)(Lt,{label:q("labels.duplicateSelection"),shortcuts:[fe("CtrlOrCmd+D"),fe("Alt+".concat(q("helpDialog.drag")))]}),(0,A.jsx)(Lt,{label:q("buttons.undo"),shortcuts:[fe("CtrlOrCmd+Z")]}),(0,A.jsx)(Lt,{label:q("buttons.redo"),shortcuts:$0?[fe("CtrlOrCmd+Y"),fe("CtrlOrCmd+Shift+Z")]:[fe("CtrlOrCmd+Shift+Z")]}),(0,A.jsx)(Lt,{label:q("labels.group"),shortcuts:[fe("CtrlOrCmd+G")]}),(0,A.jsx)(Lt,{label:q("labels.ungroup"),shortcuts:[fe("CtrlOrCmd+Shift+G")]}),(0,A.jsx)(Lt,{label:q("labels.flipHorizontal"),shortcuts:[fe("Shift+H")]}),(0,A.jsx)(Lt,{label:q("labels.flipVertical"),shortcuts:[fe("Shift+V")]}),(0,A.jsx)(Lt,{label:q("labels.showStroke"),shortcuts:[fe("S")]}),(0,A.jsx)(Lt,{label:q("labels.showBackground"),shortcuts:[fe("G")]}),(0,A.jsx)(Lt,{label:q("labels.decreaseFontSize"),shortcuts:[fe("CtrlOrCmd+Shift+<")]}),(0,A.jsx)(Lt,{label:q("labels.increaseFontSize"),shortcuts:[fe("CtrlOrCmd+Shift+>")]})]})})]})})]})})},DC=(b(5080),function(a){var s,l=a.children,c=a.color;return(0,A.jsx)("div",{className:"Card",style:(s={},we(s,"--card-color",c==="primary"?"var(--color-primary)":fr[c][7]),we(s,"--card-color-darker",c==="primary"?"var(--color-primary-darker)":fr[c][8]),we(s,"--card-color-darkest",c==="primary"?"var(--color-primary-darkest)":fr[c][9]),s),children:l})}),mB=function(a){var s=a.elements,l=a.appState,c=a.files,h=a.actionManager,m=a.exportOpts,v=a.canvas,x=m.onExportToBackend;return(0,A.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,A.jsxs)("div",{className:"ExportDialog-cards",children:[m.saveFileToDisk&&(0,A.jsxs)(DC,{color:"lime",children:[(0,A.jsx)("div",{className:"Card-icon",children:i2}),(0,A.jsx)("h2",{children:q("exportDialog.disk_title")}),(0,A.jsxs)("div",{className:"Card-details",children:[q("exportDialog.disk_details"),!Fc&&h.renderAction("changeProjectName")]}),(0,A.jsx)(tr,{className:"Card-button",type:"button",title:q("exportDialog.disk_button"),"aria-label":q("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){h.executeAction(Mz)}})]}),x&&(0,A.jsxs)(DC,{color:"pink",children:[(0,A.jsx)("div",{className:"Card-icon",children:r2}),(0,A.jsx)("h2",{children:q("exportDialog.link_title")}),(0,A.jsx)("div",{className:"Card-details",children:q("exportDialog.link_details")}),(0,A.jsx)(tr,{className:"Card-button",type:"button",title:q("exportDialog.link_button"),"aria-label":q("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){return x(s,l,c,v)}})]}),m.renderCustomUI&&m.renderCustomUI(s,l,c,v)]})})},vB=function(a){var s=a.elements,l=a.appState,c=a.files,h=a.actionManager,m=a.exportOpts,v=a.canvas,x=W((0,M.useState)(!1),2),w=x[0],T=x[1],E=R().useCallback(function(){T(!1)},[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(tr,{onClick:function(){T(!0)},"data-testid":"json-export-button",icon:bh,type:"button","aria-label":q("buttons.export"),showAriaLabel:_o(),title:q("buttons.export")}),w&&(0,A.jsx)(xl,{onCloseRequest:E,title:q("buttons.export"),children:(0,A.jsx)(mB,{elements:s,appState:l,files:c,actionManager:h,onCloseRequest:E,exportOpts:m,canvas:v})})]})};function PC(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Bc(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?PC(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):PC(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var i6=function(a){var s=a.elements,l=a.appState,c=a.files,h=a.maxWidthOrHeight,m=a.getDimensions,v=Cv({elements:s,appState:l},null,null),x=v.elements,w=v.appState,T=w.exportBackground,E=w.viewBackgroundColor;return V3(be(x),Bc(Bc({},w),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),c||{},{exportBackground:T,viewBackgroundColor:E},function(L,F){var j,z=document.createElement("canvas");if(h){typeof m=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var K=Math.max(L,F),$=h/K;return z.width=L*$,z.height=F*$,{canvas:z,scale:$}}var Z=(m==null?void 0:m(L,F))||{width:L,height:F};return z.width=Z.width,z.height=Z.height,{canvas:z,scale:(j=Z.scale)!==null&&j!==void 0?j:1}})},gB=function(){var a=(0,V.Z)(ie().mark(function s(l){var c,h,m,v,x,w;return ie().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return m=(h=l).mimeType,v=m===void 0?D.LO.png:m,x=h.quality,v===D.LO.png&&typeof x=="number"&&console.warn('"quality" will be ignored for "'.concat(D.LO.png,'" mimeType')),v==="image/jpg"&&(v=D.LO.jpg),v!==D.LO.jpg||(c=l.appState)!==null&&c!==void 0&&c.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(D.LO.jpg,'" mimeType')),l=Bc(Bc({},l),{},{appState:Bc(Bc({},l.appState),{},{exportBackground:!0})})),T.next=6,i6(l);case 6:return w=T.sent,x=x||(/image\/jpe?g/.test(v)?.92:.8),T.abrupt("return",new Promise(function(E){w.toBlob(function(L){E(L)},v,x)}));case 9:case"end":return T.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),LC=function(){var a=(0,V.Z)(ie().mark(function s(l){var c,h,m,v,x,w,T,E,L;return ie().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return c=l.elements,h=l.appState,m=h===void 0?fu():h,v=l.files,x=v===void 0?{}:v,w=l.exportPadding,T=Cv({elements:c,appState:m},null,null),E=T.elements,L=T.appState,F.abrupt("return",K2(be(E),Bc(Bc({},L),{},{exportPadding:w}),x));case 3:case"end":return F.stop()}},s)}));return function(s){return a.apply(this,arguments)}}();b(9295),b(9781);function NC(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function RC(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?NC(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):NC(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var yB=function(a){var s=a.libItem,l=a.appState,c=a.index,h=a.onChange,m=a.onRemove,v=(0,M.useRef)(null),x=(0,M.useRef)(null);return(0,M.useEffect)(function(){var w=v.current;w&&(0,V.Z)(ie().mark(function T(){var E;return ie().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,LC({elements:s.elements,appState:RC(RC({},l),{},{viewBackgroundColor:fr.white,exportBackground:!0}),files:null});case 2:E=L.sent,w.innerHTML=E.outerHTML;case 4:case"end":return L.stop()}},T)}))()},[s.elements,l]),(0,A.jsxs)("div",{className:"single-library-item",children:[(0,A.jsx)("div",{ref:v,className:"single-library-item__svg"}),(0,A.jsx)(tr,{"aria-label":q("buttons.remove"),type:"button",icon:Ri,className:"single-library-item--remove",onClick:m.bind(null,s.id),title:q("buttons.remove")}),(0,A.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0.3rem",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,A.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,A.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,A.jsx)("span",{style:{fontWeight:500,color:fr.gray[6]},children:q("publishDialog.itemName")}),(0,A.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,A.jsx)("input",{type:"text",ref:x,style:{width:"80%",padding:"0.2rem"},defaultValue:s.name,placeholder:"Item name",onChange:function(w){h(w.target.value,c)}})]}),(0,A.jsx)("span",{className:"error",children:s.error})]})]})};function jC(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function Q2(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?jC(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):jC(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}function bB(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return FC(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return FC(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function FC(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}var a6="publish-library-data",wB=function(){var a=(0,V.Z)(ie().mark(function s(l){var c,h,m,v,x,w,T,E,L,F,j,z,K,$,Z,oe,se;return ie().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:c=6,h=128,m=Math.round(h/16),v=Math.max(Math.round(h/64),2),x=n3(l,c),(w=document.createElement("canvas")).width=x[0].length*h+(x[0].length+1)*(2*m)-2*m,w.height=x.length*h+(x.length+1)*(2*m)-2*m,(T=w.getContext("2d")).fillStyle=fr.white,T.fillRect(0,0,w.width,w.height),E=bB(l.entries()),ve.prev=12,E.s();case 14:if((L=E.n()).done){ve.next=28;break}return F=W(L.value,2),j=F[0],z=F[1],ve.next=18,i6({elements:z.elements,files:null,maxWidthOrHeight:h});case 18:K=ve.sent,$=K.width,Z=K.height,oe=Math.floor(j/c)*(h+2*m),se=j%c*(h+2*m),T.drawImage(K,se+(h-$)/2+m,oe+(h-Z)/2+m),T.lineWidth=v,T.strokeStyle=fr.gray[4],T.strokeRect(se+m/2,oe+m/2,h+m,h+m);case 26:ve.next=14;break;case 28:ve.next=33;break;case 30:ve.prev=30,ve.t0=ve.catch(12),E.e(ve.t0);case 33:return ve.prev=33,E.f(),ve.finish(33);case 36:return ve.t1=q3,ve.t2=File,ve.next=40,$3(w);case 40:return ve.t3=ve.sent,ve.t4=[ve.t3],ve.t5={type:D.LO.png},ve.t6=new ve.t2(ve.t4,"preview",ve.t5),ve.t7={outputType:D.LO.jpg,maxWidthOrHeight:5e3},ve.next=47,(0,ve.t1)(ve.t6,ve.t7);case 47:return ve.abrupt("return",ve.sent);case 48:case"end":return ve.stop()}},s,null,[[12,30,33,36]])}));return function(s){return a.apply(this,arguments)}}(),xB=function(a){var s=a.onClose,l=a.libraryItems,c=a.appState,h=a.onSuccess,m=a.onError,v=a.updateItemsInStorage,x=a.onRemove,w=W((0,M.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),2),T=w[0],E=w[1],L=W((0,M.useState)(!1),2),F=L[0],j=L[1];(0,M.useEffect)(function(){var Te=function(){try{var Me=localStorage.getItem(a6);if(Me)return JSON.parse(Me)}catch(Oe){console.error(Oe)}return null}();Te&&E(Te)},[]);var z=W((0,M.useState)(l.slice()),2),K=z[0],$=z[1];(0,M.useEffect)(function(){$(l.slice())},[l]);var Z,oe=function(Te){E(Q2(Q2({},T),{},we({},Te.target.name,Te.target.value)))},se=function(){var Te=(0,V.Z)(ie().mark(function Me(Oe){var $e,He,We,Ce,rt,Ze,Ge;return ie().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(Oe.preventDefault(),j(!0),$e=[],He=!1,K.forEach(function(et){var Le="";et.name||(Le=q("publishDialog.errors.required"),He=!0),$e.push(Q2(Q2({},et),{},{error:Le}))}),!He){it.next=9;break}return $($e),j(!1),it.abrupt("return");case 9:return it.next=11,wB(K);case 11:We=it.sent,Ce={type:D.r8.excalidrawLibrary,version:D.Kr.excalidrawLibrary,source:D.pb,libraryItems:K},rt=JSON.stringify(Ce,null,2),Ze=new Blob([rt],{type:"application/json"}),(Ge=new FormData).append("excalidrawLib",Ze),Ge.append("previewImage",We),Ge.append("previewImageType",We.type),Ge.append("title",T.name),Ge.append("authorName",T.authorName),Ge.append("githubHandle",T.githubHandle),Ge.append("name",T.name),Ge.append("description",T.description),Ge.append("twitterHandle",T.twitterHandle),Ge.append("website",T.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:Ge}).then(function(et){return et.ok?et.json().then(function(Le){var dt=Le.url;localStorage.removeItem(a6),h({url:dt,authorName:T.authorName,items:K})}):et.json().catch(function(){throw new Error(et.statusText||"something went wrong")}).then(function(Le){throw new Error(Le.message||et.statusText||"something went wrong")})},function(et){console.error(et),m(et),j(!1)}).catch(function(et){console.error(et),m(et),j(!1)});case 27:case"end":return it.stop()}},Me)}));return function(Me){return Te.apply(this,arguments)}}(),ve=(0,M.useCallback)(function(){v(K),function(Te){try{localStorage.setItem(a6,JSON.stringify(Te))}catch(Me){console.error(Me)}}(T),s()},[K,s,v,T]),_e=!!l.length;return(0,A.jsx)(xl,{onCloseRequest:ve,title:q("publishDialog.title"),className:"publish-library",children:_e?(0,A.jsxs)("form",{onSubmit:se,children:[(0,A.jsxs)("div",{className:"publish-library-note",children:[q("publishDialog.noteDescription.pre"),(0,A.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:q("publishDialog.noteDescription.link")})," ",q("publishDialog.noteDescription.post")]}),(0,A.jsxs)("span",{className:"publish-library-note",children:[q("publishDialog.noteGuidelines.pre"),(0,A.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:q("publishDialog.noteGuidelines.link")}),q("publishDialog.noteGuidelines.post")]}),(0,A.jsx)("div",{className:"publish-library-note",children:q("publishDialog.noteItems")}),(Z=[],K.forEach(function(Te,Me){Z.push((0,A.jsx)("div",{className:"single-library-item-wrapper",children:(0,A.jsx)(yB,{libItem:Te,appState:c,index:Me,onChange:function(Oe,$e){var He=K.slice();He[$e].name=Oe,$(He)},onRemove:x})},Me))}),(0,A.jsx)("div",{className:"selected-library-items",children:Z})),(0,A.jsxs)("div",{className:"publish-library__fields",children:[(0,A.jsxs)("label",{children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("span",{children:q("publishDialog.libraryName")}),(0,A.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,A.jsx)("input",{type:"text",name:"name",required:!0,value:T.name,onChange:oe,placeholder:q("publishDialog.placeholder.libraryName")})]}),(0,A.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("span",{children:q("publishDialog.libraryDesc")}),(0,A.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,A.jsx)("textarea",{name:"description",rows:4,required:!0,value:T.description,onChange:oe,placeholder:q("publishDialog.placeholder.libraryDesc")})]}),(0,A.jsxs)("label",{children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("span",{children:q("publishDialog.authorName")}),(0,A.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,A.jsx)("input",{type:"text",name:"authorName",required:!0,value:T.authorName,onChange:oe,placeholder:q("publishDialog.placeholder.authorName")})]}),(0,A.jsxs)("label",{children:[(0,A.jsx)("span",{children:q("publishDialog.githubUsername")}),(0,A.jsx)("input",{type:"text",name:"githubHandle",value:T.githubHandle,onChange:oe,placeholder:q("publishDialog.placeholder.githubHandle")})]}),(0,A.jsxs)("label",{children:[(0,A.jsx)("span",{children:q("publishDialog.twitterUsername")}),(0,A.jsx)("input",{type:"text",name:"twitterHandle",value:T.twitterHandle,onChange:oe,placeholder:q("publishDialog.placeholder.twitterHandle")})]}),(0,A.jsxs)("label",{children:[(0,A.jsx)("span",{children:q("publishDialog.website")}),(0,A.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:q("publishDialog.errors.website"),value:T.website,onChange:oe,placeholder:q("publishDialog.placeholder.website")})]}),(0,A.jsxs)("span",{className:"publish-library-note",children:[q("publishDialog.noteLicense.pre"),(0,A.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:q("publishDialog.noteLicense.link")}),q("publishDialog.noteLicense.post")]})]}),(0,A.jsxs)("div",{className:"publish-library__buttons",children:[(0,A.jsx)(tr,{type:"button",title:q("buttons.cancel"),"aria-label":q("buttons.cancel"),label:q("buttons.cancel"),onClick:ve,"data-testid":"cancel-clear-canvas-button",className:"publish-library__buttons--cancel"}),(0,A.jsx)(tr,{type:"submit",title:q("buttons.submit"),"aria-label":q("buttons.submit"),label:q("buttons.submit"),className:"publish-library__buttons--confirm",isLoading:F})]})]}):(0,A.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:q("publishDialog.atleastOneLibItem")})})},kB=(b(4406),b(2891)),_B=(b(694),(0,A.jsx)("svg",{viewBox:"0 0 1792 1792",children:(0,A.jsx)("path",{d:"M1600 736v192c0 26.667-9.33 49.333-28 68-18.67 18.67-41.33 28-68 28h-416v416c0 26.67-9.33 49.33-28 68s-41.33 28-68 28H800c-26.667 0-49.333-9.33-68-28s-28-41.33-28-68v-416H288c-26.667 0-49.333-9.33-68-28-18.667-18.667-28-41.333-28-68V736c0-26.667 9.333-49.333 28-68s41.333-28 68-28h416V224c0-26.667 9.333-49.333 28-68s41.333-28 68-28h192c26.67 0 49.33 9.333 68 28s28 41.333 28 68v416h416c26.67 0 49.33 9.333 68 28s28 41.333 28 68Z",style:{stroke:"#fff",strokeWidth:140},transform:"translate(0 64)"})})),SB=function(a){var s=a.id,l=a.elements,c=a.files,h=a.isPending,m=a.onClick,v=a.selected,x=a.onToggle,w=(0,M.useRef)(null);(0,M.useEffect)(function(){var z=w.current;if(z)return(0,V.Z)(ie().mark(function K(){var $;return ie().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(l){Z.next=2;break}return Z.abrupt("return");case 2:return Z.next=4,K2(l,{exportBackground:!1,viewBackgroundColor:fr.white},c);case 4:$=Z.sent,z.innerHTML=$.outerHTML;case 6:case"end":return Z.stop()}},K)}))(),function(){z.innerHTML=""}},[l,c]);var T=W((0,M.useState)(!1),2),E=T[0],L=T[1],F=_o(),j=h&&(0,A.jsx)("div",{className:"library-unit__adder",children:_B});return(0,A.jsxs)("div",{className:Sr("library-unit",{"library-unit__active":l,"library-unit--hover":l&&E,"library-unit--selected":v}),onMouseEnter:function(){return L(!0)},onMouseLeave:function(){return L(!1)},children:[(0,A.jsx)("div",{className:Sr("library-unit__dragger",{"library-unit__pulse":!!h}),ref:w,draggable:!!l,onClick:l||h?function(z){s&&z.shiftKey?x(s,z):m()}:void 0,onDragStart:function(z){L(!1),z.dataTransfer.setData(D.LO.excalidrawlib,JSON.stringify(l))}}),j,s&&l&&(E||F||v)&&(0,A.jsx)(G2,{checked:v,onChange:function(z,K){return x(s,K)},className:"library-unit__checkbox"})]})},CB=(b(6043),function(a){var s,l,c,h=a.libraryItems,m=a.onRemoveFromLibrary,v=a.onAddToLibrary,x=a.onInsertShape,w=a.pendingElements,T=a.theme,E=a.setAppState,L=a.libraryReturnUrl,F=a.library,j=a.files,z=a.id,K=a.selectedItems,$=a.onToggle,Z=a.onPublish,oe=a.resetLibrary,se=(0,M.useCallback)(function(){var Ge=K.length?q("alerts.removeItemsFromsLibrary",{count:K.length}):q("alerts.resetLibrary"),it=K.length?q("confirmDialog.removeItemsFromLib"):q("confirmDialog.resetLibrary");return(0,A.jsx)(M2,{onConfirm:function(){K.length?m():oe(),Te(!1)},onCancel:function(){Te(!1)},title:it,children:(0,A.jsx)("p",{children:Ge})})},[K,m,oe]),ve=W((0,M.useState)(!1),2),_e=ve[0],Te=ve[1],Me=_o(),Oe=Me?4:6,$e=L||window.location.origin+window.location.pathname,He=K.some(function(Ge){var it;return((it=h.find(function(et){return et.id===Ge}))===null||it===void 0?void 0:it.status)==="published"}),We=function(Ge){var it,et,Le,dt,mt;return(0,A.jsx)(Sl,{children:(0,A.jsx)(SB,{elements:(it=Ge.item)===null||it===void 0?void 0:it.elements,files:j,isPending:!((et=Ge.item)!==null&&et!==void 0&&et.id||(Le=Ge.item)===null||Le===void 0||!Le.elements),onClick:Ge.onClick||function(){},id:((dt=Ge.item)===null||dt===void 0?void 0:dt.id)||null,selected:!((mt=Ge.item)===null||mt===void 0||!mt.id)&&K.includes(Ge.item.id),onToggle:function(bt,ct){$(bt,ct)}})},Ge.key)},Ce=function(Ge){var it=Ge.map(function(Le){return Le.id?We({item:Le,onClick:function(){return x(Le.elements)},key:Le.id}):We({key:"__pending__item__",item:Le,onClick:function(){return v(w)}})}),et=(0,kB.chunk)(it,Oe);return et.length||(et=[[]]),et.map(function(Le,dt,mt){return dt===mt.length-1&&(Le=Le.concat(new Array(Oe-Le.length).fill(null).map(function(bt,ct){return We({key:"empty_".concat(ct),item:null})}))),(0,A.jsx)(Hs,{align:"center",gap:1,children:Le},dt)})},rt=h.filter(function(Ge){return Ge.status==="published"}),Ze=[].concat(Re(w.length?[{id:null,elements:w}]:[]),Re(h.filter(function(Ge){return Ge.status!=="published"})));return(0,A.jsxs)("div",{className:"library-menu-items-container",children:[_e&&se(),(0,A.jsxs)("div",{className:"layer-ui__library-header",children:[(s=!!K.length,l=s?h.filter(function(Ge){return K.includes(Ge.id)}):h,c=q(s?"buttons.remove":"buttons.resetLibrary"),(0,A.jsxs)("div",{className:"library-actions",children:[(!s||!Me)&&(0,A.jsx)(tr,{type:"button",title:q("buttons.load"),"aria-label":q("buttons.load"),icon:uv,onClick:function(){yz(F).then(function(){E({isLibraryOpen:!1}),E({isLibraryOpen:!0})}).catch(Ka).catch(function(Ge){E({errorMessage:Ge.message})})},className:"library-actions--load"},"import"),!!l.length&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(tr,{type:"button",title:q("buttons.export"),"aria-label":q("buttons.export"),icon:i2,onClick:(0,V.Z)(ie().mark(function Ge(){var it;return ie().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(!s){et.next=4;break}et.t0=l,et.next=7;break;case 4:return et.next=6,F.loadLibrary();case 6:et.t0=et.sent;case 7:it=et.t0,gz(it).catch(Ka).catch(function(Le){E({errorMessage:Le.message})});case 9:case"end":return et.stop()}},Ge)})),className:"library-actions--export",children:K.length>0&&(0,A.jsx)("span",{className:"library-actions-counter",children:K.length})},"export"),(0,A.jsx)(tr,{type:"button",title:c,"aria-label":c,icon:yh,onClick:function(){return Te(!0)},className:"library-actions--remove",children:K.length>0&&(0,A.jsx)("span",{className:"library-actions-counter",children:K.length})},"reset")]}),s&&!He&&(0,A.jsx)(Lc,{label:q("hints.publishLibrary"),children:(0,A.jsxs)(tr,{type:"button","aria-label":q("buttons.publishLibrary"),label:q("buttons.publishLibrary"),icon:T3,className:"library-actions--publish",onClick:Z,children:[!Me&&(0,A.jsx)("label",{children:q("buttons.publishLibrary")}),K.length>0&&(0,A.jsx)("span",{className:"library-actions-counter",children:K.length})]})})]})),(0,A.jsx)("a",{href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat($e,"&useHash=true&token=").concat(z,"&theme=").concat(T,"&version=").concat(D.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:q("labels.libraries")})]},"library-header"),(0,A.jsxs)(Sl,{className:"library-menu-items-container__items",align:"start",gap:1,children:[(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:"separator",children:q("labels.personalLib")}),Ce(Ze)]}),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:"separator",children:[q("labels.excalidrawLib")," "]}),Ce(rt)]})]})]})}),EB=function(a,s){return a.filter(function(l){return s.includes(l.id)})},TB=function(a){var s=a.onClose,l=a.onInsertShape,c=a.pendingElements,h=a.onAddToLibrary,m=a.theme,v=a.setAppState,x=a.files,w=a.libraryReturnUrl,T=a.focusContainer,E=a.library,L=a.id,F=a.appState,j=(0,M.useRef)(null);(function(ct,Dt){(0,M.useEffect)(function(){var sr=function(Mr){ct.current&&(Mr.target instanceof Element&&(ct.current.contains(Mr.target)||!document.body.contains(Mr.target))||Dt(Mr))};return document.addEventListener("pointerdown",sr,!1),function(){document.removeEventListener("pointerdown",sr)}},[ct,Dt])})(j,function(ct){ct.target.closest(".ToolIcon__library")||s()}),(0,M.useEffect)(function(){var ct=function(Dt){Dt.key===Be.ESCAPE&&s()};return document.addEventListener(D.Ks.KEYDOWN,ct),function(){document.removeEventListener(D.Ks.KEYDOWN,ct)}},[s]);var z=W((0,M.useState)([]),2),K=z[0],$=z[1],Z=W((0,M.useState)("preloading"),2),oe=Z[0],se=Z[1],ve=W((0,M.useState)([]),2),_e=ve[0],Te=ve[1],Me=W((0,M.useState)(!1),2),Oe=Me[0],$e=Me[1],He=W((0,M.useState)(null),2),We=He[0],Ce=He[1],rt=(0,M.useRef)(null);(0,M.useEffect)(function(){return Promise.race([new Promise(function(ct){rt.current=window.setTimeout(function(){ct("loading")},100)}),E.loadLibrary().then(function(ct){$(ct),se("ready")})]).then(function(ct){ct==="loading"&&se("loading")}),function(){clearTimeout(rt.current)}},[E]);var Ze=(0,M.useCallback)((0,V.Z)(ie().mark(function ct(){var Dt,sr;return ie().wrap(function(Mr){for(;;)switch(Mr.prev=Mr.next){case 0:return Mr.next=2,E.loadLibrary();case 2:Dt=Mr.sent,sr=Dt.filter(function(tn){return!_e.includes(tn.id)}),E.saveLibrary(sr).catch(function(tn){$(Dt),v({errorMessage:q("alerts.errorRemovingFromLibrary")})}),Te([]),$(sr);case 7:case"end":return Mr.stop()}},ct)})),[E,v,_e,Te]),Ge=(0,M.useCallback)(function(){E.resetLibrary(),$([]),T()},[E,T]),it=(0,M.useCallback)(function(){var ct=(0,V.Z)(ie().mark(function Dt(sr){var Mr,tn;return ie().wrap(function(wr){for(;;)switch(wr.prev=wr.next){case 0:if(!sr.some(function(Xr){return Xr.type==="image"})){wr.next=2;break}return wr.abrupt("return",v({errorMessage:"Support for adding images to the library coming soon!"}));case 2:return wr.next=4,E.loadLibrary();case 4:Mr=wr.sent,tn=[{status:"unpublished",elements:sr,id:$a(),created:Date.now()}].concat(Re(Mr)),h(),E.saveLibrary(tn).catch(function(Xr){$(Mr),v({errorMessage:q("alerts.errorAddingToLibrary")})}),$(tn);case 9:case"end":return wr.stop()}},Dt)}));return function(Dt){return ct.apply(this,arguments)}}(),[h,E,v]),et=(0,M.useCallback)(function(){return(0,A.jsxs)(xl,{onCloseRequest:function(){return Ce(null)},title:q("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,A.jsxs)("p",{children:[q("publishSuccessDialog.content",{authorName:We.authorName})," ",(0,A.jsx)("a",{href:We==null?void 0:We.url,target:"_blank",rel:"noopener noreferrer",children:q("publishSuccessDialog.link")})]}),(0,A.jsx)(tr,{type:"button",title:q("buttons.close"),"aria-label":q("buttons.close"),label:q("buttons.close"),onClick:function(){return Ce(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[Ce,We]),Le=(0,M.useCallback)(function(ct){$e(!1),Ce({url:ct.url,authorName:ct.authorName});var Dt=K.slice();Dt.forEach(function(sr){_e.includes(sr.id)&&(sr.status="published")}),E.saveLibrary(Dt),$(Dt)},[$e,Ce,K,_e,E]),dt=W((0,M.useState)(null),2),mt=dt[0],bt=dt[1];return oe==="preloading"?null:(0,A.jsxs)(es,{padding:1,ref:j,className:"layer-ui__library",children:[Oe&&(0,A.jsx)(xB,{onClose:function(){return $e(!1)},libraryItems:EB(K,_e),appState:F,onSuccess:Le,onError:function(ct){return window.alert(ct)},updateItemsInStorage:function(){return E.saveLibrary(K)},onRemove:function(ct){return Te(_e.filter(function(Dt){return Dt!==ct}))}}),We&&et(),oe==="loading"?(0,A.jsx)("div",{className:"layer-ui__library-message",children:q("labels.libraryLoadingMessage")}):(0,A.jsx)(CB,{libraryItems:K,onRemoveFromLibrary:Ze,onAddToLibrary:it,onInsertShape:l,pendingElements:c,setAppState:v,libraryReturnUrl:w,library:E,theme:m,files:x,id:L,selectedItems:_e,onToggle:function(ct,Dt){if(_e.includes(ct))bt(null),Te(_e.filter(function(Xr){return Xr!==ct}));else{if(Dt.shiftKey&&mt){var sr=K.findIndex(function(Xr){return Xr.id===mt}),Mr=K.findIndex(function(Xr){return Xr.id===ct});if(sr===-1||Mr===-1)return void Te([].concat(Re(_e),[ct]));var tn=Ni(_e),wr=K.reduce(function(Xr,hr,dn){return(dn>=sr&&dn<=Mr||tn.has(hr.id))&&Xr.push(hr.id),Xr},[]);Te(wr)}else Te([].concat(Re(_e),[ct]));bt(ct)}},onPublish:function(){return $e(!0)},resetLibrary:Ge})]})},OB=(b(3336),b(276),["suggestedBindings","startBoundElement"]);function zC(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}var AB=function(a){var s,l=a.actionManager,c=a.appState,h=a.files,m=a.setAppState,v=a.canvas,x=a.elements,w=a.onCollabButtonClick,T=a.onLockToggle,E=a.onPenModeToggle,L=a.onInsertElements,F=a.zenModeEnabled,j=a.showExitZenModeBtn,z=a.showThemeBtn,K=a.toggleZenMode,$=a.isCollaborating,Z=a.renderTopRightUI,oe=a.renderCustomFooter,se=a.viewModeEnabled,ve=a.libraryReturnUrl,_e=a.UIOptions,Te=a.focusContainer,Me=a.library,Oe=a.id,$e=a.onImageAction,He=_o(),We=function(){return _e.canvasActions.export?(0,A.jsx)(vB,{elements:x,appState:c,files:h,actionManager:l,exportOpts:_e.canvasActions.export,canvas:v}):null},Ce=function(){if(!_e.canvasActions.saveAsImage)return null;var Le=function(dt){return function(){var mt=(0,V.Z)(ie().mark(function bt(ct){var Dt;return ie().wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return sr.next=2,V2(dt,ct,c,h,{exportBackground:c.exportBackground,name:c.name,viewBackgroundColor:c.viewBackgroundColor}).catch(Ka).catch(function(Mr){console.error(Mr),m({errorMessage:Mr.message})});case 2:Dt=sr.sent,c.exportEmbedScene&&Dt&&W3(Dt)&&m({fileHandle:Dt});case 4:case"end":return sr.stop()}},bt)}));return function(bt){return mt.apply(this,arguments)}}()};return(0,A.jsx)(aB,{elements:x,appState:c,files:h,actionManager:l,onExportToPng:Le("png"),onExportToSvg:Le("svg"),onExportToClipboard:Le("clipboard")})},rt=function(){return(0,A.jsx)("div",{style:{width:".625em"}})},Ze=(0,M.useCallback)(function(){document.querySelector(".Dialog")||m({isLibraryOpen:!1})},[m]),Ge=(0,M.useCallback)(function(){m({selectedElementIds:{},selectedGroupIds:{}})},[m]),it=c.isLibraryOpen?(0,A.jsx)(TB,{pendingElements:Fe(x,c,!0),onClose:Ze,onInsertShape:L,onAddToLibrary:Ge,setAppState:m,libraryReturnUrl:ve,focusContainer:Te,library:Me,theme:c.theme,files:h,id:Oe,appState:c}):null,et=(0,A.jsxs)(A.Fragment,{children:[c.isLoading&&(0,A.jsx)(zt,{}),c.errorMessage&&(0,A.jsx)(tB,{message:c.errorMessage,onClose:function(){return m({errorMessage:null})}}),c.showHelpDialog&&(0,A.jsx)(pB,{onClose:function(){m({showHelpDialog:!1})}}),c.pasteDialog.shown&&(0,A.jsx)(uB,{setAppState:m,appState:c,onInsertChart:L,onClose:function(){return m({pasteDialog:{shown:!1,data:null}})}})]});return He?(0,A.jsxs)(A.Fragment,{children:[et,(0,A.jsx)(lB,{appState:c,elements:x,actionManager:l,libraryMenu:it,renderJSONExportDialog:We,renderImageExportDialog:Ce,setAppState:m,onCollabButtonClick:w,onLockToggle:T,onPenModeToggle:E,canvas:v,isCollaborating:$,renderCustomFooter:oe,viewModeEnabled:se,showThemeBtn:z,onImageAction:$e,renderTopRightUI:Z})]}):(0,A.jsxs)("div",{className:Sr("layer-ui__wrapper",{"disable-pointerEvents":c.draggingElement||c.resizingElement||c.editingElement&&!Nr(c.editingElement)}),children:[et,(s=H(c,x),(0,A.jsx)(gC,{side:"top",children:(0,A.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,A.jsxs)(Sl,{gap:4,className:Sr({"disable-pointerEvents":F}),children:[se?(0,A.jsx)(zc,{heading:"canvasActions",className:Sr("zen-mode-transition",{"transition-left":F}),children:(0,A.jsx)(es,{padding:2,style:{zIndex:1},children:(0,A.jsx)(Sl,{gap:4,children:(0,A.jsxs)(Hs,{gap:1,justifyContent:"space-between",children:[We(),Ce()]})})})}):(0,A.jsx)(zc,{heading:"canvasActions",className:Sr("zen-mode-transition",{"transition-left":F}),children:(0,A.jsx)(es,{padding:2,style:{zIndex:1},children:(0,A.jsxs)(Sl,{gap:4,children:[(0,A.jsxs)(Hs,{gap:1,justifyContent:"space-between",children:[l.renderAction("clearCanvas"),(0,A.jsx)(rt,{}),l.renderAction("loadScene"),We(),Ce(),(0,A.jsx)(rt,{}),w&&(0,A.jsx)(mC,{isCollaborating:$,collaboratorCount:c.collaborators.size,onClick:w})]}),(0,A.jsx)(pC,{actionManager:l,appState:c,setAppState:m,showThemeBtn:z}),c.fileHandle&&(0,A.jsx)(A.Fragment,{children:l.renderAction("saveToActiveFile")})]})})}),s&&(0,A.jsx)(zc,{heading:"selectedShapeActions",className:Sr("zen-mode-transition",{"transition-left":F}),children:(0,A.jsx)(es,{className:D.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(c.height-(c.fileHandle?248:200),"px")},children:(0,A.jsx)(dC,{appState:c,elements:x,renderAction:l.renderAction,elementType:c.elementType})})})]}),!se&&(0,A.jsx)(zc,{heading:"shapes",children:function(Le){return(0,A.jsxs)(Sl,{gap:4,align:"start",children:[(0,A.jsxs)(Hs,{gap:1,className:Sr("App-toolbar-container",{"zen-mode":F}),children:[(0,A.jsx)(TC,{zenModeEnabled:F,checked:c.penMode,onChange:E,title:q("toolBar.penMode"),penDetected:c.penDetected}),(0,A.jsx)(wC,{zenModeEnabled:F,checked:c.elementLocked,onChange:T,title:q("toolBar.lock")}),(0,A.jsxs)(es,{padding:1,className:Sr("App-toolbar",{"zen-mode":F}),children:[(0,A.jsx)(yC,{appState:c,elements:x,isMobile:He}),Le,(0,A.jsx)(Hs,{gap:1,children:(0,A.jsx)(hC,{canvas:v,elementType:c.elementType,setAppState:m,onImageAction:function(dt){var mt=dt.pointerType;$e({insertOnCanvasDirectly:mt!=="mouse"})}})})]}),(0,A.jsx)(SC,{appState:c,setAppState:m})]}),it]})}}),(0,A.jsxs)("div",{className:Sr("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":F}),children:[(0,A.jsx)(_C,{children:c.collaborators.size>0&&Array.from(c.collaborators).filter(function(Le){var dt=W(Le,2),mt=(dt[0],dt[1]);return Object.keys(mt).length!==0}).map(function(Le){var dt=W(Le,2),mt=dt[0],bt=dt[1];return(0,A.jsx)(Lc,{label:bt.username||"Unknown user",children:l.renderAction("goToCollaborator",{id:mt})},mt)})}),Z==null?void 0:Z(He,c)]})]})})),(0,A.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,A.jsx)("div",{className:Sr("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":F}),children:(0,A.jsx)(Sl,{gap:2,children:(0,A.jsxs)(zc,{heading:"canvasActions",children:[(0,A.jsx)(es,{padding:1,children:(0,A.jsx)(eB,{renderAction:l.renderAction,zoom:c.zoom})}),!se&&(0,A.jsxs)("div",{className:Sr("undo-redo-buttons zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":F}),children:[l.renderAction("undo",{size:"small"}),l.renderAction("redo",{size:"small"})]})]})})}),(0,A.jsx)("div",{className:Sr("layer-ui__wrapper__footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":F}),children:oe==null?void 0:oe(!1,c)}),(0,A.jsx)("div",{className:Sr("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":F}),children:l.renderAction("toggleShortcuts")}),(0,A.jsx)("button",{className:Sr("disable-zen-mode",{"disable-zen-mode--visible":j}),onClick:K,children:q("buttons.exitZenMode")})]}),c.scrolledOutside&&(0,A.jsx)("button",{className:"scroll-back-to-content",onClick:function(){m(function(Le){for(var dt=1;dt<arguments.length;dt++){var mt=arguments[dt]!=null?arguments[dt]:{};dt%2?zC(Object(mt),!0).forEach(function(bt){we(Le,bt,mt[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Le,Object.getOwnPropertyDescriptors(mt)):zC(Object(mt)).forEach(function(bt){Object.defineProperty(Le,bt,Object.getOwnPropertyDescriptor(mt,bt))})}return Le}({},ci(x,c)))},children:q("buttons.scrollBackToContent")})]})},IB=function(a,s){var l=function(v){return v.suggestedBindings,v.startBoundElement,xc(v,OB)},c=l(a.appState),h=l(s.appState),m=Object.keys(c);return a.renderCustomFooter===s.renderCustomFooter&&a.langCode===s.langCode&&a.elements===s.elements&&a.files===s.files&&m.every(function(v){return c[v]===h[v]})},MB=R().memo(AB,IB),DB=(b(1528),function(a){var s,l=_o(),c=Zn(a.elements),h=$t(a.elements,a.appState),m=Zn(h);return l&&a.appState.openMenu?null:(0,A.jsx)("div",{className:"Stats",children:(0,A.jsxs)(es,{padding:2,children:[(0,A.jsx)("div",{className:"close",onClick:a.onClose,children:Ri}),(0,A.jsx)("h3",{children:q("stats.title")}),(0,A.jsx)("table",{children:(0,A.jsxs)("tbody",{children:[(0,A.jsx)("tr",{children:(0,A.jsx)("th",{colSpan:2,children:q("stats.scene")})}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:q("stats.elements")}),(0,A.jsx)("td",{children:a.elements.length})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:q("stats.width")}),(0,A.jsx)("td",{children:Math.round(c[2])-Math.round(c[0])})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:q("stats.height")}),(0,A.jsx)("td",{children:Math.round(c[3])-Math.round(c[1])})]}),h.length===1&&(0,A.jsx)("tr",{children:(0,A.jsx)("th",{colSpan:2,children:q("stats.element")})}),h.length>1&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("tr",{children:(0,A.jsx)("th",{colSpan:2,children:q("stats.selected")})}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:q("stats.elements")}),(0,A.jsx)("td",{children:h.length})]})]}),h.length>0&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:"x"}),(0,A.jsx)("td",{children:Math.round(m[0])})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:"y"}),(0,A.jsx)("td",{children:Math.round(m[1])})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:q("stats.width")}),(0,A.jsx)("td",{children:Math.round(m[2]-m[0])})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:q("stats.height")}),(0,A.jsx)("td",{children:Math.round(m[3]-m[1])})]})]}),h.length===1&&(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:q("stats.angle")}),(0,A.jsx)("td",{children:"".concat(Math.round(180*h[0].angle/Math.PI),"\xB0")})]}),(s=a.renderCustomStats)===null||s===void 0?void 0:s.call(a,a.elements,a.appState)]})})]})})}),PB=(b(9757),function(a){var s=a.message,l=a.clearToast,c=(0,M.useRef)(0),h=(0,M.useCallback)(function(){return c.current=window.setTimeout(function(){return l()},D.Lg)},[l]);return(0,M.useEffect)(function(){return h(),function(){return clearTimeout(c.current)}},[h,s]),(0,A.jsx)("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(c==null?void 0:c.current)},onMouseLeave:h,children:(0,A.jsx)("p",{className:"Toast__message",children:s})})});function BC(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function HC(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?BC(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):BC(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var UC=_t({name:"viewMode",perform:function(a,s){return Bh("view","mode","view"),{appState:HC(HC({},s),{},{viewModeEnabled:!this.checked(s)}),commitToHistory:!1}},checked:function(a){return a.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(a){return!a[Be.CTRL_OR_CMD]&&a.altKey&&a.code===q0}}),LB=b(200),NB=b.n(LB);function KC(a,s){var l=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=function(w,T){if(!!w){if(typeof w=="string")return WC(w,T);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return WC(w,T)}}(a))||s&&a&&typeof a.length=="number"){l&&(a=l);var c=0,h=function(){};return{s:h,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(w){throw w},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,v=!0,x=!1;return{s:function(){l=l.call(a)},n:function(){var w=l.next();return v=w.done,w},e:function(w){x=!0,m=w},f:function(){try{v||l.return==null||l.return()}finally{if(x)throw m}}}}function WC(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=new Array(s);l<s;l++)c[l]=a[l];return c}function $C(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function ft(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?$C(Object(l),!0).forEach(function(c){we(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):$C(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}function RB(a){var s=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,c=rn(a);if(s){var h=rn(this).constructor;l=Reflect.construct(c,arguments,h)}else l=c.apply(this,arguments);return Jr(this,l)}}var qC=R().createContext(!1),_o=function(){return(0,M.useContext)(qC)},VC=R().createContext({container:null,id:null}),Gh=function(){return(0,M.useContext)(VC)},Av=!1,o6=0,Hf=0,Uf=0,Kf=!1,Iv=!1,s6=!1,l6={horizontal:null,vertical:null},Hc=0,Mv=!1,Uc=null,qr={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},u6=function(a){br(h,a);var s,l,c=RB(h);function h(m){var v;Ke(this,h),v=c.call(this,m),jB.call(kt(v));var x,w=fu(),T=m.excalidrawRef,E=m.viewModeEnabled,L=E!==void 0&&E,F=m.zenModeEnabled,j=F!==void 0&&F,z=m.gridModeEnabled,K=z!==void 0&&z,$=m.theme,Z=$===void 0?w.theme:$,oe=m.name,se=oe===void 0?w.name:oe;if(v.state=ft(ft(ft({},w),{},{theme:Z,isLoading:!0},v.getCanvasOffsets()),{},{viewModeEnabled:L,zenModeEnabled:j,gridSize:K?D.k:null,name:se,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1}),v.id=el(),T){var ve,_e="current"in T&&((ve=T.current)===null||ve===void 0?void 0:ve.readyPromise)||function(){var Me,Oe,$e=new Promise(function(He,We){Me=He,Oe=We});return $e.resolve=Me,$e.reject=Oe,$e}(),Te={ready:!0,readyPromise:_e,updateScene:v.updateScene,addFiles:v.addFiles,resetScene:v.resetScene,getSceneElementsIncludingDeleted:v.getSceneElementsIncludingDeleted,history:{clear:v.resetHistory},scrollToContent:v.scrollToContent,getSceneElements:v.getSceneElements,getAppState:function(){return v.state},getFiles:function(){return v.files},refresh:v.refresh,importLibrary:v.importLibraryFromUrl,setToastMessage:v.setToastMessage,id:v.id};typeof T=="function"?T(Te):T.current=Te,_e.resolve(Te)}return v.excalidrawContainerValue={container:v.excalidrawContainerRef.current,id:v.id},v.scene=new gn,v.library=new Gz(kt(v)),v.history=new Xz,v.actionManager=new $z(v.syncActionResult,function(){return v.state},function(){return v.scene.getElementsIncludingDeleted()},kt(v)),v.actionManager.registerAll(Th),v.actionManager.registerAction((x=v.history,{name:"undo",perform:function(Me,Oe){return tC(Me,Oe,function(){return x.undoOnce()})},keyTest:function(Me){return Me[Be.CTRL_OR_CMD]&&Me.key.toLowerCase()===Be.Z&&!Me.shiftKey},PanelComponent:function(Me){var Oe=Me.updateData,$e=Me.data;return(0,A.jsx)(tr,{type:"button",icon:s2,"aria-label":q("buttons.undo"),onClick:Oe,size:($e==null?void 0:$e.size)||"medium"})},commitToHistory:function(){return!1}})),v.actionManager.registerAction(function(Me){return{name:"redo",perform:function(Oe,$e){return tC(Oe,$e,function(){return Me.redoOnce()})},keyTest:function(Oe){return Oe[Be.CTRL_OR_CMD]&&Oe.shiftKey&&Oe.key.toLowerCase()===Be.Z||$0&&Oe.ctrlKey&&!Oe.shiftKey&&Oe.key===Be.Y},PanelComponent:function(Oe){var $e=Oe.updateData,He=Oe.data;return(0,A.jsx)(tr,{type:"button",icon:l2,"aria-label":q("buttons.redo"),onClick:$e,size:(He==null?void 0:He.size)||"medium"})},commitToHistory:function(){return!1}}}(v.history)),v}return At(h,[{key:"renderCanvas",value:function(){var m=window.devicePixelRatio,v=this.state,x=v.width,w=v.height,T=x*m,E=w*m;return v.viewModeEnabled?(0,A.jsx)("canvas",{className:"excalidraw__canvas",style:{width:x,height:w,cursor:D.oc.GRAB},width:T,height:E,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:q("labels.drawingCanvas")}):(0,A.jsx)("canvas",{className:"excalidraw__canvas",style:{width:x,height:w},width:T,height:E,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:q("labels.drawingCanvas")})}},{key:"render",value:function(){var m,v,x=this,w=this.state,T=w.zenModeEnabled,E=w.viewModeEnabled,L=Fe(this.scene.getElements(),this.state),F=this.props,j=F.onCollabButtonClick,z=F.renderTopRightUI,K=F.renderFooter,$=F.renderCustomStats;return(0,A.jsx)("div",{className:Sr("excalidraw excalidraw-container",{"excalidraw--view-mode":E,"excalidraw--mobile":this.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,A.jsx)(VC.Provider,{value:this.excalidrawContainerValue,children:(0,A.jsxs)(qC.Provider,{value:this.isMobile,children:[(0,A.jsx)(MB,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:j,onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onInsertElements:function(Z){return x.addElementsFromPasteOrLibrary({elements:Z,position:"center",files:null})},zenModeEnabled:T,toggleZenMode:this.toggleZenMode,langCode:ze().code,isCollaborating:this.props.isCollaborating,renderTopRightUI:z,renderCustomFooter:K,viewModeEnabled:E,showExitZenModeBtn:((m=this.props)===null||m===void 0?void 0:m.zenModeEnabled)===void 0&&T,showThemeBtn:((v=this.props)===null||v===void 0?void 0:v.theme)===void 0&&this.props.UIOptions.canvasActions.theme,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction}),(0,A.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,A.jsx)("div",{className:"excalidraw-contextMenuContainer"}),L.length===1&&this.state.showHyperlinkPopup&&(0,A.jsx)(KF,{element:L[0],appState:this.state,setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},L[0].id),this.state.showStats&&(0,A.jsx)(DB,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats,renderCustomStats:$}),this.state.toastMessage!==null&&(0,A.jsx)(PB,{message:this.state.toastMessage,clearToast:this.clearToast}),(0,A.jsx)("main",{children:this.renderCanvas()})]})})})}},{key:"componentDidMount",value:(l=(0,V.Z)(ie().mark(function m(){var v,x,w,T,E=this;return ie().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,D.Vi.TEST!=="production"&&D.Vi.DEVELOPMENT!=="production"||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return E.state}},setState:{configurable:!0,value:function(){return E.setState.apply(E,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),"ResizeObserver"in window&&(v=this.excalidrawContainerRef)!==null&&v!==void 0&&v.current?(this.resizeObserver=new ResizeObserver(function(){var F=E.excalidrawContainerRef.current.getBoundingClientRect(),j=F.width,z=F.height;E.isMobile=j<D.kV||z<D.Yx&&j<D.sS,E.updateDOMRect()}),(x=this.resizeObserver)===null||x===void 0||x.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(w=window.matchMedia("(max-width: ".concat(D.kV,"px), (max-height: ").concat(D.Yx,"px) and (max-width: ").concat(D.sS,"px)")),T=function(){return E.isMobile=w.matches},w.addListener(T),this.detachIsMobileMqHandler=function(){return w.removeListener(T)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene);case 9:case"end":return L.stop()}},m,this)})),function(){return l.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var m;this.files={},this.imageCache.clear(),(m=this.resizeObserver)===null||m===void 0||m.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(Hc),Hc=0}},{key:"removeEventListeners",value:function(){var m,v,x,w;document.removeEventListener(D.Ks.POINTER_UP,this.removePointer),document.removeEventListener(D.Ks.COPY,this.onCopy),document.removeEventListener(D.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(D.Ks.CUT,this.onCut),(m=this.nearestScrollableContainer)===null||m===void 0||m.removeEventListener(D.Ks.SCROLL,this.onScroll),document.removeEventListener(D.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(D.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(D.Ks.KEYUP,this.onKeyUp),window.removeEventListener(D.Ks.RESIZE,this.onResize,!1),window.removeEventListener(D.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(D.Ks.BLUR,this.onBlur,!1),(v=this.excalidrawContainerRef.current)===null||v===void 0||v.removeEventListener(D.Ks.DRAG_OVER,this.disableEvent,!1),(x=this.excalidrawContainerRef.current)===null||x===void 0||x.removeEventListener(D.Ks.DROP,this.disableEvent,!1),document.removeEventListener(D.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(D.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(D.Ks.GESTURE_END,this.onGestureEnd,!1),(w=this.detachIsMobileMqHandler)===null||w===void 0||w.call(this)}},{key:"addEventListeners",value:function(){var m,v,x,w;this.removeEventListeners(),document.addEventListener(D.Ks.POINTER_UP,this.removePointer),document.addEventListener(D.Ks.COPY,this.onCopy),this.props.handleKeyboardGlobally&&document.addEventListener(D.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(D.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(D.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(m=document.fonts)===null||m===void 0||(v=m.addEventListener)===null||v===void 0||v.call(m,"loadingdone",this.onFontLoaded),document.addEventListener(D.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(D.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(D.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(D.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(D.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=function(T){for(var E=T.parentElement;E;){if(E===document.body)return document;var L=window.getComputedStyle(E).overflowY;if(E.scrollHeight>E.clientHeight&&(L==="auto"||L==="scroll"))return E;E=E.parentElement}return document}(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(D.Ks.SCROLL,this.onScroll)),window.addEventListener(D.Ks.RESIZE,this.onResize,!1),window.addEventListener(D.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(D.Ks.BLUR,this.onBlur,!1),(x=this.excalidrawContainerRef.current)===null||x===void 0||x.addEventListener(D.Ks.DRAG_OVER,this.disableEvent,!1),(w=this.excalidrawContainerRef.current)===null||w===void 0||w.addEventListener(D.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(m,v){var x,w=this;v.elementType==="selection"&&this.state.elementType!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),m.langCode!==this.props.langCode&&this.updateLanguage(),m.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),v.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),m.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),m.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),m.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?D.k:null}),this.props.name&&m.name!==this.props.name&&this.setState({name:this.props.name}),(x=this.excalidrawContainerRef.current)===null||x===void 0||x.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){w.actionManager.executeAction(_l)});var T=v.multiElement;v.elementType!==this.state.elementType&&T!=null&&ml(this.state)&&wa(T)&&Tf(T,this.state,this.scene,fn(Wr.getPointAtIndexGlobalCoordinates(T,-1)));var E={},L={},F={},j={},z={};this.state.collaborators.forEach(function(Te,Me){if(Te.selectedElementIds)for(var Oe=0,$e=Object.keys(Te.selectedElementIds);Oe<$e.length;Oe++){var He=$e[Oe];He in F||(F[He]=[]),F[He].push(Me)}Te.pointer&&(Te.username&&(j[Me]=Te.username),Te.userState&&(z[Me]=Te.userState),L[Me]=qe({sceneX:Te.pointer.x,sceneY:Te.pointer.y},w.state),E[Me]=Te.button)});var K=this.scene.getElements().filter(function(Te){return(!cc(Te)||!w.state.pendingImageElement||Te.id!==w.state.pendingImageElement.id)&&(!w.state.editingElement||w.state.editingElement.type!=="text"||Te.id!==w.state.editingElement.id)}),$=T_(K,this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:L,remotePointerButton:E,remoteSelectedElementIds:F,remotePointerUsernames:j,remotePointerUserStates:z,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom,theme:this.state.theme,imageCache:this.imageCache,isExporting:!1,renderScrollbars:!this.isMobile}),Z=$.atLeastOneVisibleElement,oe=$.scrollBars;oe&&(l6=oe);var se,ve,_e=!Nr(this.state.editingElement)&&!Z&&K.length>0;this.state.scrolledOutside!==_e&&this.setState({scrolledOutside:_e}),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.scheduleImageRefresh(),this.state.isLoading||(se=(ve=this.props).onChange)===null||se===void 0||se.call(ve,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(m){var v=je({clientX:Hf,clientY:Uf},this.state),x=v.x,w=v.y,T=bu({x,y:w,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:m,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:D.hs});this.scene.replaceAllElements([].concat(Re(this.scene.getElementsIncludingDeleted()),[T])),this.setState({selectedElementIds:we({},T.id,!0)}),this.history.resumeRecording()}},{key:"selectShapeTool",value:function(m){var v;Kf||ol(this.canvas,m),(v=document.activeElement)instanceof HTMLElement&&v.className.includes("ToolIcon")&&this.focusContainer(),tl(m)||this.setState({suggestedBindings:[]}),m==="image"&&this.onImageAction(),m!=="selection"?this.setState({elementType:m,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:m})}},{key:"handleTextWysiwyg",value:function(m,v){var x=this,w=v.isExistingElement,T=w!==void 0&&w,E=function(L,F,j){x.scene.replaceAllElements(Re(x.scene.getElementsIncludingDeleted().map(function(z){return z.id===m.id&&Nr(z)?by(z,{text:L,isDeleted:j,originalText:F}):z})))};I({id:m.id,canvas:this.canvas,getViewportCoords:function(L,F){var j=qe({sceneX:L,sceneY:F},x.state),z=j.x,K=j.y;return[z-x.state.offsetLeft,K-x.state.offsetTop]},onChange:vn(function(L){E(L,L,!1),Xe(m)&&vl(m)}),onSubmit:vn(function(L){var F=L.text,j=L.viaKeyboard,z=L.originalText,K=!F.trim();if(E(F,z,K),!K&&j){var $=m.containerId?m.containerId:m.id;x.setState(function(Z){return{selectedElementIds:ft(ft({},Z.selectedElementIds),{},we({},$,!0))}})}K&&ov(x.scene.getElements(),[m]),K&&!T||x.history.resumeRecording(),x.setState({draggingElement:null,editingElement:null}),x.state.elementLocked&&ol(x.canvas,x.state.elementType),x.focusContainer()}),element:m,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),E(m.text,m.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(m,v){var x=this.getElementAtPosition(m,v,{includeBoundTextElement:!0});return x&&Nr(x)&&!x.isDeleted?x:null}},{key:"getElementAtPosition",value:function(m,v,x){var w=this.getElementsAtPosition(m,v,x==null?void 0:x.includeBoundTextElement);if(w.length>1){if(x!=null&&x.preferSelected){for(var T=w.length-1;T>-1;T--)if(this.state.selectedElementIds[w[T].id])return w[T]}var E=w[w.length-1];return ch(E,this.state,m,v)?w[w.length-2]:E}return w.length===1?w[0]:null}},{key:"getElementsAtPosition",value:function(m,v){var x=this,w=arguments.length>2&&arguments[2]!==void 0&&arguments[2],T=w?this.scene.getElements():this.scene.getElements().filter(function(E){return!(Nr(E)&&E.containerId)});return O3(T,function(E){return Sy(E,x.state,m,v)})}},{key:"maybeCleanupAfterMissingPointerUp",value:function(m){Uc!==null&&Uc(m)}},{key:"updateGestureOnPointerDown",value:function(m){qr.pointers.set(m.pointerId,{x:m.clientX,y:m.clientY}),qr.pointers.size===2&&(qr.lastCenter=aC(qr.pointers),qr.initialScale=this.state.zoom.value,qr.initialDistance=oC(Array.from(qr.pointers.values())))}},{key:"initialPointerDownState",value:function(m){var v=je(m,this.state),x=Fe(this.scene.getElements(),this.state),w=W(Zn(x),4),T=w[0],E=w[1],L=w[2],F=w[3];return{origin:v,withCmdOrCtrl:m[Be.CTRL_OR_CMD],originInGrid:fn(Ua(v.x,v.y,this.state.gridSize)),scrollbars:It(l6,m.clientX-this.state.offsetLeft,m.clientY-this.state.offsetTop),lastCoords:ft({},v),originalElements:this.scene.getElements().reduce(function(j,z){return j.set(z.id,xu(z)),j},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(L+T)/2,y:(F+E)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(v,x),hasHitElementInside:!1},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1}}}},{key:"handleDraggingScrollBar",value:function(m,v){var x=this;if(!v.scrollbars.isOverEither||this.state.multiElement)return!1;s6=!0,v.lastCoords.x=m.clientX,v.lastCoords.y=m.clientY;var w=Lm(function(E){E.target instanceof HTMLElement&&x.handlePointerMoveOverScrollbars(E,v)}),T=vn(function(){s6=!1,ol(x.canvas,x.state.elementType),Uc=null,x.setState({cursorButton:"up"}),x.savePointer(m.clientX,m.clientY,"up"),window.removeEventListener(D.Ks.POINTER_MOVE,w),window.removeEventListener(D.Ks.POINTER_UP,T),w.flush()});return Uc=T,window.addEventListener(D.Ks.POINTER_MOVE,w),window.addEventListener(D.Ks.POINTER_UP,T),!0}},{key:"isASelectedElement",value:function(m){return m!=null&&this.state.selectedElementIds[m.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(m,v){if(v.length<2)return!1;var x=10/this.state.zoom.value,w=W(Zn(v),4),T=w[0],E=w[1],L=w[2],F=w[3];return m.x>T-x&&m.x<L+x&&m.y>E-x&&m.y<F+x}},{key:"onKeyDownFromPointerDownHandler",value:function(m){var v=this;return vn(function(x){v.maybeHandleResize(m,x)||v.maybeDragNewGenericElement(m,x)})}},{key:"onKeyUpFromPointerDownHandler",value:function(m){var v=this;return vn(function(x){x.key===Be.ALT&&x.preventDefault(),v.maybeHandleResize(m,x)||v.maybeDragNewGenericElement(m,x)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(m){var v=this;return Lm(function(x){var w,T;if(m.drag.offset===null&&(m.drag.offset=fn(function(ot,Pt,Ft){var rr=W(Zn(ot),2);return[Pt-rr[0],Ft-rr[1]]}(Fe(v.scene.getElements(),v.state),m.origin.x,m.origin.y))),x.target instanceof HTMLElement&&!v.handlePointerMoveOverScrollbars(x,m)){var E=je(x,v.state),L=W(Ua(E.x,E.y,v.state.gridSize),2),F=L[0],j=L[1];if(m.drag.hasOccurred||v.state.elementType!=="arrow"&&v.state.elementType!=="line"||!(Ha(E.x,E.y,m.origin.x,m.origin.y)<D.f)){if(m.resize.isResizing&&(m.lastCoords.x=E.x,m.lastCoords.y=E.y,v.maybeHandleResize(m,x)))return!0;if(v.state.editingLinearElement){var z=Wr.handlePointDragging(v.state,function(ot){return v.setState(ot)},E.x,E.y,function(ot,Pt){v.maybeSuggestBindingsForLinearElementAtCoords(ot,Pt)});if(z)return m.lastCoords.x=E.x,void(m.lastCoords.y=E.y)}var K=m.hit.allHitElements.some(function(ot){return v.isASelectedElement(ot)});if((K||m.hit.hasHitCommonBoundingBoxOfSelectedElements)&&(!v.state.editingLinearElement||!x.shiftKey)&&(!v.state.editingLinearElement||((w=v.state.editingLinearElement)===null||w===void 0?void 0:w.elementId)!==((T=m.hit.element)===null||T===void 0?void 0:T.id)||m.hit.hasHitElementInside)){m.drag.hasOccurred=!0;var $=Fe(v.scene.getElements(),v.state);if($.length>0&&!m.withCmdOrCtrl){var Z=W(Ua(E.x-m.drag.offset.x,E.y-m.drag.offset.y,v.state.gridSize),2),oe=Z[0],se=Z[1],ve=[Math.abs(E.x-m.origin.x),Math.abs(E.y-m.origin.y)],_e=ve[0],Te=ve[1],Me=x.shiftKey;if(function(ot,Pt,Ft,rr){var Hr=arguments.length>4&&arguments[4]!==void 0&&arguments[4],hn=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,Dr=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,Mn=arguments.length>7?arguments[7]:void 0,Ea=W(Zn(Pt),2),Wf=Ea[0],Us=Ea[1],Ks={x:Ft-Wf,y:rr-Us};Pt.forEach(function(Qa){if(Yy(Hr,hn,Dr,ot,Qa,Ks),!Qa.groupIds.length||Mn.editingGroupId&&!_i(Mn,Qa)){var Kc=ia(Qa);if(Kc){var ns=gn.getScene(Qa).getElement(Kc);Yy(Hr,hn,Dr,ot,ns,Ks)}}vl(Qa,{simultaneouslyUpdated:Pt})})}(m,$,oe,se,Me,_e,Te,v.state),v.maybeSuggestBindingForAll($),x.altKey&&!m.hit.hasBeenDuplicated){m.hit.hasBeenDuplicated=!0;var Oe,$e=[],He=[],We=new Map,Ce=new Map,rt=m.hit.element,Ze=v.scene.getElementsIncludingDeleted(),Ge=Fe(Ze,v.state,!0).map(function(ot){return ot.id}),it=KC(Ze);try{for(it.s();!(Oe=it.n()).done;){var et=Oe.value;if(Ge.includes(et.id)||et.id===(rt==null?void 0:rt.id)&&m.hit.wasAddedToSelection){var Le=sh(v.state.editingGroupId,We,et),dt=W(Ua(m.origin.x-m.drag.offset.x,m.origin.y-m.drag.offset.y,v.state.gridSize),2),mt=dt[0],bt=dt[1];vt(Le,{x:Le.x+(mt-oe),y:Le.y+(bt-se)}),$e.push(Le),He.push(et),Ce.set(et.id,Le.id)}else $e.push(et)}}catch(ot){it.e(ot)}finally{it.f()}var ct=[].concat($e,He);Bn($e,He,Ce),Fs(ct,He,Ce,"duplicatesServeAsOld"),v.scene.replaceAllElements(ct)}return}}var Dt=v.state.draggingElement;if(Dt){if(Dt.type==="freedraw"){var sr=Dt.points,Mr=E.x-Dt.x,tn=E.y-Dt.y,wr=sr.length>0&&sr[sr.length-1];if(!(wr&&wr[0]===Mr&&wr[1]===tn)){var Xr=Dt.simulatePressure?Dt.pressures:[].concat(Re(Dt.pressures),[x.pressure]);vt(Dt,{points:[].concat(Re(sr),[[Mr,tn]]),pressures:Xr})}}else if(un(Dt)){m.drag.hasOccurred=!0;var hr=Dt.points,dn=F-Dt.x,In=j-Dt.y;if(ay(x)&&hr.length===2){var qi=ii(v.state.elementType,dn,In);dn=qi.width,In=qi.height}hr.length===1?vt(Dt,{points:[].concat(Re(hr),[[dn,In]])}):hr.length>1&&vt(Dt,{points:[].concat(Re(hr.slice(0,-1)),[[dn,In]])}),wa(Dt)&&v.maybeSuggestBindingsForLinearElementAtCoords(Dt,[E],v.state.startBoundElement)}else m.lastCoords.x=E.x,m.lastCoords.y=E.y,v.maybeDragNewGenericElement(m,x);if(v.state.elementType==="selection"){m.boxSelection.hasOccurred=!0;var Ca=v.scene.getElements();if(x.shiftKey||v.state.editingLinearElement||!Ct(Ca,v.state)||(m.withCmdOrCtrl&&m.hit.element?v.setState(function(ot){return Go(ft(ft({},ot),{},{selectedElementIds:we({},m.hit.element.id,!0)}),v.scene.getElements())}):v.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),v.state.editingLinearElement)Wr.handleBoxSelection(x,v.state,v.setState.bind(v));else{var Za=function(ot,Pt){var Ft=W(xr(Pt),4),rr=Ft[0],Hr=Ft[1],hn=Ft[2],Dr=Ft[3];return ot.filter(function(Mn){var Ea=W(dc(Mn),4),Wf=Ea[0],Us=Ea[1],Ks=Ea[2],Qa=Ea[3];return Mn.type!=="selection"&&!Ba(Mn)&&rr<=Wf&&Hr<=Us&&hn>=Ks&&Dr>=Qa})}(Ca,Dt);v.setState(function(ot){return Go(ft(ft({},ot),{},{selectedElementIds:ft(ft(ft({},ot.selectedElementIds),Za.reduce(function(Pt,Ft){return Pt[Ft.id]=!0,Pt},{})),m.hit.element?we({},m.hit.element.id,!Za.length):null),showHyperlinkPopup:!(Za.length!==1||!Za[0].link)&&"info"}),v.scene.getElements())})}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(m,v){if(v.scrollbars.isOverHorizontal){var x=m.clientX,w=x-v.lastCoords.x;return this.setState({scrollX:this.state.scrollX-w/this.state.zoom.value}),v.lastCoords.x=x,!0}if(v.scrollbars.isOverVertical){var T=m.clientY,E=T-v.lastCoords.y;return this.setState({scrollY:this.state.scrollY-E/this.state.zoom.value}),v.lastCoords.y=T,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(m){var v=this;return vn(function(x){var w,T,E=v.state,L=E.draggingElement,F=E.resizingElement,j=E.multiElement,z=E.elementType,K=E.elementLocked,$=E.isResizing,Z=E.isRotating;if(v.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:j||Nr(v.state.editingElement)?v.state.editingElement:null}),v.savePointer(x.clientX,x.clientY,"up"),v.state.editingLinearElement)if(m.boxSelection.hasOccurred||((w=m.hit)===null||w===void 0||(T=w.element)===null||T===void 0?void 0:T.id)===v.state.editingLinearElement.elementId&&m.hit.hasHitElementInside){var oe=Wr.handlePointerUp(x,v.state.editingLinearElement,v.state);oe!==v.state.editingLinearElement&&v.setState({editingLinearElement:oe,suggestedBindings:[]})}else v.actionManager.executeAction(_l);if(Uc=null,m.eventListeners.onMove&&m.eventListeners.onMove.flush(),window.removeEventListener(D.Ks.POINTER_MOVE,m.eventListeners.onMove),window.removeEventListener(D.Ks.POINTER_UP,m.eventListeners.onUp),window.removeEventListener(D.Ks.KEYDOWN,m.eventListeners.onKeyDown),window.removeEventListener(D.Ks.KEYUP,m.eventListeners.onKeyUp),v.state.pendingImageElement&&v.setState({pendingImageElement:null}),(L==null?void 0:L.type)==="freedraw"){var se=je(x,v.state),ve=L.points,_e=se.x-L.x,Te=se.y-L.y;_e===ve[0][0]&&Te===ve[0][1]&&(Te+=1e-4,_e+=1e-4);var Me=L.simulatePressure?[]:[].concat(Re(L.pressures),[x.pressure]);return vt(L,{points:[].concat(Re(ve),[[_e,Te]]),pressures:Me,lastCommittedPoint:[_e,Te]}),void v.actionManager.executeAction(_l)}if(cc(L)){var Oe=L;try{v.initializeImageDimensions(Oe),v.setState({selectedElementIds:we({},Oe.id,!0)},function(){v.actionManager.executeAction(_l)})}catch(Ce){console.error(Ce),v.scene.replaceAllElements(v.scene.getElementsIncludingDeleted().filter(function(rt){return rt.id!==Oe.id})),v.actionManager.executeAction(_l)}}else if(un(L)){L.points.length>1&&v.history.resumeRecording();var $e=je(x,v.state);m.drag.hasOccurred||!L||j?m.drag.hasOccurred&&!j&&(ml(v.state)&&wa(L)&&Tf(L,v.state,v.scene,$e),v.setState({suggestedBindings:[],startBoundElement:null}),K?v.setState(function(Ce){return{draggingElement:null,selectedElementIds:ft(ft({},Ce.selectedElementIds),{},we({},v.state.draggingElement.id,!0))}}):(Qn(v.canvas),v.setState(function(Ce){return{draggingElement:null,elementType:"selection",selectedElementIds:ft(ft({},Ce.selectedElementIds),{},we({},v.state.draggingElement.id,!0))}}))):(vt(L,{points:[].concat(Re(L.points),[[$e.x-L.x,$e.y-L.y]])}),v.setState({multiElement:L,editingElement:v.state.draggingElement}))}else{if(z!=="selection"&&L&&fl(L))return v.scene.replaceAllElements(v.scene.getElementsIncludingDeleted().slice(0,-1)),void v.setState({draggingElement:null});L&&vt(L,rh(L)),F&&v.history.resumeRecording(),F&&fl(F)&&v.scene.replaceAllElements(v.scene.getElementsIncludingDeleted().filter(function(Ce){return Ce.id!==F.id}));var He=m.hit.element;if(He&&!m.drag.hasOccurred&&!m.hit.wasAddedToSelection&&(!v.state.editingLinearElement||!m.boxSelection.hasOccurred))if(x.shiftKey&&!v.state.editingLinearElement)if(v.state.selectedElementIds[He.id])if(_i(v.state,He)){var We=He.groupIds.flatMap(function(Ce){return ka(v.scene.getElements(),Ce)}).map(function(Ce){return we({},Ce.id,!1)}).reduce(function(Ce,rt){return ft(ft({},Ce),rt)},{});v.setState(function(Ce){return{selectedGroupIds:ft(ft({},Ce.selectedElementIds),He.groupIds.map(function(rt){return we({},rt,!1)}).reduce(function(rt,Ze){return ft(ft({},rt),Ze)},{})),selectedElementIds:ft(ft({},Ce.selectedElementIds),We)}})}else v.setState(function(Ce){return Go(ft(ft({},Ce),{},{selectedElementIds:ft(ft({},Ce.selectedElementIds),{},we({},He.id,!1))}),v.scene.getElements())});else v.setState(function(Ce){return{selectedElementIds:ft(ft({},Ce.selectedElementIds),{},we({},He.id,!0))}});else v.setState(function(Ce){return ft({},Go(ft(ft({},Ce),{},{selectedElementIds:we({},He.id,!0)}),v.scene.getElements()))});v.state.editingLinearElement||m.drag.hasOccurred||v.state.isResizing||!(He&&ch(He,v.state,m.origin.x,m.origin.y)||!He&&m.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!K&&z!=="freedraw"&&L&&v.setState(function(Ce){return{selectedElementIds:ft(ft({},Ce.selectedElementIds),{},we({},L.id,!0))}}),(z!=="selection"||Ct(v.scene.getElements(),v.state))&&v.history.resumeRecording(),(m.drag.hasOccurred||$||Z)&&(ml(v.state)?Zo:rv)(Fe(v.scene.getElements(),v.state)),K||z==="freedraw"?v.setState({draggingElement:null,suggestedBindings:[]}):(Qn(v.canvas),v.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):v.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}})}},{key:"maybeSuggestBindingForAll",value:function(m){var v,x,w=(v=m,x=new Set(v.map(function(T){return T.id})),v.flatMap(function(T){return wa(T)?Hy(T).filter(function(E){return!x.has(E.id)}):U0(T)?iv(T).filter(function(E){return!x.has(E[0].id)}):[]}));this.setState({suggestedBindings:w})}},{key:"clearSelection",value:function(m){this.setState(function(v){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:v.editingGroupId&&m!=null&&gu(m,v.editingGroupId)?v.editingGroupId:null}}),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(m,v,x,w,T){var E=_2(this.scene.getElementsIncludingDeleted().filter(function(z){return!Nr(z)}),m,v);if(E){var L=E.x+E.width/2,F=E.y+E.height/2;if(Math.hypot(m-L,v-F)<D.wZ){var j=qe({sceneX:L,sceneY:F},x);return{viewportX:j.x,viewportY:j.y,elementCenterX:L,elementCenterY:F}}}}},{key:"getCanvasOffsets",value:function(){var m;if((m=this.excalidrawContainerRef)!==null&&m!==void 0&&m.current){var v=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:v.left,offsetTop:v.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(s=(0,V.Z)(ie().mark(function m(){var v,x=this;return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return v=ye.find(function(T){return T.code===x.props.langCode})||he,w.next=3,De(v);case 3:this.setAppState({});case 4:case"end":return w.stop()}},m,this)})),function(){return s.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){Av=!1}}]),h}(R().Component);u6.defaultProps={UIOptions:D.cW};var jB=function(){var a=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.isMobile=!1,this.excalidrawContainerRef=R().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.contextMenuOpen=!1,this.focusContainer=function(){var s;a.props.autoFocus&&((s=a.excalidrawContainerRef.current)===null||s===void 0||s.focus())},this.getSceneElementsIncludingDeleted=function(){return a.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return a.scene.getElements()},this.syncActionResult=vn(function(s){if(a.contextMenuOpen=!1,!a.unmounted&&s!==!1){var l=null;if(s.elements&&(s.elements.forEach(function(z){var K;((K=a.state.editingElement)===null||K===void 0?void 0:K.id)===z.id&&a.state.editingElement!==z&&Xe(z)&&(l=z)}),a.scene.replaceAllElements(s.elements),s.commitToHistory&&a.history.resumeRecording()),s.files&&(a.files=s.replaceFiles?s.files:ft(ft({},a.files),s.files),a.addNewImagesToImageCache()),s.appState||l){var c,h,m,v,x,w;s.commitToHistory&&a.history.resumeRecording();var T=(s==null||(c=s.appState)===null||c===void 0?void 0:c.viewModeEnabled)||!1,E=(s==null||(h=s.appState)===null||h===void 0?void 0:h.zenModeEnabled)||!1,L=(s==null||(m=s.appState)===null||m===void 0?void 0:m.gridSize)||null,F=(s==null||(v=s.appState)===null||v===void 0?void 0:v.theme)||D.C6.LIGHT,j=(x=s==null||(w=s.appState)===null||w===void 0?void 0:w.name)!==null&&x!==void 0?x:a.state.name;a.props.viewModeEnabled!==void 0&&(T=a.props.viewModeEnabled),a.props.zenModeEnabled!==void 0&&(E=a.props.zenModeEnabled),a.props.gridModeEnabled!==void 0&&(L=a.props.gridModeEnabled?D.k:null),a.props.theme!==void 0&&(F=a.props.theme),a.props.name!==void 0&&(j=a.props.name),a.setState(function(z){var K;return Object.assign(s.appState||{},{editingElement:l||((K=s.appState)===null||K===void 0?void 0:K.editingElement)||null,viewModeEnabled:T,zenModeEnabled:E,gridSize:L,theme:F,name:j})},function(){s.syncHistory&&a.history.setCurrentState(a.state,a.scene.getElementsIncludingDeleted())})}}}),this.onBlur=vn(function(){Kf=!1,a.setState({isBindingEnabled:!0})}),this.onUnload=function(){a.onBlur()},this.disableEvent=function(s){s.preventDefault()},this.onFontLoaded=function(){a.scene.getElementsIncludingDeleted().forEach(function(s){Nr(s)&&mo(s)}),a.onSceneUpdated()},this.importLibraryFromUrl=function(){var s=(0,V.Z)(ie().mark(function l(c,h){var m,v,x,w,T;return ie().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return window.location.hash.includes(D.ah.addLibrary)?((m=new URLSearchParams(window.location.hash.slice(1))).delete(D.ah.addLibrary),window.history.replaceState({},D.iC,"#".concat(m.toString()))):window.location.search.includes(D.UO.addLibrary)&&((v=new URLSearchParams(window.location.search)).delete(D.UO.addLibrary),window.history.replaceState({},D.iC,"?".concat(v.toString()))),E.prev=1,E.next=4,fetch(decodeURIComponent(c));case 4:return x=E.sent,E.next=7,x.blob();case 7:return w=E.sent,E.t0=JSON,E.next=11,w.text();case 11:if(E.t1=E.sent,T=E.t0.parse.call(E.t0,E.t1),vz(T)){E.next=15;break}throw new Error;case 15:if(h!==a.id&&!window.confirm(q("alerts.confirmAddLibrary",{numShapes:(T.libraryItems||T.library||[]).length}))){E.next=20;break}return E.next=18,a.library.importLibrary(w,"published");case 18:a.state.isLibraryOpen&&a.setState({isLibraryOpen:!1}),a.setState({isLibraryOpen:!0});case 20:E.next=26;break;case 22:E.prev=22,E.t2=E.catch(1),window.alert(q("alerts.errorLoadingLibrary")),console.error(E.t2);case 26:return E.prev=26,a.focusContainer(),E.finish(26);case 29:case"end":return E.stop()}},l,null,[[1,22,26,29]])}));return function(l,c){return s.apply(this,arguments)}}(),this.resetHistory=function(){a.history.clear()},this.resetScene=vn(function(s){a.scene.replaceAllElements([]),a.setState(function(l){return ft(ft({},fu()),{},{isLoading:(s==null||!s.resetLoadingState)&&l.isLoading,theme:a.state.theme})}),a.resetHistory()}),this.initializeScene=(0,V.Z)(ie().mark(function s(){var l,c,h,m,v;return ie().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var w=(0,V.Z)(ie().mark(function T(E){var L,F;return ie().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(E.files.length){j.next=2;break}return j.abrupt("return");case 2:return L=E.files[0],j.next=5,L.getFile();case 5:(F=j.sent).handle=L,Ev(F,a.state,a.scene.getElementsIncludingDeleted()).then(function(z){a.syncActionResult(ft(ft({},z),{},{appState:ft(ft({},z.appState||a.state),{},{isLoading:!1}),commitToHistory:!0}))}).catch(function(z){a.setState({isLoading:!1,errorMessage:z.message})});case 8:case"end":return j.stop()}},T)}));return function(T){return w.apply(this,arguments)}}()),a.state.isLoading||a.setState({isLoading:!0}),c=null,x.prev=3,x.next=6,a.props.initialData;case 6:if(x.t0=x.sent,x.t0){x.next=9;break}x.t0=null;case 9:c=x.t0,(h=c)!==null&&h!==void 0&&h.libraryItems&&(a.libraryItemsFromStorage=K3(c.libraryItems,"unpublished")),x.next=17;break;case 13:x.prev=13,x.t1=x.catch(3),console.error(x.t1),c={appState:{errorMessage:x.t1.message||"Encountered an error during importing or restoring scene data"}};case 17:if((m=Cv(c,null,null)).appState=ft(ft({},m.appState),{},{elementType:m.appState.elementType==="image"?"selection":m.appState.elementType,isLoading:!1}),(l=c)!==null&&l!==void 0&&l.scrollToContent&&(m.appState=ft(ft({},m.appState),ci(m.elements,ft(ft({},m.appState),{},{width:a.state.width,height:a.state.height,offsetTop:a.state.offsetTop,offsetLeft:a.state.offsetLeft})))),a.resetHistory(),a.syncActionResult(ft(ft({},m),{},{commitToHistory:!0})),!(v=new URLSearchParams(window.location.hash.slice(1)).get(D.ah.addLibrary)||new URLSearchParams(window.location.search).get(D.UO.addLibrary))){x.next=26;break}return x.next=26,a.importLibraryFromUrl(v);case 26:case"end":return x.stop()}},s,null,[[3,13]])})),this.onResize=vn(function(){a.scene.getElementsIncludingDeleted().forEach(function(s){return mo(s)}),a.setState({})}),this.onScroll=vc(function(){var s=a.getCanvasOffsets(),l=s.offsetTop,c=s.offsetLeft;a.setState(function(h){return h.offsetLeft===c&&h.offsetTop===l?null:{offsetTop:l,offsetLeft:c}})},D.HM),this.onCut=vn(function(s){var l;((l=a.excalidrawContainerRef.current)===null||l===void 0?void 0:l.contains(document.activeElement))&&!Wo(s.target)&&(a.cutAll(),s.preventDefault())}),this.onCopy=vn(function(s){var l;((l=a.excalidrawContainerRef.current)===null||l===void 0?void 0:l.contains(document.activeElement))&&!Wo(s.target)&&(a.copyAll(),s.preventDefault())}),this.cutAll=function(){a.copyAll(),a.actionManager.executeAction(kr)},this.copyAll=function(){pS(a.scene.getElements(),a.state,a.files)},this.onTapStart=function(s){if($d||s.preventDefault(),!Av)return Av=!0,clearTimeout(o6),void(o6=window.setTimeout(u6.resetTapTwice,D.Gj));if(Av&&s.touches.length===1){var l=W(s.touches,1)[0];a.handleCanvasDoubleClick({clientX:l.clientX,clientY:l.clientY}),Av=!1,clearTimeout(o6)}$d&&s.preventDefault(),s.touches.length===2&&a.setState({selectedElementIds:{}})},this.onTapEnd=function(s){a.resetContextMenuTimer(),s.touches.length>0?a.setState({previousSelectedElementIds:{},selectedElementIds:a.state.previousSelectedElementIds}):qr.pointers.clear()},this.pasteFromClipboard=vn(function(){var s=(0,V.Z)(ie().mark(function l(c){var h,m,v,x,w,T,E,L,F,j,z;return ie().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(v=document.activeElement,(h=a.excalidrawContainerRef.current)===null||h===void 0?void 0:h.contains(v)){K.next=4;break}return K.abrupt("return");case 4:if(x=document.elementFromPoint(Hf,Uf),!c||x instanceof HTMLCanvasElement&&!Wo(v)){K.next=7;break}return K.abrupt("return");case 7:return w=c==null||(m=c.clipboardData)===null||m===void 0?void 0:m.files[0],K.next=10,Cz(c);case 10:if(T=K.sent,!w&&T.text&&(E=T.text.trim()).startsWith("<svg")&&E.endsWith("</svg>")&&(w=J_(E)),!H2(w)||T.spreadsheet){K.next=19;break}return L=je({clientX:Hf,clientY:Uf},a.state),F=L.x,j=L.y,z=a.createImageElement({sceneX:F,sceneY:j}),a.insertImageElement(z,w),a.initializeImageDimensions(z),a.setState({selectedElementIds:we({},z.id,!0)}),K.abrupt("return");case 19:if(!a.props.onPaste){K.next=31;break}return K.prev=20,K.next=23,a.props.onPaste(T,c);case 23:if(K.t0=K.sent,K.t0!==!1){K.next=26;break}return K.abrupt("return");case 26:K.next=31;break;case 28:K.prev=28,K.t1=K.catch(20),console.error(K.t1);case 31:T.errorMessage?a.setState({errorMessage:T.errorMessage}):T.spreadsheet?a.setState({pasteDialog:{data:T.spreadsheet,shown:!0}}):T.elements?a.addElementsFromPasteOrLibrary({elements:T.elements,files:T.files||null,position:"cursor"}):T.text&&a.addTextFromPaste(T.text),a.selectShapeTool("selection"),c==null||c.preventDefault();case 34:case"end":return K.stop()}},l,null,[[20,28]])}));return function(l){return s.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(s){var l=B2(s.elements,null),c=W(Zn(l),4),h=c[0],m=c[1],v=c[2],x=c[3],w=wi(h,v)/2,T=wi(m,x)/2,E=Zt(s.position)==="object"?s.position.clientX:s.position==="cursor"?Hf:a.state.width/2+a.state.offsetLeft,L=Zt(s.position)==="object"?s.position.clientY:s.position==="cursor"?Uf:a.state.height/2+a.state.offsetTop,F=je({clientX:E,clientY:L},a.state),j=F.x-w,z=F.y-T,K=new Map,$=W(Ua(j,z,a.state.gridSize),2),Z=$[0],oe=$[1],se=new Map,ve=l.map(function(Te){var Me=sh(a.state.editingGroupId,K,Te,{x:Te.x+Z-h,y:Te.y+oe-m});return se.set(Te.id,Me.id),Me});Bn(ve,l,se);var _e=[].concat(Re(a.scene.getElementsIncludingDeleted()),Re(ve));Fs(_e,l,se),s.files&&(a.files=ft(ft({},a.files),s.files)),a.scene.replaceAllElements(_e),a.history.resumeRecording(),a.setState(Go(ft(ft({},a.state),{},{isLibraryOpen:!1,selectedElementIds:ve.reduce(function(Te,Me){return Ba(Me)||(Te[Me.id]=!0),Te},{}),selectedGroupIds:{}}),a.scene.getElements()),function(){s.files&&a.addNewImagesToImageCache()}),a.selectShapeTool("selection")},this.setAppState=function(s){a.setState(s)},this.removePointer=function(s){Hc&&a.resetContextMenuTimer(),qr.pointers.delete(s.pointerId)},this.toggleLock=function(){a.setState(function(s){return{elementLocked:!s.elementLocked,elementType:s.elementLocked?"selection":s.elementType}})},this.togglePenMode=function(){a.setState(function(s){return{penMode:!s.penMode}})},this.toggleZenMode=function(){a.actionManager.executeAction(e6)},this.toggleStats=function(){a.state.showStats||Bh("dialog","stats"),a.actionManager.executeAction(t6)},this.scrollToContent=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.scene.getElements();a.setState(ft({},ci(Array.isArray(s)?s:[s],a.state,a.canvas)))},this.clearToast=function(){a.setState({toastMessage:null})},this.setToastMessage=function(s){a.setState({toastMessage:s})},this.restoreFileFromShare=(0,V.Z)(ie().mark(function s(){var l,c,h;return ie().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,caches.open("web-share-target");case 3:return l=m.sent,m.next=6,l.match("shared-file");case 6:if(!(c=m.sent)){m.next=15;break}return m.next=10,c.blob();case 10:return h=m.sent,a.loadFileToCanvas(h),m.next=14,l.delete("shared-file");case 14:window.history.replaceState(null,D.iC,window.location.pathname);case 15:m.next=20;break;case 17:m.prev=17,m.t0=m.catch(0),a.setState({errorMessage:m.t0.message});case 20:case"end":return m.stop()}},s,null,[[0,17]])})),this.addFiles=vn(function(s){var l=s.reduce(function(c,h){return c.set(h.id,h),c},new Map);a.files=ft(ft({},a.files),Object.fromEntries(l)),a.scene.getElements().forEach(function(c){po(c)&&l.has(c.fileId)&&(a.imageCache.delete(c.fileId),mo(c))}),a.scene.informMutation(),a.addNewImagesToImageCache()}),this.updateScene=vn(function(s){s.commitToHistory&&a.history.resumeRecording(),s.appState&&a.setState(s.appState),s.elements&&a.scene.replaceAllElements(s.elements),s.collaborators&&a.setState({collaborators:s.collaborators}),s.libraryItems&&a.library.saveLibrary(K3(s.libraryItems,"unpublished"))}),this.onSceneUpdated=function(){a.setState({})},this.updateCurrentCursorPosition=vn(function(s){Hf=s.clientX,Uf=s.clientY}),this.onKeyDown=vn(function(s){var l;if("Proxy"in window&&(!s.shiftKey&&/^[A-Z]$/.test(s.key)||s.shiftKey&&/^[a-z]$/.test(s.key))&&(s=new Proxy(s,{get:function(L,F){var j=L[F];return typeof j=="function"?j.bind(L):F==="key"?s.shiftKey?L.key.toUpperCase():L.key.toLowerCase():j}})),!(Wo(s.target)&&s.key!==Be.ESCAPE||mc(s.key)&&(l=s.target,l instanceof HTMLElement&&l.dataset.type==="wysiwyg"||l instanceof HTMLBRElement||l instanceof HTMLInputElement||l instanceof HTMLTextAreaElement||l instanceof HTMLSelectElement))&&(s.key===Be.QUESTION_MARK&&a.setState({showHelpDialog:!0}),!a.actionManager.handleKeyDown(s)&&!a.state.viewModeEnabled)){if(s[Be.CTRL_OR_CMD]&&a.state.isBindingEnabled&&a.setState({isBindingEnabled:!1}),s.code===Em&&a.setState({isLibraryOpen:!a.state.isLibraryOpen}),mc(s.key)){var c=a.state.gridSize&&(s.shiftKey?D.$e:a.state.gridSize)||(s.shiftKey?D.Iw:D.$e),h=Fe(a.scene.getElements(),a.state,!0),m=0,v=0;s.key===Be.ARROW_LEFT?m=-c:s.key===Be.ARROW_RIGHT?m=c:s.key===Be.ARROW_UP?v=-c:s.key===Be.ARROW_DOWN&&(v=c),h.forEach(function(L){vt(L,{x:L.x+m,y:L.y+v}),vl(L,{simultaneouslyUpdated:h})}),a.maybeSuggestBindingForAll(h),s.preventDefault()}else if(s.key===Be.ENTER){var x=Fe(a.scene.getElements(),a.state);if(x.length===1&&un(x[0]))a.state.editingLinearElement&&a.state.editingLinearElement.elementId===x[0].id||(a.history.resumeRecording(),a.setState({editingLinearElement:new Wr(x[0],a.scene)}));else if(x.length===1&&!un(x[0])){var w=x[0];return a.startTextEditing({sceneX:w.x+w.width/2,sceneY:w.y+w.height/2,shouldBind:!0}),void s.preventDefault()}}else if(!s.ctrlKey&&!s.altKey&&!s.metaKey&&a.state.draggingElement===null){var T=function(L){var F=cC.find(function(j,z){return L===(z+1).toString()||j.key&&(typeof j.key=="string"?j.key===L:j.key.includes(L))});return(F==null?void 0:F.value)||null}(s.key);T?a.selectShapeTool(T):s.key===Be.Q&&a.toggleLock()}if(s.key===Be.SPACE&&qr.pointers.size===0&&(Kf=!0,On(a.canvas,D.oc.GRABBING),s.preventDefault()),s.key===Be.G||s.key===Be.S){var E=Fe(a.scene.getElements(),a.state);if(a.state.elementType==="selection"&&!E.length)return;s.key===Be.G&&(bl(a.state.elementType)||E.some(function(L){return bl(L.type)}))&&a.setState({openPopup:"backgroundColorPicker"}),s.key===Be.S&&a.setState({openPopup:"strokeColorPicker"})}}}),this.onKeyUp=vn(function(s){if(s.key===Be.SPACE&&(a.state.viewModeEnabled?On(a.canvas,D.oc.GRAB):a.state.elementType==="selection"?Qn(a.canvas):(ol(a.canvas,a.state.elementType),a.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Kf=!1),s[Be.CTRL_OR_CMD]||a.state.isBindingEnabled||a.setState({isBindingEnabled:!0}),mc(s.key)){var l=Fe(a.scene.getElements(),a.state);ml(a.state)?Zo(l):rv(l),a.setState({suggestedBindings:[]})}}),this.onGestureStart=vn(function(s){s.preventDefault(),a.setState({selectedElementIds:{}}),qr.initialScale=a.state.zoom.value}),this.onGestureChange=vn(function(s){if(s.preventDefault(),!(qr.pointers.size>=2)){var l=qr.initialScale;l&&a.setState(function(c){return ft({},Pc({viewportX:Hf,viewportY:Uf,nextZoom:wl(l*s.scale)},c))})}}),this.onGestureEnd=vn(function(s){s.preventDefault(),a.setState({previousSelectedElementIds:{},selectedElementIds:a.state.previousSelectedElementIds}),qr.initialScale=null}),this.startTextEditing=function(s){var l,c,h,m=s.sceneX,v=s.sceneY,x=s.shouldBind,w=s.insertAtParentCenter,T=(w===void 0||w)&&a.getTextWysiwygSnappedToCenterPosition(m,v,a.state,a.canvas,window.devicePixelRatio),E=x||T?_2(a.scene.getElements().filter(function(se){return!Nr(se)}),m,v):null,L=a.getTextElementAtPosition(m,v);if(E){var F=ia(E);F&&(L=a.scene.getElement(F))}if(!L&&E){var j={fontSize:a.state.currentItemFontSize,fontFamily:a.state.currentItemFontFamily},z=du(mn(j)),K=(h=mn(j),af(h)+2*D.gK),$=Math.max(E.height,K),Z=Math.max(E.width,z);vt(E,{height:$,width:Z}),m=E.x+Z/2,v=E.y+$/2,T&&(T=a.getTextWysiwygSnappedToCenterPosition(m,v,a.state,a.canvas,window.devicePixelRatio))}var oe=L||bu({x:T?T.elementCenterX:m,y:T?T.elementCenterY:v,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,strokeSharpness:a.state.currentItemStrokeSharpness,text:"",fontSize:a.state.currentItemFontSize,fontFamily:a.state.currentItemFontFamily,textAlign:T?"center":a.state.currentItemTextAlign,verticalAlign:T?"middle":D.hs,containerId:(l=E==null?void 0:E.id)!==null&&l!==void 0?l:void 0,groupIds:(c=E==null?void 0:E.groupIds)!==null&&c!==void 0?c:[]});a.setState({editingElement:oe}),L?T&&oe.textAlign==="center"||vt(oe,{verticalAlign:D.hs}):(a.scene.replaceAllElements([].concat(Re(a.scene.getElementsIncludingDeleted()),[oe])),T||vt(oe,{y:oe.y-oe.baseline/2})),a.setState({editingElement:oe}),a.handleTextWysiwyg(oe,{isExistingElement:!!L})},this.handleCanvasDoubleClick=function(s){if(!a.state.multiElement&&a.state.elementType==="selection"){var l=Fe(a.scene.getElements(),a.state);if(l.length===1&&un(l[0]))a.state.editingLinearElement&&a.state.editingLinearElement.elementId===l[0].id||(a.history.resumeRecording(),a.setState({editingLinearElement:new Wr(l[0],a.scene)}));else{Qn(a.canvas);var c=je(s,a.state),h=c.x,m=c.y;if(kc(a.state).length>0){var v=a.getElementAtPosition(h,m),x=v&&function(E,L){return E.groupIds.find(function(F){return L[F]})}(v,a.state.selectedGroupIds);if(x)return void a.setState(function(E){return Go(ft(ft({},E),{},{editingGroupId:x,selectedElementIds:we({},v.id,!0),selectedGroupIds:{}}),a.scene.getElements())})}if(Qn(a.canvas),!s[Be.CTRL_OR_CMD]&&!a.state.viewModeEnabled){var w=Fe(a.scene.getElements(),a.state);if(w.length===1){var T=w[0];Kd(T)&&(h=T.x+T.width/2,m=T.y+T.height/2)}a.startTextEditing({sceneX:h,sceneY:m,shouldBind:!1,insertAtParentCenter:!s.altKey})}}}},this.getElementLinkAtPosition=function(s,l){var c=a.scene.getElements().slice().reverse(),h=1/0;return c.find(function(m,v){return l&&m.id===l.id&&(h=v),m.link&&j2(m,a.state,[s.x,s.y],a.isMobile)&&v<=h})},this.redirectToLink=function(s,l){var c=Ha(a.lastPointerDown.clientX,a.lastPointerDown.clientY,a.lastPointerUp.clientX,a.lastPointerUp.clientY);if(!(!a.hitLinkElement||l&&c>D.f||!l&&c!==0)){var h=je(a.lastPointerDown,a.state),m=j2(a.hitLinkElement,a.state,[h.x,h.y],a.isMobile),v=je(a.lastPointerUp,a.state),x=j2(a.hitLinkElement,a.state,[v.x,v.y],a.isMobile);if(m&&x){var w,T,E=a.hitLinkElement.link;if(E&&(a.props.onLinkOpen&&(T=cu(D.Ks.EXCALIDRAW_LINK,s.nativeEvent),a.props.onLinkOpen(a.hitLinkElement,T)),(w=T)===null||w===void 0||!w.defaultPrevented)){var L=__(E)?"_self":"_blank",F=window.open(void 0,L);F&&(F.opener=null,F.location=k_(E))}}}},this.handleCanvasPointerMove=function(s){a.savePointer(s.clientX,s.clientY,a.state.cursorButton),qr.pointers.has(s.pointerId)&&qr.pointers.set(s.pointerId,{x:s.clientX,y:s.clientY});var l=qr.initialScale;if(qr.pointers.size===2&&qr.lastCenter&&l&&qr.initialDistance){var c=aC(qr.pointers),h=c.x-qr.lastCenter.x,m=c.y-qr.lastCenter.y;qr.lastCenter=c;var v=oC(Array.from(qr.pointers.values())),x=a.state.elementType==="freedraw"&&a.state.penMode?1:v/qr.initialDistance,w=x?wl(l*x):a.state.zoom.value;a.setState(function(We){var Ce=Pc({viewportX:c.x,viewportY:c.y,nextZoom:w},We);return{zoom:Ce.zoom,scrollX:Ce.scrollX+h/w,scrollY:Ce.scrollY+m/w,shouldCacheIgnoreZoom:!0}}),a.resetShouldCacheIgnoreZoomDebounced()}else qr.lastCenter=qr.initialDistance=qr.initialScale=null;if(!(Kf||Iv||s6)){var T=It(l6,s.clientX-a.state.offsetLeft,s.clientY-a.state.offsetTop).isOverEither;a.state.draggingElement||a.state.multiElement||(T?Qn(a.canvas):ol(a.canvas,a.state.elementType));var E=je(s,a.state),L=E.x,F=E.y;if(a.state.editingLinearElement&&!a.state.editingLinearElement.isDragging){var j=Wr.handlePointerMove(s,L,F,a.state.editingLinearElement,a.state.gridSize);j!==a.state.editingLinearElement&&a.setState({editingLinearElement:j}),j.lastUncommittedPoint!=null?a.maybeSuggestBindingAtCursor(E):a.setState({suggestedBindings:[]})}if(ey(a.state.elementType)){var z=a.state.draggingElement;wa(z)?a.maybeSuggestBindingsForLinearElementAtCoords(z,[E],a.state.startBoundElement):a.maybeSuggestBindingAtCursor(E)}if(a.state.multiElement){var K=a.state.multiElement,$=K.x,Z=K.y,oe=K.points,se=K.lastCommittedPoint,ve=oe[oe.length-1];return ol(a.canvas,a.state.elementType),void(ve===se?Ha(L-$,F-Z,ve[0],ve[1])>=D.qx?vt(K,{points:[].concat(Re(oe),[[L-$,F-Z]])}):On(a.canvas,D.oc.POINTER):oe.length>2&&se&&Ha(L-$,F-Z,se[0],se[1])<D.qx?(On(a.canvas,D.oc.POINTER),vt(K,{points:oe.slice(0,-1)})):(rl(oe,a.state.zoom.value)&&On(a.canvas,D.oc.POINTER),vt(K,{points:[].concat(Re(oe.slice(0,-1)),[[L-$,F-Z]])})))}if(!(Boolean(s.buttons)||a.state.elementType!=="selection"&&a.state.elementType!=="text")){var _e=a.scene.getElements(),Te=Fe(_e,a.state);if(Te.length!==1||T||a.state.editingLinearElement){if(Te.length>1&&!T){var Me=ph(Zn(Te),L,F,a.state.zoom,s.pointerType);if(Me)return void On(a.canvas,pl({transformHandleType:Me}))}}else{var Oe=hh(_e,a.state,L,F,a.state.zoom,s.pointerType);if(Oe&&Oe.transformHandleType)return void On(a.canvas,pl(Oe))}var $e=a.getElementAtPosition(E.x,E.y);if(a.hitLinkElement=a.getElementLinkAtPosition(E,$e),a.hitLinkElement&&!a.state.selectedElementIds[a.hitLinkElement.id])On(a.canvas,D.oc.POINTER),function(We,Ce){_v&&clearTimeout(_v),_v=window.setTimeout(function(){return WF(We,Ce)},D.sA)}(a.hitLinkElement,a.state);else if(_v&&clearTimeout(_v),j3&&(j3=!1,Pf().classList.remove("excalidraw-tooltip--visible")),$e&&$e.link&&a.state.selectedElementIds[$e.id]&&!a.contextMenuOpen&&!a.state.showHyperlinkPopup&&a.setState({showHyperlinkPopup:"info"}),a.state.elementType==="text")On(a.canvas,Nr($e)?D.oc.TEXT:D.oc.CROSSHAIR);else if(a.state.viewModeEnabled)On(a.canvas,D.oc.GRAB);else if(T)On(a.canvas,D.oc.AUTO);else if(a.state.editingLinearElement){var He=Wr.getElement(a.state.editingLinearElement.elementId);He&&bf(He,a.state,[E.x,E.y])?On(a.canvas,D.oc.MOVE):On(a.canvas,D.oc.AUTO)}else s[Be.CTRL_OR_CMD]||!$e&&!a.isHittingCommonBoundingBoxOfSelectedElements(E,Te)?On(a.canvas,D.oc.AUTO):On(a.canvas,D.oc.MOVE)}}},this.handleTouchMove=function(s){Mv=!0},this.handleCanvasPointerDown=function(s){var l=document.getSelection();if(l!=null&&l.anchorNode&&l.removeAllRanges(),a.maybeOpenContextMenuAfterPointerDownOnTouchDevices(s),a.maybeCleanupAfterMissingPointerUp(s),a.state.penDetected||s.pointerType!=="pen"||a.setState(function(L){return{penMode:!0,penDetected:!0}}),!Iv&&(a.lastPointerDown=s,a.setState({lastPointerDownWith:s.pointerType,cursorButton:"down"}),a.savePointer(s.clientX,s.clientY,"down"),!a.handleCanvasPanUsingWheelOrSpaceDrag(s)&&!(s.button!==D.Oh.MAIN&&s.button!==D.Oh.TOUCH||(a.updateGestureOnPointerDown(s),qr.pointers.size>1)))){var c=a.initialPointerDownState(s);if(!a.handleDraggingScrollBar(s,c)&&(a.contextMenuOpen=!1,a.clearSelectionIfNotUsingSelection(),a.updateBindingEnabledOnPointerMove(s),!a.handleSelectionOnPointerDown(s,c)&&(!a.state.penMode||s.pointerType!=="touch"||a.state.elementType==="selection"||a.state.elementType==="text"||a.state.elementType==="image")))if(a.state.elementType!=="text"){if(a.state.elementType==="arrow"||a.state.elementType==="line")a.handleLinearElementOnPointerDown(s,a.state.elementType,c);else if(a.state.elementType==="image"){if(On(a.canvas,D.oc.CROSSHAIR),!a.state.pendingImageElement)return;a.setState({draggingElement:a.state.pendingImageElement,editingElement:a.state.pendingImageElement,pendingImageElement:null,multiElement:null});var h=je(s,a.state),m=h.x,v=h.y;vt(a.state.pendingImageElement,{x:m,y:v})}else a.state.elementType==="freedraw"?a.handleFreeDrawElementOnPointerDown(s,a.state.elementType,c):a.createGenericElementOnPointerDown(a.state.elementType,c);var x=a.onPointerMoveFromPointerDownHandler(c),w=a.onPointerUpFromPointerDownHandler(c),T=a.onKeyDownFromPointerDownHandler(c),E=a.onKeyUpFromPointerDownHandler(c);Uc=w,a.state.viewModeEnabled||(window.addEventListener(D.Ks.POINTER_MOVE,x),window.addEventListener(D.Ks.POINTER_UP,w),window.addEventListener(D.Ks.KEYDOWN,T),window.addEventListener(D.Ks.KEYUP,E),c.eventListeners.onMove=x,c.eventListeners.onUp=w,c.eventListeners.onKeyUp=E,c.eventListeners.onKeyDown=T)}else a.handleTextOnPointerDown(s,c)}},this.handleCanvasPointerUp=function(s){a.lastPointerUp=s;var l=["pen","touch"].includes(s.pointerType);if(l){var c=je({clientX:s.clientX,clientY:s.clientY},a.state),h=a.getElementAtPosition(c.x,c.y);a.hitLinkElement=a.getElementLinkAtPosition(c,h)}a.hitLinkElement&&!a.state.selectedElementIds[a.hitLinkElement.id]&&a.redirectToLink(s,l),a.removePointer(s)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(s){s.pointerType==="touch"&&(Mv=!1,Hc?Mv=!0:Hc=window.setTimeout(function(){Hc=0,Mv||a.handleCanvasContextMenu(s)},D.nM))},this.resetContextMenuTimer=function(){clearTimeout(Hc),Hc=0,Mv=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(s){if(qr.pointers.size!==0||!(s.button===D.Oh.WHEEL||s.button===D.Oh.MAIN&&Kf||a.state.viewModeEnabled)||Nr(a.state.editingElement))return!1;Iv=!0,s.preventDefault();var l=!1,c=/Linux/.test(window.navigator.platform);On(a.canvas,D.oc.GRABBING);var h=s.clientX,m=s.clientY,v=Lm(function(w){var T=h-w.clientX,E=m-w.clientY;if(h=w.clientX,m=w.clientY,c&&!l&&(Math.abs(T)>1||Math.abs(E)>1)){l=!0;var L=function F(j){document.body.removeEventListener(D.Ks.PASTE,F),j.stopPropagation()};document.body.addEventListener(D.Ks.PASTE,L),window.addEventListener(D.Ks.POINTER_UP,function F(){setTimeout(function(){document.body.removeEventListener(D.Ks.PASTE,L),window.removeEventListener(D.Ks.POINTER_UP,F)},100)})}a.setState({scrollX:a.state.scrollX-T/a.state.zoom.value,scrollY:a.state.scrollY-E/a.state.zoom.value})}),x=vn(Uc=function(){Uc=null,Iv=!1,Kf||(a.state.viewModeEnabled?On(a.canvas,D.oc.GRAB):ol(a.canvas,a.state.elementType)),a.setState({cursorButton:"up"}),a.savePointer(s.clientX,s.clientY,"up"),window.removeEventListener(D.Ks.POINTER_MOVE,v),window.removeEventListener(D.Ks.POINTER_UP,x),window.removeEventListener(D.Ks.BLUR,x),v.flush()});return window.addEventListener(D.Ks.BLUR,x),window.addEventListener(D.Ks.POINTER_MOVE,v,{passive:!0}),window.addEventListener(D.Ks.POINTER_UP,x),!0},this.clearSelectionIfNotUsingSelection=function(){a.state.elementType!=="selection"&&a.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(s,l){if(a.state.elementType==="selection"){var c=a.scene.getElements(),h=Fe(c,a.state);if(h.length!==1||a.state.editingLinearElement)h.length>1&&(l.resize.handleType=ph(Zn(h),l.origin.x,l.origin.y,a.state.zoom,s.pointerType));else{var m=hh(c,a.state,l.origin.x,l.origin.y,a.state.zoom,s.pointerType);m!=null&&(a.setState({resizingElement:m.element}),l.resize.handleType=m.transformHandleType)}if(l.resize.handleType)On(a.canvas,pl({transformHandleType:l.resize.handleType})),l.resize.isResizing=!0,l.resize.offset=fn(function($,Z,oe,se){var ve=W(Z.length===1?xr(Z[0]):Zn(Z),4),_e=ve[0],Te=ve[1],Me=ve[2],Oe=ve[3],$e=(_e+Me)/2,He=(Te+Oe)/2,We=Z.length===1?Z[0].angle:0,Ce=W(Cr(oe,se,$e,He,-We),2);switch(oe=Ce[0],se=Ce[1],$){case"n":return Cr(oe-(_e+Me)/2,se-Te,0,0,We);case"s":return Cr(oe-(_e+Me)/2,se-Oe,0,0,We);case"w":return Cr(oe-_e,se-(Te+Oe)/2,0,0,We);case"e":return Cr(oe-Me,se-(Te+Oe)/2,0,0,We);case"nw":return Cr(oe-_e,se-Te,0,0,We);case"ne":return Cr(oe-Me,se-Te,0,0,We);case"sw":return Cr(oe-_e,se-Oe,0,0,We);case"se":return Cr(oe-Me,se-Oe,0,0,We);default:return[0,0]}}(l.resize.handleType,h,l.origin.x,l.origin.y)),h.length===1&&un(h[0])&&h[0].points.length===2&&(l.resize.arrowDirection=(E=l.resize.handleType,L=h[0],F=W(L.points,2),j=W(F[1],2),z=j[0],K=j[1],E==="nw"&&(z<0||K<0)||E==="ne"&&z>=0||E==="sw"&&z<=0||E==="se"&&(z>0||K>0)?"end":"origin"));else{var v;if(a.state.editingLinearElement){var x=Wr.handlePointerDown(s,a.state,function($){return a.setState($)},a.history,l.origin);if(x.hitElement&&(l.hit.element=x.hitElement),x.didAddPoint)return!0}if(l.hit.element=(v=l.hit.element)!==null&&v!==void 0?v:a.getElementAtPosition(l.origin.x,l.origin.y),l.hit.element){if(j2(l.hit.element,a.state,[l.origin.x,l.origin.y],a.isMobile))return!1;l.hit.hasHitElementInside=bf(l.hit.element,a.state,[l.origin.x,l.origin.y])}l.hit.allHitElements=a.getElementsAtPosition(l.origin.x,l.origin.y);var w=l.hit.element,T=l.hit.allHitElements.some(function($){return a.isASelectedElement($)});if(w!==null&&T||s.shiftKey||l.hit.hasHitCommonBoundingBoxOfSelectedElements||a.clearSelection(w),a.state.editingLinearElement)a.setState({selectedElementIds:we({},a.state.editingLinearElement.elementId,!0)});else if(w!=null){if(s[Be.CTRL_OR_CMD])return a.state.selectedElementIds[w.id]||(l.hit.wasAddedToSelection=!0),a.setState(function($){return ft(ft({},function(Z,oe){return Nn(Nn({},Z),{},{editingGroupId:oe.groupIds.length?oe.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:we({},oe.id,!0)})}($,w)),{},{previousSelectedElementIds:a.state.selectedElementIds})}),!1;a.state.selectedElementIds[w.id]||(a.state.editingGroupId&&!gu(w,a.state.editingGroupId)&&a.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),T||l.hit.hasHitCommonBoundingBoxOfSelectedElements||(a.setState(function($){return Go(ft(ft({},$),{},{selectedElementIds:ft(ft({},$.selectedElementIds),{},we({},w.id,!0)),showHyperlinkPopup:!!w.link&&"info"}),a.scene.getElements())}),l.hit.wasAddedToSelection=!0))}a.setState({previousSelectedElementIds:a.state.selectedElementIds})}}var E,L,F,j,z,K;return!1},this.handleTextOnPointerDown=function(s,l){if(!Nr(a.state.editingElement)){var c=l.origin.x,h=l.origin.y,m=a.getElementAtPosition(c,h,{includeBoundTextElement:!0});Kd(m)&&(c=m.x+m.width/2,h=m.y+m.height/2),a.startTextEditing({sceneX:c,sceneY:h,shouldBind:!1,insertAtParentCenter:!s.altKey}),Qn(a.canvas),a.state.elementLocked||a.setState({elementType:"selection"})}},this.handleFreeDrawElementOnPointerDown=function(s,l,c){var h,m=W(Ua(c.origin.x,c.origin.y,null),2),v=m[0],x=m[1],w=(h={type:l,x:v,y:x,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,strokeSharpness:a.state.currentItemLinearStrokeSharpness,simulatePressure:s.pressure===.5},Yo(Yo({},yu(h.type,h)),{},{points:h.points||[],pressures:[],simulatePressure:h.simulatePressure,lastCommittedPoint:null}));a.setState(function(L){return{selectedElementIds:ft(ft({},L.selectedElementIds),{},we({},w.id,!1))}});var T=w.simulatePressure?w.pressures:[].concat(Re(w.pressures),[s.pressure]);vt(w,{points:[[0,0]],pressures:T});var E=js(c.origin,a.scene);a.scene.replaceAllElements([].concat(Re(a.scene.getElementsIncludingDeleted()),[w])),a.setState({draggingElement:w,editingElement:w,startBoundElement:E,suggestedBindings:[]})},this.createImageElement=function(s){var l,c=s.sceneX,h=s.sceneY,m=W(Ua(c,h,a.state.gridSize),2),v=m[0],x=m[1];return l={type:"image",x:v,y:x,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,strokeSharpness:a.state.currentItemLinearStrokeSharpness},Yo(Yo({},yu("image",l)),{},{strokeColor:"transparent",status:"pending",fileId:null,scale:[1,1]})},this.handleLinearElementOnPointerDown=function(s,l,c){if(a.state.multiElement){var h=a.state.multiElement;if(h.type==="line"&&rl(h.points,a.state.zoom.value))return vt(h,{lastCommittedPoint:h.points[h.points.length-1]}),void a.actionManager.executeAction(_l);var m=h.x,v=h.y,x=h.lastCommittedPoint;if(h.points.length>1&&x&&Ha(c.origin.x-m,c.origin.y-v,x[0],x[1])<D.qx)return void a.actionManager.executeAction(_l);a.setState(function(se){return{selectedElementIds:ft(ft({},se.selectedElementIds),{},we({},h.id,!0))}}),vt(h,{lastCommittedPoint:h.points[h.points.length-1]}),On(a.canvas,D.oc.POINTER)}else{var w=W(Ua(c.origin.x,c.origin.y,a.state.gridSize),2),T=w[0],E=w[1],L=a.state,F=L.currentItemStartArrowhead,j=L.currentItemEndArrowhead,z=W(l==="arrow"?[F,j]:[null,null],2),K=z[0],$=z[1],Z=wu({type:l,x:T,y:E,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,strokeSharpness:a.state.currentItemLinearStrokeSharpness,startArrowhead:K,endArrowhead:$});a.setState(function(se){return{selectedElementIds:ft(ft({},se.selectedElementIds),{},we({},Z.id,!1))}}),vt(Z,{points:[].concat(Re(Z.points),[[0,0]])});var oe=js(c.origin,a.scene);a.scene.replaceAllElements([].concat(Re(a.scene.getElementsIncludingDeleted()),[Z])),a.setState({draggingElement:Z,editingElement:Z,startBoundElement:oe,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(s,l){var c=W(Ua(l.origin.x,l.origin.y,a.state.gridSize),2),h=c[0],m=c[1],v=ah({type:s,x:h,y:m,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,strokeSharpness:a.state.currentItemStrokeSharpness});v.type==="selection"?a.setState({selectionElement:v,draggingElement:v}):(a.scene.replaceAllElements([].concat(Re(a.scene.getElementsIncludingDeleted()),[v])),a.setState({multiElement:null,draggingElement:v,editingElement:v}))},this.initializeImage=function(){var s=(0,V.Z)(ie().mark(function l(c){var h,m,v,x,w,T,E,L,F,j,z,K,$,Z,oe;return ie().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(x=c.imageFile,w=c.imageElement,T=c.showCursorImagePreview,E=T!==void 0&&T,H2(x)){se.next=3;break}throw new Error(q("errors.unsupportedFileType"));case 3:if(L=x.type,On(a.canvas,"wait"),L!==D.LO.svg){se.next=23;break}return se.prev=6,se.t0=J_,se.t1=bz,se.next=11,x.text();case 11:return se.t2=se.sent,se.next=14,(0,se.t1)(se.t2);case 14:se.t3=se.sent,se.t4=x.name,x=(0,se.t0)(se.t3,se.t4),se.next=23;break;case 19:throw se.prev=19,se.t5=se.catch(6),console.warn(se.t5),new Error(q("errors.svgImageInsertError"));case 23:return se.next=25,((h=(m=a.props).generateIdForFile)===null||h===void 0?void 0:h.call(m,x))||cz(x);case 25:if(F=se.sent){se.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error(q("errors.imageInsertError"));case 29:if((j=a.files[F])!=null&&j.dataURL){se.next=42;break}return se.prev=31,se.next=34,q3(x,{maxWidthOrHeight:D.h6});case 34:x=se.sent,se.next=40;break;case 37:se.prev=37,se.t6=se.catch(31),console.error("error trying to resing image file on insertion",se.t6);case 40:if(!(x.size>D.$n)){se.next=42;break}throw new Error(q("errors.fileTooBig",{maxSize:"".concat(Math.trunc(D.$n/1024/1024),"MB")}));case 42:if(E&&(K=(z=a.files[F])===null||z===void 0?void 0:z.dataURL,$=K&&fz(K),a.setImagePreviewCursor($||x)),se.t7=(v=a.files[F])===null||v===void 0?void 0:v.dataURL,se.t7){se.next=48;break}return se.next=47,Q_(x);case 47:se.t7=se.sent;case 48:return Z=se.t7,oe=vt(w,{fileId:F},!1),se.abrupt("return",new Promise(function(){var ve=(0,V.Z)(ie().mark(function _e(Te,Me){var Oe,$e,He;return ie().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:if(We.prev=0,a.files=ft(ft({},a.files),{},we({},F,{mimeType:L,id:F,dataURL:Z,created:Date.now()})),He=a.imageCache.get(F)){We.next=7;break}return a.addNewImagesToImageCache(),We.next=7,a.updateImageCache([oe]);case 7:if(!((He==null?void 0:He.image)instanceof Promise)){We.next=10;break}return We.next=10,He.image;case 10:((Oe=a.state.pendingImageElement)===null||Oe===void 0?void 0:Oe.id)!==oe.id&&(($e=a.state.draggingElement)===null||$e===void 0?void 0:$e.id)!==oe.id&&a.initializeImageDimensions(oe,!0),Te(oe),We.next=18;break;case 14:We.prev=14,We.t0=We.catch(0),console.error(We.t0),Me(new Error(q("errors.imageInsertError")));case 18:return We.prev=18,E||Qn(a.canvas),We.finish(18);case 21:case"end":return We.stop()}},_e,null,[[0,14,18,21]])}));return function(_e,Te){return ve.apply(this,arguments)}}()));case 51:case"end":return se.stop()}},l,null,[[6,19],[31,37]])}));return function(l){return s.apply(this,arguments)}}(),this.insertImageElement=function(){var s=(0,V.Z)(ie().mark(function l(c,h,m){return ie().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return a.scene.replaceAllElements([].concat(Re(a.scene.getElementsIncludingDeleted()),[c])),v.prev=1,v.next=4,a.initializeImage({imageFile:h,imageElement:c,showCursorImagePreview:m});case 4:v.next=11;break;case 6:v.prev=6,v.t0=v.catch(1),vt(c,{isDeleted:!0}),a.actionManager.executeAction(_l),a.setState({errorMessage:v.t0.message||q("errors.imageInsertError")});case 11:case"end":return v.stop()}},l,null,[[1,6]])}));return function(l,c,h){return s.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var s=(0,V.Z)(ie().mark(function l(c){var h,m,v,x,w,T,E;return ie().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return h=96,L.next=3,q3(c,{maxWidthOrHeight:h});case 3:return m=L.sent,L.next=6,Q_(m);case 6:if(v=L.sent,c.type!==D.LO.svg){L.next=20;break}return L.next=10,iS(v);case 10:x=L.sent,w=Math.min(x.height,h),(T=w*(x.width/x.height))>h&&(w=(T=h)*(x.height/x.width)),(E=document.createElement("canvas")).height=w,E.width=T,E.getContext("2d").drawImage(x,0,0,T,w),v=E.toDataURL(D.LO.svg);case 20:a.state.pendingImageElement&&On(a.canvas,"url(".concat(v,") 4 4, auto"));case 21:case"end":return L.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),this.onImageAction=(0,V.Z)(ie().mark(function s(){var l,c,h,m,v,x,w,T,E,L=arguments;return ie().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return l=L.length>0&&L[0]!==void 0?L[0]:{insertOnCanvasDirectly:!1},c=l.insertOnCanvasDirectly,F.prev=1,h=a.state.width/2+a.state.offsetLeft,m=a.state.height/2+a.state.offsetTop,v=je({clientX:h,clientY:m},a.state),x=v.x,w=v.y,F.next=7,U3({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:T=F.sent,E=a.createImageElement({sceneX:x,sceneY:w}),c?(a.insertImageElement(E,T),a.initializeImageDimensions(E),a.setState({selectedElementIds:we({},E.id,!0)},function(){a.actionManager.executeAction(_l)})):a.setState({pendingImageElement:E},function(){a.insertImageElement(E,T,!0)}),F.next=16;break;case 12:F.prev=12,F.t0=F.catch(1),F.t0.name!=="AbortError"?console.error(F.t0):console.warn(F.t0),a.setState({pendingImageElement:null,editingElement:null,elementType:"selection"},function(){a.actionManager.executeAction(_l)});case 16:case"end":return F.stop()}},s,null,[[1,12]])})),this.initializeImageDimensions=function(s){var l,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],h=po(s)&&((l=a.imageCache.get(s.fileId))===null||l===void 0?void 0:l.image);if(!h||h instanceof Promise){if(s.width<D.f/a.state.zoom.value&&s.height<D.f/a.state.zoom.value){var m=100/a.state.zoom.value;vt(s,{x:s.x-m/2,y:s.y-m/2,width:m,height:m})}}else if(c||s.width<D.f/a.state.zoom.value&&s.height<D.f/a.state.zoom.value){var v=Math.max(a.state.height-120,160),x=Math.min(v,Math.floor(.5*a.state.height)/a.state.zoom.value),w=Math.min(h.naturalHeight,x),T=w*(h.naturalWidth/h.naturalHeight),E=s.x+s.width/2-T/2,L=s.y+s.height/2-w/2;vt(s,{x:E,y:L,width:T,height:w})}},this.updateImageCache=function(){var s=(0,V.Z)(ie().mark(function l(c){var h,m,v,x,w,T,E,L=arguments;return ie().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return h=L.length>1&&L[1]!==void 0?L[1]:a.files,F.next=3,aS({imageCache:a.imageCache,fileIds:c.map(function(j){return j.fileId}),files:h});case 3:if(m=F.sent,v=m.updatedFiles,x=m.erroredFiles,v.size||x.size){w=KC(c);try{for(w.s();!(T=w.n()).done;)E=T.value,v.has(E.fileId)&&mo(E)}catch(j){w.e(j)}finally{w.f()}}return x.size&&a.scene.replaceAllElements(a.scene.getElementsIncludingDeleted().map(function(j){return po(j)&&x.has(j.fileId)?an(j,{status:"error"}):j})),F.abrupt("return",{updatedFiles:v,erroredFiles:x});case 9:case"end":return F.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,V.Z)(ie().mark(function s(){var l,c,h,m,v=arguments;return ie().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(l=v.length>0&&v[0]!==void 0?v[0]:oS(a.scene.getElements()),c=v.length>1&&v[1]!==void 0?v[1]:a.files,!(h=l.filter(function(w){return!w.isDeleted&&!a.imageCache.has(w.fileId)})).length){x.next=9;break}return x.next=6,a.updateImageCache(h,c);case 6:m=x.sent,m.updatedFiles.size&&a.scene.informMutation();case 9:case"end":return x.stop()}},s)})),this.scheduleImageRefresh=NB()(function(){a.addNewImagesToImageCache()},D.LL),this.updateBindingEnabledOnPointerMove=function(s){var l=function(c){return!c[Be.CTRL_OR_CMD]}(s);a.state.isBindingEnabled!==l&&a.setState({isBindingEnabled:l})},this.maybeSuggestBindingAtCursor=function(s){var l=js(s,a.scene);a.setState({suggestedBindings:l!=null?[l]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(s,l,c){if(l.length){var h=l.reduce(function(m,v){var x=js(v,a.scene);return x==null||Ac(s,c==null?void 0:c.id,x)||m.push(x),m},[]);a.setState({suggestedBindings:h})}},this.handleCanvasRef=function(s){var l,c,h;s!==null?(a.canvas=s,a.rc=lu.canvas(a.canvas),a.canvas.addEventListener(D.Ks.WHEEL,a.handleWheel,{passive:!1}),a.canvas.addEventListener(D.Ks.TOUCH_START,a.onTapStart),a.canvas.addEventListener(D.Ks.TOUCH_END,a.onTapEnd)):((l=a.canvas)===null||l===void 0||l.removeEventListener(D.Ks.WHEEL,a.handleWheel),(c=a.canvas)===null||c===void 0||c.removeEventListener(D.Ks.TOUCH_START,a.onTapStart),(h=a.canvas)===null||h===void 0||h.removeEventListener(D.Ks.TOUCH_END,a.onTapEnd))},this.handleAppOnDrop=function(){var s=(0,V.Z)(ie().mark(function l(c){var h,m,v,x,w,T,E,L,F,j,z,K;return ie().wrap(function($){for(;;)switch($.prev=$.next){case 0:if($.prev=0,v=c.dataTransfer.files[0],!H2(v)){$.next=33;break}if((v==null?void 0:v.type)!==D.LO.png&&(v==null?void 0:v.type)!==D.LO.svg){$.next=27;break}if($.prev=4,!Fc){$.next=16;break}return $.prev=6,x=c.dataTransfer.items[0],$.next=10,x.getAsFileSystemHandle();case 10:v.handle=$.sent,$.next=16;break;case 13:$.prev=13,$.t0=$.catch(6),console.warn($.t0.name,$.t0.message);case 16:return $.next=18,Ev(v,a.state,a.scene.getElementsIncludingDeleted());case 18:return w=$.sent,a.syncActionResult(ft(ft({},w),{},{appState:ft(ft({},w.appState||a.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),$.abrupt("return");case 23:if($.prev=23,$.t1=$.catch(4),$.t1.name==="EncodingError"){$.next=27;break}throw $.t1;case 27:return T=je(c,a.state),E=T.x,L=T.y,F=a.createImageElement({sceneX:E,sceneY:L}),a.insertImageElement(F,v),a.initializeImageDimensions(F),a.setState({selectedElementIds:we({},F.id,!0)}),$.abrupt("return");case 33:$.next=38;break;case 35:return $.prev=35,$.t2=$.catch(0),$.abrupt("return",a.setState({isLoading:!1,errorMessage:$.t2.message}));case 38:if((j=c.dataTransfer.getData(D.LO.excalidrawlib))===""){$.next=42;break}return a.addElementsFromPasteOrLibrary({elements:JSON.parse(j),position:c,files:null}),$.abrupt("return");case 42:if(!(((z=(h=c.dataTransfer)===null||h===void 0?void 0:h.files[0])==null?void 0:z.type)===D.LO.excalidrawlib||z!=null&&(m=z.name)!==null&&m!==void 0&&m.endsWith(".excalidrawlib"))){$.next=47;break}a.library.importLibrary(z).then(function(){a.setState({isLibraryOpen:!1}),a.setState({isLibraryOpen:!0})}).catch(function(Z){return a.setState({isLoading:!1,errorMessage:Z.message})}),$.next=61;break;case 47:if(a.setState({isLoading:!0}),!Fc){$.next=59;break}return $.prev=49,K=c.dataTransfer.items[0],$.next=53,K.getAsFileSystemHandle();case 53:z.handle=$.sent,$.next=59;break;case 56:$.prev=56,$.t3=$.catch(49),console.warn($.t3.name,$.t3.message);case 59:return $.next=61,a.loadFileToCanvas(z);case 61:case"end":return $.stop()}},l,null,[[0,35],[4,23],[6,13],[49,56]])}));return function(l){return s.apply(this,arguments)}}(),this.loadFileToCanvas=function(s){Ev(s,a.state,a.scene.getElementsIncludingDeleted()).then(function(l){a.syncActionResult(ft(ft({},l),{},{appState:ft(ft({},l.appState||a.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0}))}).catch(function(l){a.setState({isLoading:!1,errorMessage:l.message})})},this.handleCanvasContextMenu=function(s){if(s.preventDefault(),s.nativeEvent.pointerType!=="touch"&&(s.nativeEvent.pointerType!=="pen"||s.button===D.Oh.SECONDARY)||a.state.elementType==="selection"){var l=je(s,a.state),c=l.x,h=l.y,m=a.getElementAtPosition(c,h,{preferSelected:!0}),v=m?"element":"canvas",x=a.excalidrawContainerRef.current.getBoundingClientRect(),w=x.top,T=x.left,E=s.clientX-T,L=s.clientY-w;m&&!a.state.selectedElementIds[m.id]?a.setState({selectedElementIds:we({},m.id,!0)},function(){a._openContextMenu({top:L,left:E},v)}):a._openContextMenu({top:L,left:E},v)}},this.maybeDragNewGenericElement=function(s,l){var c=a.state.draggingElement,h=s.lastCoords;if(c)if(c.type==="selection")gh(c,a.state.elementType,s.origin.x,s.origin.y,h.x,h.y,wi(s.origin.x,h.x),wi(s.origin.y,h.y),V0(l),Pm(l));else{var m,v=W(Ua(h.x,h.y,a.state.gridSize),2),x=v[0],w=v[1],T=po(c)&&((m=a.imageCache.get(c.fileId))===null||m===void 0?void 0:m.image),E=!T||T instanceof Promise?null:T.width/T.height;gh(c,a.state.elementType,s.originInGrid.x,s.originInGrid.y,x,w,wi(s.originInGrid.x,x),wi(s.originInGrid.y,w),cc(c)?!V0(l):V0(l),Pm(l),E),a.maybeSuggestBindingForAll([c])}},this.maybeHandleResize=function(s,l){var c=Fe(a.scene.getElements(),a.state),h=s.resize.handleType;a.setState({isResizing:h&&h!=="rotation",isRotating:h==="rotation"});var m=s.lastCoords,v=W(Ua(m.x-s.resize.offset.x,m.y-s.resize.offset.y,a.state.gridSize),2),x=v[0],w=v[1];return!!function(T,E,L,F,j,z,K,$,Z,oe,se){if(L.length===1){var ve=W(L,1)[0];return E==="rotation"?(Wy(ve,$,Z,j),vl(ve)):!un(ve)||ve.points.length!==2||E!=="nw"&&E!=="ne"&&E!=="sw"&&E!=="se"?!Nr(ve)||E!=="nw"&&E!=="ne"&&E!=="sw"&&E!=="se"?E&&_a(T.originalElements.get(ve.id),K,ve,E,z,$,Z):(l3(ve,E,z,$,Z),vl(ve)):$y(ve,F,j,$,Z),!0}if(L.length>1){if(E==="rotation")return Gy(T,L,$,Z,j,oe,se),!0;if(E==="nw"||E==="ne"||E==="sw"||E==="se")return u3(L,E,$,Z),ki(L,E),!0}return!1}(s,h,c,s.resize.arrowDirection,ay(l),Pm(l),c.length===1&&cc(c[0])?!V0(l):V0(l),x,w,s.resize.center.x,s.resize.center.y)&&(a.maybeSuggestBindingForAll(c),!0)},this._openContextMenu=function(s,l){var c=s.left,h=s.top;a.state.showHyperlinkPopup&&a.setState({showHyperlinkPopup:!1}),a.contextMenuOpen=!0;var m=MS.contextItemPredicate(a.actionManager.getElementsIncludingDeleted(),a.actionManager.getAppState()),v=DS.contextItemPredicate(a.actionManager.getElementsIncludingDeleted(),a.actionManager.getAppState()),x=BS.contextItemPredicate(a.actionManager.getElementsIncludingDeleted(),a.actionManager.getAppState()),w=HS.contextItemPredicate(a.actionManager.getElementsIncludingDeleted(),a.actionManager.getAppState()),T="separator",E=a.scene.getElements(),L=[];if(q2&&E.length>0&&L.push($S),$2&&E.length>0&&L.push(WS),l==="canvas"){var F=[].concat(L,[a.props.gridModeEnabled===void 0&&GS,a.props.zenModeEnabled===void 0&&e6,a.props.viewModeEnabled===void 0&&UC,t6]);a.state.viewModeEnabled?Z2({options:F,top:h,left:c,actionManager:a.actionManager,appState:a.state,container:a.excalidrawContainerRef.current,elements:E}):Z2({options:[a.isMobile&&navigator.clipboard&&{name:"paste",perform:function(z,K){return a.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},a.isMobile&&navigator.clipboard&&T,q2&&E.length>0&&$S,$2&&E.length>0&&WS,(q2&&E.length>0||$2&&E.length>0)&&T,Rh,T,a.props.gridModeEnabled===void 0&&GS,a.props.zenModeEnabled===void 0&&e6,a.props.viewModeEnabled===void 0&&UC,t6],top:h,left:c,actionManager:a.actionManager,appState:a.state,container:a.excalidrawContainerRef.current,elements:E})}else if(l==="element"){var j=Fe(E,a.state).some(function(z){return!Kd(z)});a.state.viewModeEnabled?Z2({options:[navigator.clipboard&&J3].concat(L),top:h,left:c,actionManager:a.actionManager,appState:a.state,container:a.excalidrawContainerRef.current,elements:E}):Z2({options:[a.isMobile&&Kz,a.isMobile&&navigator.clipboard&&J3,a.isMobile&&navigator.clipboard&&{name:"paste",perform:function(z,K){return a.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},a.isMobile&&T].concat(L,[T,Dz,Pz,T,m&&MS,!j&&Wz,v&&DS,(m||v)&&T,jz,T,Nc,Tu,N2,R2,T,x&&BS,w&&HS,(x||w)&&T,S_.contextItemPredicate(E,a.state)&&S_,jh,kr]),top:h,left:c,actionManager:a.actionManager,appState:a.state,container:a.excalidrawContainerRef.current,elements:E})}},this.handleWheel=vn(function(s){if(s.preventDefault(),!Iv){var l=s.deltaX,c=s.deltaY,h=a.state,m=h.selectedElementIds,v=h.previousSelectedElementIds;if(s.metaKey||s.ctrlKey){var x=Math.sign(c),w=Math.abs(c);w>10&&(w=10),w*=x,Object.keys(v).length!==0&&setTimeout(function(){a.setState({selectedElementIds:v,previousSelectedElementIds:{}})},1e3);var T=a.state.zoom.value-w/100;return T+=Math.log10(Math.max(1,a.state.zoom.value))*-x,T=Math.round(T*D.V4*100)/(100*D.V4),a.setState(function(E){return ft(ft({},Pc({viewportX:Hf,viewportY:Uf,nextZoom:wl(T)},E)),{},{selectedElementIds:{},previousSelectedElementIds:Object.keys(m).length!==0?m:v,shouldCacheIgnoreZoom:!0})}),void a.resetShouldCacheIgnoreZoomDebounced()}s.shiftKey?a.setState(function(E){var L=E.zoom;return{scrollX:E.scrollX-(c||l)/L.value}}):a.setState(function(E){var L=E.zoom,F=E.scrollX,j=E.scrollY;return{scrollX:F-l/L.value,scrollY:j-c/L.value}})}}),this.savePointer=function(s,l,c){var h,m;if(s&&l){var v=je({clientX:s,clientY:l},a.state);isNaN(v.x)||isNaN(v.y),(h=(m=a.props).onPointerUpdate)===null||h===void 0||h.call(m,{pointer:v,button:c,pointersMap:qr.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=vc(function(){a.unmounted||a.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(s){var l;if((l=a.excalidrawContainerRef)!==null&&l!==void 0&&l.current){var c=a.excalidrawContainerRef.current.getBoundingClientRect(),h=c.width,m=c.height,v=c.left,x=c.top,w=a.state,T=w.width,E=w.height,L=w.offsetTop,F=w.offsetLeft;if(h===T&&m===E&&v===F&&x===L)return void(s&&s());a.setState({width:h,height:m,offsetLeft:v,offsetTop:x},function(){s&&s()})}},this.refresh=function(){a.setState(ft({},a.getCanvasOffsets()))}};D.Vi.TEST!=="production"&&D.Vi.DEVELOPMENT!=="production"||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(a){return this.app.scene.replaceAllElements(a)}}}));var FB=u6,zB=(b(4285),b(3313),["initialData","UIOptions"]),BB=["initialData","UIOptions"];function GC(a,s){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),l.push.apply(l,c)}return l}function J2(a){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?GC(Object(l),!0).forEach(function(c){P()(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):GC(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}var HB=function(a){var s,l,c,h=a.onChange,m=a.initialData,v=a.excalidrawRef,x=a.onCollabButtonClick,w=a.isCollaborating,T=w!==void 0&&w,E=a.onPointerUpdate,L=a.renderTopRightUI,F=a.renderFooter,j=a.langCode,z=j===void 0?he.code:j,K=a.viewModeEnabled,$=a.zenModeEnabled,Z=a.gridModeEnabled,oe=a.libraryReturnUrl,se=a.theme,ve=a.name,_e=a.renderCustomStats,Te=a.onPaste,Me=a.detectScroll,Oe=Me===void 0||Me,$e=a.handleKeyboardGlobally,He=$e!==void 0&&$e,We=a.onLibraryChange,Ce=a.autoFocus,rt=Ce!==void 0&&Ce,Ze=a.generateIdForFile,Ge=a.onLinkOpen,it=(s=a.UIOptions)===null||s===void 0?void 0:s.canvasActions,et={canvasActions:J2(J2({},D.cW.canvasActions),it)};return it!=null&&it.export&&(et.canvasActions.export.saveFileToDisk=(l=(c=it.export)===null||c===void 0?void 0:c.saveFileToDisk)!==null&&l!==void 0?l:D.cW.canvasActions.export.saveFileToDisk),(0,M.useEffect)(function(){var Le=function(dt){typeof dt.scale=="number"&&dt.scale!==1&&dt.preventDefault()};return document.addEventListener("touchmove",Le,{passive:!1}),function(){document.removeEventListener("touchmove",Le)}},[]),(0,A.jsx)(Ht,{langCode:z,children:(0,A.jsx)(FB,{onChange:h,initialData:m,excalidrawRef:v,onCollabButtonClick:x,isCollaborating:T,onPointerUpdate:E,renderTopRightUI:L,renderFooter:F,langCode:z,viewModeEnabled:K,zenModeEnabled:$,gridModeEnabled:Z,libraryReturnUrl:oe,theme:se,name:ve,renderCustomStats:_e,UIOptions:et,onPaste:Te,detectScroll:Oe,handleKeyboardGlobally:He,onLibraryChange:We,autoFocus:rt,generateIdForFile:Ze,onLinkOpen:Ge})})},UB=function(a,s){a.initialData;var l=a.UIOptions,c=l===void 0?{}:l,h=_()(a,zB),m=(s.initialData,s.UIOptions),v=m===void 0?{}:m,x=_()(s,BB),w=Object.keys(c),T=Object.keys(v);if(w.length!==T.length)return!1;var E=w.every(function(j){return j==="canvasActions"&&Object.keys(c.canvasActions).every(function(z){var K,$,Z,oe;return z==="export"&&c!=null&&(K=c.canvasActions)!==null&&K!==void 0&&K.export&&v!=null&&($=v.canvasActions)!==null&&$!==void 0&&$.export?c.canvasActions.export.saveFileToDisk===v.canvasActions.export.saveFileToDisk:(c==null||(Z=c.canvasActions)===null||Z===void 0?void 0:Z[z])===(v==null||(oe=v.canvasActions)===null||oe===void 0?void 0:oe[z])}),!0}),L=Object.keys(a),F=Object.keys(s);return E&&L.length===F.length&&L.every(function(j){return h[j]===x[j]})},KB=(0,M.forwardRef)(function(a,s){return(0,A.jsx)(HB,J2(J2({},a),{},{excalidrawRef:s}))}),WB=R().memo(KB,UB),$B=(b(8336),WB)},9669:function(y){y.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(y){y.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(y){y.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},3147:function(y,C,b){y.exports=b.p+"excalidraw-assets/Cascadia.woff2"},3940:function(y,C,b){y.exports=b.p+"excalidraw-assets/Virgil.woff2"},9787:function(y){y.exports=r},5156:function(y){y.exports=n},8950:function(y,C,b){function O(N,P,M,R,D,G,V){try{var J=N[G](V),te=J.value}catch(W){return void M(W)}J.done?P(te):Promise.resolve(te).then(R,D)}function _(N){return function(){var P=this,M=arguments;return new Promise(function(R,D){var G=N.apply(P,M);function V(te){O(G,R,D,V,J,"next",te)}function J(te){O(G,R,D,V,J,"throw",te)}V(void 0)})}}b.d(C,{Z:function(){return _}})},1463:function(y){y.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library\u2026","libraries":"Browse libraries","loadingScene":"Loading scene\u2026","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","link":{"edit":"Edit link","create":"Create link","label":"Link"}},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Save as image","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled."},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Prevent pinch-zoom and accept freedraw input only from pen","link":"Add/ Update link for a selected shape"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn't work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editSelectedShape":"Edit selected shape (text/arrow/line)","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started"},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"}}`)},4451:function(y){y.exports=JSON.parse('{"ar-SA":88,"bg-BG":61,"bn-BD":0,"ca-ES":95,"cs-CZ":24,"da-DK":16,"de-DE":99,"el-GR":87,"en":100,"es-ES":84,"eu-ES":96,"fa-IR":63,"fi-FI":98,"fr-FR":100,"he-IL":80,"hi-IN":55,"hu-HU":49,"id-ID":100,"it-IT":96,"ja-JP":98,"kab-KAB":95,"kk-KZ":23,"ko-KR":72,"lt-LT":24,"lv-LV":100,"my-MM":46,"nb-NO":100,"nl-NL":90,"nn-NO":83,"oc-FR":97,"pa-IN":87,"pl-PL":93,"pt-BR":98,"pt-PT":83,"ro-RO":100,"ru-RU":99,"si-LK":9,"sk-SK":100,"sv-SE":100,"ta-IN":99,"tr-TR":85,"uk-UA":82,"zh-CN":100,"zh-HK":28,"zh-TW":100}')}},g={};function S(y){var C=g[y];if(C!==void 0)return C.exports;var b=g[y]={id:y,loaded:!1,exports:{}};return d[y].call(b.exports,b,b.exports,S),b.loaded=!0,b.exports}return S.m=d,S.n=function(y){var C=y&&y.__esModule?function(){return y.default}:function(){return y};return S.d(C,{a:C}),C},o=Object.getPrototypeOf?function(y){return Object.getPrototypeOf(y)}:function(y){return y.__proto__},S.t=function(y,C){if(1&C&&(y=this(y)),8&C||typeof y=="object"&&y&&(4&C&&y.__esModule||16&C&&typeof y.then=="function"))return y;var b=Object.create(null);S.r(b);var O={};i=i||[null,o({}),o([]),o(o)];for(var _=2&C&&y;typeof _=="object"&&!~i.indexOf(_);_=o(_))Object.getOwnPropertyNames(_).forEach(function(N){O[N]=function(){return y[N]}});return O.default=function(){return y},S.d(b,O),b},S.d=function(y,C){for(var b in C)S.o(C,b)&&!S.o(y,b)&&Object.defineProperty(y,b,{enumerable:!0,get:C[b]})},S.f={},S.e=function(y){return Promise.all(Object.keys(S.f).reduce(function(C,b){return S.f[b](y,C),C},[]))},S.u=function(y){return"excalidraw-assets/"+{9:"i18n-zh-HK-json",43:"i18n-de-DE-json",58:"i18n-lt-LT-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",90:"i18n-si-LK-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",387:"i18n-cs-CZ-json",395:"i18n-ta-IN-json",401:"i18n-sk-SK-json",431:"i18n-eu-ES-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",499:"image",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",603:"i18n-bn-BD-json",617:"i18n-da-DK-json",649:"i18n-kk-KZ-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",899:"i18n-lv-LV-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[y]+"-"+{9:"30c36c8fd961f5d170f3",43:"ef380f64f6865954b0a8",58:"999644c6901ba293b94f",60:"8cb8265529a1b44b5b83",62:"b98625b888d1a38a1e35",90:"0168ba04309e69acf8f8",137:"d393424a3bf3d819c55c",149:"51f59b1e2263211ec93f",164:"b6e3fb72b894c32d880b",196:"ac240a29fc28abe04b68",213:"a5403d611da049fb9ac9",242:"f113e0d4e325f2ab5f9a",246:"a68ef171ead03e41a3fc",262:"46098f880b56c784c524",280:"fd72f5acaf54acdf92f4",304:"bf2622c18de40b872772",317:"2a7c2aedd8e0e11c0ffd",351:"49c237f0386f487f2b89",364:"c4a47fdc6828648bcc0b",381:"c33f3d7e5ced5fa875da",384:"e4675485be70db3d505b",387:"18e06cddb62be71241bc",395:"028cb3ff5436242bfe93",401:"689a542868cd8bf55c8f",431:"2b70c65af4801826fd81",465:"353b67282442ff113ca5",472:"d1b98e036e0c311a5f94",491:"a56030455c18e20fc460",499:"b76d879db8316c30fd0d",526:"ced6e4a724987ebc00c3",558:"d46c8f24fe4ef43f1ba6",565:"032cf6f52e5c1fde7146",583:"574637d179e2f430e9cd",603:"a74dc358f3c11e1f2eda",617:"ae94ab97dbff85f9a6a5",649:"0c61810ca218a4a849ab",661:"be46128b9fe090bd2727",698:"b487a1452d9e8cc95e99",710:"ca6c7d3370106a46c722",736:"41e5c0be76c29ad2aba4",752:"db4d695c50423ea348a2",852:"c4f01f39d882bac94426",869:"9c2f8157732f9cfd998c",899:"3d721192be0e9e91d53a",920:"6b400c9d969d9b00957f",933:"0abea31b70b913ab7137"}[y]+".js"},S.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),S.o=function(y,C){return Object.prototype.hasOwnProperty.call(y,C)},u={},f="Excalidraw:",S.l=function(y,C,b,O){if(u[y])u[y].push(C);else{var _,N;if(b!==void 0)for(var P=document.getElementsByTagName("script"),M=0;M<P.length;M++){var R=P[M];if(R.getAttribute("src")==y||R.getAttribute("data-webpack")==f+b){_=R;break}}_||(N=!0,(_=document.createElement("script")).charset="utf-8",_.timeout=120,S.nc&&_.setAttribute("nonce",S.nc),_.setAttribute("data-webpack",f+b),_.src=y),u[y]=[C];var D=function(V,J){_.onerror=_.onload=null,clearTimeout(G);var te=u[y];if(delete u[y],_.parentNode&&_.parentNode.removeChild(_),te&&te.forEach(function(W){return W(J)}),V)return V(J)},G=setTimeout(D.bind(null,void 0,{type:"timeout",target:_}),12e4);_.onerror=D.bind(null,_.onerror),_.onload=D.bind(null,_.onload),N&&document.head.appendChild(_)}},S.r=function(y){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},S.nmd=function(y){return y.paths=[],y.children||(y.children=[]),y},S.p="",function(){S.b=document.baseURI||self.location.href;var y={388:0};S.f.j=function(O,_){var N=S.o(y,O)?y[O]:void 0;if(N!==0)if(N)_.push(N[2]);else{var P=new Promise(function(D,G){N=y[O]=[D,G]});_.push(N[2]=P);var M=S.p+S.u(O),R=new Error;S.l(M,function(D){if(S.o(y,O)&&((N=y[O])!==0&&(y[O]=void 0),N)){var G=D&&(D.type==="load"?"missing":D.type),V=D&&D.target&&D.target.src;R.message="Loading chunk "+O+` failed.
(`+G+": "+V+")",R.name="ChunkLoadError",R.type=G,R.request=V,N[1](R)}},"chunk-"+O,O)}};var C=function(O,_){var N,P,M=_[0],R=_[1],D=_[2],G=0;if(M.some(function(V){return y[V]!==0})){for(N in R)S.o(R,N)&&(S.m[N]=R[N]);D&&D(S)}for(O&&O(_);G<M.length;G++)P=M[G],S.o(y,P)&&y[P]&&y[P][0](),y[M[G]]=0},b=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];b.forEach(C.bind(null,0)),b.push=C.bind(null,b.push.bind(b))}(),S(7314)}()})})(fF);a_.exports=fF.exports;var T5=a_.exports,Aie=function(e){var r,n=e==null||(r=e.firstElementChild)===null||r===void 0?void 0:r.firstElementChild;n&&n.tagName==="style"&&n.remove()};function Iie(t){var e=t.elements;t.className,t.height,t.width;var r=t.appState,n=r===void 0?null:r,i=t.rootClassName,o=i===void 0?null:i,u=ee.exports.useState(null),f=Se(u,2),d=f[0],g=f[1];return ee.exports.useEffect(function(){var S=function(){var y=Ok(regeneratorRuntime.mark(function C(){var b;return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,a_.exports.exportToSvg({appState:n,elements:e});case 2:b=_.sent,Aie(b),g(b);case 5:case"end":return _.stop()}},C)}));return function(){return y.apply(this,arguments)}}();S()},[e,n]),Q("div",{className:o,dangerouslySetInnerHTML:{__html:d==null?void 0:d.outerHTML}})}function Mie(t){var e=t.onSave,r=t.initialElements,n=t.isShown,i=n===void 0?!1:n,o=t.onHide,u=t.onDelete,f=ee.exports.useRef(null),d=ee.exports.useState(r),g=Se(d,2),S=g[0],y=g[1],C=function(){S.filter(function(P){return!P.isDeleted}).length>0?e(S):u(),o()},b=function(){S.filter(function(P){return!P.isDeleted}).length===0&&u(),o()};if(ee.exports.useEffect(function(){var N;f==null||(N=f.current)===null||N===void 0||N.updateScene({elements:r})},[r]),i===!1)return null;var O=function(P){y(P)},_=T5.$$typeof!=null?T5:T5.default;return Q("div",{className:"ExcalidrawModal__modal",children:ut("div",{className:"ExcalidrawModal__row",children:[Q(_,{onChange:O,initialData:{appState:{isLoading:!1},elements:r}}),ut("div",{className:"ExcalidrawModal__actions",children:[Q("button",{className:"action-button",onClick:b,children:"Discard"}),Q("button",{className:"action-button",onClick:C,children:"Save"})]})]})})}function Die(t){var e=t.nodeKey,r=t.data,n=ee.exports.useState(r==="[]"),i=Se(n,2),o=i[0],u=i[1],f=lr(),d=Se(f,1),g=d[0],S=ee.exports.useRef(null),y=cF(e),C=Se(y,3),b=C[0],O=C[1],_=C[2],N=ee.exports.useCallback(function(D){if(b&&$l(Ie())){var G=D;G.preventDefault(),g.update(function(){var V=Gt(e);O5(V)&&V.remove(),O(!1)})}return!1},[g,b,e,O]);ee.exports.useEffect(function(){return gi(g.registerCommand(px,function(D){var G=S.current,V=D.target;return G!==null&&G.contains(V)?(D.shiftKey||_(),O(!b),D.detail>1&&u(!0),!0):!1},Gn),g.registerCommand(N1,N,Gn),g.registerCommand(fm,N,Gn))},[_,g,b,N,O]);var P=ee.exports.useCallback(function(){return g.update(function(){var D=Gt(e);O5(D)&&D.remove()})},[g,e]),M=ee.exports.useCallback(function(D){return g.update(function(){var G=Gt(e);O5(G)&&G.setData(D)})},[g,e]),R=ee.exports.useMemo(function(){return JSON.parse(r)},[r]);return ut(Qr,{children:[Q(Mie,{initialElements:R,isShown:o,onDelete:P,onHide:function(){return u(!1)},onSave:function(G){M(JSON.stringify(G)),u(!1)}}),Q("button",{ref:S,className:"excalidraw-button ".concat(b?"selected":""),children:Q(Iie,{className:"image",elements:R})})]})}var Vx=function(t){Fr(r,t);var e=zr(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"[]",o=arguments.length>1?arguments[1]:void 0;return ir(this,r),n=e.call(this,o),n.__data=i,n}return ar(r,[{key:"createDOM",value:function(i){var o=document.createElement("span"),u=i.theme,f=u.image;return f!==void 0&&(o.className=f),o}},{key:"updateDOM",value:function(){return!1}},{key:"setData",value:function(i){var o=this.getWritable();o.__data=i}},{key:"decorate",value:function(i){return Q(Die,{nodeKey:this.getKey(),data:this.__data})}}],[{key:"getType",value:function(){return"excalidraw"}},{key:"clone",value:function(i){return new r(i.__data,i.__key)}}]),r}(Ju);function Pie(){return new Vx}function O5(t){return t instanceof Vx}var dF=er();function Lie(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useEffect(function(){if(!r.hasNodes([Vx]))throw new Error("ExcalidrawPlugin: ExcalidrawNode not registered on editor");return r.registerCommand(dF,function(){var n=Ie();if(Pe(n)){var i=Pie();n.insertNodes([i])}return!0},Nt)},[r]),null}function Nie(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useEffect(function(){return r.registerCommand(NN,function(n){var i=Ie();if(!Pe(i))return!1;var o=i.focus.getNode();if(o!==null){var u=Cx();i.insertParagraph(),i.focus.getNode().getTopLevelElementOrThrow().insertBefore(u)}return!0},Nt)},[r]),null}var Rie="/gitnotes/assets/yellow-flower.bf6d0400.jpg";function hF(t){var e=t.initialEditor,r=t.children,n=t.initialTheme,i=ee.exports.useContext(nw);if(i==null)throw Error("Unexpected parent context null on a nested composer");var o=ee.exports.useMemo(function(){var S=Se(i,2),y=S[0],C=S[1],b=n||C.getTheme()||void 0,O=qP(i,b);return b!==void 0&&(e._config.theme=b),e._parentEditor=y,e._nodes=y._nodes,[e,O]},[]),u=mm(),f=u.yjsDocMap,d=f.get("main")!==void 0,g=f.has(e.getKey());return Q(nw.Provider,{value:o,children:!d||g?r:null})}const jie=new Map;class Fie{constructor(e){this.room=e,this.onmessage=null,cJ(r=>r.key===e&&this.onmessage!==null&&this.onmessage({data:AJ(r.newValue||"")}))}postMessage(e){JN.setItem(this.room,OJ(_J(e)))}}const zie=typeof BroadcastChannel=="undefined"?Fie:BroadcastChannel,o_=t=>ec(jie,t,()=>{const e=new Set,r=new zie(t);return r.onmessage=n=>e.forEach(i=>i(n.data,"broadcastchannel")),{bc:r,subs:e}}),Bie=(t,e)=>o_(t).subs.add(e),Hie=(t,e)=>o_(t).subs.delete(e),np=(t,e,r=null)=>{const n=o_(t);n.bc.postMessage(e),n.subs.forEach(i=>i(e,r))},pF=0,s_=1,mF=2,y7=(t,e)=>{Vt(t,pF);const r=yee(e);di(t,r)},vF=(t,e,r)=>{Vt(t,s_),di(t,pee(e,r))},Uie=(t,e,r)=>vF(e,r,Oa(t)),gF=(t,e,r)=>{try{fee(e,Oa(t),r)}catch(n){console.error("Caught error while handling a Yjs update",n)}},Kie=(t,e)=>{Vt(t,mF),di(t,e)},Wie=gF,$ie=(t,e,r,n)=>{const i=pr(t);switch(i){case pF:Uie(t,e,r);break;case s_:gF(t,r,n);break;case mF:Wie(t,r,n);break;default:throw new Error("Unknown message type")}return i},qie=0,Vie=(t,e,r)=>{switch(pr(t)){case qie:r(e,b0(t))}},A5=3e4;class Gie extends Ox{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const r=C0();this.getLocalState()!==null&&A5/2<=r-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const n=[];this.meta.forEach((i,o)=>{o!==this.clientID&&A5<=r-i.lastUpdated&&this.states.has(o)&&n.push(o)}),n.length>0&&l_(this,n,"timeout")},l1(A5/10)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const r=this.clientID,n=this.meta.get(r),i=n===void 0?0:n.clock+1,o=this.states.get(r);e===null?this.states.delete(r):this.states.set(r,e),this.meta.set(r,{clock:i,lastUpdated:C0()});const u=[],f=[],d=[],g=[];e===null?g.push(r):o==null?e!=null&&u.push(r):(f.push(r),bg(o,e)||d.push(r)),(u.length>0||d.length>0||g.length>0)&&this.emit("change",[{added:u,updated:d,removed:g},"local"]),this.emit("update",[{added:u,updated:f,removed:g},"local"])}setLocalStateField(e,r){const n=this.getLocalState();n!==null&&this.setLocalState(i4(n4({},n),{[e]:r}))}getStates(){return this.states}}const l_=(t,e,r)=>{const n=[];for(let i=0;i<e.length;i++){const o=e[i];if(t.states.has(o)){if(t.states.delete(o),o===t.clientID){const u=t.meta.get(o);t.meta.set(o,{clock:u.clock+1,lastUpdated:C0()})}n.push(o)}}n.length>0&&(t.emit("change",[{added:[],updated:[],removed:n},r]),t.emit("update",[{added:[],updated:[],removed:n},r]))},Sg=(t,e,r=t.states)=>{const n=e.length,i=pa();Vt(i,n);for(let o=0;o<n;o++){const u=e[o],f=r.get(u)||null,d=t.meta.get(u).clock;Vt(i,u),Vt(i,d),hd(i,JSON.stringify(f))}return $n(i)},Yie=(t,e,r)=>{const n=L0(e),i=C0(),o=[],u=[],f=[],d=[],g=pr(n);for(let S=0;S<g;S++){const y=pr(n);let C=pr(n);const b=JSON.parse(b0(n)),O=t.meta.get(y),_=t.states.get(y),N=O===void 0?0:O.clock;(N<C||N===C&&b===null&&t.states.has(y))&&(b===null?y===t.clientID&&t.getLocalState()!=null?C++:t.states.delete(y):t.states.set(y,b),t.meta.set(y,{clock:C,lastUpdated:i}),O===void 0&&b!==null?o.push(y):O!==void 0&&b===null?d.push(y):b!==null&&(bg(b,_)||f.push(y),u.push(y)))}(o.length>0||f.length>0||d.length>0)&&t.emit("change",[{added:o,updated:f,removed:d},r]),(o.length>0||u.length>0||d.length>0)&&t.emit("update",[{added:o,updated:u,removed:d},r])},Xie=t=>KJ(t,(e,r)=>`${encodeURIComponent(r)}=${encodeURIComponent(e)}`).join("&"),id=0,yF=3,Pp=1,Zie=2,G1=[];G1[id]=(t,e,r,n,i)=>{Vt(t,id);const o=$ie(e,t,r.doc,r);n&&o===s_&&!r.synced&&(r.synced=!0)};G1[yF]=(t,e,r,n,i)=>{Vt(t,Pp),di(t,Sg(r.awareness,Array.from(r.awareness.getStates().keys())))};G1[Pp]=(t,e,r,n,i)=>{Yie(r.awareness,Oa(e),r)};G1[Zie]=(t,e,r,n,i)=>{Vie(e,r.doc,Qie)};const xI=3e4,Qie=(t,e)=>console.warn(`Permission denied to access ${t.url}.
${e}`),bF=(t,e,r)=>{const n=L0(e),i=pa(),o=pr(n),u=t.messageHandlers[o];return u?u(i,n,t,r,o):console.error("Unable to compute message"),i},wF=t=>{if(t.shouldConnect&&t.ws===null){const e=new t._WS(t.url);e.binaryType="arraybuffer",t.ws=e,t.wsconnecting=!0,t.wsconnected=!1,t.synced=!1,e.onmessage=r=>{t.wsLastMessageReceived=C0();const n=bF(t,new Uint8Array(r.data),!0);h9(n)>1&&e.send($n(n))},e.onerror=r=>{t.emit("connection-error",[r,t])},e.onclose=r=>{t.emit("connection-close",[r,t]),t.ws=null,t.wsconnecting=!1,t.wsconnected?(t.wsconnected=!1,t.synced=!1,l_(t.awareness,Array.from(t.awareness.getStates().keys()).filter(n=>n!==t.doc.clientID),t),t.emit("status",[{status:"disconnected"}])):t.wsUnsuccessfulReconnects++,setTimeout(wF,u9(nJ(2,t.wsUnsuccessfulReconnects)*100,t.maxBackoffTime),t)},e.onopen=()=>{t.wsLastMessageReceived=C0(),t.wsconnecting=!1,t.wsconnected=!0,t.wsUnsuccessfulReconnects=0,t.emit("status",[{status:"connected"}]);const r=pa();if(Vt(r,id),y7(r,t.doc),e.send($n(r)),t.awareness.getLocalState()!==null){const n=pa();Vt(n,Pp),di(n,Sg(t.awareness,[t.doc.clientID])),e.send($n(n))}},t.emit("status",[{status:"connecting"}])}},I5=(t,e)=>{t.wsconnected&&t.ws.send(e),t.bcconnected&&np(t.bcChannel,e,t)};class Jie extends Ox{constructor(e,r,n,{connect:i=!0,awareness:o=new Gie(n),params:u={},WebSocketPolyfill:f=WebSocket,resyncInterval:d=-1,maxBackoffTime:g=2500}={}){for(super();e[e.length-1]==="/";)e=e.slice(0,e.length-1);const S=Xie(u);this.maxBackoffTime=g,this.bcChannel=e+"/"+r,this.url=e+"/"+r+(S.length===0?"":"?"+S),this.roomname=r,this.doc=n,this._WS=f,this.awareness=o,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.wsUnsuccessfulReconnects=0,this.messageHandlers=G1.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=i,this._resyncInterval=0,d>0&&(this._resyncInterval=setInterval(()=>{if(this.ws){const y=pa();Vt(y,id),y7(y,n),this.ws.send($n(y))}},d)),this._bcSubscriber=(y,C)=>{if(C!==this){const b=bF(this,new Uint8Array(y),!1);h9(b)>1&&np(this.bcChannel,$n(b),this)}},this._updateHandler=(y,C)=>{if(C!==this){const b=pa();Vt(b,id),Kie(b,y),I5(this,$n(b))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:y,updated:C,removed:b},O)=>{const _=y.concat(C).concat(b),N=pa();Vt(N,Pp),di(N,Sg(o,_)),I5(this,$n(N))},this._beforeUnloadHandler=()=>{l_(this.awareness,[n.clientID],"window unload")},typeof window!="undefined"?window.addEventListener("beforeunload",this._beforeUnloadHandler):typeof process!="undefined"&&process.on("exit",()=>this._beforeUnloadHandler),o.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&xI<C0()-this.wsLastMessageReceived&&this.ws.close()},xI/10),i&&this.connect()}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){this._resyncInterval!==0&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),typeof window!="undefined"?window.removeEventListener("beforeunload",this._beforeUnloadHandler):typeof process!="undefined"&&process.off("exit",()=>this._beforeUnloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){this.bcconnected||(Bie(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const e=pa();Vt(e,id),y7(e,this.doc),np(this.bcChannel,$n(e),this);const r=pa();Vt(r,id),vF(r,this.doc),np(this.bcChannel,$n(r),this);const n=pa();Vt(n,yF),np(this.bcChannel,$n(n),this);const i=pa();Vt(i,Pp),di(i,Sg(this.awareness,[this.doc.clientID])),np(this.bcChannel,$n(i),this)}disconnectBc(){const e=pa();Vt(e,Pp),di(e,Sg(this.awareness,[this.doc.clientID],new Map)),I5(this,$n(e)),this.bcconnected&&(Hie(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.wsconnected&&this.ws===null&&(wF(this),this.connectBc())}}var eae=new URL(window.location.href),tae=new URLSearchParams(eae.search),rae="ws://localhost:1234",nae="playground",iae=tae.get("collabId")||"0";function xF(t,e){var r=e.get(t);return r===void 0?(r=new Yu,e.set(t,r)):r.load(),new Jie(rae,nae+"/"+iae+"/"+t,r,{connect:!1})}var jw=function(t){Fr(r,t);var e=zr(r);function r(){return ir(this,r),e.apply(this,arguments)}return ar(r,[{key:"createDOM",value:function(i){var o=ti(Fn(r.prototype),"createDOM",this).call(this,i);return o.style.cursor="default",o.className="keyword",o}},{key:"canInsertTextBefore",value:function(){return!1}},{key:"canInsertTextAfter",value:function(){return!1}},{key:"isTextEntity",value:function(){return!0}}],[{key:"getType",value:function(){return"keyword"}},{key:"clone",value:function(i){return new r(i.__text,i.__key)}}]),r}(Fo);function aae(t){return new jw(t)}var oae=/(^|$|[^A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ])(congrats|congratulations|gratuluju|gratuluji|gratulujeme|blahopřeju|blahopřeji|blahopřejeme|Til lykke|Tillykke|Glückwunsch|Gratuliere|felicitaciones|enhorabuena|paljon onnea|onnittelut|Félicitations|gratula|gratulálok|gratulálunk|congratulazioni|complimenti|おめでとう|おめでとうございます|축하해|축하해요|gratulerer|Gefeliciteerd|gratulacje|Parabéns|parabéns|felicitações|felicitări|мои поздравления|поздравляем|поздравляю|gratulujem|blahoželám|ยินดีด้วย|ขอแสดงความยินดี|tebrikler|tebrik ederim|恭喜|祝贺你|恭喜你|恭喜|恭喜|baie geluk|veels geluk|অভিনন্দন|Čestitam|Čestitke|Čestitamo|Συγχαρητήρια|Μπράβο|અભિનંદન|badhai|बधाई|अभिनंदन|Честитам|Свака част|hongera|வாழ்த்துகள்|வாழ்த்துக்கள்|అభినందనలు|അഭിനന്ദനങ്ങൾ|Chúc mừng|מזל טוב|mazel tov|mazal tov)(^|$|[^A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ])/i;function kF(){var t=lr(),e=Se(t,1),r=e[0];ee.exports.useEffect(function(){if(!r.hasNodes([jw]))throw new Error("KeywordsPlugin: KeywordNode not registered on editor")},[r]);var n=ee.exports.useCallback(function(o){return aae(o.getTextContent())},[]),i=ee.exports.useCallback(function(o){var u=oae.exec(o);if(u===null)return null;var f=u[2].length,d=u.index+u[1].length,g=d+f;return{end:g,start:d}},[]);return aN(i,jw,n),null}var sae="background-color: rgba(24, 119, 232, 0.2)",u_=function(t){Fr(r,t);var e=zr(r);function r(n,i,o){var u;return ir(this,r),u=e.call(this,i!=null?i:n,o),u.__mention=n,u}return ar(r,[{key:"createDOM",value:function(i){var o=ti(Fn(r.prototype),"createDOM",this).call(this,i);return o.style.cssText=sae,o.className="mention",o}},{key:"isTextEntity",value:function(){return!0}}],[{key:"getType",value:function(){return"mention"}},{key:"clone",value:function(i){return new r(i.__mention,i.__text,i.__key)}}]),r}(Fo);function lae(t){var e=new u_(t);return e.setMode("segmented").toggleDirectionless(),e}var _F=`\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'"~=<>_:;`,uae="\\b[A-Z][^\\s"+_F+"]",SF={NAME:uae,PUNCTUATION:_F},cae=new RegExp("(^|[^#])((?:"+SF.NAME+"{"+1+",})$)"),CF=SF.PUNCTUATION,c_=["@","\\uff20"].join(""),EF="[^"+c_+CF+"\\s]",fae="(?:\\.[ |$]| |["+CF+"]|)",dae=75,hae=new RegExp("(^|\\s|\\()(["+c_+"]((?:"+EF+fae+"){0,"+dae+"}))$"),pae=50,mae=new RegExp("(^|\\s|\\()(["+c_+"]((?:"+EF+"){0,"+pae+"}))$"),kI=5,M5=new Map,vae=["Aayla Secura","Adi Gallia","Admiral Dodd Rancit","Admiral Firmus Piett","Admiral Gial Ackbar","Admiral Ozzel","Admiral Raddus","Admiral Terrinald Screed","Admiral Trench","Admiral U.O. Statura","Agen Kolar","Agent Kallus","Aiolin and Morit Astarte","Aks Moe","Almec","Alton Kastle","Amee","AP-5","Armitage Hux","Artoo","Arvel Crynyd","Asajj Ventress","Aurra Sing","AZI-3","Bala-Tik","Barada","Bargwill Tomder","Baron Papanoida","Barriss Offee","Baze Malbus","Bazine Netal","BB-8","BB-9E","Ben Quadinaros","Berch Teller","Beru Lars","Bib Fortuna","Biggs Darklighter","Black Krrsantan","Bo-Katan Kryze","Boba Fett","Bobbajo","Bodhi Rook","Borvo the Hutt","Boss Nass","Bossk","Breha Antilles-Organa","Bren Derlin","Brendol Hux","BT-1","C-3PO","C1-10P","Cad Bane","Caluan Ematt","Captain Gregor","Captain Phasma","Captain Quarsh Panaka","Captain Rex","Carlist Rieekan","Casca Panzoro","Cassian Andor","Cassio Tagge","Cham Syndulla","Che Amanwe Papanoida","Chewbacca","Chi Eekway Papanoida","Chief Chirpa","Chirrut \xCEmwe","Ciena Ree","Cin Drallig","Clegg Holdfast","Cliegg Lars","Coleman Kcaj","Coleman Trebor","Colonel Kaplan","Commander Bly","Commander Cody (CC-2224)","Commander Fil (CC-3714)","Commander Fox","Commander Gree","Commander Jet","Commander Wolffe","Conan Antonio Motti","Conder Kyl","Constable Zuvio","Cord\xE9","Cpatain Typho","Crix Madine","Cut Lawquane","Dak Ralter","Dapp","Darth Bane","Darth Maul","Darth Tyranus","Daultay Dofine","Del Meeko","Delian Mors","Dengar","Depa Billaba","Derek Klivian","Dexter Jettster","Dine\xE9 Ellberger","DJ","Doctor Aphra","Doctor Evazan","Dogma","Dorm\xE9","Dr. Cylo","Droidbait","Droopy McCool","Dryden Vos","Dud Bolt","Ebe E. Endocott","Echuu Shen-Jon","Eeth Koth","Eighth Brother","Eirta\xE9","Eli Vanto","Ell\xE9","Ello Asty","Embo","Eneb Ray","Enfys Nest","EV-9D9","Evaan Verlaine","Even Piell","Ezra Bridger","Faro Argyus","Feral","Fifth Brother","Finis Valorum","Finn","Fives","FN-1824","FN-2003","Fodesinbeed Annodue","Fulcrum","FX-7","GA-97","Galen Erso","Gallius Rax",'Garazeb "Zeb" Orrelios',"Gardulla the Hutt","Garrick Versio","Garven Dreis","Gavyn Sykes","Gideon Hask","Gizor Dellso","Gonk droid","Grand Inquisitor","Greeata Jendowanian","Greedo","Greer Sonnel","Grievous","Grummgar","Gungi","Hammerhead","Han Solo","Harter Kalonia","Has Obbit","Hera Syndulla","Hevy","Hondo Ohnaka","Huyang","Iden Versio","IG-88","Ima-Gun Di","Inquisitors","Inspector Thanoth","Jabba","Jacen Syndulla","Jan Dodonna","Jango Fett","Janus Greejatus","Jar Jar Binks","Jas Emari","Jaxxon","Jek Tono Porkins","Jeremoch Colton","Jira","Jobal Naberrie","Jocasta Nu","Joclad Danva","Joh Yowza","Jom Barell","Joph Seastriker","Jova Tarkin","Jubnuk","Jyn Erso","K-2SO","Kanan Jarrus","Karbin","Karina the Great","Kes Dameron","Ketsu Onyo","Ki-Adi-Mundi","King Katuunko","Kit Fisto","Kitster Banai","Klaatu","Klik-Klak","Korr Sella","Kylo Ren","L3-37","Lama Su","Lando Calrissian","Lanever Villecham","Leia Organa","Letta Turmond","Lieutenant Kaydel Ko Connix","Lieutenant Thire","Lobot","Logray","Lok Durd","Longo Two-Guns","Lor San Tekka","Lorth Needa","Lott Dod","Luke Skywalker","Lumat","Luminara Unduli","Lux Bonteri","Lyn Me","Lyra Erso","Mace Windu","Malakili","Mama the Hutt","Mars Guo","Mas Amedda","Mawhonic","Max Rebo","Maximilian Veers","Maz Kanata","ME-8D9","Meena Tills","Mercurial Swift","Mina Bonteri","Miraj Scintel","Mister Bones","Mod Terrik","Moden Canady","Mon Mothma","Moradmin Bast","Moralo Eval","Morley","Mother Talzin","Nahdar Vebb","Nahdonnis Praji","Nien Nunb","Niima the Hutt","Nines","Norra Wexley","Nute Gunray","Nuvo Vindi","Obi-Wan Kenobi","Odd Ball","Ody Mandrell","Omi","Onaconda Farr","Oola","OOM-9","Oppo Rancisis","Orn Free Taa","Oro Dassyne","Orrimarko","Osi Sobeck","Owen Lars","Pablo-Jill","Padm\xE9 Amidala","Pagetti Rook","Paige Tico","Paploo","Petty Officer Thanisson","Pharl McQuarrie","Plo Koon","Po Nudo","Poe Dameron","Poggle the Lesser","Pong Krell","Pooja Naberrie","PZ-4CO","Quarrie","Quay Tolsite","Queen Apailana","Queen Jamillia","Queen Neeyutnee","Qui-Gon Jinn","Quiggold","Quinlan Vos","R2-D2","R2-KT","R3-S6","R4-P17","R5-D4","RA-7","Rab\xE9","Rako Hardeen","Ransolm Casterfo","Rappertunie","Ratts Tyerell","Raymus Antilles","Ree-Yees","Reeve Panzoro","Rey","Ric Oli\xE9","Riff Tamson","Riley","Rinnriyin Di","Rio Durant","Rogue Squadron","Romba","Roos Tarpals","Rose Tico","Rotta the Hutt","Rukh","Rune Haako","Rush Clovis","Ruwee Naberrie","Ryoo Naberrie","Sab\xE9","Sabine Wren","Sach\xE9","Saelt-Marae","Saesee Tiin","Salacious B. Crumb","San Hill","Sana Starros","Sarco Plank","Sarkli","Satine Kryze","Savage Opress","Sebulba","Senator Organa","Sergeant Kreel","Seventh Sister","Shaak Ti","Shara Bey","Shmi Skywalker","Shu Mai","Sidon Ithano","Sifo-Dyas","Sim Aloo","Siniir Rath Velus","Sio Bibble","Sixth Brother","Slowen Lo","Sly Moore","Snaggletooth","Snap Wexley","Snoke","Sola Naberrie","Sora Bulq","Strono Tuggs","Sy Snootles","Tallissan Lintra","Tarfful","Tasu Leech","Taun We","TC-14","Tee Watt Kaa","Teebo","Teedo","Teemto Pagalies","Temiri Blagg","Tessek","Tey How","Thane Kyrell","The Bendu","The Smuggler","Thrawn","Tiaan Jerjerrod","Tion Medon","Tobias Beckett","Tulon Voidgazer","Tup","U9-C4","Unkar Plutt","Val Beckett","Vanden Willard","Vice Admiral Amilyn Holdo","Vober Dand","WAC-47","Wag Too","Wald","Walrus Man","Warok","Wat Tambor","Watto","Wedge Antilles","Wes Janson","Wicket W. Warrick","Wilhuff Tarkin","Wollivan","Wuher","Wullf Yularen","Xamuel Lennox","Yaddle","Yarael Poof","Yoda","Zam Wesell","Zev Senesca","Ziro the Hutt","Zuckuss"],gae={search:function(e,r){setTimeout(function(){var n=vae.filter(function(i){return i.toLowerCase().includes(e.toLowerCase())});n.length===0?r(null):r(n)},500)}};function yae(t){var e=ee.exports.useState(null),r=Se(e,2),n=r[0],i=r[1];return ee.exports.useEffect(function(){var o=M5.get(t);if(o!==null){if(o!==void 0){i(o);return}M5.set(t,null),gae.search(t,function(u){M5.set(t,u),i(u)})}},[t]),n}function bae(t){var e=t.index,r=t.isHovered,n=t.isSelected,i=t.onClick,o=t.onMouseEnter,u=t.onMouseLeave,f=t.result,d=ee.exports.useRef(null),g="item";return n&&(g+=" selected"),r&&(g+=" hovered"),Q("li",{tabIndex:-1,className:g,ref:d,role:"option","aria-selected":n,id:"typeahead-item-"+e,onMouseEnter:o,onMouseLeave:u,onClick:i,children:f},f)}function wae(t){var e=t.close,r=t.editor,n=t.resolution,i=ee.exports.useRef(null),o=n.match,u=yae(o.matchingString),f=ee.exports.useState(null),d=Se(f,2),g=d[0],S=d[1],y=ee.exports.useState(null),C=Se(y,2),b=C[0],O=C[1];ee.exports.useEffect(function(){var P=i.current,M=r.getRootElement();if(u!==null&&P!==null&&M!==null){var R=n.range,D=R.getBoundingClientRect(),G=D.left,V=D.top,J=D.height;return P.style.top="".concat(V+J+2,"px"),P.style.left="".concat(G-14,"px"),P.style.display="block",M.setAttribute("aria-controls","mentions-typeahead"),function(){P.style.display="none",M.removeAttribute("aria-controls")}}},[r,n,u]);var _=ee.exports.useCallback(function(){if(!(u===null||g===null)){var P=u[g];e(),Oae(r,P,o)}},[e,o,r,u,g]),N=ee.exports.useCallback(function(P){var M=r.getRootElement();M!==null&&(M.setAttribute("aria-activedescendant","typeahead-item-"+P),S(P))},[r]);return ee.exports.useEffect(function(){return function(){var P=r.getRootElement();P!==null&&P.removeAttribute("aria-activedescendant")}},[r]),ws(function(){u===null?S(null):g===null&&N(0)},[u,g,N]),ee.exports.useEffect(function(){return gi(r.registerCommand(r1,function(P){var M=P;return u!==null&&g!==null&&(g<kI-1&&g!==u.length-1&&N(g+1),M.preventDefault(),M.stopImmediatePropagation()),!0},Gn),r.registerCommand(kd,function(P){var M=P;return u!==null&&g!==null&&(g!==0&&N(g-1),M.preventDefault(),M.stopImmediatePropagation()),!0},Gn),r.registerCommand(yx,function(P){var M=P;return u===null||g===null?!1:(M.preventDefault(),M.stopImmediatePropagation(),e(),!0)},Gn),r.registerCommand(bx,function(P){var M=P;return u===null||g===null?!1:(M.preventDefault(),M.stopImmediatePropagation(),_(),!0)},Gn),r.registerCommand(Qp,function(P){return u===null||g===null?!1:(P!==null&&(P.preventDefault(),P.stopImmediatePropagation()),_(),!0)},Gn))},[_,e,r,u,g,N]),u===null?null:Q("div",{"aria-label":"Suggested mentions",id:"mentions-typeahead",ref:i,role:"listbox",children:Q("ul",{children:u.slice(0,kI).map(function(P,M){return Q(bae,{index:M,isHovered:M===b,isSelected:M===g,onClick:function(){S(M),_()},onMouseEnter:function(){O(M)},onMouseLeave:function(){O(null)},result:P},P)})})})}function xae(t,e){var r=cae.exec(t);if(r!==null){var n=r[1],i=r[2];if(i!=null&&i.length>=e)return{leadOffset:r.index+n.length,matchingString:i,replaceableString:i}}return null}function kae(t,e){var r=hae.exec(t);if(r===null&&(r=mae.exec(t)),r!==null){var n=r[1],i=r[3];if(i.length>=e)return{leadOffset:r.index+n.length,matchingString:i,replaceableString:r[2]}}return null}function _ae(t){var e=kae(t,1);return e===null?xae(t,3):e}function Sae(t){var e=t.anchor;if(e.type!=="text")return null;var r=e.getNode();if(!r.isSimpleText())return null;var n=e.offset;return r.getTextContent().slice(0,n)}function Cae(t,e){var r=window.getSelection();if(r===null||!r.isCollapsed)return!1;var n=r.anchorNode,i=t.leadOffset,o=r.anchorOffset;try{e.setStart(n,i),e.setEnd(n,o)}catch{return!1}return!0}function Eae(t){var e=null;return t.getEditorState().read(function(){var r=Ie();!Pe(r)||(e=Sae(r))}),e}function Tae(t,e,r){for(var n=r,i=n;i<=e.length;i++)t.substr(-i)===e.substr(0,i)&&(n=i);return n}function Oae(t,e,r){t.update(function(){var n=Ie();if(!(!Pe(n)||!n.isCollapsed())){var i=n.anchor;if(i.type==="text"){var o=i.getNode();if(!!o.isSimpleText()){var u=i.offset,f=o.getTextContent().slice(0,u),d=r.replaceableString.length,g=Tae(f,e,d),S=u-g;if(!(S<0)){var y;if(S===0){var C=o.splitText(u),b=Se(C,1);y=b[0]}else{var O=o.splitText(S,u),_=Se(O,2);y=_[1]}var N=lae(e);y.replace(N),N.select()}}}}})}function Aae(t,e){return e!==0?!1:t.getEditorState().read(function(){var r=Ie();if(Pe(r)){var n=r.anchor,i=n.getNode(),o=i.getPreviousSibling();return Ue(o)&&o.isTextEntity()}return!1})}function Iae(t){var e=ee.exports.useState(null),r=Se(e,2),n=r[0],i=r[1];ee.exports.useEffect(function(){if(!t.hasNodes([u_]))throw new Error("MentionsPlugin: MentionNode not registered on editor")},[t]),ee.exports.useEffect(function(){var u=document.createRange(),f=null,d=function(){var y=u,C=Eae(t);if(!(C===f||y===null)&&(f=C,C!==null)){var b=_ae(C);if(b!==null&&!Aae(t,b.leadOffset)){var O=Cae(b,y);if(O!==null){ee.exports.startTransition(function(){return i({match:b,range:y})});return}}ee.exports.startTransition(function(){return i(null)})}},g=t.registerUpdateListener(d);return function(){u=null,g()}},[t]);var o=ee.exports.useCallback(function(){i(null)},[]);return n===null||t===null?null:ma.exports.createPortal(Q(wae,{close:o,resolution:n,editor:t}),document.body)}function TF(){var t=lr(),e=Se(t,1),r=e[0];return Iae(r)}function Mae(t){var e=t.onClose,r=t.tableCellNode,n=t.setIsMenuOpen,i=t.contextRef,o=lr(),u=Se(o,1),f=u[0],d=ee.exports.useRef(),g=ee.exports.useState(r),S=Se(g,2),y=S[0],C=S[1],b=ee.exports.useState({columns:1,rows:1}),O=Se(b,2),_=O[0],N=O[1];ee.exports.useEffect(function(){return f.registerMutationListener(z1,function(W){var ce=W.get(y.getKey())==="updated";ce&&f.getEditorState().read(function(){C(y.getLatest())})})},[f,y]),ee.exports.useEffect(function(){f.getEditorState().read(function(){var W=Ie();if(Pn(W)){var ce=W.getShape();N({columns:ce.toX-ce.fromX+1,rows:ce.toY-ce.fromY+1})}})},[f]),ee.exports.useEffect(function(){var W=i.current,ce=d.current;if(W!=null&&ce!=null){var ie=W.getBoundingClientRect();ce.style.opacity="1",ce.style.left="".concat(ie.left+ie.width+window.pageXOffset+5,"px"),ce.style.top="".concat(ie.top+window.pageYOffset,"px")}},[i,d]),ee.exports.useEffect(function(){function W(ce){d.current!=null&&i.current!=null&&!d.current.contains(ce.target)&&!i.current.contains(ce.target)&&n(!1)}return window.addEventListener("click",W),function(){return window.removeEventListener("click",W)}},[n,i]);var P=ee.exports.useCallback(function(){f.update(function(){if(y.isAttached()){var W=Co(y),ce=f.getElementByKey(W.getKey());if(!ce)throw new Error("Expected to find tableElement in DOM");var ie=FQ(ce);ie.clearHighlight(),W.markDirty(),C(y.getLatest())}Mi(null)})},[f,y]),M=ee.exports.useCallback(function(W){f.update(function(){var ce=Ie(),ie=Co(y),le;if(Pn(ce)){var pe=ce.getShape();le=W?pe.toY:pe.fromY}else le=db(y);var he=BQ(f,ie);qQ(ie,le,W,_.rows,he),P(),e()})},[f,y,_.rows,P,e]),R=ee.exports.useCallback(function(W){f.update(function(){var ce=Ie(),ie=Co(y),le;if(Pn(ce)){var pe=ce.getShape();le=W?pe.toX:pe.fromX}else le=hb(y);VQ(ie,le,W,_.columns),P(),e()})},[f,y,_.columns,P,e]),D=ee.exports.useCallback(function(){f.update(function(){var W=Co(y),ce=db(y);$Q(W,ce),P(),e()})},[f,y,P,e]),G=ee.exports.useCallback(function(){f.update(function(){var W=Co(y);W.remove(),P(),e()})},[f,y,P,e]),V=ee.exports.useCallback(function(){f.update(function(){var W=Co(y),ce=hb(y);GQ(W,ce),P(),e()})},[f,y,P,e]),J=ee.exports.useCallback(function(W){f.update(function(){var ce=Co(y),ie=db(y),le=ce.getChildren();if(ie>=le.length||ie<0)throw new Error("Expected table cell to be inside of table row.");var pe=le[ie];if(!ql(pe))throw new Error("Expected table row");pe.getChildren().forEach(function(he){if(!Pr(he))throw new Error("Expected table cell");he.toggleHeaderStyle(Oi.ROW)}),P(),e()})},[f,y,P,e]),te=ee.exports.useCallback(function(W){f.update(function(){for(var ce=Co(y),ie=hb(y),le=ce.getChildren(),pe=0;pe<le.length;pe++){var he=le[pe];if(!ql(he))throw new Error("Expected table row");var ye=he.getChildren();if(ie>=ye.length||ie<0)throw new Error("Expected table cell to be inside of table row.");var Ee=ye[ie];if(!Pr(Ee))throw new Error("Expected table cell");Ee.toggleHeaderStyle(Oi.COLUMN)}P(),e()})},[f,y,P,e]);return ma.exports.createPortal(ut("div",{className:"dropdown",ref:d,onClick:function(ce){ce.stopPropagation()},children:[Q("button",{className:"item",onClick:function(){return M(!1)},children:ut("span",{className:"text",children:["Insert"," ",_.rows===1?"row":"".concat(_.rows," rows")," ","above"]})}),Q("button",{className:"item",onClick:function(){return M(!0)},children:ut("span",{className:"text",children:["Insert"," ",_.rows===1?"row":"".concat(_.rows," rows")," ","below"]})}),Q("hr",{}),Q("button",{className:"item",onClick:function(){return R(!1)},children:ut("span",{className:"text",children:["Insert"," ",_.columns===1?"column":"".concat(_.columns," columns")," ","left"]})}),Q("button",{className:"item",onClick:function(){return R(!0)},children:ut("span",{className:"text",children:["Insert"," ",_.columns===1?"column":"".concat(_.columns," columns")," ","right"]})}),Q("hr",{}),Q("button",{className:"item",onClick:function(){return V()},children:Q("span",{className:"text",children:"Delete column"})}),Q("button",{className:"item",onClick:function(){return D()},children:Q("span",{className:"text",children:"Delete row"})}),Q("button",{className:"item",onClick:function(){return G()},children:Q("span",{className:"text",children:"Delete table"})}),Q("hr",{}),Q("button",{className:"item",onClick:function(){return J()},children:ut("span",{className:"text",children:[(y.__headerState&Oi.ROW)===Oi.ROW?"Remove":"Add"," ","row header"]})}),Q("button",{className:"item",onClick:function(){return te()},children:ut("span",{className:"text",children:[(y.__headerState&Oi.COLUMN)===Oi.COLUMN?"Remove":"Add"," ","column header"]})})]}),document.body)}function Dae(){var t=lr(),e=Se(t,1),r=e[0],n=ee.exports.useRef(null),i=ee.exports.useRef(null),o=ee.exports.useState(!1),u=Se(o,2),f=u[0],d=u[1],g=ee.exports.useState(null),S=Se(g,2),y=S[0],C=S[1],b=ee.exports.useCallback(function(){var _=n.current,N=Ie(),P=window.getSelection(),M=document.activeElement;if(N==null||_==null){C(null);return}var R=r.getRootElement();if(Pe(N)&&R!==null&&R.contains(P.anchorNode)){var D=KQ(N.anchor.getNode());if(D==null){C(null);return}var G=r.getElementByKey(D.getKey());if(G==null){C(null);return}C(D)}else M||C(null)},[r]);ee.exports.useEffect(function(){return r.registerUpdateListener(function(){r.getEditorState().read(function(){b()})})}),ee.exports.useEffect(function(){var _=n.current;if(_!=null&&y!=null){var N=r.getElementByKey(y.getKey());if(N!=null){var P=N.getBoundingClientRect(),M=_.getBoundingClientRect();_.style.opacity="1",_.style.left="".concat(P.left+window.pageXOffset-M.width+P.width-10,"px"),_.style.top="".concat(P.top+window.pageYOffset+5,"px")}else _.style.opacity="0"}},[n,y,r]);var O=ee.exports.useRef(y);return ee.exports.useEffect(function(){O.current!==y&&d(!1),O.current=y},[O,y]),Q("div",{className:"table-cell-action-button-container",ref:n,children:y!=null&&ut(Qr,{children:[Q("button",{className:"table-cell-action-button chevron-down",onClick:function(N){N.stopPropagation(),d(!f)},ref:i,children:Q("i",{className:"chevron-down"})}),f&&Q(Mae,{contextRef:i,setIsMenuOpen:d,onClose:function(){return d(!1)},tableCellNode:y})]})})}function OF(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useMemo(function(){return ma.exports.createPortal(Q(Dae,{editor:r}),document.body)},[r])}var AF=Object.freeze({"	":"\\t","\n":"\\n"}),_I=new RegExp(Object.keys(AF).join("|"),"g"),Ml=Object.freeze({ancestorHasNextSibling:"|",ancestorIsLastChild:" ",hasNextSibling:"\u251C",isLastChild:"\u2514",selectedChar:"^",selectedLine:">"});function Pae(t){var e=t.timeTravelButtonClassName,r=t.timeTravelPanelSliderClassName,n=t.timeTravelPanelButtonClassName,i=t.viewClassName,o=t.timeTravelPanelClassName,u=t.editor,f=ee.exports.useState([]),d=Se(f,2),g=d[0],S=d[1],y=ee.exports.useState(""),C=Se(y,2),b=C[0],O=C[1],_=ee.exports.useState(!1),N=Se(_,2),P=N[0],M=N[1],R=ee.exports.useRef(0),D=ee.exports.useRef(null),G=ee.exports.useRef(null),V=ee.exports.useState(!1),J=Se(V,2),te=J[0],W=J[1];ee.exports.useEffect(function(){return O(SI(u.getEditorState())),u.registerUpdateListener(function(ie){var le=ie.editorState,pe=u._compositionKey,he=SI(u.getEditorState()),ye=pe!==null&&"Composition key: ".concat(pe);O([he,ye].filter(Boolean).join(`

`)),P||S(function(Ee){return[].concat(Rt(Ee),[[Date.now(),le]])})})},[P,u]);var ce=g.length;return ee.exports.useEffect(function(){if(te){var ie,le=function pe(){var he=R.current;if(he===ce-1){W(!1);return}var ye=g[he][0],Ee=g[he+1][0],Ne=Ee-ye;ie=setTimeout(function(){R.current++;var ge=R.current,De=G.current;De!==null&&(De.value=String(ge)),u.setEditorState(g[ge][1]),pe()},Ne)};return le(),function(){window.clearTimeout(ie)}}},[g,te,u,ce]),ee.exports.useEffect(function(){var ie=D.current;if(ie!==null)return ie.__lexicalEditor=u,function(){ie.__lexicalEditor=null}},[u]),ut("div",{className:i,children:[!P&&ce>2&&Q("button",{onClick:function(){var le=u.getRootElement();le!==null&&(le.contentEditable="false",R.current=ce-1,M(!0))},className:e,children:"Time Travel"}),Q("pre",{ref:D,children:b}),P&&ut("div",{className:o,children:[Q("button",{className:n,onClick:function(){W(!te)},children:te?"Pause":"Play"}),Q("input",{className:r,ref:G,onChange:function(le){var pe=Number(le.target.value),he=g[pe];he&&(R.current=pe,u.setEditorState(he[1]))},type:"range",min:"1",max:ce-1}),Q("button",{className:n,onClick:function(){var le=u.getRootElement();if(le!==null){le.contentEditable="true";var pe=g.length-1,he=g[pe];u.setEditorState(he[1]);var ye=G.current;ye!==null&&(ye.value=String(pe)),M(!1),W(!1)}},children:"Exit"})]})]})}function Lae(t){var e="",r=MF(t);e+=": range ".concat(r!==""?"{ ".concat(r," }"):"");var n=t.anchor,i=t.focus,o=n.offset,u=i.offset;return e+=`
  \u251C anchor { key: `.concat(n.key,", offset: ").concat(o===null?"null":o,", type: ").concat(n.type," }"),e+=`
  \u2514 focus { key: `.concat(i.key,", offset: ").concat(u===null?"null":u,", type: ").concat(i.type," }"),e}function Nae(t){return`: node
  \u2514 [`.concat(Array.from(t._nodes).join(", "),"]")}function Rae(t){return`: grid
  \u2514 { grid: `.concat(t.gridKey,", anchorCell: ").concat(t.anchorCellKey,", focusCell: ").concat(t.focusCellKey," }")}function SI(t){var e=` root
`,r=t.read(function(){var n=Ie();return IF(Tn(),function(i,o){var u=i.getKey(),f="(".concat(u,")"),d=i.getType()||"",g=i.isSelected();e+="".concat(g?Ml.selectedLine:" "," ").concat(o.join(" ")," ").concat(f," ").concat(d," ").concat(Fae(i),`
`),e+=$ae({indent:o,isSelected:g,node:i,nodeKeyDisplay:f,selection:n,typeDisplay:d})}),n===null?": null":Pe(n)?Lae(n):Pn(n)?Rae(n):Nae(n)});return e+`
 selection`+r}function IF(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],n=t.getChildren(),i=n.length;n.forEach(function(o,u){e(o,r.concat(u===i-1?Ml.isLastChild:Ml.hasNextSibling)),Je(o)&&IF(o,e,r.concat(u===i-1?Ml.ancestorIsLastChild:Ml.ancestorHasNextSibling))})}function jae(t){return Object.entries(AF).reduce(function(e,r){var n=Se(r,2),i=n[0],o=n[1];return e.replace(new RegExp(i,"g"),String(o))},t)}function Fae(t){if(Ue(t)){var e=t.getTextContent(!0),r=e.length===0?"(empty)":'"'.concat(jae(e),'"'),n=Uae(t);return[r,n.length!==0?"{ ".concat(n," }"):null].filter(Boolean).join(" ").trim()}return""}var zae=[function(t){return t.hasFormat("bold")&&"Bold"},function(t){return t.hasFormat("code")&&"Code"},function(t){return t.hasFormat("italic")&&"Italic"},function(t){return t.hasFormat("strikethrough")&&"Strikethrough"},function(t){return t.hasFormat("underline")&&"Underline"}],Bae=[function(t){return t.isDirectionless()&&"Directionless"},function(t){return t.isUnmergeable()&&"Unmergeable"}],Hae=[function(t){return t.isToken()&&"Token"},function(t){return t.isSegmented()&&"Segmented"},function(t){return t.isInert()&&"Inert"}];function Uae(t){return[MF(t),Kae(t),Wae(t)].filter(Boolean).join(", ")}function Kae(t){var e=Bae.map(function(r){return r(t)}).filter(Boolean).join(", ").toLocaleLowerCase();return e!==""&&(e="detail: "+e),e}function Wae(t){var e=Hae.map(function(r){return r(t)}).filter(Boolean).join(", ").toLocaleLowerCase();return e!==""&&(e="mode: "+e),e}function MF(t){var e=zae.map(function(r){return r(t)}).filter(Boolean).join(", ").toLocaleLowerCase();return e!==""&&(e="format: "+e),e}function $ae(t){var e=t.indent,r=t.isSelected,n=t.node,i=t.nodeKeyDisplay,o=t.selection,u=t.typeDisplay;if(!Ue(n)||!Pe(o)||!r||Je(n))return"";var f=o.anchor,d=o.focus;if(n.getTextContent()===""||f.getNode()===o.focus.getNode()&&f.offset===d.offset)return"";var g=qae(n,o),S=Se(g,2),y=S[0],C=S[1];if(y===C)return"";var b=e[e.length-1]===Ml.hasNextSibling?Ml.ancestorHasNextSibling:Ml.ancestorIsLastChild,O=[].concat(Rt(e.slice(0,e.length-1)),[b]),_=Array(y).fill(" "),N=Array(C-y).fill(Ml.selectedChar),P=u.length+3,M=Array(i.length+P).fill(" ");return[Ml.selectedLine,O.join(" "),[].concat(Rt(M),Rt(_),Rt(N)).join("")].join(" ")+`
`}function qae(t,e){var r=e.anchor,n=e.focus,i=t.getTextContent(!0),o=i.length,u=-1,f=-1;if(r.type==="text"&&n.type==="text"){var d=r.getNode(),g=n.getNode();if(d===g&&t===d&&r.offset!==n.offset){var S=r.offset<n.offset?[r.offset,n.offset]:[n.offset,r.offset],y=Se(S,2);u=y[0],f=y[1]}else if(t===d){var C=d.isBefore(g)?[r.offset,o]:[0,r.offset],b=Se(C,2);u=b[0],f=b[1]}else if(t===g){var O=g.isBefore(d)?[n.offset,o]:[0,n.offset],_=Se(O,2);u=_[0],f=_[1]}else u=0,f=o}var N=(i.slice(0,u).match(_I)||[]).length,P=(i.slice(u,f).match(_I)||[]).length;return[u+N,f+N+P]}function DF(){var t=lr(),e=Se(t,1),r=e[0];return Q(Pae,{viewClassName:"tree-view-output",timeTravelPanelClassName:"debug-timetravel-panel",timeTravelButtonClassName:"debug-timetravel-button",timeTravelPanelSliderClassName:"debug-timetravel-panel-slider",timeTravelPanelButtonClassName:"debug-timetravel-panel-button",editor:r})}function Vae(t){var e=t.ariaActiveDescendantID,r=t.ariaAutoComplete,n=t.ariaControls,i=t.ariaDescribedBy,o=t.ariaExpanded,u=t.ariaLabel,f=t.ariaLabelledBy,d=t.ariaMultiline,g=t.ariaOwneeID,S=t.ariaRequired,y=t.autoCapitalize,C=t.autoComplete,b=t.autoCorrect,O=t.className,_=t.id,N=t.role,P=N===void 0?"textbox":N,M=t.spellCheck,R=M===void 0?!0:M,D=t.style,G=t.tabIndex,V=t.testid,J=lr(),te=Se(J,1),W=te[0],ce=ee.exports.useState(!0),ie=Se(ce,2),le=ie[0],pe=ie[1],he=ee.exports.useCallback(function(ye){W.setRootElement(ye)},[W]);return ws(function(){return pe(W.isReadOnly()),W.registerReadOnlyListener(function(ye){pe(ye)})},[W]),Q("div",{"aria-activedescendant":le?null:e,"aria-autocomplete":le?null:r,"aria-controls":le?null:n,"aria-describedby":i,"aria-expanded":le?null:P==="combobox"?!!o:null,"aria-label":u,"aria-labelledby":f,"aria-multiline":d,"aria-owns":le?null:g,"aria-required":S,autoCapitalize:y,autoComplete:C,autoCorrect:b,className:O,contentEditable:!le,"data-testid":V,id:_,ref:he,role:le?null:P,spellCheck:R,style:D,tabIndex:G})}function Fw(t){var e=t.className;return Q(Vae,{className:e||"ContentEditable__root"})}function f_(t){var e=t.children,r=t.className;return Q("div",{className:r||"Placeholder__root",children:e})}var CI=new Set;function Gae(t){if(!CI.has(t))throw new Promise(function(e){var r=new Image;r.src=t,r.onload=function(){CI.add(t),e()}})}function Yae(t){var e=t.altText,r=t.className,n=t.imageRef,i=t.src,o=t.width,u=t.height,f=t.maxWidth;return Gae(i),Q("img",{className:r,src:i,alt:e,ref:n,style:{height:u,maxWidth:f,width:o}})}function Xae(t){var e=t.onResizeStart,r=t.onResizeEnd,n=t.imageRef,i=t.editor,o=t.showCaption,u=t.setShowCaption,f=ee.exports.useRef(null),d=ee.exports.useRef({currentHeight:0,currentWidth:0,direction:0,isResizing:!1,ratio:0,startHeight:0,startWidth:0,startX:0,startY:0}),g=i.getRootElement(),S=g!==null?g.getBoundingClientRect().width-20:100,y=function(_,N){var P=n.current;if(P!==null){var M=P.getBoundingClientRect(),R=M.width,D=M.height,G=d.current;G.startWidth=R,G.startHeight=D,G.ratio=R/D,G.currentWidth="inherit",G.currentHeight="inherit",G.startX=_.clientX,G.startY=_.clientY,G.isResizing=!0,G.direction=N,e(),document.addEventListener("pointermove",C),document.addEventListener("pointerup",b)}},C=function(_){var N=n.current,P=d.current;if(N!==null&&P.isResizing)if(P.direction===3){var M=Math.floor(P.startY-_.clientY)*2,R=150*P.ratio,D=S/P.ratio,G=P.startHeight+M;G<R?G=R:G>D&&(G=D),N.style.width="inherit",N.style.height="".concat(G,"px"),P.currentHeight=G}else if(P.direction===2){var V=Math.floor(_.clientY-P.startY),J=150*P.ratio,te=S/P.ratio,W=P.startHeight+V;W<J?W=J:W>te&&(W=te),N.style.width="inherit",N.style.height="".concat(W,"px"),P.currentHeight=W}else{var ce=Math.floor(_.clientX-P.startX),ie=150*P.ratio,le=S,pe=P.startWidth+ce;pe<ie?pe=ie:pe>le&&(pe=le),N.style.width="".concat(pe,"px"),N.style.height="inherit",P.currentWidth=pe}},b=function O(_){var N=n.current,P=d.current;if(N!==null&&P.isResizing){var M=P.currentWidth,R=P.currentHeight;P.startWidth=0,P.startHeight=0,P.ratio=0,P.startX=0,P.startY=0,P.currentWidth=0,P.currentHeight=0,P.isResizing=!1,r(M,R),document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",O)}};return ut(Qr,{children:[!o&&Q("button",{className:"image-caption-button",ref:f,onClick:function(){u(!o)},children:"Add Caption"}),Q("div",{className:"image-resizer-ne",onPointerDown:function(_){y(_,0)}}),Q("div",{className:"image-resizer-se",onPointerDown:function(_){y(_,1)}}),Q("div",{className:"image-resizer-sw",onPointerDown:function(_){y(_,2)}}),Q("div",{className:"image-resizer-nw",onPointerDown:function(_){y(_,3)}})]})}function Zae(t){var e=t.src,r=t.altText,n=t.nodeKey,i=t.width,o=t.height,u=t.maxWidth,f=t.resizable,d=t.showCaption,g=t.caption,S=ee.exports.useRef(null),y=cF(n),C=Se(y,3),b=C[0],O=C[1],_=C[2],N=ee.exports.useState(!1),P=Se(N,2),M=P[0],R=P[1],D=mm(),G=D.yjsDocMap,V=lr(),J=Se(V,1),te=J[0],W=G.get("main")!==void 0,ce=ee.exports.useState(null),ie=Se(ce,2),le=ie[0],pe=ie[1],he=ee.exports.useCallback(function(q){if(b&&$l(Ie())){var A=q;A.preventDefault(),te.update(function(){var zt=Gt(n);D5(zt)&&zt.remove(),O(!1)})}return!1},[te,b,n,O]);ee.exports.useEffect(function(){return gi(te.registerUpdateListener(function(q){var A=q.editorState;pe(A.read(function(){return Ie()}))}),te.registerCommand(px,function(q){var A=q;return M?!0:A.target===S.current?(A.shiftKey||_(),O(!b),!0):!1},Gn),te.registerCommand(N1,he,Gn),te.registerCommand(fm,he,Gn))},[_,te,M,b,n,he,O]);var ye=ee.exports.useCallback(function(){te.update(function(){var q=Gt(n);D5(q)&&q.setShowCaption(!0)})},[te,n]),Ee=ee.exports.useCallback(function(q,A){var zt=te.getRootElement();zt!==null&&zt.style.setProperty("cursor","default"),setTimeout(function(){R(!1)},200),te.update(function(){var Ht=Gt(n);D5(Ht)&&Ht.setWidthAndHeight(q,A)})},[te,n]),Ne=ee.exports.useCallback(function(){var q=te.getRootElement();q!==null&&q.style.setProperty("cursor","nwse-resize","important"),R(!0)},[te]),ge=e9(),De=ge.historyState,ze=xx(),Ye=ze.settings.showNestedEditorTreeView;return Q(ee.exports.Suspense,{fallback:null,children:ut(Qr,{children:[Q(Yae,{className:b||M?"focused":null,src:e,altText:r,imageRef:S,width:i,height:o,maxWidth:u}),d&&Q("div",{className:"image-caption-container",children:ut(hF,{initialEditor:g,children:[Q(TF,{}),Q(GN,{}),Q(OF,{}),Q(LF,{}),Q(sN,{}),Q(hj,{}),Q(oN,{}),Q(kF,{}),W?Q(aj,{id:g.getKey(),providerFactory:xF,shouldBootstrap:!0}):Q(dw,{externalHistoryState:De}),Q(KN,{contentEditable:Q(Fw,{className:"ImageNode__contentEditable"}),placeholder:Q(f_,{className:"ImageNode__placeholder",children:"Enter a caption..."}),initialEditorState:null}),Ye&&Q(DF,{})]})}),f&&$l(le)&&(b||M)&&Q(Xae,{showCaption:d,setShowCaption:ye,editor:te,imageRef:S,onResizeStart:Ne,onResizeEnd:Ee})]})})}var Gx=function(t){Fr(r,t);var e=zr(r);function r(n,i,o,u,f,d,g,S){var y;return ir(this,r),y=e.call(this,S),y.__src=n,y.__altText=i,y.__maxWidth=o,y.__width=u||"inherit",y.__height=f||"inherit",y.__showCaption=d||!1,y.__caption=g||L1(),y}return ar(r,[{key:"setWidthAndHeight",value:function(i,o){var u=this.getWritable();u.__width=i,u.__height=o}},{key:"setShowCaption",value:function(i){var o=this.getWritable();o.__showCaption=i}},{key:"createDOM",value:function(i){var o=document.createElement("span"),u=i.theme,f=u.image;return f!==void 0&&(o.className=f),o}},{key:"updateDOM",value:function(){return!1}},{key:"decorate",value:function(){return Q(Zae,{src:this.__src,altText:this.__altText,width:this.__width,height:this.__height,maxWidth:this.__maxWidth,nodeKey:this.getKey(),showCaption:this.__showCaption,caption:this.__caption,resizable:!0})}}],[{key:"getType",value:function(){return"image"}},{key:"clone",value:function(i){return new r(i.__src,i.__altText,i.__maxWidth,i.__width,i.__height,i.__showCaption,i.__caption,i.__key)}}]),r}(Ju);function Qae(t,e,r){return new Gx(t,e,r)}function D5(t){return t instanceof Gx}var PF=er();function LF(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useEffect(function(){if(!r.hasNodes([Gx]))throw new Error("ImagesPlugin: ImageNode not registered on editor");return r.registerCommand(PF,function(){var n=Ie();if(Pe(n)){pn(n.anchor.getNode())&&n.insertParagraph();var i=Qae(Rie,"Yellow flower in tilt shift lens",500);n.insertNodes([i])}return!0},Nt)},[r]),null}function Jae(t){var e=t.getNodes();return e.length===0?new Set([t.anchor.getNode().getParentOrThrow(),t.focus.getNode().getParentOrThrow()]):new Set(e.map(function(r){return Je(r)?r:r.getParentOrThrow()}))}function eoe(t){var e=Ie();if(!Pe(e))return!1;var r=Jae(e),n=0,i=Qi(r),o;try{for(i.s();!(o=i.n()).done;){var u=o.value;if(Zr(u))n=Math.max(X8(u)+1,n);else if(Vn(u)){var f=u.getParent();if(!Zr(f))throw new Error("ListMaxIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");n=Math.max(X8(f)+1,n)}}}catch(d){i.e(d)}finally{i.f()}return n<=t}function toe(t){var e=t.maxDepth,r=lr(),n=Se(r,1),i=n[0];return ee.exports.useEffect(function(){return i.registerCommand(S0,function(){return!eoe(e!=null?e:7)},Ta)},[i,e]),null}function roe(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function b7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return{text:t,uid:roe(),votes:[]}}function EI(t,e,r){return{text:e,uid:t.uid,votes:r||Array.from(t.votes)}}function noe(t){return t.reduce(function(e,r){return e+r.votes.length},0)}function ioe(t){var e=t.option,r=t.index,n=t.options,i=t.totalVotes,o=t.withPollNode,u=mm(),f=u.clientID,d=ee.exports.useRef(null),g=e.votes,S=g.indexOf(f),y=S!==-1,C=g.length,b=e.text;return ut("div",{className:"PollNode__optionContainer",children:[Q("div",{className:l7("PollNode__optionCheckboxWrapper",y&&"PollNode__optionCheckboxChecked"),children:Q("input",{ref:d,className:"PollNode__optionCheckbox",type:"checkbox",onChange:function(_){o(function(N){N.toggleVote(e,f)})},checked:y})}),ut("div",{className:"PollNode__optionInputWrapper",children:[Q("div",{className:"PollNode__optionInputVotes",style:{width:"".concat(C===0?0:C/i*100,"%")}}),Q("span",{className:"PollNode__optionInputVotesCount",children:C>0&&(C===1?"1 vote":"".concat(C," votes"))}),Q("input",{className:"PollNode__optionInput",type:"text",value:b,onChange:function(_){o(function(N){N.setOptionText(e,_.target.value)})},placeholder:"Option ".concat(r+1)})]}),Q("button",{disabled:n.length<3,className:l7("PollNode__optionDelete",n.length<3&&"PollNode__optionDeleteDisabled"),"arial-label":"Remove",onClick:function(){o(function(_){_.deleteOption(e)})}})]})}function aoe(t){var e=t.question,r=t.options,n=t.nodeKey,i=lr(),o=Se(i,1),u=o[0],f=ee.exports.useMemo(function(){return noe(r)},[r]),d=ee.exports.useCallback(function(S){u.update(function(){var y=Gt(n);soe(y)&&S(y)})},[u,n]),g=ee.exports.useCallback(function(){d(function(S){S.addOption(b7())})},[d]);return ut("div",{className:"PollNode__container",children:[Q("h2",{className:"PollNode__heading",children:e}),r.map(function(S,y){var C=S.uid;return Q(ioe,{withPollNode:d,option:S,index:y,options:r,totalVotes:f},C)}),Q("div",{className:"PollNode__footer",children:Q(E0,{onClick:g,small:!0,children:"Add Option"})})]})}var Yx=function(t){Fr(r,t);var e=zr(r);function r(n,i,o){var u;return ir(this,r),u=e.call(this,o),u.__question=n,u.__options=i||[b7(),b7()],u}return ar(r,[{key:"addOption",value:function(i){var o=this.getWritable(),u=Array.from(o.__options);u.push(i),o.__options=u}},{key:"deleteOption",value:function(i){var o=this.getWritable(),u=Array.from(o.__options),f=u.indexOf(i);u.splice(f,1),o.__options=u}},{key:"setOptionText",value:function(i,o){var u=this.getWritable(),f=EI(i,o),d=Array.from(u.__options),g=d.indexOf(i);d[g]=f,u.__options=d}},{key:"toggleVote",value:function(i,o){var u=this.getWritable(),f=i.votes,d=Array.from(f),g=f.indexOf(o);g===-1?d.push(o):d.splice(g,1);var S=EI(i,i.text,d),y=Array.from(u.__options),C=y.indexOf(i);y[C]=S,u.__options=y}},{key:"createDOM",value:function(){var i=document.createElement("span");return i.style.display="inline-block",i}},{key:"updateDOM",value:function(){return!1}},{key:"decorate",value:function(){return Q(aoe,{question:this.__question,options:this.__options,nodeKey:this.__key})}}],[{key:"getType",value:function(){return"poll"}},{key:"clone",value:function(i){return new r(i.__question,i.__options,i.__key)}}]),r}(Ju);function ooe(t){return new Yx(t)}function soe(t){return t instanceof Yx}var NF=er();function loe(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useEffect(function(){if(!r.hasNodes([Yx]))throw new Error("PollPlugin: PollNode not registered on editor");return r.registerCommand(NF,function(n){var i=Ie();if(Pe(i)){var o=n,u=ooe(o);pn(i.anchor.getNode())&&i.insertParagraph(),i.insertNodes([u])}return!0},Nt)},[r]),null}var uoe=33,coe=50;function foe(t){var e=t.editor,r=ee.exports.useRef(null),n=ee.exports.useRef(null),i=ee.exports.useRef(null),o=ee.exports.useRef(null),u=ee.exports.useState(null),f=Se(u,2),d=f[0],g=f[1],S=ee.exports.useState(null),y=Se(S,2),C=y[0],b=y[1],O=ee.exports.useState(!1),_=Se(O,2),N=_[0],P=_[1],M=ee.exports.useState(null),R=Se(M,2),D=R[0],G=R[1];ee.exports.useEffect(function(){return e.registerUpdateListener(function(pe){var he=pe.editorState;he.read(function(){var ye=Ie(),Ee=Pn(ye);N!==Ee&&P(Ee)})})});var V=ee.exports.useCallback(function(){b(null),r.current=null,G(null),o.current=null,i.current=null},[]);ee.exports.useEffect(function(){var pe=function(ye){setTimeout(function(){var Ee=ye.target;if(D){g({x:ye.clientX,y:ye.clientY});return}if(!(n.current&&n.current.contains(Ee))&&r.current!==Ee){r.current=Ee;var Ne=cb(Ee);Ne&&C!==Ne?e.update(function(){var ge=vs(Ne.elem);if(!ge)throw new Error("TableCellResizer: Table cell node not found.");var De=Co(ge),ze=e.getElementByKey(De.getKey());if(!ze)throw new Error("TableCellResizer: Table element not found.");r.current=Ee,i.current=ze.getBoundingClientRect(),b(Ne)}):Ne==null&&V()}},0)};return document.addEventListener("mousemove",pe),function(){document.removeEventListener("mousemove",pe)}},[C,D,e,V]);var J=function(he){return he==="bottom"},te=ee.exports.useCallback(function(pe){if(!C)throw new Error("TableCellResizer: Expected active cell.");e.update(function(){var he=vs(C.elem);if(!Pr(he))throw new Error("TableCellResizer: Table cell node not found.");var ye=Co(he),Ee=db(he),Ne=ye.getChildren();if(Ee>=Ne.length||Ee<0)throw new Error("Expected table cell to be inside of table row.");var ge=Ne[Ee];if(!ql(ge))throw new Error("Expected table row");ge.setHeight(pe)})},[C,e]),W=ee.exports.useCallback(function(pe){if(!C)throw new Error("TableCellResizer: Expected active cell.");e.update(function(){var he=vs(C.elem);if(!Pr(he))throw new Error("TableCellResizer: Table cell node not found.");for(var ye=Co(he),Ee=hb(he),Ne=ye.getChildren(),ge=0;ge<Ne.length;ge++){var De=Ne[ge];if(!ql(De))throw new Error("Expected table row");var ze=De.getChildren();if(Ee>=ze.length||Ee<0)throw new Error("Expected table cell to be inside of table row.");var Ye=ze[Ee];if(!Pr(Ye))throw new Error("Expected table cell");Ye.setWidth(pe)}})},[C,e]),ce=ee.exports.useCallback(function(pe){return function(he){if(he.preventDefault(),he.stopPropagation(),!C)throw new Error("TableCellResizer: Expected active cell.");if(D===pe&&o.current){var ye=o.current,Ee=ye.x,Ne=ye.y;if(!C)return;var ge=C.elem.getBoundingClientRect(),De=ge.height,ze=ge.width;if(J(pe)){var Ye=Math.abs(he.clientY-Ne),q=pe==="bottom"&&Ne>he.clientY;te(Math.max(q?De-Ye:Ye+De,uoe))}else{var A=Math.abs(he.clientX-Ee),zt=pe==="right"&&Ee>he.clientX;W(Math.max(zt?ze-A:A+ze,coe))}V()}else o.current={x:he.clientX,y:he.clientY},g(o.current),G(pe)}},[C,D,V,W,te]),ie=ee.exports.useCallback(function(){if(C){var pe=C.elem.getBoundingClientRect(),he=pe.height,ye=pe.width,Ee=pe.top,Ne=pe.left,ge={bottom:{backgroundColor:"none",cursor:"row-resize",height:"10px",left:"".concat(window.pageXOffset+Ne,"px"),top:"".concat(window.pageYOffset+Ee+he-10,"px"),width:"".concat(ye,"px")},right:{backgroundColor:"none",cursor:"col-resize",height:"".concat(he,"px"),left:"".concat(window.pageXOffset+Ne+ye-10,"px"),top:"".concat(window.pageYOffset+Ee,"px"),width:"10px"}},De=i.current;return D&&d&&De&&(J(D)?(ge[D].left="".concat(window.pageXOffset+De.left,"px"),ge[D].top="".concat(window.pageYOffset+d.y,"px"),ge[D].height="3px",ge[D].width="".concat(De.width,"px")):(ge[D].top="".concat(window.pageYOffset+De.top,"px"),ge[D].left="".concat(window.pageXOffset+d.x,"px"),ge[D].width="3px",ge[D].height="".concat(De.height,"px")),ge[D].backgroundColor="#adf"),ge}return{bottom:null,left:null,right:null,top:null}},[C,D,d]),le=ie();return Q("div",{ref:n,children:C!=null&&!N&&ut(Qr,{children:[Q("div",{className:"TableCellResizer__resizer TableCellResizer__ui",style:le.right,onMouseDown:ce("right"),onMouseUp:ce("right")}),Q("div",{className:"TableCellResizer__resizer TableCellResizer__ui",style:le.bottom,onMouseDown:ce("bottom"),onMouseUp:ce("bottom")})]})})}function doe(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useMemo(function(){return ma.exports.createPortal(Q(foe,{editor:r}),document.body)},[r])}var RF={characterLimit:"PlaygroundEditorTheme__characterLimit",code:"PlaygroundEditorTheme__code",codeHighlight:{atrule:"PlaygroundEditorTheme__tokenAttr",attr:"PlaygroundEditorTheme__tokenAttr",boolean:"PlaygroundEditorTheme__tokenProperty",builtin:"PlaygroundEditorTheme__tokenSelector",cdata:"PlaygroundEditorTheme__tokenComment",char:"PlaygroundEditorTheme__tokenSelector",class:"PlaygroundEditorTheme__tokenFunction","class-name":"PlaygroundEditorTheme__tokenFunction",comment:"PlaygroundEditorTheme__tokenComment",constant:"PlaygroundEditorTheme__tokenProperty",deleted:"PlaygroundEditorTheme__tokenProperty",doctype:"PlaygroundEditorTheme__tokenComment",entity:"PlaygroundEditorTheme__tokenOperator",function:"PlaygroundEditorTheme__tokenFunction",important:"PlaygroundEditorTheme__tokenVariable",inserted:"PlaygroundEditorTheme__tokenSelector",keyword:"PlaygroundEditorTheme__tokenAttr",namespace:"PlaygroundEditorTheme__tokenVariable",number:"PlaygroundEditorTheme__tokenProperty",operator:"PlaygroundEditorTheme__tokenOperator",prolog:"PlaygroundEditorTheme__tokenComment",property:"PlaygroundEditorTheme__tokenProperty",punctuation:"PlaygroundEditorTheme__tokenPunctuation",regex:"PlaygroundEditorTheme__tokenVariable",selector:"PlaygroundEditorTheme__tokenSelector",string:"PlaygroundEditorTheme__tokenSelector",symbol:"PlaygroundEditorTheme__tokenProperty",tag:"PlaygroundEditorTheme__tokenProperty",url:"PlaygroundEditorTheme__tokenOperator",variable:"PlaygroundEditorTheme__tokenVariable"},hashtag:"PlaygroundEditorTheme__hashtag",heading:{h1:"PlaygroundEditorTheme__h1",h2:"PlaygroundEditorTheme__h2",h3:"PlaygroundEditorTheme__h3",h4:"PlaygroundEditorTheme__h4",h5:"PlaygroundEditorTheme__h5"},image:"editor-image",link:"PlaygroundEditorTheme__link",list:{listitem:"PlaygroundEditorTheme__listItem",nested:{listitem:"PlaygroundEditorTheme__nestedListItem"},olDepth:["PlaygroundEditorTheme__ol1","PlaygroundEditorTheme__ol2","PlaygroundEditorTheme__ol3","PlaygroundEditorTheme__ol4","PlaygroundEditorTheme__ol5"],ul:"PlaygroundEditorTheme__ul"},ltr:"PlaygroundEditorTheme__ltr",paragraph:"PlaygroundEditorTheme__paragraph",quote:"PlaygroundEditorTheme__quote",rtl:"PlaygroundEditorTheme__rtl",table:"PlaygroundEditorTheme__table",tableCell:"PlaygroundEditorTheme__tableCell",tableCellHeader:"PlaygroundEditorTheme__tableCellHeader",text:{bold:"PlaygroundEditorTheme__textBold",code:"PlaygroundEditorTheme__textCode",italic:"PlaygroundEditorTheme__textItalic",strikethrough:"PlaygroundEditorTheme__textStrikethrough",underline:"PlaygroundEditorTheme__textUnderline",underlineStrikethrough:"PlaygroundEditorTheme__textUnderlineStrikethrough"}},hoe=xt(xt({},RF),{},{paragraph:"StickyEditorTheme__paragraph"});function H4(t,e){var r=t.style,n=e.rootElementRect,i=n!==null?n.left:0,o=n!==null?n.top:0;r.top=o+e.y+"px",r.left=i+e.x+"px"}function poe(t){var e=t.x,r=t.y,n=t.nodeKey,i=t.color,o=t.caption,u=lr(),f=Se(u,1),d=f[0],g=ee.exports.useRef(null),S=ee.exports.useRef({isDragging:!1,offsetX:0,offsetY:0,rootElementRect:null,x:0,y:0}),y=mm(),C=y.yjsDocMap,b=C.get("main")!==void 0;ee.exports.useEffect(function(){var D=S.current;D.x=e,D.y=r;var G=g.current;G!==null&&H4(G,D)},[e,r]),ws(function(){var D=S.current,G=new ResizeObserver(function(te){for(var W=0;W<te.length;W++){var ce=te[W],ie=ce.target;D.rootElementRect=ie.getBoundingClientRect();var le=g.current;le!==null&&H4(le,D)}}),V=d.registerRootListener(function(te,W){W!==null&&G.unobserve(W),te!==null&&G.observe(te)}),J=function(){var W=d.getRootElement(),ce=g.current;W!==null&&ce!==null&&(D.rootElementRect=W.getBoundingClientRect(),H4(ce,D))};return window.addEventListener("resize",J),function(){window.removeEventListener("resize",J),V()}},[d]),ee.exports.useEffect(function(){var D=g.current;D!==null&&setTimeout(function(){D.style.setProperty("transition","top 0.3s ease 0s, left 0.3s ease 0s")},500)},[]);var O=ee.exports.useCallback(function(D){var G=g.current,V=S.current,J=V.rootElementRect;G!==null&&V.isDragging&&J!==null&&(V.x=D.pageX-V.offsetX-J.left,V.y=D.pageY-V.offsetY-J.top,H4(G,V))},[]),_=ee.exports.useCallback(function(D){var G=g.current,V=S.current;G!==null&&(V.isDragging=!1,G.classList.remove("dragging"),d.update(function(){var J=Gt(n);P5(J)&&J.setPosition(V.x,V.y)})),document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",_)},[d,O,n]),N=ee.exports.useCallback(function(){d.update(function(){var D=Gt(n);P5(D)&&D.remove()})},[d,n]),P=ee.exports.useCallback(function(){d.update(function(){var D=Gt(n);P5(D)&&D.toggleColor()})},[d,n]),M=e9(),R=M.historyState;return ut("div",{ref:g,className:"sticky-note ".concat(i),onPointerDown:function(G){if(!(G.button===2||G.target!==g.current)){var V=g.current,J=S.current;if(V!==null){var te=V.getBoundingClientRect(),W=te.top,ce=te.left;J.offsetX=G.clientX-ce+30,J.offsetY=G.clientY-W+20,J.isDragging=!0,V.classList.add("dragging"),document.addEventListener("pointermove",O),document.addEventListener("pointerup",_),G.preventDefault()}}},children:[Q("button",{onClick:N,className:"delete",children:"X"}),Q("button",{onClick:P,className:"color",children:Q("i",{className:"bucket"})}),ut(hF,{initialEditor:o,initialTheme:hoe,children:[b?Q(aj,{id:o.getKey(),providerFactory:xF,shouldBootstrap:!0}):Q(dw,{externalHistoryState:R}),Q(UN,{contentEditable:Q(Fw,{className:"StickyNode__contentEditable"}),placeholder:Q(f_,{className:"StickyNode__placeholder",children:"What's up?"}),initialEditorState:null})]})]})}var d_=function(t){Fr(r,t);var e=zr(r);function r(n,i,o,u,f){var d;return ir(this,r),d=e.call(this,f),d.__x=n,d.__y=i,d.__caption=u||L1(),d.__color=o,d}return ar(r,[{key:"createDOM",value:function(i){var o=document.createElement("div");return o.style.display="contents",o}},{key:"updateDOM",value:function(){return!1}},{key:"setPosition",value:function(i,o){var u=this.getWritable();u.__x=i,u.__y=o,Mi(null)}},{key:"toggleColor",value:function(){var i=this.getWritable();i.__color=i.__color==="pink"?"yellow":"pink"}},{key:"decorate",value:function(i){return ma.exports.createPortal(Q(poe,{color:this.__color,x:this.__x,y:this.__y,nodeKey:this.getKey(),caption:this.__caption}),document.body)}},{key:"isIsolated",value:function(){return!0}}],[{key:"getType",value:function(){return"sticky"}},{key:"clone",value:function(i){return new r(i.__x,i.__y,i.__color,i.__caption,i.__key)}}]),r}(Ju);function P5(t){return t instanceof d_}function moe(t,e){return new d_(t,e,"yellow")}function w7(t){var e=t.buttonLabel,r=t.buttonAriaLabel,n=t.buttonClassName,i=t.buttonIconClassName,o=t.children,u=ee.exports.useRef(null),f=ee.exports.useRef(null),d=ee.exports.useState(!1),g=Se(d,2),S=g[0],y=g[1];return ee.exports.useEffect(function(){var C=f.current,b=u.current;if(S&&C!==null&&b!==null){var O=C.getBoundingClientRect(),_=O.top,N=O.left;b.style.top="".concat(_+40,"px"),b.style.left="".concat(Math.min(N,window.innerWidth-b.offsetWidth-20),"px")}},[u,f,S]),ee.exports.useEffect(function(){var C=f.current;if(C!==null&&S){var b=function(_){var N=_.target;C.contains(N)||y(!1)};return document.addEventListener("click",b),function(){document.removeEventListener("click",b)}}},[u,f,S]),ut(Qr,{children:[ut("button",{"aria-label":r||e,className:n,onClick:function(){return y(!S)},ref:f,children:[i&&Q("span",{className:i}),e&&Q("span",{className:"text dropdown-button-text",children:e}),Q("i",{className:"chevron-down"})]}),S&&ma.exports.createPortal(Q("div",{className:"dropdown",ref:u,children:o}),document.body)]})}function g1(t){var e=t.label,r=t.value,n=t.onChange,i=t.placeholder,o=i===void 0?"":i;return ut("div",{className:"Input__wrapper",children:[Q("label",{className:"Input__label",children:e}),Q("input",{type:"text",className:"Input__input",placeholder:o,value:r,onChange:function(f){n(f.target.value)}})]})}function voe(t){var e=t.onConfirm,r=t.initialEquation,n=r===void 0?"":r,i=ee.exports.useState(n),o=Se(i,2),u=o[0],f=o[1],d=ee.exports.useState(!0),g=Se(d,2),S=g[0],y=g[1],C=ee.exports.useCallback(function(){e(u,S)},[e,u,S]),b=ee.exports.useCallback(function(){y(!S)},[y,S]);return ut(Qr,{children:[ut("div",{className:"KatexEquationAlterer_defaultRow",children:["Inline",Q("input",{type:"checkbox",checked:S,onChange:b})]}),Q("div",{className:"KatexEquationAlterer_defaultRow",children:"Equation "}),Q("div",{className:"KatexEquationAlterer_centerRow",children:S?Q("input",{onChange:function(_){f(_.target.value)},value:u,className:"KatexEquationAlterer_textArea"}):Q("textarea",{onChange:function(_){f(_.target.value)},value:u,className:"KatexEquationAlterer_textArea"})}),Q("div",{className:"KatexEquationAlterer_defaultRow",children:"Visualization "}),Q("div",{className:"KatexEquationAlterer_centerRow",children:Q(lF,{equation:u,inline:!1,onClick:function(){}})}),Q("div",{className:"KatexEquationAlterer_dialogActions",children:Q(E0,{onClick:C,children:"Confirm"})})]})}var U4={},goe=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/;function yoe(t){var e=U4[t];if(!t.match(goe))return{preview:null};if(e||(e=U4[t]=fetch("/api/link-preview?url=".concat(encodeURI(t))).then(function(r){return r.json()}).then(function(r){return U4[t]=r,r}).catch(function(){U4[t]={preview:null}})),e instanceof Promise)throw e;return e}function boe(t){var e=t.url,r=yoe(e),n=r.preview;return n===null?null:ut("div",{className:"LinkPreview__container",children:[n.img&&Q("div",{className:"LinkPreview__imageWrapper",children:Q("img",{src:n.img,alt:n.title,className:"LinkPreview__image"})}),n.domain&&Q("div",{className:"LinkPreview__domain",children:n.domain}),n.title&&Q("div",{className:"LinkPreview__title",children:n.title}),n.description&&Q("div",{className:"LinkPreview__description",children:n.description})]})}function L5(t){return Q("div",xt(xt({className:"LinkPreview__glimmer"},t),{},{style:xt({animationDelay:(t.index||0)*300},t.style||{})}))}function woe(t){var e=t.url;return Q(ee.exports.Suspense,{fallback:ut(Qr,{children:[Q(L5,{style:{height:"80px"},index:0}),Q(L5,{style:{width:"60%"},index:1}),Q(L5,{style:{width:"80%"},index:2})]}),children:Q(boe,{url:e})})}var jF="https://platform.twitter.com/widgets.js",xoe=function(){return document.querySelector('script[src="'.concat(jF,'"]'))};function koe(t){var e=t.loadingComponent,r=t.onError,n=t.onLoad,i=t.tweetID,o=ee.exports.useRef(null),u=ee.exports.useRef(null),f=ee.exports.useState(!1),d=Se(f,2),g=d[0],S=d[1],y=ee.exports.useCallback(Ok(regeneratorRuntime.mark(function C(){return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.prev=0,O.next=3,window.twttr.widgets.createTweet(i,o.current);case 3:S(!1),n&&n(),O.next=10;break;case 7:O.prev=7,O.t0=O.catch(0),r&&r(O.t0);case 10:case"end":return O.stop()}},C,null,[[0,7]])})),[r,n,i]);return ee.exports.useEffect(function(){if(i!==u.current){if(S(!0),xoe())y();else{var C=document.createElement("script");C.src=jF,C.async=!0,document.body.appendChild(C),C.onload=y,C.onerror=r}u.current=i}},[y,r,i]),ut(Qr,{children:[g?e:null,Q("div",{ref:o})]})}var h_=function(t){Fr(r,t);var e=zr(r);function r(n,i){var o;return ir(this,r),o=e.call(this,i),o.__id=n,o}return ar(r,[{key:"createDOM",value:function(){return document.createElement("div")}},{key:"updateDOM",value:function(){return!1}},{key:"decorate",value:function(){return Q(koe,{loadingComponent:"Loading...",tweetID:this.__id})}}],[{key:"getType",value:function(){return"tweet"}},{key:"clone",value:function(i){return new r(i.__id,i.__key)}}]),r}(Ju);function _oe(t){return new h_(t)}var FF=er();function Soe(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useEffect(function(){if(!r.hasNodes([h_]))throw new Error("TwitterPlugin: TweetNode not registered on editor");return r.registerCommand(FF,function(n){var i=Ie();if(Pe(i)){var o=i.focus.getNode();if(o!==null){var u=_oe(n);i.focus.getNode().getTopLevelElementOrThrow().insertAfter(u);var f=Ar();u.insertAfter(f),f.select()}}return!0},Nt)},[r]),null}function Coe(t){var e=t.onLoad,r=t.videoID,n=ee.exports.useRef(null);return ee.exports.useEffect(function(){r!==n.current&&(e&&e(),n.current=r)},[e,r]),Q("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/".concat(r),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"YouTube video"})}var p_=function(t){Fr(r,t);var e=zr(r);function r(n,i){var o;return ir(this,r),o=e.call(this,i),o.__id=n,o}return ar(r,[{key:"createDOM",value:function(){return document.createElement("div")}},{key:"updateDOM",value:function(){return!1}},{key:"decorate",value:function(){return Q(Coe,{videoID:this.__id})}}],[{key:"getType",value:function(){return"youtube"}},{key:"clone",value:function(i){return new r(i.__id,i.__key)}}]),r}(Ju);function Eoe(t){return new p_(t)}var zF=er();function Toe(){var t=lr(),e=Se(t,1),r=e[0];return ee.exports.useEffect(function(){if(!r.hasNodes([p_]))throw new Error("YouTubePlugin: YouTubeNode not registered on editor");return r.registerCommand(zF,function(n){var i=Ie();if(Pe(i)){var o=i.focus.getNode();if(o!==null){var u=Eoe(n);i.focus.getNode().getTopLevelElementOrThrow().insertAfter(u);var f=Ar();u.insertAfter(f),f.select()}}return!0},Nt)},[r]),null}var Ooe=new Set(["paragraph","quote","code","h1","h2","h3","ul","ol"]),Aoe={code:"Code Block",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",ol:"Numbered List",paragraph:"Normal",quote:"Quote",ul:"Bulleted List"};function BF(t){var e=t.anchor,r=t.focus,n=t.anchor.getNode(),i=t.focus.getNode();if(n===i)return n;var o=t.isBackward();return o?gw(r)?n:i:gw(e)?i:n}function TI(t,e){e===null?(t.style.opacity="0",t.style.top="-1000px",t.style.left="-1000px"):(t.style.opacity="1",t.style.top="".concat(e.top+e.height+window.pageYOffset+10,"px"),t.style.left="".concat(e.left+window.pageXOffset-t.offsetWidth/2+e.width/2,"px"))}function Ioe(t){var e=t.editor,r=ee.exports.useRef(null),n=ee.exports.useRef(null),i=ee.exports.useRef(!1),o=ee.exports.useState(""),u=Se(o,2),f=u[0],d=u[1],g=ee.exports.useState(!1),S=Se(g,2),y=S[0],C=S[1],b=ee.exports.useState(null),O=Se(b,2),_=O[0],N=O[1],P=ee.exports.useCallback(function(){var M=Ie();if(Pe(M)){var R=BF(M),D=R.getParent();Ao(D)?d(D.getURL()):Ao(R)?d(R.getURL()):d("")}var G=r.current,V=window.getSelection(),J=document.activeElement;if(G!==null){var te=e.getRootElement();if(M!==null&&!V.isCollapsed&&te!==null&&te.contains(V.anchorNode)){var W=V.getRangeAt(0),ce;if(V.anchorNode===te){for(var ie=te;ie.firstElementChild!=null;)ie=ie.firstElementChild;ce=ie.getBoundingClientRect()}else ce=W.getBoundingClientRect();i.current||TI(G,ce),N(M)}else(!J||J.className!=="link-input")&&(TI(G,null),N(null),C(!1),d(""));return!0}},[e]);return ee.exports.useEffect(function(){return gi(e.registerUpdateListener(function(M){var R=M.editorState;R.read(function(){P()})}),e.registerCommand(Pl,function(){return P(),!0},Gn))},[e,P]),ee.exports.useEffect(function(){e.getEditorState().read(function(){P()})},[e,P]),ee.exports.useEffect(function(){y&&n.current&&n.current.focus()},[y]),Q("div",{ref:r,className:"link-editor",children:y?Q("input",{ref:n,className:"link-input",value:f,onChange:function(R){d(R.target.value)},onKeyDown:function(R){R.key==="Enter"?(R.preventDefault(),_!==null&&(f!==""&&e.dispatchCommand(_d,f),C(!1))):R.key==="Escape"&&(R.preventDefault(),C(!1))}}):ut(Qr,{children:[ut("div",{className:"link-input",children:[Q("a",{href:f,target:"_blank",rel:"noopener noreferrer",children:f}),Q("div",{className:"link-edit",role:"button",tabIndex:0,onMouseDown:function(R){return R.preventDefault()},onClick:function(){C(!0)}})]}),Q(woe,{url:f})]})})}function Moe(t){var e=t.activeEditor,r=t.onClose,n=ee.exports.useState("5"),i=Se(n,2),o=i[0],u=i[1],f=ee.exports.useState("5"),d=Se(f,2),g=d[0],S=d[1],y=function(){e.dispatchCommand(VN,{columns:g,rows:o}),r()};return ut(Qr,{children:[Q(g1,{label:"No of rows",onChange:u,value:o}),Q(g1,{label:"No of columns",onChange:S,value:g}),Q("div",{className:"ToolbarPlugin__dialogActions","data-test-id":"table-model-confirm-insert",children:Q(E0,{onClick:y,children:"Confirm"})})]})}function Doe(t){var e=t.activeEditor,r=t.onClose,n=ee.exports.useState(""),i=Se(n,2),o=i[0],u=i[1],f=function(){e.dispatchCommand(NF,o),r()};return ut(Qr,{children:[Q(g1,{label:"Poll Question",onChange:u,value:o}),Q("div",{className:"ToolbarPlugin__dialogActions",children:Q(E0,{disabled:o.trim()==="",onClick:f,children:"Confirm"})})]})}var Poe=/twitter.com\/[0-9a-zA-Z]{1,20}\/status\/([0-9]*)/g;function Loe(t){var e=t.activeEditor,r=t.onClose,n=ee.exports.useState(""),i=Se(n,2),o=i[0],u=i[1],f=function(){var S,y,C,b=(S=o.split("status/"))===null||S===void 0||(y=S[1])===null||y===void 0||(C=y.split("?"))===null||C===void 0?void 0:C[0];e.dispatchCommand(FF,b),r()},d=o===""||!o.match(Poe);return ut(Qr,{children:[Q(g1,{label:"Tweet URL",placeholder:"i.e. https://twitter.com/jack/status/20",onChange:u,value:o}),Q("div",{className:"ToolbarPlugin__dialogActions",children:Q(E0,{disabled:d,onClick:f,children:"Confirm"})})]})}var Noe=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,OI=function(e){var r=e.match(Noe);return(r==null?void 0:r[2].length)===11?r[2]:null};function Roe(t){var e=t.activeEditor,r=t.onClose,n=ee.exports.useState(""),i=Se(n,2),o=i[0],u=i[1],f=function(){var S=OI(o);S&&e.dispatchCommand(zF,S),r()},d=o===""||!OI(o);return ut(Qr,{children:[Q(g1,{label:"YouTube URL",placeholder:"i.e. https://www.youtube.com/watch?v=jNQXAC9IVRw",onChange:u,value:o}),Q("div",{className:"ToolbarPlugin__dialogActions",children:Q(E0,{disabled:d,onClick:f,children:"Confirm"})})]})}function joe(t){var e=t.activeEditor,r=t.onClose,n=ee.exports.useCallback(function(i,o){e.dispatchCommand(uF,{equation:i,inline:o}),r()},[e,r]);return Q(voe,{onConfirm:n})}function Foe(t){var e=t.editor,r=t.blockType,n=function(){r!=="paragraph"&&e.update(function(){var C=Ie();Pe(C)&&Jh(C,function(){return Ar()})})},i=function(){r!=="h1"&&e.update(function(){var C=Ie();Pe(C)&&Jh(C,function(){return Il("h1")})})},o=function(){r!=="h2"&&e.update(function(){var C=Ie();Pe(C)&&Jh(C,function(){return Il("h2")})})},u=function(){r!=="h3"&&e.update(function(){var C=Ie();Pe(C)&&Jh(C,function(){return Il("h3")})})},f=function(){r!=="ul"?e.dispatchCommand(nN):e.dispatchCommand(Q8)},d=function(){r!=="ol"?e.dispatchCommand(iN):e.dispatchCommand(Q8)},g=function(){r!=="quote"&&e.update(function(){var C=Ie();Pe(C)&&Jh(C,function(){return n9()})})},S=function(){r!=="code"&&e.update(function(){var C=Ie();if(Pe(C))if(C.isCollapsed())Jh(C,function(){return Sd()});else{var b=C.getTextContent(),O=Sd();C.removeText(),C.insertNodes([O]),C.insertRawText(b)}})};return ut(w7,{buttonClassName:"toolbar-item block-controls",buttonIconClassName:"icon block-type "+r,buttonLabel:Aoe[r],buttonAriaLabel:"Formatting Options",children:[ut("button",{className:"item",onClick:n,children:[Q("span",{className:"icon paragraph"}),Q("span",{className:"text",children:"Normal"}),r==="paragraph"&&Q("span",{className:"active"})]}),ut("button",{className:"item",onClick:i,children:[Q("span",{className:"icon h1"}),Q("span",{className:"text",children:"Heading 1"}),r==="h1"&&Q("span",{className:"active"})]}),ut("button",{className:"item",onClick:o,children:[Q("span",{className:"icon h2"}),Q("span",{className:"text",children:"Heading 2"}),r==="h2"&&Q("span",{className:"active"})]}),ut("button",{className:"item",onClick:u,children:[Q("span",{className:"icon h3"}),Q("span",{className:"text",children:"Heading 3"}),r==="h3"&&Q("span",{className:"active"})]}),ut("button",{className:"item",onClick:f,children:[Q("span",{className:"icon bullet-list"}),Q("span",{className:"text",children:"Bullet List"}),r==="ul"&&Q("span",{className:"active"})]}),ut("button",{className:"item",onClick:d,children:[Q("span",{className:"icon numbered-list"}),Q("span",{className:"text",children:"Numbered List"}),r==="ol"&&Q("span",{className:"active"})]}),ut("button",{className:"item",onClick:g,children:[Q("span",{className:"icon quote"}),Q("span",{className:"text",children:"Quote"}),r==="quote"&&Q("span",{className:"active"})]}),ut("button",{className:"item",onClick:S,children:[Q("span",{className:"icon code"}),Q("span",{className:"text",children:"Code Block"}),r==="code"&&Q("span",{className:"active"})]})]})}function tp(){return Q("div",{className:"divider"})}function N5(t){var e=t.onChange,r=t.className,n=t.options,i=t.value;return ut("select",{className:r,onChange:e,value:i,children:[Q("option",{hidden:!0,value:""}),n.map(function(o){return Q("option",{value:o,children:o},o)})]})}function zoe(){var t=lr(),e=Se(t,1),r=e[0],n=ee.exports.useState(r),i=Se(n,2),o=i[0],u=i[1],f=ee.exports.useState("paragraph"),d=Se(f,2),g=d[0],S=d[1],y=ee.exports.useState(null),C=Se(y,2),b=C[0],O=C[1],_=ee.exports.useState("15px"),N=Se(_,2),P=N[0],M=N[1],R=ee.exports.useState("Arial"),D=Se(R,2),G=D[0],V=D[1],J=ee.exports.useState(!1),te=Se(J,2),W=te[0],ce=te[1],ie=ee.exports.useState(!1),le=Se(ie,2),pe=le[0],he=le[1],ye=ee.exports.useState(!1),Ee=Se(ye,2),Ne=Ee[0],ge=Ee[1],De=ee.exports.useState(!1),ze=Se(De,2),Ye=ze[0],q=ze[1],A=ee.exports.useState(!1),zt=Se(A,2),Ht=zt[0],Zt=zt[1],Re=ee.exports.useState(!1),we=Se(Re,2),Ke=we[0],yt=we[1],At=ee.exports.useState(!1),kt=Se(At,2),Kt=kt[0],br=kt[1],Jr=ee.exports.useState(!1),rn=Se(Jr,2),mr=rn[0],Vr=rn[1],nn=oj(),ho=Se(nn,2),Qs=ho[0],ya=ho[1],za=ee.exports.useState(!1),ru=Se(za,2),nc=ru[0],li=ru[1],Br=ee.exports.useState(""),nu=Se(Br,2),ic=nu[0],R0=nu[1],iu=ee.exports.useCallback(function(){var Yt=Ie();if(Pe(Yt)){var en=Yt.anchor.getNode(),ba=en.getKey()==="root"?en:en.getTopLevelElementOrThrow(),oc=ba.getKey(),Bd=o.getElementByKey(oc);he(Yt.hasFormat("bold")),ge(Yt.hasFormat("italic")),q(Yt.hasFormat("underline")),Zt(Yt.hasFormat("strikethrough")),yt(Yt.hasFormat("code")),li(pN(Yt));var ou=BF(Yt),Ts=ou.getParent();if(Ao(Ts)||Ao(ou)?ce(!0):ce(!1),Bd!==null)if(O(oc),Zr(ba)){var F0=YL(en,_x),sc=F0?F0.getTag():ba.getTag();S(sc)}else{var Ut=wZ(ba)?ba.getTag():ba.getType();if(S(Ut),pw(ba)){R0(ba.getLanguage()||YX());return}}M(KO(Yt,"font-size","15px")),V(KO(Yt,"font-family","Arial"))}},[o]);ee.exports.useEffect(function(){return r.registerCommand(Pl,function(Yt,en){return iu(),u(en),!1},Ta)},[r,iu]),ee.exports.useEffect(function(){return gi(o.registerUpdateListener(function(Yt){var en=Yt.editorState;en.read(function(){iu()})}),o.registerCommand(wx,function(Yt){return br(Yt),!1},Ta),o.registerCommand(Zk,function(Yt){return Vr(Yt),!1},Ta))},[o,iu]);var au=ee.exports.useCallback(function(Yt){o.update(function(){var en=Ie();Pe(en)&&fZ(en,Yt)})},[o]),Es=ee.exports.useCallback(function(Yt){au({"font-size":Yt.target.value})},[au]),Fd=ee.exports.useCallback(function(Yt){au({"font-family":Yt.target.value})},[au]),j0=ee.exports.useCallback(function(){W?r.dispatchCommand(_d,null):r.dispatchCommand(_d,"https://")},[r,W]),zd=ee.exports.useMemo(function(){return XX()},[]),ac=ee.exports.useCallback(function(Yt){o.update(function(){if(b!==null){var en=Gt(b);pw(en)&&en.setLanguage(Yt.target.value)}})},[o,b]);return ut("div",{className:"toolbar",children:[Q("button",{disabled:!Kt,onClick:function(){o.dispatchCommand(um)},className:"toolbar-item spaced","aria-label":"Undo",children:Q("i",{className:"format undo"})}),Q("button",{disabled:!mr,onClick:function(){o.dispatchCommand(cm)},className:"toolbar-item","aria-label":"Redo",children:Q("i",{className:"format redo"})}),Q(tp,{}),Ooe.has(g)&&o===r&&ut(Qr,{children:[Q(Foe,{blockType:g,editor:r}),Q(tp,{})]}),g==="code"?ut(Qr,{children:[Q(N5,{className:"toolbar-item code-language",onChange:ac,options:zd,value:ic}),Q("i",{className:"chevron-down inside"})]}):ut(Qr,{children:[ut(Qr,{children:[Q(N5,{className:"toolbar-item font-family",onChange:Fd,options:["Arial","Courier New","Georgia","Times New Roman","Trebuchet MS","Verdana"],value:G}),Q("i",{className:"chevron-down inside"})]}),ut(Qr,{children:[Q(N5,{className:"toolbar-item font-size",onChange:Es,options:["10px","11px","12px","13px","14px","15px","16px","17px","18px","19px","20px"],value:P}),Q("i",{className:"chevron-down inside"})]}),Q(tp,{}),Q("button",{onClick:function(){o.dispatchCommand(Ai,"bold")},className:"toolbar-item spaced "+(pe?"active":""),"aria-label":"Format Bold",children:Q("i",{className:"format bold"})}),Q("button",{onClick:function(){o.dispatchCommand(Ai,"italic")},className:"toolbar-item spaced "+(Ne?"active":""),"aria-label":"Format Italics",children:Q("i",{className:"format italic"})}),Q("button",{onClick:function(){o.dispatchCommand(Ai,"underline")},className:"toolbar-item spaced "+(Ye?"active":""),"aria-label":"Format Underline",children:Q("i",{className:"format underline"})}),Q("button",{onClick:function(){o.dispatchCommand(Ai,"strikethrough")},className:"toolbar-item spaced "+(Ht?"active":""),"aria-label":"Format Strikethrough",children:Q("i",{className:"format strikethrough"})}),Q("button",{onClick:function(){o.dispatchCommand(Ai,"code")},className:"toolbar-item spaced "+(Ke?"active":""),"aria-label":"Insert Code",children:Q("i",{className:"format code"})}),Q("button",{onClick:j0,className:"toolbar-item spaced "+(W?"active":""),"aria-label":"Insert Link",children:Q("i",{className:"format link"})}),W&&ma.exports.createPortal(Q(Ioe,{editor:o}),document.body),Q(tp,{}),ut(w7,{buttonClassName:"toolbar-item spaced",buttonLabel:"Insert",buttonIconClassName:"icon plus",children:[ut("button",{onClick:function(){o.dispatchCommand(NN)},className:"item",children:[Q("i",{className:"icon horizontal-rule"}),Q("span",{className:"text",children:"Horizontal Rule"})]}),ut("button",{onClick:function(){o.dispatchCommand(PF)},className:"item",children:[Q("i",{className:"icon image"}),Q("span",{className:"text",children:"Image"})]}),ut("button",{onClick:function(){o.dispatchCommand(dF)},className:"item",children:[Q("i",{className:"icon diagram-2"}),Q("span",{className:"text",children:"Excalidraw"})]}),ut("button",{onClick:function(){ya("Insert Table",function(en){return Q(Moe,{activeEditor:o,onClose:en})})},className:"item",children:[Q("i",{className:"icon table"}),Q("span",{className:"text",children:"Table"})]}),ut("button",{onClick:function(){ya("Insert Poll",function(en){return Q(Doe,{activeEditor:o,onClose:en})})},className:"item",children:[Q("i",{className:"icon poll"}),Q("span",{className:"text",children:"Poll"})]}),ut("button",{onClick:function(){ya("Insert Tweet",function(en){return Q(Loe,{activeEditor:o,onClose:en})})},className:"item",children:[Q("i",{className:"icon tweet"}),Q("span",{className:"text",children:"Tweet"})]}),ut("button",{onClick:function(){ya("Insert YouTube Video",function(en){return Q(Roe,{activeEditor:o,onClose:en})})},className:"item",children:[Q("i",{className:"icon youtube"}),Q("span",{className:"text",children:"YouTube Video"})]}),ut("button",{onClick:function(){ya("Insert Equation",function(en){return Q(joe,{activeEditor:o,onClose:en})})},className:"item",children:[Q("i",{className:"icon equation"}),Q("span",{className:"text",children:"Equation"})]}),ut("button",{onClick:function(){r.update(function(){var en=Tn(),ba=moe(0,0);en.append(ba)})},className:"item",children:[Q("i",{className:"icon sticky"}),Q("span",{className:"text",children:"Sticky Note"})]})]})]}),Q(tp,{}),ut(w7,{buttonLabel:"Align",buttonIconClassName:"icon left-align",buttonClassName:"toolbar-item spaced",children:[ut("button",{onClick:function(){o.dispatchCommand(eg,"left")},className:"item",children:[Q("i",{className:"icon left-align"}),Q("span",{className:"text",children:"Left Align"})]}),ut("button",{onClick:function(){o.dispatchCommand(eg,"center")},className:"item",children:[Q("i",{className:"icon center-align"}),Q("span",{className:"text",children:"Center Align"})]}),ut("button",{onClick:function(){o.dispatchCommand(eg,"right")},className:"item",children:[Q("i",{className:"icon right-align"}),Q("span",{className:"text",children:"Right Align"})]}),ut("button",{onClick:function(){o.dispatchCommand(eg,"justify")},className:"item",children:[Q("i",{className:"icon justify-align"}),Q("span",{className:"text",children:"Justify Align"})]}),Q(tp,{}),ut("button",{onClick:function(){o.dispatchCommand(fd)},className:"item",children:[Q("i",{className:"icon "+(nc?"indent":"outdent")}),Q("span",{className:"text",children:"Outdent"})]}),ut("button",{onClick:function(){o.dispatchCommand(S0)},className:"item",children:[Q("i",{className:"icon "+(nc?"outdent":"indent")}),Q("span",{className:"text",children:"Indent"})]})]}),Qs]})}function Boe(){var t=Tn();if(t.getFirstChild()===null){var e=Il("h1");e.append(gr("Welcome to the playground")),t.append(e);var r=n9();r.append(gr("In case you were wondering what the black box at the bottom is \u2013 it's the debug view, showing the current state of editor. You can hide it by pressing on the settings control in the bottom-right of your screen and toggling the debug view setting.")),t.append(r);var n=Ar();n.append(gr("The playground is a demo environment built with "),gr("@lexical/react").toggleFormat("code"),gr("."),gr(" Try typing in "),gr("some text").toggleFormat("bold"),gr(" with "),gr("different").toggleFormat("italic"),gr(" formats.")),t.append(n);var i=Ar();i.append(gr("Make sure to check out the various plugins in the toolbar. You can also use #hashtags or @-mentions too!")),t.append(i);var o=Ar();o.append(gr("If you'd like to find out more about Lexical, you can:")),t.append(o);var u=ks("ul");u.append(fo().append(gr("Visit the "),Op("https://lexical.dev/").append(gr("Lexical website")),gr(" for documentation and more information.")),fo().append(gr("Check out the code on our "),Op("https://github.com/facebook/lexical").append(gr("GitHub repository")),gr(".")),fo().append(gr("Join our "),Op("https://discord.com/invite/KmG4wQnnD9").append(gr("Discord Server")),gr(" and chat with the team."))),t.append(u);var f=Ar();f.append(gr("Lastly, we're constantly adding cool new features to this playground. So make sure you check back here when you next get a chance :).")),t.append(f)}}function Hoe(){var t=e9(),e=t.historyState,r=xx(),n=r.settings,i=n.isCollab,o=n.isAutocomplete,u=n.isCharLimit,f=n.isCharLimitUtf8,d=n.isRichText,g=n.showTreeView,S=n.emptyEditor,y=i?"Enter some collaborative rich text...":d?"Enter some rich text...":"Enter some plain text...",C=Q(f_,{children:y}),b=ee.exports.useRef(null);return ut(Qr,{children:[d&&Q(zoe,{}),ut("div",{className:"editor-container ".concat(g?"tree-view":""," ").concat(d?"":"plain-text"),ref:b,children:[Q(EX,{}),Q(HX,{}),Q(TF,{}),Q(hj,{}),Q(Lie,{}),Q(oN,{}),Q(kF,{}),Q(Nie,{}),Q(Zte,{}),Q(dre,{}),Q(gre,{}),Q(Oie,{}),Q(TX,{scrollRef:b}),Q(dw,{externalHistoryState:e}),d?ut(Qr,{children:[Q(KN,{contentEditable:Q(Fw,{}),placeholder:C,initialEditorState:i?null:S?void 0:Boe}),Q(TQ,{}),Q(wre,{}),Q(GX,{}),Q(toe,{maxDepth:7}),Q(GN,{}),Q(OF,{}),Q(doe,{}),Q(LF,{}),Q(sN,{}),Q(loe,{}),Q(Soe,{}),Q(Toe,{}),Q(yre,{})]}):ut(Qr,{children:[Q(UN,{contentEditable:Q(Fw,{}),placeholder:C}),Q(dw,{externalHistoryState:e})]}),(u||f)&&Q(BX,{charset:u?"UTF-16":"UTF-8"}),o&&Q(ire,{}),Q(Qte,{isRichText:d})]}),g&&Q(DF,{})]})}var Uoe="/gitnotes/assets/logo.5aefee94.svg",Koe=[i9,_x,kx,xN,Ap,o1,z1,Tx,hw,a1,i1,R1,Sx,Yx,d_,Gx,u_,j9,Vx,qx,wg,jw,RN,h_,p_],Woe=function(e){var r=document.createElement("textarea");r.value=e||"",r.style.position="absolute",r.style.opacity="0",document.body.appendChild(r),r.focus(),r.select();try{var n=document.execCommand("copy");console.log(n)}catch(i){console.error(i)}document.body.removeChild(r)},$oe=function(e,r){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(r||"")),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},qoe=function(e){var r=function(o,u){switch(o){case"click":return"      await page.mouse.click(".concat(u.x,", ").concat(u.y,");");case"press":return"      await page.keyboard.press('".concat(u,"');");case"keydown":return"      await page.keyboard.keydown('".concat(u,"');");case"keyup":return"      await page.keyboard.keyup('".concat(u,"');");case"type":return"      await page.keyboard.type('".concat(u,"');");case"selectAll":return"      await selectAll(page);";case"snapshot":return`      await assertHTMLSnapshot(page);
      await assertSelection(page, {
        anchorPath: [`.concat(u.anchorPath.toString(),`],
        anchorOffset: `).concat(u.anchorOffset,`,
        focusPath: [`).concat(u.focusPath.toString(),`],
        focusOffset: `).concat(u.focusOffset,`,
      });
`);default:return""}},n=r(e.name,e.value);switch(e.count){case 1:return n;case 2:return[n,n].join(`
`);default:return"      await repeat(".concat(e.count,`, async () => {
  `).concat(n,`
      );`)}};function Voe(t){return t.keyCode===65&&(Xl?t.metaKey:t.ctrlKey)}function Goe(t){var e=t.anchorNode,r=t.focusNode,n=t.anchorOffset,i=t.focusOffset;return n!==0&&n--,i!==0&&i--,{anchorNode:e,anchorOffset:n,focusNode:r,focusOffset:i}}function AI(t,e){for(var r=t,n=[];r!==e;){var i,o,u,f;n.unshift(Array.from((i=(o=r)===null||o===void 0||(u=o.parentNode)===null||u===void 0?void 0:u.childNodes)!==null&&i!==void 0?i:[]).indexOf(r)),r=(f=r)===null||f===void 0?void 0:f.parentNode}return n}var II=new Set(["Enter","Backspace","Delete","Escape","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"]);function Yoe(t){var e=ee.exports.useState([]),r=Se(e,2),n=r[0],i=r[1],o=ee.exports.useState(!1),u=Se(o,2),f=u[0],d=u[1],g=ee.exports.useState(""),S=Se(g,2),y=S[1],C=ee.exports.useState(""),b=Se(C,2),O=b[0],_=b[1],N=ee.exports.useRef(null),P=ee.exports.useRef(!1),M=ee.exports.useRef(null),R=ee.exports.useCallback(function(){return t},[t]),D=ee.exports.useCallback(function(){var le=t.getRootElement(),pe=window.getSelection();return le==null||pe==null||pe.anchorNode==null||pe.focusNode==null||!le.contains(pe.anchorNode)||!le.contains(pe.focusNode)?null:`
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

import {
  initializeE2E,
  assertHTMLSnapshot,
  assertSelection,
  repeat,
} from '../utils';
import {selectAll} from '../keyboardShortcuts';

describe('Test case', () => {
  initializeE2E((e2e) => {
    it('Should pass this test', async () => {
      const {page} = e2e;

      await page.focus('div[contenteditable="true"]');
`.concat(n.map(qoe).join(`
`),`
    });
});
    `)},[t,n]),G=ee.exports.useCallback(function(le,pe){i(function(he){var ye=n.length-1,Ee=n[ye];if(Ee&&Ee.name===le){if(le==="type")return[].concat(Rt(n.slice(0,ye)),[xt(xt({},Ee),{},{value:Ee.value+pe})]);if(Ee.value===pe)return[].concat(Rt(n.slice(0,ye)),[xt(xt({},Ee),{},{count:Ee.count+1})])}return[].concat(Rt(he),[{count:1,name:le,value:pe}])})},[n,i]);ws(function(){var le=function(ye){if(!!f){var Ee=ye.key;Voe(ye)?G("selectAll",""):II.has(Ee)?G("press",ye.key):Rt(Ee).length>1?G("keydown",ye.key):G("type",ye.key)}},pe=function(ye){if(!!f){var Ee=ye.key;!II.has(Ee)&&Rt(Ee).length>1&&G("keyup",ye.key)}};return t.registerRootListener(function(he,ye){ye!==null&&(ye.removeEventListener("keydown",le),ye.removeEventListener("keyup",pe)),he!==null&&(he.addEventListener("keydown",le),he.addEventListener("keyup",pe))})},[t,f,G]),ws(function(){M.current&&M.current.scrollTo(0,M.current.scrollHeight)},[D]),ee.exports.useEffect(function(){n&&(_(D()),M.current&&M.current.scrollTo(0,M.current.scrollHeight))},[D,n]),ee.exports.useEffect(function(){var le=t.registerUpdateListener(function(pe){var he=pe.editorState,ye=pe.dirtyLeaves,Ee=pe.dirtyElements;if(!!f){var Ne=he._selection,ge=N.current,De=P.current;if(ge!==Ne){if(ye.size===0&&Ee.size===0&&!De){var ze=window.getSelection();if(ze.anchorNode==null||ze.focusNode==null)return}N.current=Ne}P.current=!1,_(D())}});return le},[t,D,f,G]),ee.exports.useEffect(function(){if(!!f){var le=t.registerUpdateListener(function(){var pe=t.getRootElement();pe!==null&&y(pe==null?void 0:pe.innerHTML)});return le}},[t,f]);var V=ee.exports.useCallback(function(le){f||(le.update(function(){var pe=Tn();pe.clear();var he=gr();pe.append(Ar().append(he)),he.select()}),i([])),d(function(pe){return!pe})},[f]),J=ee.exports.useCallback(function(){if(!!f){var le=window.getSelection();if(!(le.anchorNode==null||le.focusNode==null)){var pe=Goe(le),he=pe.anchorNode,ye=pe.anchorOffset,Ee=pe.focusNode,Ne=pe.focusOffset,ge=AI(he,R().getRootElement()),De=AI(Ee,R().getRootElement());G("snapshot",{anchorNode:he,anchorOffset:ye,anchorPath:ge,focusNode:Ee,focusOffset:Ne,focusPath:De})}}},[G,f,R]),te=ee.exports.useCallback(function(){Woe(D())},[D]),W=ee.exports.useCallback(function(){$oe("test.js",D())},[D]),ce=Q("button",{id:"test-recorder-button",className:"editor-dev-button ".concat(f?"active":""),onClick:function(){return V(R())},title:f?"Disable test recorder":"Enable test recorder"}),ie=f?ut("div",{className:"test-recorder-output",children:[ut("div",{className:"test-recorder-toolbar",children:[Q("button",{className:"test-recorder-button",id:"test-recorder-button-snapshot",title:"Insert snapshot",onClick:J}),Q("button",{className:"test-recorder-button",id:"test-recorder-button-copy",title:"Copy to clipboard",onClick:te}),Q("button",{className:"test-recorder-button",id:"test-recorder-button-download",title:"Download as a file",onClick:W})]}),Q("pre",{id:"test-recorder",ref:M,children:O})]}):null;return[ce,ie]}function Xoe(){var t=lr(),e=Se(t,1),r=e[0],n=Yoe(r),i=Se(n,2),o=i[0],u=i[1];return ut(Qr,{children:[o,u]})}var Zoe=new Set(["insertText","insertCompositionText","insertFromComposition","insertLineBreak","insertParagraph","deleteCompositionText","deleteContentBackward","deleteByComposition","deleteContent","deleteContentForward","deleteWordBackward","deleteWordForward","deleteHardLineBackward","deleteSoftLineBackward","deleteHardLineForward","deleteSoftLineForward"]);function Qoe(){var t=sj();return ee.exports.useEffect(function(){var e=0,r=null,n=[],i=!1,o=function(){r!=null&&(clearTimeout(r),r=null),e=performance.now(),window.setTimeout(function(){if(i){i=!1;return}n.push(performance.now()-e)},0),r=setTimeout(function(){var y=n.reduce(function(b,O){return b+O},0),C="Typing Perf: "+Math.round(y/n.length*100)/100+"ms";t(C),n=[]},2e3)},u=function(y){if(!Zoe.has(y.inputType)||i){i=!1;return}o()},f=function(y){var C=y.keyCode;(C===8||C===13)&&o()},d=function(){i=!0},g=function(){i=!0};return window.addEventListener("keydown",f,!0),window.addEventListener("beforeinput",u,!0),window.addEventListener("paste",d,!0),window.addEventListener("cut",g,!0),function(){window.removeEventListener("keydown",f,!0),window.removeEventListener("beforeinput",u,!0),window.removeEventListener("paste",d,!0),window.removeEventListener("cut",g,!0)}},[t]),null}function Mu(t){var e=t.checked,r=t.onClick,n=t.text,i=t.id,o=ee.exports.useMemo(function(){return"id_"+Math.floor(Math.random()*1e4)},[]);return ut("div",{className:"switch",id:i,children:[Q("label",{htmlFor:o,children:n}),Q("button",{role:"switch","aria-checked":e,id:o,onClick:r,children:Q("span",{})})]})}function Joe(){var t=window.location,e=xx(),r=e.setOption,n=e.settings,i=n.measureTypingPerf,o=n.isCollab,u=n.isRichText,f=n.isCharLimit,d=n.isCharLimitUtf8,g=n.isAutocomplete,S=n.showTreeView,y=n.showNestedEditorTreeView,C=ee.exports.useState(!1),b=Se(C,2),O=b[0],_=b[1],N=ee.exports.useMemo(function(){var D=window.parent,G=t.search,V=D&&D.location.pathname==="/split/";return[V,G]},[t]),P=Se(N,2),M=P[0],R=P[1];return ut(Qr,{children:[Q("button",{id:"options-button",className:"editor-dev-button ".concat(O?"active":""),onClick:function(){return _(!O)}}),O?ut("div",{className:"switches",children:[u&&fw&&Q(Mu,{onClick:function(){r("isCollab",!o),window.location.reload()},checked:o,text:"Collaboration"}),fw&&Q(Mu,{onClick:function(){M?window.parent.location.href="/".concat(R):window.location.href="/split/".concat(R)},checked:M,text:"Split Screen"}),Q(Mu,{onClick:function(){return r("measureTypingPerf",!i)},checked:i,text:"Measure Perf"}),Q(Mu,{onClick:function(){return r("showTreeView",!S)},checked:S,text:"Debug View"}),Q(Mu,{onClick:function(){return r("showNestedEditorTreeView",!y)},checked:y,text:"Nested Editors Debug View"}),Q(Mu,{onClick:function(){r("isRichText",!u),r("isCollab",!1)},checked:u,text:"Rich Text"}),Q(Mu,{onClick:function(){return r("isCharLimit",!f)},checked:f,text:"Char Limit"}),Q(Mu,{onClick:function(){return r("isCharLimitUtf8",!d)},checked:d,text:"Char Limit (UTF-8)"}),Q(Mu,{onClick:function(){return r("isAutocomplete",!g)},checked:g,text:"Autocomplete"})]}):null]})}var MI=new URLSearchParams(window.location.search);for(var R5=0,DI=Object.keys(n1);R5<DI.length;R5++){var K4=DI[R5];if(MI.has(K4))try{var j5,ese=JSON.parse((j5=MI.get(K4))!==null&&j5!==void 0?j5:"true");n1[K4]=Boolean(ese)}catch{console.warn('Unable to parse query parameter "'.concat(K4,'"'))}}n1.disableBeforeInput&&delete window.InputEvent.prototype.getTargetRanges;var tse=function(){var e=xx(),r=e.settings,n=r.measureTypingPerf,i={namespace:"PlaygroundEditor",nodes:Rt(Koe),onError:function(u){throw u},theme:RF};return Q(rX,{initialConfig:i,children:ut(vX,{children:[Q("header",{children:Q("a",{href:"https://lexical.dev",target:"_blank",rel:"noopener",children:Q("img",{src:Uoe,alt:"Lexical Logo"})})}),Q("div",{className:"editor-shell",children:Q(Hoe,{})}),Q(Joe,{}),fw&&Q(Xoe,{}),n&&Q(Qoe,{})]})})},rse=function(){return ut(nX,{children:[Q("h1",{children:"ci deploy test"}),Q(tse,{})]})};const nse=()=>{const t=sx(),[e,r,n]=Tk(t);return console.log({user:e,loading:r,error:n}),ut(Qr,{children:[Q("button",{onClick:()=>Eq(t),children:"Sign out"}),Q(rse,{})]})};var PI=function(){},ise=typeof window!="undefined",ase=function(t,e,r){if(!ise)return[e,PI,PI];if(!t)throw new Error("useLocalStorage key may not be falsy");var n=r?r.raw?function(S){return S}:r.deserializer:JSON.parse,i=ee.exports.useRef(function(S){try{var y=r?r.raw?String:r.serializer:JSON.stringify,C=localStorage.getItem(S);return C!==null?n(C):(e&&localStorage.setItem(S,y(e)),e)}catch{return e}}),o=ee.exports.useState(function(){return i.current(t)}),u=o[0],f=o[1];ee.exports.useLayoutEffect(function(){return f(i.current(t))},[t]);var d=ee.exports.useCallback(function(S){try{var y=typeof S=="function"?S(u):S;if(typeof y=="undefined")return;var C=void 0;r?r.raw?typeof y=="string"?C=y:C=JSON.stringify(y):r.serializer?C=r.serializer(y):C=JSON.stringify(y):C=JSON.stringify(y),localStorage.setItem(t,C),f(n(C))}catch{}},[t,f]),g=ee.exports.useCallback(function(){try{localStorage.removeItem(t),f(void 0)}catch{}},[t,f]);return[u,d,g]},m_=ase,ose="firebase",sse="9.6.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_p(ose,sse,"app");const lse={apiKey:"AIzaSyBr3E9x0Gf0oJQms7HdH642tn16P6qAva4",authDomain:"gitnotes-40a94.firebaseapp.com",projectId:"gitnotes-40a94",storageBucket:"gitnotes-40a94.appspot.com",messagingSenderId:"441539804775",appId:"1:441539804775:web:25e9b80c7d74a523969ec2",measurementId:"G-LMR4N9LXGD"},use=async()=>{try{F$(lse)}catch(t){return console.error(t),t}},cse=async t=>{var o;const e=new Al;e.addScope("repo");const r=await Xq(sx(),e),n=Al.credentialFromResult(r),i=(o=n==null?void 0:n.accessToken)!=null?o:"";i&&t(i)},fse=()=>{const t=tP(),[,e]=m_(v_),r=u=>{e(u),t("/")},{isLoading:n,isError:i,mutate:o}=QK("sign-in-github",()=>cse(r));return{isLoading:n,isError:i,mutate:o}},dse=()=>{const{isLoading:t,isError:e,mutate:r}=fse(),[n,i]=Tk(sx()),[o]=m_(v_);return i?Q(Qr,{children:"Loading..."}):n&&o?Q(vk,{to:"/"}):Q("button",{onClick:()=>r(),children:"Sign in"})},hse=[{path:"/",component:Q(nse,{}),name:"Home Screen",protected:!0},{path:"login",component:Q(dse,{}),name:"Login Screen",protected:!1},{path:"*",component:Q(vk,{to:"/"}),protected:!0}],v_="gitnotes-github-access-token",pse=({children:t})=>{const[e,r,n]=Tk(sx()),[i]=m_(v_);return r||n?null:!e||!i?Q(vk,{to:"login"}):Q(Qr,{children:t})},mse=new $K,vse=()=>Q(XK,{client:mse,children:Q(EW,{basename:"/gitnotes/",children:Q(LW,{children:Q(CW,{children:hse.map((t,e)=>Q(rP,{path:t.path,element:t.protected?Q(pse,{children:t.component}):t.component},e))})})})});use();var HF=function(e){var r=customElements.get("vite-error-overlay");if(!!r){var n=new r(e),i=document.body;i!==null&&i.appendChild(n)}};window.addEventListener("error",HF);window.addEventListener("unhandledrejection",function(t){var e=t.reason;return HF(e)});FD(document.getElementById("root")).render(Q(Oo.StrictMode,{children:Q(vse,{})}));
